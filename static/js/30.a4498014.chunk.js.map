{"version":3,"sources":["components/Course/CourseProgramLessonsPreview.tsx","pages/courses/preview/index.tsx","../node_modules/@escolalms/components/lib/components/molecules/Upload/Upload.js","../node_modules/@escolalms/sdk/lib/services/project.js","../node_modules/@escolalms/components/lib/components/players/ProjectPlayer/ProjectPlayer.js"],"names":["CourseProgramLessonsPreview","_ref","_topic$json","program","_useLessonProgram","useLessonProgram","topic","lesson","onNextTopicPreview","getNextPrevTopic","t","useTranslation","useEffect","window","scrollTo","top","behavior","id","_jsx","React","Fragment","children","className","_jsxs","title","introduction","Col","sm","md","lg","MarkdownRenderer","style","_objectSpread","json","wrapperStyle","CourseProgramContent","preview","isThereAnotherTopic","Number","Row","summary","onClick","CourseSidebar","course","topicId","CourseProgramScorm","_program$scorm","_program$scorm$scos","sco","scorm","scos","find","undefined","entry_url","uuid","iframeRef","useRef","_useState","useState","_useState2","_slicedToArray","height","setHeight","apiUrl","useContext","EscolaLMSContext","_iframeRef$current","_iframeRef$current$co","_iframeRef$current$co2","_iframeRef$current$co3","current","contentWindow","document","body","scrollHeight","concat","ref","src","scrolling","CourseProgram","_program$value","_program$value$scorm","useParams","_useContext2","fetchProgram","loading","Preloader","error","Container","role","message","Link","to","routeRoutes","courses","value","Layout","lessons","length","__makeTemplateObject","this","cooked","raw","Object","defineProperty","__assign","assign","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","exports","Upload","templateObject_1","templateObject_2","jsx_runtime_1","require","react_1","styled_components_1","__1","react_i18next_1","utils_1","utils_2","zIndexTop","StyledDiv","default","_a","theme","getStylesBasedOnTheme","mode","gray1","gray3","cardRadius","UploadIcon","jsx","width","viewBox","fill","xmlns","d","props","onChange","url","buttonTitle","_b","rest","_c","setSrc","onInternalChange","useCallback","target","files","file","reader_1","FileReader","readAsDataURL","onload","toString","onerror","console","log","getUniqueId","jsxs","type","Spin","alt","underline","withTheme","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","op","TypeError","pop","push","__importDefault","removeProject","fetchProjects","addProject","umi_request_1","token","options","formData","FormData","entries","forEach","key","val","append","method","headers","Accept","Authorization","currentTimezone","data","per_page","page","params","project_file_id","__spreadArray","from","pack","ar","l","Array","slice","ProjectPlayer","date_fns_1","react_2","project_1","Button_1","Card_1","Spin_1","Text_1","MarkdownRenderer_1","Upload_1","ProjectPlayerWrapper","div","IconBin","ProjectsList","projects","onDeleteSuccess","onDeleteError","isDeleting","setIsDeleting","onFileDeleteFactory","fileId","warn","prev","catch","finally","filter","map","created_at","Card","Text","format","Date","DATETIME_FORMAT","Button","includes","course_id","onSuccess","onError","setProjects","_d","isUploading","setIsUploading","refreshProjects","topic_id","res","success","err","onProjectFileSelect","currentTarget","description","name","disabled"],"mappings":"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","file":"static/js/30.a4498014.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport CourseProgramContent from \"@/components/Course/CourseProgramContent\";\nimport CourseSidebar from \"@/components/Course/CourseSidebar\";\nimport { useLessonProgram } from \"@/hooks/useLessonProgram\";\nimport { useTranslation } from \"react-i18next\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\nimport { Col, Row } from \"react-grid-system\";\n\nexport const CourseProgramLessonsPreview: React.FC<{\n  program: API.CourseProgram;\n}> = ({ program }) => {\n  const { topic, lesson, onNextTopicPreview, getNextPrevTopic } =\n    useLessonProgram(program, `/courses/preview/`);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, [topic?.id, lesson?.id]);\n\n  return (\n    <React.Fragment>\n      <div className=\"course-program course-program-page\">\n        <div className=\"course-program-container\">\n          <div className=\"course-program-wrapper course-program-wrapper-preview\">\n            <div className=\"course-program-player\">\n              <div className=\"course-program-player-content\">\n                <h2>{topic?.title}</h2>\n                {topic && topic.introduction && (\n                  <Col sm={12} md={12} lg={12}>\n                    <div className=\"container-md\">\n                      <MarkdownRenderer>{topic.introduction}</MarkdownRenderer>\n                    </div>\n                  </Col>\n                )}\n                <div\n                  className=\"course-program-player-content__wrapper\"\n                  style={{\n                    ...((topic?.json?.wrapperStyle as object) || {}),\n                  }}\n                >\n                  <CourseProgramContent\n                    preview={true}\n                    topic={topic}\n                    isThereAnotherTopic={!!getNextPrevTopic(Number(topic?.id))}\n                  />\n                </div>\n              </div>\n\n              <Row>\n                {lesson && lesson.summary && (\n                  <Col sm={12} md={12} lg={12}>\n                    <div className=\"course-program-summary\">\n                      <MarkdownRenderer>{lesson.summary}</MarkdownRenderer>\n                    </div>\n                  </Col>\n                )}\n                {topic && topic.summary && (\n                  <Col sm={12} md={12} lg={12}>\n                    <div className=\"course-program-summary\">\n                      <MarkdownRenderer>{topic.summary}</MarkdownRenderer>\n                      {/* Leave it in case the business changes its mind. */}\n                      {/* {topic && topic.resources && topic.resources?.length > 0 && (\n                        <React.Fragment>\n                          <h3>{t('CourseProgram.TopicAttachment')}</h3>\n                          <div className=\"file-list\">\n                            {topic.resources.map((resource) => (\n                              <a target=\"_blank\" href={resource.url} rel=\"noreferrer\">\n                                {resource.name}\n                              </a>\n                            ))}\n                          </div>\n                        </React.Fragment>\n                      )} */}\n                    </div>\n                  </Col>\n                )}\n              </Row>\n\n              <div className=\"course-program-player-next\">\n                <button\n                  className={`default-btn default-btn-equal`}\n                  onClick={() => onNextTopicPreview()}\n                >\n                  <div className=\"course-program-player-next-button__wrapper\">\n                    {t(\"Next Topic\")} &gt;\n                  </div>\n                  <span></span>\n                </button>\n              </div>\n            </div>\n            <CourseSidebar course={program} topicId={Number(topic?.id)} />\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default CourseProgramLessonsPreview;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { useTranslation } from \"react-i18next\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Preloader from \"@/components/Preloader\";\nimport Layout from \"@/components/_App/Layout\";\n\nimport CourseProgramLessonsPreview from \"@/components/Course/CourseProgramLessonsPreview\";\nimport Container from \"@/components/Container\";\nimport routeRoutes from \"@/components/Routes/routes\";\n\n// TODO: 99% same as: src/pages/course/index.tsx\n\nconst CourseProgramScorm: React.FC<{ program: API.CourseProgram }> = ({\n  program,\n}) => {\n  const sco = program?.scorm?.scos?.find((sco) => sco.entry_url !== undefined);\n  const uuid = sco?.uuid;\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [height, setHeight] = useState(0);\n  const headerAndFooterHeight = 610;\n  const { apiUrl } = useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (iframeRef.current) {\n      setHeight(\n        iframeRef.current?.contentWindow?.document?.body?.scrollHeight || 0\n      );\n    }\n  }, [iframeRef]);\n\n  if (!sco && !uuid) {\n    return <React.Fragment />;\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"container-fluid course-program\">\n        <div\n          className=\"course-program-player scorm\"\n          style={{\n            height: `${headerAndFooterHeight + height}px`,\n          }}\n        >\n          <iframe\n            title={\"scorm-player\"}\n            ref={iframeRef}\n            src={`${apiUrl}/api/scorm/play/${uuid}`}\n            scrolling=\"no\"\n          />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nconst CourseProgram = () => {\n  const { t } = useTranslation();\n\n  const { id } = useParams<{ id: string }>();\n  const { program, fetchProgram } = useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (id) {\n      fetchProgram(Number(id));\n    }\n  }, [id, fetchProgram]);\n\n  if (program.loading) {\n    return <Preloader />;\n  }\n\n  if (program.error) {\n    return (\n      <Container>\n        <div className=\"alert alert-danger\" role=\"alert\">\n          <h4 className=\"alert-heading\">{t(\"Error\")}</h4>\n          <p> {program.error.message || program.error.error}</p>\n          <hr />\n          <p className=\"mb-0\">\n            {t(\"CoursePage.Preview.SeeOther\")}\n            <Link to={routeRoutes.courses}>{t(\"Courses\")}</Link>.\n          </p>\n        </div>\n      </Container>\n    );\n  }\n\n  if (program.value && program?.value?.scorm?.id) {\n    return (\n      <Layout>\n        <CourseProgramScorm program={program.value} />\n      </Layout>\n    );\n  }\n  if (program.value && program.value.lessons && program.value.lessons.length) {\n    return (\n      <Layout>\n        <CourseProgramLessonsPreview program={program.value} />;\n      </Layout>\n    );\n  }\n\n  return <Preloader />;\n};\n\nexport default CourseProgram;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Upload = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar __1 = require(\"../../..\");\nvar react_i18next_1 = require(\"react-i18next\");\nvar utils_1 = require(\"../../../utils/utils\");\nvar utils_2 = require(\"../../../utils/utils\");\nvar zIndexTop = 999;\nvar StyledDiv = (0, styled_components_1.default)(\"div\")(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  text-align: center;\\n  position: relative;\\n  > a {\\n    margin-top: 0.5em;\\n  }\\n  > input {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: \", \";\\n    opacity: 0.001;\\n  }\\n\\n  .wrapper {\\n    width: 100%;\\n    position: relative;\\n    cursor: pointer;\\n    :after {\\n      content: \\\"\\\";\\n      padding-top: 100%;\\n      display: block;\\n    }\\n\\n    .border,\\n    img,\\n    input {\\n      position: absolute;\\n      left: 0;\\n      top: 0;\\n      width: 100%;\\n      height: 100%;\\n    }\\n    img {\\n      display: block;\\n      object-fit: cover;\\n      z-index: \", \";\\n    }\\n    img,\\n    svg {\\n      transition: transform 0.5s ease-out;\\n    }\\n    .border {\\n      overflow: hidden;\\n      border-width: 1px;\\n      opacity: 1;\\n      border: \", \";\\n      border-radius: \", \"px;\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: nowrap;\\n      justify-content: center;\\n      align-items: center;\\n      align-content: center;\\n\\n      > svg {\\n        position: relative;\\n        z-index: \", \";\\n      }\\n    }\\n  }\\n\\n  &:hover {\\n    .wrapper .border > svg {\\n      transform: scale(1.5);\\n      z-index: \", \";\\n    }\\n    img {\\n      transform: scale(1.1);\\n    }\\n    a:after {\\n      transform: scaleX(0);\\n      transform-origin: bottom left;\\n    }\\n  }\\n\"], [\"\\n  width: 100%;\\n  text-align: center;\\n  position: relative;\\n  > a {\\n    margin-top: 0.5em;\\n  }\\n  > input {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: \", \";\\n    opacity: 0.001;\\n  }\\n\\n  .wrapper {\\n    width: 100%;\\n    position: relative;\\n    cursor: pointer;\\n    :after {\\n      content: \\\"\\\";\\n      padding-top: 100%;\\n      display: block;\\n    }\\n\\n    .border,\\n    img,\\n    input {\\n      position: absolute;\\n      left: 0;\\n      top: 0;\\n      width: 100%;\\n      height: 100%;\\n    }\\n    img {\\n      display: block;\\n      object-fit: cover;\\n      z-index: \", \";\\n    }\\n    img,\\n    svg {\\n      transition: transform 0.5s ease-out;\\n    }\\n    .border {\\n      overflow: hidden;\\n      border-width: 1px;\\n      opacity: 1;\\n      border: \", \";\\n      border-radius: \", \"px;\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: nowrap;\\n      justify-content: center;\\n      align-items: center;\\n      align-content: center;\\n\\n      > svg {\\n        position: relative;\\n        z-index: \", \";\\n      }\\n    }\\n  }\\n\\n  &:hover {\\n    .wrapper .border > svg {\\n      transform: scale(1.5);\\n      z-index: \", \";\\n    }\\n    img {\\n      transform: scale(1.1);\\n    }\\n    a:after {\\n      transform: scaleX(0);\\n      transform-origin: bottom left;\\n    }\\n  }\\n\"])), zIndexTop, zIndexTop - 1, function (_a) {\n    var theme = _a.theme;\n    return \"1px solid \".concat((0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.gray1, theme.gray3));\n}, function (_a) {\n    var theme = _a.theme;\n    return theme.cardRadius;\n}, zIndexTop - 2, zIndexTop - 1);\nvar UploadIcon = function () { return ((0, jsx_runtime_1.jsx)(\"svg\", __assign({ width: \"20\", height: \"19\", viewBox: \"0 0 20 19\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, { children: (0, jsx_runtime_1.jsx)(\"path\", { d: \"M20 10.636V17.636C20 17.9012 19.8946 18.1556 19.7071 18.3431C19.5196 18.5306 19.2652 18.636 19 18.636H1C0.734784 18.636 0.48043 18.5306 0.292893 18.3431C0.105357 18.1556 0 17.9012 0 17.636V10.636C0 10.3708 0.105357 10.1164 0.292893 9.92888C0.48043 9.74134 0.734784 9.63599 1 9.63599C1.26522 9.63599 1.51957 9.74134 1.70711 9.92888C1.89464 10.1164 2 10.3708 2 10.636V16.636H18V10.636C18 10.3708 18.1054 10.1164 18.2929 9.92888C18.4804 9.74134 18.7348 9.63599 19 9.63599C19.2652 9.63599 19.5196 9.74134 19.7071 9.92888C19.8946 10.1164 20 10.3708 20 10.636V10.636ZM10 0.635986C9.73478 0.635986 9.48043 0.741343 9.29289 0.928879C9.10536 1.11642 9 1.37077 9 1.63599V5.63599H5C4.73478 5.63599 4.48043 5.74134 4.29289 5.92888C4.10536 6.11642 4 6.37077 4 6.63599C4 6.9012 4.10536 7.15556 4.29289 7.34309C4.48043 7.53063 4.73478 7.63599 5 7.63599H9V11.636C9 11.9012 9.10536 12.1556 9.29289 12.3431C9.48043 12.5306 9.73478 12.636 10 12.636C10.2652 12.636 10.5196 12.5306 10.7071 12.3431C10.8946 12.1556 11 11.9012 11 11.636V7.63599H15C15.2652 7.63599 15.5196 7.53063 15.7071 7.34309C15.8946 7.15556 16 6.9012 16 6.63599C16 6.37077 15.8946 6.11642 15.7071 5.92888C15.5196 5.74134 15.2652 5.63599 15 5.63599H11V1.63599C11 1.37077 10.8946 1.11642 10.7071 0.928879C10.5196 0.741343 10.2652 0.635986 10 0.635986V0.635986Z\", fill: \"#4A4A4A\" }) }))); };\nvar Upload = function (props) {\n    var t = (0, react_i18next_1.useTranslation)().t;\n    var onChange = props.onChange, url = props.url, loading = props.loading, _a = props.buttonTitle, buttonTitle = _a === void 0 ? t(\"Upload.button\") : _a, _b = props.className, className = _b === void 0 ? \"\" : _b, rest = __rest(props, [\"onChange\", \"url\", \"loading\", \"buttonTitle\", \"className\"]);\n    var _c = (0, react_1.useState)(url), src = _c[0], setSrc = _c[1];\n    (0, react_1.useEffect)(function () {\n        setSrc(url);\n    }, [url]);\n    var onInternalChange = (0, react_1.useCallback)(function (e) {\n        if (e.target.files && e.target.files[0]) {\n            var file = e.target.files[0];\n            var reader_1 = new FileReader();\n            reader_1.readAsDataURL(file);\n            reader_1.onload = function () { var _a; return setSrc((_a = reader_1.result) === null || _a === void 0 ? void 0 : _a.toString()); };\n            reader_1.onerror = function (error) { return console.log(\"reading error\", error); };\n        }\n        if (onChange) {\n            onChange(e);\n        }\n    }, []);\n    var id = buttonTitle ? (0, utils_2.getUniqueId)(\"upload\") : null;\n    return ((0, jsx_runtime_1.jsxs)(StyledDiv, __assign({ className: \"wellms-component upload \".concat(className) }, { children: [(0, jsx_runtime_1.jsx)(\"input\", __assign({ type: \"file\" }, rest, { onChange: onInternalChange }, (id\n                ? { \"aria-labelledby\": id }\n                : { \"aria-label\": t(\"Upload.button\") }))), (0, jsx_runtime_1.jsx)(\"div\", __assign({ className: \"wrapper\" }, { children: (0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"border\" }, { children: [loading && (0, jsx_runtime_1.jsx)(__1.Spin, {}), src && (0, jsx_runtime_1.jsx)(\"img\", { src: src, alt: \"Upload preview\" }), (0, jsx_runtime_1.jsx)(UploadIcon, {})] })) })), buttonTitle && ((0, jsx_runtime_1.jsx)(__1.Link, __assign({ underline: true, id: id }, { children: buttonTitle })))] })));\n};\nexports.Upload = Upload;\nexports.default = (0, styled_components_1.withTheme)((0, styled_components_1.default)(exports.Upload)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"]))));\nvar templateObject_1, templateObject_2;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeProject = exports.fetchProjects = exports.addProject = void 0;\nvar umi_request_1 = __importDefault(require(\"umi-request\"));\nvar utils_1 = require(\"../utils\");\nfunction addProject(apiUrl, token, body, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var formData;\n        return __generator(this, function (_a) {\n            formData = new FormData();\n            Object.entries(body).forEach(function (_a) {\n                var key = _a[0], val = _a[1];\n                formData.append(key, val);\n            });\n            return [2 /*return*/, (0, umi_request_1.default)(\"\".concat(apiUrl, \"/api/topic-project-solutions\"), __assign({ method: \"POST\", headers: {\n                        Accept: \"application/json\",\n                        Authorization: \"Bearer \".concat(token),\n                        \"Current-timezone\": (0, utils_1.currentTimezone)(),\n                    }, data: formData }, (options || {})))];\n        });\n    });\n}\nexports.addProject = addProject;\nfunction fetchProjects(apiUrl, token, _a, options) {\n    var per_page = _a.per_page, page = _a.page, params = __rest(_a, [\"per_page\", \"page\"]);\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            return [2 /*return*/, (0, umi_request_1.default)(\"\".concat(apiUrl, \"/api/topic-project-solutions\"), __assign({ method: \"GET\", headers: {\n                        Accept: \"application/json\",\n                        \"Content-Type\": \"application/json\",\n                        Authorization: \"Bearer \".concat(token),\n                        \"Current-timezone\": (0, utils_1.currentTimezone)(),\n                    }, params: __assign({ per_page: per_page !== null && per_page !== void 0 ? per_page : 15, page: page !== null && page !== void 0 ? page : 1 }, params) }, (options || {})))];\n        });\n    });\n}\nexports.fetchProjects = fetchProjects;\nfunction removeProject(apiUrl, token, project_file_id, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, (0, umi_request_1.default)(\"\".concat(apiUrl, \"/api/topic-project-solutions/\").concat(project_file_id), __assign({ method: \"DELETE\", headers: {\n                        Accept: \"application/json\",\n                        \"Content-Type\": \"application/json\",\n                        Authorization: \"Bearer \".concat(token),\n                        \"Current-timezone\": (0, utils_1.currentTimezone)(),\n                    } }, (options || {})))];\n        });\n    });\n}\nexports.removeProject = removeProject;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProjectPlayer = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar react_i18next_1 = require(\"react-i18next\");\nvar date_fns_1 = require(\"date-fns\");\nvar react_2 = require(\"@escolalms/sdk/lib/react\");\nvar project_1 = require(\"@escolalms/sdk/lib/services/project\");\nvar utils_1 = require(\"../../../utils/utils\");\nvar Button_1 = require(\"../../atoms/Button/Button\");\nvar Card_1 = require(\"../../atoms/Card/Card\");\nvar Spin_1 = require(\"../../atoms/Spin/Spin\");\nvar Text_1 = require(\"../../atoms/Typography/Text\");\nvar MarkdownRenderer_1 = require(\"../../molecules/MarkdownRenderer/MarkdownRenderer\");\nvar Upload_1 = require(\"../../molecules/Upload/Upload\");\nvar ProjectPlayerWrapper = styled_components_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  .project-player__upload-input {\\n    margin-bottom: 1em;\\n    .wrapper {\\n      .border img {\\n        display: none;\\n      }\\n\\n      &::after {\\n        padding-top: 0;\\n        aspect-ratio: 16 / 3;\\n      }\\n    }\\n  }\\n\\n  .project-player__projects-list {\\n    display: flex;\\n    flex-wrap: wrap;\\n    gap: 1em;\\n\\n    .project-card {\\n      width: 100%;\\n      max-width: 225px;\\n\\n      .content {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: flex-start;\\n      }\\n    }\\n  }\\n\"], [\"\\n  .project-player__upload-input {\\n    margin-bottom: 1em;\\n    .wrapper {\\n      .border img {\\n        display: none;\\n      }\\n\\n      &::after {\\n        padding-top: 0;\\n        aspect-ratio: 16 / 3;\\n      }\\n    }\\n  }\\n\\n  .project-player__projects-list {\\n    display: flex;\\n    flex-wrap: wrap;\\n    gap: 1em;\\n\\n    .project-card {\\n      width: 100%;\\n      max-width: 225px;\\n\\n      .content {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: flex-start;\\n      }\\n    }\\n  }\\n\"])));\nvar IconBin = function () {\n    return ((0, jsx_runtime_1.jsx)(\"svg\", __assign({ width: \"20\", height: \"20\", viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, { children: (0, jsx_runtime_1.jsx)(\"path\", { d: \"M5 2C5 0.89543 5.89543 0 7 0H13C14.1046 0 15 0.895431 15 2V4H16.9897C16.9959 3.99994 17.0021 3.99994 17.0083 4H19C19.5523 4 20 4.44772 20 5C20 5.55228 19.5523 6 19 6H17.9311L17.0638 18.1425C16.989 19.1891 16.1182 20 15.0689 20H4.93112C3.88184 20 3.01096 19.1891 2.9362 18.1425L2.06888 6H1C0.447715 6 0 5.55228 0 5C0 4.44772 0.447715 4 1 4H2.99174C2.99795 3.99994 3.00414 3.99994 3.01032 4H5V2ZM7 4H13V2H7V4ZM4.07398 6L4.93112 18H15.0689L15.926 6H4.07398ZM8 8C8.55228 8 9 8.44772 9 9V15C9 15.5523 8.55228 16 8 16C7.44772 16 7 15.5523 7 15V9C7 8.44772 7.44772 8 8 8ZM12 8C12.5523 8 13 8.44772 13 9V15C13 15.5523 12.5523 16 12 16C11.4477 16 11 15.5523 11 15V9C11 8.44772 11.4477 8 12 8Z\", fill: \"currentColor\" }) })));\n};\nvar ProjectsList = function (_a) {\n    var projects = _a.projects, onDeleteSuccess = _a.onDeleteSuccess, onDeleteError = _a.onDeleteError, className = _a.className;\n    var t = (0, react_i18next_1.useTranslation)().t;\n    var _b = (0, react_1.useContext)(react_2.EscolaLMSContext), token = _b.token, apiUrl = _b.apiUrl;\n    var _c = (0, react_1.useState)([]), isDeleting = _c[0], setIsDeleting = _c[1];\n    var onFileDeleteFactory = (0, react_1.useCallback)(function (fileId) { return function () {\n        if (!token)\n            return console.warn(\"noToken\");\n        setIsDeleting(function (prev) { return __spreadArray(__spreadArray([], prev, true), [fileId], false); });\n        (0, project_1.removeProject)(apiUrl, token, fileId)\n            .then(function () { return onDeleteSuccess === null || onDeleteSuccess === void 0 ? void 0 : onDeleteSuccess(); })\n            .catch(function () { return onDeleteError === null || onDeleteError === void 0 ? void 0 : onDeleteError(); })\n            .finally(function () {\n            return setIsDeleting(function (prev) { return prev.filter(function (id) { return id !== fileId; }); });\n        });\n    }; }, [token, apiUrl]);\n    return ((0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: className }, { children: [projects.loading && !projects.data.length && (0, jsx_runtime_1.jsx)(Spin_1.Spin, {}), projects.data.map(function (_a, i) {\n                var id = _a.id, created_at = _a.created_at;\n                return ((0, jsx_runtime_1.jsxs)(Card_1.Card, __assign({ className: \"project-card\" }, { children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"project-card__details\" }, { children: [(0, jsx_runtime_1.jsxs)(Text_1.Text, __assign({ className: \"project-card__title\" }, { children: [t(\"ProjectPlayer.ProjectFile\"), \" \".concat(i + 1)] })), (0, jsx_runtime_1.jsx)(Text_1.Text, __assign({ className: \"project-card__date\" }, { children: (0, date_fns_1.format)(new Date(created_at), utils_1.DATETIME_FORMAT) }))] })), (0, jsx_runtime_1.jsx)(Button_1.Button, __assign({ className: \"project-card__delete-btn\", mode: \"icon\", loading: isDeleting.includes(id), onClick: onFileDeleteFactory(id) }, { children: (0, jsx_runtime_1.jsx)(IconBin, {}) }))] }), id));\n            })] })));\n};\nvar ProjectPlayer = function (_a) {\n    var course_id = _a.course_id, topic = _a.topic, onSuccess = _a.onSuccess, onError = _a.onError, className = _a.className;\n    var _b = (0, react_1.useContext)(react_2.EscolaLMSContext), token = _b.token, apiUrl = _b.apiUrl;\n    var _c = (0, react_1.useState)({\n        data: [],\n        loading: false,\n    }), projects = _c[0], setProjects = _c[1];\n    var _d = (0, react_1.useState)(false), isUploading = _d[0], setIsUploading = _d[1];\n    var refreshProjects = (0, react_1.useCallback)(function () {\n        if (!token)\n            return console.error(\"noToken\");\n        setProjects(function (prev) { return (__assign(__assign({}, prev), { loading: true })); });\n        (0, project_1.fetchProjects)(apiUrl, token, { course_id: course_id, topic_id: topic === null || topic === void 0 ? void 0 : topic.id })\n            .then(function (res) {\n            if (res.success) {\n                setProjects(function (prev) { return (__assign(__assign({}, prev), { data: res.data })); });\n            }\n        })\n            .catch(function (err) { return console.warn(err); })\n            .finally(function () { return setProjects(function (prev) { return (__assign(__assign({}, prev), { loading: false })); }); });\n    }, [token, apiUrl, course_id, topic === null || topic === void 0 ? void 0 : topic.id]);\n    (0, react_1.useEffect)(function () {\n        refreshProjects();\n    }, [refreshProjects]);\n    var onProjectFileSelect = (0, react_1.useCallback)(function (e) {\n        var _a;\n        if (!((_a = e.currentTarget.files) === null || _a === void 0 ? void 0 : _a[0]) || !token)\n            return;\n        setIsUploading(true);\n        var body = {\n            topic_id: (topic === null || topic === void 0 ? void 0 : topic.id) + \"\",\n            file: e.currentTarget.files[0],\n        };\n        (0, project_1.addProject)(apiUrl, token, body)\n            .then(function () {\n            refreshProjects();\n            onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        })\n            .catch(function () {\n            onError === null || onError === void 0 ? void 0 : onError();\n        })\n            .finally(function () {\n            setIsUploading(false);\n        });\n    }, [apiUrl, token, topic === null || topic === void 0 ? void 0 : topic.id, refreshProjects]);\n    return ((0, jsx_runtime_1.jsxs)(ProjectPlayerWrapper, __assign({ className: \"wellms-component\" + \" \".concat(className), \"data-testid\": \"project-player\" }, { children: [topic.description && ((0, jsx_runtime_1.jsx)(MarkdownRenderer_1.MarkdownRenderer, __assign({ className: \"project-player__description\" }, { children: topic.description }))), (0, jsx_runtime_1.jsx)(Upload_1.Upload, { className: \"project-player__upload-input\", name: \"project_file\", onChange: onProjectFileSelect, disabled: isUploading }), (0, jsx_runtime_1.jsx)(ProjectsList, { className: \"project-player__projects-list\", projects: projects, onDeleteSuccess: refreshProjects })] })));\n};\nexports.ProjectPlayer = ProjectPlayer;\nexports.default = (0, styled_components_1.withTheme)((0, styled_components_1.default)(exports.ProjectPlayer)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"]))));\nvar templateObject_1, templateObject_2;\n"],"sourceRoot":""}