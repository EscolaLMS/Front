{"version":3,"sources":["components/Course/CourseProgramLessonsPreview.tsx","pages/courses/preview/index.tsx","components/Preloader/index.tsx","../node_modules/@escolalms/components/lib/components/molecules/Upload/Upload.js","hooks/useLessonProgram.ts","components/Course/Players/ScormPlayer.tsx","../node_modules/@escolalms/components/lib/components/players/ProjectPlayer/ProjectPlayer.js","../node_modules/@escolalms/sdk/lib/services/project.js","components/Course/CourseSidebar/index.tsx","components/Course/Players/TextPlayer.tsx","components/Course/CourseProgramContent.tsx"],"names":["CourseProgramLessonsPreview","_ref","_topic$json","program","_useLessonProgram","useLessonProgram","topic","lesson","onNextTopicPreview","getNextPrevTopic","t","useTranslation","useEffect","window","scrollTo","top","behavior","id","_jsx","React","Fragment","children","className","_jsxs","title","introduction","Col","sm","md","lg","MarkdownRenderer","style","_objectSpread","json","wrapperStyle","CourseProgramContent","preview","lessonId","Number","topicId","isThereAnotherTopic","Row","summary","onClick","CourseSidebar","course","CourseProgramScorm","_program$scorm","_program$scorm$scos","sco","scorm","scos","find","undefined","entry_url","uuid","iframeRef","useRef","_useState","useState","_useState2","_slicedToArray","height","setHeight","apiUrl","useContext","EscolaLMSContext","_iframeRef$current","_iframeRef$current$co","_iframeRef$current$co2","_iframeRef$current$co3","current","contentWindow","document","body","scrollHeight","concat","ref","src","scrolling","CourseProgram","_program$value","_program$value$scorm","useParams","_useContext2","fetchProgram","loading","Preloader","error","Container","role","message","Link","to","value","Layout","lessons","length","StyledLoader","styled","div","_templateObject","_taggedTemplateLiteral","theme","mode","dm__background","background","useTheme","overflow","Spin","color","primaryColor","__makeTemplateObject","this","cooked","raw","Object","defineProperty","__assign","assign","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","exports","Upload","templateObject_1","templateObject_2","jsx_runtime_1","require","react_1","styled_components_1","__1","react_i18next_1","utils_1","utils_2","zIndexTop","StyledDiv","default","_a","getStylesBasedOnTheme","gray1","gray3","cardRadius","UploadIcon","jsx","width","viewBox","fill","xmlns","d","props","onChange","url","buttonTitle","_b","rest","_c","setSrc","onInternalChange","useCallback","target","files","file","reader_1","FileReader","readAsDataURL","onload","toString","onerror","console","log","getUniqueId","jsxs","type","alt","underline","withTheme","_program$lessons$","_program$lessons$$top","courseRouteName","_useContext","sendProgress","progress","isNextTopicButtonDisabled","disableNextTopicButton","_useParams","lessonID","topicID","push","useHistory","topics","useMemo","onNextTopic","topic_id","status","then","nextTopic","lesson_id","onPrevTopic","prevTopic","next","fullview","css","_templateObject2","_templateObject3","ScormPlayer","fullView","setFullView","Button","ResizeIcon","__spreadArray","from","pack","ar","l","Array","slice","ProjectPlayer","date_fns_1","react_2","project_1","Button_1","Card_1","Spin_1","Text_1","MarkdownRenderer_1","Upload_1","ProjectPlayerWrapper","IconBin","ProjectsList","projects","onDeleteSuccess","onDeleteError","token","isDeleting","setIsDeleting","onFileDeleteFactory","fileId","warn","prev","removeProject","catch","finally","filter","data","map","created_at","Card","Text","format","Date","DATETIME_FORMAT","includes","course_id","onSuccess","onError","setProjects","_d","isUploading","setIsUploading","refreshProjects","fetchProjects","res","success","err","onProjectFileSelect","currentTarget","addProject","description","name","disabled","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","__generator","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","op","TypeError","pop","__importDefault","umi_request_1","options","formData","FormData","entries","forEach","key","val","append","method","headers","Accept","Authorization","currentTimezone","per_page","page","params","project_file_id","StyledSidebar","aside","isMobile","_ref2","onCourseFinish","courseProgressDetails","history","agendaVisible","setAgendaVisible","_lesson$topics","topicIsFinished","allTopics","item","arrayOfTopics","onCompleteTopic","getCourseProgress","_progress$value$find","courseId","byId","courseProgress","finishedTopics","some","progressItem","CourseAgenda","onNextTopicClick","lIndex","tIndex","mobile","currentTopicId","finishedTopicIds","onMarkFinished","onTopicClick","onCourseFinished","TextPlayerStyles","TextPlayer","onLoad","StyledPdfPlayer","PdfPlayer","_topic$topicable","_program$value$id","_program$value5","_ref$preview","_ref$customNoComplete","customNoCompletedEventsIds","_ref$isThereAnotherTo","topicPing","h5pProgress","_program$value$lesson","_program$value$lesson2","_program$value$lesson3","_program$value2","_program$value3","onXAPI","event","_event$statement","_event$statement$verb","_program$value4","Boolean","statement","String","isTopicFinished","can_skip","ping","interval","setInterval","clearInterval","topicable","topicable_type","API","TopicType","H5P","H5Player","h5pObject","content","OEmbed","_Fragment","OEmbedPlayer","RichText","Video","AudioVideoPlayer","light","onFinish","Image","ImagePlayer","Audio","audio","Pdf","pageConfig","renderMode","Scorm","GiftQuiz","GiftQuizPlayer","Project"],"mappings":"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","file":"static/js/9.772845b8.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport CourseProgramContent from \"@/components/Course/CourseProgramContent\";\nimport CourseSidebar from \"@/components/Course/CourseSidebar\";\nimport { useLessonProgram } from \"../../hooks/useLessonProgram\";\nimport { useTranslation } from \"react-i18next\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\nimport { Col, Row } from \"react-grid-system\";\n\nexport const CourseProgramLessonsPreview: React.FC<{\n  program: API.CourseProgram;\n}> = ({ program }) => {\n  const { topic, lesson, onNextTopicPreview, getNextPrevTopic } =\n    useLessonProgram(program, `/courses/preview/`);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, [topic?.id, lesson?.id]);\n\n  return (\n    <React.Fragment>\n      <div className=\"course-program course-program-page\">\n        <div className=\"course-program-container\">\n          <div className=\"course-program-wrapper course-program-wrapper-preview\">\n            <div className=\"course-program-player\">\n              <div className=\"course-program-player-content\">\n                <h2>{topic?.title}</h2>\n                {topic && topic.introduction && (\n                  <Col sm={12} md={12} lg={12}>\n                    <div className=\"container-md\">\n                      <MarkdownRenderer>{topic.introduction}</MarkdownRenderer>\n                    </div>\n                  </Col>\n                )}\n                <div\n                  className=\"course-program-player-content__wrapper\"\n                  style={{\n                    ...((topic?.json?.wrapperStyle as object) || {}),\n                  }}\n                >\n                  <CourseProgramContent\n                    preview={true}\n                    lessonId={Number(lesson?.id)}\n                    topicId={Number(topic?.id)}\n                    isThereAnotherTopic={!!getNextPrevTopic(Number(topic?.id))}\n                  />\n                </div>\n              </div>\n\n              <Row>\n                {lesson && lesson.summary && (\n                  <Col sm={12} md={12} lg={12}>\n                    <div className=\"course-program-summary\">\n                      <MarkdownRenderer>{lesson.summary}</MarkdownRenderer>\n                    </div>\n                  </Col>\n                )}\n                {topic && topic.summary && (\n                  <Col sm={12} md={12} lg={12}>\n                    <div className=\"course-program-summary\">\n                      <MarkdownRenderer>{topic.summary}</MarkdownRenderer>\n                      {/* Leave it in case the business changes its mind. */}\n                      {/* {topic && topic.resources && topic.resources?.length > 0 && (\n                        <React.Fragment>\n                          <h3>{t('CourseProgram.TopicAttachment')}</h3>\n                          <div className=\"file-list\">\n                            {topic.resources.map((resource) => (\n                              <a target=\"_blank\" href={resource.url} rel=\"noreferrer\">\n                                {resource.name}\n                              </a>\n                            ))}\n                          </div>\n                        </React.Fragment>\n                      )} */}\n                    </div>\n                  </Col>\n                )}\n              </Row>\n\n              <div className=\"course-program-player-next\">\n                <button\n                  className={`default-btn default-btn-equal`}\n                  onClick={() => onNextTopicPreview()}\n                >\n                  <div className=\"course-program-player-next-button__wrapper\">\n                    {t(\"Next Topic\")} &gt;\n                  </div>\n                  <span></span>\n                </button>\n              </div>\n            </div>\n            <CourseSidebar\n              course={program}\n              lessonId={Number(lesson?.id)}\n              topicId={Number(topic?.id)}\n            />\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default CourseProgramLessonsPreview;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { useTranslation } from \"react-i18next\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Preloader from \"@/components/Preloader\";\nimport Layout from \"@/components/_App/Layout\";\n\nimport CourseProgramLessonsPreview from \"@/components/Course/CourseProgramLessonsPreview\";\nimport Container from \"@/components/Container\";\n\n// TODO: 99% same as: src/pages/course/index.tsx\n\nconst CourseProgramScorm: React.FC<{ program: API.CourseProgram }> = ({\n  program,\n}) => {\n  const sco = program?.scorm?.scos?.find((sco) => sco.entry_url !== undefined);\n  const uuid = sco?.uuid;\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [height, setHeight] = useState(0);\n  const headerAndFooterHeight = 610;\n  const { apiUrl } = useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (iframeRef.current) {\n      setHeight(\n        iframeRef.current?.contentWindow?.document?.body?.scrollHeight || 0\n      );\n    }\n  }, [iframeRef]);\n\n  if (!sco && !uuid) {\n    return <React.Fragment />;\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"container-fluid course-program\">\n        <div\n          className=\"course-program-player scorm\"\n          style={{\n            height: `${headerAndFooterHeight + height}px`,\n          }}\n        >\n          <iframe\n            title={\"scorm-player\"}\n            ref={iframeRef}\n            src={`${apiUrl}/api/scorm/play/${uuid}`}\n            scrolling=\"no\"\n          />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nconst CourseProgram = () => {\n  const { t } = useTranslation();\n\n  const { id } = useParams<{ id: string }>();\n  const { program, fetchProgram } = useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (id) {\n      fetchProgram(Number(id));\n    }\n  }, [id, fetchProgram]);\n\n  if (program.loading) {\n    return <Preloader />;\n  }\n\n  if (program.error) {\n    return (\n      <Container>\n        <div className=\"alert alert-danger\" role=\"alert\">\n          <h4 className=\"alert-heading\">{t(\"Error\")}</h4>\n          <p> {program.error.message || program.error.error}</p>\n          <hr />\n          <p className=\"mb-0\">\n            {t(\"CoursePage.Preview.SeeOther\")}\n            <Link to=\"/courses\">{t(\"Courses\")}</Link>.\n          </p>\n        </div>\n      </Container>\n    );\n  }\n\n  if (program.value && program?.value?.scorm?.id) {\n    return (\n      <Layout>\n        <CourseProgramScorm program={program.value} />\n      </Layout>\n    );\n  }\n  if (program.value && program.value.lessons && program.value.lessons.length) {\n    return (\n      <Layout>\n        <CourseProgramLessonsPreview program={program.value} />;\n      </Layout>\n    );\n  }\n\n  return <Preloader />;\n};\n\nexport default CourseProgram;\n","import { useEffect } from \"react\";\nimport { Spin } from \"@escolalms/components/lib/components/atoms/Spin/Spin\";\nimport styled, { useTheme } from \"styled-components\";\n\nconst StyledLoader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) =>\n    theme.mode === \"dark\" ? theme.dm__background : theme.background};\n`;\n\nconst Preloader = () => {\n  const theme = useTheme();\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"inherit\";\n    };\n  }, []);\n\n  return (\n    <StyledLoader>\n      <Spin color={theme.primaryColor} />\n    </StyledLoader>\n  );\n};\n\nexport default Preloader;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Upload = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar __1 = require(\"../../..\");\nvar react_i18next_1 = require(\"react-i18next\");\nvar utils_1 = require(\"../../../utils/utils\");\nvar utils_2 = require(\"../../../utils/utils\");\nvar zIndexTop = 999;\nvar StyledDiv = (0, styled_components_1.default)(\"div\")(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  text-align: center;\\n  position: relative;\\n  > a {\\n    margin-top: 0.5em;\\n  }\\n  > input {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: \", \";\\n    opacity: 0.001;\\n  }\\n\\n  .wrapper {\\n    width: 100%;\\n    position: relative;\\n    cursor: pointer;\\n    :after {\\n      content: \\\"\\\";\\n      padding-top: 100%;\\n      display: block;\\n    }\\n\\n    .border,\\n    img,\\n    input {\\n      position: absolute;\\n      left: 0;\\n      top: 0;\\n      width: 100%;\\n      height: 100%;\\n    }\\n    img {\\n      display: block;\\n      object-fit: cover;\\n      z-index: \", \";\\n    }\\n    img,\\n    svg {\\n      transition: transform 0.5s ease-out;\\n    }\\n    .border {\\n      overflow: hidden;\\n      border-width: 1px;\\n      opacity: 1;\\n      border: \", \";\\n      border-radius: \", \"px;\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: nowrap;\\n      justify-content: center;\\n      align-items: center;\\n      align-content: center;\\n\\n      > svg {\\n        position: relative;\\n        z-index: \", \";\\n      }\\n    }\\n  }\\n\\n  &:hover {\\n    .wrapper .border > svg {\\n      transform: scale(1.5);\\n      z-index: \", \";\\n    }\\n    img {\\n      transform: scale(1.1);\\n    }\\n    a:after {\\n      transform: scaleX(0);\\n      transform-origin: bottom left;\\n    }\\n  }\\n\"], [\"\\n  width: 100%;\\n  text-align: center;\\n  position: relative;\\n  > a {\\n    margin-top: 0.5em;\\n  }\\n  > input {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: \", \";\\n    opacity: 0.001;\\n  }\\n\\n  .wrapper {\\n    width: 100%;\\n    position: relative;\\n    cursor: pointer;\\n    :after {\\n      content: \\\"\\\";\\n      padding-top: 100%;\\n      display: block;\\n    }\\n\\n    .border,\\n    img,\\n    input {\\n      position: absolute;\\n      left: 0;\\n      top: 0;\\n      width: 100%;\\n      height: 100%;\\n    }\\n    img {\\n      display: block;\\n      object-fit: cover;\\n      z-index: \", \";\\n    }\\n    img,\\n    svg {\\n      transition: transform 0.5s ease-out;\\n    }\\n    .border {\\n      overflow: hidden;\\n      border-width: 1px;\\n      opacity: 1;\\n      border: \", \";\\n      border-radius: \", \"px;\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: nowrap;\\n      justify-content: center;\\n      align-items: center;\\n      align-content: center;\\n\\n      > svg {\\n        position: relative;\\n        z-index: \", \";\\n      }\\n    }\\n  }\\n\\n  &:hover {\\n    .wrapper .border > svg {\\n      transform: scale(1.5);\\n      z-index: \", \";\\n    }\\n    img {\\n      transform: scale(1.1);\\n    }\\n    a:after {\\n      transform: scaleX(0);\\n      transform-origin: bottom left;\\n    }\\n  }\\n\"])), zIndexTop, zIndexTop - 1, function (_a) {\n    var theme = _a.theme;\n    return \"1px solid \".concat((0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.gray1, theme.gray3));\n}, function (_a) {\n    var theme = _a.theme;\n    return theme.cardRadius;\n}, zIndexTop - 2, zIndexTop - 1);\nvar UploadIcon = function () { return ((0, jsx_runtime_1.jsx)(\"svg\", __assign({ width: \"20\", height: \"19\", viewBox: \"0 0 20 19\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, { children: (0, jsx_runtime_1.jsx)(\"path\", { d: \"M20 10.636V17.636C20 17.9012 19.8946 18.1556 19.7071 18.3431C19.5196 18.5306 19.2652 18.636 19 18.636H1C0.734784 18.636 0.48043 18.5306 0.292893 18.3431C0.105357 18.1556 0 17.9012 0 17.636V10.636C0 10.3708 0.105357 10.1164 0.292893 9.92888C0.48043 9.74134 0.734784 9.63599 1 9.63599C1.26522 9.63599 1.51957 9.74134 1.70711 9.92888C1.89464 10.1164 2 10.3708 2 10.636V16.636H18V10.636C18 10.3708 18.1054 10.1164 18.2929 9.92888C18.4804 9.74134 18.7348 9.63599 19 9.63599C19.2652 9.63599 19.5196 9.74134 19.7071 9.92888C19.8946 10.1164 20 10.3708 20 10.636V10.636ZM10 0.635986C9.73478 0.635986 9.48043 0.741343 9.29289 0.928879C9.10536 1.11642 9 1.37077 9 1.63599V5.63599H5C4.73478 5.63599 4.48043 5.74134 4.29289 5.92888C4.10536 6.11642 4 6.37077 4 6.63599C4 6.9012 4.10536 7.15556 4.29289 7.34309C4.48043 7.53063 4.73478 7.63599 5 7.63599H9V11.636C9 11.9012 9.10536 12.1556 9.29289 12.3431C9.48043 12.5306 9.73478 12.636 10 12.636C10.2652 12.636 10.5196 12.5306 10.7071 12.3431C10.8946 12.1556 11 11.9012 11 11.636V7.63599H15C15.2652 7.63599 15.5196 7.53063 15.7071 7.34309C15.8946 7.15556 16 6.9012 16 6.63599C16 6.37077 15.8946 6.11642 15.7071 5.92888C15.5196 5.74134 15.2652 5.63599 15 5.63599H11V1.63599C11 1.37077 10.8946 1.11642 10.7071 0.928879C10.5196 0.741343 10.2652 0.635986 10 0.635986V0.635986Z\", fill: \"#4A4A4A\" }) }))); };\nvar Upload = function (props) {\n    var t = (0, react_i18next_1.useTranslation)().t;\n    var onChange = props.onChange, url = props.url, loading = props.loading, _a = props.buttonTitle, buttonTitle = _a === void 0 ? t(\"Upload.button\") : _a, _b = props.className, className = _b === void 0 ? \"\" : _b, rest = __rest(props, [\"onChange\", \"url\", \"loading\", \"buttonTitle\", \"className\"]);\n    var _c = (0, react_1.useState)(url), src = _c[0], setSrc = _c[1];\n    (0, react_1.useEffect)(function () {\n        setSrc(url);\n    }, [url]);\n    var onInternalChange = (0, react_1.useCallback)(function (e) {\n        if (e.target.files && e.target.files[0]) {\n            var file = e.target.files[0];\n            var reader_1 = new FileReader();\n            reader_1.readAsDataURL(file);\n            reader_1.onload = function () { var _a; return setSrc((_a = reader_1.result) === null || _a === void 0 ? void 0 : _a.toString()); };\n            reader_1.onerror = function (error) { return console.log(\"reading error\", error); };\n        }\n        if (onChange) {\n            onChange(e);\n        }\n    }, []);\n    var id = buttonTitle ? (0, utils_2.getUniqueId)(\"upload\") : null;\n    return ((0, jsx_runtime_1.jsxs)(StyledDiv, __assign({ className: \"wellms-component upload \".concat(className) }, { children: [(0, jsx_runtime_1.jsx)(\"input\", __assign({ type: \"file\" }, rest, { onChange: onInternalChange }, (id\n                ? { \"aria-labelledby\": id }\n                : { \"aria-label\": t(\"Upload.button\") }))), (0, jsx_runtime_1.jsx)(\"div\", __assign({ className: \"wrapper\" }, { children: (0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"border\" }, { children: [loading && (0, jsx_runtime_1.jsx)(__1.Spin, {}), src && (0, jsx_runtime_1.jsx)(\"img\", { src: src, alt: \"Upload preview\" }), (0, jsx_runtime_1.jsx)(UploadIcon, {})] })) })), buttonTitle && ((0, jsx_runtime_1.jsx)(__1.Link, __assign({ underline: true, id: id }, { children: buttonTitle })))] })));\n};\nexports.Upload = Upload;\nexports.default = (0, styled_components_1.withTheme)((0, styled_components_1.default)(exports.Upload)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"]))));\nvar templateObject_1, templateObject_2;\n","import { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useCallback, useContext, useMemo, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nexport function useLessonProgram(\n  program: API.CourseProgram,\n  courseRouteName: string = \"/course/\"\n) {\n  const { sendProgress, getNextPrevTopic, progress } =\n    useContext(EscolaLMSContext);\n  const [isNextTopicButtonDisabled, disableNextTopicButton] = useState(false);\n  const { lessonID, topicID } =\n    useParams<{ lessonID: string; topicID: string }>();\n  const { push } = useHistory();\n\n  const lessonId = lessonID ? lessonID : program.lessons[0].id;\n  const topicId = topicID\n    ? topicID\n    : (program &&\n        program.lessons &&\n        program.lessons[0] &&\n        program.lessons[0].topics &&\n        program?.lessons[0]?.topics[0]?.id) ||\n      0;\n\n  const lesson: API.Lesson | undefined = useMemo(\n    () => program.lessons.find((lesson) => lesson.id === Number(lessonId)),\n    [program, lessonId]\n  );\n\n  const topic: API.Topic | undefined = useMemo(\n    () =>\n      lesson &&\n      lesson.topics &&\n      lesson.topics.find((topic) => topic.id === Number(topicId)),\n    [lesson, topicId]\n  );\n\n  const onNextTopic = useCallback(() => {\n    program.id &&\n      sendProgress(program.id, [{ topic_id: Number(topicId), status: 1 }]).then(\n        () => {\n          const nextTopic = getNextPrevTopic(Number(topicId));\n\n          nextTopic &&\n            push(\n              `${courseRouteName}${program.id}/${nextTopic.lesson_id}/${nextTopic.id}`,\n              null\n            );\n        }\n      );\n  }, [topicId, program, push, getNextPrevTopic, sendProgress, courseRouteName]);\n  const onPrevTopic = useCallback(() => {\n    program.id &&\n      sendProgress(program.id, [{ topic_id: Number(topicId), status: 1 }]).then(\n        () => {\n          const prevTopic = getNextPrevTopic(Number(topicId), false);\n\n          prevTopic &&\n            push(\n              `${courseRouteName}${program.id}/${prevTopic.lesson_id}/${prevTopic.id}`,\n              null\n            );\n        }\n      );\n  }, [topicId, program, push, getNextPrevTopic, sendProgress, courseRouteName]);\n\n  const onNextTopicPreview = useCallback(\n    (next = true) => {\n      const nextTopic = getNextPrevTopic(Number(topicId), next);\n\n      nextTopic &&\n        push(\n          `${courseRouteName}${program.id}/${nextTopic?.lesson_id}/${nextTopic?.id}`\n        );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [lessonId, topicId, program, program.id, push, courseRouteName]\n  );\n\n  return {\n    topic,\n    lesson,\n    onNextTopic,\n    onPrevTopic,\n    getNextPrevTopic,\n    isNextTopicButtonDisabled,\n    disableNextTopicButton,\n    onNextTopicPreview,\n    sendProgress,\n    progress,\n  } as const;\n}\n","import React, {\n  ReactElement,\n  FunctionComponent,\n  useContext,\n  useState,\n} from \"react\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport styled, { css } from \"styled-components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ResizeIcon } from \"../../../icons\";\n\nconst StyledDiv = styled.div<{ fullview: boolean }>`\n  > button {\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    z-index: 9999;\n    svg path {\n      fill: white;\n    }\n  }\n  iframe {\n    border: none;\n    display: block;\n    width: 100%;\n  }\n  ${(props) => {\n    if (props.fullview) {\n      return css`\n        iframe {\n          position: fixed;\n          top: 90px;\n          left: 0;\n          height: calc(100% - 90px - 80px);\n\n          z-index: 9999;\n        }\n      `;\n    } else {\n      return css`\n        display: flex;\n\n        min-height: 80vh;\n        max-height: 80vh;\n        height: 100vh;\n        iframe {\n          height: 100%;\n        }\n      `;\n    }\n  }}\n`;\n\ninterface ScormPlayerProps {\n  title: string;\n  uuid: string;\n}\n\nconst ScormPlayer: FunctionComponent<{\n  value: ScormPlayerProps;\n}> = ({ value }): ReactElement => {\n  const { apiUrl } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const [fullView, setFullView] = useState(false);\n\n  return (\n    <div className=\"scorm-wrapper\">\n      <StyledDiv fullview={fullView}>\n        <Button onClick={() => setFullView(!fullView)}>\n          {\" \"}\n          {t(\"Scorm.Resize\")} <ResizeIcon />\n        </Button>\n        <iframe\n          title={value.title}\n          src={`${apiUrl}/api/scorm/play/${value.uuid}`}\n        />\n      </StyledDiv>\n    </div>\n  );\n};\n\nexport default ScormPlayer;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProjectPlayer = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar react_i18next_1 = require(\"react-i18next\");\nvar date_fns_1 = require(\"date-fns\");\nvar react_2 = require(\"@escolalms/sdk/lib/react\");\nvar project_1 = require(\"@escolalms/sdk/lib/services/project\");\nvar utils_1 = require(\"../../../utils/utils\");\nvar Button_1 = require(\"../../atoms/Button/Button\");\nvar Card_1 = require(\"../../atoms/Card/Card\");\nvar Spin_1 = require(\"../../atoms/Spin/Spin\");\nvar Text_1 = require(\"../../atoms/Typography/Text\");\nvar MarkdownRenderer_1 = require(\"../../molecules/MarkdownRenderer/MarkdownRenderer\");\nvar Upload_1 = require(\"../../molecules/Upload/Upload\");\nvar ProjectPlayerWrapper = styled_components_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  .project-player__upload-input {\\n    margin-bottom: 1em;\\n    .wrapper {\\n      .border img {\\n        display: none;\\n      }\\n\\n      &::after {\\n        padding-top: 0;\\n        aspect-ratio: 16 / 3;\\n      }\\n    }\\n  }\\n\\n  .project-player__projects-list {\\n    display: flex;\\n    flex-wrap: wrap;\\n    gap: 1em;\\n\\n    .project-card {\\n      width: 100%;\\n      max-width: 225px;\\n\\n      .content {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: flex-start;\\n      }\\n    }\\n  }\\n\"], [\"\\n  .project-player__upload-input {\\n    margin-bottom: 1em;\\n    .wrapper {\\n      .border img {\\n        display: none;\\n      }\\n\\n      &::after {\\n        padding-top: 0;\\n        aspect-ratio: 16 / 3;\\n      }\\n    }\\n  }\\n\\n  .project-player__projects-list {\\n    display: flex;\\n    flex-wrap: wrap;\\n    gap: 1em;\\n\\n    .project-card {\\n      width: 100%;\\n      max-width: 225px;\\n\\n      .content {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: flex-start;\\n      }\\n    }\\n  }\\n\"])));\nvar IconBin = function () {\n    return ((0, jsx_runtime_1.jsx)(\"svg\", __assign({ width: \"20\", height: \"20\", viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, { children: (0, jsx_runtime_1.jsx)(\"path\", { d: \"M5 2C5 0.89543 5.89543 0 7 0H13C14.1046 0 15 0.895431 15 2V4H16.9897C16.9959 3.99994 17.0021 3.99994 17.0083 4H19C19.5523 4 20 4.44772 20 5C20 5.55228 19.5523 6 19 6H17.9311L17.0638 18.1425C16.989 19.1891 16.1182 20 15.0689 20H4.93112C3.88184 20 3.01096 19.1891 2.9362 18.1425L2.06888 6H1C0.447715 6 0 5.55228 0 5C0 4.44772 0.447715 4 1 4H2.99174C2.99795 3.99994 3.00414 3.99994 3.01032 4H5V2ZM7 4H13V2H7V4ZM4.07398 6L4.93112 18H15.0689L15.926 6H4.07398ZM8 8C8.55228 8 9 8.44772 9 9V15C9 15.5523 8.55228 16 8 16C7.44772 16 7 15.5523 7 15V9C7 8.44772 7.44772 8 8 8ZM12 8C12.5523 8 13 8.44772 13 9V15C13 15.5523 12.5523 16 12 16C11.4477 16 11 15.5523 11 15V9C11 8.44772 11.4477 8 12 8Z\", fill: \"currentColor\" }) })));\n};\nvar ProjectsList = function (_a) {\n    var projects = _a.projects, onDeleteSuccess = _a.onDeleteSuccess, onDeleteError = _a.onDeleteError, className = _a.className;\n    var t = (0, react_i18next_1.useTranslation)().t;\n    var _b = (0, react_1.useContext)(react_2.EscolaLMSContext), token = _b.token, apiUrl = _b.apiUrl;\n    var _c = (0, react_1.useState)([]), isDeleting = _c[0], setIsDeleting = _c[1];\n    var onFileDeleteFactory = (0, react_1.useCallback)(function (fileId) { return function () {\n        if (!token)\n            return console.warn(\"noToken\");\n        setIsDeleting(function (prev) { return __spreadArray(__spreadArray([], prev, true), [fileId], false); });\n        (0, project_1.removeProject)(apiUrl, token, fileId)\n            .then(function () { return onDeleteSuccess === null || onDeleteSuccess === void 0 ? void 0 : onDeleteSuccess(); })\n            .catch(function () { return onDeleteError === null || onDeleteError === void 0 ? void 0 : onDeleteError(); })\n            .finally(function () {\n            return setIsDeleting(function (prev) { return prev.filter(function (id) { return id !== fileId; }); });\n        });\n    }; }, [token, apiUrl]);\n    return ((0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: className }, { children: [projects.loading && !projects.data.length && (0, jsx_runtime_1.jsx)(Spin_1.Spin, {}), projects.data.map(function (_a, i) {\n                var id = _a.id, created_at = _a.created_at;\n                return ((0, jsx_runtime_1.jsxs)(Card_1.Card, __assign({ className: \"project-card\" }, { children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"project-card__details\" }, { children: [(0, jsx_runtime_1.jsxs)(Text_1.Text, __assign({ className: \"project-card__title\" }, { children: [t(\"ProjectPlayer.ProjectFile\"), \" \".concat(i + 1)] })), (0, jsx_runtime_1.jsx)(Text_1.Text, __assign({ className: \"project-card__date\" }, { children: (0, date_fns_1.format)(new Date(created_at), utils_1.DATETIME_FORMAT) }))] })), (0, jsx_runtime_1.jsx)(Button_1.Button, __assign({ className: \"project-card__delete-btn\", mode: \"icon\", loading: isDeleting.includes(id), onClick: onFileDeleteFactory(id) }, { children: (0, jsx_runtime_1.jsx)(IconBin, {}) }))] }), id));\n            })] })));\n};\nvar ProjectPlayer = function (_a) {\n    var course_id = _a.course_id, topic = _a.topic, onSuccess = _a.onSuccess, onError = _a.onError, className = _a.className;\n    var _b = (0, react_1.useContext)(react_2.EscolaLMSContext), token = _b.token, apiUrl = _b.apiUrl;\n    var _c = (0, react_1.useState)({\n        data: [],\n        loading: false,\n    }), projects = _c[0], setProjects = _c[1];\n    var _d = (0, react_1.useState)(false), isUploading = _d[0], setIsUploading = _d[1];\n    var refreshProjects = (0, react_1.useCallback)(function () {\n        if (!token)\n            return console.error(\"noToken\");\n        setProjects(function (prev) { return (__assign(__assign({}, prev), { loading: true })); });\n        (0, project_1.fetchProjects)(apiUrl, token, { course_id: course_id, topic_id: topic === null || topic === void 0 ? void 0 : topic.id })\n            .then(function (res) {\n            if (res.success) {\n                setProjects(function (prev) { return (__assign(__assign({}, prev), { data: res.data })); });\n            }\n        })\n            .catch(function (err) { return console.warn(err); })\n            .finally(function () { return setProjects(function (prev) { return (__assign(__assign({}, prev), { loading: false })); }); });\n    }, [token, apiUrl, course_id, topic === null || topic === void 0 ? void 0 : topic.id]);\n    (0, react_1.useEffect)(function () {\n        refreshProjects();\n    }, [refreshProjects]);\n    var onProjectFileSelect = (0, react_1.useCallback)(function (e) {\n        var _a;\n        if (!((_a = e.currentTarget.files) === null || _a === void 0 ? void 0 : _a[0]) || !token)\n            return;\n        setIsUploading(true);\n        var body = {\n            topic_id: (topic === null || topic === void 0 ? void 0 : topic.id) + \"\",\n            file: e.currentTarget.files[0],\n        };\n        (0, project_1.addProject)(apiUrl, token, body)\n            .then(function () {\n            refreshProjects();\n            onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        })\n            .catch(function () {\n            onError === null || onError === void 0 ? void 0 : onError();\n        })\n            .finally(function () {\n            setIsUploading(false);\n        });\n    }, [apiUrl, token, topic === null || topic === void 0 ? void 0 : topic.id, refreshProjects]);\n    return ((0, jsx_runtime_1.jsxs)(ProjectPlayerWrapper, __assign({ className: \"wellms-component\" + \" \".concat(className), \"data-testid\": \"project-player\" }, { children: [topic.description && ((0, jsx_runtime_1.jsx)(MarkdownRenderer_1.MarkdownRenderer, __assign({ className: \"project-player__description\" }, { children: topic.description }))), (0, jsx_runtime_1.jsx)(Upload_1.Upload, { className: \"project-player__upload-input\", name: \"project_file\", onChange: onProjectFileSelect, disabled: isUploading }), (0, jsx_runtime_1.jsx)(ProjectsList, { className: \"project-player__projects-list\", projects: projects, onDeleteSuccess: refreshProjects })] })));\n};\nexports.ProjectPlayer = ProjectPlayer;\nexports.default = (0, styled_components_1.withTheme)((0, styled_components_1.default)(exports.ProjectPlayer)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"]))));\nvar templateObject_1, templateObject_2;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeProject = exports.fetchProjects = exports.addProject = void 0;\nvar umi_request_1 = __importDefault(require(\"umi-request\"));\nvar utils_1 = require(\"../utils\");\nfunction addProject(apiUrl, token, body, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var formData;\n        return __generator(this, function (_a) {\n            formData = new FormData();\n            Object.entries(body).forEach(function (_a) {\n                var key = _a[0], val = _a[1];\n                formData.append(key, val);\n            });\n            return [2 /*return*/, (0, umi_request_1.default)(\"\".concat(apiUrl, \"/api/topic-project-solutions\"), __assign({ method: \"POST\", headers: {\n                        Accept: \"application/json\",\n                        Authorization: \"Bearer \".concat(token),\n                        \"Current-timezone\": (0, utils_1.currentTimezone)(),\n                    }, data: formData }, (options || {})))];\n        });\n    });\n}\nexports.addProject = addProject;\nfunction fetchProjects(apiUrl, token, _a, options) {\n    var per_page = _a.per_page, page = _a.page, params = __rest(_a, [\"per_page\", \"page\"]);\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            return [2 /*return*/, (0, umi_request_1.default)(\"\".concat(apiUrl, \"/api/topic-project-solutions\"), __assign({ method: \"GET\", headers: {\n                        Accept: \"application/json\",\n                        \"Content-Type\": \"application/json\",\n                        Authorization: \"Bearer \".concat(token),\n                        \"Current-timezone\": (0, utils_1.currentTimezone)(),\n                    }, params: __assign({ per_page: per_page !== null && per_page !== void 0 ? per_page : 15, page: page !== null && page !== void 0 ? page : 1 }, params) }, (options || {})))];\n        });\n    });\n}\nexports.fetchProjects = fetchProjects;\nfunction removeProject(apiUrl, token, project_file_id, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, (0, umi_request_1.default)(\"\".concat(apiUrl, \"/api/topic-project-solutions/\").concat(project_file_id), __assign({ method: \"DELETE\", headers: {\n                        Accept: \"application/json\",\n                        \"Content-Type\": \"application/json\",\n                        Authorization: \"Bearer \".concat(token),\n                        \"Current-timezone\": (0, utils_1.currentTimezone)(),\n                    } }, (options || {})))];\n        });\n    });\n}\nexports.removeProject = removeProject;\n","import React, { useCallback, useContext, useState, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { CourseAgenda } from \"@escolalms/components/lib/components/organisms/CourseAgenda/CourseAgenda\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useHistory } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport styled, { css } from \"styled-components\";\nimport { useLessonProgram } from \"../../../hooks/useLessonProgram\";\nimport { Button } from \"@escolalms/components\";\nimport { t } from \"i18next\";\nimport { Topic } from \"@escolalms/sdk/lib/types/api\";\n\nconst StyledSidebar = styled.aside`\n  padding-bottom: 100px;\n  .show-agenda-btn {\n    width: 100%;\n  }\n  .agenda-wrapper {\n    ${isMobile &&\n    css`\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      transform: translate(100%, 0);\n      transition: transform 0.25s;\n      overflow: scroll;\n      padding: 40px 0 55px;\n      z-index: 10;\n      background-color: ${({ theme }) =>\n        theme.mode === \"dark\" ? theme.dm__background : theme.background};\n      &--visible {\n        transform: translate(0, 0);\n      }\n      .hide-agenda-btn {\n        display: block;\n        margin: 0 15px 0 auto;\n      }\n    `}\n  }\n`;\n\nexport const CourseSidebar: React.FC<{\n  course: API.CourseProgram;\n  lessonId: number;\n  topicId: number;\n  onCourseFinish?: () => void;\n}> = ({ course, lessonId, topicId, onCourseFinish }) => {\n  const { disableNextTopicButton, sendProgress, progress } =\n    useLessonProgram(course);\n  const { courseProgressDetails } = useContext(EscolaLMSContext);\n\n  const history = useHistory();\n  const [agendaVisible, setAgendaVisible] = useState(false);\n  const program = (course?.lessons || []).filter(\n    (lesson) => lesson && lesson.topics && lesson?.topics?.length > 0\n  ) as API.Lesson[];\n  const { topicIsFinished } = useContext(EscolaLMSContext);\n  const allTopics = course.lessons.map((item) => item.topics);\n  //@ts-ignore\n  const arrayOfTopics = [].concat.apply([], allTopics);\n\n  const onCompleteTopic = useCallback((): void => {\n    disableNextTopicButton && disableNextTopicButton(false);\n    if (course?.id) {\n      sendProgress(course?.id, [{ topic_id: Number(topicId), status: 1 }]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [program, topicId, disableNextTopicButton, sendProgress]);\n\n  const getCourseProgress = useMemo(() => {\n    const courseId = course.id;\n    if (\n      courseProgressDetails &&\n      courseProgressDetails.byId &&\n      courseProgressDetails.byId[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      return courseProgressDetails.byId[Number(courseId)].value;\n    }\n    return (\n      progress &&\n      progress.value &&\n      progress.value.find(\n        (courseProgress: API.CourseProgressItem) =>\n          courseProgress.course.id === Number(courseId)\n      )?.progress\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [progress, course]);\n\n  const finishedTopics = arrayOfTopics\n    .filter((item: API.Topic) => {\n      return (\n        topicIsFinished(item.id) ||\n        getCourseProgress?.some(\n          (progressItem) =>\n            progressItem.topic_id === item.id && progressItem.status === 1\n        )\n      );\n    })\n    .map((item: API.Topic) => item.id);\n\n  if (!course && !program) {\n    return <React.Fragment />;\n  }\n  return (\n    <StyledSidebar>\n      {isMobile && (\n        <Button\n          mode=\"outline\"\n          className=\"show-agenda-btn\"\n          onClick={() => setAgendaVisible(true)}\n        >\n          {t(\"CourseProgram.ShowAgenda\")}\n        </Button>\n      )}\n      <div\n        className={`${\n          agendaVisible\n            ? \"agenda-wrapper agenda-wrapper--visible\"\n            : \"agenda-wrapper\"\n        }`}\n      >\n        {isMobile && (\n          <Button\n            className=\"hide-agenda-btn\"\n            mode=\"secondary\"\n            onClick={() => setAgendaVisible(false)}\n          >\n            &#10005;\n          </Button>\n        )}\n        <CourseAgenda\n          onNextTopicClick={() => {\n            let nextTopic;\n\n            course.lessons.forEach((lesson, lIndex, lessons) => {\n              lesson.topics &&\n                lesson.topics.forEach((topic, tIndex) => {\n                  if (topic.id === topicId) {\n                    // try find next topic in current lesson\n                    if (lesson.topics && lesson.topics[tIndex + 1]) {\n                      nextTopic =\n                        lesson.topics[tIndex + 1] && lesson.topics[tIndex + 1];\n                      // try find first topic in next lesson\n                    } else if (lessons[lIndex + 1]) {\n                      nextTopic =\n                        lessons[lIndex + 1].topics &&\n                        //@ts-ignore\n                        lessons[lIndex + 1].topics[0];\n                      // otherwise this is end so going back to first lesson and topic\n                    } else {\n                      nextTopic = lessons[0].topics && lessons[0].topics[0];\n                    }\n                  }\n                });\n            });\n\n            if (nextTopic) {\n              history.push(\n                `/course/${course.id}/${(nextTopic as Topic).lesson_id}/${\n                  (nextTopic as Topic).id\n                }`\n              );\n              setAgendaVisible(false);\n            }\n          }}\n          mobile={isMobile}\n          lessons={course.lessons}\n          currentTopicId={topicId}\n          finishedTopicIds={finishedTopics}\n          onMarkFinished={() => onCompleteTopic()}\n          onTopicClick={(topic) => {\n            history.push(`/course/${course.id}/${topic.lesson_id}/${topic.id}`);\n            setAgendaVisible(false);\n          }}\n          onCourseFinished={() => onCourseFinish?.()}\n        />\n      </div>\n    </StyledSidebar>\n  );\n};\n\nexport default CourseSidebar;\n","import React, { ReactElement, FunctionComponent, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\n\nconst TextPlayerStyles = styled.div`\n  h1 {\n    font-size: 2em;\n  }\n  h2 {\n    font-size: 1.5em;\n  }\n  h3 {\n    font-size: 1.17em;\n  }\n  h4 {\n    font-size: 1em;\n  }\n  h5 {\n    font-size: 0.9em;\n  }\n`;\n\nconst TextPlayer: FunctionComponent<{\n  value?: string;\n  onLoad?: () => void;\n}> = ({ value, onLoad }): ReactElement => {\n  useEffect(() => {\n    value && onLoad && onLoad();\n  }, [value, onLoad]);\n\n  return (\n    <TextPlayerStyles>\n      {value && <MarkdownRenderer>{value}</MarkdownRenderer>}\n    </TextPlayerStyles>\n  );\n};\n\nexport default TextPlayer;\n","import React, { useContext, useEffect, useMemo, useCallback } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { XAPIEvent } from \"@escolalms/h5p-react\";\nimport TextPlayer from \"./Players/TextPlayer\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { ImagePlayer } from \"@escolalms/components/lib/components/players/ImagePlayer/ImagePlayer\";\nimport { AudioVideoPlayer } from \"@escolalms/components/lib/components/players/AudioVideoPlayer/AudioVideoPlayer\";\nimport { OEmbedPlayer } from \"@escolalms/components/lib/components/players/OEmbedPlayer/OEmbedPlayer\";\nimport { H5Player } from \"@escolalms/components/lib/components/players/H5Player/H5Player\";\nimport { PdfPlayer } from \"@escolalms/components/lib/components/players/PdfPlayer/PdfPlayer\";\nimport { ProjectPlayer } from \"@escolalms/components/lib/components/players/ProjectPlayer/ProjectPlayer\";\nimport { isMobile } from \"react-device-detect\";\nimport ScormPlayer from \"./Players/ScormPlayer\";\nimport styled from \"styled-components\";\nimport GiftQuizPlayer from \"@escolalms/components/lib/components/quizzes\";\n\nconst StyledPdfPlayer = styled(PdfPlayer)`\n  .course-pdf-player {\n    .react-pdf__Page__svg,\n    svg {\n      width: 100% !important;\n      height: auto !important;\n    }\n  }\n`;\n\nexport const CourseProgramContent: React.FC<{\n  lessonId: number;\n  isThereAnotherTopic?: boolean;\n  topicId?: number;\n  preview?: boolean;\n  customNoCompletedEventsIds?: string[];\n  disableNextTopicButton?: (b: boolean) => void;\n}> = ({\n  lessonId,\n  topicId,\n  preview = false,\n  disableNextTopicButton,\n  customNoCompletedEventsIds = [\n    \"http://h5p.org/libraries/H5P.GuessTheAnswer-1.5\",\n  ],\n  isThereAnotherTopic = true,\n}) => {\n  const { program, topicPing, topicIsFinished, sendProgress, h5pProgress } =\n    useContext(EscolaLMSContext);\n\n  const topic = useMemo(() => {\n    return program.value?.lessons\n      ?.find((lesson: API.Lesson) => lesson.id === lessonId)\n      ?.topics?.find((topic: API.Topic) => topic.id === topicId);\n  }, [program, lessonId, topicId]);\n\n  const onCompleteTopic = useCallback((): void => {\n    if (program?.value?.id) {\n      sendProgress(program?.value?.id, [\n        { topic_id: Number(topicId), status: 1 },\n      ]);\n    }\n  }, [program, topicId, sendProgress]);\n\n  const onXAPI = useCallback(\n    (event: XAPIEvent): void => {\n      isThereAnotherTopic &&\n        disableNextTopicButton &&\n        disableNextTopicButton(!Boolean(event?.statement?.verb?.id));\n\n      if (event?.statement) {\n        h5pProgress(\n          String(program?.value?.id),\n          Number(topicId),\n          event?.statement as API.IStatement\n        );\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      program,\n      topicId,\n      h5pProgress,\n      disableNextTopicButton,\n      customNoCompletedEventsIds,\n    ]\n  );\n\n  useEffect(() => {\n    const isTopicFinished = topic?.id && topicIsFinished(topic.id);\n\n    isThereAnotherTopic &&\n      disableNextTopicButton &&\n      isTopicFinished &&\n      disableNextTopicButton(!isTopicFinished && !Boolean(topic?.can_skip));\n  }, [disableNextTopicButton, topic, isThereAnotherTopic, topicIsFinished]);\n\n  useEffect(() => {\n    if (!preview) {\n      const ping = () =>\n        topicId && !topicIsFinished(topicId) && topicPing(topicId);\n      const interval = setInterval(() => {\n        ping();\n      }, 5000);\n      ping();\n      return () => clearInterval(interval);\n    }\n  }, [topicPing, preview, topicId, topicIsFinished]);\n\n  if (!topic) {\n    return <React.Fragment />;\n  }\n\n  if (!topic.topicable?.value) {\n    return (\n      <pre className=\"error\">Error: topic.topicable?.value is missing</pre>\n    );\n  }\n  if (topic.topicable_type) {\n    // TODO: specific interface for advanced topic players -> example: ImagePlayer\n    switch (topic.topicable_type) {\n      case API.TopicType.H5P:\n        return (\n          <H5Player\n            onXAPI={(e: XAPIEvent) => onXAPI(e)}\n            //@ts-ignore\n            h5pObject={topic.topicable.content as API.H5PObject}\n          />\n        );\n      case API.TopicType.OEmbed:\n        return (\n          <>\n            <OEmbedPlayer url={topic.topicable.value} key={topicId} />\n          </>\n        );\n      case API.TopicType.RichText:\n        return <TextPlayer value={topic.topicable.value} />;\n      case API.TopicType.Video:\n        return (\n          <AudioVideoPlayer\n            mobile={isMobile}\n            url={topic.topicable.url}\n            light\n            onFinish={(): void => onCompleteTopic()}\n          />\n        );\n      case API.TopicType.Image:\n        return <ImagePlayer topic={topic} onLoad={() => onCompleteTopic()} />;\n\n      case API.TopicType.Audio:\n        return (\n          <AudioVideoPlayer\n            mobile={isMobile}\n            audio\n            url={topic.topicable.url}\n            light\n            onFinish={(): void => onCompleteTopic()}\n          />\n        );\n\n      case API.TopicType.Pdf:\n        return (\n          <StyledPdfPlayer\n            url={topic.topicable.url}\n            pageConfig={{\n              renderMode: \"svg\",\n              className: \"course-pdf-player\",\n            }}\n          />\n        );\n\n      case API.TopicType.Scorm:\n        return (\n          <ScormPlayer\n            value={{\n              title: topic.title,\n              uuid: topic.topicable.uuid,\n            }}\n          />\n        );\n\n      case API.TopicType.GiftQuiz:\n        return <GiftQuizPlayer topic={topic} />;\n      case API.TopicType.Project:\n        return (\n          <ProjectPlayer\n            course_id={program.value?.id ?? 0}\n            topic={topic}\n            onSuccess={onCompleteTopic}\n          />\n        );\n      default:\n        return <pre>{(topic as API.Topic).topicable_type}</pre>;\n    }\n  }\n\n  return <pre>loading... (or error)</pre>;\n};\n\nexport default CourseProgramContent;\n"],"sourceRoot":""}