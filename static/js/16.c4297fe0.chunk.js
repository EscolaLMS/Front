(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[16],{405:function(e,t,n){"use strict";n.r(t);var i,c,r,o,s,a=n(0),l=n(506),d=n(73),u=n(684),j=n(92),m=n(54),p=n(12),b=n(15),x=n(49),h=n(77),g=n(150),O=n(8),v=n(52),f=n(17),C=n(231),y=n(229),w=n(53),k=n(220),N=n(42),S=n(438),T=n(1),E=O.default.div(i||(i=Object(m.a)(["\n  padding: 15px;\n  background-color: ",";\n  .collapse-title {\n  }\n  .collapse-content {\n    padding: 0 30px;\n    padding-top: 22px;\n    margin-top: 16px;\n    border-top: 1px solid ",";\n    @media (max-width: 991px) {\n      padding: 30px 0 0 0;\n    }\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray5}),(function(e){return e.theme.gray1})),_=function(e){var t=e.title,n=e.children,i=e.active,c=Object(a.useState)(i||!1),r=Object(j.a)(c,2),o=r[0],s=r[1];return Object(T.jsxs)(E,{children:[Object(T.jsx)("div",{className:"collapse-title",children:Object(T.jsx)(k.Checkbox,{name:t,label:Object(T.jsx)("strong",{children:t}),checked:i||o,onChange:function(){return s(!o)}})}),o&&Object(T.jsx)("div",{className:"collapse-content",children:n})]})},z=n(6),M=n(108),B=n(43),D=O.default.div(c||(c=Object(m.a)(["\n  .input-wrapper {\n    padding: 11px 12px 13px;\n    border: 1px solid\n      ",";\n\n    &--custom {\n      @media (max-width: 991px) {\n        margin-bottom: 30px;\n      }\n    }\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray4})),F=function(e){var t=e.billingDetails,n=e.setBillingDetails,i=Object(O.useTheme)(),c=Object(a.useMemo)((function(){return{style:{base:{backgroundColor:"dark"===i.mode?i.gray1:i.gray5,padding:"11px 12px 13px",border:"1px solid red",color:"dark"===i.mode?i.white:i.gray1,fontSize:"16px","::placeholder":{color:"dark"===i.mode?i.white:i.gray1}},invalid:{color:"#ff0000"}}}}),[]);return Object(T.jsx)(D,{children:Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)("div",{className:"col-lg-6",children:Object(T.jsx)("div",{className:"input-wrapper--custom",children:Object(T.jsx)(M.Input,{label:Object(B.t)("Cart.FullName"),type:"text",onChange:function(e){return n(Object(z.a)(Object(z.a)({},t),{},{name:e.currentTarget.value}))},value:t.name})})}),Object(T.jsx)("div",{className:"col-lg-6",children:Object(T.jsx)("div",{className:"input-wrapper",children:Object(T.jsx)(l.CardNumberElement,{options:c})})}),Object(T.jsx)("div",{className:"col-lg-6",children:Object(T.jsx)("div",{className:"input-wrapper",children:Object(T.jsx)(l.CardExpiryElement,{options:c})})}),Object(T.jsx)("div",{className:"col-lg-6",children:Object(T.jsx)("div",{className:"input-wrapper",children:Object(T.jsx)(l.CardCvcElement,{options:c})})})]})})},I=n(156),P=n(455),L=n(444),U=O.default.section(r||(r=Object(m.a)(["\n  .module-wrapper {\n    margin-bottom: 55px;\n    @media (max-width: 991px) {\n      margin-bottom: 33px;\n    }\n    h4 {\n      margin-bottom: 20px;\n      @media (max-width: 991px) {\n        text-align: center;\n      }\n    }\n  }\n  .products-container {\n    row-gap: 20px;\n  }\n  .payments-form {\n    .collapse-wrapper {\n      &:not(:last-child) {\n        margin-bottom: 10px;\n      }\n    }\n    .input-wrapper {\n      margin-bottom: 30px;\n    }\n  }\n  .slider-section {\n    margin-top: 110px;\n  }\n  .summary-box-wrapper {\n    position: sticky;\n    top: 100px;\n    ","\n    .discount-form-container {\n      input {\n        background: ",";\n      }\n    }\n  }\n  .empty-cart {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 192px 20px;\n    text-align: center;\n    background-color: ",";\n    row-gap: 20px;\n\n    p {\n      font-size: 14px;\n    }\n\n    @media (max-width: 768px) {\n      padding: 80px 20px;\n    }\n  }\n  .slider-section {\n    h4 {\n      @media (max-width: 575px) {\n        padding-right: 45%;\n      }\n    }\n  }\n"])),N.isMobile&&Object(O.css)(o||(o=Object(m.a)(["\n      position: fixed;\n      top: unset;\n      bottom: 0;\n      z-index: 10;\n      width: 100%;\n      left: 0;\n      z-index: 99999;\n    "]))),(function(e){return e.theme.white}),(function(e){var t=e.theme;return"light"===t.mode?t.gray5:t.gray1})),J=(O.default.section(s||(s=Object(m.a)(['\n  text-align: center;\n  .thank-you-title {\n    font-weight: 700;\n    font-size: 28px;\n  }\n  .course-name {\n    position: relative;\n    display: inline-block;\n    font-weight: 700;\n    margin: 25px 0 55px;\n    &:after {\n      content: "";\n      position: absolute;\n      left: 0;\n      bottom: -5px;\n      width: 100%;\n      height: 2px;\n      background-color: ',";\n    }\n  }\n  button {\n    max-width: 440px;\n    margin: 0 auto;\n  }\n  .small-text {\n    margin-top: 20px;\n    font-size: 12px;\n  }\n"])),(function(e){return e.theme.primaryColor})),function(){var e,t,n,i=Object(a.useContext)(x.EscolaLMSContext),c=i.user,r=i.cart,o=i.fetchCart,s=i.removeFromCart,d=i.payWithStripe,u=i.fetchProgress,m=i.fetchCourses,O=i.courses,E=i.realizeVoucher,z=Object(h.a)().t,M=Object(p.g)(),B=M.location,D=M.push,J=Object(l.useStripe)(),R=Object(l.useElements)(),W=Object(p.g)(),Y=Object(a.useState)(!1),H=Object(j.a)(Y,2),V=H[0],q=H[1],A=Object(a.useState)({name:""}),G=Object(j.a)(A,2),K=G[0],Q=G[1],X=Object(a.useState)(r.value.additional_discount>0?"granted":void 0),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te={arrows:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:576,settings:{slidesToShow:1,centerMode:!0}}]};Object(a.useEffect)((function(){c.loading||c.value?(m({per_page:6}),o()):D("/login")}),[B,c]);var ne=Object(a.useCallback)((function(e){q(!0),d(e,"https://demo-stage.escolalms.com/#/user/my-profile").then((function(){q(!1),D("/user/my-profile"),o(),u()})).catch((function(){I.b.error(z("UnexpectedError")),q(!1)})).finally((function(){return q(!1)}))}),[]);return Object(T.jsx)(g.a,{metaTitle:z("Cart.Cart"),children:Object(T.jsxs)(U,{children:[Object(T.jsx)("div",{className:"container",children:0!==(null===(e=r.value)||void 0===e?void 0:e.items.length)?Object(T.jsxs)("div",{className:"row",children:[Object(T.jsxs)("div",{className:"col-lg-9",children:[Object(T.jsx)(L.a,{items:[Object(T.jsx)(b.c,{to:"/",children:z("Home")}),Object(T.jsx)(f.Text,{size:"12",children:z("Cart.YourCart")})]}),Object(T.jsxs)("div",{className:"module-wrapper",children:[Object(T.jsx)(v.Title,{level:4,children:z("Cart.YourCart")}),Object(T.jsx)("div",{className:"products-container",children:null===(t=r.value)||void 0===t?void 0:t.items.map((function(e){var t,n,i,c,r;return Object(T.jsx)(C.CheckoutCard,{mobile:N.isMobile,img:{src:(null===(t=e.product)||void 0===t?void 0:t.poster_url)||"",alt:(null===(n=e.product)||void 0===n?void 0:n.name)||""},title:null===(i=e.product)||void 0===i?void 0:i.name,price:"".concat(String(null===(c=e.product)||void 0===c?void 0:c.price)," z\u0142"),oldPrice:"".concat(String((null===(r=e.product)||void 0===r?void 0:r.price_old)||"")),handleDelete:function(){var t;return s(Number(null===(t=e.product)||void 0===t?void 0:t.id))}},e.id)}))})]}),Object(T.jsxs)("div",{className:"module-wrapper",children:[Object(T.jsx)(v.Title,{level:4,children:z("Cart.ChoosePaymentMethod")}),Object(T.jsx)("div",{className:"payments-form",children:Object(T.jsx)("div",{className:"collapse-wrapper",children:Object(T.jsxs)(_,{active:!0,title:z("Cart.CreditCard"),children:[Object(T.jsx)(F,{setBillingDetails:Q,billingDetails:K}),Object(T.jsx)(k.Checkbox,{name:"rememberCreditCard",label:z("Cart.RememberCard"),onChange:function(){return console.log("clicked")}})]})})})]}),Object(T.jsxs)("section",{className:"slider-section",children:[Object(T.jsx)(v.Title,{level:4,children:z("Cart.Interest")}),O&&O.list&&Object(T.jsx)(P.a,{courses:O.list.data,sliderSettings:te})]})]}),Object(T.jsxs)("div",{className:"col-lg-3",children:[Object(T.jsx)(v.Title,{style:{marginBottom:20},level:4,children:z("Cart.Summary")}),Object(T.jsx)("div",{className:"summary-box-wrapper",children:Object(T.jsx)(y.CartCard,{mobile:N.isMobile,onBuyClick:function(){return function(){if(K.name)if(J&&R){var e=R.getElement(l.CardNumberElement);e&&q(!0),e&&J.createPaymentMethod({type:"card",card:e,billing_details:K}).then((function(e){var t;e.error?(q(!1),I.b.error(e.error.message),console.log(e.error)):(ne(null===e||void 0===e||null===(t=e.paymentMethod)||void 0===t?void 0:t.id),setTimeout((function(){q(!1)}),3e3))})).catch((function(e){q(!1),I.b.error(z("UnexpectedError"))}))}else I.b.error(z("UnexpectedError"));else I.b.error(z("Cart.EmptyNameWarning"))}()},id:1,title:"".concat(String(null===(n=r.value)||void 0===n?void 0:n.total)," z\u0142"),discount:{onDiscountClick:function(e){return E(e).then((function(e){e.success?(ee("granted"),o()):ee("error")})).catch((function(e){ee("error")}))},onDeleteDiscountClick:function(){return console.log("clicked")},status:$}})})]})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"empty-cart",children:[Object(T.jsx)(v.Title,{level:3,children:z("Cart.EmptyCartTitle")}),Object(T.jsx)(f.Text,{children:z("Cart.EmptyCartText")}),Object(T.jsx)(w.Button,{mode:"secondary",onClick:function(){return W.push("/courses")},children:z("Cart.EmptyCartBtnText")})]}),Object(T.jsxs)("section",{className:"slider-section",children:[Object(T.jsx)(v.Title,{level:4,children:z("Cart.Interest")}),O&&O.list&&Object(T.jsx)(P.a,{courses:O.list.data,sliderSettings:te})]})]})}),(r.loading||V)&&Object(T.jsx)(S.a,{})]})})});t.default=function(e){e.children;var t,n,i,c=Object(a.useContext)(d.EscolaLMSContext).config,r=null===c||void 0===c||null===(t=c.escolalms_payments)||void 0===t?void 0:t.drivers,o=null===r||void 0===r||null===(n=r.stripe)||void 0===n?void 0:n.publishable_key;return Object(T.jsx)(l.Elements,{stripe:(i=o,Object(u.a)(i)),children:Object(T.jsx)(J,{})})}},438:function(e,t,n){"use strict";var i,c=n(54),r=n(0),o=n(152),s=n(8),a=n(1),l=s.default.div(i||(i=Object(c.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.backgroundDark:t.backgroundLight}));t.a=function(){var e=Object(s.useTheme)();return Object(r.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="inherit"}}),[]),Object(a.jsx)(l,{children:Object(a.jsx)(o.Spin,{color:e.primaryColor})})}},439:function(e,t,n){"use strict";var i,c=n(54),r=n(8),o=n(1),s=r.default.div(i||(i=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ",";\n"])),(function(e){var t=e.theme;return"light"===t.mode?t.gray4:t.gray2}));t.a=function(){return Object(o.jsx)(s,{})}},444:function(e,t,n){"use strict";var i,c=n(54),r=(n(0),n(211)),o=n(8),s=n(1),a=o.default.div(i||(i=Object(c.a)(["\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ","!important;\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray2}));t.a=function(e){var t=e.items;return Object(s.jsx)(a,{children:Object(s.jsx)(r.BreadCrumbs,{items:t})})}},455:function(e,t,n){"use strict";var i,c=n(6),r=n(92),o=n(54),s=n(0),a=n(8),l=n(17),d=n(215),u=n(213),j=n(154),m=n(53),p=n(153),b=n(211),x=n(12),h=n(15),g=n(42),O=n(43),v=n(151),f=n(439),C=n(435),y=n(1),w=a.default.div(i||(i=Object(o.a)(["\n  a {\n    text-decoration: none !important;\n  }\n  @media (max-width: 575px) {\n    margin-left: -50px;\n    .image-section,\n    img {\n      max-height: 180px;\n    }\n  }\n  .slick-slider {\n    @media (max-width: 575px) {\n      width: calc(100% + 15px);\n    }\n  }\n  .single-slide {\n    max-width: calc(100% - 20px);\n    padding-bottom: 20px;\n  }\n  .slick-dots {\n    top: -65px;\n  }\n"])));t.a=function(e){var t=e.courses,n=e.sliderSettings,i=Object(s.useState)(!0),o=Object(r.a)(i,1)[0],k=Object(x.g)(),N=Object(a.useTheme)();return Object(y.jsx)(w,{children:Object(y.jsx)(d.Slider,{settings:Object(c.a)(Object(c.a)({},n),{},{dots:o}),dotsPosition:"top right",children:t&&t.map((function(e){var t,n;return Object(y.jsx)("div",{className:"single-slide",children:Object(y.jsx)(u.CourseCard,{mobile:g.isMobile,id:e.id,image:Object(y.jsx)(h.c,{to:"/courses/".concat(e.id),children:e.image_path?Object(y.jsx)(C.ResponsiveImage,{path:e.image_path,alt:e.title}):Object(y.jsx)(f.a,{})}),tags:Object(y.jsx)(y.Fragment,{children:null===(t=e.tags)||void 0===t?void 0:t.map((function(e,t){return Object(y.jsx)(j.Badge,{color:N.primaryColor,children:Object(y.jsx)(h.c,{style:{color:N.white},to:"/courses/?tag=".concat(e.title),children:e.title})},t)}))}),subtitle:e.subtitle?Object(y.jsx)(l.Text,{size:"12",children:Object(y.jsx)(h.c,{style:{color:N.primaryColor},to:"/courses/".concat(e.id),children:Object(y.jsx)("strong",{children:e.subtitle})})}):void 0,title:Object(y.jsx)(h.c,{to:"/courses/".concat(e.id),children:e.title}),categories:Object(y.jsx)(b.BreadCrumbs,{hyphen:"/",items:null===(n=e.categories)||void 0===n?void 0:n.map((function(e){return Object(y.jsx)(h.c,{to:"/courses/?ids[]=".concat(e.id),children:e.name},e.id)}))}),actions:Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(m.Button,{mode:"secondary",onClick:function(){return k.push("/courses/".concat(e.id))},children:Object(O.t)("Start now")})}),footer:Object(y.jsxs)(y.Fragment,{children:[e.users_count&&e.users_count>0?Object(y.jsx)(p.IconText,{icon:Object(y.jsx)(v.n,{}),text:"".concat(e.users_count," ").concat(Object(O.t)("Students"))}):""," ",e.lessons_count&&e.lessons_count>0?Object(y.jsx)(p.IconText,{icon:Object(y.jsx)(v.i,{}),text:"".concat(e.lessons_count," ").concat(Object(O.t)("Lessons"))}):""]})})},e.id)}))})})}}}]);
//# sourceMappingURL=16.c4297fe0.chunk.js.map