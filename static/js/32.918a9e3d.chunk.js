(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[32],{621:function(e,t,n){"use strict";n.r(t),n.d(t,"ConsultationStatus",(function(){return se}));var o=n(1),a=n(269),c=n(694),r=n(727),s=n(72),i=n(82),l=n(35),d=n(34),u=n(721),j=n(683),b=n(702),m=n(3);const O=e=>{var t;let{type:n}=e;const{userConsultations:c,fetchUserConsultations:r}=Object(o.useContext)(l.EscolaLMSContext),{t:O}=Object(a.a)(),x=Object(o.useMemo)((()=>{var e;return(null===(e=c.list)||void 0===e?void 0:e.data.filter((e=>n===se.STARTED||n===se.UPCOMING?e.in_coming||e.is_started:e.is_ended)))||[]}),[n,null===(t=c.list)||void 0===t?void 0:t.data]);return Object(o.useEffect)((()=>{r()}),[n,r]),Object(m.jsx)(b.b,{children:c.loading?Object(m.jsx)(j.a,{}):0===x.length?Object(m.jsx)(d.Text,{style:{paddingLeft:s.isMobile?20:40},children:O("MyProfilePage.OrdersEmpty")}):Object(m.jsx)(i.Row,{style:{gap:"30px 0"},children:x.map((e=>Object(m.jsx)(i.Col,{xs:12,md:6,lg:4,children:Object(m.jsx)(u.a,{consultation:e})},e.id)))})})};var x,p=Object(o.memo)(O),h=n(362),f=n(70),C=n(17);const g=C.default.div(x||(x=Object(f.a)(["\n  .course-section {\n    margin-top: 0px;\n  }\n\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n\n    button {\n      width: 100%;\n      margin: 0;\n    }\n  }\n\n  p {\n    font-family: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.font}));var y=n(46),_=n(680),v=n.n(_),T=n(682);var k,E=e=>{let{product:t}=e;return t?Object(m.jsx)(y.c,{to:"/consultations/".concat(t.id),children:t.poster_path?Object(m.jsx)(v.a,{path:t.poster_path,alt:t.name,srcSizes:[300,600,900]}):Object(m.jsx)(T.a,{})}):null};const D=C.default.div(k||(k=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 65px;\n\n  .text {\n    margin: 0;\n    font-size: 14px;\n  }\n"])));var P,w=e=>{let{consultation:t}=e;const{first_name:n,last_name:o,email:a,phone:c}=t.user;return Object(m.jsxs)(D,{children:[Object(m.jsxs)(d.Text,{className:"text",children:[n," ",o]}),Object(m.jsx)(d.Text,{className:"text",children:a}),Object(m.jsx)(d.Text,{className:"text",children:c})]})},A=n(681),S=n(706),I=n(717);const N=C.default.div(P||(P=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n  gap: 12px;\n"])));var M,L=e=>{let{consultation:t}=e;const{t:n}=Object(a.a)(),o=t.is_ended,c=t.is_started,r="reported"===t.status,s="approved"===t.status,i="not_reported"===t.status,l="reject"===t.status;return Object(m.jsxs)(m.Fragment,{children:[o&&t.date&&Object(m.jsx)(S.b,{type:S.a.ENDED,date:Object(A.a)(t.date,Object(A.c)("".concat(t.duration)))}),l&&Object(m.jsx)(S.b,{type:S.a.ENDED,date:Object(A.a)(t.date,Object(A.c)("".concat(t.duration)))}),r&&!o&&Object(m.jsx)(S.b,{type:S.a.WAITING,date:t.date,info:n("ConsultationStatus.UnconfirmedInfo")}),s&&!o&&Object(m.jsx)(S.b,{type:S.a.ACCEPTED,date:t.date,info:c&&t.consultation_term_id?Object(m.jsx)(N,{children:Object(m.jsx)(I.a,{consultationTermId:t.consultation_term_id})}):n("ConsultationStatus.AppointmentInfo",{date:Object(A.d)(t.date,"EEEE, dd LLLL yyyy, HH:mm")})}),i&&Object(m.jsx)(S.b,{type:S.a.DEFAULT})]})},B=n(270);const U=C.default.div(M||(M=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  border: 1px solid ",";\n  border-radius: 2px;\n  align-items: center;\n\n  .icon-container {\n    display: flex;\n    align-items: center;\n    padding: 0.6rem;\n    background-color: ",";\n  }\n\n  .time {\n    padding: 0.5rem;\n    margin: 0 auto;\n  }\n"])),(e=>{let{theme:t}=e;return t.primaryColor}),(e=>{let{theme:t}=e;return t.primaryColor}));var F,R=e=>{let{time:t}=e;return Object(m.jsxs)(U,{children:[Object(m.jsx)("div",{className:"icon-container",children:Object(m.jsx)(B.s,{color:"#ffffff",width:"22px",height:"22px"})}),Object(m.jsx)(d.Text,{className:"time",children:t})]})};const G=C.default.div(F||(F=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  gap: 12px;\n"])));var H,z=e=>{let{consultation:t}=e;return Object(m.jsxs)(G,{children:[Object(m.jsx)(w,{consultation:t}),Object(m.jsx)(R,{time:t.duration}),Object(m.jsx)(L,{consultation:t})]})};const W=C.default.div(H||(H=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  user-select: none;\n\n  .status {\n    display: block;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n  }\n\n  .name {\n    padding: 0.5rem;\n    font-family: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.font}));let K=function(e){return e[e.ACCEPTED=0]="ACCEPTED",e[e.WAITING=1]="WAITING",e[e.ENDED=2]="ENDED",e[e.CANCELED=3]="CANCELED",e[e.DEFAULT=4]="DEFAULT",e}({});var q=e=>{let{status:t,name:n}=e;const a=Object(C.useTheme)(),c=Object(o.useMemo)((()=>{switch(t){case K.ACCEPTED:return"#198754";case K.WAITING:return"#FFC300";case K.ENDED:case K.CANCELED:return"#D22B2B";default:return a.primaryColor}}),[a.primaryColor,t]);return Object(m.jsxs)(W,{children:[Object(m.jsx)("div",{className:"status",style:{backgroundColor:c}}),Object(m.jsx)("div",{className:"name",children:n})]})},J=n(52),Y=n(272),V=n.n(Y),Q=n(386),X=n.n(Q),Z=n(74);var $,ee=e=>{let{consultation:t}=e;const{approveConsultationTerm:n,rejectConsultationTerm:c}=Object(o.useContext)(J.EscolaLMSContext),{t:r}=Object(a.a)(),{consultation_term_id:s}=t,i=Object(o.useMemo)((()=>[{id:1,content:Object(m.jsx)(V.a,{icon:Object(m.jsx)(B.r,{}),text:r("Confirm"),onClick:()=>n(s)})},{id:2,content:Object(m.jsx)(V.a,{icon:Object(m.jsx)(B.j,{}),text:r("Cancel"),onClick:()=>c(s)})}]),[n,s,c,r]);return Object(m.jsx)(X.a,{menuItems:i,child:Object(m.jsx)(Z.Button,{mode:"icon",children:Object(m.jsx)(B.o,{})})})};const te=C.default.div($||($=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n\n  button > svg {\n    width: 24px;\n    height: 25px;\n  }\n"])));var ne=e=>{let{consultation:t}=e;const{status:n,is_ended:o}=t,{t:c}=Object(a.a)(),r="reported"===n,s="approved"===n;return"reject"===n?Object(m.jsx)(q,{status:K.CANCELED,name:c("ConsultationStatus.Canceled")}):o?Object(m.jsx)(q,{status:K.ENDED,name:c("ConsultationStatus.Ended")}):r?Object(m.jsxs)(te,{children:[Object(m.jsx)(q,{status:K.WAITING,name:c("ConsultationStatus.Unconfirmed")}),Object(m.jsx)(ee,{consultation:t})]}):s?Object(m.jsx)(q,{status:K.ACCEPTED,name:c("ConsultationStatus.Appointment")}):Object(m.jsx)(q,{status:K.DEFAULT,name:n})};var oe=e=>{var t;const{consultation:n}=e;return Object(m.jsx)(g,{children:Object(m.jsx)(h.CourseCard,{id:n.consultation_term_id,image:Object(m.jsx)(E,{product:n.related_product}),title:Object(m.jsx)(ne,{consultation:n}),subtitle:Object(m.jsx)("p",{children:null===(t=n.related_product)||void 0===t?void 0:t.name}),footer:Object(m.jsx)(z,{consultation:n})})})};const ae=e=>{var t;let{type:n}=e;const{tutorConsultations:c,fetchTutorConsultations:r}=Object(o.useContext)(l.EscolaLMSContext),{t:u}=Object(a.a)(),b=Object(o.useMemo)((()=>{var e;return(null===(e=c.list)||void 0===e?void 0:e.data.filter((e=>n===se.STARTED||n===se.UPCOMING?e.in_coming||e.is_started:e.is_ended)))||[]}),[n,null===(t=c.list)||void 0===t?void 0:t.data]);return Object(o.useEffect)((()=>{r()}),[r]),Object(m.jsx)(m.Fragment,{children:c.loading?Object(m.jsx)(j.a,{}):0===b.length?Object(m.jsx)(d.Text,{style:{paddingLeft:s.isMobile?20:40},children:u("MyProfilePage.OrdersEmpty")}):Object(m.jsx)(i.Row,{style:{gap:"30px 0"},children:b.map((e=>Object(m.jsx)(i.Col,{xs:12,md:6,lg:4,children:Object(m.jsx)(oe,{consultation:e})},e.consultation_term_id)))})})};var ce=Object(o.memo)(ae),re=n(743);let se=function(e){return e.UPCOMING="in_coming",e.PAST="is_ended",e.STARTED="is_started",e}({});t.default=()=>{const{t:e}=Object(a.a)(),{isTutor:t}=Object(re.a)(),n=Object(o.useMemo)((()=>({tabs:t?[{label:e("MyProfilePage.Upcoming"),key:1,component:Object(m.jsx)(ce,{type:se.UPCOMING})},{label:e("MyProfilePage.Archived"),key:2,component:Object(m.jsx)(ce,{type:se.PAST})},{label:e("MyProfilePage.BoughtUpcoming"),key:3,component:Object(m.jsx)(p,{type:se.UPCOMING})},{label:e("MyProfilePage.BoughtArchived"),key:4,component:Object(m.jsx)(p,{type:se.PAST})}]:[{label:e("MyProfilePage.Upcoming"),key:1,component:Object(m.jsx)(p,{type:se.UPCOMING})},{label:e("MyProfilePage.Archived"),key:2,component:Object(m.jsx)(p,{type:se.PAST})}],defaultActiveKey:1})),[t,e]);return Object(m.jsx)(c.a,{title:e("MyProfilePage.MyConsultations"),withTabs:!0,children:Object(m.jsx)(r.Tabs,{tabs:n.tabs,defaultActiveKey:n.defaultActiveKey})})}},679:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={defaultDateFormat:"dd/MM/yyyy",defaultDateTimeFormat:"dd/MM/yyyy, HH:mm",tutorPlaceholderPath:"/images/tutorblind.png"}},681:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return b}));var o=n(168),a=n(285),c=n(131),r=n(679);const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a.defaultDateFormat;return e?Object(o.default)(new Date(e),t):""},i=(e,t,n)=>!(!e||!t)&&s(e,n)===s(t,n),l=e=>{const t=[];return e.forEach((e=>{const n=Object(o.default)(new Date(e),"MM/dd/yyyy"),a=t.find((e=>Object(o.default)(new Date(e.date),"MM/dd/yyyy")===n));a?a.times.push(new Date(e)):t.push({date:n,times:[new Date(e)]})})),t},d=e=>e.filter((e=>Object(a.default)(e,new Date))),u=e=>e.sort(((e,t)=>e.getTime()-t.getTime())),j=e=>{const t=Array.from(e.matchAll(/(\d+)\s+(day|hour|minute|second|week|year)s?/g)),n={};let o=!1;if(t.forEach((e=>{o=!0;const t=parseInt(e[1]),a=e[2];n[a]?n[a]+=t:n[a]=t})),!o){const t=/\d+/g;Array.from(e.matchAll(t)).forEach((e=>{const t=parseInt(e[0]);n.hour=t}))}return n},b=(e,t)=>Object(c.a)(new Date(e),{years:t.year||0,months:t.month||0,weeks:t.week||0,days:t.day||0,hours:t.hour||0,minutes:t.minute||0,seconds:t.second||0})},702:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o,a=n(1),c=n(364),r=n.n(c),s=n(70),i=n(17),l=n(269),d=n(74),u=n(270),j=n(34),b=n(3);const m=i.default.div(o||(o=Object(s.a)(["\n  text-align: center;\n\n  .text {\n    margin: 1.5rem 0 3rem 0;\n  }\n"])));var O=e=>{let{onClick:t}=e;const{t:n}=Object(l.a)(),o=Object(i.useTheme)();return Object(b.jsxs)(m,{children:[Object(b.jsx)(u.r,{width:"50px",height:"50px",color:o.primaryColor}),Object(b.jsx)(j.Text,{className:"text",children:n("ConsultationPage.successTermInfo")}),Object(b.jsx)(d.Button,{mode:"secondary",onClick:t,block:!0,children:n("ConsultationPage.Understand")})]})};var x=e=>{let{onClose:t,visible:n}=e;return Object(b.jsx)(r.a,{onClose:t,visible:n,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:468,children:Object(b.jsx)(O,{onClick:t})})};const p=Object(a.createContext)({showBookTermSuccess:!1,setShowBookTermSuccess:e=>{}});t.b=e=>{let{children:t}=e;const[n,o]=Object(a.useState)(!1);return Object(b.jsxs)(p.Provider,{value:{showBookTermSuccess:n,setShowBookTermSuccess:o},children:[t,Object(b.jsx)(x,{visible:n,onClose:()=>o(!1)})]})}},704:function(e,t,n){"use strict";(function(e){var o=n(269),a=n(72),c=n(74),r=n.n(c),s=n(681),i=n(679),l=n(705),d=n(719),u=n(371),j=n(3);const b=window.REACT_APP_API_URL||e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRYDSN:"https://1abed5b3f95e41be8e1c39c33af12506@sentry.etd24.pl/96",REACT_APP_ROUTING_TYPE:"HashRouter",REACT_APP_YBUG_ID:"01m1nn5zqystt1qq5n11",REACT_APP_PUBLIC_API_URL:"https://api-stage.escolalms.com"})&&"https://api-stage.escolalms.com";t.a=e=>{let{consultation:t,selectedDate:n,onClick:c,loading:m}=e;const{t:O}=Object(o.a)(),{author:x}=t;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{children:O("ConsultationPage.SelectedTermOfConsultation")}),Object(j.jsx)(d.a,{title:O("ConsultationPage.ConsultationTerm"),content:Object(s.d)(n,i.a.defaultDateTimeFormat)}),Object(j.jsx)(d.a,{title:O("ConsultationPage.Expert"),content:Object(j.jsx)(u.Tutor,{mobile:a.isMobile,avatar:{alt:"".concat(x.first_name," ").concat(x.last_name),src:"".concat(b,"/api/images/img?path=").concat(x.path_avatar)||""},title:Object(j.jsx)(j.Fragment,{}),fullName:"".concat(x.first_name," ").concat(x.last_name),rating:{ratingValue:5},description:x.bio})}),Object(j.jsx)(r.a,{mode:"secondary",onClick:c,block:!0,disabled:!n,loading:m,children:O("ConsultationPage.Book")})]})}}).call(this,n(110))},705:function(e,t,n){"use strict";var o,a=n(70),c=n(17),r=n(92);const s=Object(c.default)(r.Title)(o||(o=Object(a.a)(["\n  font-size: 24px;\n  margin-bottom: 24px;\n  border-bottom: 1px solid\n    ",";\n  padding-bottom: 12px;\n"])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray3}));t.a=s},706:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o,a=n(70),c=n(1),r=n(17),s=n(681),i=n(679),l=n(34),d=n(270),u=n(3);const j=r.default.div(o||(o=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .date-container {\n    display: flex;\n    flex-direction: row;\n    border: 1px solid;\n    border-radius: 2px;\n    align-items: center;\n\n    .icon-container {\n      display: flex;\n      align-items: center;\n      padding: 0.5rem;\n    }\n\n    .date {\n      padding: 0.5rem;\n      margin: 0 auto;\n    }\n  }\n\n  .info {\n    padding: 0.5rem;\n    border-left: 1px solid;\n    border-right: 1px solid;\n    border-bottom: 1px solid;\n    font-family: ",";\n    font-size: 12px;\n  }\n"])),(e=>{let{theme:t}=e;return t.font}));let b=function(e){return e[e.ACCEPTED=0]="ACCEPTED",e[e.WAITING=1]="WAITING",e[e.ENDED=2]="ENDED",e[e.DEFAULT=3]="DEFAULT",e}({});t.b=e=>{let{type:t,date:n,info:o}=e;const a=Object(r.useTheme)(),m=Object(c.useMemo)((()=>{switch(t){case b.ACCEPTED:return"#198754";case b.WAITING:return"#FFC300";case b.ENDED:return"#D22B2B";default:return a.primaryColor}}),[a.primaryColor,t]);return Object(u.jsxs)(j,{children:[Object(u.jsxs)("div",{className:"date-container",style:{borderColor:m},children:[Object(u.jsx)("div",{className:"icon-container",style:{backgroundColor:m},children:Object(u.jsx)(d.f,{color:"#ffffff"})}),Object(u.jsx)(l.Text,{className:"date",children:n?Object(s.d)(new Date(n),i.a.defaultDateTimeFormat):"--"})]}),o&&Object(u.jsx)("div",{className:"info",style:{borderColor:m},children:o})]})}},717:function(e,t,n){"use strict";var o,a=n(1),c=n(269),r=n(74),s=n(52),i=n(364),l=n(683),d=n(70);const u=n(17).default.div(o||(o=Object(d.a)(["\n  iframe {\n    width: 100% !important;\n    height: calc(100vh - 76px);\n    border: none;\n  }\n"])));var j=n(3);var b=e=>{let{onClose:t,visible:n,consultationTermId:o}=e;const[c,r]=Object(a.useState)(null),[d,b]=Object(a.useState)(!1),{generateConsultationJitsy:m}=Object(a.useContext)(s.EscolaLMSContext);return Object(a.useEffect)((()=>{(async()=>{b(!0);const e=await m(o);e.success&&r(e.data),b(!1)})()}),[]),Object(j.jsx)(i.Modal,{onClose:t,visible:n,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:"100vw",height:"100vh",bodyStyle:{minHeight:"93vh"},children:Object(j.jsxs)(u,{children:[d&&Object(j.jsx)(l.a,{}),!d&&c&&Object(j.jsx)("iframe",{title:c.data.roomName,src:c.url})]})})};t.a=e=>{let{consultationTermId:t}=e;const[n,o]=Object(a.useState)(!1),{t:s}=Object(c.a)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.Button,{mode:"secondary",onClick:()=>o(!0),children:s("ConsultationPage.Join")}),Object(j.jsx)(b,{visible:n,onClose:()=>o(!1),consultationTermId:t})]})}},719:function(e,t,n){"use strict";var o,a=n(70),c=n(29),r=n(17),s=n(3);const i=r.default.div(o||(o=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 12px;\n\n  .title {\n    margin: 0.2em 0;\n  }\n\n  .content {\n    margin: 0.2em 0;\n    font-weight: 700;\n    color: ",";\n  }\n"])),(e=>{let{theme:{primaryColor:t}}=e;return t}));t.a=e=>{let{title:t,content:n}=e;return Object(s.jsxs)(i,{children:["string"===typeof t?Object(s.jsx)(c.Text,{className:"title",children:t}):t,"string"===typeof n?Object(s.jsx)(c.Text,{className:"content",children:n}):n]})}},721:function(e,t,n){"use strict";var o,a=n(70),c=n(1),r=n(17),s=n(362),i=n(364),l=n.n(i),d=n(269),u=n(741),j=n.n(u);const b=r.default.div(o||(o=Object(a.a)(["\n  .react-datepicker {\n    font-family: ",";\n    color: ",";\n    border-color: ",";\n    border-radius: ","px;\n    width: 100%;\n    margin-top: 0.5rem;\n  }\n\n  .react-datepicker__day--selected {\n    background-color: ",";\n  }\n\n  .react-datepicker__day--selected:hover {\n    background-color: ",";\n    opacity: 0.3;\n  }\n\n  .react-datepicker__month-container {\n    width: 100%;\n  }\n\n  .react-datepicker__current-month,\n  .react-datepicker-time__header,\n  .react-datepicker-year-header {\n    font-size: 14px;\n  }\n\n  .react-datepicker__day-name,\n  .react-datepicker__day,\n  .react-datepicker__time-name {\n    width: 4em;\n    line-height: 4em;\n  }\n\n  .react-datepicker__day--keyboard-selected:hover,\n  .react-datepicker__month-text--keyboard-selected:hover,\n  .react-datepicker__quarter-text--keyboard-selected:hover,\n  .react-datepicker__year-text--keyboard-selected:hover {\n    background-color: ",";\n    opacity: 0.3;\n    color: #ffffff;\n  }\n\n  .react-datepicker__header {\n    background-color: transparent;\n    border-color: ",";\n    border-top-right-radius: ","px;\n    border-top-left-radius: ","px;\n  }\n\n  .react-datepicker__input-time-container {\n    text-align: center;\n    margin: 15px 0;\n  }\n\n  .react-datepicker__input-time-container .react-datepicker-time__caption {\n    font-size: 14px;\n  }\n\n  .react-datepicker__input-time-container\n    .react-datepicker-time__input-container\n    .react-datepicker-time__input\n    input {\n    font-size: 14px;\n    padding: 1em;\n    border-radius: ","px;\n    border-color: ",";\n    border-width: 1px;\n    border-style: solid;\n  }\n\n  .react-datepicker__input-time-container\n    .react-datepicker-time__input-container\n    .react-datepicker-time__input\n    input:focus {\n    outline: none;\n  }\n"])),(e=>{let{theme:t}=e;return t.font}),(e=>{let{theme:t}=e;return t.textColor}),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray3}),(e=>{let{theme:t}=e;return t.buttonRadius||2}),(e=>{let{theme:t}=e;return t.primaryColor}),(e=>{let{theme:t}=e;return t.primaryColor}),(e=>{let{theme:t}=e;return t.primaryColor}),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray3}),(e=>{let{theme:t}=e;return t.buttonRadius||2}),(e=>{let{theme:t}=e;return t.buttonRadius||2}),(e=>{let{theme:t}=e;return t.buttonRadius||2}),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray3}));n(740);var m=n(245),O=n(244),x=n(3);Object(u.registerLocale)("pl",O.a),Object(u.registerLocale)("en",m.a);var p,h=e=>{let{selectedDate:t,onChange:n,includeDates:o,includeTimes:a,minDate:c,showTimeInput:r,timeInputLabel:s}=e;const{i18n:i}=Object(d.a)();return Object(x.jsx)(b,{children:Object(x.jsx)(j.a,{selected:t,onChange:n,includeDates:o,includeTimes:a,inline:!0,locale:i.language,minDate:c,showTimeInput:r,timeInputLabel:s})})},f=n(29),C=n(52),g=n(681),y=n(373),_=n(704),v=n(702);const T=r.default.div(p||(p=Object(a.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.54rem;\n  margin: 0.5rem 0 2rem 0;\n\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  button {\n    animation: fadeIn 0.4s;\n  }\n"])));var k=e=>{var t,n;let{consultation:o,onClose:a}=e;const[r,s]=Object(c.useState)(null),[i,l]=Object(c.useState)(null),[u,j]=Object(c.useState)(!1),[b,m]=Object(c.useState)(1),{setShowBookTermSuccess:O}=Object(c.useContext)(v.a),{t:p}=Object(d.a)(),{bookConsultationTerm:k}=Object(c.useContext)(C.EscolaLMSContext),E=Object(g.g)(Object(g.f)((null===o||void 0===o||null===(t=o.proposed_terms)||void 0===t?void 0:t.map((e=>new Date(e))))||[])),D=Object(g.b)(E),P=r&&(null===(n=D.find((e=>Object(g.e)(e.date,r))))||void 0===n?void 0:n.times)||[],w=o.in_coming,A="approved"===o.executed_status,S=!(null===E||void 0===E||!E.length);Object(c.useEffect)((()=>{E[0]&&s(E[0])}),[]);const I=Object(c.useCallback)((()=>{O(!0),a(),s(null),l(null)}),[a,O]),N=Object(c.useCallback)((async()=>{if(o.consultation_term_id&&i){j(!0);(await k(o.consultation_term_id,i.toISOString())).success&&I(),j(!1)}}),[o.consultation_term_id,i,k,I]);return 2===b?Object(x.jsx)(_.a,{selectedDate:r,consultation:o,loading:u,onClick:N}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h,{onChange:e=>{s(e),l(null)},selectedDate:r,includeDates:E,includeTimes:P}),Object(x.jsx)(T,{children:P.map((e=>Object(x.jsx)(f.Button,{mode:Object(g.e)(e,i,"HH:mm")?"secondary":"outline",onClick:()=>l(e),children:Object(g.d)(e,"HH:mm")})))}),!S&&Object(x.jsx)(y.Tag,{children:p("ConsultationPage.NoTermsAvailable")}),S&&Object(x.jsx)(f.Button,{mode:"secondary",onClick:()=>m(2),block:!0,disabled:!r||!i,loading:u,children:p(w&&A?"ConsultationPage.ChangeTerm":"ConsultationPage.Book")})]})},E=n(74),D=n.n(E),P=n(35),w=n(705);var A=e=>{let{consultation:t,onClose:n}=e;const[o,a]=Object(c.useState)(null),{bookConsultationTerm:r}=Object(c.useContext)(P.EscolaLMSContext),[s,i]=Object(c.useState)(!1),[l,u]=Object(c.useState)(1),{setShowBookTermSuccess:j}=Object(c.useContext)(v.a),{t:b}=Object(d.a)(),m=t.in_coming,O="approved"===t.executed_status,p=Object(c.useCallback)((()=>{j(!0),n(),a(null)}),[n,j]),f=Object(c.useCallback)((async()=>{if(t.consultation_term_id&&o){i(!0);(await r(t.consultation_term_id,o.toISOString())).success&&p(),i(!1)}}),[t.consultation_term_id,o,r,p]);return 2===l?Object(x.jsx)(_.a,{selectedDate:o,consultation:t,loading:s,onClick:f}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w.a,{children:b("ConsultationPage.SelectDateAndHour")}),Object(x.jsx)(h,{onChange:e=>{a(e)},selectedDate:o,minDate:new Date,showTimeInput:!0,timeInputLabel:"".concat(b("Time"),": ")}),Object(x.jsx)(D.a,{mode:"secondary",onClick:()=>u(2),block:!0,disabled:!o,loading:s,children:b(m&&O?"ConsultationPage.ChangeTerm":"ConsultationPage.Choose")})]})};var S=e=>{var t;let{onClose:n,visible:o,consultation:a}=e;const c="single"===(null===(t=a.product)||void 0===t?void 0:t.type);return Object(x.jsx)(l.a,{onClose:n,visible:o,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:468,children:c?Object(x.jsx)(A,{consultation:a,onClose:n}):Object(x.jsx)(k,{consultation:a,onClose:n})})},I=n(36),N=n(717);var M=e=>{let{showBookTerm:t}=e;const{t:n}=Object(d.a)(),o=Object(c.useCallback)((()=>{t(!0)}),[t]);return Object(x.jsx)(E.Button,{mode:"secondary",onClick:o,children:n("ConsultationPage.Book")})};var L=e=>{let{showBookTerm:t}=e;const{t:n}=Object(d.a)(),o=Object(c.useCallback)((()=>{t(!0)}),[t]);return Object(x.jsx)(E.Button,{mode:"secondary",onClick:o,children:n("ConsultationPage.ChangeTerm")})};var B,U=e=>{var t;let{consultation:n,showBookTerm:o}=e;const a=Object(I.g)(),{t:c}=Object(d.a)(),r=n.is_started,s=n.in_coming,i="reported"===n.executed_status,l="not_reported"===n.executed_status;return i?null:null!==(t=n.product)&&void 0!==t&&t.owned&&l?Object(x.jsx)(M,{showBookTerm:e=>o(e)}):r&&n.consultation_term_id?Object(x.jsx)(N.a,{consultationTermId:n.consultation_term_id}):s?Object(x.jsx)(L,{showBookTerm:e=>o(e)}):Object(x.jsx)(E.Button,{mode:"secondary",onClick:()=>a.push("/consultations/".concat(n.id)),children:c("ConsultationPage.Show")})},F=n(706);const R=r.default.div(B||(B=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"])));var G=e=>{let{consultation:t}=e;const n=t.is_ended,o="reported"===t.executed_status,a="approved"===t.executed_status,c="not_reported"===t.executed_status;return Object(x.jsxs)(R,{children:[n&&t.executed_at&&Object(x.jsx)(F.b,{type:F.a.ENDED,date:Object(g.a)(t.executed_at,Object(g.c)("".concat(t.duration)))}),o&&!n&&Object(x.jsx)(F.b,{type:F.a.WAITING,date:t.executed_at}),a&&!n&&Object(x.jsx)(F.b,{type:F.a.ACCEPTED,date:t.executed_at}),c&&Object(x.jsx)(F.b,{type:F.a.DEFAULT})]})},H=n(46),z=n(680),W=n.n(z),K=n(682);var q,J=e=>{let{consultation:t}=e;return Object(x.jsx)(H.c,{to:"/consultations/".concat(t.id),children:t.image_path?Object(x.jsx)(W.a,{path:t.image_path,alt:t.name,srcSizes:[300,600,900]}):Object(x.jsx)(K.a,{})})};const Y=r.default.div(q||(q=Object(a.a)(["\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n\n    button {\n      width: 100%;\n      margin: 0;\n    }\n  }\n"])));t.a=e=>{const{consultation:t}=e,[n,o]=Object(c.useState)(!1);return Object(x.jsxs)(Y,{children:[Object(x.jsx)(s.CourseCard,{id:t.id,image:Object(x.jsx)(J,{consultation:t}),title:"".concat(t.name),footer:Object(x.jsx)(G,{consultation:t}),actions:Object(x.jsx)(U,{consultation:t,showBookTerm:e=>o(e)})}),Object(x.jsx)(S,{visible:n,onClose:()=>o(!1),consultation:t})]})}},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(1),a=n(35);const c=()=>{const{user:e}=Object(o.useContext)(a.EscolaLMSContext);return{isTutor:Object(o.useMemo)((()=>{var t,n;return!(null===(t=e.value)||void 0===t||null===(n=t.roles)||void 0===n||!n.includes("tutor"))}),[e]),isStudent:Object(o.useMemo)((()=>{var t,n;return!(null===(t=e.value)||void 0===t||null===(n=t.roles)||void 0===n||!n.includes("student"))}),[e])}}}}]);
//# sourceMappingURL=32.918a9e3d.chunk.js.map