{"version":3,"sources":["components/SingleCoursesTwo/CoursesDetailsSidebar/Buttons/index.tsx","components/SingleCoursesTwo/CoursesDetailsSidebar/index.tsx","hooks/useCourseProgress.ts","components/Course/CourseProgramPreview/index.tsx","pages/courses/course/styles.ts","pages/courses/course/Components/CourseCompanies/index.tsx","pages/courses/course/Components/CourseMainInfo/index.tsx","pages/courses/course/Components/CourseRatings/styles.ts","pages/courses/course/Components/CourseRatings/Provider/index.tsx","hooks/useCourseAnswers.ts","pages/courses/course/Components/CourseRatings/AnswerComponent/styles.ts","pages/courses/course/Components/CourseRatings/AnswerComponent/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/Content/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/Dropdowns/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/index.tsx","pages/courses/course/Components/CourseRatings/Reviews/Content/index.tsx","pages/courses/course/Components/CourseRatings/Reviews/index.tsx","pages/courses/course/Components/CourseRatings/index.tsx","pages/courses/course/Components/CourseRelated/index.tsx","pages/courses/course/index.tsx","config/app.ts","utils/date.ts","components/CourseImgPlaceholder/index.tsx","components/ContentLoader/index.tsx","components/Tags/index.tsx","images/image.svg","components/CategoriesBreadCrumbs/index.tsx","components/Breadcrumbs/index.tsx","utils/index.ts","components/CourseCardWrapper/index.tsx","components/Pagination/index.tsx","components/Preloader/index.tsx","types/questionnaire.ts","components/TextEllipsis/styles.tsx","components/TextEllipsis/index.tsx","components/Subtitle/index.tsx","components/CoursesSlider/index.tsx","components/ProductPrices/index.tsx","utils/questionnaires.ts","pages/courses/course/Components/CourseAuthor/index.tsx"],"names":["StyledButton","styled","Button","_templateObject","_taggedTemplateLiteral","CourseAccessButton","_ref","_courseAccess$list2","_course$product2","course","onRequestAccess","t","useTranslation","push","useHistory","courseAccess","cart","addToCart","useContext","EscolaLMSContext","currentCourseAccess","useMemo","_courseAccess$list","_courseAccess$list$da","list","data","find","courseAccessItem","_courseAccessItem$cou","id","BuyButton","_jsx","loading","mode","onClick","_course$product","Number","product","then","routeRoutes","children","status","_jsxs","_Fragment","disabled","concat","CourseDetailsSidebarButtons","_ref2","_course$product4","_user$value","userOwnThisCourse","user","courseInCart","_cart$value","value","items","some","item","_course$product3","product_id","userIsCourseAuthor","isPast","Date","active_to","Text","active_from","CoursesDetailsSidebar","_course$product5","_course$product6","_course$product7","_course$product8","_course$product9","_course$product10","theme","useTheme","useParams","progress","courseId","setProgress","useState","undefined","loaded","fetchCourseProgress","courseProgressDetails","useEffect","byId","catch","useCourseProgress","owned","userCourseAccess","currentCourse","progressMap","filter","length","isMobile","PricingCard","mobile","Title","level","as","title","className","price_old","formatPrice","tax_rate","price","ContentLoader","ProductPrices","taxRate","oldPrice","size","duration","IconText","icon","IconCamera","text","lessons","IconSquares","language","users_count","CourseProgress","IconWin","width","height","style","fontSize","marginTop","marginBottom","Link","to","marginRight","color","primaryColor","CourseProgramPreview","topic","apiUrl","topicRender","_topic$topicable","_topic$topicable2","topicable_type","TopicType","H5P","H5Player","h5pObject","topicable","content","hideActionButtons","OEmbed","OEmbedPlayer","url","RichText","MarkdownPlayer","onLoad","console","log","Video","Audio","AudioVideoPlayer","Image","ImagePlayer","Pdf","PdfPlayer","pageConfig","Scorm","border","src","uuid","API","GiftQuiz","GiftQuizPlayer","React","Fragment","StyledCoursePage","div","gray1","gray5","_ref3","cardRadius","_ref4","ModalOverwriteGlobal","createGlobalStyle","_templateObject2","CourseCompanies","settings","courseLogos","Object","values","map","_","index","_settings$value","ResponsiveImage","path","srcSizes","CourseMainInfo","courseData","questionnaires","reviewQuestions","setReviewQuestions","fetchQuestionnaireStars","getReviewQuestions","async","fetchedObjects","Promise","all","reviewQuestionsId","response","QuestionnaireModelType","COURSE","questionId","success","getReviewQuestionStar","reduce","result","currentQuestion","matchingReviewQuestion","questions","type","QuestionType","REVIEW","public_answers","Row","Col","lg","LabelListItem","ThumbUp","Medal","String","getAverageRate","StarOrange","image_path","categories","variant","name","formatDate","StyledStack","Stack","StyledTitle","PaginationContainerStyled","_templateObject3","initialFunction","warn","CourseRatingsContext","createContext","questionnaireId","setQuestionnaireId","setQuestionId","reviewId","CourseRatingProvider","_firstQuestionnaire$q","firstQuestionnaire","at","firstQuestion","RATE","getCourseQuestionnaireReviewQuestion","questionType","Provider","useCourseRatingContext","context","Error","initialState","total","per_page","page","current_page","useCourseAnswers","questionnaireAnswers","setQuestionnaireAnswers","answersMeta","setAnswersMeta","setLoading","fetchQuestionnairesAnswers","handleFetchQuestionnairesAnswers","useCallback","order_by","order","res","prev","meta","error","toast","finally","onPageChange","Container","white","AnswerComponent","question","note","updated_at","rate","$gap","avatar","Avatar","alt","HeaderUser","$justifyContent","noMargin","APP_CONFIG","defaultDateFormat","CourseRatingsQuestionnairesContent","Spin","Pagination","perPage","currentPage","onPage","CourseRatingsQuestionnairesDropdowns","questionnairesFilter","label","questionnaireQuestionFilter","_questionnaires$find","element","Dropdown","onChange","e","options","placeholder","backgroundColor","CourseRatingsQuestionnaires","memo","CourseRatingsReviewsContent","CourseRatingsReviews","CourseRatings","CourseRelated","courses","sliderSettings","arrows","infinite","speed","slidesToShow","draggable","slidesToScroll","responsive","breakpoint","centerMode","CoursesSlider","CoursePage","_course$value","setQuestionnaires","courseAccessModalVisible","setCourseAccessModalVisible","previewTopic","setPreviewTopic","fetchCourse","fetchCourses","fetchCourseAccess","fetchQuestionnaires","closeCourseAccessModal","openCourseAccessModal","refreshCurrentCourseAccess","course_id","message","Layout","metaTitle","Loader","md","Breadcrumbs","home","summary","fixContentForMarkdown","MarkdownRenderer","author","CourseAuthor","description","CourseProgram","onTopicClick","Modal","onClose","visible","animation","maskAnimation","destroyOnClose","bodyStyle","maxHeight","overflow","ModalCourseAccess","onCancel","onSuccess","defaultDateTimeFormat","tutorPlaceholderPath","date","dateFormat","arguments","format","isTwoDatesEqual","firstDate","secondDate","createArrayWithDateAndTimes","terms","newTerms","forEach","term","existingTerm","times","removePastDates","dates","isAfter","sortDates","sort","a","b","getTime","extractTimeUnits","input","matches","Array","from","matchAll","extractedUnits","foundMatch","match","parseInt","unit","numberRegex","addTimeToDate","time","add","years","year","months","month","weeks","week","days","day","hours","hour","minutes","minute","seconds","second","StyledPlaceholder","gray4","gray2","CourseImgPlaceholder","Placeholder","SpinnerWrapper","StyledDiv","props","Tags","tags","onTagClick","open","setOpen","firstTags","splice","otherTags","parentRef","useRef","tagClick","ref","tag","_title","tagTitle","Badge","onMouseLeave","onMouseOver","otherTag","_title2","otherTagTitle","CategoriesBreadCrumbs","_parentRef$current","onCategoryClick","firstCategories","otherCategories","categoryClick","isOpen","BreadCrumbs","hyphen","category","onFocus","current","getBoundingClientRect","StyledBreadcrumbs","getOrderProductsNames","_order$items","join","getNotificationTranslationObject","notification","_notification$data$st","_notification$data$st2","_notification$data$st3","_notification$data$st4","_notification$data$pr","_notification$data$pr2","_notification$data$pr3","_notification$data$pr4","_notification$data$pr5","_notification$data$pr6","_notification$data$pr7","_notification$data$pa","_notification$data$pa2","_notification$data$pa3","_notification$data$pa4","_notification$data$pa5","_notification$data$pa6","_notification$data$pa7","_notification$data$co","_notification$data$co2","_notification$data$co3","_notification$data$co4","_notification$data$co5","_notification$data$co6","_notification$data$co7","_notification$data$co8","_notification$data$co9","_notification$data$co10","_notification$data$co11","_notification$data$co12","_notification$data$co13","_notification$data$to","_notification$data$co14","_notification$data$co15","_notification$data$co16","_notification$data$co17","_notification$data$co18","_notification$data$co19","_notification$data$co20","_notification$data$co21","_notification$data$co22","_notification$data$co23","_notification$data$co24","_notification$data$co25","_notification$data$co26","translation","event","EventTypes","StationaryEventAuthorAssigned","object","stationaryEvent","StationaryEventAuthorUnassigned","StationaryEventAssigned","StationaryEventUnassigned","AbandonedCartEvent","OrderCancelled","OrderCreated","OrderPaid","ProductableAttached","productable","ProductableDetached","ProductAddedToCart","ProductAttached","ProductBought","ProductDetached","ProductRemovedFromCart","PaymentCancelled","amount","payment","payable","PaymentFailed","PaymentRegistered","PaymentSuccess","CourseAccessFinished","CourseAccessStarted","CourseAssigned","CourseDeadlineSoon","CoursedPublished","CourseFinished","CourseStarted","CourseStatusChanged","CourseTutorAssigned","CourseTutorUnassigned","CourseUnassigned","TopicFinished","TopicTypeChanged","topicContent","ReportTerm","consultationTerm","consultation","executed_at","first_name","last_name","ApprovedTerm","ApprovedTermWithTrainer","ChangeTerm","RejectTerm","RejectTermWithTrainer","ReminderAboutTerm","ReminderTrainerAboutTerm","roundTo","val","places","divider","returnedValue","Math","round","pow","toLocaleString","minimumFractionDigits","maximumFractionDigits","userId","authors","findIndex","getFormattedDifferenceRelativeToNow","daysDifference","differenceInDays","hoursDifference","differenceInHours","minutesDifference","differenceInMinutes","timeDifferenceInDays","relativeTimeFormatter","Intl","RelativeTimeFormat","CardWrapper","CourseCardWrapper","StyledPagination","LEFT_PAGE","RIGHT_PAGE","range","step","i","pageNeighbours","lastPage","ceil","fetchPageNumbers","totalNumbers","startPage","max","endPage","min","pages","hasLeftSpill","hasRightSpill","spillOffset","extraPages","href","preventDefault","StyledLoader","dm__background","background","Preloader","document","body","StyledSpan","span","StyledSpanTail","StyledSpanChild","TextEllipsis","tail","firstText","slice","secondText","Subtitle","linkTo","subtitle","textLength","bold","getSubtitleComponent","Content","defaultSliderSettings","dots","history","Slider","onSwipe","allHiddenSlides","querySelectorAll","visibleSlide","removeAttribute","hiddenSlide","setAttribute","onInit","dotsPosition","CourseCard","image","tagName","actions","footer","UserIcon","lessons_count","LessonsIcon","rowGap","Prices","getQuestionnaires","fetchQuestionnaire","onSucces","onFinish","questionnairesWithCombinedQuestions","getQuestionnaire","combinedQuestions","matchingElement","updatedElement","position","sum","avg_rate","toFixed","_questionnaires$find$","API_URL","window","REACT_APP_API_URL","process","author_id","Tutor","path_avatar","rating","ratingValue","fullName","coursesInfo","bio"],"mappings":"8RAgBA,MAAMA,EAAeC,kBAAOC,SAAPD,CAAcE,MAAAC,YAAA,qDAK7BC,EAAwDC,IAGvD,IAADC,EAAAC,EAAA,IAHyD,OAC7DC,EAAM,gBACNC,GACDJ,EACC,MAAM,EAAEK,GAAMC,eACR,KAAEC,GAASC,eACX,aAAEC,EAAY,KAAEC,EAAI,UAAEC,GAAcC,qBAAWC,oBAE/CC,EAAsBC,mBAC1B,SAAAC,EAAAC,EAAA,OACmB,QADnBD,EACEP,EAAaS,YAAI,IAAAF,GAAM,QAANC,EAAjBD,EAAmBG,YAAI,IAAAF,OAAN,EAAjBA,EAAyBG,MACtBC,IAAgB,IAAAC,EAAA,OAAqB,OAAhBD,QAAgB,IAAhBA,GAAwB,QAARC,EAAhBD,EAAkBlB,cAAM,IAAAmB,OAAR,EAAhBA,EAA0BC,MAAOpB,EAAOoB,EAAE,GACjE,GACH,CAAkB,QAAlBtB,EAACQ,EAAaS,YAAI,IAAAjB,OAAA,EAAjBA,EAAmBkB,KAAMhB,EAAOoB,KAG7BC,EAAYT,mBAChB,IACEU,cAAC7B,SAAM,CACL8B,QAAShB,EAAKgB,QACdC,KAAK,YACLC,QAASA,KAAA,IAAAC,EAAA,OACPlB,EAAUmB,OAAqB,QAAfD,EAAC1B,EAAO4B,eAAO,IAAAF,OAAA,EAAdA,EAAgBN,KAAKS,MAAK,IACzCzB,EAAK0B,IAAYvB,OAClB,EACFwB,SAEA7B,EAAE,iBAGP,CAACM,EAAWD,EAAKgB,QAAuB,QAAhBxB,EAAEC,EAAO4B,eAAO,IAAA7B,OAAA,EAAdA,EAAgBqB,GAAIhB,EAAMF,IAGtD,OAAKS,EAW8B,aAA/BA,EAAoBqB,OAEpBC,eAAAC,WAAA,CAAAH,SAAA,CACET,cAAC/B,EAAY,CAACiC,KAAK,YAAYW,UAAQ,EAAAJ,SACpC7B,EAAE,0BAEJmB,KAK4B,aAA/BV,EAAoBqB,OAEpBV,cAAC7B,SAAM,CAACgC,QAASA,IAAMrB,EAAK,WAADgC,OAAYpC,EAAOoB,KAAOI,KAAK,YAAWO,SAClE7B,EAAE,sBAKFmB,EA5BHY,eAAAC,WAAA,CAAAH,SAAA,CACET,cAAC/B,EAAY,CAACiC,KAAK,YAAYC,QAASxB,EAAgB8B,SACrD7B,EAAE,gCAEJmB,IAwBS,EAsEHgB,MA7DsCC,IAI9C,IAADC,EAAAC,EAAA,IAJgD,OACpDxC,EAAM,kBACNyC,EAAiB,gBACjBxC,GACDqC,EACC,MAAM,KAAE/B,EAAI,KAAEmC,GAASjC,qBAAWC,qBAC5B,EAAER,GAAMC,eACR,KAAEC,GAASC,cAEXsC,EAAe/B,mBAAQ,KAAO,IAADgC,EACjC,OAAW,OAAJrC,QAAI,IAAJA,GAAW,QAAPqC,EAAJrC,EAAMsC,aAAK,IAAAD,OAAP,EAAJA,EAAaE,MAAMC,MACvBC,IAAS,IAAAC,EAAA,OAAKtB,OAAOqB,EAAKE,cAAgBvB,OAAqB,QAAfsB,EAACjD,EAAO4B,eAAO,IAAAqB,OAAA,EAAdA,EAAgB7B,GAAG,GACtE,GACA,CAAe,QAAfmB,EAACvC,EAAO4B,eAAO,IAAAW,OAAA,EAAdA,EAAgBnB,GAAIb,IAExB,OAAI4C,YAAmBxB,OAAiB,QAAXa,EAACE,EAAKG,aAAK,IAAAL,OAAA,EAAVA,EAAYpB,IAAKpB,GAE3CsB,cAAC7B,SAAM,CAACgC,QAASA,IAAMrB,EAAK,WAADgC,OAAYpC,EAAOoB,KAAOI,KAAK,YAAWO,SAClE7B,EAAE,sBAKLkD,YAAO,IAAIC,KAAKrD,EAAOsD,WAAa,KAC/BhC,cAACiC,OAAI,CAAAxB,SAAE7B,EAAE,2BAEdyC,EAEArB,cAAC7B,SAAM,CAAC+B,KAAK,YAAYC,QAASA,IAAMrB,EAAK0B,IAAYvB,MAAMwB,SAC5D7B,EAAE,6BAILuC,GAAqBW,YAAO,IAAIC,KAAKrD,EAAOwD,aAAe,KAE3DlC,cAAC7B,SAAM,CAACgC,QAASA,IAAMrB,EAAK,WAADgC,OAAYpC,EAAOoB,KAAOI,KAAK,YAAWO,SAClE7B,EAAE,sBAILuC,EACKnB,cAACiC,OAAI,CAAAxB,SAAE7B,EAAE,2BAEdwC,EAAKG,OAAS7C,EAAO4B,QAErBN,cAAC1B,EAAkB,CAACI,OAAQA,EAAQC,gBAAiBA,IAGpDD,EAAO4B,QAIVN,cAAC7B,SAAM,CACLgC,QAASA,IAAMrB,EAAK,4BAADgC,OAA6BpC,EAAOoB,KACvDI,KAAK,YAAWO,SAEf7B,EAAE,gBAPEoB,cAACiC,OAAI,CAAAxB,SAAE7B,EAAE,iCAQP,E,kBC2CEuD,MA3KgC5D,IAGxC,IAADE,EAAAD,EAAAmD,EAAAV,EAAAmB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAH0C,OAC9C/D,EAAM,gBACNC,GACDJ,EACC,MAAMmE,EAAQC,sBACR,KAAEvB,EAAI,aAAEpC,GAAiBG,qBAAWC,qBACpC,EAAER,GAAMC,eACR,GAAEiB,GAAO8C,eACT,SAAEC,GCpBwBC,KAChC,MAAOD,EAAUE,GAAeC,mBAAuB,CACrDtD,UAAMuD,EACNC,QAAQ,EACRjD,SAAS,KAEL,KAAEmB,EAAI,oBAAE+B,EAAmB,sBAAEC,GACjCjE,qBAAWC,oBAuCb,OArCAiE,qBAAU,KAEND,EAAsBE,MACtBF,EAAsBE,KAAKjD,OAAOyC,KAClCM,EAAsBE,KAAKjD,OAAOyC,IAAWvB,OAE7CwB,EAAY,IACPF,EACHnD,KAAM0D,EAAsBE,KAAKjD,OAAOyC,IAAWvB,MACnD2B,QAAQ,EACRjD,SAAS,GAEb,GAEC,CAAC6C,EAAUM,IAEdC,qBAAU,KACA,OAAJjC,QAAI,IAAJA,MAAMG,OAAUH,EAAKnB,SAAY4C,EAAS5C,SAAY4C,EAASK,OAYvDL,EAASK,QACnBH,EAAY,IACPF,EACHK,QAAQ,KAdVH,EAAY,IACPF,EACH5C,SAAS,IAEXkD,EAAoBL,GAAUS,OAAM,IAClCR,EAAY,IACPF,EACHK,QAAQ,EACRjD,SAAS,MAQf,GACC,CAACmB,EAAMyB,EAAUM,EAAqBL,IAElC,CACLD,WACD,ED5BoBW,CAAkBnD,OAAOP,IAExCqB,EAAoB7B,mBACxB,SAAAc,EAAA,OAAY,OAAN1B,QAAM,IAANA,GAAe,QAAT0B,EAAN1B,EAAQ4B,eAAO,IAAAF,OAAT,EAANA,EAAiBqD,KAAK,GAC5B,CAAO,OAAN/E,QAAM,IAANA,GAAe,QAATD,EAANC,EAAQ4B,eAAO,IAAA7B,OAAT,EAANA,EAAiBgF,QAEdC,EAAmBpE,mBACvB,SAAAC,EAAAC,EAAA,QACqB,QAAlBD,EAACP,EAAaS,YAAI,IAAAF,GAAM,QAANC,EAAjBD,EAAmBG,YAAI,IAAAF,IAAvBA,EAAyBG,MACxBC,IAAgB,IAAAC,EAAA,OACC,OAAhBD,QAAgB,IAAhBA,GAAwB,QAARC,EAAhBD,EAAkBlB,cAAM,IAAAmB,OAAR,EAAhBA,EAA0BC,MAAOpB,EAAOoB,IACZ,aAA5BF,EAAiBc,MAAqB,IACzC,GACH,CAAChC,EAAOoB,GAAqB,QAAnBtB,EAAEQ,EAAaS,YAAI,IAAAjB,OAAA,EAAjBA,EAAmBkB,OAG3BiE,EAAgBrE,mBAAQ,IAAMuD,EAASnD,MAAQ,IAAI,CAACmD,EAASnD,OAE7DkE,EAActE,mBAAQ,KAC1B,GAAI8B,EAAKG,QAAUJ,GAAqBuC,GAAmB,CAGzD,QADe,OAAbC,QAAa,IAAbA,OAAa,EAAbA,EAAeE,QAAQnC,GAAyB,IAAhBA,EAAKhB,WAAiB,IACjCoD,MACzB,CACE,OAAO,CACT,GACC,CAACH,EAAevC,EAAKG,MAAOmC,EAAkBvC,IAEjD,OAAQ4C,WAkGNpD,eAACqD,cAAW,CAACC,QAAM,EAAAxD,SAAA,CACjBT,cAACkE,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SACvB/B,EAAO2F,QAEV1D,eAAA,OAAK2D,UAAU,sBAAqB7D,SAAA,CAClCE,eAAA,OAAAF,SAAA,EACiB,QAAd4B,EAAA3D,EAAO4B,eAAO,IAAA+B,OAAA,EAAdA,EAAgBkC,YACfvE,cAAA,OAAKsE,UAAU,wBAAuB7D,SACpCE,eAACuD,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SAAA,CACvB+D,YACe,QADJlC,EACV5D,EAAO4B,eAAO,IAAAgC,OAAA,EAAdA,EAAgBiC,UACF,QADWhC,EACzB7D,EAAO4B,eAAO,IAAAiC,OAAA,EAAdA,EAAgBkC,UACf,IAAI,eAKb9D,eAACuD,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SAAA,CACvB+D,YAA0B,QAAfhC,EAAC9D,EAAO4B,eAAO,IAAAkC,OAAA,EAAdA,EAAgBkC,MAAqB,QAAhBjC,EAAE/D,EAAO4B,eAAO,IAAAmC,OAAA,EAAdA,EAAgBgC,UAAU,iBAGlEzE,cAAA,OAAAS,SACGoC,EAASK,OACRlD,cAACe,EAA2B,CAC1BpC,gBAAiBA,EACjBD,OAAQA,EACRyC,kBAAmBA,IAGrBnB,cAAC2E,IAAa,YA9HtBhE,eAACqD,cAAW,CAAAvD,SAAA,CACVT,cAACkE,QAAK,CAACC,MAAO,EAAGC,GAAG,KAAI3D,SACrB/B,EAAO2F,QAEVrE,cAAC4E,IAAa,CACZF,MAAqB,QAAhB/C,EAAEjD,EAAO4B,eAAO,IAAAqB,OAAA,EAAdA,EAAgB+C,MACvBG,QAAuB,QAAhB5D,EAAEvC,EAAO4B,eAAO,IAAAW,OAAA,EAAdA,EAAgBwD,SACzBK,SAAwB,QAAhB1C,EAAE1D,EAAO4B,eAAO,IAAA8B,OAAA,EAAdA,EAAgBmC,YAE3B1B,EAASK,OACRlD,cAACe,EAA2B,CAC1BpC,gBAAiBA,EACjBD,OAAQA,EACRyC,kBAAmBA,IAGrBnB,cAAC2E,IAAa,IAEhBhE,eAACsB,OAAI,CAAC8C,KAAM,KAAKtE,SAAA,CAAC,IAAE7B,EAAE,wBACtB+B,eAAA,OAAK2D,UAAU,wBAAuB7D,SAAA,CACnC/B,EAAOsG,UACNhF,cAACiF,WAAQ,CACPC,KAAMlF,cAACmF,IAAU,IACjBC,KAAI,GAAAtE,OAAKlC,EAAE,uBAAsB,MAAAkC,OAAKpC,EAAOsG,YAGhDtG,EAAO2G,SACNrF,cAACiF,WAAQ,CACPC,KAAMlF,cAACsF,IAAW,IAClBF,KAAI,GAAAtE,OAAKlC,EAAE,sBAAqB,MAAAkC,OAAKpC,EAAO2G,QAAQvB,UAGvDpF,EAAO6G,UACNvF,cAACiF,WAAQ,CACPC,KAAMlF,cAACsF,IAAW,IAClBF,KAAI,GAAAtE,OAAKlC,EAAE,uBAAsB,MAAAkC,OAAKpC,EAAO6G,YAGhD7G,EAAOyF,OACNnE,cAACiF,WAAQ,CACPC,KAAMlF,cAACsF,IAAW,IAClBF,KAAI,GAAAtE,OAAKlC,EAAE,oBAAmB,MAAAkC,OAAKpC,EAAOyF,SAG7CzF,EAAO8G,YACNxF,cAACiF,WAAQ,CACPC,KAAMlF,cAACsF,IAAW,IAClBF,KAAI,GAAAtE,OAAKlC,EAAE,uBAAsB,MAAAkC,OAAKpC,EAAO8G,eAG/C,MAGFpE,EAAKG,MAcLZ,eAAC8E,iBAAc,CACb5C,SACEc,IAA8B,OAAbA,QAAa,IAAbA,OAAa,EAAbA,EAAeG,QAAS,EACrCF,EAAcD,EAAcG,OAC5B,EAENoB,KACErC,EAASK,OACPlD,cAAC0F,IAAO,IAER1F,cAAC2E,IAAa,CAACgB,MAAM,OAAOC,OAAO,SAGvCvB,MAAOzF,EAAE,yBAAyB6B,SAAA,CAElCE,eAAA,UAAQkF,MAAO,CAAEC,SAAU,IAAKrF,SAAA,CAC7B7B,EAAU,uBAAuB,IAAEgF,GAAe,EAAG,IACrDhF,EAAU,iBAAkB,IAC5B+E,IAA8B,OAAbA,QAAa,IAAbA,OAAa,EAAbA,EAAeG,QAAS,EACtCH,EAAcG,OACd,EAAG,IACNlF,EAAU,yBAEboB,cAAA,KAAG6F,MAAO,CAAEE,UAAW,EAAGC,aAAc,GAAIvF,SACzC7B,EAAU,0CArCf+B,eAACsB,OAAI,CAAC8C,KAAK,KAAItE,SAAA,CACbT,cAACiG,IAAI,CACHC,GAAE,4BAAApF,OAA8BpC,EAAOoB,IACvC+F,MAAO,CACLM,YAAa,MACbC,MAAO1D,EAAM2D,cACb5F,SAED7B,EAAU,sBAEZA,EAAE,iCAmEV,E,sIE3GY0H,I,IAAAA,EArEV/H,IAAgB,IAAf,MAAEgI,GAAOhI,EACb,MAAM,OAAEiI,GAAWrH,qBAAWC,oBACxBqH,EAAcnH,mBAAQ,KAAO,IAADoH,EAAAC,EAChC,GAAIJ,GAASA,EAAMK,eACjB,OAAQL,EAAMK,gBACZ,KAAKC,YAAUC,IAEb,OACE9G,cAAC+G,WACC,CACAC,UAAgB,OAALT,QAAK,IAALA,GAAgB,QAAXG,EAALH,EAAOU,iBAAS,IAAAP,OAAX,EAALA,EAAkBQ,QAC7BC,mBAAiB,IAGvB,KAAKN,YAAUO,OACb,OAAOpH,cAACqH,eAAY,CAACC,IAAU,OAALf,QAAK,IAALA,GAAgB,QAAXI,EAALJ,EAAOU,iBAAS,IAAAN,OAAX,EAALA,EAAkBpF,QAC9C,KAAKsF,YAAUU,SACb,OACEvH,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACwH,iBAAc,CACb/G,SAAU8F,EAAMU,UAAU1F,MAC1BkG,OAAQA,IAAMC,QAAQC,IAAI,6BAIlC,KAAKd,YAAUe,MACf,KAAKf,YAAUgB,MACb,OAAO7H,cAAC8H,mBAAgB,CAACR,IAAKf,EAAMU,UAAUK,MAChD,KAAKT,YAAUkB,MACb,OAAO/H,cAACgI,cAAW,CAACzB,MAAOA,EAAOkB,OAAQA,IAAMC,QAAQC,IAAI,MAC9D,KAAKd,YAAUoB,IACb,OACEjI,cAACkI,YAAS,CACRZ,IAAKf,EAAMU,UAAUK,IACrBa,WAAY,CACVxC,MAAO,OAIf,KAAKkB,YAAUuB,MACb,OACEpI,cAAA,OAAKsE,UAAU,gBAAe7D,SAC5BT,cAAA,UACEqE,MAAOkC,EAAMU,UAAU1F,MACvBoE,MAAM,OACNC,OAAO,QACPC,MAAO,CACLwC,OAAQ,QAEVC,IAAG,GAAAxH,OAAK0F,EAAM,oBAAA1F,OAAmByF,EAAMU,UAAUsB,UAIzD,KAAKC,MAAI3B,UAAU4B,SACjB,OAAOzI,cAAC0I,IAAc,CAACnC,MAAOA,IAChC,QACE,OAAOvG,cAAA,OAAAS,SAAM8F,EAAMK,iBAGzB,OAAO5G,cAAC2I,IAAMC,SAAQ,GAAG,GACxB,CAACrC,EAAOC,IAEX,OACExG,cAAA,OAAKsE,UAAU,sBAAqB7D,SAClCT,cAAA,OAAKsE,UAAU,8BAA6B7D,SAAEgG,KAC1C,E,8DC5EH,MAAMoC,EAAmB3K,UAAO4K,IAAG1K,MAAAC,YAAA,w9GAMhCE,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,MAAqB,SAAfmE,EAAMxC,KAAkBwC,EAAMqG,MAAQrG,EAAMsG,KAAK,IAsGnDhI,IAAA,IAAC,MAAE0B,GAAO1B,EAAA,MACb,SAAf0B,EAAMxC,KAAkBwC,EAAMqG,MAAQrG,EAAMsG,KAAK,IAClCC,IAAA,IAAC,MAAEvG,GAAOuG,EAAA,OAAKvG,EAAMwG,UAAU,IAM5BC,IAAA,IAAC,MAAEzG,GAAOyG,EAAA,MACb,SAAfzG,EAAMxC,KAAkBwC,EAAMqG,MAAQrG,EAAMsG,KAAK,GA8CvCjF,WAAW,QAAU,SAC1BA,WAAW,QAAU,QAClBA,WAAW,IAAM,SASlBqF,GAAuBC,4BAAiBC,MAAAjL,YAAA,yE,wBCxK9C,MAAMkL,GAAkBA,KAC7B,MAAM,EAAE3K,GAAMC,eAER,SAAE2K,GAAarK,qBAAWC,oBAEhC,OACEuB,eAAA,WAAS2D,UAAU,mBAAkB7D,SAAA,CACnCT,cAACiC,OAAI,CAAAxB,SACHT,cAAA,UAAAS,SAAS7B,EAAE,iCAEboB,cAAA,OAAKsE,UAAU,gBAAe7D,SAC3B+I,GACCA,EAASjI,MAAMkI,aACfC,OAAOC,OAAOH,EAASjI,MAAMkI,aAAaG,KAAI,CAACC,EAAGC,KAAK,IAAAC,EAAA,OACrD/J,cAAA,OAAKsE,UAAU,iBAAgB7D,SAC7BT,cAACgK,mBAAe,CACdC,MAAc,OAART,QAAQ,IAARA,GAAe,QAAPO,EAARP,EAAUjI,aAAK,IAAAwI,OAAP,EAARA,EAAiBN,YAAY,OAAD3I,OAAQgJ,EAAQ,MAAQ,GAC1DI,SAAU,CAAC,IAAK,IAAK,QAHYJ,EAK/B,QAGJ,E,kCCTP,MAAMK,GAA0C5L,IAGhD,IAHiD,WACtD6L,EAAU,eACVC,GACD9L,EACC,MAAO+L,EAAiBC,GAAsBvH,mBAE5C,KACI,wBAAEwH,GAA4BrL,qBAAWC,qBACzC,GAAEU,GAAO8C,eACT,EAAEhE,GAAMC,cAmBR4L,EAAqBA,KAjBGC,WAC5B,MAAMC,QAAuBC,QAAQC,IACnCC,EAAkBlB,KAAIc,UACpB,MAAMK,QAAiBP,EACrBQ,IAAuBC,OACvB5K,OAAOP,GACPoL,GAEF,OAAIH,EAASI,QACJJ,EAASrL,KAEX,IAAI,KAGf6K,EAAmBI,EAA2C,EAgB9DS,EAZyBf,GAAkB,IAAIgB,QAC7C,CAACC,EAAkBC,KACjB,MAAMC,EAAyBD,EAAgBE,UAAU9L,MACtD4L,GACCA,EAAgBG,OAASC,IAAaC,QACtCL,EAAgBM,iBAGpB,OADAL,GAA0BF,EAAOxM,KAAK0M,EAAuB1L,IACtDwL,CAAM,GAEf,IAEoC,EAMxC,OAJAjI,qBAAU,KACRgH,EAAevG,OAAS,GAAK2G,GAAoB,GAChD,CAACJ,IAGF1J,eAAA,WAAS2D,UAAU,+BAA8B7D,SAAA,CAC/CE,eAACmL,MAAG,CAAArL,SAAA,CACFE,eAACoL,MAAG,CAACC,GAAI,EAAEvL,SAAA,CACTT,cAACkE,QAAK,CAACD,OAAQF,WAAUI,MAAO,EAAE1D,SAC/B2J,EAAW/F,QAEd1D,eAAA,OAAK2D,UAAU,aAAY7D,SAAA,CACzBT,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CAAChI,OAAQF,WAAUM,MAAM,MAAMa,KAAMlF,cAACkM,IAAO,IAAIzL,SAC5D7B,EAAE,6BAGPoB,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CACZhI,OAAQF,WACRM,MAAOzF,EAAU,wBACjBsG,KAAMlF,cAACmM,IAAK,IAAI1L,SAEf7B,EAAE,+BAGPoB,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CACZhI,OAAQF,WACRM,MACEiG,EAAgBxG,OAAS,EACrBsI,OAAOC,aAAe/B,IACtB1L,EAAE,wBAERsG,KAAMlF,cAACsM,IAAU,IAAI7L,SAEpB7B,EAAE,sCAKXoB,cAAC+L,MAAG,CAACC,GAAI,EAAEvL,SACR2J,EAAWmC,YACVvM,cAAA,OAAKsE,UAAU,gBAAe7D,SAC5BT,cAACgK,mBAAe,CACdC,KAAMG,EAAWmC,WACjBrC,SAAU,CAAC,IAAW,IAAK,eAMrCvJ,eAAA,OAAK2D,UAAU,gCAA+B7D,SAAA,CAC3C2J,EAAWoC,YAAcpC,EAAWoC,WAAW1I,OAAS,GACvD9D,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CACZ5H,MAAOzF,EAAE,6BACT6N,QAAS,QAAQhM,SAEhB2J,EAAWoC,WAAW,GAAGE,SAI/BtC,EAAWjG,OACVnE,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CAAC5H,MAAOzF,EAAE,oBAAqB6N,QAAS,QAAQhM,SAC3D2J,EAAWjG,UAIjBiG,EAAWlI,aACVlC,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CAAC5H,MAAOzF,EAAE,wBAAyB6N,QAAS,QAAQhM,SAC/D2J,EAAWlI,YACRyK,aAAWvC,EAAWlI,aACtB,UAITkI,EAAWpF,UACVhF,cAAA,OAAKsE,UAAU,eAAc7D,SAC3BT,cAACiM,iBAAa,CAAC5H,MAAOzF,EAAE,uBAAwB6N,QAAS,QAAQhM,SAC9D2J,EAAWpF,kBAKZ,E,aCpJP,MAAM4H,GAAc1O,kBAAO2O,QAAP3O,CAAaE,QAAAC,YAAA,8CAK3ByO,GAAc5O,kBAAOgG,QAAPhG,CAAaoL,QAAAjL,YAAA,kCAI3B0O,GAA4B7O,UAAO4K,IAAGkE,QAAA3O,YAAA,6BCD7C4O,GAAkBA,IAAMvF,QAAQwF,KAAK,iBAY9BC,GAAuBC,wBAAyC,CAC3E/C,eAAgB,GAChBgD,gBAAiB,KACjBC,mBAAoBL,GACpB/B,WAAY,KACZqC,cAAeN,GACfO,cAAUvK,EACVH,cAAUG,IAOCwK,GAAuBlP,IAGd,IAADmP,EAAA,IAHgB,SACnCjN,EAAQ,eACR4J,GACc9L,EACd,MAAO8O,EAAiBC,GACtBtK,mBAAuD,OAClDkI,EAAYqC,GACjBvK,mBAAkD,OAC9C,GAAElD,GAAO8C,cACT+K,EAAmC,OAAdtD,QAAc,IAAdA,OAAc,EAAdA,EAAgBuD,GAAG,GACxCC,EAAkC,OAAlBF,QAAkB,IAAlBA,GAA6B,QAAXD,EAAlBC,EAAoBlC,iBAAS,IAAAiC,OAAX,EAAlBA,EAA+B/N,MACnDqB,IAAA,IAAC,KAAE0K,GAAM1K,EAAA,OAAK0K,IAASC,IAAamC,IAAI,IAEpCN,EAAWO,aAAqC,CACpD1D,iBACAgD,kBACAW,aAAcrC,IAAaC,SAgB7B,OAZAvI,qBAAU,KACc,OAAlBsK,QAAkB,IAAlBA,KAAoB7N,KAAOuN,GAC7BC,EAAmBK,EAAmB7N,GACxC,GACC,CAAmB,OAAlB6N,QAAkB,IAAlBA,OAAkB,EAAlBA,EAAoB7N,GAAIuN,IAE5BhK,qBAAU,KACS,OAAbwK,QAAa,IAAbA,KAAe/N,KAAOoL,GACxBqC,EAAcM,EAAc/N,GAC9B,GACC,CAAc,OAAb+N,QAAa,IAAbA,OAAa,EAAbA,EAAe/N,GAAIoL,IAGrBlL,cAACmN,GAAqBc,SAAQ,CAC5B1M,MAAO,CACL8I,iBACAgD,kBACAC,qBACApC,aACAqC,gBACAC,WACA1K,SAAUzC,OAAOP,IACjBW,SAEDA,GAC6B,EAIvByN,GAAyBA,KACpC,MAAMC,EAAUhP,qBAAWgO,IAE3B,IAAKA,GACH,MAAM,IAAIiB,MACR,uEAIJ,OAAOD,CAAO,E,cCzFhB,MAAME,GAAe,CACnBC,MAAO,EACPC,SAAU,EACVC,KAAM,EACNC,aAAc,GAQHC,GAAmBnQ,IAAsC,IAArC,WAAE2M,EAAU,SAAEpI,GAAiBvE,EAC9D,MAAOoQ,EAAsBC,GAA2B5L,wBAEtDC,IACK4L,EAAaC,GAAkB9L,mBAASqL,KACxCpO,EAAS8O,GAAc/L,oBAAS,IACjC,2BAAEgM,GAA+B7P,qBAAWC,qBAC5C,EAAER,GAAMC,cAERoQ,EAAmCC,uBACtCV,IACKtD,GAAcpI,IAChBiM,GAAW,GACXC,EACEhE,IAAuBC,OACvB5K,OAAOyC,GACPoI,EACA,CACEqD,SAAUM,EAAYN,SACtBC,KAAMA,EACNW,SAAU,aACVC,MAAO,SAGR7O,MAAM8O,IACDA,EAAIlE,UACNyD,EAAwBS,EAAI3P,MAC5BoP,GAAgBQ,IAAI,IACfA,EACHhB,MAAOe,EAAIE,KAAKjB,MAChBG,aAAcY,EAAIE,KAAKd,aACvBD,KAAMa,EAAIE,KAAKd,iBAEnB,IAEDlL,OAAOiM,IACNC,KAAMD,MAAM5Q,EAAU,oBACtB8I,QAAQC,IAAI6H,EAAM,IAEnBE,SAAQ,IAAMX,GAAW,KAC9B,GAEF,CAACF,EAAaG,EAA4BlM,EAAUoI,EAAYtM,IAG5D+Q,EAAeT,uBAAaV,IAChCM,GAAgBQ,IAAI,IACfA,EACHb,aAAcD,KACb,GACF,IAkBH,OAhBAnL,qBAAU,KACJwL,EAAYL,OAASK,EAAYJ,cACnCQ,EAAiCJ,EAAYJ,aAC/C,GACC,CACDI,EAAYJ,aACZI,EAAYL,KACZS,IAGF5L,qBAAU,KACRyL,EAAeT,IACfY,EAAiCZ,GAAaG,KAAK,GAElD,CAACtD,IAEG,CACL2D,cACAF,uBACA1O,UACA0P,eACD,E,iBCzFI,MAAMC,GAAY1R,kBAAO4N,MAAP5N,CAAWE,QAAAC,YAAA,mFAGpBE,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,OAAKmE,EAAMmN,KAAK,I,cCUnC,MAAMC,GAA4CvR,IAAmB,IAAlB,SAAEwR,GAAUxR,EACpE,MAAM,KAAE6C,EAAI,KAAE4O,EAAI,WAAEC,EAAU,KAAEC,GAASH,EACnCrN,EAAQC,qBAEd,OAAKqN,EAKHrP,eAACiP,GAAS,CAAAnP,SAAA,CACRE,eAACmL,MAAG,CAACqE,KAAM,GAAG1P,SAAA,CACXW,EAAKgP,OACJpQ,cAACqQ,SAAM,CAAC/H,IAAKlH,EAAKgP,OAAQE,IAAI,KAE9BtQ,cAACuQ,IAAU,CAACrQ,KAAqB,SAAfwC,EAAMxC,KAAkB,QAAU,SAGtDS,eAACkM,QAAK,CAAC2D,gBAAgB,gBAAe/P,SAAA,CACpCT,cAACkE,QAAK,CAACC,MAAO,EAAE1D,SAAEW,EAAKsL,OACvB1M,cAACiC,OAAI,CAAAxB,SAAEuP,UAGXrP,eAACkM,QAAK,CAACsD,KAAM,EAAE1P,SAAA,CACbT,cAACiC,OAAI,CAACwO,UAAQ,EAAAhQ,SACXkM,aAAWsD,EAAYS,KAAWC,qBAEpCT,EAAO,GACNvP,eAACmL,MAAG,CAACqE,KAAM,GAAG1P,SAAA,CACZT,cAACsM,IAAU,IACXtM,cAACiC,OAAI,CAAAxB,SAAEyP,aAxBRlQ,cAAAY,WAAA,GA4BK,ECtCHgQ,GAAqCrS,IAGpC,IAHqC,SACjDuE,EAAQ,WACRoI,GACM3M,EACN,MAAM,YAAEsQ,EAAW,QAAE5O,EAAO,aAAE0P,EAAY,qBAAEhB,GAC1CD,GAAiB,CACfxD,aACApI,aAGJ,OACE9C,cAAC4M,GAAW,CAAAnM,SACTR,EACCD,cAAC6Q,OAAI,IAELlQ,eAAAC,WAAA,CAAAH,SAAA,CACGkO,GACCA,EAAqB/E,KAAKmG,GACxB/P,cAAC8P,GAAe,CAACC,SAAUA,MAE9BlB,EAAYP,MAAQO,EAAYN,UAC/BvO,cAAC+M,GAAyB,CAAAtM,SACxBT,cAAC8Q,KAAU,CACTxC,MAAOO,EAAYP,MACnByC,QAASlC,EAAYN,SACrByC,YAAanC,EAAYJ,aACzBwC,OAAQtB,UAMN,EC9BLuB,GAAuC3S,IAEtC,IAFuC,eACnD8L,GACM9L,EACN,MAAM,gBAAE8O,EAAe,mBAAEC,EAAkB,WAAEpC,EAAU,cAAEqC,GACvDW,MACI,EAAEtP,GAAMC,cACR6D,EAAQC,qBAERwO,EAAuB7R,mBAC3B,IACE+K,EAAeT,KAAKlI,IAAI,CACtB0P,MAAO1P,EAAK2C,MACZ9C,MAAO6K,OAAO1K,EAAK5B,SAEvB,CAACuK,IAGGgH,EAA8B/R,mBAClC,SAAAgS,EAAA,OACgB,OAAdjH,QAAc,IAAdA,GACqD,QADvCiH,EAAdjH,EACI1K,MAAM4R,GAAYA,EAAQzR,KAAOuN,WAAgB,IAAAiE,OADvC,EAAdA,EAEI7F,UAAU5H,QAAQnC,GAASA,EAAKmK,iBACjChI,QAAQnC,GAASA,EAAKgK,OAASC,IAAaC,SAC5ChC,KAAKlI,IAAI,CACR0P,MAAO1P,EAAK2C,MACZ9C,MAAO6K,OAAO1K,EAAK5B,UACd,EAAE,GACb,CAACuN,EAAiBhD,IAGpB,OACE1J,eAACiM,GAAW,CAAAnM,SAAA,CACT0Q,EAAqBrN,OAAS,GAC7B9D,cAACwR,WAAQ,CACPC,SAAWC,GAAMpE,EAAmBjN,OAAOqR,EAAEnQ,QAC7CoQ,QAASR,EACTS,YAAahT,EAAE,kCACfiT,gBAAiBnP,EAAMmN,MACvBtO,MAA2B,OAApB4P,QAAoB,IAApBA,OAAoB,EAApBA,EAAsBxR,MAC3BqB,IAAA,IAAC,MAAEO,GAAOP,EAAA,OAAKO,IAAU6K,OAAOiB,EAAgB,MAItDrN,cAACwR,WAAQ,CACPC,SAAWC,GAAMnE,EAAclN,OAAOqR,EAAEnQ,QACxCoQ,QAASN,EACTO,YAAahT,EAAE,6BACfiT,gBAAiBnP,EAAMmN,MACvBtO,MAAkC,OAA3B8P,QAA2B,IAA3BA,OAA2B,EAA3BA,EAA6B1R,MAClCsJ,IAAA,IAAC,MAAE1H,GAAO0H,EAAA,OAAK1H,IAAU6K,OAAOlB,EAAW,QAGnC,ECzDL4G,GAA8BC,gBAAK,KAC9C,MAAM,eAAE1H,EAAc,SAAEvH,EAAQ,WAAEoI,GAAegD,MAC3C,EAAEtP,GAAMC,cAEd,OACE8B,eAAAC,WAAA,CAAAH,SAAA,CACET,cAAC8M,GAAW,CAAC3I,MAAO,EAAE1D,SAAE7B,EAAE,+BACzByL,EAAevG,OAAS,EACvBnD,eAAAC,WAAA,CAAAH,SAAA,CACET,cAACkR,GAAoC,CACnC7G,eAAgBA,IAEjBvH,GAAYoI,GACXlL,cAAC4Q,GAAkC,CACjC9N,SAAUA,EACVoI,WAAYA,OAKlBlL,cAACiC,OAAI,CAAAxB,SAAE7B,EAAU,qCAElB,ICnBMoT,GAA8BzT,IAG7B,IAH8B,SAC1CuE,EAAQ,WACRoI,GACM3M,EACN,MAAM,YAAEsQ,EAAW,QAAE5O,EAAO,aAAE0P,EAAY,qBAAEhB,GAC1CD,GAAiB,CACfxD,aACApI,aAGJ,OACE9C,cAAC4M,GAAW,CAAAnM,SACTR,EACCD,cAAC6Q,OAAI,IAELlQ,eAAAC,WAAA,CAAAH,SAAA,EACIkO,GAAwB,IAAI/E,KAAKmG,GACjC/P,cAAC8P,GAAe,CAACC,SAAUA,MAE5BlB,EAAYP,MAAQO,EAAYN,UAC/BvO,cAAC+M,GAAyB,CAAAtM,SACxBT,cAAC8Q,KAAU,CACTxC,MAAOO,EAAYP,MACnByC,QAASlC,EAAYN,SACrByC,YAAanC,EAAYJ,aACzBwC,OAAQtB,UAMN,ECnCLsC,GAAuBF,gBAAK,KACvC,MAAM,SAAEjP,EAAQ,SAAE0K,GAAaU,MACzB,EAAEtP,GAAMC,cAEd,OACE8B,eAAAC,WAAA,CAAAH,SAAA,CACET,cAAC8M,GAAW,CAAC3I,MAAO,EAAE1D,SAAE7B,EAAE,mCACzBkE,GAAY0K,GACXxN,cAACgS,GAA2B,CAC1BlP,SAAUA,EACVoI,WAAYsC,MAGf,ICTM0E,GAAwCH,gBACnDxT,IAAyB,IAAxB,eAAE8L,GAAgB9L,EACjB,OACEyB,cAACyN,GAAoB,CAACpD,eAAgBA,EAAe5J,SACnDT,cAAA,WAASsE,UAAU,iBAAgB7D,SACjCE,eAACmL,MAAG,CAAArL,SAAA,CACFT,cAAC+L,MAAG,CAAAtL,SACFT,cAAC8R,GAA2B,MAE9B9R,cAAC+L,MAAG,CAAAtL,SACFT,cAACiS,GAAoB,YAIN,I,cCZtB,MAAME,GAAgBA,KAC3B,MAAM,EAAEvT,GAAMC,eAER,QAAEuT,GAAYjT,qBAAWC,oBAEzBiT,EAAiB,CACrBC,QAAQ,EACRC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,WAAW,EACXC,eAAgB,EAChBC,WAAY,CACV,CACEC,WAAY,IACZrJ,SAAU,CACRkJ,WAAW,EACXD,aAAc,EACdE,eAAgB,IAGpB,CACEE,WAAY,IACZrJ,SAAU,CACRiJ,aAAc,EACdK,YAAY,EACZH,eAAgB,MAKxB,OACE3S,cAAA,WAASsE,UAAU,yBAAwB7D,SACzCT,cAAC4P,IAAS,CAAAnP,SACRT,cAAC8L,MAAG,CAAArL,SACFE,eAACoL,MAAG,CAACC,GAAI,EAAEvL,SAAA,CACTE,eAAA,OAAK2D,UAAU,oBAAmB7D,SAAA,CAChCT,cAACkE,QAAK,CAACC,MAAO,EAAGC,GAAG,KAAI3D,SACrB7B,EAAE,oCAEJwT,GAAWA,EAAQ3S,MAClBO,cAAC+S,KAAa,CACZX,QAASA,EAAQ3S,KAAKC,KACtB2S,eAAgBA,OAItB1R,eAAA,OAAK2D,UAAU,oBAAmB7D,SAAA,CAChCT,cAACkE,QAAK,CAACC,MAAO,EAAGC,GAAG,KAAI3D,SACrB7B,EAAE,8BAEJwT,GAAWA,EAAQ3S,MAClBO,cAAC+S,KAAa,CACZX,QAASA,EAAQ3S,KAAKC,KACtB2S,eAAgBA,eAOpB,ECgHCW,UA3JIA,KAAO,IAADC,EACvB,MAAO5I,EAAgB6I,GAAqBlQ,mBAA8B,KACnEmQ,EAA0BC,GAC/BpQ,oBAAS,IACJqQ,EAAcC,GAAmBtQ,sBAClC,GAAElD,GAAO8C,eACT,EAAEhE,GAAMC,eACR,OACJH,EAAM,YACN6U,EAAW,aACXC,EAAY,kBACZC,EAAiB,oBACjBC,GACEvU,qBAAWC,oBAETuU,EAAyBzE,uBAC7B,IAAMkE,GAA4B,IAClC,IAGIQ,EAAwB1E,uBAC5B,IAAMkE,GAA4B,IAClC,IAGIS,EAA6B3E,uBACjC,IACEuE,EAAkB,CAChBK,UAAWzT,OAAOP,GAClB2O,aAAc,EACdF,SAAU,KAEd,CAACzO,EAAI2T,IAeP,OAZApQ,qBAAU,KACRmQ,EAAa,CAAEjF,SAAU,IACrBzO,IACFyT,EAAYlT,OAAOP,IACnB+T,IACAH,EAAoB1I,IAAuBC,OAAQ5K,OAAOP,IAAKS,MAC5DwK,GAAaA,EAASI,SAAW+H,EAAkBnI,EAASrL,QAEjE,GAEC,CAACI,IAEApB,EAAO8Q,MACFxP,cAAA,OAAAS,SAAM/B,EAAO8Q,MAAMuE,UAI1BpT,eAACqT,IAAM,CAACC,WAAiB,OAANvV,QAAM,IAANA,GAAa,QAAPuU,EAANvU,EAAQ6C,aAAK,IAAA0R,OAAP,EAANA,EAAe5O,QAAS,UAAU5D,SAAA,CAClD/B,EAAOuB,SAAWD,cAACkU,IAAM,KACxBxV,EAAOuB,SAAWvB,EAAO6C,OACzBZ,eAAAC,WAAA,CAAAH,SAAA,CACEE,eAACkI,EAAgB,CAAApI,SAAA,CACfT,cAAC4P,IAAS,CAAAnP,SACRE,eAACmL,MAAG,CAAArL,SAAA,CACFE,eAACoL,MAAG,CAACoI,GAAI,GAAInI,GAAI,EAAEvL,SAAA,CACjBT,cAACoU,IAAW,CACV5S,MAAO,CACLxB,cAACiG,IAAI,CAACC,GAAI1F,IAAY6T,KAAK5T,SAAE7B,EAAE,UAC/BoB,cAACiG,IAAI,CAACC,GAAI1F,IAAY4R,QAAQ3R,SAAE7B,EAAE,aAClCoB,cAACiC,OAAI,CAAC8C,KAAK,KAAItE,SAAE/B,EAAO6C,MAAM8C,WAGlCrE,cAACmK,GAAc,CACbC,WAAY1L,EAAO6C,MACnB8I,eAAgBA,IAElBrK,cAACuJ,GAAe,IACf7K,EAAO6C,MAAM+S,SACoC,KAAhDC,gCAAsB7V,EAAO6C,MAAM+S,UACjCtU,cAAA,WAASsE,UAAU,qBAAoB7D,SACrCT,cAACwU,mBAAgB,CAAA/T,SACd/B,EAAO6C,MAAM+S,YAIrB5V,EAAO6C,MAAMkT,QACZzU,cAAC0U,KAAY,CAACtK,WAAY1L,EAAO6C,QAElC7C,EAAO6C,MAAMoT,aACwC,KAApDJ,gCAAsB7V,EAAO6C,MAAMoT,cACjChU,eAAA,WAAS2D,UAAU,qDAAoD7D,SAAA,CACrET,cAACkE,QAAK,CAACC,MAAO,EAAE1D,SACb7B,EAAE,uCAELoB,cAACwU,mBAAgB,CAAA/T,SACd/B,EAAO6C,MAAMoT,iBAIrBjW,EAAO6C,MAAM8D,SAAW3G,EAAO6C,MAAM8D,QAAQvB,OAAS,GACrD9D,cAAC4U,gBAAa,CACZvP,QAAS3G,EAAO6C,MAAM8D,QACtBwP,aAAetO,GAAU+M,EAAgB/M,KAG7CvG,cAACkS,GAAa,CAAC7H,eAAgBA,OAEjCrK,cAAC+L,MAAG,CAACoI,GAAI,GAAInI,GAAI,EAAG1H,UAAU,cAAa7D,SACzCT,cAAA,OAAKsE,UAAU,kBAAiB7D,SAC7B/B,EAAO6C,OACNvB,cAACmC,EAAqB,CACpBzD,OAAQA,EAAO6C,MACf5C,gBAAiBiV,aAO7B5T,cAACmS,GAAa,OAEhBxR,eAACmU,QAAK,CACJC,QAASA,IAAMzB,OAAgBrQ,GAC/B+R,UAAW3B,EACX4B,UAAU,OACVC,cAAc,OACdC,gBAAgB,EAChBxP,MAAO,IACPyP,UAAW,CACTC,UAAW,OACXC,SAAU,QACV7U,SAAA,CAEFT,cAACoJ,GAAoB,IACpBiK,GAAgBrT,cAACsG,EAAoB,CAACC,MAAO8M,OAEhD1S,eAACmU,QAAK,CACJC,QAASpB,EACTqB,QAAS7B,EACT8B,UAAU,OACVC,cAAc,OACdC,gBAAc,EACdxP,MAAO,IAAIlF,SAAA,CAEXT,cAACoJ,GAAoB,IACrBpJ,cAACuV,oBAAiB,CAChB7W,OAAQA,EAAO6C,MACfiU,SAAU7B,EACV8B,UAAWA,KACT5B,IACAF,GAAwB,YAM3B,C,mCCtLb,kCAAO,MAAMjD,EAAa,CACxBC,kBAAmB,aACnB+E,sBAAuB,oBACvBC,qBAAsB,yB,mCCHxB,sRAGO,MAAMhJ,EAAa,SACxBiJ,GAEI,IADJC,EAAkBC,UAAAhS,OAAA,QAAAb,IAAA6S,UAAA,GAAAA,UAAA,GAAGpF,IAAWC,kBAEhC,OAAKiF,EACEG,kBAAO,IAAIhU,KAAK6T,GAAOC,GADZ,EAEpB,EAEaG,EAAkBA,CAC7BC,EACAC,EACAH,OAEKE,IAAcC,IACZvJ,EAAWsJ,EAAWF,KAAYpJ,EAAWuJ,EAAYH,GAGrDI,EAA+BC,IAC1C,MAAMC,EAGA,GAkBN,OAhBAD,EAAME,SAASC,IACb,MAAMX,EAAOG,kBAAO,IAAIhU,KAAKwU,GAAO,cAC9BC,EAAeH,EAAS1W,MAC3Bf,GAAMmX,kBAAO,IAAIhU,KAAKnD,EAAEgX,MAAO,gBAAkBA,IAGhDY,EACFA,EAAaC,MAAM3X,KAAK,IAAIiD,KAAKwU,IAEjCF,EAASvX,KAAK,CACZ8W,KAAMA,EACNa,MAAO,CAAC,IAAI1U,KAAKwU,KAErB,IAGKF,CAAQ,EAGJK,EAAmBC,GAC9BA,EAAM9S,QAAQ+R,GAASgB,kBAAQhB,EAAM,IAAI7T,QAE9B8U,EAAaF,GACxBA,EAAMG,MAAK,CAACC,EAAGC,IAAMD,EAAEE,UAAYD,EAAEC,YAE1BC,EAAoBC,IAC/B,MACMC,EAAUC,MAAMC,KAAKH,EAAMI,SADf,kDAGZC,EAAyC,CAAC,EAEhD,IAAIC,GAAa,EAajB,GAZAL,EAAQd,SAASoB,IACfD,GAAa,EACb,MAAMlW,EAAQoW,SAASD,EAAM,IACvBE,EAAOF,EAAM,GAEdF,EAAeI,GAGlBJ,EAAeI,IAASrW,EAFxBiW,EAAeI,GAAQrW,CAGzB,KAGGkW,EAAY,CACf,MAAMI,EAAc,OACER,MAAMC,KAAKH,EAAMI,SAASM,IAElCvB,SAASoB,IACrB,MAAMnW,EAAQoW,SAASD,EAAM,IAC7BF,EAAqB,KAAIjW,CAAK,GAElC,CAEA,OAAOiW,CAAc,EAGVM,EAAgBA,CAC3BlC,EACAmC,IAUOC,YAAI,IAAIjW,KAAK6T,GAAO,CACzBqC,MAAOF,EAAKG,MAAQ,EACpBC,OAAQJ,EAAKK,OAAS,EACtBC,MAAON,EAAKO,MAAQ,EACpBC,KAAMR,EAAKS,KAAO,EAClBC,MAAOV,EAAKW,MAAQ,EACpBC,QAASZ,EAAKa,QAAU,EACxBC,QAASd,EAAKe,QAAU,G,yECnG5B,MAAMC,EAAoB7a,UAAO4K,IAAG1K,MAAAC,YAAA,0EAI9BE,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,MAAqB,UAAfmE,EAAMxC,KAAmBwC,EAAMsW,MAAQtW,EAAMuW,KAAK,IAWzDC,IARcA,IAEzBlZ,cAAC+Y,EAAiB,CAAAtY,SAChBT,cAAA,OAAKsI,IAAK6Q,IAAa7I,IAAI,M,wECLjC,MAAM8I,EAAiBlb,UAAO4K,IAAG1K,MAAAC,YAAA,iHAsBlBsG,IAdOpG,IAA+B,IAA9B,MAAEoH,EAAK,OAAEC,GAAerH,EAC7C,MAAMmE,EAAQC,qBACd,OACE3C,cAACoZ,EAAc,CACbvT,MAAO,CACLF,MAAOA,GAAS,OAChBC,OAAQA,GAAU,QAClBnF,SAEFT,cAAC6Q,OAAI,CAACzK,MAAO1D,EAAM2D,gBACJ,C,gFCrBrB,MAAMgT,EAAYnb,kBAAO,MAAPA,CAAaE,MAAAC,YAAA,ioBAuBJib,GAAUA,EAAM5W,MAAM2D,eA6FlCkT,IAzEDD,IACZ,MAAM,KAAEE,EAAI,WAAEC,GAAeH,EACvB5W,EAAQC,sBACP+W,EAAMC,GAAW3W,oBAAS,GAC3B4W,EAAYJ,EAAO,IAAIA,GAAMK,OAAO,EAAG,GAAK,GAC5CC,EAAYN,EAAO,IAAIA,GAAMK,OAAO,GAAK,GACzCE,EAAYC,iBAA8B,MAE1CC,EAAW/K,uBACf,CAACwC,EAAiDrN,KAC5CoV,GACFA,EAAWpV,EACb,GAEF,CAACoV,IAGH,OACE9Y,eAAC0Y,EAAS,CAACa,IAAKH,EAAUtZ,SAAA,CACvBmZ,EAAUhQ,KAAI,CAACuQ,EAAKrQ,KAAW,IAADsQ,EAC7B,MAAMC,EAAiC,QAAzBD,EAAID,EAAgB9V,aAAK,IAAA+V,IAAID,EAC3C,OACEna,cAACsa,QAAK,CACJhW,UAAU,QACV8B,MAAO1D,EAAM2D,aAEblG,QAAUuR,GACRuI,EAASvI,EAAG2I,GACb5Z,SAEA4Z,GALIvQ,EAMC,IAGXgQ,EAAUhW,OAAS,GAClBnD,eAAA,OACE2D,UAAU,sBACViW,aAAcA,IAAMZ,GAAQ,GAAOlZ,SAAA,CAEnCT,cAACsa,QAAK,CACJhW,UAAU,QACV8B,MAAO1D,EAAM2D,aACbmU,YAAaA,IAAMb,GAAQ,GAAMlZ,SAAA,IAAAK,OAE5BgZ,EAAUhW,UAEhB4V,GACC1Z,cAAA,MAAIsE,UAAU,YAAW7D,SACtBqZ,EAAUlQ,KAAI,CAAC6Q,EAAU3Q,KAAW,IAAD4Q,EAClC,MAAMC,EAA2C,QAA9BD,EAAID,EAAqBpW,aAAK,IAAAqW,IAAID,EACrD,OACEza,cAAA,MAAAS,SACET,cAACsa,QAAK,CAEJhW,UAAU,QACVnE,QACEuR,GACGuI,EAASvI,EAAGiJ,GACjBvU,MAAO1D,EAAM2D,aAAa5F,SAEzBka,GAPI7Q,IASJ,WAOP,C,mCCrHD,QAA0B,iC,gFCIzC,MAAMuP,EAAYnb,kBAAO,MAAPA,CAAaE,MAAAC,YAAA,2hBAoHhBuc,IA5EgBtB,IAA4B,IAADuB,EACxD,MAAM,WAAErO,EAAU,gBAAEsO,GAAoBxB,GACjCI,EAAMC,GAAW3W,oBAAS,GAC3B+W,EAAYC,iBAA8B,MAC1Ce,EAAkBvO,EAAa,IAAIA,GAAYqN,OAAO,EAAG,GAAK,GAC9DmB,EAAkBxO,EAAa,IAAIA,GAAYqN,OAAO,GAAK,GAE3DoB,EAAgB/L,uBACnBpP,IACKgb,GACFA,EAAgBhb,EAClB,GAEF,CAACgb,IAGH,OACEna,eAAC0Y,EAAS,CAACa,IAAKH,EAAWmB,OAAQxB,EAAKjZ,SAAA,CACtCT,cAACmb,cAAW,CACVC,OAAO,IACP5Z,MAAsB,OAAfuZ,QAAe,IAAfA,OAAe,EAAfA,EAAiBnR,KAAI,CAACyR,EAAUvR,IACrCnJ,eAAAC,WAAA,CAAAH,SAAA,CACET,cAAA,QACEsE,UAAU,gBAEVnE,QAASA,IAAM8a,EAAcI,EAASvb,IACtC,eAAa,EAAKW,SAEjB4a,EAAS3O,MAJL2O,EAAS3O,KAAO5C,GAMtBA,IAAUiR,EAAgBjX,OAAS,GAClCkX,EAAgBlX,OAAS,GACvB9D,cAAA,QACEsE,UAAU,YACVkW,YAAaA,IAAMb,GAAQ,GAC3B2B,QAASA,IAAM3B,GAAQ,GACvB,eAAa,EAAKlZ,SAAA,IAAAK,OACdka,EAAgBlX,iBAM/BkX,EAAgBlX,OAAS,GACxB9D,cAAA,OACEsE,UAAU,4BACViW,aAAcA,IAAMZ,GAAQ,GAAOlZ,SAElCiZ,GACC1Z,cAAA,MACEsE,UAAU,kBACVuB,MAAO,CACLF,OACmB,QAAjBkV,EAAAd,EAAUwB,eAAO,IAAAV,OAAA,EAAjBA,EAAmBW,wBAAwB7V,QAAS,QACtDlF,SAEFT,cAACmb,cAAW,CACVC,OAAO,IACP5Z,MAAsB,OAAfwZ,QAAe,IAAfA,OAAe,EAAfA,EAAiBpR,KAAKyR,GAC3Brb,cAAA,MACEsE,UAAU,gBACVnE,QAASA,IAAM8a,EAAcI,EAASvb,IACtC,eAAa,EAAKW,SAEjB4a,EAAS3O,iBAQd,C,gFC5GhB,MAAM+O,EAAoBvd,UAAO4K,IAAG1K,MAAAC,YAAA,qGAIvBE,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,MACF,SAAfmE,EAAMxC,KAAkBwC,EAAMsG,MAAQtG,EAAMuW,KAAK,IAYxC7E,IARsBpT,IAAgB,IAAf,MAAEQ,GAAOR,EAC7C,OACEhB,cAACyb,EAAiB,CAAAhb,SAChBT,cAACmb,cAAW,CAAC3Z,MAAOA,KACF,C,mCCrBxB,oOAUO,MAQMka,EAAyBtM,IAAqC,IAADuM,EACxE,OAAKvM,EACa,QAAlBuM,EAAOvM,EAAM5N,aAAK,IAAAma,OAAA,EAAXA,EAAa/R,KAAKlI,GAASA,EAAKgL,OAAMkP,KAAK,MAD/B,EACoC,EAG5CC,EACXC,IAII,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACH,MACMC,EAAW,GAAA9d,OADS,kBACcA,OAAGgb,EAAa+C,OACxD,OAAQ/C,EAAa+C,OAEnB,KAAKC,aAAWC,8BACd,MAAO,CACLH,cACAI,OAAQ,CAAEtS,MAAuC,QAAjCqP,EAAAD,EAAapc,KAAKuf,uBAAe,IAAAlD,OAAA,EAAjCA,EAAmCrP,OAAQ,KAE/D,KAAKoS,aAAWI,gCACd,MAAO,CACLN,cACAI,OAAQ,CAAEtS,MAAuC,QAAjCsP,EAAAF,EAAapc,KAAKuf,uBAAe,IAAAjD,OAAA,EAAjCA,EAAmCtP,OAAQ,KAE/D,KAAKoS,aAAWK,wBACd,MAAO,CACLP,cACAI,OAAQ,CAAEtS,MAAuC,QAAjCuP,EAAAH,EAAapc,KAAKuf,uBAAe,IAAAhD,OAAA,EAAjCA,EAAmCvP,OAAQ,KAE/D,KAAKoS,aAAWM,0BACd,MAAO,CACLR,cACAI,OAAQ,CAAEtS,MAAuC,QAAjCwP,EAAAJ,EAAapc,KAAKuf,uBAAe,IAAA/C,OAAA,EAAjCA,EAAmCxP,OAAQ,KAG/D,KAAKoS,aAAWO,mBAEhB,KAAKP,aAAWQ,eAEhB,KAAKR,aAAWS,aACd,MAAO,CAAEX,eACX,KAAKE,aAAWU,UACd,MAAO,CACLZ,cACAI,OAAQ,CAAEtS,KAAMgP,EAAsBI,EAAapc,KAAK0P,QAAU,KAEtE,KAAK0P,aAAWW,oBACd,MAAO,CACLb,cACAI,OAAQ,CAAEtS,MAAmC,QAA7ByP,EAAAL,EAAapc,KAAKggB,mBAAW,IAAAvD,OAAA,EAA7BA,EAA+BzP,OAAQ,KAE3D,KAAKoS,aAAWa,oBACd,MAAO,CACLf,cACAI,OAAQ,CAAEtS,MAAmC,QAA7B0P,EAAAN,EAAapc,KAAKggB,mBAAW,IAAAtD,OAAA,EAA7BA,EAA+B1P,OAAQ,KAE3D,KAAKoS,aAAWc,mBACd,MAAO,CACLhB,cACAI,OAAQ,CAAEtS,MAA+B,QAAzB2P,EAAAP,EAAapc,KAAKY,eAAO,IAAA+b,OAAA,EAAzBA,EAA2B3P,OAAQ,KAEvD,KAAKoS,aAAWe,gBACd,MAAO,CACLjB,cACAI,OAAQ,CAAEtS,MAA+B,QAAzB4P,EAAAR,EAAapc,KAAKY,eAAO,IAAAgc,OAAA,EAAzBA,EAA2B5P,OAAQ,KAEvD,KAAKoS,aAAWgB,cACd,MAAO,CACLlB,cACAI,OAAQ,CAAEtS,MAA+B,QAAzB6P,EAAAT,EAAapc,KAAKY,eAAO,IAAAic,OAAA,EAAzBA,EAA2B7P,OAAQ,KAEvD,KAAKoS,aAAWiB,gBACd,MAAO,CACLnB,cACAI,OAAQ,CAAEtS,MAA+B,QAAzB8P,EAAAV,EAAapc,KAAKY,eAAO,IAAAkc,OAAA,EAAzBA,EAA2B9P,OAAQ,KAEvD,KAAKoS,aAAWkB,uBACd,MAAO,CACLpB,cACAI,OAAQ,CAAEtS,MAA+B,QAAzB+P,EAAAX,EAAapc,KAAKY,eAAO,IAAAmc,OAAA,EAAzBA,EAA2B/P,OAAQ,KAGvD,KAAKoS,aAAWmB,iBACd,MAAO,CACLrB,cACAI,OAAQ,CACNkB,QAAiC,QAAzBxD,EAAAZ,EAAapc,KAAKygB,eAAO,IAAAzD,OAAA,EAAzBA,EAA2BwD,SAAU,EAC7CxT,KAAMgP,EAA+C,QAA1BiB,EAACb,EAAapc,KAAKygB,eAAO,IAAAxD,OAAA,EAAzBA,EAA2ByD,WAG7D,KAAKtB,aAAWuB,cACd,MAAO,CACLzB,cACAI,OAAQ,CACNkB,QAAiC,QAAzBtD,EAAAd,EAAapc,KAAKygB,eAAO,IAAAvD,OAAA,EAAzBA,EAA2BsD,SAAU,EAC7CxT,KAAMgP,EAA+C,QAA1BmB,EAACf,EAAapc,KAAKygB,eAAO,IAAAtD,OAAA,EAAzBA,EAA2BuD,WAG7D,KAAKtB,aAAWwB,kBACd,MAAO,CACL1B,cACAI,OAAQ,CACNkB,QAAiC,QAAzBpD,EAAAhB,EAAapc,KAAKygB,eAAO,IAAArD,OAAA,EAAzBA,EAA2BoD,SAAU,IAGnD,KAAKpB,aAAWyB,eACd,MAAO,CACL3B,cACAI,OAAQ,CACNkB,QAAiC,QAAzBnD,EAAAjB,EAAapc,KAAKygB,eAAO,IAAApD,OAAA,EAAzBA,EAA2BmD,SAAU,EAC7CxT,KAAMgP,EAA+C,QAA1BsB,EAAClB,EAAapc,KAAKygB,eAAO,IAAAnD,OAAA,EAAzBA,EAA2BoD,WAI7D,KAAKtB,aAAW0B,qBACd,MAAO,CACL5B,cACAI,OAAQ,CAAEtS,MAA8B,QAAxBuQ,EAAAnB,EAAapc,KAAKhB,cAAM,IAAAue,OAAA,EAAxBA,EAA0B5Y,QAAS,KAEvD,KAAKya,aAAW2B,oBACd,MAAO,CACL7B,cACAI,OAAQ,CAAEtS,MAA8B,QAAxBwQ,EAAApB,EAAapc,KAAKhB,cAAM,IAAAwe,OAAA,EAAxBA,EAA0B7Y,QAAS,KAEvD,KAAKya,aAAW4B,eACd,MAAO,CACL9B,cACAI,OAAQ,CAAEtS,MAA8B,QAAxByQ,EAAArB,EAAapc,KAAKhB,cAAM,IAAAye,OAAA,EAAxBA,EAA0B9Y,QAAS,KAEvD,KAAKya,aAAW6B,mBACd,MAAO,CACL/B,cACAI,OAAQ,CACNtS,MAA8B,QAAxB0Q,EAAAtB,EAAapc,KAAKhB,cAAM,IAAA0e,OAAA,EAAxBA,EAA0B/Y,QAAS,GACzCuR,KAAMjJ,YACoB,QADV0Q,EACdvB,EAAapc,KAAKhB,cAAM,IAAA2e,OAAA,EAAxBA,EAA0Brb,UAC1B0O,IAAWgF,yBAInB,KAAKoJ,aAAW8B,iBACd,MAAO,CACLhC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxB4Q,EAAAxB,EAAapc,KAAKhB,cAAM,IAAA4e,OAAA,EAAxBA,EAA0BjZ,QAAS,KAEvD,KAAKya,aAAW+B,eACd,MAAO,CACLjC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxB6Q,EAAAzB,EAAapc,KAAKhB,cAAM,IAAA6e,OAAA,EAAxBA,EAA0BlZ,QAAS,KAEvD,KAAKya,aAAWgC,cACd,MAAO,CACLlC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxB8Q,EAAA1B,EAAapc,KAAKhB,cAAM,IAAA8e,OAAA,EAAxBA,EAA0BnZ,QAAS,KAEvD,KAAKya,aAAWiC,oBACd,MAAO,CACLnC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxB+Q,EAAA3B,EAAapc,KAAKhB,cAAM,IAAA+e,OAAA,EAAxBA,EAA0BpZ,QAAS,KAEvD,KAAKya,aAAWkC,oBACd,MAAO,CACLpC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxBgR,EAAA5B,EAAapc,KAAKhB,cAAM,IAAAgf,OAAA,EAAxBA,EAA0BrZ,QAAS,KAEvD,KAAKya,aAAWmC,sBACd,MAAO,CACLrC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxBiR,EAAA7B,EAAapc,KAAKhB,cAAM,IAAAif,OAAA,EAAxBA,EAA0BtZ,QAAS,KAEvD,KAAKya,aAAWoC,iBACd,MAAO,CACLtC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxBkR,EAAA9B,EAAapc,KAAKhB,cAAM,IAAAkf,OAAA,EAAxBA,EAA0BvZ,QAAS,KAEvD,KAAKya,aAAWqC,cACd,MAAO,CACLvC,cACAI,OAAQ,CAAEtS,MAA8B,QAAxBmR,EAAA/B,EAAapc,KAAKhB,cAAM,IAAAmf,OAAA,EAAxBA,EAA0BxZ,QAAS,KAGvD,KAAKya,aAAWsC,iBACd,MAAO,CACLxC,cACAI,OAAQ,CAAEtS,MAAoC,QAA9BoR,EAAAhC,EAAapc,KAAK2hB,oBAAY,IAAAvD,OAAA,EAA9BA,EAAgCvc,QAAS,KAG7D,KAAKud,aAAWwC,WACd,MAAO,CACL1C,cACAI,OAAQ,CACNtS,MAAwC,QAAlCqR,EAAAjC,EAAapc,KAAK6hB,wBAAgB,IAAAxD,OAAA,EAAlCA,EAAoCyD,aAAa9U,OAAQ,GAC/DkJ,KAAMjJ,YAC8B,QADpBqR,EACdlC,EAAapc,KAAK6hB,wBAAgB,IAAAvD,OAAA,EAAlCA,EAAoCyD,YACpC/Q,IAAWgF,uBAEbtU,KAAK,GAADN,OAAuC,QAAvCmd,EAAKnC,EAAapc,KAAK6hB,wBAAgB,IAAAtD,GAAM,QAANC,EAAlCD,EAAoC7c,YAAI,IAAA8c,OAAN,EAAlCA,EAA0CwD,WAAU,KAAA5gB,OAAsC,QAAtCqd,EAAIrC,EAAapc,KAAK6hB,wBAAgB,IAAApD,GAAM,QAANC,EAAlCD,EAAoC/c,YAAI,IAAAgd,OAAN,EAAlCA,EAA0CuD,aAGjH,KAAK7C,aAAW8C,aACd,MAAO,CACLhD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnC0R,EAACvC,EAAapc,KAAK6hB,wBAAgB,IAAAlD,OAAA,EAAlCA,EAAoCoD,cAAgB,KAGvE,KAAK3C,aAAW+C,wBACd,MAAO,CACLjD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnC2R,EAACxC,EAAapc,KAAK6hB,wBAAgB,IAAAjD,OAAA,EAAlCA,EAAoCmD,cAAgB,KAGvE,KAAK3C,aAAWgD,WACd,MAAO,CACLlD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnC4R,EAACzC,EAAapc,KAAK6hB,wBAAgB,IAAAhD,OAAA,EAAlCA,EAAoCkD,cAAgB,KAGvE,KAAK3C,aAAWiD,WACd,MAAO,CACLnD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnC6R,EAAC1C,EAAapc,KAAK6hB,wBAAgB,IAAA/C,OAAA,EAAlCA,EAAoCiD,cAAgB,KAGvE,KAAK3C,aAAWkD,sBACd,MAAO,CACLpD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnC8R,EAAC3C,EAAapc,KAAK6hB,wBAAgB,IAAA9C,OAAA,EAAlCA,EAAoCgD,cAAgB,KAGvE,KAAK3C,aAAWmD,kBACd,MAAO,CACLrD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnC+R,EAAC5C,EAAapc,KAAK6hB,wBAAgB,IAAA7C,OAAA,EAAlCA,EAAoC+C,cAAgB,KAGvE,KAAK3C,aAAWoD,yBACd,MAAO,CACLtD,cACAI,OAAQ,CACNpJ,KACEjJ,YAA6C,QAAnCgS,EAAC7C,EAAapc,KAAK6hB,wBAAgB,IAAA5C,OAAA,EAAlCA,EAAoC8C,cAAgB,KAGvE,QACE,MAAO,CAAE7C,eACb,EAGWuD,EAAU,SAACC,GAAuD,IAA1CC,EAAMvM,UAAAhS,OAAA,QAAAb,IAAA6S,UAAA,GAAAA,UAAA,GAAG,EAAGwM,EAAgBxM,UAAAhS,OAAA,EAAAgS,UAAA,QAAA7S,EAC/D,IAAKmf,GAAsB,kBAARA,EAAkB,OAAO,EAC5C,MAAMG,EACJC,KAAKC,MAAML,EAAMI,KAAKE,IAAI,GAAIL,IAAWG,KAAKE,IAAI,GAAIL,GACxD,OAAIC,EACKC,EAAgBD,EAElBC,CACT,EAEa/d,EAAcA,CAACE,EAA2BG,KACrD,IAAKH,EAAO,OAAO,EAQnB,OAPqBG,EACjBsd,EAAQzd,EAAO,EAAG,MAAQ,EAAIG,EAAU,KACxCsd,EAAQzd,EAAO,EAAG,MACSie,oBAAe1f,EAAW,CACvD2f,sBAAuB,EACvBC,sBAAuB,GAET,EAGLhhB,EAAqBA,CAChCihB,EACApkB,KAEuE,IAAhEA,EAAOqkB,QAAQC,WAAWvO,GAAWA,EAAO3U,KAAOgjB,IAG/CG,EAAuClL,IAAgB,IAADxZ,EACjE,MAAM2kB,EAAiBnL,EACnBoL,YAAiBpL,EAAKd,WAAW,IAAIlV,MAAOkV,WAC5C,KACEmM,EAAkBrL,EACpBsL,YAAkBtL,EAAKd,WAAW,IAAIlV,MAAOkV,WAC7C,KACEqM,EAAoBvL,EACtBwL,YAAoBxL,EAAKd,WAAW,IAAIlV,MAAOkV,WAC/C,KAEEuM,EAGe,OAAnBN,GAA8C,IAAnBA,EACvB,CAACA,EAAgB,OACjB,KAgBN,OAC+C,QAD/C3kB,EACsB,OAApBilB,QAAoB,IAApBA,IAZoB,OAApBJ,GAAgD,IAApBA,EACxB,CAACA,EAAiB,QAClB,YAUyC,IAAA7kB,IALvB,OAAtB+kB,GAAoD,IAAtBA,EAC1B,CAACA,EAAmB,UACpB,IAGoE,EAI/DG,EAAwB,IAAIC,KAAKC,mBAAmB,KAAM,CACrE9d,MAAO,S,uECvVT,MAAM+d,EAAc1lB,UAAO4K,IAAG1K,MAAAC,YAAA,ojBAuCfwlB,IAJwCtlB,IAAmB,IAAlB,SAAEkC,GAAUlC,EAClE,OAAOyB,cAAC4jB,EAAW,CAAAnjB,SAAEA,GAAuB,C,uFClC9C,MAAMqjB,EAAmB5lB,UAAO4K,IAAG1K,MAAAC,YAAA,6kBAYfE,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,OAAKmE,EAAM2D,YAAY,IAcpCrF,IAAA,IAAC,MAAE0B,GAAO1B,EAAA,OAAK0B,EAAM2D,YAAY,IAQ5C0d,EAAY,OACZC,EAAa,QAMbC,EAAQ,SAAC3M,EAAcpR,GAA0B,IAAdge,EAAIpO,UAAAhS,OAAA,QAAAb,IAAA6S,UAAA,GAAAA,UAAA,GAAG,EAC1CqO,EAAI7M,EACR,MAAM2M,EAAQ,GAEd,KAAOE,GAAKje,GACV+d,EAAMnlB,KAAKqlB,GACXA,GAAKD,EAGP,OAAOD,CACT,EA2HenT,IAnHV7H,IAAkE,IAAjE,YAAE+H,EAAW,MAAE1C,EAAK,QAAEyC,EAAO,OAAEE,EAAM,eAAEmT,EAAiB,GAAGnb,EAC/D,MAAMob,EAAW7B,KAAK8B,KAAKhW,EAAQyC,GA2DnC,OACE/Q,cAAC8jB,EAAgB,CAAArjB,SA1DM8jB,MAKvB,MAAMC,EAAgC,EAAjBJ,EAAqB,EAG1C,GAAIC,EAFgBG,EAAe,EAEP,CAC1B,MAAMC,EAAYjC,KAAKkC,IAAI,EAAG1T,EAAcoT,GACtCO,EAAUnC,KAAKoC,IAAIP,EAAW,EAAGrT,EAAcoT,GACrD,IAAIS,EAA6BZ,EAAMQ,EAAWE,GAOlD,MAAMG,EAAeL,EAAY,EAC3BM,EAAgBV,EAAWM,EAAU,EACrCK,EAAcR,GAAgBK,EAAM/gB,OAAS,GAEnD,QAAQ,GAEN,KAAKghB,IAAiBC,EAAe,CACnC,MAAME,EAAahB,EAAMQ,EAAYO,EAAaP,EAAY,GAC9DI,EAAQ,CAACd,KAAckB,KAAeJ,GACtC,KACF,CAGA,KAAMC,GAAgBC,EAAe,CACnC,MAAME,EAAahB,EAAMU,EAAU,EAAGA,EAAUK,GAChDH,EAAQ,IAAIA,KAAUI,EAAYjB,GAClC,KACF,CAIA,QACEa,EAAQ,CAACd,KAAcc,EAAOb,GAKlC,MAAO,CAAC,KAAMa,EAAOR,EACvB,CAAO,OAAIrT,EAAcqT,GAA4B,IAAhBrT,EAC5B,IAAIiT,EAAM,EAAGI,GAAWL,GACtBhT,EAAc,GAAKA,IAAgBqT,EACrC,CAACN,KAAcE,EAAM,EAAGI,GAAWL,GACjChT,EAAc,GAAKA,IAAgBqT,EACrC,CAACN,KAAcE,EAAM,EAAGI,IAG1BJ,EAAM,EAAGI,EAAS,EAKtBE,GAAmB3a,KAAK4E,GACnBA,IAASuV,EAET/jB,cAAA,KACEklB,KAAK,cACL5gB,UAAU,oBACVnE,QAAUuR,IACRA,EAAEyT,iBACFlU,EAAOD,GAAe,EAAI,EAAIA,EAAc,EAAE,EAC9CvQ,SAEFT,cAAA,OAAKsE,UAAU,wBAIjBkK,IAASwV,EAEThkB,cAAA,KACEklB,KAAK,cACL5gB,UAAU,oBACVnE,QAAUuR,IACRA,EAAEyT,iBACFlU,EAAOD,IAAgBqT,EAAWA,EAAWrT,EAAc,EAAE,EAC7DvQ,SAEFT,cAAA,OAAKsE,UAAU,yBAKnBtE,cAACiG,IAAI,CACH9F,QAAUuR,IACRA,EAAEyT,iBACFlU,EAAO5Q,OAAOmO,GAAM,EAEtBtI,GAAE,UAAApF,OAAYT,OAAOmO,IAErBlK,UAAU,SAAQ7D,SAElBT,cAACiC,OAAI,CACHqC,UAAWjE,OAAOmO,KAAUwC,EAAc,UAAY,GACtDjM,KAAK,KACL,eAAa,OAAMtE,SAElBJ,OAAOmO,MACH,IAAA1N,OATET,OAAOmO,QAaL,C,gFC3KvB,MAAM4W,EAAelnB,UAAO4K,IAAG1K,MAAAC,YAAA,wMAUTE,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,MACb,SAAfmE,EAAMxC,KAAkBwC,EAAM2iB,eAAiB3iB,EAAM4iB,UAAU,IAoBpDC,IAjBGA,KAChB,MAAM7iB,EAAQC,qBASd,OARAU,qBAAU,KACRmiB,SAASC,KAAK5f,MAAMyP,SAAW,SAExB,KACLkQ,SAASC,KAAK5f,MAAMyP,SAAW,SAAS,IAEzC,IAGDtV,cAAColB,EAAY,CAAA3kB,SACXT,cAAC6Q,OAAI,CAACzK,MAAO1D,EAAM2D,gBACN,C,mCC/BnB,oEAAO,IAAK2E,EAAsB,SAAtBA,GAAsB,OAAtBA,EAAsB,gBAAtBA,EAAsB,kBAAtBA,CAAsB,MAKtBW,EAAY,SAAZA,GAAY,OAAZA,EAAY,YAAZA,EAAY,YAAZA,EAAY,gBAAZA,CAAY,K,sHCHjB,MAAM+Z,EAAaxnB,UAAOynB,KAAIvnB,MAAAC,YAAA,yBACzBib,GAAUA,EAAMlT,QAGfwf,EAAiB1nB,UAAOynB,KAAIrc,MAAAjL,YAAA,mEAG7Bib,GAAUA,EAAMlT,OACxBsf,GAKSG,EAAkB3nB,UAAOynB,KAAI3Y,MAAA3O,YAAA,sFAG9Bib,GAAUA,EAAMlT,OAExBsf,G,WCPG,MAAMI,EAAevnB,IAKd,IALe,KAC3B6G,EAAI,OACJtB,EAAS,GAAE,KACXiiB,EAAO,SACJzM,GACG/a,EACN,MAAMmE,EAAQC,qBACRqjB,EAAY5gB,EAAK6gB,MAAM,EAAGniB,GAC1BoiB,EAAa9gB,EAAK6gB,MAAMniB,EAAQsB,EAAKtB,QAE3C,OACE9D,cAACiC,OAAI,IAAKqX,EAAK7Y,SACbE,eAAC+kB,EAAU,CAACtf,MAAO1D,EAAM2D,aAAa5F,SAAA,CACnCulB,EACAE,GACCvlB,eAAAC,WAAA,CAAAH,SAAA,CACET,cAAC4lB,EAAc,CAAAnlB,SAAEslB,IACjB/lB,cAAC6lB,EAAe,CAAAplB,SAAEylB,WAInB,ECvBEC,EAAWpU,gBAAKxT,IAA8C,IAA7C,OAAE6nB,EAAM,SAAEC,EAAQ,WAAEC,GAAmB/nB,EACnE,MAAMmE,EAAQC,qBAEd,OAAK0jB,EAIHrmB,cAACiG,IAAI,CAACJ,MAAO,CAAEO,MAAO1D,EAAM2D,cAAgBH,GAAIkgB,EAAO3lB,SACrDT,cAAC8lB,EAAY,CAAC1gB,KAAMihB,EAAUE,MAAI,EAACxhB,KAAK,KAAKjB,OAAQwiB,MAJhD,IAKA,IAIEE,EAAuBxlB,IAA0B,OAApBsY,GAActY,EACtD,GAAKsY,EAAM+M,SAGX,OAAOrmB,cAACmmB,EAAQ,IAAK7M,GAAS,C,0NCFhC,MAAMmN,EAAUvoB,UAAO4K,IAAG1K,MAAAC,YAAA,qkBAmCpBqoB,EAAwB,CAC5BpU,QAAQ,EACRC,UAAU,EACVC,MAAO,IACPE,WAAW,EACXD,aAAc,EACdE,eAAgB,EAChBC,WAAY,CACV,CACEC,WAAY,KACZrJ,SAAU,CACRiJ,aAAc,EACdE,eAAgB,IAGpB,CACEE,WAAY,IACZrJ,SAAU,CACRkJ,WAAW,EACXD,aAAc,EACdE,eAAgB,IAGpB,CACEE,WAAY,IACZrJ,SAAU,CACRiJ,aAAc,EACdK,YAAY,EACZH,eAAgB,MA2NTI,IArNwBxU,IAGhC,IAHiC,QACtC6T,EAAO,eACPC,EAAiBqU,GAClBnoB,EACC,MAAOooB,GAAQ3jB,oBAAS,GAClB4jB,EAAU7nB,eACV,EAAEH,GAAMC,cAEd,OACEmB,cAACymB,EAAO,CAAAhmB,SACL2R,EAAQtO,QAAU,GAAKC,WACtB/D,cAAA,OAAAS,SACET,cAAC6mB,SAAM,CACLrd,SAAU,IACL6I,EACHsU,OACAG,QAASA,KACP,MAAMC,EAAkBvB,SAASwB,iBAC/B,oCAEuBxB,SAASwB,iBAChC,qCAEe1Q,SAAS2Q,GACxBA,EAAaC,gBAAgB,gBAE/BH,EAAgBzQ,SAAS6Q,GACvBA,EAAYC,aAAa,aAAc,SACxC,EAEHC,OAAQA,KACkB7B,SAASwB,iBAC/B,oCAEc1Q,SAAS6Q,GACvBA,EAAYC,aAAa,aAAc,SACxC,GAGLE,aAAa,YAAW7mB,SAEvB2R,GACCA,EAAQxI,KAAKlI,GACX1B,cAAC6jB,IAAiB,CAAApjB,SAChBT,cAACunB,aAAU,CACTtjB,OAAQF,WACRjE,GAAI4B,EAAK5B,GACT0nB,MACExnB,cAACiG,IAAI,CAACC,GAAE,YAAApF,OAAcY,EAAK5B,IAAKW,SAC7BiB,EAAK6K,WACJvM,cAACgK,kBAAe,CACdC,KAAMvI,EAAK6K,WACX+D,IAAK5O,EAAK2C,MACV6F,SAAU,CAAC,IAAK,IAAK,OAGvBlK,cAACkZ,IAAoB,MAI3BM,KACExZ,cAACuZ,IAAI,CACHC,KAAM9X,EAAK8X,KACXC,WAAagO,GACXb,EAAQ9nB,KAAK,iBAADgC,OAAkB2mB,MAIpCpB,SAAUG,YAAqB,CAC7BH,SAAU3kB,EAAK2kB,SACfD,OAAO,YAADtlB,OAAcY,EAAK5B,MAE3BuE,MACErE,cAACiG,IAAI,CAACC,GAAE,YAAApF,OAAcY,EAAK5B,IAAMwE,UAAU,QAAO7D,SAChDT,cAACkE,QAAK,CAACC,MAAO,EAAGC,GAAG,KAAI3D,SACrBiB,EAAK2C,UAIZmI,WACExM,cAAC4a,IAAqB,CACpBpO,WAAY9K,EAAK8K,WACjBsO,gBAAkBhb,IAChB8mB,EAAQ9nB,KAAK,0BAADgC,OAA2BhB,GAAK,IAIlD4nB,QACE1nB,cAAAY,WAAA,CAAAH,SACET,cAAC7B,SAAM,CACL+B,KAAK,YACLC,QAASA,IAAMymB,EAAQ9nB,KAAK,YAADgC,OAAaY,EAAK5B,KAAMW,SAElD7B,EAAE,gBAIT+oB,OACEhnB,eAAAC,WAAA,CAAAH,SAAA,CACGiB,EAAK8D,aAAe9D,EAAK8D,YAAc,EACtCxF,cAACiF,WAAQ,CACPC,KAAMlF,cAAC4nB,IAAQ,IACfxiB,KAAI,GAAAtE,OAAKY,EAAK8D,YAAW,KAAA1E,OAAIlC,EAC3B,eAIJ,GACC,IACF8C,EAAKmmB,eAAiBnmB,EAAKmmB,cAAgB,EAC1C7nB,cAACiF,WAAQ,CACPC,KAAMlF,cAAC8nB,IAAW,IAClB1iB,KAAI,GAAAtE,OAAKY,EAAKmmB,cAAa,KAAA/mB,OAAIlC,EAC7B,cAIJ,SA1Ec8C,EAAK5B,UAoFrCE,cAAC8L,MAAG,CACFjG,MAAO,CACLE,UAAW,OACXgiB,OAAQ,QACRtnB,SAED2R,EAAQxI,KAAKlI,GACZ1B,cAAC+L,MAAG,CAACoI,GAAI,EAAGnI,GAAI,EAAEvL,SAChBT,cAAC6jB,IAAiB,CAAApjB,SAChBT,cAACunB,aAAU,CACTtjB,OAAQF,WACRjE,GAAI4B,EAAK5B,GACT0nB,MACExnB,cAACiG,IAAI,CAACC,GAAE,YAAApF,OAAcY,EAAK5B,IAAKW,SAC7BiB,EAAK6K,WACJvM,cAACgK,kBAAe,CACdC,KAAMvI,EAAK6K,WACX+D,IAAK5O,EAAK2C,MACV6F,SAAU,CAAC,IAAK,IAAK,OAGvBlK,cAACkZ,IAAoB,MAI3BM,KACExZ,cAACuZ,IAAI,CACHC,KAAM9X,EAAK8X,KACXC,WAAagO,GACXb,EAAQ9nB,KAAK,iBAADgC,OAAkB2mB,MAIpCpB,SAAUG,YAAqB,CAC7BH,SAAU3kB,EAAK2kB,SACfD,OAAO,YAADtlB,OAAcY,EAAK5B,MAE3BuE,MAAOrE,cAACiG,IAAI,CAACC,GAAE,YAAApF,OAAcY,EAAK5B,IAAKW,SAAEiB,EAAK2C,QAC9CmI,WACExM,cAAC4a,IAAqB,CACpBpO,WAAY9K,EAAK8K,WACjBsO,gBAAkBhb,IAChB8mB,EAAQ9nB,KAAK,0BAADgC,OAA2BhB,GAAK,IAIlD4nB,QACE1nB,cAAAY,WAAA,CAAAH,SACET,cAAC7B,SAAM,CACL+B,KAAK,YACLC,QAASA,IAAMymB,EAAQ9nB,KAAK,YAADgC,OAAaY,EAAK5B,KAAMW,SAElD7B,EAAE,gBAIT+oB,OACEhnB,eAAAC,WAAA,CAAAH,SAAA,CACGiB,EAAK8D,aAAe9D,EAAK8D,YAAc,EACtCxF,cAACiF,WAAQ,CACPC,KAAMlF,cAAC4nB,IAAQ,IACfxiB,KAAI,GAAAtE,OAAKY,EAAK8D,YAAW,KAAA1E,OAAIlC,EAAU,eAGzC,GACC,IACF8C,EAAKmmB,eAAiBnmB,EAAKmmB,cAAgB,EAC1C7nB,cAACiF,WAAQ,CACPC,KAAMlF,cAAC8nB,IAAW,IAClB1iB,KAAI,GAAAtE,OAAKY,EAAKmmB,cAAa,KAAA/mB,OAAIlC,EAAU,cAG3C,SAhEc8C,EAAK5B,KADP4B,EAAK5B,SA2E3B,C,gGCpSd,MAAMkoB,EAAS9pB,UAAO4K,IAAG1K,MAAAC,YAAA,0GA0CVuG,IAjCwBrG,IAAmC,IAAlC,MAAEmG,EAAK,QAAEG,EAAO,SAAEC,GAAUvG,EAClE,OAAIwF,WAEApD,eAACqnB,EAAM,CAAAvnB,SAAA,CACJqE,GACC9E,cAAA,OAAKsE,UAAU,wBAAuB7D,SACpCE,eAACuD,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SAAA,CACvB+D,YAAYM,EAAUD,GAAS,gBAItClE,eAACuD,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SAAA,CACvB+D,YAAYE,EAAOG,GAAS,iBAMnClE,eAACqnB,EAAM,CAAAvnB,SAAA,CACLE,eAACuD,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SAAA,CACvB+D,YAAYE,EAAOG,GAAS,cAE9BC,GACC9E,cAAA,OAAKsE,UAAU,wBAAuB7D,SACpCE,eAACuD,QAAK,CAACC,MAAO,EAAGC,GAAI,KAAK3D,SAAA,CACvB+D,YAAYM,EAAUD,GAAS,kBAI/B,C,mCClDb,qIA8BA,MAsBaojB,EAAoBvd,UAMF,IANS,SACtC5H,EAAQ,oBACR4Q,EAAmB,mBACnBwU,EAAkB,SAClBC,EAAQ,SACRC,GACuBpnB,EACvB,IACE,MAAM+J,EACJjI,SACO4Q,EAAoB1I,IAAuBC,OAAQnI,GAC5D,GAAIiI,GAAYA,EAASI,QAAS,CAChC,MAAMkd,QAA4Czd,QAAQC,IACxDE,EAASrL,KAAKkK,KAAIc,UAChB,MAAM2E,OApCS3E,WAIK,IAJE,SAC9B5H,EAAQ,gBACRuK,EAAe,mBACf6a,GACsB3pB,EACtB,IACE,MAAMwM,EACJjI,SACOolB,EACLld,IAAuBC,OACvBnI,EACAuK,GAEJ,GAAItC,GAAYA,EAASI,QACvB,OAAOJ,EAASrL,KAAK+L,SAEzB,CAAE,MAAO+D,GACPC,IAAMD,MAAM5Q,YAAU,oBACtB8I,QAAQC,IAAI6H,EACd,GAiB0B8Y,CAAiB,CACjCxlB,WACAuK,gBAAiB3N,EAAKI,GACtBooB,uBAGIK,EAAoB7oB,EAAK+L,UAAUJ,QAAO,CAACC,EAAQiG,KACvD,MAAMiX,EAAqB,OAAHnZ,QAAG,IAAHA,OAAG,EAAHA,EAAK1P,MAAM+B,GAASA,EAAK5B,KAAOyR,EAAQzR,KAE1D2oB,EAAiB,IAClBlX,EACHrB,KAAqB,OAAfsY,QAAe,IAAfA,OAAe,EAAfA,EAAiBtY,KACvBF,KAAqB,OAAfwY,QAAe,IAAfA,OAAe,EAAfA,EAAiBxY,MAMzB,OAHwB,OAAxByY,EAAevY,MACW,OAAxBuY,EAAezY,MACf1E,EAAOxM,KAAK2pB,GACPnd,CAAM,GACZ,IAEH,MAAO,IACF5L,EACH+L,UAAW8c,EAAkBzR,MAC3B,CAACC,EAAGC,IAAMD,EAAE2R,SAAW1R,EAAE0R,WAE5B,KAILP,EACEE,EAAoCxkB,QACjCnC,KAAWA,EAAK+J,UAAU3H,SAGjC,CACF,CAAE,MAAO0L,GACPC,IAAMD,MAAM5Q,YAAU,oBACtB8I,QAAQC,IAAI6H,EACd,CAAC,QACC4Y,GACF,GAGW/b,EAAkB/B,IAE3BA,EAAgBe,QAAO,CAACsd,EAAKjnB,IAASinB,EAAMjnB,EAAKknB,UAAU,GAC3Dte,EAAgBxG,QACH+kB,QAAQ,GAGZ9a,EAAuC9E,IAQ7C,IAADqI,EAAAwX,EAAA,IAR+C,eACnDze,EAAc,gBACdgD,EAAe,aACfW,GAKD/E,EACC,OAAqB,OAAdoB,QAAc,IAAdA,GAC8C,QADhCiH,EAAdjH,EACH1K,MAAM4R,GAAYA,EAAQzR,KAAOuN,WAAgB,IAAAiE,GAER,QAFQwX,EAD9CxX,EAEH7F,UAAU5H,QAAQnC,GAASA,EAAKmK,iBACjClM,MAAM+B,GAASA,EAAKgK,OAASsC,WAAa,IAAA8a,OAHxB,EAAdA,EAGwChpB,EAAE,C,4JChInD,4GAeA,MAAMipB,EACJC,OAAOC,mBACNC,GAAWA,8VAAeA,kCAEhBxU,EAAsCnW,IAAqB,IAApB,WAAE6L,GAAY7L,EAChE,MAAM,EAAEK,GAAMC,cAEd,OACEmB,cAAA,WAASsE,UAAU,yCAAwC7D,SACzDT,cAACiG,IAAI,CAACC,GAAE,WAAApF,OAAasJ,EAAW+e,WAAY1oB,SAC1CT,cAACopB,QAAK,CACJnlB,OAAQF,WACRqM,OAAQ,CACNE,IAAI,GAADxP,OAAKsJ,EAAWqK,OAAOiN,WAAU,KAAA5gB,OAAIsJ,EAAWqK,OAAOkN,WAC1DrZ,IAAK8B,EAAWqK,OAAO4U,YAAW,GAAAvoB,OAC3BioB,EAAO,yBAAAjoB,OAAwBsJ,EAAWqK,OAAO4U,aACpD3Y,IAAWiF,sBAEjB2T,OAAQ,CACNC,YAAa,KAEfllB,MACErE,cAACkE,QAAK,CAACE,GAAG,KAAKD,MAAO,EAAGG,UAAU,QAAO7D,SACvC7B,EAAU,wBAGf4qB,SAAQ,GAAA1oB,OAAKsJ,EAAWqK,OAAOiN,WAAU,KAAA5gB,OAAIsJ,EAAWqK,OAAOkN,WAC/D8H,YAAa,WACb9U,YAAavK,EAAWqK,OAAOiV,SAG3B,C","file":"static/js/23.e081b327.chunk.js","sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport isPast from \"date-fns/isPast\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Text } from \"@escolalms/components\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { userIsCourseAuthor } from \"@/utils/index\";\nimport routeRoutes from \"@/components/Routes/routes\";\n\ninterface CourseAccessButtonProps {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst StyledButton = styled(Button)`\n  display: block;\n  margin-bottom: 10px;\n`;\n\nconst CourseAccessButton: React.FC<CourseAccessButtonProps> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const { courseAccess, cart, addToCart } = useContext(EscolaLMSContext);\n\n  const currentCourseAccess = useMemo(\n    () =>\n      courseAccess.list?.data?.find(\n        (courseAccessItem) => courseAccessItem?.course?.id === course.id\n      ),\n    [courseAccess.list?.data, course.id]\n  );\n\n  const BuyButton = useMemo(\n    () => (\n      <Button\n        loading={cart.loading}\n        mode=\"secondary\"\n        onClick={() =>\n          addToCart(Number(course.product?.id)).then(() =>\n            push(routeRoutes.cart)\n          )\n        }\n      >\n        {t(\"Buy Course\")}\n      </Button>\n    ),\n    [addToCart, cart.loading, course.product?.id, push, t]\n  );\n\n  if (!currentCourseAccess) {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" onClick={onRequestAccess}>\n          {t(\"CourseAccess.RequestAccess\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status !== \"approved\") {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" disabled>\n          {t(\"CourseAccess.Pending\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status === \"approved\") {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  return BuyButton;\n};\n\ntype Props = {\n  course: API.Course;\n  userOwnThisCourse: boolean | undefined;\n  onRequestAccess: () => void;\n};\n\nconst CourseDetailsSidebarButtons: React.FC<Props> = ({\n  course,\n  userOwnThisCourse,\n  onRequestAccess,\n}) => {\n  const { cart, user } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { push } = useHistory();\n\n  const courseInCart = useMemo(() => {\n    return cart?.value?.items.some(\n      (item: any) => Number(item.product_id) === Number(course.product?.id)\n    );\n  }, [course.product?.id, cart]);\n\n  if (userIsCourseAuthor(Number(user.value?.id), course)) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  if (isPast(new Date(course.active_to || \"\"))) {\n    return <Text>{t(\"CoursePage.IsFinished\")}</Text>;\n  }\n  if (courseInCart) {\n    return (\n      <Button mode=\"secondary\" onClick={() => push(routeRoutes.cart)}>\n        {t(\"CoursePage.GoToCheckout\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse && isPast(new Date(course.active_from || \"\"))) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse) {\n    return <Text>{t(\"CoursePage.NotStarted\")}</Text>;\n  }\n  if (user.value && course.product) {\n    return (\n      <CourseAccessButton course={course} onRequestAccess={onRequestAccess} />\n    );\n  }\n  if (!course.product) {\n    return <Text>{t(\"CoursePage.UnavailableCourse\")}</Text>;\n  }\n  return (\n    <Button\n      onClick={() => push(`/login?referrer=/courses/${course.id}`)}\n      mode=\"secondary\"\n    >\n      {t(\"Buy Course\")}\n    </Button>\n  );\n};\n\nexport default CourseDetailsSidebarButtons;\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { IconText, Text, CourseProgress } from \"@escolalms/components\";\nimport { PricingCard } from \"@escolalms/components/lib/components/atoms/PricingCard/PricingCard\";\nimport { IconSquares, IconWin, IconCamera } from \"../../../icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { useTheme } from \"styled-components\";\nimport { useCourseProgress } from \"../../../hooks/useCourseProgress\";\nimport CourseDetailsSidebarButtons from \"./Buttons\";\nimport { formatPrice } from \"@/utils/index\";\nimport ContentLoader from \"@/components/ContentLoader\";\nimport ProductPrices from \"@/components/ProductPrices\";\n\ninterface Props {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst CoursesDetailsSidebar: React.FC<Props> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const theme = useTheme();\n  const { user, courseAccess } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { id } = useParams<{ id: string }>();\n  const { progress } = useCourseProgress(Number(id));\n\n  const userOwnThisCourse = useMemo(\n    () => course?.product?.owned,\n    [course?.product?.owned]\n  );\n  const userCourseAccess = useMemo(\n    () =>\n      !!courseAccess.list?.data?.find(\n        (courseAccessItem) =>\n          courseAccessItem?.course?.id === course.id &&\n          courseAccessItem.status === \"approved\"\n      ),\n    [course.id, courseAccess.list?.data]\n  );\n\n  const currentCourse = useMemo(() => progress.data || [], [progress.data]);\n\n  const progressMap = useMemo(() => {\n    if (user.value && (userOwnThisCourse || userCourseAccess)) {\n      const finishedLessons =\n        currentCourse?.filter((item) => item.status === 1) || [];\n      return finishedLessons.length;\n    } else {\n      return 0;\n    }\n  }, [currentCourse, user.value, userCourseAccess, userOwnThisCourse]);\n\n  return !isMobile ? (\n    <PricingCard>\n      <Title level={4} as=\"h2\">\n        {course.title}\n      </Title>\n      <ProductPrices\n        price={course.product?.price}\n        taxRate={course.product?.tax_rate}\n        oldPrice={course.product?.price_old}\n      />\n      {progress.loaded ? (\n        <CourseDetailsSidebarButtons\n          onRequestAccess={onRequestAccess}\n          course={course}\n          userOwnThisCourse={userOwnThisCourse}\n        />\n      ) : (\n        <ContentLoader />\n      )}\n      <Text size={\"12\"}> {t(\"CoursePage.30Days\")}</Text>\n      <div className=\"pricing-card-features\">\n        {course.duration && (\n          <IconText\n            icon={<IconCamera />}\n            text={`${t(\"CoursePage.Duration\")}: ${course.duration}`}\n          />\n        )}\n        {course.lessons && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Lessons\")}: ${course.lessons.length}`}\n          />\n        )}\n        {course.language && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Language\")}: ${course.language}`}\n          />\n        )}\n        {course.level && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Level\")}: ${course.level}`}\n          />\n        )}\n        {course.users_count ? (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Students\")}: ${course.users_count}`}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n      {!user.value ? (\n        <Text size=\"12\">\n          <Link\n            to={`/login?referrer=/courses/${course.id}`}\n            style={{\n              marginRight: \"4px\",\n              color: theme.primaryColor,\n            }}\n          >\n            {t<string>(\"CoursePage.Login\")}\n          </Link>\n          {t(\"CoursePage.ToSeeProgress\")}\n        </Text>\n      ) : (\n        <CourseProgress\n          progress={\n            currentCourse && currentCourse?.length > 0\n              ? progressMap / currentCourse.length\n              : 0\n          }\n          icon={\n            progress.loaded ? (\n              <IconWin />\n            ) : (\n              <ContentLoader width=\"22px\" height=\"22px\" />\n            )\n          }\n          title={t(\"CoursePage.MyProgress\")}\n        >\n          <strong style={{ fontSize: 14 }}>\n            {t<string>(\"CoursePage.Finished\")} {progressMap || 0}{\" \"}\n            {t<string>(\"CoursePage.Of\")}{\" \"}\n            {currentCourse && currentCourse?.length > 0\n              ? currentCourse.length\n              : 0}{\" \"}\n            {t<string>(\"CoursePage.Lessons\")}\n          </strong>\n          <p style={{ marginTop: 9, marginBottom: 0 }}>\n            {t<string>(\"CoursePage.FinishToGetCertificate\")}\n          </p>\n        </CourseProgress>\n      )}\n    </PricingCard>\n  ) : (\n    <PricingCard mobile>\n      <Title level={5} as={\"h5\"}>\n        {course.title}\n      </Title>\n      <div className=\"pricing-card-footer\">\n        <div>\n          {course.product?.price_old && (\n            <div className=\"pricing-card-discount\">\n              <Title level={5} as={\"h5\"}>\n                {formatPrice(\n                  course.product?.price_old,\n                  course.product?.tax_rate\n                )}{\" \"}\n                z\n              </Title>\n            </div>\n          )}\n          <Title level={4} as={\"h4\"}>\n            {formatPrice(course.product?.price, course.product?.tax_rate)} z\n          </Title>\n        </div>\n        <div>\n          {progress.loaded ? (\n            <CourseDetailsSidebarButtons\n              onRequestAccess={onRequestAccess}\n              course={course}\n              userOwnThisCourse={userOwnThisCourse}\n            />\n          ) : (\n            <ContentLoader />\n          )}\n        </div>\n      </div>\n    </PricingCard>\n  );\n};\n\nexport default CoursesDetailsSidebar;\n","import { useContext, useEffect, useState } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { API } from \"@escolalms/sdk/lib\";\n\ntype PogressState = {\n  data: API.CourseProgressDetails | undefined;\n  loaded: boolean;\n  loading: boolean;\n};\n\nexport const useCourseProgress = (courseId: number) => {\n  const [progress, setProgress] = useState<PogressState>({\n    data: undefined,\n    loaded: false,\n    loading: false,\n  });\n  const { user, fetchCourseProgress, courseProgressDetails } =\n    useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (\n      courseProgressDetails.byId &&\n      courseProgressDetails.byId[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      setProgress({\n        ...progress,\n        data: courseProgressDetails.byId[Number(courseId)].value,\n        loaded: true,\n        loading: false,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId, courseProgressDetails]);\n\n  useEffect(() => {\n    if (user?.value && !user.loading && !progress.loading && !progress.loaded) {\n      setProgress({\n        ...progress,\n        loading: true,\n      });\n      fetchCourseProgress(courseId).catch(() =>\n        setProgress({\n          ...progress,\n          loaded: true,\n          loading: false,\n        })\n      );\n    } else if (!progress.loaded) {\n      setProgress({\n        ...progress,\n        loaded: true,\n      });\n    }\n  }, [user, progress, fetchCourseProgress, courseId]);\n\n  return {\n    progress,\n  };\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { TopicType } from \"@escolalms/sdk/lib/services/courses\";\nimport { OEmbedPlayer } from \"@escolalms/components/lib/components/players/OEmbedPlayer/OEmbedPlayer\";\nimport { AudioVideoPlayer } from \"@escolalms/components/lib/components/players/AudioVideoPlayer/AudioVideoPlayer\";\nimport { PdfPlayer } from \"@escolalms/components/lib/components/players/PdfPlayer/PdfPlayer\";\nimport { MarkdownPlayer } from \"@escolalms/components/lib/components/players/MarkdownPlayer/MarkdownPlayer\";\nimport { ImagePlayer } from \"@escolalms/components/lib/components/players/ImagePlayer/ImagePlayer\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { H5Player } from \"@escolalms/components/lib/components/players/H5Player/H5Player\";\nimport GiftQuizPlayer from \"@escolalms/components/lib/components/quizzes\";\n\nexport const CourseProgramPreview: React.FC<{\n  topic: API.Topic;\n}> = ({ topic }) => {\n  const { apiUrl } = useContext(EscolaLMSContext);\n  const topicRender = useMemo(() => {\n    if (topic && topic.topicable_type) {\n      switch (topic.topicable_type) {\n        case TopicType.H5P:\n          // @ts-ignore\n          return (\n            <H5Player\n              //@ts-ignore\n              h5pObject={topic?.topicable?.content as API.H5PObject}\n              hideActionButtons\n            />\n          );\n        case TopicType.OEmbed:\n          return <OEmbedPlayer url={topic?.topicable?.value} />;\n        case TopicType.RichText:\n          return (\n            <div className=\"container-xl\">\n              <MarkdownPlayer\n                children={topic.topicable.value}\n                onLoad={() => console.log(\"MarkdownPlayer onLoad\")}\n              />\n            </div>\n          );\n        case TopicType.Video:\n        case TopicType.Audio:\n          return <AudioVideoPlayer url={topic.topicable.url} />;\n        case TopicType.Image:\n          return <ImagePlayer topic={topic} onLoad={() => console.log(\"\")} />;\n        case TopicType.Pdf:\n          return (\n            <PdfPlayer\n              url={topic.topicable.url}\n              pageConfig={{\n                width: 550,\n              }}\n            />\n          );\n        case TopicType.Scorm:\n          return (\n            <div className=\"scorm-wrapper\">\n              <iframe\n                title={topic.topicable.value}\n                width=\"100%\"\n                height=\"400px\"\n                style={{\n                  border: \"none\",\n                }}\n                src={`${apiUrl}/api/scorm/play/${topic.topicable.uuid}`}\n              />\n            </div>\n          );\n        case API.TopicType.GiftQuiz:\n          return <GiftQuizPlayer topic={topic} />;\n        default:\n          return <pre>{topic.topicable_type}</pre>;\n      }\n    }\n    return <React.Fragment />;\n  }, [topic, apiUrl]);\n\n  return (\n    <div className=\"topic-preview-modal\">\n      <div className=\"topic-preview-modal-content\">{topicRender}</div>\n    </div>\n  );\n};\n\nexport default CourseProgramPreview;\n","import styled, { createGlobalStyle } from \"styled-components\";\nimport { isMobile } from \"react-device-detect\";\n\nexport const StyledCoursePage = styled.div`\n  section {\n    margin-bottom: 45px;\n    &.with-border {\n      padding-bottom: 45px;\n      border-bottom: 1px solid\n        ${({ theme }) => (theme.mode === \"dark\" ? theme.gray1 : theme.gray5)};\n    }\n    &.padding-right {\n      padding-right: 150px;\n      @media (max-width: 991px) {\n        padding-right: 70px;\n      }\n      @media (max-width: 768px) {\n        padding-right: 0;\n      }\n    }\n  }\n  .sidebar-col {\n    padding-bottom: 45px;\n  }\n  .course-main-info {\n    .image-wrapper {\n      @media (max-width: 991px) {\n        display: flex;\n        justify-content: center;\n        width: 100%;\n        margin-bottom: 35px;\n\n        img {\n          display: block;\n          margin: 0 auto;\n        }\n      }\n    }\n    .labels-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      column-gap: 20px;\n      margin: 35px 0;\n      @media (max-width: 991px) {\n        margin: 35px 0 0;\n      }\n      @media (max-width: 374px) {\n        flex-direction: column;\n        row-gap: 16px;\n      }\n      &--bottom {\n        column-gap: 45px;\n        margin-top: 120px;\n        margin-bottom: 0;\n        flex-wrap: wrap;\n        @media (max-width: 991px) {\n          column-gap: 0;\n          margin-top: 55px;\n        }\n        @media (max-width: 374px) {\n          flex-direction: row;\n        }\n        .single-label {\n          @media (max-width: 991px) {\n            flex: 0 0 50%;\n            max-width: 50%;\n            margin-bottom: 20px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    .ranking-row {\n      display: none !important;\n    }\n  }\n  .course-companies {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    @media (max-width: 768px) {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .companies-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      column-gap: 70px;\n      .single-company {\n        max-height: 85px;\n        max-width: 65px;\n      }\n      @media (max-width: 768px) {\n        column-gap: 0;\n        justify-content: space-between;\n        width: 100%;\n      }\n    }\n\n    p {\n      max-width: 220px;\n      margin-right: 50px;\n    }\n  }\n  .course-description {\n    padding: 50px 45px;\n    margin: 45px 0;\n    background-color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray1 : theme.gray5};\n    border-radius: ${({ theme }) => theme.cardRadius}px;\n    @media (max-width: 768px) {\n      padding: 20px;\n    }\n  }\n  .course-related-courses {\n    background-color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray1 : theme.gray5};\n    padding: 60px 0 90px;\n    .slick-dots {\n      top: -65px;\n      right: 80px;\n      @media (max-width: 575px) {\n        right: 0;\n      }\n    }\n    .content-container {\n      position: relative;\n      overflow: hidden;\n      &:first-of-type {\n        margin-bottom: 60px;\n        @media (max-width: 768px) {\n          margin-bottom: 40px;\n        }\n      }\n      h4 {\n        @media (max-width: 575px) {\n          padding-right: 50%;\n        }\n      }\n      .slider-wrapper {\n        a {\n          text-decoration: none !important;\n        }\n        @media (max-width: 575px) {\n          margin-left: -50px;\n\n          .image-section,\n          img {\n            max-height: 180px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    a {\n      text-decoration: none !important;\n    }\n  }\n  .sidebar-wrapper {\n    width: 100%;\n    left: 0;\n    position: ${isMobile ? \"fixed\" : \"sticky\"};\n    top: ${isMobile ? \"unset\" : \"130px\"};\n    bottom: ${isMobile ? \"0\" : \"unset\"};\n    z-index: 100;\n  }\n\n  .single-content {\n    box-sizing: border-box;\n  }\n`;\n\nexport const ModalOverwriteGlobal = createGlobalStyle`\n  .ReactModal__Overlay  {\n    z-index: 1500 !important;\n  }\n`;\n","import { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\n\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { useContext } from \"react\";\n\nexport const CourseCompanies = () => {\n  const { t } = useTranslation();\n\n  const { settings } = useContext(EscolaLMSContext);\n\n  return (\n    <section className=\"course-companies\">\n      <Text>\n        <strong>{t(\"CoursePage.CompaniesTitle\")}</strong>\n      </Text>\n      <div className=\"companies-row\">\n        {settings &&\n          settings.value.courseLogos &&\n          Object.values(settings.value.courseLogos).map((_, index) => (\n            <div className=\"single-company\" key={index}>\n              <ResponsiveImage\n                path={settings?.value?.courseLogos[`logo${index + 1}`] || \"\"}\n                srcSizes={[100, 200, 300]}\n              />\n            </div>\n          ))}\n      </div>\n    </section>\n  );\n};\n","import { FC, useContext, useEffect, useState } from \"react\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { LabelListItem } from \"@escolalms/components/lib/components/molecules/LabelListItem/LabelListItem\";\nimport { Medal, StarOrange, ThumbUp } from \"../../../../../icons\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Col, Row } from \"react-grid-system\";\nimport { formatDate } from \"@/utils/date\";\n\nimport { getAverageRate } from \"@/utils/questionnaires\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { useParams } from \"react-router-dom\";\n\ninterface CourseMainInfoProps {\n  courseData: API.Course;\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseMainInfo: FC<CourseMainInfoProps> = ({\n  courseData,\n  questionnaires,\n}) => {\n  const [reviewQuestions, setReviewQuestions] = useState<\n    API.QuestionnaireStars[]\n  >([]);\n  const { fetchQuestionnaireStars } = useContext(EscolaLMSContext);\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n\n  const getReviewQuestionStar = async (reviewQuestionsId: number[]) => {\n    const fetchedObjects = await Promise.all(\n      reviewQuestionsId.map(async (questionId) => {\n        const response = await fetchQuestionnaireStars(\n          QuestionnaireModelType.COURSE,\n          Number(id),\n          questionId\n        );\n        if (response.success) {\n          return response.data;\n        }\n        return null;\n      })\n    );\n    setReviewQuestions(fetchedObjects as API.QuestionnaireStars[]);\n  };\n\n  const getReviewQuestions = () => {\n    const rewievQuestions = (questionnaires || []).reduce(\n      (result: number[], currentQuestion) => {\n        const matchingReviewQuestion = currentQuestion.questions.find(\n          (currentQuestion) =>\n            currentQuestion.type === QuestionType.REVIEW &&\n            currentQuestion.public_answers\n        );\n        matchingReviewQuestion && result.push(matchingReviewQuestion.id);\n        return result;\n      },\n      []\n    );\n    getReviewQuestionStar(rewievQuestions);\n  };\n  useEffect(() => {\n    questionnaires.length > 0 && getReviewQuestions();\n  }, [questionnaires]);\n\n  return (\n    <section className=\"course-main-info with-border\">\n      <Row>\n        <Col lg={7}>\n          <Title mobile={isMobile} level={2}>\n            {courseData.title}\n          </Title>\n          <div className=\"labels-row\">\n            <div className=\"single-label\">\n              <LabelListItem mobile={isMobile} title=\"90%\" icon={<ThumbUp />}>\n                {t(\"CoursePage.Recommends\")}\n              </LabelListItem>\n            </div>\n            <div className=\"single-label\">\n              <LabelListItem\n                mobile={isMobile}\n                title={t<string>(\"CoursePage.Guarantee\")}\n                icon={<Medal />}\n              >\n                {t(\"CoursePage.Satisfaction\")}\n              </LabelListItem>\n            </div>\n            <div className=\"single-label\">\n              <LabelListItem\n                mobile={isMobile}\n                title={\n                  reviewQuestions.length > 0\n                    ? String(getAverageRate(reviewQuestions))\n                    : t(\"CoursePage.NoRatings\")\n                }\n                icon={<StarOrange />}\n              >\n                {t(\"CoursePage.AvarageRating\")}\n              </LabelListItem>\n            </div>\n          </div>\n        </Col>\n        <Col lg={4}>\n          {courseData.image_path && (\n            <div className=\"image-wrapper\">\n              <ResponsiveImage\n                path={courseData.image_path}\n                srcSizes={[790 * 0.5, 790, 2 * 790]}\n              />\n            </div>\n          )}\n        </Col>\n      </Row>\n      <div className=\"labels-row labels-row--bottom\">\n        {courseData.categories && courseData.categories.length > 0 && (\n          <div className=\"single-label\">\n            <LabelListItem\n              title={t(\"CoursePage.CourseCategory\")}\n              variant={\"label\"}\n            >\n              {courseData.categories[0].name}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.level && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.Level\")} variant={\"label\"}>\n              {courseData.level}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.active_from && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.StartDate\")} variant={\"label\"}>\n              {courseData.active_from\n                ? formatDate(courseData.active_from)\n                : \"---\"}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.duration && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.Duration\")} variant={\"label\"}>\n              {courseData.duration}\n            </LabelListItem>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n","import { Stack } from \"@escolalms/components\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport styled from \"styled-components\";\n\nexport const StyledStack = styled(Stack)`\n  gap: 16px;\n  margin: 16px auto;\n`;\n\nexport const StyledTitle = styled(Title)`\n  margin-bottom: 16px;\n`;\n\nexport const PaginationContainerStyled = styled.div`\n  margin: 0 auto;\n`;\n","import { API } from \"@escolalms/sdk/lib\";\nimport {\n  PropsWithChildren,\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getCourseQuestionnaireReviewQuestion } from \"@/utils/questionnaires\";\nimport { QuestionType } from \"@/types/questionnaire\";\n\nconst initialFunction = () => console.warn(\"INITIAL STATE\");\n\ntype CourseRatingsContextProps = {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  setQuestionnaireId: (state: number | null) => void;\n  questionId: number | null;\n  setQuestionId: (state: number | null) => void;\n  reviewId: number | undefined;\n  courseId: number | undefined;\n};\n\nexport const CourseRatingsContext = createContext<CourseRatingsContextProps>({\n  questionnaires: [],\n  questionnaireId: null,\n  setQuestionnaireId: initialFunction,\n  questionId: null,\n  setQuestionId: initialFunction,\n  reviewId: undefined,\n  courseId: undefined,\n});\n\ntype ProviderProps = PropsWithChildren & {\n  questionnaires: API.Questionnaire[];\n};\n\nexport const CourseRatingProvider = ({\n  children,\n  questionnaires,\n}: ProviderProps) => {\n  const [questionnaireId, setQuestionnaireId] =\n    useState<CourseRatingsContextProps[\"questionnaireId\"]>(null);\n  const [questionId, setQuestionId] =\n    useState<CourseRatingsContextProps[\"questionId\"]>(null);\n  const { id } = useParams<{ id: string }>();\n  const firstQuestionnaire = questionnaires?.at(0);\n  const firstQuestion = firstQuestionnaire?.questions?.find(\n    ({ type }) => type === QuestionType.RATE\n  );\n  const reviewId = getCourseQuestionnaireReviewQuestion({\n    questionnaires,\n    questionnaireId,\n    questionType: QuestionType.REVIEW,\n  });\n\n  // Set first questionnaire on init\n  useEffect(() => {\n    if (firstQuestionnaire?.id && !questionnaireId) {\n      setQuestionnaireId(firstQuestionnaire.id);\n    }\n  }, [firstQuestionnaire?.id, questionnaireId]);\n  // Set first question on init\n  useEffect(() => {\n    if (firstQuestion?.id && !questionId) {\n      setQuestionId(firstQuestion.id);\n    }\n  }, [firstQuestion?.id, questionId]);\n\n  return (\n    <CourseRatingsContext.Provider\n      value={{\n        questionnaires,\n        questionnaireId,\n        setQuestionnaireId,\n        questionId,\n        setQuestionId,\n        reviewId,\n        courseId: Number(id),\n      }}\n    >\n      {children}\n    </CourseRatingsContext.Provider>\n  );\n};\n\nexport const useCourseRatingContext = () => {\n  const context = useContext(CourseRatingsContext);\n\n  if (!CourseRatingsContext) {\n    throw new Error(\n      \"useCourseRatingContext must be used inside the CourseRatingProvider\"\n    );\n  }\n\n  return context;\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { toast } from \"react-toastify\";\nimport { QuestionnaireModelType } from \"../types/questionnaire\";\nimport { useTranslation } from \"react-i18next\";\n\nconst initialState = {\n  total: 0,\n  per_page: 3,\n  page: 1,\n  current_page: 1,\n};\n\ninterface Props {\n  questionId: number | null;\n  courseId: number | undefined;\n}\n\nexport const useCourseAnswers = ({ questionId, courseId }: Props) => {\n  const [questionnaireAnswers, setQuestionnaireAnswers] = useState<\n    API.QuestionAnswer[] | undefined\n  >(undefined);\n  const [answersMeta, setAnswersMeta] = useState(initialState);\n  const [loading, setLoading] = useState(true);\n  const { fetchQuestionnairesAnswers } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n\n  const handleFetchQuestionnairesAnswers = useCallback(\n    (page: number) => {\n      if (questionId && courseId) {\n        setLoading(true);\n        fetchQuestionnairesAnswers(\n          QuestionnaireModelType.COURSE,\n          Number(courseId),\n          questionId,\n          {\n            per_page: answersMeta.per_page,\n            page: page,\n            order_by: \"updated_at\",\n            order: \"DESC\",\n          }\n        )\n          .then((res) => {\n            if (res.success) {\n              setQuestionnaireAnswers(res.data);\n              setAnswersMeta((prev) => ({\n                ...prev,\n                total: res.meta.total,\n                current_page: res.meta.current_page,\n                page: res.meta.current_page,\n              }));\n            }\n          })\n          .catch((error) => {\n            toast.error(t<string>(\"UnexpectedError\"));\n            console.log(error);\n          })\n          .finally(() => setLoading(false));\n      }\n    },\n    [answersMeta, fetchQuestionnairesAnswers, courseId, questionId, t]\n  );\n\n  const onPageChange = useCallback((page: number) => {\n    setAnswersMeta((prev) => ({\n      ...prev,\n      current_page: page,\n    }));\n  }, []);\n\n  useEffect(() => {\n    if (answersMeta.page !== answersMeta.current_page) {\n      handleFetchQuestionnairesAnswers(answersMeta.current_page);\n    }\n  }, [\n    answersMeta.current_page,\n    answersMeta.page,\n    handleFetchQuestionnairesAnswers,\n  ]);\n\n  useEffect(() => {\n    setAnswersMeta(initialState);\n    handleFetchQuestionnairesAnswers(initialState.page);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [questionId]);\n\n  return {\n    answersMeta,\n    questionnaireAnswers,\n    loading,\n    onPageChange,\n  };\n};\n","import { Row } from \"@escolalms/components\";\nimport styled from \"styled-components\";\n\nexport const Container = styled(Row)`\n  justify-content: space-between;\n  padding: 16px;\n  background: ${({ theme }) => theme.white};\n`;\n","import { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\n\nimport { API } from \"@escolalms/sdk/lib\";\nimport { FC } from \"react\";\nimport { Container } from \"./styles\";\nimport { Avatar, Row, Stack } from \"@escolalms/components\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { HeaderUser, StarOrange } from \"@/icons/index\";\nimport { useTheme } from \"styled-components\";\n\ninterface AnswerComponentProps {\n  question: API.QuestionAnswer;\n}\n\nexport const AnswerComponent: FC<AnswerComponentProps> = ({ question }) => {\n  const { user, note, updated_at, rate } = question;\n  const theme = useTheme();\n\n  if (!note) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <Row $gap={16}>\n        {user.avatar ? (\n          <Avatar src={user.avatar} alt=\"\" />\n        ) : (\n          <HeaderUser mode={theme.mode === \"dark\" ? \"light\" : \"dark\"} />\n        )}\n\n        <Stack $justifyContent=\"space-between\">\n          <Title level={5}>{user.name}</Title>\n          <Text>{note}</Text>\n        </Stack>\n      </Row>\n      <Stack $gap={8}>\n        <Text noMargin>\n          {formatDate(updated_at, APP_CONFIG.defaultDateFormat)}\n        </Text>\n        {rate > 0 && (\n          <Row $gap={16}>\n            <StarOrange />\n            <Text>{rate}</Text>\n          </Row>\n        )}\n      </Stack>\n    </Container>\n  );\n};\n","import { useCourseAnswers } from \"@/hooks/useCourseAnswers\";\nimport { Spin } from \"@escolalms/components\";\nimport Pagination from \"../../../../../../../components/Pagination\";\nimport { AnswerComponent } from \"../../AnswerComponent\";\nimport { StyledStack, PaginationContainerStyled } from \"../../styles\";\n\ninterface Props {\n  courseId: number;\n  questionId: number;\n}\n\nexport const CourseRatingsQuestionnairesContent = ({\n  courseId,\n  questionId,\n}: Props) => {\n  const { answersMeta, loading, onPageChange, questionnaireAnswers } =\n    useCourseAnswers({\n      questionId,\n      courseId,\n    });\n\n  return (\n    <StyledStack>\n      {loading ? (\n        <Spin />\n      ) : (\n        <>\n          {questionnaireAnswers &&\n            questionnaireAnswers.map((question) => (\n              <AnswerComponent question={question} />\n            ))}\n          {answersMeta.total > answersMeta.per_page && (\n            <PaginationContainerStyled>\n              <Pagination\n                total={answersMeta.total}\n                perPage={answersMeta.per_page}\n                currentPage={answersMeta.current_page}\n                onPage={onPageChange}\n              />\n            </PaginationContainerStyled>\n          )}\n        </>\n      )}\n    </StyledStack>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useTheme } from \"styled-components\";\nimport { Dropdown } from \"@escolalms/components\";\nimport { useCourseRatingContext } from \"../../Provider\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { QuestionType } from \"@/types/questionnaire\";\nimport { StyledStack } from \"../../styles\";\n\ninterface Props {\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseRatingsQuestionnairesDropdowns = ({\n  questionnaires,\n}: Props) => {\n  const { questionnaireId, setQuestionnaireId, questionId, setQuestionId } =\n    useCourseRatingContext();\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const questionnairesFilter = useMemo(\n    () =>\n      questionnaires.map((item) => ({\n        label: item.title,\n        value: String(item.id),\n      })),\n    [questionnaires]\n  );\n\n  const questionnaireQuestionFilter = useMemo(\n    () =>\n      questionnaires\n        ?.find((element) => element.id === questionnaireId)\n        ?.questions.filter((item) => item.public_answers)\n        .filter((item) => item.type !== QuestionType.REVIEW)\n        .map((item) => ({\n          label: item.title,\n          value: String(item.id),\n        })) || [],\n    [questionnaireId, questionnaires]\n  );\n\n  return (\n    <StyledStack>\n      {questionnairesFilter.length > 1 && (\n        <Dropdown\n          onChange={(e) => setQuestionnaireId(Number(e.value))}\n          options={questionnairesFilter}\n          placeholder={t(\"CoursePage.SelectQuestionnaire\")}\n          backgroundColor={theme.white}\n          value={questionnairesFilter?.find(\n            ({ value }) => value === String(questionnaireId)\n          )}\n        />\n      )}\n      <Dropdown\n        onChange={(e) => setQuestionId(Number(e.value))}\n        options={questionnaireQuestionFilter}\n        placeholder={t(\"CoursePage.SelectQuestion\")}\n        backgroundColor={theme.white}\n        value={questionnaireQuestionFilter?.find(\n          ({ value }) => value === String(questionId)\n        )}\n      />\n    </StyledStack>\n  );\n};\n","import { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { StyledTitle } from \"../styles\";\nimport { useCourseRatingContext } from \"../Provider\";\nimport { CourseRatingsQuestionnairesContent } from \"./Content\";\nimport { CourseRatingsQuestionnairesDropdowns } from \"./Dropdowns\";\n\nexport const CourseRatingsQuestionnaires = memo(() => {\n  const { questionnaires, courseId, questionId } = useCourseRatingContext();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <StyledTitle level={4}>{t(\"CoursePage.Questionnaires\")}</StyledTitle>\n      {questionnaires.length > 0 ? (\n        <>\n          <CourseRatingsQuestionnairesDropdowns\n            questionnaires={questionnaires}\n          />\n          {courseId && questionId && (\n            <CourseRatingsQuestionnairesContent\n              courseId={courseId}\n              questionId={questionId}\n            />\n          )}\n        </>\n      ) : (\n        <Text>{t<string>(\"CoursePage.CourseRatingsEmpty\")}</Text>\n      )}\n    </>\n  );\n});\n","import { useCourseAnswers } from \"@/hooks/useCourseAnswers\";\nimport { Spin } from \"@escolalms/components\";\nimport Pagination from \"@/components/Pagination\";\nimport { AnswerComponent } from \"../../AnswerComponent\";\nimport { StyledStack, PaginationContainerStyled } from \"../../styles\";\n\ninterface Props {\n  courseId: number;\n  questionId: number;\n}\n\nexport const CourseRatingsReviewsContent = ({\n  courseId,\n  questionId,\n}: Props) => {\n  const { answersMeta, loading, onPageChange, questionnaireAnswers } =\n    useCourseAnswers({\n      questionId,\n      courseId,\n    });\n\n  return (\n    <StyledStack>\n      {loading ? (\n        <Spin />\n      ) : (\n        <>\n          {(questionnaireAnswers || []).map((question) => (\n            <AnswerComponent question={question} />\n          ))}\n          {answersMeta.total > answersMeta.per_page && (\n            <PaginationContainerStyled>\n              <Pagination\n                total={answersMeta.total}\n                perPage={answersMeta.per_page}\n                currentPage={answersMeta.current_page}\n                onPage={onPageChange}\n              />\n            </PaginationContainerStyled>\n          )}\n        </>\n      )}\n    </StyledStack>\n  );\n};\n","import { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { StyledTitle } from \"../styles\";\nimport { CourseRatingsReviewsContent } from \"./Content\";\nimport { useCourseRatingContext } from \"../Provider\";\n\nexport const CourseRatingsReviews = memo(() => {\n  const { courseId, reviewId } = useCourseRatingContext();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <StyledTitle level={4}>{t(\"CoursePage.CourseRatingsTitle\")}</StyledTitle>\n      {courseId && reviewId && (\n        <CourseRatingsReviewsContent\n          courseId={courseId}\n          questionId={reviewId}\n        />\n      )}\n    </>\n  );\n});\n","import { FC, memo } from \"react\";\nimport { Row, Col } from \"react-grid-system\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { CourseRatingsQuestionnaires } from \"./Questionnaires\";\nimport { CourseRatingsReviews } from \"./Reviews\";\nimport { CourseRatingProvider } from \"./Provider\";\n\ninterface CourseRatingsProps {\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseRatings: FC<CourseRatingsProps> = memo(\n  ({ questionnaires }) => {\n    return (\n      <CourseRatingProvider questionnaires={questionnaires}>\n        <section className=\"course-ratings\">\n          <Row>\n            <Col>\n              <CourseRatingsQuestionnaires />\n            </Col>\n            <Col>\n              <CourseRatingsReviews />\n            </Col>\n          </Row>\n        </section>\n      </CourseRatingProvider>\n    );\n  }\n);\n","import { useContext } from \"react\";\n\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\n\nimport CoursesSlider from \"@/components/CoursesSlider\";\n\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Container\";\n\nexport const CourseRelated = () => {\n  const { t } = useTranslation();\n\n  const { courses } = useContext(EscolaLMSContext);\n\n  const sliderSettings = {\n    arrows: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 3,\n    draggable: false,\n    slidesToScroll: 3,\n    responsive: [\n      {\n        breakpoint: 768,\n        settings: {\n          draggable: true,\n          slidesToShow: 2,\n          slidesToScroll: 2,\n        },\n      },\n      {\n        breakpoint: 576,\n        settings: {\n          slidesToShow: 1,\n          centerMode: true,\n          slidesToScroll: 1,\n        },\n      },\n    ],\n  };\n  return (\n    <section className=\"course-related-courses\">\n      <Container>\n        <Row>\n          <Col lg={9}>\n            <div className=\"content-container\">\n              <Title level={4} as=\"h2\">\n                {t(\"CoursePage.RelatedCoursesTitle\")}\n              </Title>\n              {courses && courses.list && (\n                <CoursesSlider\n                  courses={courses.list.data}\n                  sliderSettings={sliderSettings}\n                />\n              )}\n            </div>\n            <div className=\"content-container\">\n              <Title level={4} as=\"h2\">\n                {t(\"CoursePage.InterestTitle\")}\n              </Title>\n              {courses && courses.list && (\n                <CoursesSlider\n                  courses={courses.list.data}\n                  sliderSettings={sliderSettings}\n                />\n              )}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </section>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport CoursesDetailsSidebar from \"@/components/SingleCoursesTwo/CoursesDetailsSidebar/index\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Loader from \"@/components/Preloader\";\nimport { useTranslation } from \"react-i18next\";\nimport Layout from \"@/components/_App/Layout\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\n\nimport { CourseProgram } from \"@escolalms/components/lib/components/organisms/CourseProgram/CourseProgram\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\nimport CourseProgramPreview from \"@/components/Course/CourseProgramPreview\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Modal } from \"@escolalms/components/lib/components/atoms/Modal/Modal\";\nimport Breadcrumbs from \"@/components/Breadcrumbs\";\nimport { fixContentForMarkdown } from \"@escolalms/components/lib/utils/components/markdown\";\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Container\";\nimport { ModalCourseAccess } from \"@escolalms/components/lib/components/organisms/ModalCourseAccess\";\nimport { QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { ModalOverwriteGlobal, StyledCoursePage } from \"./styles\";\nimport {\n  CourseMainInfo,\n  CourseAuthor,\n  CourseCompanies,\n  CourseRatings,\n  CourseRelated,\n} from \"./Components\";\nimport routeRoutes from \"@/components/Routes/routes\";\n\nconst CoursePage = () => {\n  const [questionnaires, setQuestionnaires] = useState<API.Questionnaire[]>([]);\n  const [courseAccessModalVisible, setCourseAccessModalVisible] =\n    useState(false);\n  const [previewTopic, setPreviewTopic] = useState<API.Topic>();\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n  const {\n    course,\n    fetchCourse,\n    fetchCourses,\n    fetchCourseAccess,\n    fetchQuestionnaires,\n  } = useContext(EscolaLMSContext);\n\n  const closeCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(false),\n    []\n  );\n\n  const openCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(true),\n    []\n  );\n\n  const refreshCurrentCourseAccess = useCallback(\n    () =>\n      fetchCourseAccess({\n        course_id: Number(id),\n        current_page: 1,\n        per_page: 1,\n      }),\n    [id, fetchCourseAccess]\n  );\n\n  useEffect(() => {\n    fetchCourses({ per_page: 6 });\n    if (id) {\n      fetchCourse(Number(id));\n      refreshCurrentCourseAccess();\n      fetchQuestionnaires(QuestionnaireModelType.COURSE, Number(id)).then(\n        (response) => response.success && setQuestionnaires(response.data)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  if (course.error) {\n    return <pre>{course.error.message}</pre>;\n  }\n\n  return (\n    <Layout metaTitle={course?.value?.title || \"Loading\"}>\n      {course.loading && <Loader />}\n      {!course.loading && course.value && (\n        <>\n          <StyledCoursePage>\n            <Container>\n              <Row>\n                <Col md={12} lg={9}>\n                  <Breadcrumbs\n                    items={[\n                      <Link to={routeRoutes.home}>{t(\"Home\")}</Link>,\n                      <Link to={routeRoutes.courses}>{t(\"Courses\")}</Link>,\n                      <Text size=\"12\">{course.value.title}</Text>,\n                    ]}\n                  />\n                  <CourseMainInfo\n                    courseData={course.value}\n                    questionnaires={questionnaires}\n                  />\n                  <CourseCompanies />\n                  {course.value.summary &&\n                    fixContentForMarkdown(course.value.summary) !== \"\" && (\n                      <section className=\"course-description\">\n                        <MarkdownRenderer>\n                          {course.value.summary}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.author && (\n                    <CourseAuthor courseData={course.value} />\n                  )}\n                  {course.value.description &&\n                    fixContentForMarkdown(course.value.description) !== \"\" && (\n                      <section className=\"course-description-short with-border padding-right\">\n                        <Title level={4}>\n                          {t(\"CoursePage.CourseDescriptionTitle\")}\n                        </Title>\n                        <MarkdownRenderer>\n                          {course.value.description}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.lessons && course.value.lessons.length > 0 && (\n                    <CourseProgram\n                      lessons={course.value.lessons}\n                      onTopicClick={(topic) => setPreviewTopic(topic)}\n                    />\n                  )}\n                  <CourseRatings questionnaires={questionnaires} />\n                </Col>\n                <Col md={12} lg={3} className=\"sidebar-col\">\n                  <div className=\"sidebar-wrapper\">\n                    {course.value && (\n                      <CoursesDetailsSidebar\n                        course={course.value}\n                        onRequestAccess={openCourseAccessModal}\n                      />\n                    )}\n                  </div>\n                </Col>\n              </Row>\n            </Container>\n            <CourseRelated />\n          </StyledCoursePage>\n          <Modal\n            onClose={() => setPreviewTopic(undefined)}\n            visible={!!previewTopic}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose={true}\n            width={600}\n            bodyStyle={{\n              maxHeight: \"80vh\",\n              overflow: \"auto\",\n            }}\n          >\n            <ModalOverwriteGlobal />\n            {previewTopic && <CourseProgramPreview topic={previewTopic} />}\n          </Modal>\n          <Modal\n            onClose={closeCourseAccessModal}\n            visible={courseAccessModalVisible}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose\n            width={600}\n          >\n            <ModalOverwriteGlobal />\n            <ModalCourseAccess\n              course={course.value}\n              onCancel={closeCourseAccessModal}\n              onSuccess={() => {\n                refreshCurrentCourseAccess();\n                closeCourseAccessModal();\n              }}\n            />\n          </Modal>\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default CoursePage;\n","export const APP_CONFIG = {\n  defaultDateFormat: \"dd/MM/yyyy\",\n  defaultDateTimeFormat: \"dd/MM/yyyy, HH:mm\",\n  tutorPlaceholderPath: \"/images/tutorblind.png\",\n};\n","import { add, format, isAfter } from \"date-fns\";\nimport { APP_CONFIG } from \"@/config/app\";\n\nexport const formatDate = (\n  date: string | number | Date | null | undefined,\n  dateFormat: string = APP_CONFIG.defaultDateFormat\n) => {\n  if (!date) return \"\";\n  return format(new Date(date), dateFormat);\n};\n\nexport const isTwoDatesEqual = (\n  firstDate: Date | string | number | null | undefined,\n  secondDate: Date | string | number | null | undefined,\n  format?: string\n) => {\n  if (!firstDate || !secondDate) return false;\n  return formatDate(firstDate, format) === formatDate(secondDate, format);\n};\n\nexport const createArrayWithDateAndTimes = (terms: string[] | Date[]) => {\n  const newTerms: {\n    date: string;\n    times: Date[];\n  }[] = [];\n\n  terms.forEach((term) => {\n    const date = format(new Date(term), \"MM/dd/yyyy\");\n    const existingTerm = newTerms.find(\n      (t) => format(new Date(t.date), \"MM/dd/yyyy\") === date\n    );\n\n    if (existingTerm) {\n      existingTerm.times.push(new Date(term));\n    } else {\n      newTerms.push({\n        date: date,\n        times: [new Date(term)],\n      });\n    }\n  });\n\n  return newTerms;\n};\n\nexport const removePastDates = (dates: Date[]) =>\n  dates.filter((date) => isAfter(date, new Date()));\n\nexport const sortDates = (dates: Date[]): Date[] =>\n  dates.sort((a, b) => a.getTime() - b.getTime());\n\nexport const extractTimeUnits = (input: string): Record<string, number> => {\n  const timeRegex = /(\\d+)\\s+(day|hour|minute|second|week|year)s?/g;\n  const matches = Array.from(input.matchAll(timeRegex));\n\n  const extractedUnits: Record<string, number> = {};\n\n  let foundMatch = false;\n  matches.forEach((match) => {\n    foundMatch = true;\n    const value = parseInt(match[1]);\n    const unit = match[2];\n\n    if (!extractedUnits[unit]) {\n      extractedUnits[unit] = value;\n    } else {\n      extractedUnits[unit] += value;\n    }\n  });\n\n  if (!foundMatch) {\n    const numberRegex = /\\d+/g;\n    const numberMatches = Array.from(input.matchAll(numberRegex));\n\n    numberMatches.forEach((match) => {\n      const value = parseInt(match[0]);\n      extractedUnits[\"hour\"] = value;\n    });\n  }\n\n  return extractedUnits;\n};\n\nexport const addTimeToDate = (\n  date: Date | string | number,\n  time: {\n    day?: number;\n    hour?: number;\n    minute?: number;\n    second?: number;\n    week?: number;\n    year?: number;\n    month?: number;\n  }\n) => {\n  return add(new Date(date), {\n    years: time.year || 0,\n    months: time.month || 0,\n    weeks: time.week || 0,\n    days: time.day || 0,\n    hours: time.hour || 0,\n    minutes: time.minute || 0,\n    seconds: time.second || 0,\n  });\n};\n","import styled from \"styled-components\";\nimport Placeholder from \"../../images/image.svg\";\n\nconst StyledPlaceholder = styled.div`\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ${({ theme }) => (theme.mode === \"light\" ? theme.gray4 : theme.gray2)};\n`;\n\nconst CourseImgPlaceholder = () => {\n  return (\n    <StyledPlaceholder>\n      <img src={Placeholder} alt=\"\" />\n    </StyledPlaceholder>\n  );\n};\n\nexport default CourseImgPlaceholder;\n","import { Spin } from \"@escolalms/components\";\nimport styled, { useTheme } from \"styled-components\";\n\ninterface Props {\n  width?: string;\n  height?: string;\n}\n\nconst SpinnerWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n`;\n\nconst ContentLoader = ({ width, height }: Props) => {\n  const theme = useTheme();\n  return (\n    <SpinnerWrapper\n      style={{\n        width: width || \"100%\",\n        height: height || \"100%\",\n      }}\n    >\n      <Spin color={theme.primaryColor} />\n    </SpinnerWrapper>\n  );\n};\n\nexport default ContentLoader;\n","import { useCallback, useRef, useState } from \"react\";\nimport styled, { useTheme } from \"styled-components\";\nimport { Badge } from \"@escolalms/components/lib/components/atoms/Badge/Badge\";\nimport { API } from \"@escolalms/sdk/lib\";\n\nconst StyledDiv = styled(\"div\")`\n  align-self: end;\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  .tags-menu-container {\n    position: relative;\n\n    .tags-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      display: flex;\n      flex-direction: column;\n      text-align: left;\n      gap: 4px;\n      list-style: none;\n      padding: 4px 0;\n      height: fit-content;\n      max-height: 230px;\n      overflow-y: scroll;\n      background-color: ${(props) => props.theme.primaryColor};\n      width: fit-content;\n      margin: 0;\n\n      li {\n        width: 100%;\n      }\n    }\n  }\n\n  .badge {\n    cursor: pointer;\n  }\n`;\n\nexport interface TagsProps {\n  tags: string[] | API.Tag[] | null | undefined;\n  onTagClick?: (title: string) => void;\n}\n\nconst Tags = (props: TagsProps) => {\n  const { tags, onTagClick } = props;\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n  const firstTags = tags ? [...tags].splice(0, 2) : [];\n  const otherTags = tags ? [...tags].splice(2) : [];\n  const parentRef = useRef<HTMLDivElement | null>(null);\n\n  const tagClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>, title: string) => {\n      if (onTagClick) {\n        onTagClick(title);\n      }\n    },\n    [onTagClick]\n  );\n\n  return (\n    <StyledDiv ref={parentRef}>\n      {firstTags.map((tag, index) => {\n        const tagTitle = (tag as API.Tag).title ?? tag;\n        return (\n          <Badge\n            className=\"badge\"\n            color={theme.primaryColor}\n            key={index}\n            onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) =>\n              tagClick(e, tagTitle)\n            }\n          >\n            {tagTitle}\n          </Badge>\n        );\n      })}\n      {otherTags.length > 0 && (\n        <div\n          className=\"tags-menu-container\"\n          onMouseLeave={() => setOpen(false)}\n        >\n          <Badge\n            className=\"badge\"\n            color={theme.primaryColor}\n            onMouseOver={() => setOpen(true)}\n          >\n            {`+${otherTags.length}`}\n          </Badge>\n          {open && (\n            <ul className=\"tags-menu\">\n              {otherTags.map((otherTag, index) => {\n                const otherTagTitle = (otherTag as API.Tag).title ?? otherTag;\n                return (\n                  <li>\n                    <Badge\n                      key={index}\n                      className=\"badge\"\n                      onClick={(\n                        e: React.MouseEvent<HTMLDivElement, MouseEvent>\n                      ) => tagClick(e, otherTagTitle)}\n                      color={theme.primaryColor}\n                    >\n                      {otherTagTitle}\n                    </Badge>\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      )}\n    </StyledDiv>\n  );\n};\n\nexport default Tags;\n","export default __webpack_public_path__ + \"static/media/image.ece42557.svg\";","import { useCallback, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\n\nconst StyledDiv = styled(\"div\")<{ isOpen?: boolean }>`\n  .more-icon {\n    border: 1px solid;\n    border-radius: 50%;\n    padding: 4px;\n    margin-left: 12px;\n    font-size: 0.75em;\n  }\n\n  .category-name {\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .categories-menu-container {\n    position: relative;\n\n    .categories-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      list-style: none;\n      background-color: #f2f2f2;\n      margin: 4px 0;\n\n      li {\n        margin: 4px 0;\n      }\n    }\n  }\n`;\n\nexport interface CategoriesProps {\n  categories: EscolaLms.Categories.Models.Category[] | undefined;\n  onCategoryClick?: (id: number) => void;\n}\n\nconst CategoriesBreadCrumbs = (props: CategoriesProps) => {\n  const { categories, onCategoryClick } = props;\n  const [open, setOpen] = useState(false);\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const firstCategories = categories ? [...categories].splice(0, 2) : [];\n  const otherCategories = categories ? [...categories].splice(2) : [];\n\n  const categoryClick = useCallback(\n    (id: number) => {\n      if (onCategoryClick) {\n        onCategoryClick(id);\n      }\n    },\n    [onCategoryClick]\n  );\n\n  return (\n    <StyledDiv ref={parentRef} isOpen={open}>\n      <BreadCrumbs\n        hyphen=\"/\"\n        items={firstCategories?.map((category, index) => (\n          <>\n            <span\n              className=\"category-name\"\n              key={category.name + index}\n              onClick={() => categoryClick(category.id)}\n              aria-hidden={true}\n            >\n              {category.name}\n            </span>\n            {index === firstCategories.length - 1 &&\n              otherCategories.length > 0 && (\n                <span\n                  className=\"more-icon\"\n                  onMouseOver={() => setOpen(true)}\n                  onFocus={() => setOpen(true)}\n                  aria-hidden={true}\n                >{`+${otherCategories.length}`}</span>\n              )}\n          </>\n        ))}\n      />\n\n      {otherCategories.length > 0 && (\n        <div\n          className=\"categories-menu-container\"\n          onMouseLeave={() => setOpen(false)}\n        >\n          {open && (\n            <ul\n              className=\"categories-menu\"\n              style={{\n                width:\n                  parentRef.current?.getBoundingClientRect().width || \"auto\",\n              }}\n            >\n              <BreadCrumbs\n                hyphen=\"/\"\n                items={otherCategories?.map((category) => (\n                  <li\n                    className=\"category-name\"\n                    onClick={() => categoryClick(category.id)}\n                    aria-hidden={true}\n                  >\n                    {category.name}\n                  </li>\n                ))}\n              />\n            </ul>\n          )}\n        </div>\n      )}\n    </StyledDiv>\n  );\n};\n\nexport default CategoriesBreadCrumbs;\n","import React from \"react\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\nimport styled from \"styled-components\";\n\ntype Props = {\n  items: React.ReactNode[];\n};\n\nconst StyledBreadcrumbs = styled.div`\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray5 : theme.gray2}!important;\n  }\n`;\n\nconst Breadcrumbs: React.FC<Props> = ({ items }) => {\n  return (\n    <StyledBreadcrumbs>\n      <BreadCrumbs items={items} />\n    </StyledBreadcrumbs>\n  );\n};\n\nexport default Breadcrumbs;\n","import { EventTypes, Notification, Order } from \"@escolalms/sdk/lib/types/api\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n} from \"date-fns\";\n\nexport const getTopicType = (type: string) => type.split(\"\\\\\")?.pop();\n\nexport const getPriceWithTax = (price: number, taxPercentage: number) => {\n  const totalTax = ((price / 100) * taxPercentage).toFixed(2);\n  const totalPrice = Number(price / 100) + Number(totalTax);\n  return totalPrice.toFixed(2);\n};\n\nexport const getOrderProductsNames = (order: Order | undefined | null) => {\n  if (!order) return \"\";\n  return order.items?.map((item) => item.name).join(\", \");\n};\n\nexport const getNotificationTranslationObject = (\n  notification: Notification\n): {\n  translation: string;\n  object?: { name?: string; amount?: number; date?: string; user?: string };\n} => {\n  const translationPrefix = \"Notifications.\";\n  const translation = `${translationPrefix}${notification.event}`;\n  switch (notification.event) {\n    // STATIONARY EVENT\n    case EventTypes.StationaryEventAuthorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAuthorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    // CART\n    case EventTypes.AbandonedCartEvent:\n      return { translation };\n    case EventTypes.OrderCancelled:\n      return { translation };\n    case EventTypes.OrderCreated:\n      return { translation };\n    case EventTypes.OrderPaid:\n      return {\n        translation,\n        object: { name: getOrderProductsNames(notification.data.order) || \"\" },\n      };\n    case EventTypes.ProductableAttached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductableDetached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductAddedToCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductAttached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductBought:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductDetached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductRemovedFromCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    // PAYMENT\n    case EventTypes.PaymentCancelled:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentFailed:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentRegistered:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n        },\n      };\n    case EventTypes.PaymentSuccess:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    // COURSE\n    case EventTypes.CourseAccessFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAccessStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseDeadlineSoon:\n      return {\n        translation,\n        object: {\n          name: notification.data.course?.title || \"\",\n          date: formatDate(\n            notification.data.course?.active_to,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n        },\n      };\n    case EventTypes.CoursedPublished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStatusChanged:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.TopicFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    // TOPIC\n    case EventTypes.TopicTypeChanged:\n      return {\n        translation,\n        object: { name: notification.data.topicContent?.value || \"\" },\n      };\n    // CONSULTATIONS\n    case EventTypes.ReportTerm:\n      return {\n        translation,\n        object: {\n          name: notification.data.consultationTerm?.consultation.name || \"\",\n          date: formatDate(\n            notification.data.consultationTerm?.executed_at,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n          user: `${notification.data.consultationTerm?.user?.first_name} ${notification.data.consultationTerm?.user?.last_name}`,\n        },\n      };\n    case EventTypes.ApprovedTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ApprovedTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ChangeTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderTrainerAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    default:\n      return { translation };\n  }\n};\n\nexport const roundTo = (val: number, places = 2, divider?: number): number => {\n  if (!val || typeof val !== \"number\") return 0;\n  const returnedValue =\n    Math.round(val * Math.pow(10, places)) / Math.pow(10, places);\n  if (divider) {\n    return returnedValue / divider;\n  }\n  return returnedValue;\n};\n\nexport const formatPrice = (price: number | undefined, taxRate?: number) => {\n  if (!price) return 0;\n  const roundedPrice = taxRate\n    ? roundTo(price, 2, 100) * (1 + taxRate / 100)\n    : roundTo(price, 2, 100);\n  const formatted = roundedPrice.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  });\n  return formatted;\n};\n\nexport const userIsCourseAuthor = (\n  userId: number,\n  course: API.Course\n): boolean => {\n  return course.authors.findIndex((author) => author.id === userId) !== -1;\n};\n\nexport const getFormattedDifferenceRelativeToNow = (time: Date) => {\n  const daysDifference = time\n    ? differenceInDays(time.getTime(), new Date().getTime())\n    : null;\n  const hoursDifference = time\n    ? differenceInHours(time.getTime(), new Date().getTime())\n    : null;\n  const minutesDifference = time\n    ? differenceInMinutes(time.getTime(), new Date().getTime())\n    : null;\n\n  const timeDifferenceInDays: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    daysDifference !== null && daysDifference !== 0\n      ? [daysDifference, \"day\"]\n      : null;\n\n  const timeDifferenceInHours: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    hoursDifference !== null && hoursDifference !== 0\n      ? [hoursDifference, \"hour\"]\n      : null;\n\n  const timeDifferenceInMinutes: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    minutesDifference !== null && minutesDifference !== 0\n      ? [minutesDifference, \"minute\"]\n      : null;\n\n  return (\n    timeDifferenceInDays ?? timeDifferenceInHours ?? timeDifferenceInMinutes\n  );\n};\n\nexport const relativeTimeFormatter = new Intl.RelativeTimeFormat(\"pl\", {\n  style: \"short\",\n});\n","import React, { PropsWithChildren } from \"react\";\nimport styled from \"styled-components\";\n\nconst CardWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n\n  a {\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .image-section {\n    .information-in-image {\n      .card {\n        .content:after,\n        .content:before {\n          box-shadow: inset 0px -6px 14px -8px rgba(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n  .course-section {\n    margin-top: 6px;\n  }\n\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n    justify-content: center;\n  }\n`;\n\nconst CourseCardWrapper: React.FC<PropsWithChildren> = ({ children }) => {\n  return <CardWrapper>{children}</CardWrapper>;\n};\n\nexport default CourseCardWrapper;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { Link } from \"react-router-dom\";\n\nconst StyledPagination = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  a {\n    text-decoration: none !important;\n  }\n  .arrow {\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${({ theme }) => theme.primaryColor};\n    margin: 0 10px;\n    &--left {\n      transform: rotate(45deg);\n    }\n    &--right {\n      transform: rotate(-135deg);\n    }\n  }\n  .number {\n    margin: 0 8px;\n    p {\n      opacity: 0.5;\n      &.current {\n        color: ${({ theme }) => theme.primaryColor}!important;\n        font-weight: 700;\n        opacity: 1;\n      }\n    }\n  }\n`;\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\nconst range = (from: number, to: number, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nconst Pagination: React.FC<{\n  currentPage: number;\n  total: number;\n  perPage: number;\n  onPage: (page: number) => void;\n  pageNeighbours?: number;\n}> = ({ currentPage, total, perPage, onPage, pageNeighbours = 2 }) => {\n  const lastPage = Math.ceil(total / perPage);\n\n  const fetchPageNumbers = () => {\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (lastPage > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(lastPage - 1, currentPage + pageNeighbours);\n      let pages: (string | number)[] = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = lastPage - endPage > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case hasLeftSpill && !hasRightSpill: {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case !hasLeftSpill && hasRightSpill: {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case hasLeftSpill && hasRightSpill:\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, lastPage];\n    } else if (currentPage < lastPage && currentPage === 1) {\n      return [...range(1, lastPage), RIGHT_PAGE];\n    } else if (currentPage > 1 && currentPage !== lastPage) {\n      return [LEFT_PAGE, ...range(1, lastPage), RIGHT_PAGE];\n    } else if (currentPage > 1 && currentPage === lastPage) {\n      return [LEFT_PAGE, ...range(1, lastPage)];\n    }\n\n    return range(1, lastPage);\n  };\n\n  return (\n    <StyledPagination>\n      {fetchPageNumbers().map((page) => {\n        if (page === LEFT_PAGE) {\n          return (\n            <a\n              href=\"#!prev_page\"\n              className=\"prev page-numbers\"\n              onClick={(e) => {\n                e.preventDefault();\n                onPage(currentPage <= 1 ? 1 : currentPage - 1);\n              }}\n            >\n              <div className=\"arrow arrow--left\" />\n            </a>\n          );\n        }\n        if (page === RIGHT_PAGE) {\n          return (\n            <a\n              href=\"#!next_page\"\n              className=\"next page-numbers\"\n              onClick={(e) => {\n                e.preventDefault();\n                onPage(currentPage === lastPage ? lastPage : currentPage + 1);\n              }}\n            >\n              <div className=\"arrow arrow--right\" />\n            </a>\n          );\n        }\n        return (\n          <Link\n            onClick={(e) => {\n              e.preventDefault();\n              onPage(Number(page));\n            }}\n            to={`#!page-${Number(page)}`}\n            key={`#${Number(page)}`}\n            className=\"number\"\n          >\n            <Text\n              className={Number(page) === currentPage ? \"current\" : \"\"}\n              size=\"16\"\n              aria-current=\"page\"\n            >\n              {Number(page)}\n            </Text>\n          </Link>\n        );\n      })}\n    </StyledPagination>\n  );\n};\n\nexport default Pagination;\n","import { useEffect } from \"react\";\nimport { Spin } from \"@escolalms/components/lib/components/atoms/Spin/Spin\";\nimport styled, { useTheme } from \"styled-components\";\n\nconst StyledLoader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) =>\n    theme.mode === \"dark\" ? theme.dm__background : theme.background};\n`;\n\nconst Preloader = () => {\n  const theme = useTheme();\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"inherit\";\n    };\n  }, []);\n\n  return (\n    <StyledLoader>\n      <Spin color={theme.primaryColor} />\n    </StyledLoader>\n  );\n};\n\nexport default Preloader;\n","export enum QuestionnaireModelType {\n  COURSE = \"course\",\n  WEBINAR = \"webinar\",\n}\n\nexport enum QuestionType {\n  RATE = \"rate\",\n  TEXT = \"text\",\n  REVIEW = \"review\",\n}\n","import styled from \"styled-components\";\n\nexport const StyledSpan = styled.span<React.HTMLAttributes<HTMLSpanElement>>`\n  color: ${(props) => props.color};\n`;\n\nexport const StyledSpanTail = styled.span<\n  React.HTMLAttributes<HTMLSpanElement>\n>`\n  color: ${(props) => props.color};\n  ${StyledSpan}:hover & {\n    display: none;\n  }\n`;\n\nexport const StyledSpanChild = styled.span<\n  React.HTMLAttributes<HTMLSpanElement>\n>`\n  color: ${(props) => props.color};\n  display: none;\n  ${StyledSpan}:hover & {\n    display: block;\n  }\n`;\n","import {\n  Text,\n  TextProps,\n} from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { useTheme } from \"styled-components\";\nimport { StyledSpan, StyledSpanTail, StyledSpanChild } from \"./styles\";\n\ntype Props = TextProps & {\n  text: string;\n  length?: number;\n  tail?: string;\n};\n\nexport const TextEllipsis = ({\n  text,\n  length = 30,\n  tail = \"...\",\n  ...props\n}: Props) => {\n  const theme = useTheme();\n  const firstText = text.slice(0, length);\n  const secondText = text.slice(length, text.length);\n\n  return (\n    <Text {...props}>\n      <StyledSpan color={theme.primaryColor}>\n        {firstText}\n        {secondText && (\n          <>\n            <StyledSpanTail>{tail}</StyledSpanTail>\n            <StyledSpanChild>{secondText}</StyledSpanChild>\n          </>\n        )}\n      </StyledSpan>\n    </Text>\n  );\n};\n","import { memo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTheme } from \"styled-components\";\nimport { TextEllipsis } from \"../TextEllipsis\";\n\ninterface Props {\n  linkTo: string;\n  subtitle: string | null | undefined;\n  textLength?: number;\n}\n\nexport const Subtitle = memo(({ linkTo, subtitle, textLength }: Props) => {\n  const theme = useTheme();\n\n  if (!subtitle) {\n    return null;\n  }\n  return (\n    <Link style={{ color: theme.primaryColor }} to={linkTo}>\n      <TextEllipsis text={subtitle} bold size=\"12\" length={textLength} />\n    </Link>\n  );\n});\n\nexport const getSubtitleComponent = ({ ...props }: Props) => {\n  if (!props.subtitle) {\n    return undefined;\n  }\n  return <Subtitle {...props} />;\n};\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Slider } from \"@escolalms/components/lib/components/atoms/Slider/Slider\";\nimport { CourseCard } from \"@escolalms/components/lib/components/molecules/CourseCard/CourseCard\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { IconText } from \"@escolalms/components/lib/components/atoms/IconText/IconText\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Settings } from \"react-slick\";\nimport { useTranslation } from \"react-i18next\";\nimport { LessonsIcon, UserIcon } from \"../../icons\";\nimport CourseImgPlaceholder from \"../CourseImgPlaceholder\";\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\nimport CourseCardWrapper from \"../CourseCardWrapper\";\nimport { Col, Row } from \"react-grid-system\";\nimport { Title } from \"@escolalms/components\";\nimport Tags from \"@/components/Tags\";\nimport CategoriesBreadCrumbs from \"@/components/CategoriesBreadCrumbs\";\nimport { getSubtitleComponent } from \"@/components/Subtitle\";\n\ntype Props = {\n  courses: API.Course[];\n  sliderSettings?: Settings;\n};\n\nconst Content = styled.div`\n  @media (max-width: 575px) {\n    margin-left: -59px;\n  }\n  .slick-slider {\n    @media (max-width: 575px) {\n      width: calc(100% + 15px);\n    }\n  }\n  .slick-dots {\n    top: -65px;\n    @media (max-width: 575px) {\n      top: -30px !important;\n      right: unset !important;\n      left: 60px !important;\n    }\n  }\n  .slick-track {\n    display: flex;\n    gap: 0 20px;\n    @media (max-width: 991px) {\n      padding-bottom: 20px;\n    }\n  }\n\n  .slick-slide {\n    height: inherit;\n\n    > div {\n      display: flex;\n      height: 100%;\n    }\n  }\n`;\n\nconst defaultSliderSettings = {\n  arrows: false,\n  infinite: true,\n  speed: 500,\n  draggable: false,\n  slidesToShow: 4,\n  slidesToScroll: 4,\n  responsive: [\n    {\n      breakpoint: 1201,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n      },\n    },\n    {\n      breakpoint: 768,\n      settings: {\n        draggable: true,\n        slidesToShow: 2,\n        slidesToScroll: 2,\n      },\n    },\n    {\n      breakpoint: 576,\n      settings: {\n        slidesToShow: 1,\n        centerMode: true,\n        slidesToScroll: 1,\n      },\n    },\n  ],\n};\n\nconst CoursesSlider: React.FC<Props> = ({\n  courses,\n  sliderSettings = defaultSliderSettings,\n}) => {\n  const [dots] = useState(true);\n  const history = useHistory();\n  const { t } = useTranslation();\n\n  return (\n    <Content>\n      {courses.length >= 5 || isMobile ? (\n        <div>\n          <Slider\n            settings={{\n              ...sliderSettings,\n              dots,\n              onSwipe: () => {\n                const allHiddenSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"true\"]'\n                );\n                const allVisibleSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"false\"]'\n                );\n                allVisibleSlides.forEach((visibleSlide) =>\n                  visibleSlide.removeAttribute(\"aria-modal\")\n                );\n                allHiddenSlides.forEach((hiddenSlide) =>\n                  hiddenSlide.setAttribute(\"aria-modal\", \"true\")\n                );\n              },\n              onInit: () => {\n                const allHiddenSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"true\"]'\n                );\n                allHiddenSlides.forEach((hiddenSlide) =>\n                  hiddenSlide.setAttribute(\"aria-modal\", \"true\")\n                );\n              },\n            }}\n            dotsPosition=\"top right\"\n          >\n            {courses &&\n              courses.map((item) => (\n                <CourseCardWrapper key={item.id}>\n                  <CourseCard\n                    mobile={isMobile}\n                    id={item.id}\n                    image={\n                      <Link to={`/courses/${item.id}`}>\n                        {item.image_path ? (\n                          <ResponsiveImage\n                            path={item.image_path}\n                            alt={item.title}\n                            srcSizes={[300, 600, 900]}\n                          />\n                        ) : (\n                          <CourseImgPlaceholder />\n                        )}\n                      </Link>\n                    }\n                    tags={\n                      <Tags\n                        tags={item.tags}\n                        onTagClick={(tagName) =>\n                          history.push(`/courses/?tag=${tagName}`)\n                        }\n                      />\n                    }\n                    subtitle={getSubtitleComponent({\n                      subtitle: item.subtitle,\n                      linkTo: `/courses/${item.id}`,\n                    })}\n                    title={\n                      <Link to={`/courses/${item.id}`} className=\"title\">\n                        <Title level={4} as=\"h2\">\n                          {item.title}\n                        </Title>\n                      </Link>\n                    }\n                    categories={\n                      <CategoriesBreadCrumbs\n                        categories={item.categories}\n                        onCategoryClick={(id) => {\n                          history.push(`/courses/?categories[]=${id}`);\n                        }}\n                      />\n                    }\n                    actions={\n                      <>\n                        <Button\n                          mode=\"secondary\"\n                          onClick={() => history.push(`/courses/${item.id}`)}\n                        >\n                          {t(\"StartNow\")}\n                        </Button>\n                      </>\n                    }\n                    footer={\n                      <>\n                        {item.users_count && item.users_count > 0 ? (\n                          <IconText\n                            icon={<UserIcon />}\n                            text={`${item.users_count} ${t<string>(\n                              \"Students\"\n                            )}`}\n                          />\n                        ) : (\n                          \"\"\n                        )}{\" \"}\n                        {item.lessons_count && item.lessons_count > 0 ? (\n                          <IconText\n                            icon={<LessonsIcon />}\n                            text={`${item.lessons_count} ${t<string>(\n                              \"Lessons\"\n                            )}`}\n                          />\n                        ) : (\n                          \"\"\n                        )}\n                      </>\n                    }\n                  />\n                </CourseCardWrapper>\n              ))}\n          </Slider>\n        </div>\n      ) : (\n        <Row\n          style={{\n            marginTop: \"30px\",\n            rowGap: \"60px\",\n          }}\n        >\n          {courses.map((item) => (\n            <Col md={6} lg={3} key={item.id}>\n              <CourseCardWrapper key={item.id}>\n                <CourseCard\n                  mobile={isMobile}\n                  id={item.id}\n                  image={\n                    <Link to={`/courses/${item.id}`}>\n                      {item.image_path ? (\n                        <ResponsiveImage\n                          path={item.image_path}\n                          alt={item.title}\n                          srcSizes={[300, 600, 900]}\n                        />\n                      ) : (\n                        <CourseImgPlaceholder />\n                      )}\n                    </Link>\n                  }\n                  tags={\n                    <Tags\n                      tags={item.tags}\n                      onTagClick={(tagName) =>\n                        history.push(`/courses/?tag=${tagName}`)\n                      }\n                    />\n                  }\n                  subtitle={getSubtitleComponent({\n                    subtitle: item.subtitle,\n                    linkTo: `/courses/${item.id}`,\n                  })}\n                  title={<Link to={`/courses/${item.id}`}>{item.title}</Link>}\n                  categories={\n                    <CategoriesBreadCrumbs\n                      categories={item.categories}\n                      onCategoryClick={(id) => {\n                        history.push(`/courses/?categories[]=${id}`);\n                      }}\n                    />\n                  }\n                  actions={\n                    <>\n                      <Button\n                        mode=\"secondary\"\n                        onClick={() => history.push(`/courses/${item.id}`)}\n                      >\n                        {t(\"StartNow\")}\n                      </Button>\n                    </>\n                  }\n                  footer={\n                    <>\n                      {item.users_count && item.users_count > 0 ? (\n                        <IconText\n                          icon={<UserIcon />}\n                          text={`${item.users_count} ${t<string>(\"Students\")}`}\n                        />\n                      ) : (\n                        \"\"\n                      )}{\" \"}\n                      {item.lessons_count && item.lessons_count > 0 ? (\n                        <IconText\n                          icon={<LessonsIcon />}\n                          text={`${item.lessons_count} ${t<string>(\"Lessons\")}`}\n                        />\n                      ) : (\n                        \"\"\n                      )}\n                    </>\n                  }\n                />\n              </CourseCardWrapper>\n            </Col>\n          ))}\n        </Row>\n      )}\n    </Content>\n  );\n};\n\nexport default CoursesSlider;\n","import { formatPrice } from \"@/utils/index\";\nimport React from \"react\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport styled from \"styled-components\";\nimport { isMobile } from \"react-device-detect\";\n\ntype Props = {\n  price?: number;\n  taxRate?: number;\n  oldPrice?: number | null;\n};\n\nconst Prices = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  .pricing-card-discount {\n    margin: 0;\n  }\n`;\n\nconst ProductPrices: React.FC<Props> = ({ price, taxRate, oldPrice }) => {\n  if (isMobile) {\n    return (\n      <Prices>\n        {oldPrice && (\n          <div className=\"pricing-card-discount\">\n            <Title level={5} as={\"h5\"}>\n              {formatPrice(oldPrice, taxRate)} z\n            </Title>\n          </div>\n        )}\n        <Title level={4} as={\"h4\"}>\n          {formatPrice(price, taxRate)} z\n        </Title>\n      </Prices>\n    );\n  }\n  return (\n    <Prices>\n      <Title level={3} as={\"h3\"}>\n        {formatPrice(price, taxRate)} z\n      </Title>\n      {oldPrice && (\n        <div className=\"pricing-card-discount\">\n          <Title level={5} as={\"h5\"}>\n            {formatPrice(oldPrice, taxRate)} z\n          </Title>\n        </div>\n      )}\n    </Prices>\n  );\n};\n\nexport default ProductPrices;\n","import { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { t } from \"i18next\";\nimport { toast } from \"react-toastify\";\n\ntype getQuestionnaireProps = {\n  questionnaireId: number;\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n};\n\ntype getQuestionnairesProps = {\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n  fetchQuestionnaires: (\n    model: string,\n    id: number\n  ) => Promise<API.DefaultMetaResponse<API.Questionnaire>>;\n  onSucces: (questionnairesArray: API.Questionnaire[]) => void;\n  onFinish: () => void;\n};\n\nconst getQuestionnaire = async ({\n  courseId,\n  questionnaireId,\n  fetchQuestionnaire,\n}: getQuestionnaireProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaire(\n        QuestionnaireModelType.COURSE,\n        courseId,\n        questionnaireId\n      ));\n    if (response && response.success) {\n      return response.data.questions;\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  }\n};\n\nexport const getQuestionnaires = async ({\n  courseId,\n  fetchQuestionnaires,\n  fetchQuestionnaire,\n  onSucces,\n  onFinish,\n}: getQuestionnairesProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaires(QuestionnaireModelType.COURSE, courseId));\n    if (response && response.success) {\n      const questionnairesWithCombinedQuestions = await Promise.all(\n        response.data.map(async (data) => {\n          const res = await getQuestionnaire({\n            courseId,\n            questionnaireId: data.id,\n            fetchQuestionnaire,\n          });\n\n          const combinedQuestions = data.questions.reduce((result, element) => {\n            const matchingElement = res?.find((item) => item.id === element.id);\n\n            const updatedElement = {\n              ...element,\n              rate: matchingElement?.rate,\n              note: matchingElement?.note,\n            };\n\n            updatedElement.rate === null &&\n              updatedElement.note === null &&\n              result.push(updatedElement);\n            return result;\n          }, [] as API.QuestionnaireQuestion[]);\n\n          return {\n            ...data,\n            questions: combinedQuestions.sort(\n              (a, b) => a.position - b.position\n            ),\n          };\n        })\n      );\n\n      onSucces(\n        questionnairesWithCombinedQuestions.filter(\n          (item) => !!item.questions.length\n        )\n      );\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  } finally {\n    onFinish();\n  }\n};\n\nexport const getAverageRate = (reviewQuestions: API.QuestionnaireStars[]) => {\n  const avgRate =\n    reviewQuestions.reduce((sum, item) => sum + item.avg_rate, 0) /\n    reviewQuestions.length;\n  return avgRate.toFixed(1);\n};\n\nexport const getCourseQuestionnaireReviewQuestion = ({\n  questionnaires,\n  questionnaireId,\n  questionType,\n}: {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  questionType: QuestionType;\n}) => {\n  return questionnaires\n    ?.find((element) => element.id === questionnaireId)\n    ?.questions.filter((item) => item.public_answers)\n    .find((item) => item.type === questionType)?.id;\n};\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\n\nimport { Tutor } from \"@escolalms/components/lib/components/molecules/Tutor/Tutor\";\n\nimport { API } from \"@escolalms/sdk/lib\";\nimport { APP_CONFIG } from \"@/config/app\";\n\ninterface CourseAuthorProps {\n  courseData: API.Course;\n}\nconst API_URL =\n  window.REACT_APP_API_URL ||\n  (process && process.env && process.env.REACT_APP_PUBLIC_API_URL);\n\nexport const CourseAuthor: FC<CourseAuthorProps> = ({ courseData }) => {\n  const { t } = useTranslation();\n\n  return (\n    <section className=\"course-tutor with-border padding-right\">\n      <Link to={`/tutors/${courseData.author_id}`}>\n        <Tutor\n          mobile={isMobile}\n          avatar={{\n            alt: `${courseData.author.first_name} ${courseData.author.last_name}`,\n            src: courseData.author.path_avatar\n              ? `${API_URL}/api/images/img?path=${courseData.author.path_avatar}`\n              : APP_CONFIG.tutorPlaceholderPath,\n          }}\n          rating={{\n            ratingValue: 4.1,\n          }}\n          title={\n            <Title as=\"h3\" level={4} className=\"title\">\n              {t<string>(\"CoursePage.Teacher\")}\n            </Title>\n          }\n          fullName={`${courseData.author.first_name} ${courseData.author.last_name}`}\n          coursesInfo={\"8 Curses\"}\n          description={courseData.author.bio}\n        />\n      </Link>\n    </section>\n  );\n};\n"],"sourceRoot":""}