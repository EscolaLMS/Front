(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[4],{670:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={defaultDateFormat:"dd/MM/yyyy",defaultDateTimeFormat:"dd/MM/yyyy, HH:mm",tutorPlaceholderPath:"/images/tutorblind.png"}},672:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return v}));var o=n(168),r=n(284),a=n(131),i=n(670);const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.defaultDateFormat;return e?Object(o.default)(new Date(e),t):""},s=(e,t,n)=>!(!e||!t)&&c(e,n)===c(t,n),l=e=>{const t=[];return e.forEach((e=>{const n=Object(o.default)(new Date(e),"MM/dd/yyyy"),r=t.find((e=>Object(o.default)(new Date(e.date),"MM/dd/yyyy")===n));r?r.times.push(new Date(e)):t.push({date:n,times:[new Date(e)]})})),t},d=e=>e.filter((e=>Object(r.default)(e,new Date))),u=e=>e.sort(((e,t)=>e.getTime()-t.getTime())),p=e=>{const t=Array.from(e.matchAll(/(\d+)\s+(day|hour|minute|second|week|year)s?/g)),n={};let o=!1;if(t.forEach((e=>{o=!0;const t=parseInt(e[1]),r=e[2];n[r]?n[r]+=t:n[r]=t})),!o){const t=/\d+/g;Array.from(e.matchAll(t)).forEach((e=>{const t=parseInt(e[0]);n.hour=t}))}return n},v=(e,t)=>Object(a.a)(new Date(e),{years:t.year||0,months:t.month||0,weeks:t.week||0,days:t.day||0,hours:t.hour||0,minutes:t.minute||0,seconds:t.second||0})},679:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b}));var o=n(365),r=n(670),a=n(672),i=n(154),c=n(139),s=n(140);const l=e=>{var t;return e?null===(t=e.items)||void 0===t?void 0:t.map((e=>e.name)).join(", "):""},d=e=>{var t,n,i,c,s,d,u,p,v,f,b,m,h,j,y,g,x,O,T,w,C,_,P,E,A,M,k,N,S,D,I,z,F,H,V,B,L,R,U,Z,X,G,J,W,q;const Q="".concat("Notifications.").concat(e.event);switch(e.event){case o.EventTypes.StationaryEventAuthorAssigned:return{translation:Q,object:{name:(null===(t=e.data.stationaryEvent)||void 0===t?void 0:t.name)||""}};case o.EventTypes.StationaryEventAuthorUnassigned:return{translation:Q,object:{name:(null===(n=e.data.stationaryEvent)||void 0===n?void 0:n.name)||""}};case o.EventTypes.StationaryEventAssigned:return{translation:Q,object:{name:(null===(i=e.data.stationaryEvent)||void 0===i?void 0:i.name)||""}};case o.EventTypes.StationaryEventUnassigned:return{translation:Q,object:{name:(null===(c=e.data.stationaryEvent)||void 0===c?void 0:c.name)||""}};case o.EventTypes.AbandonedCartEvent:case o.EventTypes.OrderCancelled:case o.EventTypes.OrderCreated:return{translation:Q};case o.EventTypes.OrderPaid:return{translation:Q,object:{name:l(e.data.order)||""}};case o.EventTypes.ProductableAttached:return{translation:Q,object:{name:(null===(s=e.data.productable)||void 0===s?void 0:s.name)||""}};case o.EventTypes.ProductableDetached:return{translation:Q,object:{name:(null===(d=e.data.productable)||void 0===d?void 0:d.name)||""}};case o.EventTypes.ProductAddedToCart:return{translation:Q,object:{name:(null===(u=e.data.product)||void 0===u?void 0:u.name)||""}};case o.EventTypes.ProductAttached:return{translation:Q,object:{name:(null===(p=e.data.product)||void 0===p?void 0:p.name)||""}};case o.EventTypes.ProductBought:return{translation:Q,object:{name:(null===(v=e.data.product)||void 0===v?void 0:v.name)||""}};case o.EventTypes.ProductDetached:return{translation:Q,object:{name:(null===(f=e.data.product)||void 0===f?void 0:f.name)||""}};case o.EventTypes.ProductRemovedFromCart:return{translation:Q,object:{name:(null===(b=e.data.product)||void 0===b?void 0:b.name)||""}};case o.EventTypes.PaymentCancelled:return{translation:Q,object:{amount:(null===(m=e.data.payment)||void 0===m?void 0:m.amount)||0,name:l(null===(h=e.data.payment)||void 0===h?void 0:h.payable)}};case o.EventTypes.PaymentFailed:return{translation:Q,object:{amount:(null===(j=e.data.payment)||void 0===j?void 0:j.amount)||0,name:l(null===(y=e.data.payment)||void 0===y?void 0:y.payable)}};case o.EventTypes.PaymentRegistered:return{translation:Q,object:{amount:(null===(g=e.data.payment)||void 0===g?void 0:g.amount)||0}};case o.EventTypes.PaymentSuccess:return{translation:Q,object:{amount:(null===(x=e.data.payment)||void 0===x?void 0:x.amount)||0,name:l(null===(O=e.data.payment)||void 0===O?void 0:O.payable)}};case o.EventTypes.CourseAccessFinished:return{translation:Q,object:{name:(null===(T=e.data.course)||void 0===T?void 0:T.title)||""}};case o.EventTypes.CourseAccessStarted:return{translation:Q,object:{name:(null===(w=e.data.course)||void 0===w?void 0:w.title)||""}};case o.EventTypes.CourseAssigned:return{translation:Q,object:{name:(null===(C=e.data.course)||void 0===C?void 0:C.title)||""}};case o.EventTypes.CourseDeadlineSoon:return{translation:Q,object:{name:(null===(_=e.data.course)||void 0===_?void 0:_.title)||"",date:Object(a.d)(null===(P=e.data.course)||void 0===P?void 0:P.active_to,r.a.defaultDateTimeFormat)}};case o.EventTypes.CoursedPublished:return{translation:Q,object:{name:(null===(E=e.data.course)||void 0===E?void 0:E.title)||""}};case o.EventTypes.CourseFinished:return{translation:Q,object:{name:(null===(A=e.data.course)||void 0===A?void 0:A.title)||""}};case o.EventTypes.CourseStarted:return{translation:Q,object:{name:(null===(M=e.data.course)||void 0===M?void 0:M.title)||""}};case o.EventTypes.CourseStatusChanged:return{translation:Q,object:{name:(null===(k=e.data.course)||void 0===k?void 0:k.title)||""}};case o.EventTypes.CourseTutorAssigned:return{translation:Q,object:{name:(null===(N=e.data.course)||void 0===N?void 0:N.title)||""}};case o.EventTypes.CourseTutorUnassigned:return{translation:Q,object:{name:(null===(S=e.data.course)||void 0===S?void 0:S.title)||""}};case o.EventTypes.CourseUnassigned:return{translation:Q,object:{name:(null===(D=e.data.course)||void 0===D?void 0:D.title)||""}};case o.EventTypes.TopicFinished:return{translation:Q,object:{name:(null===(I=e.data.course)||void 0===I?void 0:I.title)||""}};case o.EventTypes.TopicTypeChanged:return{translation:Q,object:{name:(null===(z=e.data.topicContent)||void 0===z?void 0:z.value)||""}};case o.EventTypes.ReportTerm:return{translation:Q,object:{name:(null===(F=e.data.consultationTerm)||void 0===F?void 0:F.consultation.name)||"",date:Object(a.d)(null===(H=e.data.consultationTerm)||void 0===H?void 0:H.executed_at,r.a.defaultDateTimeFormat),user:"".concat(null===(V=e.data.consultationTerm)||void 0===V||null===(B=V.user)||void 0===B?void 0:B.first_name," ").concat(null===(L=e.data.consultationTerm)||void 0===L||null===(R=L.user)||void 0===R?void 0:R.last_name)}};case o.EventTypes.ApprovedTerm:return{translation:Q,object:{date:Object(a.d)(null===(U=e.data.consultationTerm)||void 0===U?void 0:U.executed_at)||""}};case o.EventTypes.ApprovedTermWithTrainer:return{translation:Q,object:{date:Object(a.d)(null===(Z=e.data.consultationTerm)||void 0===Z?void 0:Z.executed_at)||""}};case o.EventTypes.ChangeTerm:return{translation:Q,object:{date:Object(a.d)(null===(X=e.data.consultationTerm)||void 0===X?void 0:X.executed_at)||""}};case o.EventTypes.RejectTerm:return{translation:Q,object:{date:Object(a.d)(null===(G=e.data.consultationTerm)||void 0===G?void 0:G.executed_at)||""}};case o.EventTypes.RejectTermWithTrainer:return{translation:Q,object:{date:Object(a.d)(null===(J=e.data.consultationTerm)||void 0===J?void 0:J.executed_at)||""}};case o.EventTypes.ReminderAboutTerm:return{translation:Q,object:{date:Object(a.d)(null===(W=e.data.consultationTerm)||void 0===W?void 0:W.executed_at)||""}};case o.EventTypes.ReminderTrainerAboutTerm:return{translation:Q,object:{date:Object(a.d)(null===(q=e.data.consultationTerm)||void 0===q?void 0:q.executed_at)||""}};default:return{translation:Q}}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0;if(!e||"number"!==typeof e)return 0;const o=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return n?o/n:o},p=(e,t)=>{if(!e)return 0;return(t?u(e,2,100)*(1+t/100):u(e,2,100)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},v=(e,t)=>-1!==t.authors.findIndex((t=>t.id===e)),f=e=>{var t;const n=e?Object(i.a)(e.getTime(),(new Date).getTime()):null,o=e?Object(c.a)(e.getTime(),(new Date).getTime()):null,r=e?Object(s.a)(e.getTime(),(new Date).getTime()):null,a=null!==n&&0!==n?[n,"day"]:null;return null!==(t=null!==a&&void 0!==a?a:null!==o&&0!==o?[o,"hour"]:null)&&void 0!==t?t:null!==r&&0!==r?[r,"minute"]:null},b=new Intl.RelativeTimeFormat("pl",{style:"short"})},683:function(e,t,n){"use strict";var o,r=n(70),a=n(1),i=n(272),c=n(17),s=n(3);const l=c.default.div(o||(o=Object(r.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.dm__background:t.background}));t.a=()=>{const e=Object(c.useTheme)();return Object(a.useEffect)((()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="inherit"})),[]),Object(s.jsx)(l,{children:Object(s.jsx)(i.Spin,{color:e.primaryColor})})}},726:function(e,t){},729:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=void 0;var l,d,u=n(3),p=n(1),v=c(n(17)),f=n(29),b=n(45),m=n(26),h=n(26),j=999,y=(0,v.default)("div")(l||(l=o(["\n  width: 100%;\n  text-align: center;\n  position: relative;\n  > a {\n    margin-top: 0.5em;\n  }\n  > input {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: ",';\n    opacity: 0.001;\n  }\n\n  .wrapper {\n    width: 100%;\n    position: relative;\n    cursor: pointer;\n    :after {\n      content: "";\n      padding-top: 100%;\n      display: block;\n    }\n\n    .border,\n    img,\n    input {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n    img {\n      display: block;\n      object-fit: cover;\n      z-index: ',";\n    }\n    img,\n    svg {\n      transition: transform 0.5s ease-out;\n    }\n    .border {\n      overflow: hidden;\n      border-width: 1px;\n      opacity: 1;\n      border: ",";\n      border-radius: ","px;\n      display: flex;\n      flex-direction: row;\n      flex-wrap: nowrap;\n      justify-content: center;\n      align-items: center;\n      align-content: center;\n\n      > svg {\n        position: relative;\n        z-index: ",";\n      }\n    }\n  }\n\n  &:hover {\n    .wrapper .border > svg {\n      transform: scale(1.5);\n      z-index: ",";\n    }\n    img {\n      transform: scale(1.1);\n    }\n    a:after {\n      transform: scaleX(0);\n      transform-origin: bottom left;\n    }\n  }\n"],["\n  width: 100%;\n  text-align: center;\n  position: relative;\n  > a {\n    margin-top: 0.5em;\n  }\n  > input {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: ",';\n    opacity: 0.001;\n  }\n\n  .wrapper {\n    width: 100%;\n    position: relative;\n    cursor: pointer;\n    :after {\n      content: "";\n      padding-top: 100%;\n      display: block;\n    }\n\n    .border,\n    img,\n    input {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n    img {\n      display: block;\n      object-fit: cover;\n      z-index: ',";\n    }\n    img,\n    svg {\n      transition: transform 0.5s ease-out;\n    }\n    .border {\n      overflow: hidden;\n      border-width: 1px;\n      opacity: 1;\n      border: ",";\n      border-radius: ","px;\n      display: flex;\n      flex-direction: row;\n      flex-wrap: nowrap;\n      justify-content: center;\n      align-items: center;\n      align-content: center;\n\n      > svg {\n        position: relative;\n        z-index: ",";\n      }\n    }\n  }\n\n  &:hover {\n    .wrapper .border > svg {\n      transform: scale(1.5);\n      z-index: ",";\n    }\n    img {\n      transform: scale(1.1);\n    }\n    a:after {\n      transform: scaleX(0);\n      transform-origin: bottom left;\n    }\n  }\n"])),j,998,(function(e){var t=e.theme;return"1px solid ".concat((0,m.getStylesBasedOnTheme)(t.mode,t.gray1,t.gray3))}),(function(e){return e.theme.cardRadius}),997,998),g=function(){return(0,u.jsx)("svg",r({width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M20 10.636V17.636C20 17.9012 19.8946 18.1556 19.7071 18.3431C19.5196 18.5306 19.2652 18.636 19 18.636H1C0.734784 18.636 0.48043 18.5306 0.292893 18.3431C0.105357 18.1556 0 17.9012 0 17.636V10.636C0 10.3708 0.105357 10.1164 0.292893 9.92888C0.48043 9.74134 0.734784 9.63599 1 9.63599C1.26522 9.63599 1.51957 9.74134 1.70711 9.92888C1.89464 10.1164 2 10.3708 2 10.636V16.636H18V10.636C18 10.3708 18.1054 10.1164 18.2929 9.92888C18.4804 9.74134 18.7348 9.63599 19 9.63599C19.2652 9.63599 19.5196 9.74134 19.7071 9.92888C19.8946 10.1164 20 10.3708 20 10.636V10.636ZM10 0.635986C9.73478 0.635986 9.48043 0.741343 9.29289 0.928879C9.10536 1.11642 9 1.37077 9 1.63599V5.63599H5C4.73478 5.63599 4.48043 5.74134 4.29289 5.92888C4.10536 6.11642 4 6.37077 4 6.63599C4 6.9012 4.10536 7.15556 4.29289 7.34309C4.48043 7.53063 4.73478 7.63599 5 7.63599H9V11.636C9 11.9012 9.10536 12.1556 9.29289 12.3431C9.48043 12.5306 9.73478 12.636 10 12.636C10.2652 12.636 10.5196 12.5306 10.7071 12.3431C10.8946 12.1556 11 11.9012 11 11.636V7.63599H15C15.2652 7.63599 15.5196 7.53063 15.7071 7.34309C15.8946 7.15556 16 6.9012 16 6.63599C16 6.37077 15.8946 6.11642 15.7071 5.92888C15.5196 5.74134 15.2652 5.63599 15 5.63599H11V1.63599C11 1.37077 10.8946 1.11642 10.7071 0.928879C10.5196 0.741343 10.2652 0.635986 10 0.635986V0.635986Z",fill:"#4A4A4A"})}))};t.Upload=function(e){var t=(0,b.useTranslation)().t,n=e.onChange,o=e.url,a=e.loading,i=e.buttonTitle,c=void 0===i?t("Upload.button"):i,l=e.className,d=void 0===l?"":l,v=s(e,["onChange","url","loading","buttonTitle","className"]),m=(0,p.useState)(o),j=m[0],x=m[1];(0,p.useEffect)((function(){x(o)}),[o]);var O=(0,p.useCallback)((function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0],o=new FileReader;o.readAsDataURL(t),o.onload=function(){var e;return x(null===(e=o.result)||void 0===e?void 0:e.toString())},o.onerror=function(e){return console.log("reading error",e)}}n&&n(e)}),[]),T=c?(0,h.getUniqueId)("upload"):null;return(0,u.jsxs)(y,r({className:"wellms-component upload ".concat(d)},{children:[(0,u.jsx)("input",r({type:"file"},v,{onChange:O},T?{"aria-labelledby":T}:{"aria-label":t("Upload.button")})),(0,u.jsx)("div",r({className:"wrapper"},{children:(0,u.jsxs)("div",r({className:"border"},{children:[a&&(0,u.jsx)(f.Spin,{}),j&&(0,u.jsx)("img",{src:j,alt:"Upload preview"}),(0,u.jsx)(g,{})]}))})),c&&(0,u.jsx)(f.Link,r({underline:!0,id:T},{children:c}))]}))},t.default=(0,v.withTheme)((0,v.default)(t.Upload)(d||(d=o([""],[""]))))},730:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(1),r=n(36),a=n(52),i=n(373);function c(e){var t,n;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/course/";const{sendProgress:s,getNextPrevTopic:l,progress:d}=Object(o.useContext)(a.EscolaLMSContext),[u,p]=Object(o.useState)(!1),{lessonID:v,topicID:f}=Object(r.i)(),{push:b}=Object(r.g)(),m=Object(o.useMemo)((()=>{var t;return Object(i.getFlatLessons)(null!==(t=null===e||void 0===e?void 0:e.lessons)&&void 0!==t?t:[])}),[null===e||void 0===e?void 0:e.lessons]),h=Object(o.useMemo)((()=>{var t;return Object(i.getFlatTopics)(null!==(t=null===e||void 0===e?void 0:e.lessons)&&void 0!==t?t:[])}),[null===e||void 0===e?void 0:e.lessons]),j=v?Number(v):null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.id,y=f?Number(f):null===h||void 0===h||null===(n=h[0])||void 0===n?void 0:n.id,g=Object(o.useMemo)((()=>m.find((e=>e.id===j))),[m,j]),x=Object(o.useMemo)((()=>h.find((e=>e.id===y))),[h,y]),O=Object(o.useCallback)((()=>{e.id&&s(e.id,[{topic_id:Number(y),status:1}]).then((()=>{const t=l(Number(y));t&&b("".concat(c).concat(e.id,"/").concat(t.lesson_id,"/").concat(t.id),null)}))}),[y,e,b,l,s,c]),T=Object(o.useCallback)((()=>{e.id&&s(e.id,[{topic_id:Number(y),status:1}]).then((()=>{const t=l(Number(y),!1);t&&b("".concat(c).concat(e.id,"/").concat(t.lesson_id,"/").concat(t.id),null)}))}),[y,e,b,l,s,c]),w=Object(o.useCallback)((function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=l(Number(y),t);n&&b("".concat(c).concat(e.id,"/").concat(null===n||void 0===n?void 0:n.lesson_id,"/").concat(null===n||void 0===n?void 0:n.id))}),[j,y,e,e.id,b,c]);return{topic:x,lesson:g,onNextTopic:O,onPrevTopic:T,getNextPrevTopic:l,isNextTopicButtonDisabled:u,disableNextTopicButton:p,onNextTopicPreview:w,sendProgress:s,progress:d}}},760:function(e,t){},761:function(e,t){},762:function(e,t){},763:function(e,t){},764:function(e,t){},771:function(e,t,n){"use strict";var o,r,a,i=n(70),c=n(1),s=n(74),l=n(52),d=n(17),u=n(268),p=n(269),v=n(3);const f=d.default.div(o||(o=Object(i.a)(["\n  > button {\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    z-index: 9999;\n    svg path {\n      fill: white;\n    }\n  }\n  iframe {\n    border: none;\n    display: block;\n    width: 100%;\n  }\n  ","\n"])),(e=>e.fullview?Object(d.css)(r||(r=Object(i.a)(["\n        iframe {\n          position: fixed;\n          top: 90px;\n          left: 0;\n          height: calc(100% - 90px - 80px);\n\n          z-index: 9999;\n        }\n      "]))):Object(d.css)(a||(a=Object(i.a)(["\n        display: flex;\n\n        min-height: 80vh;\n        max-height: 80vh;\n        height: 100vh;\n        iframe {\n          height: 100%;\n        }\n      "])))));t.a=e=>{let{value:t}=e;const{apiUrl:n}=Object(c.useContext)(l.EscolaLMSContext),{t:o}=Object(u.a)(),[r,a]=Object(c.useState)(!1);return Object(v.jsx)("div",{className:"scorm-wrapper",children:Object(v.jsxs)(f,{fullview:r,children:[Object(v.jsxs)(s.Button,{onClick:()=>a(!r),children:[" ",o("Scorm.Resize")," ",Object(v.jsx)(p.z,{})]}),Object(v.jsx)("iframe",{title:t.title,src:"".concat(n,"/api/scorm/play/").concat(t.uuid)})]})})}},772:function(e,t,n){"use strict";var o,r,a=n(70),i=n(1),c=n.n(i),s=n(385),l=n(52),d=n(373),u=n(36),p=n(72),v=n(17),f=n(730),b=n(29),m=n(111),h=n(679),j=n(3);const y=v.default.aside(o||(o=Object(a.a)(["\n  padding-bottom: 100px;\n  .show-agenda-btn {\n    width: 100%;\n  }\n  .agenda-wrapper {\n    ","\n  }\n"])),p.isMobile&&Object(v.css)(r||(r=Object(a.a)(["\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      transform: translate(100%, 0);\n      transition: transform 0.25s;\n      overflow: scroll;\n      padding: 40px 0 55px;\n      z-index: 10;\n      background-color: ",";\n      &--visible {\n        transform: translate(0, 0);\n      }\n      .hide-agenda-btn {\n        display: block;\n        margin: 0 15px 0 auto;\n      }\n    "])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.dm__background:t.background})));t.a=e=>{var t;let{course:n,topicId:o,onCompleteTopic:r,onCourseFinish:a}=e;const{progress:v}=Object(f.a)(n),{courseProgressDetails:g,user:x}=Object(i.useContext)(l.EscolaLMSContext),O=Object(u.g)(),[T,w]=Object(i.useState)(!1),C=((null===n||void 0===n?void 0:n.lessons)||[]).filter((e=>{var t,n;return(null!==(t=null===e||void 0===e||null===(n=e.topics)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0})),{topicIsFinished:_}=Object(i.useContext)(l.EscolaLMSContext),P=Object(i.useMemo)((()=>{var e;return Object(d.getFlatTopics)(null!==(e=n.lessons)&&void 0!==e?e:[])}),[n.lessons]),E=Object(i.useMemo)((()=>{var e;const t=n.id;return g&&g.byId&&g.byId[Number(t)]&&g.byId[Number(t)].value?g.byId[Number(t)].value:v&&v.value&&(null===(e=v.value.find((e=>e.course.id===Number(t))))||void 0===e?void 0:e.progress)}),[v,n]),A=P.filter((e=>_(e.id)||(null===E||void 0===E?void 0:E.some((t=>t.topic_id===e.id&&1===t.status))))).map((e=>e.id));return n||C?Object(j.jsxs)(y,{children:[p.isMobile&&Object(j.jsx)(b.Button,{mode:"outline",className:"show-agenda-btn",onClick:()=>w(!0),children:Object(m.t)("CourseProgram.ShowAgenda")}),Object(j.jsxs)("div",{className:"".concat(T?"agenda-wrapper agenda-wrapper--visible":"agenda-wrapper"),children:[p.isMobile&&Object(j.jsx)(b.Button,{className:"hide-agenda-btn",mode:"secondary",onClick:()=>w(!1),children:"\u2715"}),Object(j.jsx)(s.CourseAgenda,{areAllTopicsUnlocked:Object(h.e)(Number(null===(t=x.value)||void 0===t?void 0:t.id),n),onNextTopicClick:()=>{const e=P.findIndex((e=>e.id===o)),t=null===P||void 0===P?void 0:P[e+1];t&&-1!==e&&(O.push("/course/".concat(n.id,"/").concat(t.lesson_id,"/").concat(t.id)),w(!1))},mobile:p.isMobile,lessons:n.lessons,currentTopicId:o,finishedTopicIds:A,onMarkFinished:()=>null===r||void 0===r?void 0:r(),onTopicClick:e=>{O.push("/course/".concat(n.id,"/").concat(e.lesson_id,"/").concat(e.id)),w(!1)},onCourseFinished:()=>null===a||void 0===a?void 0:a()})]})]}):Object(j.jsx)(c.a.Fragment,{})}},774:function(e,t,n){"use strict";var o,r=n(70),a=n(1),i=n.n(a),c=n(35),s=n(17),l=n(268),d=n(241),u=n(276),p=n(34),v=n(3);const f=s.default.div(o||(o=Object(r.a)(["\n  h1 {\n    font-size: 2em;\n  }\n  h2 {\n    font-size: 1.5em;\n  }\n  h3 {\n    font-size: 1.17em;\n  }\n  h4 {\n    font-size: 1em;\n  }\n  h5 {\n    font-size: 0.9em;\n  }\n  .resources-container {\n    padding: 24px 0;\n    margin-top: 24px;\n    border-top-width: 1px;\n    border-top-style: solid;\n    border-top-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.primaryColor}));var b,m=e=>{let{value:t,onLoad:n,resources:o}=e;const{t:r}=Object(l.a)(),i=o&&o.length>0;return Object(a.useEffect)((()=>{t&&n&&n()}),[t,n]),Object(v.jsxs)(f,{children:[t&&Object(v.jsx)(d.MarkdownRenderer,{children:t}),i&&Object(v.jsxs)("div",{className:"resources-container",children:[Object(v.jsx)(p.Text,{children:r("CoursePage.Resources")}),o.map((e=>{let{name:t,url:n}=e;return Object(v.jsx)(u.Download,{href:n,fileName:t})}))]})]})},h=n(704),j=n(765),y=n(755),g=n(746),x=n(766),O=n(759),T=n(875),w=n(72),C=n(771),_=n(768),P=n.n(_);const E=Object(s.default)(O.PdfPlayer)(b||(b=Object(r.a)(["\n  .course-pdf-player {\n    .react-pdf__Page__svg,\n    svg {\n      width: 100% !important;\n      height: auto !important;\n    }\n  }\n"])));t.a=e=>{var t,n,o;let{topic:r,preview:s=!1,disableNextTopicButton:l,isThereAnotherTopic:d=!0,onXAPI:u}=e;const{program:p,topicPing:f,topicIsFinished:b}=Object(a.useContext)(c.EscolaLMSContext);if(Object(a.useEffect)((()=>{const e=(null===r||void 0===r?void 0:r.id)&&b(r.id);d&&l&&e&&l(!e&&!Boolean(null===r||void 0===r?void 0:r.can_skip))}),[l,r,d,b]),Object(a.useEffect)((()=>{if(!s){const e=()=>(null===r||void 0===r?void 0:r.id)&&!b(null===r||void 0===r?void 0:r.id)&&f(null===r||void 0===r?void 0:r.id),t=setInterval((()=>{e()}),5e3);return e(),()=>clearInterval(t)}}),[f,s,null===r||void 0===r?void 0:r.id,b]),!r)return Object(v.jsx)(i.a.Fragment,{});if(null===(t=r.topicable)||void 0===t||!t.value)return Object(v.jsx)("pre",{className:"error",children:"Error: topic.topicable?.value is missing"});if(r.topicable_type)switch(r.topicable_type){case h.API.TopicType.H5P:return Object(v.jsx)(x.H5Player,{onXAPI:e=>null===u||void 0===u?void 0:u(e),h5pObject:r.topicable.content,hideActionButtons:!0});case h.API.TopicType.OEmbed:return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(g.OEmbedPlayer,{url:r.topicable.value},r.id)});case h.API.TopicType.RichText:return Object(v.jsx)(m,{value:r.topicable.value,resources:r.resources});case h.API.TopicType.Video:return Object(v.jsx)(y.AudioVideoPlayer,{mobile:w.isMobile,url:r.topicable.url,light:!0});case h.API.TopicType.Image:return Object(v.jsx)(j.ImagePlayer,{topic:r,onLoad:()=>{}});case h.API.TopicType.Audio:return Object(v.jsx)(y.AudioVideoPlayer,{mobile:w.isMobile,audio:!0,url:r.topicable.url,light:!0});case h.API.TopicType.Pdf:return Object(v.jsx)(E,{url:r.topicable.url,pageConfig:{renderMode:"svg",className:"course-pdf-player"}});case h.API.TopicType.Scorm:return Object(v.jsx)(C.a,{value:{title:r.title,uuid:r.topicable.uuid}});case h.API.TopicType.GiftQuiz:return Object(v.jsx)(P.a,{topic:r});case h.API.TopicType.Project:return Object(v.jsx)(T.ProjectPlayer,{course_id:null!==(n=null===(o=p.value)||void 0===o?void 0:o.id)&&void 0!==n?n:0,topic:r});default:return Object(v.jsx)("pre",{children:r.topicable_type})}return Object(v.jsx)("pre",{children:"loading... (or error)"})}},875:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectPlayer=void 0;var l,d,u=n(3),p=n(1),v=c(n(17)),f=n(45),b=n(240),m=n(52),h=n(876),j=n(26),y=n(74),g=n(381),x=n(272),O=n(34),T=n(241),w=n(729),C=v.default.div(l||(l=o(["\n  .project-player__upload-input {\n    margin-bottom: 1em;\n    .wrapper {\n      .border img {\n        display: none;\n      }\n\n      &::after {\n        padding-top: 0;\n        aspect-ratio: 16 / 3;\n      }\n    }\n  }\n\n  .project-player__projects-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1em;\n\n    .project-card {\n      width: 100%;\n      max-width: 225px;\n\n      .content {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n      }\n    }\n  }\n"],["\n  .project-player__upload-input {\n    margin-bottom: 1em;\n    .wrapper {\n      .border img {\n        display: none;\n      }\n\n      &::after {\n        padding-top: 0;\n        aspect-ratio: 16 / 3;\n      }\n    }\n  }\n\n  .project-player__projects-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1em;\n\n    .project-card {\n      width: 100%;\n      max-width: 225px;\n\n      .content {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n      }\n    }\n  }\n"]))),_=function(){return(0,u.jsx)("svg",r({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M5 2C5 0.89543 5.89543 0 7 0H13C14.1046 0 15 0.895431 15 2V4H16.9897C16.9959 3.99994 17.0021 3.99994 17.0083 4H19C19.5523 4 20 4.44772 20 5C20 5.55228 19.5523 6 19 6H17.9311L17.0638 18.1425C16.989 19.1891 16.1182 20 15.0689 20H4.93112C3.88184 20 3.01096 19.1891 2.9362 18.1425L2.06888 6H1C0.447715 6 0 5.55228 0 5C0 4.44772 0.447715 4 1 4H2.99174C2.99795 3.99994 3.00414 3.99994 3.01032 4H5V2ZM7 4H13V2H7V4ZM4.07398 6L4.93112 18H15.0689L15.926 6H4.07398ZM8 8C8.55228 8 9 8.44772 9 9V15C9 15.5523 8.55228 16 8 16C7.44772 16 7 15.5523 7 15V9C7 8.44772 7.44772 8 8 8ZM12 8C12.5523 8 13 8.44772 13 9V15C13 15.5523 12.5523 16 12 16C11.4477 16 11 15.5523 11 15V9C11 8.44772 11.4477 8 12 8Z",fill:"currentColor"})}))},P=function(e){var t=e.projects,n=e.onDeleteSuccess,o=e.onDeleteError,a=e.className,i=(0,f.useTranslation)().t,c=(0,p.useContext)(m.EscolaLMSContext),l=c.token,d=c.apiUrl,v=(0,p.useState)([]),T=v[0],w=v[1],C=(0,p.useCallback)((function(e){return function(){if(!l)return console.warn("noToken");w((function(t){return s(s([],t,!0),[e],!1)})),(0,h.removeProject)(d,l,e).then((function(){return null===n||void 0===n?void 0:n()})).catch((function(){return null===o||void 0===o?void 0:o()})).finally((function(){return w((function(t){return t.filter((function(t){return t!==e}))}))}))}}),[l,d]);return(0,u.jsxs)("div",r({className:a},{children:[t.loading&&!t.data.length&&(0,u.jsx)(x.Spin,{}),t.data.map((function(e,t){var n=e.id,o=e.created_at;return(0,u.jsxs)(g.Card,r({className:"project-card"},{children:[(0,u.jsxs)("div",r({className:"project-card__details"},{children:[(0,u.jsxs)(O.Text,r({className:"project-card__title"},{children:[i("ProjectPlayer.ProjectFile")," ".concat(t+1)]})),(0,u.jsx)(O.Text,r({className:"project-card__date"},{children:(0,b.format)(new Date(o),j.DATETIME_FORMAT)}))]})),(0,u.jsx)(y.Button,r({className:"project-card__delete-btn",mode:"icon",loading:T.includes(n),onClick:C(n)},{children:(0,u.jsx)(_,{})}))]}),n)}))]}))};t.ProjectPlayer=function(e){var t=e.course_id,n=e.topic,o=e.onSuccess,a=e.onError,i=e.className,c=(0,p.useContext)(m.EscolaLMSContext),s=c.token,l=c.apiUrl,d=(0,p.useState)({data:[],loading:!1}),v=d[0],f=d[1],b=(0,p.useState)(!1),j=b[0],y=b[1],g=(0,p.useCallback)((function(){if(!s)return console.error("noToken");f((function(e){return r(r({},e),{loading:!0})})),(0,h.fetchProjects)(l,s,{course_id:t,topic_id:null===n||void 0===n?void 0:n.id}).then((function(e){e.success&&f((function(t){return r(r({},t),{data:e.data})}))})).catch((function(e){return console.warn(e)})).finally((function(){return f((function(e){return r(r({},e),{loading:!1})}))}))}),[s,l,t,null===n||void 0===n?void 0:n.id]);(0,p.useEffect)((function(){g()}),[g]);var x=(0,p.useCallback)((function(e){var t;if((null===(t=e.currentTarget.files)||void 0===t?void 0:t[0])&&s){y(!0);var r={topic_id:(null===n||void 0===n?void 0:n.id)+"",file:e.currentTarget.files[0]};(0,h.addProject)(l,s,r).then((function(){g(),null===o||void 0===o||o()})).catch((function(){null===a||void 0===a||a()})).finally((function(){y(!1)}))}}),[l,s,null===n||void 0===n?void 0:n.id,g]);return(0,u.jsxs)(C,r({className:"wellms-component"+" ".concat(i),"data-testid":"project-player"},{children:[n.description&&(0,u.jsx)(T.MarkdownRenderer,r({className:"project-player__description"},{children:n.description})),(0,u.jsx)(w.Upload,{className:"project-player__upload-input",name:"project_file",onChange:x,disabled:j}),(0,u.jsx)(P,{className:"project-player__projects-list",projects:v,onDeleteSuccess:g})]}))},t.default=(0,v.withTheme)((0,v.default)(t.ProjectPlayer)(d||(d=o([""],[""]))))},876:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{s(o.next(e))}catch(t){a(t)}}function c(e){try{s(o.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.removeProject=t.fetchProjects=t.addProject=void 0;var s=c(n(38)),l=n(62);t.addProject=function(e,t,n,i){return r(this,void 0,void 0,(function(){var r;return a(this,(function(a){return r=new FormData,Object.entries(n).forEach((function(e){var t=e[0],n=e[1];r.append(t,n)})),[2,(0,s.default)("".concat(e,"/api/topic-project-solutions"),o({method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Current-timezone":(0,l.currentTimezone)()},data:r},i||{}))]}))}))},t.fetchProjects=function(e,t,n,c){var d=n.per_page,u=n.page,p=i(n,["per_page","page"]);return r(this,void 0,void 0,(function(){return a(this,(function(n){return[2,(0,s.default)("".concat(e,"/api/topic-project-solutions"),o({method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t),"Current-timezone":(0,l.currentTimezone)()},params:o({per_page:null!==d&&void 0!==d?d:15,page:null!==u&&void 0!==u?u:1},p)},c||{}))]}))}))},t.removeProject=function(e,t,n,i){return r(this,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,s.default)("".concat(e,"/api/topic-project-solutions/").concat(n),o({method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t),"Current-timezone":(0,l.currentTimezone)()}},i||{}))]}))}))}}}]);
//# sourceMappingURL=4.b4f708a3.chunk.js.map