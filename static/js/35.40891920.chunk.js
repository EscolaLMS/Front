(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[35],{631:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o=n(1),s=n.n(o),l=n(278),b=n(20),u=n(6),j=n(5),d=n(12),g=n(72),p=s.a.createContext({}),x=n(93),f=n(33),h=n(279),m=n(184),O=n(276),v=n(367),y=n(725),C=n(19),w=n(280),k=n(76),N=n(54),T=n(277),M=n(35),S=n(47),_=n(698),P=n(692),E=n(74),F=n(746),z=n(701),D=n(682),L=n(677),I=n(691),R=n(30),J=n(84),q=n(685),A=n(687),B=n(700),G=n(3),H=Object(C.default)("div")(a||(a=Object(g.a)(["\n  background: ",";\n  padding: ",";\n  margin-bottom: ",";\n  position: relative;\n  z-index: 100;\n\n  h1 {\n    color: ",";\n    margin-bottom: ",";\n    transition: margin-bottom 0.5s ease-out;\n  }\n\n  .filters-container {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    align-items: center;\n    position: relative;\n    flex-wrap: wrap;\n    row-gap: 35px;\n\n    .categories-container {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      width: 100%;\n      &--loading {\n        opacity: 0.6;\n      }\n      ","\n\n      .clear-btn {\n        appearance: none;\n        background: transparent;\n        border: none;\n        outline: none;\n        margin-left: 15px;\n        cursor: pointer;\n        &--desktop {\n          display: ",";\n        }\n        ","\n      }\n\n      .categories-row {\n        display: flex;\n        max-width: 100%;\n        overflow-x: auto;\n        overflow-y: hidden;\n        justify-content: flex-start;\n        align-items: center;\n        column-gap: 10px;\n        padding-bottom: 5px;\n        ::-webkit-scrollbar {\n          height: 4px;\n          width: 4px;\n          border: 1px solid transparent;\n        }\n        ::-webkit-scrollbar-track {\n          border-radius: 0;\n          background: rgba(255, 255, 255, 0.2);\n        }\n        ::-webkit-scrollbar-thumb {\n          border-radius: 0;\n          background: #ffffff;\n        }\n\n        .single-filter {\n          border-width: 2px;\n          border-style: solid;\n          margin-bottom: 0;\n          padding: 10px 20px;\n          line-height: 0.9;\n          text-align: center;\n          max-height: 50px;\n          min-height: 50px;\n          display: flex;\n          align-items: center;\n          box-sizing: border-box;\n          justify-content: center;\n          border-color: ",";\n          color: ",";\n\n          &--filters {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            min-width: 120px;\n            color: ",";\n          }\n\n          &--active {\n            border-color: ",";\n            color: ",";\n            background-color: ",";\n          }\n        }\n      }\n    }\n    .mobile-categories-wrapper {\n      button {\n        color: ",";\n        border-color: ",";\n        min-width: 110px;\n      }\n    }\n\n    .selects-row {\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      column-gap: 35px;\n      margin-left: auto;\n\n      @media (max-width: 991px) {\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: flex-start;\n        margin-top: 40px;\n      }\n      @media (max-width: 575px) {\n        row-gap: 15px;\n        margin-top: 20px;\n      }\n\n      .single-select--search {\n        .search-input-options {\n          display: none !important;\n        }\n        input {\n          background: transparent;\n          border-bottom: 1px solid #fff;\n          color: #fff;\n          border-radius: 0;\n        }\n\n        .fieldset {\n          border-color: transparent;\n        }\n\n        svg {\n          filter: brightness(0) invert(1);\n        }\n      }\n\n      .single-select {\n        min-width: 200px;\n      }\n    }\n  }\n"])),(function(e){return e.theme.primaryColor}),E.isMobile?"60px 20px 20px 20px":"140px 40px 30px",E.isMobile?"100px":"40px",(function(e){return e.theme.white}),(function(e){var t=e.filters;return E.isMobile?0:t&&Object.keys(t).length>1?"35px":t&&1===Object.keys(t).length&&"page"in t||void 0===t?"-35px":"35px"}),E.isMobile&&Object(C.css)(r||(r=Object(g.a)(["\n        position: absolute;\n        bottom: -95px;\n        left: -20px;\n        width: calc(100% + 40px);\n      "]))),E.isMobile?"none":"block",E.isMobile&&Object(C.css)(c||(c=Object(g.a)(["\n          svg {\n            path {\n              fill: ",";\n            }\n          }\n        "])),(function(e){return e.theme.primaryColor})),(function(e){var t=e.theme;return E.isMobile?t.primaryColor:t.white}),(function(e){var t=e.theme;return E.isMobile?t.primaryColor:t.white}),(function(e){return e.theme.primaryColor}),(function(e){var t=e.theme;return E.isMobile?t.primaryColor:t.white}),(function(e){var t=e.theme;return E.isMobile?t.white:t.primaryColor}),(function(e){var t=e.theme;return E.isMobile?t.primaryColor:t.white}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor})),K=C.default.section(i||(i=Object(g.a)(["\n  margin-bottom: ",";\n"])),E.isMobile?"50px":"75px"),Q=function(){var e,t,n,a,r,c=Object(o.useContext)(p),i=c.params,l=c.setParams,g=c.courses,Q=c.loading,U=Object(o.useContext)(N.EscolaLMSContext),V=U.categoryTree,W=U.uniqueTags,X=Object(o.useState)(),Y=Object(d.a)(X,2),Z=Y[0],$=Y[1],ee={categories:[],tag:"",title:""},te=Object(o.useState)(ee),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce=Object(o.useState)(!1),ie=Object(d.a)(ce,2),oe=ie[0],se=ie[1],le=Object(O.a)().t,be=Object(M.g)(),ue=Object(M.h)(),je=Object(C.useTheme)(),de=Object(o.useCallback)((function(e){return re((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(u.a)({},e.key,e.value))}))}),[]);Object(o.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[ae.categories]);var ge=function(){re(ee)},pe=W.list?null===(e=W.list)||void 0===e?void 0:e.map((function(e){return{label:String(e.title),value:String(e.title)}})):[];return Object(o.useEffect)((function(){i&&se(i)}),[i]),Object(o.useEffect)((function(){oe&&$(_.a.parse(ue.search,{arrayFormat:"bracket",parseNumbers:!0}))}),[oe]),Object(o.useEffect)((function(){Z&&re({categories:Z.categories,tag:Z.tag,title:Z.title})}),[Z]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(H,{filters:i,children:[Object(G.jsxs)(x.Title,{level:1,children:[" ",le("CoursesPage.Courses")]}),Object(G.jsxs)("div",{className:"filters-container",children:[Object(G.jsxs)("div",{className:"categories-container ".concat(Q&&"categories-container--loading"),children:[Object(G.jsxs)("div",{className:"categories-row",children:[(ae.tag||ae.categories&&(null===(t=ae.categories)||void 0===t?void 0:t.length)>0)&&E.isMobile&&Object(G.jsx)("button",{type:"button",onClick:function(){$({}),l&&l({page:1}),ge()},className:"clear-btn",children:Object(G.jsx)(T.a,{})}),E.isMobile&&Object(G.jsx)("div",{className:"mobile-categories-wrapper",children:Object(G.jsx)(y.Categories,{mobile:!0,categories:V.list||[],label:"Kategoria",selectedCategories:ae.categories&&ae.categories.length>0?ae.categories:Z&&Z.categories,drawerTitle:Object(G.jsx)(x.Title,{level:5,style:{fontSize:"14px"},children:le("CoursesPage.Category")}),handleChange:function(e){var t=e;de({key:"categories",value:t}),l&&l(Object(j.a)(Object(j.a)({},i),{},{page:1,"categories[]":t}))}})}),ae.categories&&ae.categories.length>0&&(null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.filter((function(e){return ae.categories.indexOf(e.id)>-1})).map((function(e){return Object(G.jsx)(f.Text,{className:"single-filter",children:e.name},e.id)}))),(null===ae||void 0===ae?void 0:ae.tag)&&Object(G.jsx)(f.Text,{className:"single-filter",children:null===i||void 0===i?void 0:i.tag}),(null===ae||void 0===ae?void 0:ae.title)&&Object(G.jsx)(f.Text,{className:"single-filter",children:null===i||void 0===i?void 0:i.title})]}),(ae.categories&&(null===(a=ae.categories)||void 0===a?void 0:a.length)>0||ae.title||ae.tag)&&!E.isMobile&&Object(G.jsx)("button",{type:"button",onClick:function(){$({}),l&&l({page:1}),ge()},className:"clear-btn clear-btn--desktop",children:Object(G.jsx)(T.a,{})})]}),Object(G.jsxs)("div",{className:"selects-row",children:[Object(G.jsx)("div",{className:"single-select single-select--search",children:Object(G.jsx)(R.Search,{placeholder:le("CoursesPage.Search"),onSubmit:function(e){var t=e;de({key:"title",value:t}),""===e?(i&&delete i.title,l&&l(Object(j.a)(Object(j.a)({},i),{},{page:1}))):l&&l(Object(j.a)(Object(j.a)({},i),{},{page:1,title:t}))}})}),!E.isMobile&&Object(G.jsx)("div",{className:"single-select single-select--category",children:Object(G.jsx)(y.Categories,{backgroundColor:je.primaryColor,categories:V.list||[],label:le("CoursesPage.Category"),selectedCategories:ae.categories&&ae.categories.length>0?ae.categories:Z&&Z.categories,drawerTitle:Object(G.jsx)(x.Title,{level:5,style:{fontSize:"14px"},children:le("CoursesPage.Category")}),handleChange:function(e){var t=e;de({key:"categories",value:t}),l&&l(Object(j.a)(Object(j.a)({},i),{},{page:1,"categories[]":t}))}})}),Object(G.jsx)("div",{className:"single-select single-select--tag",children:Object(G.jsx)(m.Dropdown,{onChange:function(e){de({key:"tag",value:e.value}),l&&l(Object(j.a)(Object(j.a)({},i),{},{page:1,tag:e.value}))},backgroundColor:je.primaryColor,value:ae.tag,placeholder:"Tag",options:[{label:le("CoursesPage.All"),value:""}].concat(Object(b.a)(pe))})})]})]})]}),!g||Q||g.data&&g.data.length?Object(G.jsx)(G.Fragment,{children:Q?Object(G.jsx)("div",{style:{display:"flex",justifyContent:"center"},className:"loader-wrapper",children:Object(G.jsx)(h.Spin,{color:je.primaryColor})}):Object(G.jsxs)(s.a.Fragment,{children:[Object(G.jsx)(K,{children:Object(G.jsx)(J.Row,{style:{gap:"30px 0"},children:null===g||void 0===g?void 0:g.data.map((function(e){return Object(G.jsx)(J.Col,{md:6,lg:4,xl:3,children:Object(G.jsx)(I.a,{children:Object(G.jsx)(v.CourseCard,{mobile:E.isMobile,id:e.id,image:Object(G.jsx)(S.c,{to:"/courses/".concat(e.id),"aria-label":e.title,children:e.image_path?Object(G.jsx)(L.ResponsiveImage,{path:e.image_path,alt:e.title,srcSizes:[300,600,900]}):Object(G.jsx)(D.a,{})}),tags:Object(G.jsx)(q.a,{tags:e.tags,onTagClick:function(e){return be.push("/courses/?tag=".concat(e))}}),subtitle:Object(B.a)({subtitle:e.subtitle,linkTo:"/courses/".concat(e.id),textLength:29}),title:Object(G.jsx)(S.c,{to:"/course/".concat(e.id),className:"title",children:Object(G.jsx)(x.Title,{level:4,as:"h2",children:e.title})}),categories:Object(G.jsx)(A.a,{categories:e.categories,onCategoryClick:function(e){be.push("/courses/?categories[]=".concat(e))}}),actions:Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(k.Button,{mode:"secondary",onClick:function(){return be.push("/course/".concat(e.id))},children:le("StartNow")})}),footer:Object(G.jsxs)(G.Fragment,{children:[e.users_count&&e.users_count>0?Object(G.jsx)(w.IconText,{icon:Object(G.jsx)(T.C,{}),text:"".concat(e.users_count," ").concat(le("Students"))}):""," ",e.lessons_count&&e.lessons_count>0?Object(G.jsx)(w.IconText,{icon:Object(G.jsx)(T.w,{}),text:"".concat(e.lessons_count," ").concat(le("Lessons"))}):""]})})})},e.id)}))})}),g.meta.total>g.meta.per_page&&Object(G.jsx)(P.a,{total:g.meta.total,perPage:g.meta.per_page,currentPage:g.meta.current_page,onPage:function(e){return l&&l(Object(j.a)(Object(j.a)({},i),{},{page:e,per_page:8}))}})]})}):Object(G.jsx)(x.Title,{level:4,children:le("NoCourses")}),Object(G.jsx)(F.a,{}),V&&Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(z.a,{categories:(null===(r=V.list)||void 0===r?void 0:r.filter((function(e){return!!e.icon})))||[]})})]})},U=n(34),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.a.stringify(e)},W=function(e){var t=e.onlyFree,n=void 0===t||t,a=e.children,r=Object(o.useState)(),c=Object(d.a)(r,2),i=c[0],s=c[1],l=Object(o.useState)(!0),b=Object(d.a)(l,2),u=b[0],g=b[1],x=Object(o.useContext)(U.EscolaLMSContext),f=x.fetchCourses,h=x.fetchCategories,m=Object(M.h)(),O=Object(M.g)().push,v=Object(o.useState)(),y=Object(d.a)(v,2),C=y[0],w=y[1];Object(o.useEffect)((function(){h()}),[h]),Object(o.useEffect)((function(){O("".concat(m.pathname,"?").concat(V(C)))}),[C,m.pathname]);var k=Object(o.useCallback)((function(e){g(!0),f(e).then((function(e){s(e)})).catch((function(){return g(!1)})).finally((function(){return g(!1)}))}),[f]);return Object(o.useEffect)((function(){if(m.search&&m.search.split("?")[1]!==V(C)){var e=_.a.parse(m.search);O("".concat(m.pathname,"?").concat(V(e))),w(e),k(e?Object(j.a)(Object(j.a)({},e),{},{order_by:"created_at",order:"DESC"}):{})}else k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)({page:1,per_page:8,order_by:"created_at",order:"DESC"},e);return n&&(t.free=!0),t}(C))}),[m.search]),Object(G.jsx)(p.Provider,{value:{params:C,setParams:w,courses:i,onlyFree:n,loading:u},children:a})},X=n(194);t.default=function(){var e=Object(O.a)().t;return Object(G.jsx)(l.a,{metaTitle:e("CoursesPage.Courses"),children:Object(G.jsx)(W,{onlyFree:!1,children:Object(G.jsx)("section",{className:"courses-page",children:Object(G.jsx)(X.a,{children:Object(G.jsx)(Q,{})})})})})}},692:function(e,t,n){"use strict";var a,r=n(20),c=n(72),i=(n(1),n(19)),o=n(33),s=n(47),l=n(3),b=i.default.div(a||(a=Object(c.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  a {\n    text-decoration: none !important;\n  }\n  .arrow {\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    margin: 0 10px;\n    &--left {\n      transform: rotate(45deg);\n    }\n    &--right {\n      transform: rotate(-135deg);\n    }\n  }\n  .number {\n    margin: 0 8px;\n    p {\n      opacity: 0.5;\n      &.current {\n        color: ","!important;\n        font-weight: 700;\n        opacity: 1;\n      }\n    }\n  }\n"])),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor})),u="LEFT",j="RIGHT",d=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r};t.a=function(e){var t=e.currentPage,n=e.total,a=e.perPage,c=e.onPage,i=e.pageNeighbours,g=void 0===i?2:i,p=Math.ceil(n/a);return Object(l.jsx)(b,{children:function(){var e=2*g+3;if(p>e+2){var n=Math.max(2,t-g),a=Math.min(p-1,t+g),c=d(n,a),i=n>2,o=p-a>1,s=e-(c.length+1);switch(!0){case i&&!o:var l=d(n-s,n-1);c=[u].concat(Object(r.a)(l),Object(r.a)(c));break;case!i&&o:var b=d(a+1,a+s);c=[].concat(Object(r.a)(c),Object(r.a)(b),[j]);break;default:c=[u].concat(Object(r.a)(c),[j])}return[1].concat(Object(r.a)(c),[p])}return t<p&&1===t?[].concat(Object(r.a)(d(1,p)),[j]):t>1&&t!==p?[u].concat(Object(r.a)(d(1,p)),[j]):t>1&&t===p?[u].concat(Object(r.a)(d(1,p))):d(1,p)}().map((function(e){return e===u?Object(l.jsx)("a",{href:"#!prev_page",className:"prev page-numbers",onClick:function(e){e.preventDefault(),c(t<=1?1:t-1)},children:Object(l.jsx)("div",{className:"arrow arrow--left"})}):e===j?Object(l.jsx)("a",{href:"#!next_page",className:"next page-numbers",onClick:function(e){e.preventDefault(),c(t===p?p:t+1)},children:Object(l.jsx)("div",{className:"arrow arrow--right"})}):Object(l.jsx)(s.c,{onClick:function(t){t.preventDefault(),c(Number(e))},to:"#!page-".concat(Number(e)),className:"number",children:Object(l.jsx)(o.Text,{className:Number(e)===t?"current":"",size:"16","aria-current":"page",children:Number(e)})},"#".concat(Number(e)))}))})}}}]);
//# sourceMappingURL=35.40891920.chunk.js.map