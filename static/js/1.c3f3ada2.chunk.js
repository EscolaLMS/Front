(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[1],{665:function(e,t,n){"use strict";var o,a=n(75),c=n(20),r=n(666),i=n(3),s=c.default.div(o||(o=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ",";\n"])),(function(e){var t=e.theme;return"light"===t.mode?t.gray4:t.gray2}));t.a=function(){return Object(i.jsx)(s,{children:Object(i.jsx)("img",{src:r.a,alt:""})})}},666:function(e,t,n){"use strict";t.a=n.p+"static/media/image.ece42557.svg"},667:function(e,t,n){"use strict";var o,a=n(75),c=n(30),r=n(20),i=n(3),s=r.default.div(o||(o=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n"])));t.a=function(e){var t=e.width,n=e.height,o=Object(r.useTheme)();return Object(i.jsx)(s,{style:{width:t||"100%",height:n||"100%"},children:Object(i.jsx)(c.Spin,{color:o.primaryColor})})}},669:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={defaultDateFormat:"dd/MM/yyyy",defaultDateTimeFormat:"dd/MM/yyyy, HH:mm"}},670:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return j}));var o=n(174),a=n(289),c=n(137),r=n(669),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a.defaultDateFormat;return e?Object(o.default)(new Date(e),t):""},s=function(e,t,n){return!(!e||!t)&&i(e,n)===i(t,n)},u=function(e){var t=[];return e.forEach((function(e){var n=Object(o.default)(new Date(e),"MM/dd/yyyy"),a=t.find((function(e){return Object(o.default)(new Date(e.date),"MM/dd/yyyy")===n}));a?a.times.push(new Date(e)):t.push({date:n,times:[new Date(e)]})})),t},d=function(e){return e.filter((function(e){return Object(a.default)(e,new Date)}))},l=function(e){return e.sort((function(e,t){return e.getTime()-t.getTime()}))},b=function(e){var t=Array.from(e.matchAll(/(\d+)\s+(day|hour|minute|second|week|year)s?/g)),n={},o=!1;if(t.forEach((function(e){o=!0;var t=parseInt(e[1]),a=e[2];n[a]?n[a]+=t:n[a]=t})),!o){Array.from(e.matchAll(/\d+/g)).forEach((function(e){var t=parseInt(e[0]);n.hour=t}))}return n},j=function(e,t){return Object(c.a)(new Date(e),{years:t.year||0,months:t.month||0,weeks:t.week||0,days:t.day||0,hours:t.hour||0,minutes:t.minute||0,seconds:t.second||0})}},732:function(e,t,n){"use strict";var o,a=n(12),c=n(75),r=n(1),i=n(20),s=n(364),u=n(368),d=n.n(u),l=n(671),b=n(672),j=n(274),m=n(872),f=n.n(m),O=i.default.div(o||(o=Object(c.a)(["\n  .react-datepicker {\n    font-family: ",";\n    color: ",";\n    border-color: ",";\n    border-radius: ","px;\n    width: 100%;\n    margin-top: 0.5rem;\n  }\n\n  .react-datepicker__day--selected {\n    background-color: ",";\n  }\n\n  .react-datepicker__day--selected:hover {\n    background-color: ",";\n    opacity: 0.3;\n  }\n\n  .react-datepicker__month-container {\n    width: 100%;\n  }\n\n  .react-datepicker__current-month,\n  .react-datepicker-time__header,\n  .react-datepicker-year-header {\n    font-size: 14px;\n  }\n\n  .react-datepicker__day-name,\n  .react-datepicker__day,\n  .react-datepicker__time-name {\n    width: 4em;\n    line-height: 4em;\n  }\n\n  .react-datepicker__day--keyboard-selected:hover,\n  .react-datepicker__month-text--keyboard-selected:hover,\n  .react-datepicker__quarter-text--keyboard-selected:hover,\n  .react-datepicker__year-text--keyboard-selected:hover {\n    background-color: ",";\n    opacity: 0.3;\n    color: #ffffff;\n  }\n\n  .react-datepicker__header {\n    background-color: transparent;\n    border-color: ",";\n    border-top-right-radius: ","px;\n    border-top-left-radius: ","px;\n  }\n\n  .react-datepicker__input-time-container {\n    text-align: center;\n    margin: 15px 0;\n  }\n\n  .react-datepicker__input-time-container .react-datepicker-time__caption {\n    font-size: 14px;\n  }\n\n  .react-datepicker__input-time-container\n    .react-datepicker-time__input-container\n    .react-datepicker-time__input\n    input {\n    font-size: 14px;\n    padding: 1em;\n    border-radius: ","px;\n    border-color: ",";\n    border-width: 1px;\n    border-style: solid;\n  }\n\n  .react-datepicker__input-time-container\n    .react-datepicker-time__input-container\n    .react-datepicker-time__input\n    input:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.font}),(function(e){return e.theme.textColor}),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray3}),(function(e){return e.theme.buttonRadius||2}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor}),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray3}),(function(e){return e.theme.buttonRadius||2}),(function(e){return e.theme.buttonRadius||2}),(function(e){return e.theme.buttonRadius||2}),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray3})),h=(n(871),n(264)),p=n(263),x=n(3);Object(m.registerLocale)("pl",p.a),Object(m.registerLocale)("en",h.a);var g,_,C,v=function(e){var t=e.selectedDate,n=e.onChange,o=e.includeDates,a=e.includeTimes,c=e.minDate,r=e.showTimeInput,i=e.timeInputLabel,s=Object(j.a)().i18n;return Object(x.jsx)(O,{children:Object(x.jsx)(f.a,{selected:t,onChange:n,includeDates:o,includeTimes:a,inline:!0,locale:s.language,minDate:c,showTimeInput:r,timeInputLabel:i})})},y=n(30),k=n(57),T=n(670),w=n(383),D=n(756),S=n(733),E=i.default.div(g||(g=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.54rem;\n  margin: 0.5rem 0 2rem 0;\n\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  button {\n    animation: fadeIn 0.4s;\n  }\n"]))),P=function(e){var t,n,o=e.consultation,c=e.onClose,i=Object(r.useState)(null),s=Object(a.a)(i,2),u=s[0],d=s[1],m=Object(r.useState)(null),f=Object(a.a)(m,2),O=f[0],h=f[1],p=Object(r.useState)(!1),g=Object(a.a)(p,2),_=g[0],C=g[1],P=Object(r.useState)(1),A=Object(a.a)(P,2),I=A[0],B=A[1],N=Object(r.useContext)(S.a).setShowBookTermSuccess,R=Object(j.a)().t,F=Object(r.useContext)(k.EscolaLMSContext).bookConsultationTerm,L=Object(T.g)(Object(T.f)((null===o||void 0===o||null===(t=o.proposed_terms)||void 0===t?void 0:t.map((function(e){return new Date(e)})))||[])),M=Object(T.b)(L),H=u&&(null===(n=M.find((function(e){return Object(T.e)(e.date,u)})))||void 0===n?void 0:n.times)||[],U=o.in_coming,z="approved"===o.executed_status,W=!(null===L||void 0===L||!L.length);Object(r.useEffect)((function(){L[0]&&d(L[0])}),[]);var G=Object(r.useCallback)((function(){N(!0),c(),d(null),h(null)}),[c,N]),q=Object(r.useCallback)(Object(b.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.consultation_term_id||!O){e.next=7;break}return C(!0),e.next=4,F(o.consultation_term_id,O.toISOString());case 4:e.sent.success&&G(),C(!1);case 7:case"end":return e.stop()}}),e)}))),[o.consultation_term_id,O,F,G]);return 2===I?Object(x.jsx)(D.a,{selectedDate:u,consultation:o,loading:_,onClick:q}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{onChange:function(e){d(e),h(null)},selectedDate:u,includeDates:L,includeTimes:H}),Object(x.jsx)(E,{children:H.map((function(e){return Object(x.jsx)(y.Button,{mode:Object(T.e)(e,O,"HH:mm")?"secondary":"outline",onClick:function(){return h(e)},children:Object(T.d)(e,"HH:mm")})}))}),!W&&Object(x.jsx)(w.Tag,{children:R("ConsultationPage.NoTermsAvailable")}),W&&Object(x.jsx)(y.Button,{mode:"secondary",onClick:function(){return B(2)},block:!0,disabled:!u||!O,loading:_,children:R(U&&z?"ConsultationPage.ChangeTerm":"ConsultationPage.Book")})]})},A=n(73),I=n.n(A),B=n(35),N=n(757),R=function(e){var t=e.consultation,n=e.onClose,o=Object(r.useState)(null),c=Object(a.a)(o,2),i=c[0],s=c[1],u=Object(r.useContext)(B.EscolaLMSContext).bookConsultationTerm,d=Object(r.useState)(!1),m=Object(a.a)(d,2),f=m[0],O=m[1],h=Object(r.useState)(1),p=Object(a.a)(h,2),g=p[0],_=p[1],C=Object(r.useContext)(S.a).setShowBookTermSuccess,y=Object(j.a)().t,k=t.in_coming,T="approved"===t.executed_status,w=Object(r.useCallback)((function(){C(!0),n(),s(null)}),[n,C]),E=Object(r.useCallback)(Object(b.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.consultation_term_id||!i){e.next=7;break}return O(!0),e.next=4,u(t.consultation_term_id,i.toISOString());case 4:e.sent.success&&w(),O(!1);case 7:case"end":return e.stop()}}),e)}))),[t.consultation_term_id,i,u,w]);return 2===g?Object(x.jsx)(D.a,{selectedDate:i,consultation:t,loading:f,onClick:E}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N.a,{children:y("ConsultationPage.SelectDateAndHour")}),Object(x.jsx)(v,{onChange:function(e){s(e)},selectedDate:i,minDate:new Date,showTimeInput:!0,timeInputLabel:"".concat(y("Time"),": ")}),Object(x.jsx)(I.a,{mode:"secondary",onClick:function(){return _(2)},block:!0,disabled:!i,loading:f,children:y(k&&T?"ConsultationPage.ChangeTerm":"ConsultationPage.Choose")})]})},F=function(e){var t,n=e.onClose,o=e.visible,a=e.consultation,c="single"===(null===(t=a.product)||void 0===t?void 0:t.type);return Object(x.jsx)(d.a,{onClose:n,visible:o,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:468,children:c?Object(x.jsx)(R,{consultation:a,onClose:n}):Object(x.jsx)(P,{consultation:a,onClose:n})})},L=n(34),M=n(759),H=function(e){var t=e.showBookTerm,n=Object(j.a)().t,o=Object(r.useCallback)((function(){t(!0)}),[t]);return Object(x.jsx)(A.Button,{mode:"secondary",onClick:o,children:n("ConsultationPage.Book")})},U=function(e){var t=e.showBookTerm,n=Object(j.a)().t,o=Object(r.useCallback)((function(){t(!0)}),[t]);return Object(x.jsx)(A.Button,{mode:"secondary",onClick:o,children:n("ConsultationPage.ChangeTerm")})},z=function(e){var t,n=e.consultation,o=e.showBookTerm,a=Object(L.g)(),c=Object(j.a)().t,r=n.is_started,i=n.in_coming,s="reported"===n.executed_status,u="not_reported"===n.executed_status;return s?null:null!==(t=n.product)&&void 0!==t&&t.owned&&u?Object(x.jsx)(H,{showBookTerm:function(e){return o(e)}}):r&&n.consultation_term_id?Object(x.jsx)(M.a,{consultationTermId:n.consultation_term_id}):i?Object(x.jsx)(U,{showBookTerm:function(e){return o(e)}}):Object(x.jsx)(A.Button,{mode:"secondary",onClick:function(){return a.push("/consultations/".concat(n.id))},children:c("ConsultationPage.Show")})},W=n(758),G=i.default.div(_||(_=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),q=function(e){var t=e.consultation,n=t.is_ended,o="reported"===t.executed_status,a="approved"===t.executed_status,c="not_reported"===t.executed_status;return Object(x.jsxs)(G,{children:[n&&t.executed_at&&Object(x.jsx)(W.b,{type:W.a.ENDED,date:Object(T.a)(t.executed_at,Object(T.c)("".concat(t.duration)))}),o&&!n&&Object(x.jsx)(W.b,{type:W.a.WAITING,date:t.executed_at}),a&&!n&&Object(x.jsx)(W.b,{type:W.a.ACCEPTED,date:t.executed_at}),c&&Object(x.jsx)(W.b,{type:W.a.DEFAULT})]})},J=n(45),K=n(664),Y=n.n(K),V=n(665),Q=function(e){var t=e.consultation;return Object(x.jsx)(J.c,{to:"/consultations/".concat(t.id),children:t.image_path?Object(x.jsx)(Y.a,{path:t.image_path,alt:t.name,srcSizes:[300,600,900]}):Object(x.jsx)(V.a,{})})},X=i.default.div(C||(C=Object(c.a)(["\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n\n    button {\n      width: 100%;\n      margin: 0;\n    }\n  }\n"])));t.a=function(e){var t=e.consultation,n=Object(r.useState)(!1),o=Object(a.a)(n,2),c=o[0],i=o[1];return Object(x.jsxs)(X,{children:[Object(x.jsx)(s.CourseCard,{id:t.id,image:Object(x.jsx)(Q,{consultation:t}),title:"".concat(t.name),footer:Object(x.jsx)(q,{consultation:t}),actions:Object(x.jsx)(z,{consultation:t,showBookTerm:function(e){return i(e)}})}),Object(x.jsx)(F,{visible:c,onClose:function(){return i(!1)},consultation:t})]})}},733:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o,a=n(12),c=n(1),r=n(368),i=n.n(r),s=n(75),u=n(20),d=n(274),l=n(73),b=n(275),j=n(33),m=n(3),f=u.default.div(o||(o=Object(s.a)(["\n  text-align: center;\n\n  .text {\n    margin: 1.5rem 0 3rem 0;\n  }\n"]))),O=function(e){var t=e.onClick,n=Object(d.a)().t,o=Object(u.useTheme)();return Object(m.jsxs)(f,{children:[Object(m.jsx)(b.r,{width:"50px",height:"50px",color:o.primaryColor}),Object(m.jsx)(j.Text,{className:"text",children:n("ConsultationPage.successTermInfo")}),Object(m.jsx)(l.Button,{mode:"secondary",onClick:t,block:!0,children:n("ConsultationPage.Understand")})]})},h=function(e){var t=e.onClose,n=e.visible;return Object(m.jsx)(i.a,{onClose:t,visible:n,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:468,children:Object(m.jsx)(O,{onClick:t})})},p=Object(c.createContext)({showBookTermSuccess:!1,setShowBookTermSuccess:function(e){}});t.b=function(e){var t=e.children,n=Object(c.useState)(!1),o=Object(a.a)(n,2),r=o[0],i=o[1];return Object(m.jsxs)(p.Provider,{value:{showBookTermSuccess:r,setShowBookTermSuccess:i},children:[t,Object(m.jsx)(h,{visible:r,onClose:function(){return i(!1)}})]})}},756:function(e,t,n){"use strict";(function(e){var o=n(274),a=n(83),c=n(73),r=n.n(c),i=n(670),s=n(669),u=n(757),d=n(876),l=n(375),b=n(3),j=window.REACT_APP_API_URL||e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRYDSN:"https://1abed5b3f95e41be8e1c39c33af12506@sentry.etd24.pl/96",REACT_APP_ROUTING_TYPE:"HashRouter",REACT_APP_YBUG_ID:"01m1nn5zqystt1qq5n11",REACT_APP_PUBLIC_API_URL:"https://api-stage.escolalms.com"})&&"https://api-stage.escolalms.com";t.a=function(e){var t=e.consultation,n=e.selectedDate,c=e.onClick,m=e.loading,f=Object(o.a)().t,O=t.author;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{children:f("ConsultationPage.SelectedTermOfConsultation")}),Object(b.jsx)(d.a,{title:f("ConsultationPage.ConsultationTerm"),content:Object(i.d)(n,s.a.defaultDateTimeFormat)}),Object(b.jsx)(d.a,{title:f("ConsultationPage.Expert"),content:Object(b.jsx)(l.Tutor,{mobile:a.isMobile,avatar:{alt:"".concat(O.first_name," ").concat(O.last_name),src:"".concat(j,"/api/images/img?path=").concat(O.path_avatar)||""},title:Object(b.jsx)(b.Fragment,{}),fullName:"".concat(O.first_name," ").concat(O.last_name),rating:{ratingValue:5},description:O.bio})}),Object(b.jsx)(r.a,{mode:"secondary",onClick:c,block:!0,disabled:!n,loading:m,children:f("ConsultationPage.Book")})]})}}).call(this,n(112))},757:function(e,t,n){"use strict";var o,a=n(75),c=n(20),r=n(92),i=Object(c.default)(r.Title)(o||(o=Object(a.a)(["\n  font-size: 24px;\n  margin-bottom: 24px;\n  border-bottom: 1px solid\n    ",";\n  padding-bottom: 12px;\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray3}));t.a=i},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var o,a=n(75),c=n(1),r=n(20),i=n(670),s=n(669),u=n(33),d=n(275),l=n(3),b=r.default.div(o||(o=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .date-container {\n    display: flex;\n    flex-direction: row;\n    border: 1px solid;\n    border-radius: 2px;\n    align-items: center;\n\n    .icon-container {\n      display: flex;\n      align-items: center;\n      padding: 0.5rem;\n    }\n\n    .date {\n      padding: 0.5rem;\n      margin: 0 auto;\n    }\n  }\n\n  .info {\n    padding: 0.5rem;\n    border-left: 1px solid;\n    border-right: 1px solid;\n    border-bottom: 1px solid;\n    font-family: ",";\n    font-size: 12px;\n  }\n"])),(function(e){return e.theme.font})),j=function(e){return e[e.ACCEPTED=0]="ACCEPTED",e[e.WAITING=1]="WAITING",e[e.ENDED=2]="ENDED",e[e.DEFAULT=3]="DEFAULT",e}({});t.b=function(e){var t=e.type,n=e.date,o=e.info,a=Object(r.useTheme)(),m=Object(c.useMemo)((function(){switch(t){case j.ACCEPTED:return"#198754";case j.WAITING:return"#FFC300";case j.ENDED:return"#D22B2B";default:return a.primaryColor}}),[a.primaryColor,t]);return Object(l.jsxs)(b,{children:[Object(l.jsxs)("div",{className:"date-container",style:{borderColor:m},children:[Object(l.jsx)("div",{className:"icon-container",style:{backgroundColor:m},children:Object(l.jsx)(d.f,{color:"#ffffff"})}),Object(l.jsx)(u.Text,{className:"date",children:n?Object(i.d)(new Date(n),s.a.defaultDateTimeFormat):"--"})]}),o&&Object(l.jsx)("div",{className:"info",style:{borderColor:m},children:o})]})}},759:function(e,t,n){"use strict";var o,a=n(12),c=n(1),r=n(274),i=n(73),s=n(671),u=n(672),d=n(57),l=n(368),b=n(667),j=n(75),m=n(20).default.div(o||(o=Object(j.a)(["\n  iframe {\n    width: 100% !important;\n    height: calc(100vh - 76px);\n    border: none;\n  }\n"]))),f=n(3),O=function(e){var t=e.onClose,n=e.visible,o=e.consultationTermId,r=Object(c.useState)(null),i=Object(a.a)(r,2),j=i[0],O=i[1],h=Object(c.useState)(!1),p=Object(a.a)(h,2),x=p[0],g=p[1],_=Object(c.useContext)(d.EscolaLMSContext).generateConsultationJitsy;return Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,_(o);case 3:(t=e.sent).success&&O(t.data),g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(f.jsx)(l.Modal,{onClose:t,visible:n,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:"100vw",height:"100vh",bodyStyle:{minHeight:"93vh"},children:Object(f.jsxs)(m,{children:[x&&Object(f.jsx)(b.a,{}),!x&&j&&Object(f.jsx)("iframe",{title:j.data.roomName,src:j.url})]})})};t.a=function(e){var t=e.consultationTermId,n=Object(c.useState)(!1),o=Object(a.a)(n,2),s=o[0],u=o[1],d=Object(r.a)().t;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.Button,{mode:"secondary",onClick:function(){return u(!0)},children:d("ConsultationPage.Join")}),Object(f.jsx)(O,{visible:s,onClose:function(){return u(!1)},consultationTermId:t})]})}},876:function(e,t,n){"use strict";var o,a=n(75),c=n(30),r=n(20),i=n(3),s=r.default.div(o||(o=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 12px;\n\n  .title {\n    margin: 0.2em 0;\n  }\n\n  .content {\n    margin: 0.2em 0;\n    font-weight: 700;\n    color: ",";\n  }\n"])),(function(e){return e.theme.primaryColor}));t.a=function(e){var t=e.title,n=e.content;return Object(i.jsxs)(s,{children:["string"===typeof t?Object(i.jsx)(c.Text,{className:"title",children:t}):t,"string"===typeof n?Object(i.jsx)(c.Text,{className:"content",children:n}):n]})}}}]);
//# sourceMappingURL=1.c3f3ada2.chunk.js.map