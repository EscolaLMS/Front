/*! For license information please see 9.a9a34373.chunk.js.LICENSE.txt */
(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[9],{519:function(e,t,n){"use strict";n.r(t);var r,o,i,c=n(1),s=n.n(c),a=n(31),u=n(39),l=n(572),d=n(216),f=n(5),p=n(581),h=n(587),b=n(11),v=n(69),m=n(606),j=n(673),g=n(652),x=n(607),O=n(82),y=n(299),w=n(185),N=n(30),T=n(44),C=n(14),P=n(75),_=n(300),E=n(101),k=n(3),I=C.default.div(r||(r=Object(v.a)(["\n  margin-top: 100px;\n"]))),L=function(e){var t=e.resources,n=e.subtitle,r=Object(E.a)().t,o=t.map((function(e){return{href:e.url,fileName:e.name}}));return Object(k.jsx)(I,{children:Object(k.jsx)(_.Downloads,{subtitle:n,title:r("CourseProgram.TopicAttachment"),downloads:o})})},S=n(571),M=n(76),F=n(152),B=n(29),z=C.default.div(o||(o=Object(v.a)(["\n  min-height: calc(100vh - 150px);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  .buttons-block {\n    display: grid;\n    gap: 8px;\n  }\n"]))),A=function(e){var t=e.error,n=e.goTo,r=void 0===n?"/courses":n,o=e.goToText,i=e.alternativeButton,c=Object(E.a)().t,s=Object(a.g)(),u=null!==o&&void 0!==o?o:c("CoursePage.SeeOtherCourses");return Object(k.jsx)(d.a,{children:Object(k.jsxs)(z,{children:[Object(k.jsx)(B.Text,{size:"16",children:Object(k.jsx)("strong",{children:c("CoursePage.ErrorOccurred")})}),Object(k.jsx)(B.Text,{size:"14",children:t}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{className:"buttons-block",children:[Object(k.jsx)(B.Button,{mode:"secondary",onClick:function(){return s.push(r)},children:u}),i&&Object(k.jsx)(B.Button,{mode:"outline",onClick:function(){return s.push(i.goTo)},children:i.goToText})]})]})})},G=n(67),D=C.default.section(i||(i=Object(v.a)(['\n  padding-bottom: 110px;\n  .main-title {\n    margin-bottom: 20px;\n  }\n  .course-nav {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n  }\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .course-program-finish-modal {\n    font-family: "Mulish", sans-serif;\n    background: #f8f8f8;\n    inset: 0;\n    border: 1px solid #157493;\n    padding: 16px;\n    display: grid;\n    place-content: center;\n    gap: 16px;\n    height: 100%;\n    max-height: 500px;\n\n    p {\n      text-align: center;\n      margin: 0;\n    }\n\n    &__title {\n      font-size: 24px;\n      font-weight: 500;\n    }\n\n    &__paragraph {\n      font-size: 18px;\n    }\n\n    &__buttons {\n      display: grid;\n      grid-auto-flow: column;\n      gap: 8px;\n      justify-content: center;\n      margin-top: 8px;\n    }\n  }\n']))),R=function(e){var t,n,r=e.program,o=e.courseId,i=Object(x.a)(r),l=i.topic,d=i.lesson,v=i.onNextTopic,C=i.onPrevTopic,_=i.getNextPrevTopic,I=i.isNextTopicButtonDisabled,B=i.disableNextTopicButton,z=i.sendProgress,R=i.progress,H=Object(c.useContext)(u.EscolaLMSContext).courseProgressDetails,V=Object(c.useState)(!1),J=Object(b.a)(V,2),Y=J[0],Q=J[1],U=Object(a.i)().topicID,X=Object(a.g)().push,q=Object(E.a)().t,K=3===Object(a.h)().pathname.split("/").length,W=Object(c.useMemo)((function(){var e,t;return null!==(e=H.byId)&&void 0!==e&&e[Number(o)]&&H.byId[Number(o)].value?H.byId[Number(o)].value:R&&R.value&&(null===(t=R.value.find((function(e){return e.course.id===Number(o)})))||void 0===t?void 0:t.progress)}),[R,o]),Z=Object(c.useCallback)((function(){null!==r&&void 0!==r&&r.id&&z(null===r||void 0===r?void 0:r.id,[{topic_id:Number(U),status:1}])}),[r,U,z]),$=Object(c.useMemo)((function(){var e=W||[],t=e.filter((function(e){return e.status===m.API.CourseProgressItemElementStatus.IN_PROGRESS})).sort((function(e,t){return new Date(t.started_at).getTime()-new Date(e.started_at).getTime()}))[0];return t||e.filter((function(e){return e.status===m.API.CourseProgressItemElementStatus.INCOMPLETE}))[0]}),[W]),ee=Object(c.useMemo)((function(){return $&&r.lessons.find((function(e){return e&&e.topics&&e.topics.some((function(e){return e.id===$.topic_id}))}))}),[r,$]);Object(c.useEffect)((function(){K&&ee&&$&&X("/course/".concat(r.id,"/").concat(ee.id,"/").concat($.topic_id),null)}),[K,ee,r,X,$]),Object(c.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[null===d||void 0===d?void 0:d.id,null===l||void 0===l?void 0:l.id]),Object(c.useEffect)((function(){r&&l&&(null!==_(Number(null===l||void 0===l?void 0:l.id))||B(!0))}),[null===l||void 0===l?void 0:l.id,r]);var te=d&&d.summary&&l&&l.summary?6:12;window.resetProgress=function(){return Object(h.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(r.id,r.lessons.flatMap((function(e){return e.topics})).map((function(e){return{topic_id:Number(null===e||void 0===e?void 0:e.id),status:0}})));case 2:case"end":return e.stop()}}),e)})))()};var ne=null===W||void 0===W?void 0:W.findIndex((function(e){return e.topic_id===(null===l||void 0===l?void 0:l.id)&&e.status===m.API.CourseProgressItemElementStatus.COMPLETE}));return r?l?Object(k.jsx)(s.a.Fragment,{children:Object(k.jsxs)(D,{className:"course-program-wrapper",children:[Object(k.jsxs)(F.a,{children:[Object(k.jsx)(S.a,{items:[Object(k.jsx)(T.c,{to:"/",children:q("Home")}),Object(k.jsx)(T.c,{to:"/courses",children:q("Courses")}),Object(k.jsx)(N.Text,{size:"12",children:r.title}),Object(k.jsx)(N.Text,{size:"12",children:l.title})]}),Object(k.jsx)(O.Title,{className:"main-title",level:3,children:l.title}),Object(k.jsxs)(M.Row,{children:[Object(k.jsxs)(M.Col,{lg:9,children:[!!Y&&Object(k.jsxs)("div",{className:"course-program-finish-modal",children:[Object(k.jsx)("p",{className:"course-program-finish-modal__title",children:q("CourseProgram.FinishTitle")}),Object(k.jsx)("p",{className:"course-program-finish-modal__paragraph",children:q("CourseProgram.FinishSubtitle")}),Object(k.jsxs)("div",{className:"course-program-finish-modal__buttons",children:[Object(k.jsx)(G.Button,{mode:"primary",onClick:function(){return X("/user/my-profile")},children:q("Menu.Profile")}),Object(k.jsx)(G.Button,{mode:"primary",onClick:function(){return X("/courses")},children:q("Menu.Courses")})]})]}),!Y&&Object(k.jsxs)("div",{className:"course-program-player",children:[Object(k.jsxs)("div",{className:"course-program-player-content",children:[l&&l.introduction&&Object(k.jsx)(w.MarkdownRenderer,{children:l.introduction}),Object(k.jsx)("div",{className:"course-program-player-content__wrapper",style:Object(f.a)({},(null===l||void 0===l||null===(t=l.json)||void 0===t?void 0:t.wrapperStyle)||{}),children:Object(k.jsx)(j.a,{lessonId:Number(null===d||void 0===d?void 0:d.id),topicId:l&&Number(l.id),disableNextTopicButton:B,isThereAnotherTopic:Boolean(_(Number(null===l||void 0===l?void 0:l.id)))},l.id)})]}),Object(k.jsx)("div",{className:"course-program-content__container",children:Object(k.jsxs)(M.Row,{children:[d&&d.summary&&Object(k.jsx)(M.Col,{sm:12,md:te,lg:te,children:Object(k.jsx)("div",{className:"course-program-summary",children:Object(k.jsx)(w.MarkdownRenderer,{children:d.summary})})}),l&&l.summary&&Object(k.jsx)(M.Col,{sm:12,md:te,lg:te,children:Object(k.jsxs)("div",{className:"course-program-summary",children:[Object(k.jsx)(w.MarkdownRenderer,{children:l.summary}),l&&l.resources&&(null===(n=l.resources)||void 0===n?void 0:n.length)>0&&Object(k.jsx)(L,{resources:l.resources||[],subtitle:l.introduction||""})]})})]})})]})]}),Object(k.jsx)(M.Col,{lg:3,children:Object(k.jsx)(g.a,{course:r,lessonId:Number(null===d||void 0===d?void 0:d.id),topicId:Number(null===l||void 0===l?void 0:l.id),onCourseFinish:function(){return Q(!0)}})})]})]}),Object(k.jsx)("div",{className:"course-nav",children:Object(k.jsx)(F.a,{children:Object(k.jsx)(y.CourseTopNav,{onFinish:function(){return Z()},mobile:P.isMobile,onNext:v,isFinished:!!ne&&ne>-1,onPrev:C,addNotes:!1,onNoteClick:function(){},hasPrev:!!_(Number(null===l||void 0===l?void 0:l.id),!1),hasNext:!I})})})]})}):Object(k.jsx)(A,{error:q("CourseProgram.NoTopic"),goTo:"/course/".concat(r.id),goToText:q("CoursePage.BackToCourse"),alternativeButton:{goTo:"/courses",goToText:q("CoursePage.SeeOtherCourses")}}):Object(k.jsx)(A,{error:q("CourseProgram.NoProgram")})},H=n(107),V=n(620),J=function(e){var t=e.program,n=null===t||void 0===t?void 0:t.scorm_sco,r=null===n||void 0===n?void 0:n.uuid;return n||r?Object(k.jsx)(V.a,{value:{title:n.title,uuid:n.uuid}}):Object(k.jsx)(s.a.Fragment,{})};t.default=function(){var e,t=Object(a.i)().id,n=Object(c.useContext)(u.EscolaLMSContext),r=n.program,o=n.fetchProgram;return Object(c.useEffect)((function(){t&&o(Number(t))}),[t]),r.loading?Object(k.jsx)(l.a,{}):r.error?Object(k.jsx)(A,{error:Object(H.t)("CourseProgram.NoProgram")}):r.value&&null!==r&&void 0!==r&&null!==(e=r.value)&&void 0!==e&&e.scorm_sco_id?Object(k.jsx)(d.a,{metaTitle:r.value.title,children:Object(k.jsx)(J,{program:r.value})}):r.value&&r.value.lessons&&r.value.lessons.length?Object(k.jsx)(d.a,{metaTitle:r.value.title,children:Object(k.jsx)(R,{program:r.value,courseId:Number(t)})}):Object(k.jsx)(l.a,{})}},571:function(e,t,n){"use strict";var r,o=n(69),i=(n(1),n(281)),c=n(14),s=n(3),a=c.default.div(r||(r=Object(o.a)(["\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ","!important;\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray2}));t.a=function(e){var t=e.items;return Object(s.jsx)(a,{children:Object(s.jsx)(i.BreadCrumbs,{items:t})})}},572:function(e,t,n){"use strict";var r,o=n(69),i=n(1),c=n(218),s=n(14),a=n(3),u=s.default.div(r||(r=Object(o.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__background:t.background}));t.a=function(){var e=Object(s.useTheme)();return Object(i.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="inherit"}}),[]),Object(a.jsx)(u,{children:Object(a.jsx)(c.Spin,{color:e.primaryColor})})}},581:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",a=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,c=Object.create(o.prototype),s=new P(r||[]);return i(c,"_invoke",{value:w(e,n,s)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=d;var p={};function h(){}function b(){}function v(){}var m={};l(m,s,(function(){return this}));var j=Object.getPrototypeOf,g=j&&j(j(_([])));g&&g!==t&&n.call(g,s)&&(m=g);var x=v.prototype=h.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,c,s,a){var u=f(e[i],e,c);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==Object(r.a)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,a)}))}a(u.arg)}var c;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return c=c?c.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=f(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===p)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}function N(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return b.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:b,configurable:!0}),b.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},O(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var c=new y(d(t,n,r,o),i);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},O(x),l(x,u,"Generator"),l(x,s,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}},587:function(e,t,n){"use strict";function r(e,t,n,r,o,i,c){try{var s=e[i](c),a=s.value}catch(u){return void n(u)}s.done?t(a):Promise.resolve(a).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var c=e.apply(t,n);function s(e){r(c,o,i,s,a,"next",e)}function a(e){r(c,o,i,s,a,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},607:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(11),o=n(59),i=n(1),c=n(31);function s(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/course/",a=Object(i.useContext)(o.EscolaLMSContext),u=a.sendProgress,l=a.getNextPrevTopic,d=a.progress,f=Object(i.useState)(!1),p=Object(r.a)(f,2),h=p[0],b=p[1],v=Object(c.i)(),m=v.lessonID,j=v.topicID,g=Object(c.g)().push,x=m||e.lessons[0].id,O=j||(e&&e.lessons&&e.lessons[0]&&e.lessons[0].topics&&(null===e||void 0===e||null===(t=e.lessons[0])||void 0===t||null===(n=t.topics[0])||void 0===n?void 0:n.id)||0),y=Object(i.useMemo)((function(){return e.lessons.find((function(e){return e.id===Number(x)}))}),[e,x]),w=Object(i.useMemo)((function(){return y&&y.topics&&y.topics.find((function(e){return e.id===Number(O)}))}),[y,O]),N=Object(i.useCallback)((function(){e.id&&u(e.id,[{topic_id:Number(O),status:1}]).then((function(){var t=l(Number(O));t&&g("".concat(s).concat(e.id,"/").concat(t.lesson_id,"/").concat(t.id),null)}))}),[O,e,g,l,u,s]),T=Object(i.useCallback)((function(){e.id&&u(e.id,[{topic_id:Number(O),status:1}]).then((function(){var t=l(Number(O),!1);t&&g("".concat(s).concat(e.id,"/").concat(t.lesson_id,"/").concat(t.id),null)}))}),[O,e,g,l,u,s]),C=Object(i.useCallback)((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=l(Number(O),t);n&&g("".concat(s).concat(e.id,"/").concat(null===n||void 0===n?void 0:n.lesson_id,"/").concat(null===n||void 0===n?void 0:n.id))}),[x,O,e,e.id,g,s]);return{topic:w,lesson:y,onNextTopic:N,onPrevTopic:T,getNextPrevTopic:l,isNextTopicButtonDisabled:h,disableNextTopicButton:b,onNextTopicPreview:C,sendProgress:u,progress:d}}},617:function(e,t){},620:function(e,t,n){"use strict";var r,o,i,c=n(11),s=n(69),a=n(1),u=n(67),l=n(59),d=n(14),f=n(101),p=n(215),h=n(3),b=d.default.div(r||(r=Object(s.a)(["\n  > button {\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    z-index: 9999;\n    svg path {\n      fill: white;\n    }\n  }\n  iframe {\n    border: none;\n    display: block;\n    width: 100%;\n  }\n  ","\n"])),(function(e){return e.fullview?Object(d.css)(o||(o=Object(s.a)(["\n        iframe {\n          position: fixed;\n          top: 90px;\n          left: 0;\n          height: calc(100% - 90px - 80px);\n\n          z-index: 9999;\n        }\n      "]))):Object(d.css)(i||(i=Object(s.a)(["\n        display: flex;\n\n        min-height: 80vh;\n        max-height: 80vh;\n        height: 100vh;\n        iframe {\n          height: 100%;\n        }\n      "])))}));t.a=function(e){var t=e.value,n=Object(a.useContext)(l.EscolaLMSContext).apiUrl,r=Object(f.a)().t,o=Object(a.useState)(!1),i=Object(c.a)(o,2),s=i[0],d=i[1];return Object(h.jsx)("div",{className:"scorm-wrapper",children:Object(h.jsxs)(b,{fullview:s,children:[Object(h.jsxs)(u.Button,{onClick:function(){return d(!s)},children:[" ",r("Scorm.Resize")," ",Object(h.jsx)(p.p,{})]}),Object(h.jsx)("iframe",{title:t.title,src:"".concat(n,"/api/scorm/play/").concat(t.uuid)})]})})}},642:function(e,t){},643:function(e,t){},644:function(e,t){},645:function(e,t){},646:function(e,t){},652:function(e,t,n){"use strict";var r,o,i=n(11),c=n(69),s=n(1),a=n.n(s),u=n(186),l=n(59),d=n(31),f=n(75),p=n(14),h=n(607),b=n(29),v=n(107),m=n(3),j=p.default.aside(r||(r=Object(c.a)(["\n  padding-bottom: 100px;\n  .show-agenda-btn {\n    width: 100%;\n  }\n  .agenda-wrapper {\n    ","\n  }\n"])),f.isMobile&&Object(p.css)(o||(o=Object(c.a)(["\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      transform: translate(100%, 0);\n      transition: transform 0.25s;\n      overflow: scroll;\n      padding: 40px 0 55px;\n      z-index: 10;\n      background-color: ",";\n\n      &--visible {\n        transform: translate(0, 0);\n      }\n\n      .hide-agenda-btn {\n        display: block;\n        margin: 0 15px 0 auto;\n      }\n    "])),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__background:t.background})));t.a=function(e){var t=e.course,n=(e.lessonId,e.topicId),r=e.onCourseFinish,o=Object(h.a)(t),c=o.disableNextTopicButton,p=o.sendProgress,g=o.progress,x=Object(s.useContext)(l.EscolaLMSContext).courseProgressDetails,O=Object(d.g)(),y=Object(s.useState)(!1),w=Object(i.a)(y,2),N=w[0],T=w[1],C=((null===t||void 0===t?void 0:t.lessons)||[]).filter((function(e){var t;return e&&e.topics&&(null===e||void 0===e||null===(t=e.topics)||void 0===t?void 0:t.length)>0})),P=Object(s.useContext)(l.EscolaLMSContext).topicIsFinished,_=t.lessons.map((function(e){return e.topics})),E=[].concat.apply([],_),k=Object(s.useCallback)((function(){c&&c(!1),null!==t&&void 0!==t&&t.id&&p(null===t||void 0===t?void 0:t.id,[{topic_id:Number(n),status:1}])}),[C,n,c,p]),I=Object(s.useMemo)((function(){var e,n=t.id;return x&&x.byId&&x.byId[Number(n)]&&x.byId[Number(n)].value?x.byId[Number(n)].value:g&&g.value&&(null===(e=g.value.find((function(e){return e.course.id===Number(n)})))||void 0===e?void 0:e.progress)}),[g,t]),L=E.filter((function(e){return P(e.id)||(null===I||void 0===I?void 0:I.some((function(t){return t.topic_id===e.id&&1===t.status})))})).map((function(e){return e.id}));return t||C?Object(m.jsxs)(j,{children:[f.isMobile&&Object(m.jsx)(b.Button,{mode:"outline",className:"show-agenda-btn",onClick:function(){return T(!0)},children:Object(v.t)("CourseProgram.ShowAgenda")}),Object(m.jsxs)("div",{className:"".concat(N?"agenda-wrapper agenda-wrapper--visible":"agenda-wrapper"),children:[f.isMobile&&Object(m.jsx)(b.Button,{className:"hide-agenda-btn",mode:"secondary",onClick:function(){return T(!1)},children:"\u2715"}),Object(m.jsx)(u.CourseAgenda,{onNextTopicClick:function(){var e;t.lessons.forEach((function(t,r,o){t.topics&&t.topics.forEach((function(i,c){i.id===n&&(e=t.topics&&t.topics[c+1]?t.topics[c+1]&&t.topics[c+1]:o[r+1]?o[r+1].topics&&o[r+1].topics[0]:o[0].topics&&o[0].topics[0])}))})),e&&(O.push("/course/".concat(t.id,"/").concat(e.lesson_id,"/").concat(e.id)),T(!1))},mobile:f.isMobile,lessons:t.lessons,currentTopicId:n,finishedTopicIds:L,onMarkFinished:function(){return k()},onTopicClick:function(e){O.push("/course/".concat(t.id,"/").concat(e.lesson_id,"/").concat(e.id)),T(!1)},onCourseFinished:function(){return null===r||void 0===r?void 0:r()}})]})]}):Object(m.jsx)(a.a.Fragment,{})}},673:function(e,t,n){"use strict";var r,o=n(69),i=n(1),c=n.n(i),s=n(39),a=n(156),u=n(5),l=n(185),d=n(139),f=n(3),p=["small","regular","bigger","big"],h=function(e){var t=e.value,n=e.onLoad,r=e.fontSize;return Object(i.useEffect)((function(){t&&n&&n()}),[t,n]),Object(f.jsx)("div",{className:"center-image-richtext typebase size-".concat(p[r]),children:t&&Object(f.jsx)(l.MarkdownRenderer,{components:{a:function(e){return Object(f.jsx)(d.Link,Object(u.a)(Object(u.a)({},e),{},{underline:!0}))}},children:t})})},b=n(606),v=n(647),m=n(640),j=n(638),g=n(648),x=n(641),O=n(75),y=n(620),w=n(14),N=n(651),T=n.n(N),C=Object(w.default)(x.PdfPlayer)(r||(r=Object(o.a)(["\n  .course-pdf-player {\n    .react-pdf__Page__svg,\n    svg {\n      width: 100% !important;\n      height: auto !important;\n    }\n  }\n"])));t.a=function(e){var t,n=e.lessonId,r=e.topicId,o=e.preview,u=void 0!==o&&o,l=e.disableNextTopicButton,d=e.customNoCompletedEventsIds,p=void 0===d?["http://h5p.org/libraries/H5P.GuessTheAnswer-1.5"]:d,x=e.isThereAnotherTopic,w=void 0===x||x,N=Object(i.useContext)(s.EscolaLMSContext),P=N.program,_=N.topicPing,E=N.topicIsFinished,k=N.fontSize,I=N.sendProgress,L=N.h5pProgress,S=Object(i.useMemo)((function(){var e,t,o,i;return null===(e=P.value)||void 0===e||null===(t=e.lessons)||void 0===t||null===(o=t.find((function(e){return e.id===n})))||void 0===o||null===(i=o.topics)||void 0===i?void 0:i.find((function(e){return e.id===r}))}),[P,n,r]),M=Object(i.useCallback)((function(){var e,t;null!==P&&void 0!==P&&null!==(e=P.value)&&void 0!==e&&e.id&&I(null===P||void 0===P||null===(t=P.value)||void 0===t?void 0:t.id,[{topic_id:Number(r),status:1}])}),[P,r,I]),F=Object(i.useCallback)((function(e){var t,n,o;(w&&l&&l(!Boolean(null===e||void 0===e||null===(t=e.statement)||void 0===t||null===(n=t.verb)||void 0===n?void 0:n.id)),null!==e&&void 0!==e&&e.statement)&&L(String(null===P||void 0===P||null===(o=P.value)||void 0===o?void 0:o.id),Number(r),null===e||void 0===e?void 0:e.statement)}),[P,r,L,l,p]);if(Object(i.useEffect)((function(){var e=(null===S||void 0===S?void 0:S.id)&&E(S.id);w&&l&&e&&l(!e&&!Boolean(null===S||void 0===S?void 0:S.can_skip))}),[l,S,w,E]),Object(i.useEffect)((function(){if(!u){var e=function(){return r&&!E(r)&&_(r)},t=setInterval((function(){e()}),5e3);return e(),function(){return clearInterval(t)}}}),[_,u,r,E]),!S)return Object(f.jsx)(c.a.Fragment,{});if(null===(t=S.topicable)||void 0===t||!t.value)return Object(f.jsx)("pre",{className:"error",children:"Error: topic.topicable?.value is missing"});if(S.topicable_type)switch(S.topicable_type){case a.TopicType.H5P:return Object(f.jsx)(g.H5Player,{onXAPI:function(e){return F(e)},h5pObject:S.topicable.content});case a.TopicType.OEmbed:return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(j.OEmbedPlayer,{url:S.topicable.value},r)});case a.TopicType.RichText:return Object(f.jsx)(h,{value:S.topicable.value,fontSize:k});case a.TopicType.Video:return Object(f.jsx)(m.AudioVideoPlayer,{mobile:O.isMobile,url:S.topicable.url,light:!0,onFinish:function(){return M()}});case a.TopicType.Image:return Object(f.jsx)(v.ImagePlayer,{topic:S,onLoad:function(){return M()}});case a.TopicType.Audio:return Object(f.jsx)(m.AudioVideoPlayer,{mobile:O.isMobile,audio:!0,url:S.topicable.url,light:!0,onFinish:function(){return M()}});case a.TopicType.Pdf:return Object(f.jsx)(C,{url:S.topicable.url,pageConfig:{renderMode:"svg",className:"course-pdf-player"}});case a.TopicType.Scorm:return Object(f.jsx)(y.a,{value:{title:S.title,uuid:S.topicable.uuid}});case b.API.TopicType.GiftQuiz:return Object(f.jsx)(T.a,{topic:S});default:return Object(f.jsx)("pre",{children:S.topicable_type})}return Object(f.jsx)("pre",{children:"loading... (or error)"})}}}]);
//# sourceMappingURL=9.a9a34373.chunk.js.map