(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[23],{610:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),s=n(35),r=n(29),i=n(694),c=n(269),l=n(268),d=n(36),u=n(46),j=n(72),b=n(92),m=n(17),p=n(52);var x,h=n(70),v=n(275),g=n(679),O=n(27),f=n(3);const y=Object(m.default)(r.Button)(x||(x=Object(h.a)(["\n  display: block;\n  margin-bottom: 10px;\n"]))),T=e=>{var t,n;let{course:o,onRequestAccess:s}=e;const{t:i}=Object(l.a)(),{push:c}=Object(d.g)(),{courseAccess:u,cart:j,addToCart:b}=Object(a.useContext)(p.EscolaLMSContext),m=Object(a.useMemo)((()=>{var e,t;return null===(e=u.list)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.find((e=>{var t;return(null===e||void 0===e||null===(t=e.course)||void 0===t?void 0:t.id)===o.id}))}),[null===(t=u.list)||void 0===t?void 0:t.data,o.id]),x=Object(a.useMemo)((()=>Object(f.jsx)(r.Button,{loading:j.loading,mode:"secondary",onClick:()=>{var e;return b(Number(null===(e=o.product)||void 0===e?void 0:e.id)).then((()=>c(O.a.cart)))},children:i("Buy Course")})),[b,j.loading,null===(n=o.product)||void 0===n?void 0:n.id,c,i]);return m?"approved"!==m.status?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{mode:"secondary",disabled:!0,children:i("CourseAccess.Pending")}),x]}):"approved"===m.status?Object(f.jsx)(r.Button,{onClick:()=>c("/course/".concat(o.id)),mode:"secondary",children:i("Go to the course")}):x:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{mode:"secondary",onClick:s,children:i("CourseAccess.RequestAccess")}),x]})};var C=e=>{var t,n;let{course:o,userOwnThisCourse:s,onRequestAccess:i}=e;const{cart:c,user:u}=Object(a.useContext)(p.EscolaLMSContext),{t:j}=Object(l.a)(),{push:b}=Object(d.g)(),m=Object(a.useMemo)((()=>{var e;return null===c||void 0===c||null===(e=c.value)||void 0===e?void 0:e.items.some((e=>{var t;return Number(e.product_id)===Number(null===(t=o.product)||void 0===t?void 0:t.id)}))}),[null===(t=o.product)||void 0===t?void 0:t.id,c]);return Object(g.e)(Number(null===(n=u.value)||void 0===n?void 0:n.id),o)?Object(f.jsx)(r.Button,{onClick:()=>b("/course/".concat(o.id)),mode:"secondary",children:j("Go to the course")}):Object(v.a)(new Date(o.active_to||""))?Object(f.jsx)(r.Text,{children:j("CoursePage.IsFinished")}):m?Object(f.jsx)(r.Button,{mode:"secondary",onClick:()=>b(O.a.cart),children:j("CoursePage.GoToCheckout")}):s&&Object(v.a)(new Date(o.active_from||""))?Object(f.jsx)(r.Button,{onClick:()=>b("/course/".concat(o.id)),mode:"secondary",children:j("Go to the course")}):s?Object(f.jsx)(r.Text,{children:j("CoursePage.NotStarted")}):u.value&&o.product?Object(f.jsx)(T,{course:o,onRequestAccess:i}):o.product?Object(f.jsx)(r.Button,{onClick:()=>b("/login?referrer=/courses/".concat(o.id)),mode:"secondary",children:j("Buy Course")}):Object(f.jsx)(r.Text,{children:j("CoursePage.UnavailableCourse")})},w=n(674),E=n(703);var _=e=>{var t,n,o,x,h,v,O,y,T,_;let{course:P,onRequestAccess:S}=e;const I=Object(m.useTheme)(),{user:k,courseAccess:N}=Object(a.useContext)(s.EscolaLMSContext),{t:R}=Object(l.a)(),{id:A}=Object(d.i)(),{progress:M}=(e=>{const[t,n]=Object(a.useState)({data:void 0,loaded:!1,loading:!1}),{user:o,fetchCourseProgress:s,courseProgressDetails:r}=Object(a.useContext)(p.EscolaLMSContext);return Object(a.useEffect)((()=>{r.byId&&r.byId[Number(e)]&&r.byId[Number(e)].value&&n({...t,data:r.byId[Number(e)].value,loaded:!0,loading:!1})}),[e,r]),Object(a.useEffect)((()=>{null===o||void 0===o||!o.value||o.loading||t.loading||t.loaded?t.loaded||n({...t,loaded:!0}):(n({...t,loading:!0}),s(e).catch((()=>n({...t,loaded:!0,loading:!1}))))}),[o,t,s,e]),{progress:t}})(Number(A)),q=Object(a.useMemo)((()=>{var e;return null===P||void 0===P||null===(e=P.product)||void 0===e?void 0:e.owned}),[null===P||void 0===P||null===(t=P.product)||void 0===t?void 0:t.owned]),L=Object(a.useMemo)((()=>{var e,t;return!(null===(e=N.list)||void 0===e||null===(t=e.data)||void 0===t||!t.find((e=>{var t;return(null===e||void 0===e||null===(t=e.course)||void 0===t?void 0:t.id)===P.id&&"approved"===e.status})))}),[P.id,null===(n=N.list)||void 0===n?void 0:n.data]),D=Object(a.useMemo)((()=>M.data||[]),[M.data]),F=Object(a.useMemo)((()=>{if(k.value&&(q||L)){return((null===D||void 0===D?void 0:D.filter((e=>1===e.status)))||[]).length}return 0}),[D,k.value,L,q]);return j.isMobile?Object(f.jsxs)(i.PricingCard,{mobile:!0,children:[Object(f.jsx)(b.Title,{level:5,as:"h5",children:P.title}),Object(f.jsxs)("div",{className:"pricing-card-footer",children:[Object(f.jsxs)("div",{children:[(null===(v=P.product)||void 0===v?void 0:v.price_old)&&Object(f.jsx)("div",{className:"pricing-card-discount",children:Object(f.jsxs)(b.Title,{level:5,as:"h5",children:[Object(g.a)(null===(O=P.product)||void 0===O?void 0:O.price_old,null===(y=P.product)||void 0===y?void 0:y.tax_rate)," ","z\u0142"]})}),Object(f.jsxs)(b.Title,{level:4,as:"h4",children:[Object(g.a)(null===(T=P.product)||void 0===T?void 0:T.price,null===(_=P.product)||void 0===_?void 0:_.tax_rate)," z\u0142"]})]}),Object(f.jsx)("div",{children:M.loaded?Object(f.jsx)(C,{onRequestAccess:S,course:P,userOwnThisCourse:q}):Object(f.jsx)(w.a,{})})]})]}):Object(f.jsxs)(i.PricingCard,{children:[Object(f.jsx)(b.Title,{level:4,as:"h2",children:P.title}),Object(f.jsx)(E.a,{price:null===(o=P.product)||void 0===o?void 0:o.price,taxRate:null===(x=P.product)||void 0===x?void 0:x.tax_rate,oldPrice:null===(h=P.product)||void 0===h?void 0:h.price_old}),M.loaded?Object(f.jsx)(C,{onRequestAccess:S,course:P,userOwnThisCourse:q}):Object(f.jsx)(w.a,{}),Object(f.jsxs)(r.Text,{size:"12",children:[" ",R("CoursePage.30Days")]}),Object(f.jsxs)("div",{className:"pricing-card-features",children:[P.duration&&Object(f.jsx)(r.IconText,{icon:Object(f.jsx)(c.g,{}),text:"".concat(R("CoursePage.Duration"),": ").concat(P.duration)}),P.lessons&&Object(f.jsx)(r.IconText,{icon:Object(f.jsx)(c.q,{}),text:"".concat(R("CoursePage.Lessons"),": ").concat(P.lessons.length)}),P.language&&Object(f.jsx)(r.IconText,{icon:Object(f.jsx)(c.q,{}),text:"".concat(R("CoursePage.Language"),": ").concat(P.language)}),P.level&&Object(f.jsx)(r.IconText,{icon:Object(f.jsx)(c.q,{}),text:"".concat(R("CoursePage.Level"),": ").concat(P.level)}),P.users_count?Object(f.jsx)(r.IconText,{icon:Object(f.jsx)(c.q,{}),text:"".concat(R("CoursePage.Students"),": ").concat(P.users_count)}):""]}),k.value?Object(f.jsxs)(r.CourseProgress,{progress:D&&(null===D||void 0===D?void 0:D.length)>0?F/D.length:0,icon:M.loaded?Object(f.jsx)(c.v,{}):Object(f.jsx)(w.a,{width:"22px",height:"22px"}),title:R("CoursePage.MyProgress"),children:[Object(f.jsxs)("strong",{style:{fontSize:14},children:[R("CoursePage.Finished")," ",F||0," ",R("CoursePage.Of")," ",D&&(null===D||void 0===D?void 0:D.length)>0?D.length:0," ",R("CoursePage.Lessons")]}),Object(f.jsx)("p",{style:{marginTop:9,marginBottom:0},children:R("CoursePage.FinishToGetCertificate")})]}):Object(f.jsxs)(r.Text,{size:"12",children:[Object(f.jsx)(u.c,{to:"/login?referrer=/courses/".concat(P.id),style:{marginRight:"4px",color:I.primaryColor},children:R("CoursePage.Login")}),R("CoursePage.ToSeeProgress")]})]})},P=n(683),S=n(270),I=n(34),k=n(813),N=n(241),R=n(704),A=n(191),M=n(746),q=n(755),L=n(759),D=n(855),F=n(765),B=n(766),z=n(768),U=n.n(z);var Q,G,H=e=>{let{topic:t}=e;const{apiUrl:n}=Object(a.useContext)(p.EscolaLMSContext),s=Object(a.useMemo)((()=>{var e,a;if(t&&t.topicable_type)switch(t.topicable_type){case A.TopicType.H5P:return Object(f.jsx)(B.H5Player,{h5pObject:null===t||void 0===t||null===(e=t.topicable)||void 0===e?void 0:e.content,hideActionButtons:!0});case A.TopicType.OEmbed:return Object(f.jsx)(M.OEmbedPlayer,{url:null===t||void 0===t||null===(a=t.topicable)||void 0===a?void 0:a.value});case A.TopicType.RichText:return Object(f.jsx)("div",{className:"container-xl",children:Object(f.jsx)(D.MarkdownPlayer,{children:t.topicable.value,onLoad:()=>console.log("MarkdownPlayer onLoad")})});case A.TopicType.Video:case A.TopicType.Audio:return Object(f.jsx)(q.AudioVideoPlayer,{url:t.topicable.url});case A.TopicType.Image:return Object(f.jsx)(F.ImagePlayer,{topic:t,onLoad:()=>console.log("")});case A.TopicType.Pdf:return Object(f.jsx)(L.PdfPlayer,{url:t.topicable.url,pageConfig:{width:550}});case A.TopicType.Scorm:return Object(f.jsx)("div",{className:"scorm-wrapper",children:Object(f.jsx)("iframe",{title:t.topicable.value,width:"100%",height:"400px",style:{border:"none"},src:"".concat(n,"/api/scorm/play/").concat(t.topicable.uuid)})});case R.API.TopicType.GiftQuiz:return Object(f.jsx)(U.a,{topic:t});default:return Object(f.jsx)("pre",{children:t.topicable_type})}return Object(f.jsx)(o.a.Fragment,{})}),[t,n]);return Object(f.jsx)("div",{className:"topic-preview-modal",children:Object(f.jsx)("div",{className:"topic-preview-modal-content",children:s})})},W=n(362),V=n(678),$=n(367),K=n(82),Y=n(187),J=n(874),X=n(684);const Z=m.default.div(Q||(Q=Object(h.a)(["\n  section {\n    margin-bottom: 45px;\n    &.with-border {\n      padding-bottom: 45px;\n      border-bottom: 1px solid\n        ",";\n    }\n    &.padding-right {\n      padding-right: 150px;\n      @media (max-width: 991px) {\n        padding-right: 70px;\n      }\n      @media (max-width: 768px) {\n        padding-right: 0;\n      }\n    }\n  }\n  .sidebar-col {\n    padding-bottom: 45px;\n  }\n  .course-main-info {\n    .image-wrapper {\n      @media (max-width: 991px) {\n        display: flex;\n        justify-content: center;\n        width: 100%;\n        margin-bottom: 35px;\n\n        img {\n          display: block;\n          margin: 0 auto;\n        }\n      }\n    }\n    .labels-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      column-gap: 20px;\n      margin: 35px 0;\n      @media (max-width: 991px) {\n        margin: 35px 0 0;\n      }\n      @media (max-width: 374px) {\n        flex-direction: column;\n        row-gap: 16px;\n      }\n      &--bottom {\n        column-gap: 45px;\n        margin-top: 120px;\n        margin-bottom: 0;\n        flex-wrap: wrap;\n        @media (max-width: 991px) {\n          column-gap: 0;\n          margin-top: 55px;\n        }\n        @media (max-width: 374px) {\n          flex-direction: row;\n        }\n        .single-label {\n          @media (max-width: 991px) {\n            flex: 0 0 50%;\n            max-width: 50%;\n            margin-bottom: 20px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    .ranking-row {\n      display: none !important;\n    }\n  }\n  .course-companies {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    @media (max-width: 768px) {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .companies-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      column-gap: 70px;\n      .single-company {\n        max-height: 85px;\n        max-width: 65px;\n      }\n      @media (max-width: 768px) {\n        column-gap: 0;\n        justify-content: space-between;\n        width: 100%;\n      }\n    }\n\n    p {\n      max-width: 220px;\n      margin-right: 50px;\n    }\n  }\n  .course-description {\n    padding: 50px 45px;\n    margin: 45px 0;\n    background-color: ",";\n    border-radius: ","px;\n    @media (max-width: 768px) {\n      padding: 20px;\n    }\n  }\n  .course-related-courses {\n    background-color: ",";\n    padding: 60px 0 90px;\n    .slick-dots {\n      top: -65px;\n      right: 80px;\n      @media (max-width: 575px) {\n        right: 0;\n      }\n    }\n    .content-container {\n      position: relative;\n      overflow: hidden;\n      &:first-of-type {\n        margin-bottom: 60px;\n        @media (max-width: 768px) {\n          margin-bottom: 40px;\n        }\n      }\n      h4 {\n        @media (max-width: 575px) {\n          padding-right: 50%;\n        }\n      }\n      .slider-wrapper {\n        a {\n          text-decoration: none !important;\n        }\n        @media (max-width: 575px) {\n          margin-left: -50px;\n\n          .image-section,\n          img {\n            max-height: 180px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    a {\n      text-decoration: none !important;\n    }\n  }\n  .sidebar-wrapper {\n    width: 100%;\n    left: 0;\n    position: ",";\n    top: ",";\n    bottom: ",";\n    z-index: 100;\n  }\n\n  .single-content {\n    box-sizing: border-box;\n  }\n"])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray5}),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray5}),(e=>{let{theme:t}=e;return t.cardRadius}),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray5}),j.isMobile?"fixed":"sticky",j.isMobile?"unset":"130px",j.isMobile?"0":"unset"),ee=Object(m.createGlobalStyle)(G||(G=Object(h.a)(["\n  .ReactModal__Overlay  {\n    z-index: 1500 !important;\n  }\n"])));var te=n(770),ne=n(671);const ae=()=>{const{t:e}=Object(l.a)(),{settings:t}=Object(a.useContext)(s.EscolaLMSContext);return Object(f.jsxs)("section",{className:"course-companies",children:[Object(f.jsx)(I.Text,{children:Object(f.jsx)("strong",{children:e("CoursePage.CompaniesTitle")})}),Object(f.jsx)("div",{className:"companies-row",children:t&&t.value.courseLogos&&Object.values(t.value.courseLogos).map(((e,n)=>{var a;return Object(f.jsx)("div",{className:"single-company",children:Object(f.jsx)(ne.ResponsiveImage,{path:(null===t||void 0===t||null===(a=t.value)||void 0===a?void 0:a.courseLogos["logo".concat(n+1)])||"",srcSizes:[100,200,300]})},n)}))})]})};var oe=n(368),se=n(672),re=n(706);const ie=e=>{let{courseData:t,questionnaires:n}=e;const[o,s]=Object(a.useState)([]),{fetchQuestionnaireStars:r}=Object(a.useContext)(p.EscolaLMSContext),{id:i}=Object(d.i)(),{t:u}=Object(l.a)(),m=()=>{(async e=>{const t=await Promise.all(e.map((async e=>{const t=await r(X.b.COURSE,Number(i),e);return t.success?t.data:null})));s(t)})((n||[]).reduce(((e,t)=>{const n=t.questions.find((e=>e.type===X.a.REVIEW&&e.public_answers));return n&&e.push(n.id),e}),[]))};return Object(a.useEffect)((()=>{n.length>0&&m()}),[n]),Object(f.jsxs)("section",{className:"course-main-info with-border",children:[Object(f.jsxs)(K.Row,{children:[Object(f.jsxs)(K.Col,{lg:7,children:[Object(f.jsx)(b.Title,{mobile:j.isMobile,level:2,children:t.title}),Object(f.jsxs)("div",{className:"labels-row",children:[Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{mobile:j.isMobile,title:"90%",icon:Object(f.jsx)(c.B,{}),children:u("CoursePage.Recommends")})}),Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{mobile:j.isMobile,title:u("CoursePage.Guarantee"),icon:Object(f.jsx)(c.x,{}),children:u("CoursePage.Satisfaction")})}),Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{mobile:j.isMobile,title:o.length>0?String(Object(re.a)(o)):u("CoursePage.NoRatings"),icon:Object(f.jsx)(c.A,{}),children:u("CoursePage.AvarageRating")})})]})]}),Object(f.jsx)(K.Col,{lg:4,children:t.image_path&&Object(f.jsx)("div",{className:"image-wrapper",children:Object(f.jsx)(ne.ResponsiveImage,{path:t.image_path,srcSizes:[395,790,1580]})})})]}),Object(f.jsxs)("div",{className:"labels-row labels-row--bottom",children:[t.categories&&t.categories.length>0&&Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{title:u("CoursePage.CourseCategory"),variant:"label",children:t.categories[0].name})}),t.level&&Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{title:u("CoursePage.Level"),variant:"label",children:t.level})}),t.active_from&&Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{title:u("CoursePage.StartDate"),variant:"label",children:t.active_from?Object(se.d)(t.active_from):"---"})}),t.duration&&Object(f.jsx)("div",{className:"single-label",children:Object(f.jsx)(oe.LabelListItem,{title:u("CoursePage.Duration"),variant:"label",children:t.duration})})]})]})};var ce,le,de;const ue=Object(m.default)(r.Stack)(ce||(ce=Object(h.a)(["\n  gap: 16px;\n  margin: 16px auto;\n"]))),je=Object(m.default)(b.Title)(le||(le=Object(h.a)(["\n  margin-bottom: 16px;\n"]))),be=m.default.div(de||(de=Object(h.a)(["\n  margin: 0 auto;\n"]))),me=()=>console.warn("INITIAL STATE"),pe=Object(a.createContext)({questionnaires:[],questionnaireId:null,setQuestionnaireId:me,questionId:null,setQuestionId:me,reviewId:void 0,courseId:void 0}),xe=e=>{var t;let{children:n,questionnaires:o}=e;const[s,r]=Object(a.useState)(null),[i,c]=Object(a.useState)(null),{id:l}=Object(d.i)(),u=null===o||void 0===o?void 0:o.at(0),j=null===u||void 0===u||null===(t=u.questions)||void 0===t?void 0:t.find((e=>{let{type:t}=e;return t===X.a.RATE})),b=Object(re.b)({questionnaires:o,questionnaireId:s,questionType:X.a.REVIEW});return Object(a.useEffect)((()=>{null!==u&&void 0!==u&&u.id&&!s&&r(u.id)}),[null===u||void 0===u?void 0:u.id,s]),Object(a.useEffect)((()=>{null!==j&&void 0!==j&&j.id&&!i&&c(j.id)}),[null===j||void 0===j?void 0:j.id,i]),Object(f.jsx)(pe.Provider,{value:{questionnaires:o,questionnaireId:s,setQuestionnaireId:r,questionId:i,setQuestionId:c,reviewId:b,courseId:Number(l)},children:n})},he=()=>{const e=Object(a.useContext)(pe);if(!pe)throw new Error("useCourseRatingContext must be used inside the CourseRatingProvider");return e};var ve=n(273);const ge={total:0,per_page:3,page:1,current_page:1},Oe=e=>{let{questionId:t,courseId:n}=e;const[o,s]=Object(a.useState)(void 0),[r,i]=Object(a.useState)(ge),[c,d]=Object(a.useState)(!0),{fetchQuestionnairesAnswers:u}=Object(a.useContext)(p.EscolaLMSContext),{t:j}=Object(l.a)(),b=Object(a.useCallback)((e=>{t&&n&&(d(!0),u(X.b.COURSE,Number(n),t,{per_page:r.per_page,page:e,order_by:"updated_at",order:"DESC"}).then((e=>{e.success&&(s(e.data),i((t=>({...t,total:e.meta.total,current_page:e.meta.current_page,page:e.meta.current_page}))))})).catch((e=>{ve.b.error(j("UnexpectedError")),console.log(e)})).finally((()=>d(!1))))}),[r,u,n,t,j]),m=Object(a.useCallback)((e=>{i((t=>({...t,current_page:e})))}),[]);return Object(a.useEffect)((()=>{r.page!==r.current_page&&b(r.current_page)}),[r.current_page,r.page,b]),Object(a.useEffect)((()=>{i(ge),b(ge.page)}),[t]),{answersMeta:r,questionnaireAnswers:o,loading:c,onPageChange:m}};var fe,ye=n(681);const Te=Object(m.default)(r.Row)(fe||(fe=Object(h.a)(["\n  justify-content: space-between;\n  padding: 16px;\n  background: ",";\n"])),(e=>{let{theme:t}=e;return t.white}));var Ce=n(670);const we=e=>{let{question:t}=e;const{user:n,note:a,updated_at:o,rate:s}=t,i=Object(m.useTheme)();return a?Object(f.jsxs)(Te,{children:[Object(f.jsxs)(r.Row,{$gap:16,children:[n.avatar?Object(f.jsx)(r.Avatar,{src:n.avatar,alt:""}):Object(f.jsx)(c.d,{mode:"dark"===i.mode?"light":"dark"}),Object(f.jsxs)(r.Stack,{$justifyContent:"space-between",children:[Object(f.jsx)(b.Title,{level:5,children:n.name}),Object(f.jsx)(I.Text,{children:a})]})]}),Object(f.jsxs)(r.Stack,{$gap:8,children:[Object(f.jsx)(I.Text,{noMargin:!0,children:Object(se.d)(o,Ce.a.defaultDateFormat)}),s>0&&Object(f.jsxs)(r.Row,{$gap:16,children:[Object(f.jsx)(c.A,{}),Object(f.jsx)(I.Text,{children:s})]})]})]}):Object(f.jsx)(f.Fragment,{})},Ee=e=>{let{courseId:t,questionId:n}=e;const{answersMeta:a,loading:o,onPageChange:s,questionnaireAnswers:i}=Oe({questionId:n,courseId:t});return Object(f.jsx)(ue,{children:o?Object(f.jsx)(r.Spin,{}):Object(f.jsxs)(f.Fragment,{children:[i&&i.map((e=>Object(f.jsx)(we,{question:e}))),a.total>a.per_page&&Object(f.jsx)(be,{children:Object(f.jsx)(ye.a,{total:a.total,perPage:a.per_page,currentPage:a.current_page,onPage:s})})]})})},_e=e=>{let{questionnaires:t}=e;const{questionnaireId:n,setQuestionnaireId:o,questionId:s,setQuestionId:i}=he(),{t:c}=Object(l.a)(),d=Object(m.useTheme)(),u=Object(a.useMemo)((()=>t.map((e=>({label:e.title,value:String(e.id)})))),[t]),j=Object(a.useMemo)((()=>{var e;return(null===t||void 0===t||null===(e=t.find((e=>e.id===n)))||void 0===e?void 0:e.questions.filter((e=>e.public_answers)).filter((e=>e.type!==X.a.REVIEW)).map((e=>({label:e.title,value:String(e.id)}))))||[]}),[n,t]);return Object(f.jsxs)(ue,{children:[u.length>1&&Object(f.jsx)(r.Dropdown,{onChange:e=>o(Number(e.value)),options:u,placeholder:c("CoursePage.SelectQuestionnaire"),backgroundColor:d.white,value:null===u||void 0===u?void 0:u.find((e=>{let{value:t}=e;return t===String(n)}))}),Object(f.jsx)(r.Dropdown,{onChange:e=>i(Number(e.value)),options:j,placeholder:c("CoursePage.SelectQuestion"),backgroundColor:d.white,value:null===j||void 0===j?void 0:j.find((e=>{let{value:t}=e;return t===String(s)}))})]})},Pe=Object(a.memo)((()=>{const{questionnaires:e,courseId:t,questionId:n}=he(),{t:a}=Object(l.a)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(je,{level:4,children:a("CoursePage.Questionnaires")}),e.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_e,{questionnaires:e}),t&&n&&Object(f.jsx)(Ee,{courseId:t,questionId:n})]}):Object(f.jsx)(I.Text,{children:a("CoursePage.CourseRatingsEmpty")})]})})),Se=e=>{let{courseId:t,questionId:n}=e;const{answersMeta:a,loading:o,onPageChange:s,questionnaireAnswers:i}=Oe({questionId:n,courseId:t});return Object(f.jsx)(ue,{children:o?Object(f.jsx)(r.Spin,{}):Object(f.jsxs)(f.Fragment,{children:[(i||[]).map((e=>Object(f.jsx)(we,{question:e}))),a.total>a.per_page&&Object(f.jsx)(be,{children:Object(f.jsx)(ye.a,{total:a.total,perPage:a.per_page,currentPage:a.current_page,onPage:s})})]})})},Ie=Object(a.memo)((()=>{const{courseId:e,reviewId:t}=he(),{t:n}=Object(l.a)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(je,{level:4,children:n("CoursePage.CourseRatingsTitle")}),e&&t&&Object(f.jsx)(Se,{courseId:e,questionId:t})]})})),ke=Object(a.memo)((e=>{let{questionnaires:t}=e;return Object(f.jsx)(xe,{questionnaires:t,children:Object(f.jsx)("section",{className:"course-ratings",children:Object(f.jsxs)(K.Row,{children:[Object(f.jsx)(K.Col,{children:Object(f.jsx)(Pe,{})}),Object(f.jsx)(K.Col,{children:Object(f.jsx)(Ie,{})})]})})})}));var Ne=n(691);const Re=()=>{const{t:e}=Object(l.a)(),{courses:t}=Object(a.useContext)(s.EscolaLMSContext),n={arrows:!1,infinite:!0,speed:500,slidesToShow:3,draggable:!1,slidesToScroll:3,responsive:[{breakpoint:768,settings:{draggable:!0,slidesToShow:2,slidesToScroll:2}},{breakpoint:576,settings:{slidesToShow:1,centerMode:!0,slidesToScroll:1}}]};return Object(f.jsx)("section",{className:"course-related-courses",children:Object(f.jsx)(Y.a,{children:Object(f.jsx)(K.Row,{children:Object(f.jsxs)(K.Col,{lg:9,children:[Object(f.jsxs)("div",{className:"content-container",children:[Object(f.jsx)(b.Title,{level:4,as:"h2",children:e("CoursePage.RelatedCoursesTitle")}),t&&t.list&&Object(f.jsx)(Ne.a,{courses:t.list.data,sliderSettings:n})]}),Object(f.jsxs)("div",{className:"content-container",children:[Object(f.jsx)(b.Title,{level:4,as:"h2",children:e("CoursePage.InterestTitle")}),t&&t.list&&Object(f.jsx)(Ne.a,{courses:t.list.data,sliderSettings:n})]})]})})})})};t.default=()=>{var e;const[t,n]=Object(a.useState)([]),[o,r]=Object(a.useState)(!1),[i,c]=Object(a.useState)(),{id:j}=Object(d.i)(),{t:m}=Object(l.a)(),{course:p,fetchCourse:x,fetchCourses:h,fetchCourseAccess:v,fetchQuestionnaires:g}=Object(a.useContext)(s.EscolaLMSContext),y=Object(a.useCallback)((()=>r(!1)),[]),T=Object(a.useCallback)((()=>r(!0)),[]),C=Object(a.useCallback)((()=>v({course_id:Number(j),current_page:1,per_page:1})),[j,v]);return Object(a.useEffect)((()=>{h({per_page:6}),j&&(x(Number(j)),C(),g(X.b.COURSE,Number(j)).then((e=>e.success&&n(e.data))))}),[j]),p.error?Object(f.jsx)("pre",{children:p.error.message}):Object(f.jsxs)(S.a,{metaTitle:(null===p||void 0===p||null===(e=p.value)||void 0===e?void 0:e.title)||"Loading",children:[p.loading&&Object(f.jsx)(P.a,{}),!p.loading&&p.value&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Z,{children:[Object(f.jsx)(Y.a,{children:Object(f.jsxs)(K.Row,{children:[Object(f.jsxs)(K.Col,{md:12,lg:9,children:[Object(f.jsx)(V.a,{items:[Object(f.jsx)(u.c,{to:O.a.home,children:m("Home")}),Object(f.jsx)(u.c,{to:O.a.courses,children:m("Courses")}),Object(f.jsx)(I.Text,{size:"12",children:p.value.title})]}),Object(f.jsx)(ie,{courseData:p.value,questionnaires:t}),Object(f.jsx)(ae,{}),p.value.summary&&""!==Object($.fixContentForMarkdown)(p.value.summary)&&Object(f.jsx)("section",{className:"course-description",children:Object(f.jsx)(N.MarkdownRenderer,{children:p.value.summary})}),p.value.author&&Object(f.jsx)(te.a,{courseData:p.value}),p.value.description&&""!==Object($.fixContentForMarkdown)(p.value.description)&&Object(f.jsxs)("section",{className:"course-description-short with-border padding-right",children:[Object(f.jsx)(b.Title,{level:4,children:m("CoursePage.CourseDescriptionTitle")}),Object(f.jsx)(N.MarkdownRenderer,{children:p.value.description})]}),p.value.lessons&&p.value.lessons.length>0&&Object(f.jsx)(k.CourseProgram,{lessons:p.value.lessons,onTopicClick:e=>c(e)}),Object(f.jsx)(ke,{questionnaires:t})]}),Object(f.jsx)(K.Col,{md:12,lg:3,className:"sidebar-col",children:Object(f.jsx)("div",{className:"sidebar-wrapper",children:p.value&&Object(f.jsx)(_,{course:p.value,onRequestAccess:T})})})]})}),Object(f.jsx)(Re,{})]}),Object(f.jsxs)(W.Modal,{onClose:()=>c(void 0),visible:!!i,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:600,bodyStyle:{maxHeight:"80vh",overflow:"auto"},children:[Object(f.jsx)(ee,{}),i&&Object(f.jsx)(H,{topic:i})]}),Object(f.jsxs)(W.Modal,{onClose:y,visible:o,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:600,children:[Object(f.jsx)(ee,{}),Object(f.jsx)(J.ModalCourseAccess,{course:p.value,onCancel:y,onSuccess:()=>{C(),y()}})]})]})]})}},670:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={defaultDateFormat:"dd/MM/yyyy",defaultDateTimeFormat:"dd/MM/yyyy, HH:mm",tutorPlaceholderPath:"/images/tutorblind.png"}},672:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return b}));var a=n(168),o=n(284),s=n(131),r=n(670);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a.defaultDateFormat;return e?Object(a.default)(new Date(e),t):""},c=(e,t,n)=>!(!e||!t)&&i(e,n)===i(t,n),l=e=>{const t=[];return e.forEach((e=>{const n=Object(a.default)(new Date(e),"MM/dd/yyyy"),o=t.find((e=>Object(a.default)(new Date(e.date),"MM/dd/yyyy")===n));o?o.times.push(new Date(e)):t.push({date:n,times:[new Date(e)]})})),t},d=e=>e.filter((e=>Object(o.default)(e,new Date))),u=e=>e.sort(((e,t)=>e.getTime()-t.getTime())),j=e=>{const t=Array.from(e.matchAll(/(\d+)\s+(day|hour|minute|second|week|year)s?/g)),n={};let a=!1;if(t.forEach((e=>{a=!0;const t=parseInt(e[1]),o=e[2];n[o]?n[o]+=t:n[o]=t})),!a){const t=/\d+/g;Array.from(e.matchAll(t)).forEach((e=>{const t=parseInt(e[0]);n.hour=t}))}return n},b=(e,t)=>Object(s.a)(new Date(e),{years:t.year||0,months:t.month||0,weeks:t.week||0,days:t.day||0,hours:t.hour||0,minutes:t.minute||0,seconds:t.second||0})},673:function(e,t,n){"use strict";var a,o=n(70),s=n(17),r=n(676),i=n(3);const c=s.default.div(a||(a=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ",";\n"])),(e=>{let{theme:t}=e;return"light"===t.mode?t.gray4:t.gray2}));t.a=()=>Object(i.jsx)(c,{children:Object(i.jsx)("img",{src:r.a,alt:""})})},674:function(e,t,n){"use strict";var a,o=n(70),s=n(29),r=n(17),i=n(3);const c=r.default.div(a||(a=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n"])));t.a=e=>{let{width:t,height:n}=e;const a=Object(r.useTheme)();return Object(i.jsx)(c,{style:{width:t||"100%",height:n||"100%"},children:Object(i.jsx)(s.Spin,{color:a.primaryColor})})}},675:function(e,t,n){"use strict";var a,o=n(70),s=n(1),r=n(17),i=n(274),c=n(3);const l=Object(r.default)("div")(a||(a=Object(o.a)(["\n  align-self: end;\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  .tags-menu-container {\n    position: relative;\n\n    .tags-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      display: flex;\n      flex-direction: column;\n      text-align: left;\n      gap: 4px;\n      list-style: none;\n      padding: 4px 0;\n      height: fit-content;\n      max-height: 230px;\n      overflow-y: scroll;\n      background-color: ",";\n      width: fit-content;\n      margin: 0;\n\n      li {\n        width: 100%;\n      }\n    }\n  }\n\n  .badge {\n    cursor: pointer;\n  }\n"])),(e=>e.theme.primaryColor));t.a=e=>{const{tags:t,onTagClick:n}=e,a=Object(r.useTheme)(),[o,d]=Object(s.useState)(!1),u=t?[...t].splice(0,2):[],j=t?[...t].splice(2):[],b=Object(s.useRef)(null),m=Object(s.useCallback)(((e,t)=>{n&&n(t)}),[n]);return Object(c.jsxs)(l,{ref:b,children:[u.map(((e,t)=>{var n;const o=null!==(n=e.title)&&void 0!==n?n:e;return Object(c.jsx)(i.Badge,{className:"badge",color:a.primaryColor,onClick:e=>m(e,o),children:o},t)})),j.length>0&&Object(c.jsxs)("div",{className:"tags-menu-container",onMouseLeave:()=>d(!1),children:[Object(c.jsx)(i.Badge,{className:"badge",color:a.primaryColor,onMouseOver:()=>d(!0),children:"+".concat(j.length)}),o&&Object(c.jsx)("ul",{className:"tags-menu",children:j.map(((e,t)=>{var n;const o=null!==(n=e.title)&&void 0!==n?n:e;return Object(c.jsx)("li",{children:Object(c.jsx)(i.Badge,{className:"badge",onClick:e=>m(e,o),color:a.primaryColor,children:o},t)})}))})]})]})}},676:function(e,t,n){"use strict";t.a=n.p+"static/media/image.ece42557.svg"},677:function(e,t,n){"use strict";var a,o=n(70),s=n(1),r=n(17),i=n(361),c=n(3);const l=Object(r.default)("div")(a||(a=Object(o.a)(["\n  .more-icon {\n    border: 1px solid;\n    border-radius: 50%;\n    padding: 4px;\n    margin-left: 12px;\n    font-size: 0.75em;\n  }\n\n  .category-name {\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .categories-menu-container {\n    position: relative;\n\n    .categories-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      list-style: none;\n      background-color: #f2f2f2;\n      margin: 4px 0;\n\n      li {\n        margin: 4px 0;\n      }\n    }\n  }\n"])));t.a=e=>{var t;const{categories:n,onCategoryClick:a}=e,[o,r]=Object(s.useState)(!1),d=Object(s.useRef)(null),u=n?[...n].splice(0,2):[],j=n?[...n].splice(2):[],b=Object(s.useCallback)((e=>{a&&a(e)}),[a]);return Object(c.jsxs)(l,{ref:d,isOpen:o,children:[Object(c.jsx)(i.BreadCrumbs,{hyphen:"/",items:null===u||void 0===u?void 0:u.map(((e,t)=>Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{className:"category-name",onClick:()=>b(e.id),"aria-hidden":!0,children:e.name},e.name+t),t===u.length-1&&j.length>0&&Object(c.jsx)("span",{className:"more-icon",onMouseOver:()=>r(!0),onFocus:()=>r(!0),"aria-hidden":!0,children:"+".concat(j.length)})]})))}),j.length>0&&Object(c.jsx)("div",{className:"categories-menu-container",onMouseLeave:()=>r(!1),children:o&&Object(c.jsx)("ul",{className:"categories-menu",style:{width:(null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect().width)||"auto"},children:Object(c.jsx)(i.BreadCrumbs,{hyphen:"/",items:null===j||void 0===j?void 0:j.map((e=>Object(c.jsx)("li",{className:"category-name",onClick:()=>b(e.id),"aria-hidden":!0,children:e.name})))})})})]})}},678:function(e,t,n){"use strict";var a,o=n(70),s=(n(1),n(361)),r=n(17),i=n(3);const c=r.default.div(a||(a=Object(o.a)(["\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ","!important;\n  }\n"])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray5:t.gray2}));t.a=e=>{let{items:t}=e;return Object(i.jsx)(c,{children:Object(i.jsx)(s.BreadCrumbs,{items:t})})}},679:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return p}));var a=n(365),o=n(670),s=n(672),r=n(154),i=n(139),c=n(140);const l=e=>{var t;return e?null===(t=e.items)||void 0===t?void 0:t.map((e=>e.name)).join(", "):""},d=e=>{var t,n,r,i,c,d,u,j,b,m,p,x,h,v,g,O,f,y,T,C,w,E,_,P,S,I,k,N,R,A,M,q,L,D,F,B,z,U,Q,G,H,W,V,$,K;const Y="".concat("Notifications.").concat(e.event);switch(e.event){case a.EventTypes.StationaryEventAuthorAssigned:return{translation:Y,object:{name:(null===(t=e.data.stationaryEvent)||void 0===t?void 0:t.name)||""}};case a.EventTypes.StationaryEventAuthorUnassigned:return{translation:Y,object:{name:(null===(n=e.data.stationaryEvent)||void 0===n?void 0:n.name)||""}};case a.EventTypes.StationaryEventAssigned:return{translation:Y,object:{name:(null===(r=e.data.stationaryEvent)||void 0===r?void 0:r.name)||""}};case a.EventTypes.StationaryEventUnassigned:return{translation:Y,object:{name:(null===(i=e.data.stationaryEvent)||void 0===i?void 0:i.name)||""}};case a.EventTypes.AbandonedCartEvent:case a.EventTypes.OrderCancelled:case a.EventTypes.OrderCreated:return{translation:Y};case a.EventTypes.OrderPaid:return{translation:Y,object:{name:l(e.data.order)||""}};case a.EventTypes.ProductableAttached:return{translation:Y,object:{name:(null===(c=e.data.productable)||void 0===c?void 0:c.name)||""}};case a.EventTypes.ProductableDetached:return{translation:Y,object:{name:(null===(d=e.data.productable)||void 0===d?void 0:d.name)||""}};case a.EventTypes.ProductAddedToCart:return{translation:Y,object:{name:(null===(u=e.data.product)||void 0===u?void 0:u.name)||""}};case a.EventTypes.ProductAttached:return{translation:Y,object:{name:(null===(j=e.data.product)||void 0===j?void 0:j.name)||""}};case a.EventTypes.ProductBought:return{translation:Y,object:{name:(null===(b=e.data.product)||void 0===b?void 0:b.name)||""}};case a.EventTypes.ProductDetached:return{translation:Y,object:{name:(null===(m=e.data.product)||void 0===m?void 0:m.name)||""}};case a.EventTypes.ProductRemovedFromCart:return{translation:Y,object:{name:(null===(p=e.data.product)||void 0===p?void 0:p.name)||""}};case a.EventTypes.PaymentCancelled:return{translation:Y,object:{amount:(null===(x=e.data.payment)||void 0===x?void 0:x.amount)||0,name:l(null===(h=e.data.payment)||void 0===h?void 0:h.payable)}};case a.EventTypes.PaymentFailed:return{translation:Y,object:{amount:(null===(v=e.data.payment)||void 0===v?void 0:v.amount)||0,name:l(null===(g=e.data.payment)||void 0===g?void 0:g.payable)}};case a.EventTypes.PaymentRegistered:return{translation:Y,object:{amount:(null===(O=e.data.payment)||void 0===O?void 0:O.amount)||0}};case a.EventTypes.PaymentSuccess:return{translation:Y,object:{amount:(null===(f=e.data.payment)||void 0===f?void 0:f.amount)||0,name:l(null===(y=e.data.payment)||void 0===y?void 0:y.payable)}};case a.EventTypes.CourseAccessFinished:return{translation:Y,object:{name:(null===(T=e.data.course)||void 0===T?void 0:T.title)||""}};case a.EventTypes.CourseAccessStarted:return{translation:Y,object:{name:(null===(C=e.data.course)||void 0===C?void 0:C.title)||""}};case a.EventTypes.CourseAssigned:return{translation:Y,object:{name:(null===(w=e.data.course)||void 0===w?void 0:w.title)||""}};case a.EventTypes.CourseDeadlineSoon:return{translation:Y,object:{name:(null===(E=e.data.course)||void 0===E?void 0:E.title)||"",date:Object(s.d)(null===(_=e.data.course)||void 0===_?void 0:_.active_to,o.a.defaultDateTimeFormat)}};case a.EventTypes.CoursedPublished:return{translation:Y,object:{name:(null===(P=e.data.course)||void 0===P?void 0:P.title)||""}};case a.EventTypes.CourseFinished:return{translation:Y,object:{name:(null===(S=e.data.course)||void 0===S?void 0:S.title)||""}};case a.EventTypes.CourseStarted:return{translation:Y,object:{name:(null===(I=e.data.course)||void 0===I?void 0:I.title)||""}};case a.EventTypes.CourseStatusChanged:return{translation:Y,object:{name:(null===(k=e.data.course)||void 0===k?void 0:k.title)||""}};case a.EventTypes.CourseTutorAssigned:return{translation:Y,object:{name:(null===(N=e.data.course)||void 0===N?void 0:N.title)||""}};case a.EventTypes.CourseTutorUnassigned:return{translation:Y,object:{name:(null===(R=e.data.course)||void 0===R?void 0:R.title)||""}};case a.EventTypes.CourseUnassigned:return{translation:Y,object:{name:(null===(A=e.data.course)||void 0===A?void 0:A.title)||""}};case a.EventTypes.TopicFinished:return{translation:Y,object:{name:(null===(M=e.data.course)||void 0===M?void 0:M.title)||""}};case a.EventTypes.TopicTypeChanged:return{translation:Y,object:{name:(null===(q=e.data.topicContent)||void 0===q?void 0:q.value)||""}};case a.EventTypes.ReportTerm:return{translation:Y,object:{name:(null===(L=e.data.consultationTerm)||void 0===L?void 0:L.consultation.name)||"",date:Object(s.d)(null===(D=e.data.consultationTerm)||void 0===D?void 0:D.executed_at,o.a.defaultDateTimeFormat),user:"".concat(null===(F=e.data.consultationTerm)||void 0===F||null===(B=F.user)||void 0===B?void 0:B.first_name," ").concat(null===(z=e.data.consultationTerm)||void 0===z||null===(U=z.user)||void 0===U?void 0:U.last_name)}};case a.EventTypes.ApprovedTerm:return{translation:Y,object:{date:Object(s.d)(null===(Q=e.data.consultationTerm)||void 0===Q?void 0:Q.executed_at)||""}};case a.EventTypes.ApprovedTermWithTrainer:return{translation:Y,object:{date:Object(s.d)(null===(G=e.data.consultationTerm)||void 0===G?void 0:G.executed_at)||""}};case a.EventTypes.ChangeTerm:return{translation:Y,object:{date:Object(s.d)(null===(H=e.data.consultationTerm)||void 0===H?void 0:H.executed_at)||""}};case a.EventTypes.RejectTerm:return{translation:Y,object:{date:Object(s.d)(null===(W=e.data.consultationTerm)||void 0===W?void 0:W.executed_at)||""}};case a.EventTypes.RejectTermWithTrainer:return{translation:Y,object:{date:Object(s.d)(null===(V=e.data.consultationTerm)||void 0===V?void 0:V.executed_at)||""}};case a.EventTypes.ReminderAboutTerm:return{translation:Y,object:{date:Object(s.d)(null===($=e.data.consultationTerm)||void 0===$?void 0:$.executed_at)||""}};case a.EventTypes.ReminderTrainerAboutTerm:return{translation:Y,object:{date:Object(s.d)(null===(K=e.data.consultationTerm)||void 0===K?void 0:K.executed_at)||""}};default:return{translation:Y}}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0;if(!e||"number"!==typeof e)return 0;const a=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return n?a/n:a},j=(e,t)=>{if(!e)return 0;return(t?u(e,2,100)*(1+t/100):u(e,2,100)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},b=(e,t)=>-1!==t.authors.findIndex((t=>t.id===e)),m=e=>{var t;const n=e?Object(r.a)(e.getTime(),(new Date).getTime()):null,a=e?Object(i.a)(e.getTime(),(new Date).getTime()):null,o=e?Object(c.a)(e.getTime(),(new Date).getTime()):null,s=null!==n&&0!==n?[n,"day"]:null;return null!==(t=null!==s&&void 0!==s?s:null!==a&&0!==a?[a,"hour"]:null)&&void 0!==t?t:null!==o&&0!==o?[o,"minute"]:null},p=new Intl.RelativeTimeFormat("pl",{style:"short"})},680:function(e,t,n){"use strict";var a,o=n(70),s=(n(1),n(17)),r=n(3);const i=s.default.div(a||(a=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n\n  a {\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .image-section {\n    .information-in-image {\n      .card {\n        .content:after,\n        .content:before {\n          box-shadow: inset 0px -6px 14px -8px rgba(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n  .course-section {\n    margin-top: 6px;\n  }\n\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n    justify-content: center;\n  }\n"])));t.a=e=>{let{children:t}=e;return Object(r.jsx)(i,{children:t})}},681:function(e,t,n){"use strict";var a,o=n(70),s=(n(1),n(17)),r=n(34),i=n(46),c=n(3);const l=s.default.div(a||(a=Object(o.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  a {\n    text-decoration: none !important;\n  }\n  .arrow {\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    margin: 0 10px;\n    &--left {\n      transform: rotate(45deg);\n    }\n    &--right {\n      transform: rotate(-135deg);\n    }\n  }\n  .number {\n    margin: 0 8px;\n    p {\n      opacity: 0.5;\n      &.current {\n        color: ","!important;\n        font-weight: 700;\n        opacity: 1;\n      }\n    }\n  }\n"])),(e=>{let{theme:t}=e;return t.primaryColor}),(e=>{let{theme:t}=e;return t.primaryColor})),d="LEFT",u="RIGHT",j=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e;const o=[];for(;a<=t;)o.push(a),a+=n;return o};t.a=e=>{let{currentPage:t,total:n,perPage:a,onPage:o,pageNeighbours:s=2}=e;const b=Math.ceil(n/a);return Object(c.jsx)(l,{children:(()=>{const e=2*s+3;if(b>e+2){const n=Math.max(2,t-s),a=Math.min(b-1,t+s);let o=j(n,a);const r=n>2,i=b-a>1,c=e-(o.length+1);switch(!0){case r&&!i:{const e=j(n-c,n-1);o=[d,...e,...o];break}case!r&&i:{const e=j(a+1,a+c);o=[...o,...e,u];break}default:o=[d,...o,u]}return[1,...o,b]}return t<b&&1===t?[...j(1,b),u]:t>1&&t!==b?[d,...j(1,b),u]:t>1&&t===b?[d,...j(1,b)]:j(1,b)})().map((e=>e===d?Object(c.jsx)("a",{href:"#!prev_page",className:"prev page-numbers",onClick:e=>{e.preventDefault(),o(t<=1?1:t-1)},children:Object(c.jsx)("div",{className:"arrow arrow--left"})}):e===u?Object(c.jsx)("a",{href:"#!next_page",className:"next page-numbers",onClick:e=>{e.preventDefault(),o(t===b?b:t+1)},children:Object(c.jsx)("div",{className:"arrow arrow--right"})}):Object(c.jsx)(i.c,{onClick:t=>{t.preventDefault(),o(Number(e))},to:"#!page-".concat(Number(e)),className:"number",children:Object(c.jsx)(r.Text,{className:Number(e)===t?"current":"",size:"16","aria-current":"page",children:Number(e)})},"#".concat(Number(e)))))})}},683:function(e,t,n){"use strict";var a,o=n(70),s=n(1),r=n(272),i=n(17),c=n(3);const l=i.default.div(a||(a=Object(o.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.dm__background:t.background}));t.a=()=>{const e=Object(i.useTheme)();return Object(s.useEffect)((()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="inherit"})),[]),Object(c.jsx)(l,{children:Object(c.jsx)(r.Spin,{color:e.primaryColor})})}},684:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));let a=function(e){return e.COURSE="course",e.WEBINAR="webinar",e}({}),o=function(e){return e.RATE="rate",e.TEXT="text",e.REVIEW="review",e}({})},689:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,o,s,r=n(1),i=n(46),c=n(17),l=n(34),d=n(70);const u=c.default.span(a||(a=Object(d.a)(["\n  color: ",";\n"])),(e=>e.color)),j=c.default.span(o||(o=Object(d.a)(["\n  color: ",";\n  ",":hover & {\n    display: none;\n  }\n"])),(e=>e.color),u),b=c.default.span(s||(s=Object(d.a)(["\n  color: ",";\n  display: none;\n  ",":hover & {\n    display: block;\n  }\n"])),(e=>e.color),u);var m=n(3);const p=e=>{let{text:t,length:n=30,tail:a="...",...o}=e;const s=Object(c.useTheme)(),r=t.slice(0,n),i=t.slice(n,t.length);return Object(m.jsx)(l.Text,{...o,children:Object(m.jsxs)(u,{color:s.primaryColor,children:[r,i&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{children:a}),Object(m.jsx)(b,{children:i})]})]})})},x=Object(r.memo)((e=>{let{linkTo:t,subtitle:n,textLength:a}=e;const o=Object(c.useTheme)();return n?Object(m.jsx)(i.c,{style:{color:o.primaryColor},to:t,children:Object(m.jsx)(p,{text:n,bold:!0,size:"12",length:a})}):null})),h=e=>{let{...t}=e;if(t.subtitle)return Object(m.jsx)(x,{...t})}},691:function(e,t,n){"use strict";var a,o=n(70),s=n(1),r=n(17),i=n(363),c=n(360),l=n(74),d=n(271),u=n(36),j=n(46),b=n(72),m=n(268),p=n(269),x=n(673),h=n(671),v=n(680),g=n(82),O=n(29),f=n(675),y=n(677),T=n(689),C=n(3);const w=r.default.div(a||(a=Object(o.a)(["\n  @media (max-width: 575px) {\n    margin-left: -59px;\n  }\n  .slick-slider {\n    @media (max-width: 575px) {\n      width: calc(100% + 15px);\n    }\n  }\n  .slick-dots {\n    top: -65px;\n    @media (max-width: 575px) {\n      top: -30px !important;\n      right: unset !important;\n      left: 60px !important;\n    }\n  }\n  .slick-track {\n    display: flex;\n    gap: 0 20px;\n    @media (max-width: 991px) {\n      padding-bottom: 20px;\n    }\n  }\n\n  .slick-slide {\n    height: inherit;\n\n    > div {\n      display: flex;\n      height: 100%;\n    }\n  }\n"]))),E={arrows:!1,infinite:!0,speed:500,draggable:!1,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1201,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{draggable:!0,slidesToShow:2,slidesToScroll:2}},{breakpoint:576,settings:{slidesToShow:1,centerMode:!0,slidesToScroll:1}}]};t.a=e=>{let{courses:t,sliderSettings:n=E}=e;const[a]=Object(s.useState)(!0),o=Object(u.g)(),{t:r}=Object(m.a)();return Object(C.jsx)(w,{children:t.length>=5||b.isMobile?Object(C.jsx)("div",{children:Object(C.jsx)(i.Slider,{settings:{...n,dots:a,onSwipe:()=>{const e=document.querySelectorAll('.slick-slide[aria-hidden="true"]');document.querySelectorAll('.slick-slide[aria-hidden="false"]').forEach((e=>e.removeAttribute("aria-modal"))),e.forEach((e=>e.setAttribute("aria-modal","true")))},onInit:()=>{document.querySelectorAll('.slick-slide[aria-hidden="true"]').forEach((e=>e.setAttribute("aria-modal","true")))}},dotsPosition:"top right",children:t&&t.map((e=>Object(C.jsx)(v.a,{children:Object(C.jsx)(c.CourseCard,{mobile:b.isMobile,id:e.id,image:Object(C.jsx)(j.c,{to:"/courses/".concat(e.id),children:e.image_path?Object(C.jsx)(h.ResponsiveImage,{path:e.image_path,alt:e.title,srcSizes:[300,600,900]}):Object(C.jsx)(x.a,{})}),tags:Object(C.jsx)(f.a,{tags:e.tags,onTagClick:e=>o.push("/courses/?tag=".concat(e))}),subtitle:Object(T.a)({subtitle:e.subtitle,linkTo:"/courses/".concat(e.id)}),title:Object(C.jsx)(j.c,{to:"/courses/".concat(e.id),className:"title",children:Object(C.jsx)(O.Title,{level:4,as:"h2",children:e.title})}),categories:Object(C.jsx)(y.a,{categories:e.categories,onCategoryClick:e=>{o.push("/courses/?categories[]=".concat(e))}}),actions:Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(l.Button,{mode:"secondary",onClick:()=>o.push("/courses/".concat(e.id)),children:r("StartNow")})}),footer:Object(C.jsxs)(C.Fragment,{children:[e.users_count&&e.users_count>0?Object(C.jsx)(d.IconText,{icon:Object(C.jsx)(p.C,{}),text:"".concat(e.users_count," ").concat(r("Students"))}):""," ",e.lessons_count&&e.lessons_count>0?Object(C.jsx)(d.IconText,{icon:Object(C.jsx)(p.w,{}),text:"".concat(e.lessons_count," ").concat(r("Lessons"))}):""]})})},e.id)))})}):Object(C.jsx)(g.Row,{style:{marginTop:"30px",rowGap:"60px"},children:t.map((e=>Object(C.jsx)(g.Col,{md:6,lg:3,children:Object(C.jsx)(v.a,{children:Object(C.jsx)(c.CourseCard,{mobile:b.isMobile,id:e.id,image:Object(C.jsx)(j.c,{to:"/courses/".concat(e.id),children:e.image_path?Object(C.jsx)(h.ResponsiveImage,{path:e.image_path,alt:e.title,srcSizes:[300,600,900]}):Object(C.jsx)(x.a,{})}),tags:Object(C.jsx)(f.a,{tags:e.tags,onTagClick:e=>o.push("/courses/?tag=".concat(e))}),subtitle:Object(T.a)({subtitle:e.subtitle,linkTo:"/courses/".concat(e.id)}),title:Object(C.jsx)(j.c,{to:"/courses/".concat(e.id),children:e.title}),categories:Object(C.jsx)(y.a,{categories:e.categories,onCategoryClick:e=>{o.push("/courses/?categories[]=".concat(e))}}),actions:Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(l.Button,{mode:"secondary",onClick:()=>o.push("/courses/".concat(e.id)),children:r("StartNow")})}),footer:Object(C.jsxs)(C.Fragment,{children:[e.users_count&&e.users_count>0?Object(C.jsx)(d.IconText,{icon:Object(C.jsx)(p.C,{}),text:"".concat(e.users_count," ").concat(r("Students"))}):""," ",e.lessons_count&&e.lessons_count>0?Object(C.jsx)(d.IconText,{icon:Object(C.jsx)(p.w,{}),text:"".concat(e.lessons_count," ").concat(r("Lessons"))}):""]})})},e.id)},e.id)))})})}},703:function(e,t,n){"use strict";var a,o=n(70),s=n(679),r=(n(1),n(92)),i=n(17),c=n(72),l=n(3);const d=i.default.div(a||(a=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .pricing-card-discount {\n    margin: 0;\n  }\n"])));t.a=e=>{let{price:t,taxRate:n,oldPrice:a}=e;return c.isMobile?Object(l.jsxs)(d,{children:[a&&Object(l.jsx)("div",{className:"pricing-card-discount",children:Object(l.jsxs)(r.Title,{level:5,as:"h5",children:[Object(s.a)(a,n)," z\u0142"]})}),Object(l.jsxs)(r.Title,{level:4,as:"h4",children:[Object(s.a)(t,n)," z\u0142"]})]}):Object(l.jsxs)(d,{children:[Object(l.jsxs)(r.Title,{level:3,as:"h3",children:[Object(s.a)(t,n)," z\u0142"]}),a&&Object(l.jsx)("div",{className:"pricing-card-discount",children:Object(l.jsxs)(r.Title,{level:5,as:"h5",children:[Object(s.a)(a,n)," z\u0142"]})})]})}},706:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(684),o=n(111),s=n(273);const r=async e=>{let{courseId:t,fetchQuestionnaires:n,fetchQuestionnaire:r,onSucces:i,onFinish:c}=e;try{const e=t&&await n(a.b.COURSE,t);if(e&&e.success){const n=await Promise.all(e.data.map((async e=>{const n=await(async e=>{let{courseId:t,questionnaireId:n,fetchQuestionnaire:r}=e;try{const e=t&&await r(a.b.COURSE,t,n);if(e&&e.success)return e.data.questions}catch(i){s.b.error(Object(o.t)("UnexpectedError")),console.log(i)}})({courseId:t,questionnaireId:e.id,fetchQuestionnaire:r}),i=e.questions.reduce(((e,t)=>{const a=null===n||void 0===n?void 0:n.find((e=>e.id===t.id)),o={...t,rate:null===a||void 0===a?void 0:a.rate,note:null===a||void 0===a?void 0:a.note};return null===o.rate&&null===o.note&&e.push(o),e}),[]);return{...e,questions:i.sort(((e,t)=>e.position-t.position))}})));i(n.filter((e=>!!e.questions.length)))}}catch(l){s.b.error(Object(o.t)("UnexpectedError")),console.log(l)}finally{c()}},i=e=>(e.reduce(((e,t)=>e+t.avg_rate),0)/e.length).toFixed(1),c=e=>{var t,n;let{questionnaires:a,questionnaireId:o,questionType:s}=e;return null===a||void 0===a||null===(t=a.find((e=>e.id===o)))||void 0===t||null===(n=t.questions.filter((e=>e.public_answers)).find((e=>e.type===s)))||void 0===n?void 0:n.id}},726:function(e,t){},760:function(e,t){},761:function(e,t){},762:function(e,t){},763:function(e,t){},764:function(e,t){},770:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(46),o=n(268),s=n(72),r=n(92),i=n(369),c=n(670),l=n(3);const d=window.REACT_APP_API_URL||e&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRYDSN:"https://1abed5b3f95e41be8e1c39c33af12506@sentry.etd24.pl/96",REACT_APP_ROUTING_TYPE:"HashRouter",REACT_APP_YBUG_ID:"01m1nn5zqystt1qq5n11",REACT_APP_PUBLIC_API_URL:"https://api-stage.escolalms.com"})&&"https://api-stage.escolalms.com",u=e=>{let{courseData:t}=e;const{t:n}=Object(o.a)();return Object(l.jsx)("section",{className:"course-tutor with-border padding-right",children:Object(l.jsx)(a.c,{to:"/tutors/".concat(t.author_id),children:Object(l.jsx)(i.Tutor,{mobile:s.isMobile,avatar:{alt:"".concat(t.author.first_name," ").concat(t.author.last_name),src:t.author.path_avatar?"".concat(d,"/api/images/img?path=").concat(t.author.path_avatar):c.a.tutorPlaceholderPath},rating:{ratingValue:4.1},title:Object(l.jsx)(r.Title,{as:"h3",level:4,className:"title",children:n("CoursePage.Teacher")}),fullName:"".concat(t.author.first_name," ").concat(t.author.last_name),coursesInfo:"8 Curses",description:t.author.bio})})})}}).call(this,n(110))}}]);
//# sourceMappingURL=23.dd54ff0b.chunk.js.map