{"version":3,"sources":["components/SingleCoursesTwo/CoursesDetailsSidebar/Buttons/index.tsx","components/SingleCoursesTwo/CoursesDetailsSidebar/index.tsx","hooks/useCourseProgress.ts","components/Course/CourseProgramPreview/index.tsx","pages/courses/course/styles.ts","pages/courses/course/Components/CourseCompanies/index.tsx","pages/courses/course/Components/CourseMainInfo/index.tsx","pages/courses/course/Components/CourseRatings/styles.ts","pages/courses/course/Components/CourseRatings/Provider/index.tsx","hooks/useCourseAnswers.ts","pages/courses/course/Components/CourseRatings/AnswerComponent/styles.ts","pages/courses/course/Components/CourseRatings/AnswerComponent/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/Content/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/Dropdowns/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/index.tsx","pages/courses/course/Components/CourseRatings/Reviews/Content/index.tsx","pages/courses/course/Components/CourseRatings/Reviews/index.tsx","pages/courses/course/Components/CourseRatings/index.tsx","pages/courses/course/Components/CourseRelated/index.tsx","pages/courses/course/index.tsx","config/app.ts","utils/date.ts","components/CourseImgPlaceholder/index.tsx","images/image.svg","components/ContentLoader/index.tsx","components/Tags/index.tsx","utils/index.ts","components/CategoriesBreadCrumbs/index.tsx","components/Breadcrumbs/index.tsx","components/CourseCardWrapper/index.tsx","components/Pagination/index.tsx","types/questionnaire.ts","components/Preloader/index.tsx","components/CoursesSlider/index.tsx","components/TextEllipsis/styles.tsx","components/TextEllipsis/index.tsx","components/Subtitle/index.tsx","utils/questionnaires.ts","components/ProductPrices/index.tsx","pages/courses/course/Components/CourseAuthor/index.tsx"],"names":["StyledButton","styled","Button","_templateObject","_taggedTemplateLiteral","CourseAccessButton","_ref","_courseAccess$list2","_course$product2","course","onRequestAccess","t","useTranslation","push","useHistory","_useContext","useContext","EscolaLMSContext","courseAccess","cart","addToCart","currentCourseAccess","useMemo","_courseAccess$list","_courseAccess$list$da","list","data","find","courseAccessItem","_courseAccessItem$cou","id","BuyButton","_jsx","loading","mode","onClick","_course$product","Number","product","then","children","status","_jsxs","_Fragment","disabled","concat","CourseDetailsSidebarButtons","_ref2","_course$product4","_user$value","userOwnThisCourse","_useContext2","user","courseInCart","_cart$value","value","items","some","item","_course$product3","product_id","userIsCourseAuthor","isPast","Date","active_to","Text","active_from","CoursesDetailsSidebar","_course$product5","_course$product6","_course$product7","_course$product8","_course$product9","_course$product10","theme","useTheme","useParams","_useCourseProgress","courseId","_useState","useState","undefined","loaded","_useState2","_slicedToArray","progress","setProgress","fetchCourseProgress","courseProgressDetails","useEffect","byId","_objectSpread","catch","useCourseProgress","owned","userCourseAccess","currentCourse","progressMap","filter","length","isMobile","PricingCard","mobile","Title","level","as","title","className","price_old","formatPrice","tax_rate","price","ContentLoader","ProductPrices","taxRate","oldPrice","size","duration","IconText","icon","IconCamera","text","lessons","IconSquares","language","users_count","CourseProgress","IconWin","width","height","style","fontSize","marginTop","marginBottom","Link","to","marginRight","color","primaryColor","CourseProgramPreview","topic","apiUrl","topicRender","_topic$topicable","_topic$topicable2","topicable_type","TopicType","H5P","H5Player","h5pObject","topicable","content","hideActionButtons","OEmbed","OEmbedPlayer","url","RichText","MarkdownPlayer","onLoad","console","log","Video","Audio","AudioVideoPlayer","Image","ImagePlayer","Pdf","PdfPlayer","pageConfig","Scorm","border","src","uuid","API","GiftQuiz","GiftQuizPlayer","React","Fragment","StyledCoursePage","div","gray1","gray5","_ref3","cardRadius","_ref4","ModalOverwriteGlobal","createGlobalStyle","_templateObject2","CourseCompanies","settings","courseLogos","Object","values","map","_","index","_settings$value","ResponsiveImage","path","srcSizes","CourseMainInfo","courseData","questionnaires","reviewQuestions","setReviewQuestions","fetchQuestionnaireStars","getReviewQuestionStar","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","reviewQuestionsId","fetchedObjects","wrap","_context2","prev","next","Promise","all","_callee","questionId","response","_context","QuestionnaireModelType","COURSE","sent","success","abrupt","stop","_x2","apply","arguments","_x","rewievQuestions","reduce","result","currentQuestion","matchingReviewQuestion","questions","type","QuestionType","REVIEW","public_answers","getReviewQuestions","Row","Col","lg","LabelListItem","ThumbUp","Medal","String","getAverageRate","StarOrange","image_path","categories","variant","name","formatDate","StyledStack","Stack","StyledTitle","PaginationContainerStyled","_templateObject3","initialFunction","warn","CourseRatingsContext","createContext","questionnaireId","setQuestionnaireId","setQuestionId","reviewId","CourseRatingProvider","_firstQuestionnaire$q","_useState3","_useState4","firstQuestionnaire","at","firstQuestion","RATE","getCourseQuestionnaireReviewQuestion","questionType","Provider","useCourseRatingContext","context","Error","initialState","total","per_page","page","current_page","useCourseAnswers","questionnaireAnswers","setQuestionnaireAnswers","answersMeta","setAnswersMeta","_useState5","_useState6","setLoading","fetchQuestionnairesAnswers","handleFetchQuestionnairesAnswers","useCallback","order_by","order","res","meta","error","toast","finally","onPageChange","Container","white","AnswerComponent","question","note","updated_at","rate","$gap","avatar","Avatar","alt","HeaderUser","$justifyContent","noMargin","APP_CONFIG","defaultDateFormat","CourseRatingsQuestionnairesContent","_useCourseAnswers","Spin","Pagination","perPage","currentPage","onPage","CourseRatingsQuestionnairesDropdowns","_useCourseRatingConte","questionnairesFilter","label","questionnaireQuestionFilter","_questionnaires$find","element","Dropdown","onChange","e","options","placeholder","backgroundColor","CourseRatingsQuestionnaires","memo","CourseRatingsReviewsContent","CourseRatingsReviews","CourseRatings","CourseRelated","courses","sliderSettings","arrows","infinite","speed","slidesToShow","draggable","slidesToScroll","responsive","breakpoint","centerMode","CoursesSlider","CoursePage","_course$value","setQuestionnaires","courseAccessModalVisible","setCourseAccessModalVisible","previewTopic","setPreviewTopic","fetchCourse","fetchCourses","fetchCourseAccess","fetchQuestionnaires","closeCourseAccessModal","openCourseAccessModal","refreshCurrentCourseAccess","course_id","message","Layout","metaTitle","Loader","md","Breadcrumbs","summary","fixContentForMarkdown","MarkdownRenderer","author","CourseAuthor","description","CourseProgram","onTopicClick","Modal","onClose","visible","animation","maskAnimation","destroyOnClose","bodyStyle","maxHeight","overflow","ModalCourseAccess","onCancel","onSuccess","defaultDateTimeFormat","tutorPlaceholderPath","date","dateFormat","format","isTwoDatesEqual","firstDate","secondDate","createArrayWithDateAndTimes","terms","newTerms","forEach","term","existingTerm","times","removePastDates","dates","isAfter","sortDates","sort","a","b","getTime","extractTimeUnits","input","matches","Array","from","matchAll","extractedUnits","foundMatch","match","parseInt","unit","addTimeToDate","time","add","years","year","months","month","weeks","week","days","day","hours","hour","minutes","minute","seconds","second","StyledPlaceholder","gray4","gray2","CourseImgPlaceholder","Placeholder","SpinnerWrapper","StyledDiv","props","Tags","tags","onTagClick","open","setOpen","firstTags","_toConsumableArray","splice","otherTags","parentRef","useRef","tagClick","ref","tag","_title","tagTitle","Badge","onMouseLeave","onMouseOver","otherTag","_title2","otherTagTitle","getOrderProductsNames","_order$items","join","getNotificationTranslationObject","notification","_notification$data$st","_notification$data$st2","_notification$data$st3","_notification$data$st4","_notification$data$pr","_notification$data$pr2","_notification$data$pr3","_notification$data$pr4","_notification$data$pr5","_notification$data$pr6","_notification$data$pr7","_notification$data$pa","_notification$data$pa2","_notification$data$pa3","_notification$data$pa4","_notification$data$pa5","_notification$data$pa6","_notification$data$pa7","_notification$data$co","_notification$data$co2","_notification$data$co3","_notification$data$co4","_notification$data$co5","_notification$data$co6","_notification$data$co7","_notification$data$co8","_notification$data$co9","_notification$data$co10","_notification$data$co11","_notification$data$co12","_notification$data$co13","_notification$data$to","_notification$data$co14","_notification$data$co15","_notification$data$co16","_notification$data$co17","_notification$data$co18","_notification$data$co19","_notification$data$co20","_notification$data$co21","_notification$data$co22","_notification$data$co23","_notification$data$co24","_notification$data$co25","_notification$data$co26","translation","event","EventTypes","StationaryEventAuthorAssigned","object","stationaryEvent","StationaryEventAuthorUnassigned","StationaryEventAssigned","StationaryEventUnassigned","AbandonedCartEvent","OrderCancelled","OrderCreated","OrderPaid","ProductableAttached","productable","ProductableDetached","ProductAddedToCart","ProductAttached","ProductBought","ProductDetached","ProductRemovedFromCart","PaymentCancelled","amount","payment","payable","PaymentFailed","PaymentRegistered","PaymentSuccess","CourseAccessFinished","CourseAccessStarted","CourseAssigned","CourseDeadlineSoon","CoursedPublished","CourseFinished","CourseStarted","CourseStatusChanged","CourseTutorAssigned","CourseTutorUnassigned","CourseUnassigned","TopicFinished","TopicTypeChanged","topicContent","ReportTerm","consultationTerm","consultation","executed_at","first_name","last_name","ApprovedTerm","ApprovedTermWithTrainer","ChangeTerm","RejectTerm","RejectTermWithTrainer","ReminderAboutTerm","ReminderTrainerAboutTerm","roundTo","val","places","divider","returnedValue","Math","round","pow","toLocaleString","minimumFractionDigits","maximumFractionDigits","userId","authors","findIndex","getFormattedDifferenceRelativeToNow","daysDifference","differenceInDays","hoursDifference","differenceInHours","minutesDifference","differenceInMinutes","timeDifferenceInDays","relativeTimeFormatter","Intl","RelativeTimeFormat","CategoriesBreadCrumbs","_parentRef$current","onCategoryClick","firstCategories","otherCategories","categoryClick","isOpen","BreadCrumbs","hyphen","category","onFocus","current","getBoundingClientRect","StyledBreadcrumbs","CardWrapper","CourseCardWrapper","StyledPagination","LEFT_PAGE","RIGHT_PAGE","range","step","i","_ref3$pageNeighbours","pageNeighbours","lastPage","ceil","totalNumbers","startPage","max","endPage","min","pages","hasLeftSpill","hasRightSpill","spillOffset","extraPages","fetchPageNumbers","href","preventDefault","StyledLoader","dm__background","background","Preloader","document","body","Content","defaultSliderSettings","_ref$sliderSettings","dots","history","Slider","onSwipe","allHiddenSlides","querySelectorAll","visibleSlide","removeAttribute","hiddenSlide","setAttribute","onInit","dotsPosition","CourseCard","image","tagName","subtitle","getSubtitleComponent","linkTo","actions","footer","UserIcon","lessons_count","LessonsIcon","rowGap","StyledSpan","span","StyledSpanTail","StyledSpanChild","TextEllipsis","_ref$length","_ref$tail","tail","_objectWithoutProperties","_excluded","firstText","slice","secondText","Subtitle","textLength","bold","assign","_objectDestructuringEmpty","getQuestionnaire","fetchQuestionnaire","t0","t1","getQuestionnaires","_callee3","onSucces","onFinish","questionnairesWithCombinedQuestions","_context3","_ref5","combinedQuestions","matchingElement","updatedElement","position","_x3","finish","sum","avg_rate","toFixed","_ref6","_questionnaires$find$","Prices","API_URL","window","REACT_APP_API_URL","process","author_id","Tutor","path_avatar","rating","ratingValue","fullName","coursesInfo","bio"],"mappings":"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","file":"static/js/10.f7d886f5.chunk.js","sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport isPast from \"date-fns/isPast\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Text } from \"@escolalms/components\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { userIsCourseAuthor } from \"@/utils/index\";\n\ninterface CourseAccessButtonProps {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst StyledButton = styled(Button)`\n  display: block;\n  margin-bottom: 10px;\n`;\n\nconst CourseAccessButton: React.FC<CourseAccessButtonProps> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const { courseAccess, cart, addToCart } = useContext(EscolaLMSContext);\n\n  const currentCourseAccess = useMemo(\n    () =>\n      courseAccess.list?.data?.find(\n        (courseAccessItem) => courseAccessItem?.course?.id === course.id\n      ),\n    [courseAccess.list?.data, course.id]\n  );\n\n  const BuyButton = useMemo(\n    () => (\n      <Button\n        loading={cart.loading}\n        mode=\"secondary\"\n        onClick={() =>\n          addToCart(Number(course.product?.id)).then(() => push(\"/cart\"))\n        }\n      >\n        {t(\"Buy Course\")}\n      </Button>\n    ),\n    [addToCart, cart.loading, course.product?.id, push, t]\n  );\n\n  if (!currentCourseAccess) {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" onClick={onRequestAccess}>\n          {t(\"CourseAccess.RequestAccess\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status !== \"approved\") {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" disabled>\n          {t(\"CourseAccess.Pending\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status === \"approved\") {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  return BuyButton;\n};\n\ntype Props = {\n  course: API.Course;\n  userOwnThisCourse: boolean | undefined;\n  onRequestAccess: () => void;\n};\n\nconst CourseDetailsSidebarButtons: React.FC<Props> = ({\n  course,\n  userOwnThisCourse,\n  onRequestAccess,\n}) => {\n  const { cart, user } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { push } = useHistory();\n\n  const courseInCart = useMemo(() => {\n    return cart?.value?.items.some(\n      (item: any) => Number(item.product_id) === Number(course.product?.id)\n    );\n  }, [course.product?.id, cart]);\n\n  if (userIsCourseAuthor(Number(user.value?.id), course)) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  if (isPast(new Date(course.active_to || \"\"))) {\n    return <Text>{t(\"CoursePage.IsFinished\")}</Text>;\n  }\n  if (courseInCart) {\n    return (\n      <Button mode=\"secondary\" onClick={() => push(\"/cart\")}>\n        {t(\"CoursePage.GoToCheckout\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse && isPast(new Date(course.active_from || \"\"))) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse) {\n    return <Text>{t(\"CoursePage.NotStarted\")}</Text>;\n  }\n  if (user.value && course.product) {\n    return (\n      <CourseAccessButton course={course} onRequestAccess={onRequestAccess} />\n    );\n  }\n  if (!course.product) {\n    return <Text>{t(\"CoursePage.UnavailableCourse\")}</Text>;\n  }\n  return (\n    <Button\n      onClick={() => push(`/login?referrer=/courses/${course.id}`)}\n      mode=\"secondary\"\n    >\n      {t(\"Buy Course\")}\n    </Button>\n  );\n};\n\nexport default CourseDetailsSidebarButtons;\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { IconText, Text, CourseProgress } from \"@escolalms/components\";\nimport { PricingCard } from \"@escolalms/components/lib/components/atoms/PricingCard/PricingCard\";\nimport { IconSquares, IconWin, IconCamera } from \"../../../icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { useTheme } from \"styled-components\";\nimport { useCourseProgress } from \"../../../hooks/useCourseProgress\";\nimport CourseDetailsSidebarButtons from \"./Buttons\";\nimport { formatPrice } from \"@/utils/index\";\nimport ContentLoader from \"@/components/ContentLoader\";\nimport ProductPrices from \"@/components/ProductPrices\";\n\ninterface Props {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst CoursesDetailsSidebar: React.FC<Props> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const theme = useTheme();\n  const { user, courseAccess } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { id } = useParams<{ id: string }>();\n  const { progress } = useCourseProgress(Number(id));\n\n  const userOwnThisCourse = useMemo(\n    () => course?.product?.owned,\n    [course?.product?.owned]\n  );\n  const userCourseAccess = useMemo(\n    () =>\n      !!courseAccess.list?.data?.find(\n        (courseAccessItem) =>\n          courseAccessItem?.course?.id === course.id &&\n          courseAccessItem.status === \"approved\"\n      ),\n    [course.id, courseAccess.list?.data]\n  );\n\n  const currentCourse = useMemo(() => progress.data || [], [progress.data]);\n\n  const progressMap = useMemo(() => {\n    if (user.value && (userOwnThisCourse || userCourseAccess)) {\n      const finishedLessons =\n        currentCourse?.filter((item) => item.status === 1) || [];\n      return finishedLessons.length;\n    } else {\n      return 0;\n    }\n  }, [currentCourse, user.value, userCourseAccess, userOwnThisCourse]);\n\n  return !isMobile ? (\n    <PricingCard>\n      <Title level={4} as=\"h2\">\n        {course.title}\n      </Title>\n      <ProductPrices\n        price={course.product?.price}\n        taxRate={course.product?.tax_rate}\n        oldPrice={course.product?.price_old}\n      />\n      {progress.loaded ? (\n        <CourseDetailsSidebarButtons\n          onRequestAccess={onRequestAccess}\n          course={course}\n          userOwnThisCourse={userOwnThisCourse}\n        />\n      ) : (\n        <ContentLoader />\n      )}\n      <Text size={\"12\"}> {t(\"CoursePage.30Days\")}</Text>\n      <div className=\"pricing-card-features\">\n        {course.duration && (\n          <IconText\n            icon={<IconCamera />}\n            text={`${t(\"CoursePage.Duration\")}: ${course.duration}`}\n          />\n        )}\n        {course.lessons && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Lessons\")}: ${course.lessons.length}`}\n          />\n        )}\n        {course.language && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Language\")}: ${course.language}`}\n          />\n        )}\n        {course.level && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Level\")}: ${course.level}`}\n          />\n        )}\n        {course.users_count ? (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Students\")}: ${course.users_count}`}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n      {!user.value ? (\n        <Text size=\"12\">\n          <Link\n            to={`/login?referrer=/courses/${course.id}`}\n            style={{\n              marginRight: \"4px\",\n              color: theme.primaryColor,\n            }}\n          >\n            {t<string>(\"CoursePage.Login\")}\n          </Link>\n          {t(\"CoursePage.ToSeeProgress\")}\n        </Text>\n      ) : (\n        <CourseProgress\n          progress={\n            currentCourse && currentCourse?.length > 0\n              ? progressMap / currentCourse.length\n              : 0\n          }\n          icon={\n            progress.loaded ? (\n              <IconWin />\n            ) : (\n              <ContentLoader width=\"22px\" height=\"22px\" />\n            )\n          }\n          title={t(\"CoursePage.MyProgress\")}\n        >\n          <strong style={{ fontSize: 14 }}>\n            {t<string>(\"CoursePage.Finished\")} {progressMap || 0}{\" \"}\n            {t<string>(\"CoursePage.Of\")}{\" \"}\n            {currentCourse && currentCourse?.length > 0\n              ? currentCourse.length\n              : 0}{\" \"}\n            {t<string>(\"CoursePage.Lessons\")}\n          </strong>\n          <p style={{ marginTop: 9, marginBottom: 0 }}>\n            {t<string>(\"CoursePage.FinishToGetCertificate\")}\n          </p>\n        </CourseProgress>\n      )}\n    </PricingCard>\n  ) : (\n    <PricingCard mobile>\n      <Title level={5} as={\"h5\"}>\n        {course.title}\n      </Title>\n      <div className=\"pricing-card-footer\">\n        <div>\n          {course.product?.price_old && (\n            <div className=\"pricing-card-discount\">\n              <Title level={5} as={\"h5\"}>\n                {formatPrice(\n                  course.product?.price_old,\n                  course.product?.tax_rate\n                )}{\" \"}\n                z\n              </Title>\n            </div>\n          )}\n          <Title level={4} as={\"h4\"}>\n            {formatPrice(course.product?.price, course.product?.tax_rate)} z\n          </Title>\n        </div>\n        <div>\n          {progress.loaded ? (\n            <CourseDetailsSidebarButtons\n              onRequestAccess={onRequestAccess}\n              course={course}\n              userOwnThisCourse={userOwnThisCourse}\n            />\n          ) : (\n            <ContentLoader />\n          )}\n        </div>\n      </div>\n    </PricingCard>\n  );\n};\n\nexport default CoursesDetailsSidebar;\n","import { useContext, useEffect, useState } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { API } from \"@escolalms/sdk/lib\";\n\ntype PogressState = {\n  data: API.CourseProgressDetails | undefined;\n  loaded: boolean;\n  loading: boolean;\n};\n\nexport const useCourseProgress = (courseId: number) => {\n  const [progress, setProgress] = useState<PogressState>({\n    data: undefined,\n    loaded: false,\n    loading: false,\n  });\n  const { user, fetchCourseProgress, courseProgressDetails } =\n    useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (\n      courseProgressDetails.byId &&\n      courseProgressDetails.byId[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      setProgress({\n        ...progress,\n        data: courseProgressDetails.byId[Number(courseId)].value,\n        loaded: true,\n        loading: false,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId, courseProgressDetails]);\n\n  useEffect(() => {\n    if (user?.value && !user.loading && !progress.loading && !progress.loaded) {\n      setProgress({\n        ...progress,\n        loading: true,\n      });\n      fetchCourseProgress(courseId).catch(() =>\n        setProgress({\n          ...progress,\n          loaded: true,\n          loading: false,\n        })\n      );\n    } else if (!progress.loaded) {\n      setProgress({\n        ...progress,\n        loaded: true,\n      });\n    }\n  }, [user, progress, fetchCourseProgress, courseId]);\n\n  return {\n    progress,\n  };\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { TopicType } from \"@escolalms/sdk/lib/services/courses\";\nimport { OEmbedPlayer } from \"@escolalms/components/lib/components/players/OEmbedPlayer/OEmbedPlayer\";\nimport { AudioVideoPlayer } from \"@escolalms/components/lib/components/players/AudioVideoPlayer/AudioVideoPlayer\";\nimport { PdfPlayer } from \"@escolalms/components/lib/components/players/PdfPlayer/PdfPlayer\";\nimport { MarkdownPlayer } from \"@escolalms/components/lib/components/players/MarkdownPlayer/MarkdownPlayer\";\nimport { ImagePlayer } from \"@escolalms/components/lib/components/players/ImagePlayer/ImagePlayer\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { H5Player } from \"@escolalms/components/lib/components/players/H5Player/H5Player\";\nimport GiftQuizPlayer from \"@escolalms/components/lib/components/quizzes\";\n\nexport const CourseProgramPreview: React.FC<{\n  topic: API.Topic;\n}> = ({ topic }) => {\n  const { apiUrl } = useContext(EscolaLMSContext);\n  const topicRender = useMemo(() => {\n    if (topic && topic.topicable_type) {\n      switch (topic.topicable_type) {\n        case TopicType.H5P:\n          // @ts-ignore\n          return (\n            <H5Player\n              //@ts-ignore\n              h5pObject={topic?.topicable?.content as API.H5PObject}\n              hideActionButtons\n            />\n          );\n        case TopicType.OEmbed:\n          return <OEmbedPlayer url={topic?.topicable?.value} />;\n        case TopicType.RichText:\n          return (\n            <div className=\"container-xl\">\n              <MarkdownPlayer\n                children={topic.topicable.value}\n                onLoad={() => console.log(\"MarkdownPlayer onLoad\")}\n              />\n            </div>\n          );\n        case TopicType.Video:\n        case TopicType.Audio:\n          return <AudioVideoPlayer url={topic.topicable.url} />;\n        case TopicType.Image:\n          return <ImagePlayer topic={topic} onLoad={() => console.log(\"\")} />;\n        case TopicType.Pdf:\n          return (\n            <PdfPlayer\n              url={topic.topicable.url}\n              pageConfig={{\n                width: 550,\n              }}\n            />\n          );\n        case TopicType.Scorm:\n          return (\n            <div className=\"scorm-wrapper\">\n              <iframe\n                title={topic.topicable.value}\n                width=\"100%\"\n                height=\"400px\"\n                style={{\n                  border: \"none\",\n                }}\n                src={`${apiUrl}/api/scorm/play/${topic.topicable.uuid}`}\n              />\n            </div>\n          );\n        case API.TopicType.GiftQuiz:\n          return <GiftQuizPlayer topic={topic} />;\n        default:\n          return <pre>{topic.topicable_type}</pre>;\n      }\n    }\n    return <React.Fragment />;\n  }, [topic, apiUrl]);\n\n  return (\n    <div className=\"topic-preview-modal\">\n      <div className=\"topic-preview-modal-content\">{topicRender}</div>\n    </div>\n  );\n};\n\nexport default CourseProgramPreview;\n","import styled, { createGlobalStyle } from \"styled-components\";\nimport { isMobile } from \"react-device-detect\";\n\nexport const StyledCoursePage = styled.div`\n  section {\n    margin-bottom: 45px;\n    &.with-border {\n      padding-bottom: 45px;\n      border-bottom: 1px solid\n        ${({ theme }) => (theme.mode === \"dark\" ? theme.gray1 : theme.gray5)};\n    }\n    &.padding-right {\n      padding-right: 150px;\n      @media (max-width: 991px) {\n        padding-right: 70px;\n      }\n      @media (max-width: 768px) {\n        padding-right: 0;\n      }\n    }\n  }\n  .sidebar-col {\n    padding-bottom: 45px;\n  }\n  .course-main-info {\n    .image-wrapper {\n      @media (max-width: 991px) {\n        display: flex;\n        justify-content: center;\n        width: 100%;\n        margin-bottom: 35px;\n\n        img {\n          display: block;\n          margin: 0 auto;\n        }\n      }\n    }\n    .labels-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      column-gap: 20px;\n      margin: 35px 0;\n      @media (max-width: 991px) {\n        margin: 35px 0 0;\n      }\n      @media (max-width: 374px) {\n        flex-direction: column;\n        row-gap: 16px;\n      }\n      &--bottom {\n        column-gap: 45px;\n        margin-top: 120px;\n        margin-bottom: 0;\n        flex-wrap: wrap;\n        @media (max-width: 991px) {\n          column-gap: 0;\n          margin-top: 55px;\n        }\n        @media (max-width: 374px) {\n          flex-direction: row;\n        }\n        .single-label {\n          @media (max-width: 991px) {\n            flex: 0 0 50%;\n            max-width: 50%;\n            margin-bottom: 20px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    .ranking-row {\n      display: none !important;\n    }\n  }\n  .course-companies {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    @media (max-width: 768px) {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .companies-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      column-gap: 70px;\n      .single-company {\n        max-height: 85px;\n        max-width: 65px;\n      }\n      @media (max-width: 768px) {\n        column-gap: 0;\n        justify-content: space-between;\n        width: 100%;\n      }\n    }\n\n    p {\n      max-width: 220px;\n      margin-right: 50px;\n    }\n  }\n  .course-description {\n    padding: 50px 45px;\n    margin: 45px 0;\n    background-color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray1 : theme.gray5};\n    border-radius: ${({ theme }) => theme.cardRadius}px;\n    @media (max-width: 768px) {\n      padding: 20px;\n    }\n  }\n  .course-related-courses {\n    background-color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray1 : theme.gray5};\n    padding: 60px 0 90px;\n    .slick-dots {\n      top: -65px;\n      right: 80px;\n      @media (max-width: 575px) {\n        right: 0;\n      }\n    }\n    .content-container {\n      position: relative;\n      overflow: hidden;\n      &:first-of-type {\n        margin-bottom: 60px;\n        @media (max-width: 768px) {\n          margin-bottom: 40px;\n        }\n      }\n      h4 {\n        @media (max-width: 575px) {\n          padding-right: 50%;\n        }\n      }\n      .slider-wrapper {\n        a {\n          text-decoration: none !important;\n        }\n        @media (max-width: 575px) {\n          margin-left: -50px;\n\n          .image-section,\n          img {\n            max-height: 180px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    a {\n      text-decoration: none !important;\n    }\n  }\n  .sidebar-wrapper {\n    width: 100%;\n    left: 0;\n    position: ${isMobile ? \"fixed\" : \"sticky\"};\n    top: ${isMobile ? \"unset\" : \"130px\"};\n    bottom: ${isMobile ? \"0\" : \"unset\"};\n    z-index: 100;\n  }\n\n  .single-content {\n    box-sizing: border-box;\n  }\n`;\n\nexport const ModalOverwriteGlobal = createGlobalStyle`\n  .ReactModal__Overlay  {\n    z-index: 1500 !important;\n  }\n`;\n","import { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\n\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { useContext } from \"react\";\n\nexport const CourseCompanies = () => {\n  const { t } = useTranslation();\n\n  const { settings } = useContext(EscolaLMSContext);\n\n  return (\n    <section className=\"course-companies\">\n      <Text>\n        <strong>{t(\"CoursePage.CompaniesTitle\")}</strong>\n      </Text>\n      <div className=\"companies-row\">\n        {settings &&\n          settings.value.courseLogos &&\n          Object.values(settings.value.courseLogos).map((_, index) => (\n            <div className=\"single-company\" key={index}>\n              <ResponsiveImage\n                path={settings?.value?.courseLogos[`logo${index + 1}`] || \"\"}\n                srcSizes={[100, 200, 300]}\n              />\n            </div>\n          ))}\n      </div>\n    </section>\n  );\n};\n","import { FC, useContext, useEffect, useState } from \"react\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { LabelListItem } from \"@escolalms/components/lib/components/molecules/LabelListItem/LabelListItem\";\nimport { Medal, StarOrange, ThumbUp } from \"../../../../../icons\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Col, Row } from \"react-grid-system\";\nimport { formatDate } from \"@/utils/date\";\n\nimport { getAverageRate } from \"@/utils/questionnaires\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { useParams } from \"react-router-dom\";\n\ninterface CourseMainInfoProps {\n  courseData: API.Course;\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseMainInfo: FC<CourseMainInfoProps> = ({\n  courseData,\n  questionnaires,\n}) => {\n  const [reviewQuestions, setReviewQuestions] = useState<\n    API.QuestionnaireStars[]\n  >([]);\n  const { fetchQuestionnaireStars } = useContext(EscolaLMSContext);\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n\n  const getReviewQuestionStar = async (reviewQuestionsId: number[]) => {\n    const fetchedObjects = await Promise.all(\n      reviewQuestionsId.map(async (questionId) => {\n        const response = await fetchQuestionnaireStars(\n          QuestionnaireModelType.COURSE,\n          Number(id),\n          questionId\n        );\n        if (response.success) {\n          return response.data;\n        }\n        return null;\n      })\n    );\n    setReviewQuestions(fetchedObjects as API.QuestionnaireStars[]);\n  };\n\n  const getReviewQuestions = () => {\n    const rewievQuestions = (questionnaires || []).reduce(\n      (result: number[], currentQuestion) => {\n        const matchingReviewQuestion = currentQuestion.questions.find(\n          (currentQuestion) =>\n            currentQuestion.type === QuestionType.REVIEW &&\n            currentQuestion.public_answers\n        );\n        matchingReviewQuestion && result.push(matchingReviewQuestion.id);\n        return result;\n      },\n      []\n    );\n    getReviewQuestionStar(rewievQuestions);\n  };\n  useEffect(() => {\n    questionnaires.length > 0 && getReviewQuestions();\n  }, [questionnaires]);\n\n  return (\n    <section className=\"course-main-info with-border\">\n      <Row>\n        <Col lg={7}>\n          <Title mobile={isMobile} level={2}>\n            {courseData.title}\n          </Title>\n          <div className=\"labels-row\">\n            <div className=\"single-label\">\n              <LabelListItem mobile={isMobile} title=\"90%\" icon={<ThumbUp />}>\n                {t(\"CoursePage.Recommends\")}\n              </LabelListItem>\n            </div>\n            <div className=\"single-label\">\n              <LabelListItem\n                mobile={isMobile}\n                title={t<string>(\"CoursePage.Guarantee\")}\n                icon={<Medal />}\n              >\n                {t(\"CoursePage.Satisfaction\")}\n              </LabelListItem>\n            </div>\n            <div className=\"single-label\">\n              <LabelListItem\n                mobile={isMobile}\n                title={\n                  reviewQuestions.length > 0\n                    ? String(getAverageRate(reviewQuestions))\n                    : t(\"CoursePage.NoRatings\")\n                }\n                icon={<StarOrange />}\n              >\n                {t(\"CoursePage.AvarageRating\")}\n              </LabelListItem>\n            </div>\n          </div>\n        </Col>\n        <Col lg={4}>\n          {courseData.image_path && (\n            <div className=\"image-wrapper\">\n              <ResponsiveImage\n                path={courseData.image_path}\n                srcSizes={[790 * 0.5, 790, 2 * 790]}\n              />\n            </div>\n          )}\n        </Col>\n      </Row>\n      <div className=\"labels-row labels-row--bottom\">\n        {courseData.categories && courseData.categories.length > 0 && (\n          <div className=\"single-label\">\n            <LabelListItem\n              title={t(\"CoursePage.CourseCategory\")}\n              variant={\"label\"}\n            >\n              {courseData.categories[0].name}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.level && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.Level\")} variant={\"label\"}>\n              {courseData.level}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.active_from && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.StartDate\")} variant={\"label\"}>\n              {courseData.active_from\n                ? formatDate(courseData.active_from)\n                : \"---\"}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.duration && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.Duration\")} variant={\"label\"}>\n              {courseData.duration}\n            </LabelListItem>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n","import { Stack } from \"@escolalms/components\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport styled from \"styled-components\";\n\nexport const StyledStack = styled(Stack)`\n  gap: 16px;\n  margin: 16px auto;\n`;\n\nexport const StyledTitle = styled(Title)`\n  margin-bottom: 16px;\n`;\n\nexport const PaginationContainerStyled = styled.div`\n  margin: 0 auto;\n`;\n","import { API } from \"@escolalms/sdk/lib\";\nimport {\n  PropsWithChildren,\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getCourseQuestionnaireReviewQuestion } from \"@/utils/questionnaires\";\nimport { QuestionType } from \"@/types/questionnaire\";\n\nconst initialFunction = () => console.warn(\"INITIAL STATE\");\n\ntype CourseRatingsContextProps = {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  setQuestionnaireId: (state: number | null) => void;\n  questionId: number | null;\n  setQuestionId: (state: number | null) => void;\n  reviewId: number | undefined;\n  courseId: number | undefined;\n};\n\nexport const CourseRatingsContext = createContext<CourseRatingsContextProps>({\n  questionnaires: [],\n  questionnaireId: null,\n  setQuestionnaireId: initialFunction,\n  questionId: null,\n  setQuestionId: initialFunction,\n  reviewId: undefined,\n  courseId: undefined,\n});\n\ntype ProviderProps = PropsWithChildren & {\n  questionnaires: API.Questionnaire[];\n};\n\nexport const CourseRatingProvider = ({\n  children,\n  questionnaires,\n}: ProviderProps) => {\n  const [questionnaireId, setQuestionnaireId] =\n    useState<CourseRatingsContextProps[\"questionnaireId\"]>(null);\n  const [questionId, setQuestionId] =\n    useState<CourseRatingsContextProps[\"questionId\"]>(null);\n  const { id } = useParams<{ id: string }>();\n  const firstQuestionnaire = questionnaires?.at(0);\n  const firstQuestion = firstQuestionnaire?.questions?.find(\n    ({ type }) => type === QuestionType.RATE\n  );\n  const reviewId = getCourseQuestionnaireReviewQuestion({\n    questionnaires,\n    questionnaireId,\n    questionType: QuestionType.REVIEW,\n  });\n\n  // Set first questionnaire on init\n  useEffect(() => {\n    if (firstQuestionnaire?.id && !questionnaireId) {\n      setQuestionnaireId(firstQuestionnaire.id);\n    }\n  }, [firstQuestionnaire?.id, questionnaireId]);\n  // Set first question on init\n  useEffect(() => {\n    if (firstQuestion?.id && !questionId) {\n      setQuestionId(firstQuestion.id);\n    }\n  }, [firstQuestion?.id, questionId]);\n\n  return (\n    <CourseRatingsContext.Provider\n      value={{\n        questionnaires,\n        questionnaireId,\n        setQuestionnaireId,\n        questionId,\n        setQuestionId,\n        reviewId,\n        courseId: Number(id),\n      }}\n    >\n      {children}\n    </CourseRatingsContext.Provider>\n  );\n};\n\nexport const useCourseRatingContext = () => {\n  const context = useContext(CourseRatingsContext);\n\n  if (!CourseRatingsContext) {\n    throw new Error(\n      \"useCourseRatingContext must be used inside the CourseRatingProvider\"\n    );\n  }\n\n  return context;\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { toast } from \"react-toastify\";\nimport { QuestionnaireModelType } from \"../types/questionnaire\";\nimport { useTranslation } from \"react-i18next\";\n\nconst initialState = {\n  total: 0,\n  per_page: 3,\n  page: 1,\n  current_page: 1,\n};\n\ninterface Props {\n  questionId: number | null;\n  courseId: number | undefined;\n}\n\nexport const useCourseAnswers = ({ questionId, courseId }: Props) => {\n  const [questionnaireAnswers, setQuestionnaireAnswers] = useState<\n    API.QuestionAnswer[] | undefined\n  >(undefined);\n  const [answersMeta, setAnswersMeta] = useState(initialState);\n  const [loading, setLoading] = useState(true);\n  const { fetchQuestionnairesAnswers } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n\n  const handleFetchQuestionnairesAnswers = useCallback(\n    (page: number) => {\n      if (questionId && courseId) {\n        setLoading(true);\n        fetchQuestionnairesAnswers(\n          QuestionnaireModelType.COURSE,\n          Number(courseId),\n          questionId,\n          {\n            per_page: answersMeta.per_page,\n            page: page,\n            order_by: \"updated_at\",\n            order: \"DESC\",\n          }\n        )\n          .then((res) => {\n            if (res.success) {\n              setQuestionnaireAnswers(res.data);\n              setAnswersMeta((prev) => ({\n                ...prev,\n                total: res.meta.total,\n                current_page: res.meta.current_page,\n                page: res.meta.current_page,\n              }));\n            }\n          })\n          .catch((error) => {\n            toast.error(t<string>(\"UnexpectedError\"));\n            console.log(error);\n          })\n          .finally(() => setLoading(false));\n      }\n    },\n    [answersMeta, fetchQuestionnairesAnswers, courseId, questionId, t]\n  );\n\n  const onPageChange = useCallback((page: number) => {\n    setAnswersMeta((prev) => ({\n      ...prev,\n      current_page: page,\n    }));\n  }, []);\n\n  useEffect(() => {\n    if (answersMeta.page !== answersMeta.current_page) {\n      handleFetchQuestionnairesAnswers(answersMeta.current_page);\n    }\n  }, [\n    answersMeta.current_page,\n    answersMeta.page,\n    handleFetchQuestionnairesAnswers,\n  ]);\n\n  useEffect(() => {\n    setAnswersMeta(initialState);\n    handleFetchQuestionnairesAnswers(initialState.page);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [questionId]);\n\n  return {\n    answersMeta,\n    questionnaireAnswers,\n    loading,\n    onPageChange,\n  };\n};\n","import { Row } from \"@escolalms/components\";\nimport styled from \"styled-components\";\n\nexport const Container = styled(Row)`\n  justify-content: space-between;\n  padding: 16px;\n  background: ${({ theme }) => theme.white};\n`;\n","import { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\n\nimport { API } from \"@escolalms/sdk/lib\";\nimport { FC } from \"react\";\nimport { Container } from \"./styles\";\nimport { Avatar, Row, Stack } from \"@escolalms/components\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { HeaderUser, StarOrange } from \"@/icons/index\";\nimport { useTheme } from \"styled-components\";\n\ninterface AnswerComponentProps {\n  question: API.QuestionAnswer;\n}\n\nexport const AnswerComponent: FC<AnswerComponentProps> = ({ question }) => {\n  const { user, note, updated_at, rate } = question;\n  const theme = useTheme();\n\n  if (!note) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <Row $gap={16}>\n        {user.avatar ? (\n          <Avatar src={user.avatar} alt=\"\" />\n        ) : (\n          <HeaderUser mode={theme.mode === \"dark\" ? \"light\" : \"dark\"} />\n        )}\n\n        <Stack $justifyContent=\"space-between\">\n          <Title level={5}>{user.name}</Title>\n          <Text>{note}</Text>\n        </Stack>\n      </Row>\n      <Stack $gap={8}>\n        <Text noMargin>\n          {formatDate(updated_at, APP_CONFIG.defaultDateFormat)}\n        </Text>\n        {rate > 0 && (\n          <Row $gap={16}>\n            <StarOrange />\n            <Text>{rate}</Text>\n          </Row>\n        )}\n      </Stack>\n    </Container>\n  );\n};\n","import { useCourseAnswers } from \"@/hooks/useCourseAnswers\";\nimport { Spin } from \"@escolalms/components\";\nimport Pagination from \"../../../../../../../components/Pagination\";\nimport { AnswerComponent } from \"../../AnswerComponent\";\nimport { StyledStack, PaginationContainerStyled } from \"../../styles\";\n\ninterface Props {\n  courseId: number;\n  questionId: number;\n}\n\nexport const CourseRatingsQuestionnairesContent = ({\n  courseId,\n  questionId,\n}: Props) => {\n  const { answersMeta, loading, onPageChange, questionnaireAnswers } =\n    useCourseAnswers({\n      questionId,\n      courseId,\n    });\n\n  return (\n    <StyledStack>\n      {loading ? (\n        <Spin />\n      ) : (\n        <>\n          {questionnaireAnswers &&\n            questionnaireAnswers.map((question) => (\n              <AnswerComponent question={question} />\n            ))}\n          {answersMeta.total > answersMeta.per_page && (\n            <PaginationContainerStyled>\n              <Pagination\n                total={answersMeta.total}\n                perPage={answersMeta.per_page}\n                currentPage={answersMeta.current_page}\n                onPage={onPageChange}\n              />\n            </PaginationContainerStyled>\n          )}\n        </>\n      )}\n    </StyledStack>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useTheme } from \"styled-components\";\nimport { Dropdown } from \"@escolalms/components\";\nimport { useCourseRatingContext } from \"../../Provider\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { QuestionType } from \"@/types/questionnaire\";\nimport { StyledStack } from \"../../styles\";\n\ninterface Props {\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseRatingsQuestionnairesDropdowns = ({\n  questionnaires,\n}: Props) => {\n  const { questionnaireId, setQuestionnaireId, questionId, setQuestionId } =\n    useCourseRatingContext();\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const questionnairesFilter = useMemo(\n    () =>\n      questionnaires.map((item) => ({\n        label: item.title,\n        value: String(item.id),\n      })),\n    [questionnaires]\n  );\n\n  const questionnaireQuestionFilter = useMemo(\n    () =>\n      questionnaires\n        ?.find((element) => element.id === questionnaireId)\n        ?.questions.filter((item) => item.public_answers)\n        .filter((item) => item.type !== QuestionType.REVIEW)\n        .map((item) => ({\n          label: item.title,\n          value: String(item.id),\n        })) || [],\n    [questionnaireId, questionnaires]\n  );\n\n  return (\n    <StyledStack>\n      {questionnairesFilter.length > 1 && (\n        <Dropdown\n          onChange={(e) => setQuestionnaireId(Number(e.value))}\n          options={questionnairesFilter}\n          placeholder={t(\"CoursePage.SelectQuestionnaire\")}\n          backgroundColor={theme.white}\n          value={questionnairesFilter?.find(\n            ({ value }) => value === String(questionnaireId)\n          )}\n        />\n      )}\n      <Dropdown\n        onChange={(e) => setQuestionId(Number(e.value))}\n        options={questionnaireQuestionFilter}\n        placeholder={t(\"CoursePage.SelectQuestion\")}\n        backgroundColor={theme.white}\n        value={questionnaireQuestionFilter?.find(\n          ({ value }) => value === String(questionId)\n        )}\n      />\n    </StyledStack>\n  );\n};\n","import { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { StyledTitle } from \"../styles\";\nimport { useCourseRatingContext } from \"../Provider\";\nimport { CourseRatingsQuestionnairesContent } from \"./Content\";\nimport { CourseRatingsQuestionnairesDropdowns } from \"./Dropdowns\";\n\nexport const CourseRatingsQuestionnaires = memo(() => {\n  const { questionnaires, courseId, questionId } = useCourseRatingContext();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <StyledTitle level={4}>{t(\"CoursePage.Questionnaires\")}</StyledTitle>\n      {questionnaires.length > 0 ? (\n        <>\n          <CourseRatingsQuestionnairesDropdowns\n            questionnaires={questionnaires}\n          />\n          {courseId && questionId && (\n            <CourseRatingsQuestionnairesContent\n              courseId={courseId}\n              questionId={questionId}\n            />\n          )}\n        </>\n      ) : (\n        <Text>{t<string>(\"CoursePage.CourseRatingsEmpty\")}</Text>\n      )}\n    </>\n  );\n});\n","import { useCourseAnswers } from \"@/hooks/useCourseAnswers\";\nimport { Spin } from \"@escolalms/components\";\nimport Pagination from \"@/components/Pagination\";\nimport { AnswerComponent } from \"../../AnswerComponent\";\nimport { StyledStack, PaginationContainerStyled } from \"../../styles\";\n\ninterface Props {\n  courseId: number;\n  questionId: number;\n}\n\nexport const CourseRatingsReviewsContent = ({\n  courseId,\n  questionId,\n}: Props) => {\n  const { answersMeta, loading, onPageChange, questionnaireAnswers } =\n    useCourseAnswers({\n      questionId,\n      courseId,\n    });\n\n  return (\n    <StyledStack>\n      {loading ? (\n        <Spin />\n      ) : (\n        <>\n          {(questionnaireAnswers || []).map((question) => (\n            <AnswerComponent question={question} />\n          ))}\n          {answersMeta.total > answersMeta.per_page && (\n            <PaginationContainerStyled>\n              <Pagination\n                total={answersMeta.total}\n                perPage={answersMeta.per_page}\n                currentPage={answersMeta.current_page}\n                onPage={onPageChange}\n              />\n            </PaginationContainerStyled>\n          )}\n        </>\n      )}\n    </StyledStack>\n  );\n};\n","import { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { StyledTitle } from \"../styles\";\nimport { CourseRatingsReviewsContent } from \"./Content\";\nimport { useCourseRatingContext } from \"../Provider\";\n\nexport const CourseRatingsReviews = memo(() => {\n  const { courseId, reviewId } = useCourseRatingContext();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <StyledTitle level={4}>{t(\"CoursePage.CourseRatingsTitle\")}</StyledTitle>\n      {courseId && reviewId && (\n        <CourseRatingsReviewsContent\n          courseId={courseId}\n          questionId={reviewId}\n        />\n      )}\n    </>\n  );\n});\n","import { FC, memo } from \"react\";\nimport { Row, Col } from \"react-grid-system\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { CourseRatingsQuestionnaires } from \"./Questionnaires\";\nimport { CourseRatingsReviews } from \"./Reviews\";\nimport { CourseRatingProvider } from \"./Provider\";\n\ninterface CourseRatingsProps {\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseRatings: FC<CourseRatingsProps> = memo(\n  ({ questionnaires }) => {\n    return (\n      <CourseRatingProvider questionnaires={questionnaires}>\n        <section className=\"course-ratings\">\n          <Row>\n            <Col>\n              <CourseRatingsQuestionnaires />\n            </Col>\n            <Col>\n              <CourseRatingsReviews />\n            </Col>\n          </Row>\n        </section>\n      </CourseRatingProvider>\n    );\n  }\n);\n","import { useContext } from \"react\";\n\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\n\nimport CoursesSlider from \"@/components/CoursesSlider\";\n\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Container\";\n\nexport const CourseRelated = () => {\n  const { t } = useTranslation();\n\n  const { courses } = useContext(EscolaLMSContext);\n\n  const sliderSettings = {\n    arrows: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 3,\n    draggable: false,\n    slidesToScroll: 3,\n    responsive: [\n      {\n        breakpoint: 768,\n        settings: {\n          draggable: true,\n          slidesToShow: 2,\n          slidesToScroll: 2,\n        },\n      },\n      {\n        breakpoint: 576,\n        settings: {\n          slidesToShow: 1,\n          centerMode: true,\n          slidesToScroll: 1,\n        },\n      },\n    ],\n  };\n  return (\n    <section className=\"course-related-courses\">\n      <Container>\n        <Row>\n          <Col lg={9}>\n            <div className=\"content-container\">\n              <Title level={4} as=\"h2\">\n                {t(\"CoursePage.RelatedCoursesTitle\")}\n              </Title>\n              {courses && courses.list && (\n                <CoursesSlider\n                  courses={courses.list.data}\n                  sliderSettings={sliderSettings}\n                />\n              )}\n            </div>\n            <div className=\"content-container\">\n              <Title level={4} as=\"h2\">\n                {t(\"CoursePage.InterestTitle\")}\n              </Title>\n              {courses && courses.list && (\n                <CoursesSlider\n                  courses={courses.list.data}\n                  sliderSettings={sliderSettings}\n                />\n              )}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </section>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport CoursesDetailsSidebar from \"@/components/SingleCoursesTwo/CoursesDetailsSidebar/index\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Loader from \"@/components/Preloader\";\nimport { useTranslation } from \"react-i18next\";\nimport Layout from \"@/components/_App/Layout\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\n\nimport { CourseProgram } from \"@escolalms/components/lib/components/organisms/CourseProgram/CourseProgram\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\nimport CourseProgramPreview from \"@/components/Course/CourseProgramPreview\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Modal } from \"@escolalms/components/lib/components/atoms/Modal/Modal\";\nimport Breadcrumbs from \"@/components/Breadcrumbs\";\nimport { fixContentForMarkdown } from \"@escolalms/components/lib/utils/components/markdown\";\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Container\";\nimport { ModalCourseAccess } from \"@escolalms/components/lib/components/organisms/ModalCourseAccess\";\nimport { QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { ModalOverwriteGlobal, StyledCoursePage } from \"./styles\";\nimport {\n  CourseMainInfo,\n  CourseAuthor,\n  CourseCompanies,\n  CourseRatings,\n  CourseRelated,\n} from \"./Components\";\n\nconst CoursePage = () => {\n  const [questionnaires, setQuestionnaires] = useState<API.Questionnaire[]>([]);\n  const [courseAccessModalVisible, setCourseAccessModalVisible] =\n    useState(false);\n  const [previewTopic, setPreviewTopic] = useState<API.Topic>();\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n  const {\n    course,\n    fetchCourse,\n    fetchCourses,\n    fetchCourseAccess,\n    fetchQuestionnaires,\n  } = useContext(EscolaLMSContext);\n\n  const closeCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(false),\n    []\n  );\n\n  const openCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(true),\n    []\n  );\n\n  const refreshCurrentCourseAccess = useCallback(\n    () =>\n      fetchCourseAccess({\n        course_id: Number(id),\n        current_page: 1,\n        per_page: 1,\n      }),\n    [id, fetchCourseAccess]\n  );\n\n  useEffect(() => {\n    fetchCourses({ per_page: 6 });\n    if (id) {\n      fetchCourse(Number(id));\n      refreshCurrentCourseAccess();\n      fetchQuestionnaires(QuestionnaireModelType.COURSE, Number(id)).then(\n        (response) => response.success && setQuestionnaires(response.data)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  if (course.error) {\n    return <pre>{course.error.message}</pre>;\n  }\n\n  return (\n    <Layout metaTitle={course?.value?.title || \"Loading\"}>\n      {course.loading && <Loader />}\n      {!course.loading && course.value && (\n        <>\n          <StyledCoursePage>\n            <Container>\n              <Row>\n                <Col md={12} lg={9}>\n                  <Breadcrumbs\n                    items={[\n                      <Link to=\"/\">{t(\"Home\")}</Link>,\n                      <Link to=\"/courses\">{t(\"Courses\")}</Link>,\n                      <Text size=\"12\">{course.value.title}</Text>,\n                    ]}\n                  />\n                  <CourseMainInfo\n                    courseData={course.value}\n                    questionnaires={questionnaires}\n                  />\n                  <CourseCompanies />\n                  {course.value.summary &&\n                    fixContentForMarkdown(course.value.summary) !== \"\" && (\n                      <section className=\"course-description\">\n                        <MarkdownRenderer>\n                          {course.value.summary}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.author && (\n                    <CourseAuthor courseData={course.value} />\n                  )}\n                  {course.value.description &&\n                    fixContentForMarkdown(course.value.description) !== \"\" && (\n                      <section className=\"course-description-short with-border padding-right\">\n                        <Title level={4}>\n                          {t(\"CoursePage.CourseDescriptionTitle\")}\n                        </Title>\n                        <MarkdownRenderer>\n                          {course.value.description}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.lessons && course.value.lessons.length > 0 && (\n                    <CourseProgram\n                      lessons={course.value.lessons}\n                      onTopicClick={(topic) => setPreviewTopic(topic)}\n                    />\n                  )}\n                  <CourseRatings questionnaires={questionnaires} />\n                </Col>\n                <Col md={12} lg={3} className=\"sidebar-col\">\n                  <div className=\"sidebar-wrapper\">\n                    {course.value && (\n                      <CoursesDetailsSidebar\n                        course={course.value}\n                        onRequestAccess={openCourseAccessModal}\n                      />\n                    )}\n                  </div>\n                </Col>\n              </Row>\n            </Container>\n            <CourseRelated />\n          </StyledCoursePage>\n          <Modal\n            onClose={() => setPreviewTopic(undefined)}\n            visible={!!previewTopic}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose={true}\n            width={600}\n            bodyStyle={{\n              maxHeight: \"80vh\",\n              overflow: \"auto\",\n            }}\n          >\n            <ModalOverwriteGlobal />\n            {previewTopic && <CourseProgramPreview topic={previewTopic} />}\n          </Modal>\n          <Modal\n            onClose={closeCourseAccessModal}\n            visible={courseAccessModalVisible}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose\n            width={600}\n          >\n            <ModalOverwriteGlobal />\n            <ModalCourseAccess\n              course={course.value}\n              onCancel={closeCourseAccessModal}\n              onSuccess={() => {\n                refreshCurrentCourseAccess();\n                closeCourseAccessModal();\n              }}\n            />\n          </Modal>\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default CoursePage;\n","export const APP_CONFIG = {\n  defaultDateFormat: \"dd/MM/yyyy\",\n  defaultDateTimeFormat: \"dd/MM/yyyy, HH:mm\",\n  tutorPlaceholderPath: \"/images/tutorblind.png\",\n};\n","import { add, format, isAfter } from \"date-fns\";\nimport { APP_CONFIG } from \"@/config/app\";\n\nexport const formatDate = (\n  date: string | number | Date | null | undefined,\n  dateFormat: string = APP_CONFIG.defaultDateFormat\n) => {\n  if (!date) return \"\";\n  return format(new Date(date), dateFormat);\n};\n\nexport const isTwoDatesEqual = (\n  firstDate: Date | string | number | null | undefined,\n  secondDate: Date | string | number | null | undefined,\n  format?: string\n) => {\n  if (!firstDate || !secondDate) return false;\n  return formatDate(firstDate, format) === formatDate(secondDate, format);\n};\n\nexport const createArrayWithDateAndTimes = (terms: string[] | Date[]) => {\n  const newTerms: {\n    date: string;\n    times: Date[];\n  }[] = [];\n\n  terms.forEach((term) => {\n    const date = format(new Date(term), \"MM/dd/yyyy\");\n    const existingTerm = newTerms.find(\n      (t) => format(new Date(t.date), \"MM/dd/yyyy\") === date\n    );\n\n    if (existingTerm) {\n      existingTerm.times.push(new Date(term));\n    } else {\n      newTerms.push({\n        date: date,\n        times: [new Date(term)],\n      });\n    }\n  });\n\n  return newTerms;\n};\n\nexport const removePastDates = (dates: Date[]) =>\n  dates.filter((date) => isAfter(date, new Date()));\n\nexport const sortDates = (dates: Date[]): Date[] =>\n  dates.sort((a, b) => a.getTime() - b.getTime());\n\nexport const extractTimeUnits = (input: string): Record<string, number> => {\n  const timeRegex = /(\\d+)\\s+(day|hour|minute|second|week|year)s?/g;\n  const matches = Array.from(input.matchAll(timeRegex));\n\n  const extractedUnits: Record<string, number> = {};\n\n  let foundMatch = false;\n  matches.forEach((match) => {\n    foundMatch = true;\n    const value = parseInt(match[1]);\n    const unit = match[2];\n\n    if (!extractedUnits[unit]) {\n      extractedUnits[unit] = value;\n    } else {\n      extractedUnits[unit] += value;\n    }\n  });\n\n  if (!foundMatch) {\n    const numberRegex = /\\d+/g;\n    const numberMatches = Array.from(input.matchAll(numberRegex));\n\n    numberMatches.forEach((match) => {\n      const value = parseInt(match[0]);\n      extractedUnits[\"hour\"] = value;\n    });\n  }\n\n  return extractedUnits;\n};\n\nexport const addTimeToDate = (\n  date: Date | string | number,\n  time: {\n    day?: number;\n    hour?: number;\n    minute?: number;\n    second?: number;\n    week?: number;\n    year?: number;\n    month?: number;\n  }\n) => {\n  return add(new Date(date), {\n    years: time.year || 0,\n    months: time.month || 0,\n    weeks: time.week || 0,\n    days: time.day || 0,\n    hours: time.hour || 0,\n    minutes: time.minute || 0,\n    seconds: time.second || 0,\n  });\n};\n","import styled from \"styled-components\";\nimport Placeholder from \"../../images/image.svg\";\n\nconst StyledPlaceholder = styled.div`\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ${({ theme }) => (theme.mode === \"light\" ? theme.gray4 : theme.gray2)};\n`;\n\nconst CourseImgPlaceholder = () => {\n  return (\n    <StyledPlaceholder>\n      <img src={Placeholder} alt=\"\" />\n    </StyledPlaceholder>\n  );\n};\n\nexport default CourseImgPlaceholder;\n","export default __webpack_public_path__ + \"static/media/image.ece42557.svg\";","import { Spin } from \"@escolalms/components\";\nimport styled, { useTheme } from \"styled-components\";\n\ninterface Props {\n  width?: string;\n  height?: string;\n}\n\nconst SpinnerWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n`;\n\nconst ContentLoader = ({ width, height }: Props) => {\n  const theme = useTheme();\n  return (\n    <SpinnerWrapper\n      style={{\n        width: width || \"100%\",\n        height: height || \"100%\",\n      }}\n    >\n      <Spin color={theme.primaryColor} />\n    </SpinnerWrapper>\n  );\n};\n\nexport default ContentLoader;\n","import { useCallback, useRef, useState } from \"react\";\nimport styled, { useTheme } from \"styled-components\";\nimport { Badge } from \"@escolalms/components/lib/components/atoms/Badge/Badge\";\nimport { API } from \"@escolalms/sdk/lib\";\n\nconst StyledDiv = styled(\"div\")`\n  align-self: end;\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  .tags-menu-container {\n    position: relative;\n\n    .tags-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      display: flex;\n      flex-direction: column;\n      text-align: left;\n      gap: 4px;\n      list-style: none;\n      padding: 4px 0;\n      height: fit-content;\n      max-height: 230px;\n      overflow-y: scroll;\n      background-color: ${(props) => props.theme.primaryColor};\n      width: fit-content;\n      margin: 0;\n\n      li {\n        width: 100%;\n      }\n    }\n  }\n\n  .badge {\n    cursor: pointer;\n  }\n`;\n\nexport interface TagsProps {\n  tags: string[] | API.Tag[] | null | undefined;\n  onTagClick?: (title: string) => void;\n}\n\nconst Tags = (props: TagsProps) => {\n  const { tags, onTagClick } = props;\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n  const firstTags = tags ? [...tags].splice(0, 2) : [];\n  const otherTags = tags ? [...tags].splice(2) : [];\n  const parentRef = useRef<HTMLDivElement | null>(null);\n\n  const tagClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>, title: string) => {\n      if (onTagClick) {\n        onTagClick(title);\n      }\n    },\n    [onTagClick]\n  );\n\n  return (\n    <StyledDiv ref={parentRef}>\n      {firstTags.map((tag, index) => {\n        const tagTitle = (tag as API.Tag).title ?? tag;\n        return (\n          <Badge\n            className=\"badge\"\n            color={theme.primaryColor}\n            key={index}\n            onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) =>\n              tagClick(e, tagTitle)\n            }\n          >\n            {tagTitle}\n          </Badge>\n        );\n      })}\n      {otherTags.length > 0 && (\n        <div\n          className=\"tags-menu-container\"\n          onMouseLeave={() => setOpen(false)}\n        >\n          <Badge\n            className=\"badge\"\n            color={theme.primaryColor}\n            onMouseOver={() => setOpen(true)}\n          >\n            {`+${otherTags.length}`}\n          </Badge>\n          {open && (\n            <ul className=\"tags-menu\">\n              {otherTags.map((otherTag, index) => {\n                const otherTagTitle = (otherTag as API.Tag).title ?? otherTag;\n                return (\n                  <li>\n                    <Badge\n                      key={index}\n                      className=\"badge\"\n                      onClick={(\n                        e: React.MouseEvent<HTMLDivElement, MouseEvent>\n                      ) => tagClick(e, otherTagTitle)}\n                      color={theme.primaryColor}\n                    >\n                      {otherTagTitle}\n                    </Badge>\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      )}\n    </StyledDiv>\n  );\n};\n\nexport default Tags;\n","import { EventTypes, Notification, Order } from \"@escolalms/sdk/lib/types/api\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n} from \"date-fns\";\n\nexport const getTopicType = (type: string) => type.split(\"\\\\\")?.pop();\n\nexport const getPriceWithTax = (price: number, taxPercentage: number) => {\n  const totalTax = ((price / 100) * taxPercentage).toFixed(2);\n  const totalPrice = Number(price / 100) + Number(totalTax);\n  return totalPrice.toFixed(2);\n};\n\nexport const getOrderProductsNames = (order: Order | undefined | null) => {\n  if (!order) return \"\";\n  return order.items?.map((item) => item.name).join(\", \");\n};\n\nexport const getNotificationTranslationObject = (\n  notification: Notification\n): {\n  translation: string;\n  object?: { name?: string; amount?: number; date?: string; user?: string };\n} => {\n  const translationPrefix = \"Notifications.\";\n  const translation = `${translationPrefix}${notification.event}`;\n  switch (notification.event) {\n    // STATIONARY EVENT\n    case EventTypes.StationaryEventAuthorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAuthorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    // CART\n    case EventTypes.AbandonedCartEvent:\n      return { translation };\n    case EventTypes.OrderCancelled:\n      return { translation };\n    case EventTypes.OrderCreated:\n      return { translation };\n    case EventTypes.OrderPaid:\n      return {\n        translation,\n        object: { name: getOrderProductsNames(notification.data.order) || \"\" },\n      };\n    case EventTypes.ProductableAttached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductableDetached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductAddedToCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductAttached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductBought:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductDetached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductRemovedFromCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    // PAYMENT\n    case EventTypes.PaymentCancelled:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentFailed:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentRegistered:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n        },\n      };\n    case EventTypes.PaymentSuccess:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    // COURSE\n    case EventTypes.CourseAccessFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAccessStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseDeadlineSoon:\n      return {\n        translation,\n        object: {\n          name: notification.data.course?.title || \"\",\n          date: formatDate(\n            notification.data.course?.active_to,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n        },\n      };\n    case EventTypes.CoursedPublished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStatusChanged:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.TopicFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    // TOPIC\n    case EventTypes.TopicTypeChanged:\n      return {\n        translation,\n        object: { name: notification.data.topicContent?.value || \"\" },\n      };\n    // CONSULTATIONS\n    case EventTypes.ReportTerm:\n      return {\n        translation,\n        object: {\n          name: notification.data.consultationTerm?.consultation.name || \"\",\n          date: formatDate(\n            notification.data.consultationTerm?.executed_at,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n          user: `${notification.data.consultationTerm?.user?.first_name} ${notification.data.consultationTerm?.user?.last_name}`,\n        },\n      };\n    case EventTypes.ApprovedTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ApprovedTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ChangeTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderTrainerAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    default:\n      return { translation };\n  }\n};\n\nexport const roundTo = (val: number, places = 2, divider?: number): number => {\n  if (!val || typeof val !== \"number\") return 0;\n  const returnedValue =\n    Math.round(val * Math.pow(10, places)) / Math.pow(10, places);\n  if (divider) {\n    return returnedValue / divider;\n  }\n  return returnedValue;\n};\n\nexport const formatPrice = (price: number | undefined, taxRate?: number) => {\n  if (!price) return 0;\n  const roundedPrice = taxRate\n    ? roundTo(price, 2, 100) * (1 + taxRate / 100)\n    : roundTo(price, 2, 100);\n  const formatted = roundedPrice.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  });\n  return formatted;\n};\n\nexport const userIsCourseAuthor = (\n  userId: number,\n  course: API.Course\n): boolean => {\n  return course.authors.findIndex((author) => author.id === userId) !== -1;\n};\n\nexport const getFormattedDifferenceRelativeToNow = (time: Date) => {\n  const daysDifference = time\n    ? differenceInDays(time.getTime(), new Date().getTime())\n    : null;\n  const hoursDifference = time\n    ? differenceInHours(time.getTime(), new Date().getTime())\n    : null;\n  const minutesDifference = time\n    ? differenceInMinutes(time.getTime(), new Date().getTime())\n    : null;\n\n  const timeDifferenceInDays: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    daysDifference !== null && daysDifference !== 0\n      ? [daysDifference, \"day\"]\n      : null;\n\n  const timeDifferenceInHours: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    hoursDifference !== null && hoursDifference !== 0\n      ? [hoursDifference, \"hour\"]\n      : null;\n\n  const timeDifferenceInMinutes: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    minutesDifference !== null && minutesDifference !== 0\n      ? [minutesDifference, \"minute\"]\n      : null;\n\n  return (\n    timeDifferenceInDays ?? timeDifferenceInHours ?? timeDifferenceInMinutes\n  );\n};\n\nexport const relativeTimeFormatter = new Intl.RelativeTimeFormat(\"pl\", {\n  style: \"short\",\n});\n","import { useCallback, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\n\nconst StyledDiv = styled(\"div\")<{ isOpen?: boolean }>`\n  .more-icon {\n    border: 1px solid;\n    border-radius: 50%;\n    padding: 4px;\n    margin-left: 12px;\n    font-size: 0.75em;\n  }\n\n  .category-name {\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .categories-menu-container {\n    position: relative;\n\n    .categories-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      list-style: none;\n      background-color: #f2f2f2;\n      margin: 4px 0;\n\n      li {\n        margin: 4px 0;\n      }\n    }\n  }\n`;\n\nexport interface CategoriesProps {\n  categories: EscolaLms.Categories.Models.Category[] | undefined;\n  onCategoryClick?: (id: number) => void;\n}\n\nconst CategoriesBreadCrumbs = (props: CategoriesProps) => {\n  const { categories, onCategoryClick } = props;\n  const [open, setOpen] = useState(false);\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const firstCategories = categories ? [...categories].splice(0, 2) : [];\n  const otherCategories = categories ? [...categories].splice(2) : [];\n\n  const categoryClick = useCallback(\n    (id: number) => {\n      if (onCategoryClick) {\n        onCategoryClick(id);\n      }\n    },\n    [onCategoryClick]\n  );\n\n  return (\n    <StyledDiv ref={parentRef} isOpen={open}>\n      <BreadCrumbs\n        hyphen=\"/\"\n        items={firstCategories?.map((category, index) => (\n          <>\n            <span\n              className=\"category-name\"\n              key={category.name + index}\n              onClick={() => categoryClick(category.id)}\n              aria-hidden={true}\n            >\n              {category.name}\n            </span>\n            {index === firstCategories.length - 1 &&\n              otherCategories.length > 0 && (\n                <span\n                  className=\"more-icon\"\n                  onMouseOver={() => setOpen(true)}\n                  onFocus={() => setOpen(true)}\n                  aria-hidden={true}\n                >{`+${otherCategories.length}`}</span>\n              )}\n          </>\n        ))}\n      />\n\n      {otherCategories.length > 0 && (\n        <div\n          className=\"categories-menu-container\"\n          onMouseLeave={() => setOpen(false)}\n        >\n          {open && (\n            <ul\n              className=\"categories-menu\"\n              style={{\n                width:\n                  parentRef.current?.getBoundingClientRect().width || \"auto\",\n              }}\n            >\n              <BreadCrumbs\n                hyphen=\"/\"\n                items={otherCategories?.map((category) => (\n                  <li\n                    className=\"category-name\"\n                    onClick={() => categoryClick(category.id)}\n                    aria-hidden={true}\n                  >\n                    {category.name}\n                  </li>\n                ))}\n              />\n            </ul>\n          )}\n        </div>\n      )}\n    </StyledDiv>\n  );\n};\n\nexport default CategoriesBreadCrumbs;\n","import React from \"react\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\nimport styled from \"styled-components\";\n\ntype Props = {\n  items: React.ReactNode[];\n};\n\nconst StyledBreadcrumbs = styled.div`\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray5 : theme.gray2}!important;\n  }\n`;\n\nconst Breadcrumbs: React.FC<Props> = ({ items }) => {\n  return (\n    <StyledBreadcrumbs>\n      <BreadCrumbs items={items} />\n    </StyledBreadcrumbs>\n  );\n};\n\nexport default Breadcrumbs;\n","import React, { PropsWithChildren } from \"react\";\nimport styled from \"styled-components\";\n\nconst CardWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n\n  a {\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .image-section {\n    .information-in-image {\n      .card {\n        .content:after,\n        .content:before {\n          box-shadow: inset 0px -6px 14px -8px rgba(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n  .course-section {\n    margin-top: 6px;\n  }\n\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n    justify-content: center;\n  }\n`;\n\nconst CourseCardWrapper: React.FC<PropsWithChildren> = ({ children }) => {\n  return <CardWrapper>{children}</CardWrapper>;\n};\n\nexport default CourseCardWrapper;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { Link } from \"react-router-dom\";\n\nconst StyledPagination = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  a {\n    text-decoration: none !important;\n  }\n  .arrow {\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${({ theme }) => theme.primaryColor};\n    margin: 0 10px;\n    &--left {\n      transform: rotate(45deg);\n    }\n    &--right {\n      transform: rotate(-135deg);\n    }\n  }\n  .number {\n    margin: 0 8px;\n    p {\n      opacity: 0.5;\n      &.current {\n        color: ${({ theme }) => theme.primaryColor}!important;\n        font-weight: 700;\n        opacity: 1;\n      }\n    }\n  }\n`;\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\nconst range = (from: number, to: number, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nconst Pagination: React.FC<{\n  currentPage: number;\n  total: number;\n  perPage: number;\n  onPage: (page: number) => void;\n  pageNeighbours?: number;\n}> = ({ currentPage, total, perPage, onPage, pageNeighbours = 2 }) => {\n  const lastPage = Math.ceil(total / perPage);\n\n  const fetchPageNumbers = () => {\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (lastPage > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(lastPage - 1, currentPage + pageNeighbours);\n      let pages: (string | number)[] = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = lastPage - endPage > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case hasLeftSpill && !hasRightSpill: {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case !hasLeftSpill && hasRightSpill: {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case hasLeftSpill && hasRightSpill:\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, lastPage];\n    } else if (currentPage < lastPage && currentPage === 1) {\n      return [...range(1, lastPage), RIGHT_PAGE];\n    } else if (currentPage > 1 && currentPage !== lastPage) {\n      return [LEFT_PAGE, ...range(1, lastPage), RIGHT_PAGE];\n    } else if (currentPage > 1 && currentPage === lastPage) {\n      return [LEFT_PAGE, ...range(1, lastPage)];\n    }\n\n    return range(1, lastPage);\n  };\n\n  return (\n    <StyledPagination>\n      {fetchPageNumbers().map((page) => {\n        if (page === LEFT_PAGE) {\n          return (\n            <a\n              href=\"#!prev_page\"\n              className=\"prev page-numbers\"\n              onClick={(e) => {\n                e.preventDefault();\n                onPage(currentPage <= 1 ? 1 : currentPage - 1);\n              }}\n            >\n              <div className=\"arrow arrow--left\" />\n            </a>\n          );\n        }\n        if (page === RIGHT_PAGE) {\n          return (\n            <a\n              href=\"#!next_page\"\n              className=\"next page-numbers\"\n              onClick={(e) => {\n                e.preventDefault();\n                onPage(currentPage === lastPage ? lastPage : currentPage + 1);\n              }}\n            >\n              <div className=\"arrow arrow--right\" />\n            </a>\n          );\n        }\n        return (\n          <Link\n            onClick={(e) => {\n              e.preventDefault();\n              onPage(Number(page));\n            }}\n            to={`#!page-${Number(page)}`}\n            key={`#${Number(page)}`}\n            className=\"number\"\n          >\n            <Text\n              className={Number(page) === currentPage ? \"current\" : \"\"}\n              size=\"16\"\n              aria-current=\"page\"\n            >\n              {Number(page)}\n            </Text>\n          </Link>\n        );\n      })}\n    </StyledPagination>\n  );\n};\n\nexport default Pagination;\n","export enum QuestionnaireModelType {\n  COURSE = \"course\",\n  WEBINAR = \"webinar\",\n}\n\nexport enum QuestionType {\n  RATE = \"rate\",\n  TEXT = \"text\",\n  REVIEW = \"review\",\n}\n","import { useEffect } from \"react\";\nimport { Spin } from \"@escolalms/components/lib/components/atoms/Spin/Spin\";\nimport styled, { useTheme } from \"styled-components\";\n\nconst StyledLoader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) =>\n    theme.mode === \"dark\" ? theme.dm__background : theme.background};\n`;\n\nconst Preloader = () => {\n  const theme = useTheme();\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"inherit\";\n    };\n  }, []);\n\n  return (\n    <StyledLoader>\n      <Spin color={theme.primaryColor} />\n    </StyledLoader>\n  );\n};\n\nexport default Preloader;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Slider } from \"@escolalms/components/lib/components/atoms/Slider/Slider\";\nimport { CourseCard } from \"@escolalms/components/lib/components/molecules/CourseCard/CourseCard\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { IconText } from \"@escolalms/components/lib/components/atoms/IconText/IconText\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Settings } from \"react-slick\";\nimport { useTranslation } from \"react-i18next\";\nimport { LessonsIcon, UserIcon } from \"../../icons\";\nimport CourseImgPlaceholder from \"../CourseImgPlaceholder\";\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\nimport CourseCardWrapper from \"../CourseCardWrapper\";\nimport { Col, Row } from \"react-grid-system\";\nimport { Title } from \"@escolalms/components\";\nimport Tags from \"@/components/Tags\";\nimport CategoriesBreadCrumbs from \"@/components/CategoriesBreadCrumbs\";\nimport { getSubtitleComponent } from \"@/components/Subtitle\";\n\ntype Props = {\n  courses: API.Course[];\n  sliderSettings?: Settings;\n};\n\nconst Content = styled.div`\n  @media (max-width: 575px) {\n    margin-left: -59px;\n  }\n  .slick-slider {\n    @media (max-width: 575px) {\n      width: calc(100% + 15px);\n    }\n  }\n  .slick-dots {\n    top: -65px;\n    @media (max-width: 575px) {\n      top: -30px !important;\n      right: unset !important;\n      left: 60px !important;\n    }\n  }\n  .slick-track {\n    display: flex;\n    gap: 0 20px;\n    @media (max-width: 991px) {\n      padding-bottom: 20px;\n    }\n  }\n\n  .slick-slide {\n    height: inherit;\n\n    > div {\n      display: flex;\n      height: 100%;\n    }\n  }\n`;\n\nconst defaultSliderSettings = {\n  arrows: false,\n  infinite: true,\n  speed: 500,\n  draggable: false,\n  slidesToShow: 4,\n  slidesToScroll: 4,\n  responsive: [\n    {\n      breakpoint: 1201,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n      },\n    },\n    {\n      breakpoint: 768,\n      settings: {\n        draggable: true,\n        slidesToShow: 2,\n        slidesToScroll: 2,\n      },\n    },\n    {\n      breakpoint: 576,\n      settings: {\n        slidesToShow: 1,\n        centerMode: true,\n        slidesToScroll: 1,\n      },\n    },\n  ],\n};\n\nconst CoursesSlider: React.FC<Props> = ({\n  courses,\n  sliderSettings = defaultSliderSettings,\n}) => {\n  const [dots] = useState(true);\n  const history = useHistory();\n  const { t } = useTranslation();\n\n  return (\n    <Content>\n      {courses.length >= 5 || isMobile ? (\n        <div>\n          <Slider\n            settings={{\n              ...sliderSettings,\n              dots,\n              onSwipe: () => {\n                const allHiddenSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"true\"]'\n                );\n                const allVisibleSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"false\"]'\n                );\n                allVisibleSlides.forEach((visibleSlide) =>\n                  visibleSlide.removeAttribute(\"aria-modal\")\n                );\n                allHiddenSlides.forEach((hiddenSlide) =>\n                  hiddenSlide.setAttribute(\"aria-modal\", \"true\")\n                );\n              },\n              onInit: () => {\n                const allHiddenSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"true\"]'\n                );\n                allHiddenSlides.forEach((hiddenSlide) =>\n                  hiddenSlide.setAttribute(\"aria-modal\", \"true\")\n                );\n              },\n            }}\n            dotsPosition=\"top right\"\n          >\n            {courses &&\n              courses.map((item) => (\n                <CourseCardWrapper key={item.id}>\n                  <CourseCard\n                    mobile={isMobile}\n                    id={item.id}\n                    image={\n                      <Link to={`/courses/${item.id}`}>\n                        {item.image_path ? (\n                          <ResponsiveImage\n                            path={item.image_path}\n                            alt={item.title}\n                            srcSizes={[300, 600, 900]}\n                          />\n                        ) : (\n                          <CourseImgPlaceholder />\n                        )}\n                      </Link>\n                    }\n                    tags={\n                      <Tags\n                        tags={item.tags}\n                        onTagClick={(tagName) =>\n                          history.push(`/courses/?tag=${tagName}`)\n                        }\n                      />\n                    }\n                    subtitle={getSubtitleComponent({\n                      subtitle: item.subtitle,\n                      linkTo: `/courses/${item.id}`,\n                    })}\n                    title={\n                      <Link to={`/courses/${item.id}`} className=\"title\">\n                        <Title level={4} as=\"h2\">\n                          {item.title}\n                        </Title>\n                      </Link>\n                    }\n                    categories={\n                      <CategoriesBreadCrumbs\n                        categories={item.categories}\n                        onCategoryClick={(id) => {\n                          history.push(`/courses/?categories[]=${id}`);\n                        }}\n                      />\n                    }\n                    actions={\n                      <>\n                        <Button\n                          mode=\"secondary\"\n                          onClick={() => history.push(`/courses/${item.id}`)}\n                        >\n                          {t(\"StartNow\")}\n                        </Button>\n                      </>\n                    }\n                    footer={\n                      <>\n                        {item.users_count && item.users_count > 0 ? (\n                          <IconText\n                            icon={<UserIcon />}\n                            text={`${item.users_count} ${t<string>(\n                              \"Students\"\n                            )}`}\n                          />\n                        ) : (\n                          \"\"\n                        )}{\" \"}\n                        {item.lessons_count && item.lessons_count > 0 ? (\n                          <IconText\n                            icon={<LessonsIcon />}\n                            text={`${item.lessons_count} ${t<string>(\n                              \"Lessons\"\n                            )}`}\n                          />\n                        ) : (\n                          \"\"\n                        )}\n                      </>\n                    }\n                  />\n                </CourseCardWrapper>\n              ))}\n          </Slider>\n        </div>\n      ) : (\n        <Row\n          style={{\n            marginTop: \"30px\",\n            rowGap: \"60px\",\n          }}\n        >\n          {courses.map((item) => (\n            <Col md={6} lg={3} key={item.id}>\n              <CourseCardWrapper key={item.id}>\n                <CourseCard\n                  mobile={isMobile}\n                  id={item.id}\n                  image={\n                    <Link to={`/courses/${item.id}`}>\n                      {item.image_path ? (\n                        <ResponsiveImage\n                          path={item.image_path}\n                          alt={item.title}\n                          srcSizes={[300, 600, 900]}\n                        />\n                      ) : (\n                        <CourseImgPlaceholder />\n                      )}\n                    </Link>\n                  }\n                  tags={\n                    <Tags\n                      tags={item.tags}\n                      onTagClick={(tagName) =>\n                        history.push(`/courses/?tag=${tagName}`)\n                      }\n                    />\n                  }\n                  subtitle={getSubtitleComponent({\n                    subtitle: item.subtitle,\n                    linkTo: `/courses/${item.id}`,\n                  })}\n                  title={<Link to={`/courses/${item.id}`}>{item.title}</Link>}\n                  categories={\n                    <CategoriesBreadCrumbs\n                      categories={item.categories}\n                      onCategoryClick={(id) => {\n                        history.push(`/courses/?categories[]=${id}`);\n                      }}\n                    />\n                  }\n                  actions={\n                    <>\n                      <Button\n                        mode=\"secondary\"\n                        onClick={() => history.push(`/courses/${item.id}`)}\n                      >\n                        {t(\"StartNow\")}\n                      </Button>\n                    </>\n                  }\n                  footer={\n                    <>\n                      {item.users_count && item.users_count > 0 ? (\n                        <IconText\n                          icon={<UserIcon />}\n                          text={`${item.users_count} ${t<string>(\"Students\")}`}\n                        />\n                      ) : (\n                        \"\"\n                      )}{\" \"}\n                      {item.lessons_count && item.lessons_count > 0 ? (\n                        <IconText\n                          icon={<LessonsIcon />}\n                          text={`${item.lessons_count} ${t<string>(\"Lessons\")}`}\n                        />\n                      ) : (\n                        \"\"\n                      )}\n                    </>\n                  }\n                />\n              </CourseCardWrapper>\n            </Col>\n          ))}\n        </Row>\n      )}\n    </Content>\n  );\n};\n\nexport default CoursesSlider;\n","import styled from \"styled-components\";\n\nexport const StyledSpan = styled.span<React.HTMLAttributes<HTMLSpanElement>>`\n  color: ${(props) => props.color};\n`;\n\nexport const StyledSpanTail = styled.span<\n  React.HTMLAttributes<HTMLSpanElement>\n>`\n  color: ${(props) => props.color};\n  ${StyledSpan}:hover & {\n    display: none;\n  }\n`;\n\nexport const StyledSpanChild = styled.span<\n  React.HTMLAttributes<HTMLSpanElement>\n>`\n  color: ${(props) => props.color};\n  display: none;\n  ${StyledSpan}:hover & {\n    display: block;\n  }\n`;\n","import {\n  Text,\n  TextProps,\n} from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { useTheme } from \"styled-components\";\nimport { StyledSpan, StyledSpanTail, StyledSpanChild } from \"./styles\";\n\ntype Props = TextProps & {\n  text: string;\n  length?: number;\n  tail?: string;\n};\n\nexport const TextEllipsis = ({\n  text,\n  length = 30,\n  tail = \"...\",\n  ...props\n}: Props) => {\n  const theme = useTheme();\n  const firstText = text.slice(0, length);\n  const secondText = text.slice(length, text.length);\n\n  return (\n    <Text {...props}>\n      <StyledSpan color={theme.primaryColor}>\n        {firstText}\n        {secondText && (\n          <>\n            <StyledSpanTail>{tail}</StyledSpanTail>\n            <StyledSpanChild>{secondText}</StyledSpanChild>\n          </>\n        )}\n      </StyledSpan>\n    </Text>\n  );\n};\n","import { memo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTheme } from \"styled-components\";\nimport { TextEllipsis } from \"../TextEllipsis\";\n\ninterface Props {\n  linkTo: string;\n  subtitle: string | null | undefined;\n  textLength?: number;\n}\n\nexport const Subtitle = memo(({ linkTo, subtitle, textLength }: Props) => {\n  const theme = useTheme();\n\n  if (!subtitle) {\n    return null;\n  }\n  return (\n    <Link style={{ color: theme.primaryColor }} to={linkTo}>\n      <TextEllipsis text={subtitle} bold size=\"12\" length={textLength} />\n    </Link>\n  );\n});\n\nexport const getSubtitleComponent = ({ ...props }: Props) => {\n  if (!props.subtitle) {\n    return undefined;\n  }\n  return <Subtitle {...props} />;\n};\n","import { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { t } from \"i18next\";\nimport { toast } from \"react-toastify\";\n\ntype getQuestionnaireProps = {\n  questionnaireId: number;\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n};\n\ntype getQuestionnairesProps = {\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n  fetchQuestionnaires: (\n    model: string,\n    id: number\n  ) => Promise<API.DefaultMetaResponse<API.Questionnaire>>;\n  onSucces: (questionnairesArray: API.Questionnaire[]) => void;\n  onFinish: () => void;\n};\n\nconst getQuestionnaire = async ({\n  courseId,\n  questionnaireId,\n  fetchQuestionnaire,\n}: getQuestionnaireProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaire(\n        QuestionnaireModelType.COURSE,\n        courseId,\n        questionnaireId\n      ));\n    if (response && response.success) {\n      return response.data.questions;\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  }\n};\n\nexport const getQuestionnaires = async ({\n  courseId,\n  fetchQuestionnaires,\n  fetchQuestionnaire,\n  onSucces,\n  onFinish,\n}: getQuestionnairesProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaires(QuestionnaireModelType.COURSE, courseId));\n    if (response && response.success) {\n      const questionnairesWithCombinedQuestions = await Promise.all(\n        response.data.map(async (data) => {\n          const res = await getQuestionnaire({\n            courseId,\n            questionnaireId: data.id,\n            fetchQuestionnaire,\n          });\n\n          const combinedQuestions = data.questions.reduce((result, element) => {\n            const matchingElement = res?.find((item) => item.id === element.id);\n\n            const updatedElement = {\n              ...element,\n              rate: matchingElement?.rate,\n              note: matchingElement?.note,\n            };\n\n            updatedElement.rate === null &&\n              updatedElement.note === null &&\n              result.push(updatedElement);\n            return result;\n          }, [] as API.QuestionnaireQuestion[]);\n\n          return {\n            ...data,\n            questions: combinedQuestions.sort(\n              (a, b) => a.position - b.position\n            ),\n          };\n        })\n      );\n\n      onSucces(\n        questionnairesWithCombinedQuestions.filter(\n          (item) => !!item.questions.length\n        )\n      );\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  } finally {\n    onFinish();\n  }\n};\n\nexport const getAverageRate = (reviewQuestions: API.QuestionnaireStars[]) => {\n  const avgRate =\n    reviewQuestions.reduce((sum, item) => sum + item.avg_rate, 0) /\n    reviewQuestions.length;\n  return avgRate.toFixed(1);\n};\n\nexport const getCourseQuestionnaireReviewQuestion = ({\n  questionnaires,\n  questionnaireId,\n  questionType,\n}: {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  questionType: QuestionType;\n}) => {\n  return questionnaires\n    ?.find((element) => element.id === questionnaireId)\n    ?.questions.filter((item) => item.public_answers)\n    .find((item) => item.type === questionType)?.id;\n};\n","import { formatPrice } from \"@/utils/index\";\nimport React from \"react\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport styled from \"styled-components\";\n\ntype Props = {\n  price?: number;\n  taxRate?: number;\n  oldPrice?: number | null;\n};\n\nconst Prices = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  .pricing-card-discount {\n    margin: 0;\n  }\n`;\n\nconst ProductPrices: React.FC<Props> = ({ price, taxRate, oldPrice }) => {\n  return (\n    <Prices>\n      <Title level={3} as={\"h3\"}>\n        {formatPrice(price, taxRate)} z\n      </Title>\n      {oldPrice && (\n        <div className=\"pricing-card-discount\">\n          <Title level={5} as={\"h5\"}>\n            {formatPrice(oldPrice, taxRate)} z\n          </Title>\n        </div>\n      )}\n    </Prices>\n  );\n};\n\nexport default ProductPrices;\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\n\nimport { Tutor } from \"@escolalms/components/lib/components/molecules/Tutor/Tutor\";\n\nimport { API } from \"@escolalms/sdk/lib\";\nimport { APP_CONFIG } from \"@/config/app\";\n\ninterface CourseAuthorProps {\n  courseData: API.Course;\n}\nconst API_URL =\n  window.REACT_APP_API_URL ||\n  (process && process.env && process.env.REACT_APP_PUBLIC_API_URL);\n\nexport const CourseAuthor: FC<CourseAuthorProps> = ({ courseData }) => {\n  const { t } = useTranslation();\n\n  return (\n    <section className=\"course-tutor with-border padding-right\">\n      <Link to={`/tutors/${courseData.author_id}`}>\n        <Tutor\n          mobile={isMobile}\n          avatar={{\n            alt: `${courseData.author.first_name} ${courseData.author.last_name}`,\n            src: courseData.author.path_avatar\n              ? `${API_URL}/api/images/img?path=${courseData.author.path_avatar}`\n              : APP_CONFIG.tutorPlaceholderPath,\n          }}\n          rating={{\n            ratingValue: 4.1,\n          }}\n          title={\n            <Title as=\"h3\" level={4} className=\"title\">\n              {t<string>(\"CoursePage.Teacher\")}\n            </Title>\n          }\n          fullName={`${courseData.author.first_name} ${courseData.author.last_name}`}\n          coursesInfo={\"8 Curses\"}\n          description={courseData.author.bio}\n        />\n      </Link>\n    </section>\n  );\n};\n"],"sourceRoot":""}