(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[12],{612:function(e,t,n){"use strict";n.r(t);var o,i,r,c=n(1),s=n.n(c),u=n(34),l=n(35),a=n(678),d=n(276),b=n(670),p=n(671),j=n(12),v=n(274),m=n(84),f=n(45),h=n(74),x=n(728),O=n(695),g=n(92),T=n(387),N=n(33),k=n(674),C=n(190),P=n(72),y=n(30),I=n(20),_=n(3),w=I.default.div(o||(o=Object(P.a)(["\n  min-height: calc(100vh - 150px);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  .buttons-block {\n    display: grid;\n    gap: 8px;\n  }\n"]))),B=function(e){var t=e.error,n=e.goTo,o=void 0===n?"/courses":n,i=e.goToText,r=e.alternativeButton,c=Object(v.a)().t,s=Object(u.g)(),l=null!==i&&void 0!==i?i:c("CoursePage.SeeOtherCourses");return Object(_.jsx)(d.a,{children:Object(_.jsxs)(w,{children:[Object(_.jsx)(y.Text,{size:"16",children:Object(_.jsx)("strong",{children:c("CoursePage.ErrorOccurred")})}),Object(_.jsx)(y.Text,{size:"14",children:t}),Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{className:"buttons-block",children:[Object(_.jsx)(y.Button,{mode:"secondary",onClick:function(){return s.push(o)},children:l}),r&&Object(_.jsx)(y.Button,{mode:"outline",onClick:function(){return s.push(r.goTo)},children:r.goToText})]})]})})},M=I.default.section(i||(i=Object(P.a)(['\n  padding-bottom: 110px;\n  .main-title {\n    margin-bottom: 20px;\n  }\n  .course-nav {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n  }\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .course-program-finish-modal {\n    font-family: "Mulish", sans-serif;\n    background: #f8f8f8;\n    inset: 0;\n    border: 1px solid #157493;\n    padding: 16px;\n    display: grid;\n    place-content: center;\n    gap: 16px;\n    height: 100%;\n    max-height: 500px;\n\n    p {\n      text-align: center;\n      margin: 0;\n    }\n\n    &__title {\n      font-size: 24px;\n      font-weight: 500;\n    }\n\n    &__paragraph {\n      font-size: 18px;\n    }\n\n    &__buttons {\n      display: grid;\n      grid-auto-flow: column;\n      gap: 8px;\n      justify-content: center;\n      margin-top: 8px;\n    }\n  }\n']))),E=n(280),A=n(75),S=function(){var e=Object(v.a)().t,t=Object(u.g)().push;return Object(_.jsxs)("div",{className:"course-program-finish-modal",children:[Object(_.jsx)("p",{className:"course-program-finish-modal__title",children:e("CourseProgram.FinishTitle")}),Object(_.jsx)("p",{className:"course-program-finish-modal__paragraph",children:e("CourseProgram.FinishSubtitle")}),Object(_.jsxs)("div",{className:"course-program-finish-modal__buttons",children:[Object(_.jsx)(A.Button,{mode:"primary",onClick:function(){return t("/user/my-profile")},children:e("Menu.Profile")}),Object(_.jsx)(A.Button,{mode:"primary",onClick:function(){return t("/courses")},children:e("Menu.Courses")})]})]})},z=n(5),F=n(733),L=n(242),D=n(388),R=I.default.div(r||(r=Object(P.a)(["\n  margin-top: 100px;\n"]))),X=function(e){var t=e.resources,n=e.subtitle,o=Object(v.a)().t,i=t.map((function(e){return{href:e.url,fileName:e.name}}));return Object(_.jsx)(R,{children:Object(_.jsx)(D.Downloads,{subtitle:n,title:o("CourseProgram.TopicAttachment"),downloads:i})})},H=function(e){var t,n,o=e.lesson,i=e.topic,r=e.disableNextTopicButton,c=e.getNextPrevTopic,s=e.onXAPI,u=o&&o.summary&&i&&i.summary?6:12;return Object(_.jsxs)("div",{className:"course-program-player",children:[Object(_.jsxs)("div",{className:"course-program-player-content",children:[i&&i.introduction&&Object(_.jsx)(L.MarkdownRenderer,{children:i.introduction}),Object(_.jsx)("div",{className:"course-program-player-content__wrapper",style:Object(z.a)({},(null===i||void 0===i||null===(t=i.json)||void 0===t?void 0:t.wrapperStyle)||{}),children:Object(_.jsx)(F.a,{lessonId:Number(null===o||void 0===o?void 0:o.id),topicId:i&&Number(i.id),disableNextTopicButton:r,isThereAnotherTopic:Boolean(c(Number(null===i||void 0===i?void 0:i.id))),onXAPI:function(e){return null===s||void 0===s?void 0:s(e)}},null===i||void 0===i?void 0:i.id)})]}),Object(_.jsx)("div",{className:"course-program-content__container",children:Object(_.jsxs)(m.Row,{children:[o&&o.summary&&Object(_.jsx)(m.Col,{sm:12,md:u,lg:u,children:Object(_.jsx)("div",{className:"course-program-summary",children:Object(_.jsx)(L.MarkdownRenderer,{children:o.summary})})}),i&&i.summary&&Object(_.jsx)(m.Col,{sm:12,md:u,lg:u,children:Object(_.jsxs)("div",{className:"course-program-summary",children:[Object(_.jsx)(L.MarkdownRenderer,{children:i.summary}),i&&i.resources&&(null===(n=i.resources)||void 0===n?void 0:n.length)>0&&Object(_.jsx)(X,{resources:i.resources||[],subtitle:i.introduction||""})]})})]})})]})},V=n(693),G=function(e){var t=e.program,n=e.courseId,o=Object(O.a)(t),i=o.topic,r=o.lesson,a=o.onNextTopic,d=o.onPrevTopic,P=o.getNextPrevTopic,y=o.isNextTopicButtonDisabled,I=o.disableNextTopicButton,w=o.sendProgress,A=Object(c.useState)(!1),z=Object(j.a)(A,2),F=z[0],L=z[1],D=function(e){var t=e.program,n=e.disableNextTopicButton,o=e.isThereAnotherTopic,i=void 0===o||o,r=Object(u.i)().topicID,s=Object(c.useContext)(l.EscolaLMSContext),a=s.sendProgress,d=s.h5pProgress,b=Object(c.useState)(null),p=Object(j.a)(b,2),v=p[0],m=p[1],f=Object(c.useCallback)((function(e){var n,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null!==t&&void 0!==t&&t.id&&(null===(n=d(String(null===t||void 0===t?void 0:t.id),Number(r),null===e||void 0===e?void 0:e.statement))||void 0===n||n.then((function(){o&&m(null)})))}),[null===t||void 0===t?void 0:t.id,r,d]);return{onCompleteTopic:Object(c.useCallback)((function(){console.log("onCompleteTopic: ",v),n&&n(!1),null!==t&&void 0!==t&&t.id&&!v?a(null===t||void 0===t?void 0:t.id,[{topic_id:Number(r),status:1}]):v&&f(v)}),[v,n,null===t||void 0===t?void 0:t.id,a,r,f]),onXAPI:Object(c.useCallback)((function(e){var t,o,r,c;i&&n&&n(!Boolean(null===e||void 0===e||null===(t=e.statement)||void 0===t||null===(o=t.verb)||void 0===o?void 0:o.id)),m(e),null!==e&&void 0!==e&&e.statement&&"http://adlnet.gov/expapi/verbs/completed"!==(null===e||void 0===e||null===(r=e.statement)||void 0===r||null===(c=r.verb)||void 0===c?void 0:c.id)&&f(e,!1)}),[i,n,f]),onCompleteH5pTopic:f}}({program:t}),R=D.onCompleteTopic,X=D.onXAPI,G=function(e){var t,n,o=e.topic,i=e.courseId,r=e.program,s=e.lesson,u=Object(c.useContext)(l.EscolaLMSContext),a=u.bookmarkNotes,d=u.fetchBookmarkNotes,b=u.createBookmarkNote,p=u.deleteBookmarkNote,j=Object(v.a)().t,m=Object(c.useMemo)((function(){var e;return null===(e=a.list)||void 0===e?void 0:e.data.filter((function(e){return e.bookmarkable_id===Number(null===o||void 0===o?void 0:o.id)&&null===e.value}))}),[null===(t=a.list)||void 0===t?void 0:t.data,null===o||void 0===o?void 0:o.id]),f=Object(c.useMemo)((function(){var e;return null===(e=a.list)||void 0===e?void 0:e.data.filter((function(e){return e.bookmarkable_id===Number(null===o||void 0===o?void 0:o.id)&&null!==e.value}))}),[null===(n=a.list)||void 0===n?void 0:n.data,null===o||void 0===o?void 0:o.id]);return{handleBookmark:function(){return null!==m&&void 0!==m&&m.length?p(m[0].id).then((function(){d(),E.b.success(j("Notifications.DeleteBookmark"))})):b({bookmarkable_id:Number(null===o||void 0===o?void 0:o.id),bookmarkable_type:"".concat(i,"/").concat(null===s||void 0===s?void 0:s.id,"/").concat(null===o||void 0===o?void 0:o.id,":").concat(r.title,":").concat(null===o||void 0===o?void 0:o.title)}).then((function(){d(),E.b.success(j("Notifications.CreateBookmark"))}))},topicBookmark:m,topicNote:f}}({topic:i,lesson:r,program:t,courseId:n}),J=G.topicBookmark,Q=G.handleBookmark,U=G.topicNote,q=function(e){var t=e.courseId,n=e.program,o=e.topic,i=Object(c.useContext)(l.EscolaLMSContext),r=i.courseProgressDetails,s=i.progress,a=Object(u.h)(),d=Object(u.g)().push,b=3===a.pathname.split("/").length,p=Object(c.useMemo)((function(){var e,n;return null!==(e=r.byId)&&void 0!==e&&e[Number(t)]&&r.byId[Number(t)].value?r.byId[Number(t)].value:s&&s.value&&(null===(n=s.value.find((function(e){return e.course.id===Number(t)})))||void 0===n?void 0:n.progress)}),[s,t]),j=Object(c.useMemo)((function(){var e=p||[],t=e.filter((function(e){return e.status===V.API.CourseProgressItemElementStatus.IN_PROGRESS})).sort((function(e,t){return new Date(t.started_at).getTime()-new Date(e.started_at).getTime()}))[0];return t||e.filter((function(e){return e.status===V.API.CourseProgressItemElementStatus.INCOMPLETE}))[0]}),[p]),v=Object(c.useMemo)((function(){return j&&n.lessons.find((function(e){return e&&e.topics&&e.topics.some((function(e){return e.id===j.topic_id}))}))}),[n,j]);Object(c.useEffect)((function(){b&&v&&j&&d("/course/".concat(n.id,"/").concat(v.id,"/").concat(j.topic_id),null)}),[b,v,n,d,j]);var m=null===p||void 0===p?void 0:p.findIndex((function(e){return e.topic_id===(null===o||void 0===o?void 0:o.id)&&e.status===V.API.CourseProgressItemElementStatus.COMPLETE}));return{getCourseProgress:p,finishedTopicIndex:m}}({courseId:n,program:t,topic:i}),K=q.finishedTopicIndex,W=Object(v.a)().t;return Object(c.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[null===r||void 0===r?void 0:r.id,null===i||void 0===i?void 0:i.id]),Object(c.useEffect)((function(){t&&i&&(null!==P(Number(null===i||void 0===i?void 0:i.id))||I(!0))}),[null===i||void 0===i?void 0:i.id,t]),window.resetProgress=function(){return Object(p.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.id,t.lessons.flatMap((function(e){return e.topics})).map((function(e){return{topic_id:Number(null===e||void 0===e?void 0:e.id),status:0}})));case 2:case"end":return e.stop()}}),e)})))()},t?i?Object(_.jsx)(s.a.Fragment,{children:Object(_.jsxs)(M,{className:"course-program-wrapper",children:[Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{items:[Object(_.jsx)(f.c,{to:"/",children:W("Home")}),Object(_.jsx)(f.c,{to:"/courses",children:W("Courses")}),Object(_.jsx)(N.Text,{size:"12",children:t.title}),Object(_.jsx)(N.Text,{size:"12",children:i.title})]}),Object(_.jsx)(g.Title,{className:"main-title",level:3,children:i.title}),Object(_.jsxs)(m.Row,{children:[Object(_.jsxs)(m.Col,{lg:9,children:[!!F&&Object(_.jsx)(S,{}),!F&&Object(_.jsx)(H,{lesson:r,topic:i,onXAPI:X,disableNextTopicButton:I,getNextPrevTopic:P})]}),Object(_.jsx)(m.Col,{lg:3,children:Object(_.jsx)(x.a,{course:t,topicId:Number(null===i||void 0===i?void 0:i.id),onCourseFinish:function(){return L(!0)},onCompleteTopic:R})})]})]}),Object(_.jsx)("div",{className:"course-nav",children:Object(_.jsx)(C.a,{children:Object(_.jsx)(T.CourseTopNav,{onFinish:function(){return R()},mobile:h.isMobile,onNext:a,isFinished:!!K&&K>-1,onPrev:d,addNotes:!0,newNoteData:{id:i.id,type:"".concat(n,"/").concat(null===r||void 0===r?void 0:r.id,"/").concat(null===i||void 0===i?void 0:i.id,":").concat(t.title,":").concat(null===i||void 0===i?void 0:i.title)},currentNote:null!==U&&void 0!==U&&U.length?U[0]:void 0,addBookmarks:!0,bookmarkBtnText:null!==J&&void 0!==J&&J.length?"deleteBookmark":"addBookmark",onBookmarkClick:function(){return Q()},hasPrev:!!P(Number(null===i||void 0===i?void 0:i.id),!1),hasNext:!y})})})]})}):Object(_.jsx)(B,{error:W("CourseProgram.NoTopic"),goTo:"/course/".concat(t.id),goToText:W("CoursePage.BackToCourse"),alternativeButton:{goTo:"/courses",goToText:W("CoursePage.SeeOtherCourses")}}):Object(_.jsx)(B,{error:W("CourseProgram.NoProgram")})},J=n(113),Q=n(704),U=function(e){var t=e.program,n=null===t||void 0===t?void 0:t.scorm_sco,o=null===n||void 0===n?void 0:n.uuid;return n||o?Object(_.jsx)(Q.a,{value:{title:n.title,uuid:n.uuid}}):Object(_.jsx)(s.a.Fragment,{})};t.default=function(){var e,t=Object(u.i)().id,n=Object(c.useContext)(l.EscolaLMSContext),o=n.program,i=n.fetchProgram,r=n.fetchCourseProgress;return Object(c.useEffect)((function(){t&&(i(Number(t)),r(Number(t)))}),[t]),o.loading?Object(_.jsx)(a.a,{}):o.error?Object(_.jsx)(B,{error:Object(J.t)("CourseProgram.NoProgram")}):o.value&&null!==o&&void 0!==o&&null!==(e=o.value)&&void 0!==e&&e.scorm_sco_id?Object(_.jsx)(d.a,{metaTitle:o.value.title,children:Object(_.jsx)(U,{program:o.value})}):o.value&&o.value.lessons&&o.value.lessons.length?Object(_.jsx)(d.a,{metaTitle:o.value.title,children:Object(_.jsx)(G,{program:o.value,courseId:Number(t)})}):Object(_.jsx)(a.a,{})}},674:function(e,t,n){"use strict";var o,i=n(72),r=(n(1),n(363)),c=n(20),s=n(3),u=c.default.div(o||(o=Object(i.a)(["\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ","!important;\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray2}));t.a=function(e){var t=e.items;return Object(s.jsx)(u,{children:Object(s.jsx)(r.BreadCrumbs,{items:t})})}},678:function(e,t,n){"use strict";var o,i=n(72),r=n(1),c=n(278),s=n(20),u=n(3),l=s.default.div(o||(o=Object(i.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__background:t.background}));t.a=function(){var e=Object(s.useTheme)();return Object(r.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="inherit"}}),[]),Object(u.jsx)(l,{children:Object(u.jsx)(c.Spin,{color:e.primaryColor})})}},695:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(12),i=n(52),r=n(1),c=n(34);function s(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/course/",u=Object(r.useContext)(i.EscolaLMSContext),l=u.sendProgress,a=u.getNextPrevTopic,d=u.progress,b=Object(r.useState)(!1),p=Object(o.a)(b,2),j=p[0],v=p[1],m=Object(c.i)(),f=m.lessonID,h=m.topicID,x=Object(c.g)().push,O=f||e.lessons[0].id,g=h||(e&&e.lessons&&e.lessons[0]&&e.lessons[0].topics&&(null===e||void 0===e||null===(t=e.lessons[0])||void 0===t||null===(n=t.topics[0])||void 0===n?void 0:n.id)||0),T=Object(r.useMemo)((function(){return e.lessons.find((function(e){return e.id===Number(O)}))}),[e,O]),N=Object(r.useMemo)((function(){return T&&T.topics&&T.topics.find((function(e){return e.id===Number(g)}))}),[T,g]),k=Object(r.useCallback)((function(){e.id&&l(e.id,[{topic_id:Number(g),status:1}]).then((function(){var t=a(Number(g));t&&x("".concat(s).concat(e.id,"/").concat(t.lesson_id,"/").concat(t.id),null)}))}),[g,e,x,a,l,s]),C=Object(r.useCallback)((function(){e.id&&l(e.id,[{topic_id:Number(g),status:1}]).then((function(){var t=a(Number(g),!1);t&&x("".concat(s).concat(e.id,"/").concat(t.lesson_id,"/").concat(t.id),null)}))}),[g,e,x,a,l,s]),P=Object(r.useCallback)((function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=a(Number(g),t);n&&x("".concat(s).concat(e.id,"/").concat(null===n||void 0===n?void 0:n.lesson_id,"/").concat(null===n||void 0===n?void 0:n.id))}),[O,g,e,e.id,x,s]);return{topic:N,lesson:T,onNextTopic:k,onPrevTopic:C,getNextPrevTopic:a,isNextTopicButtonDisabled:j,disableNextTopicButton:v,onNextTopicPreview:P,sendProgress:l,progress:d}}},701:function(e,t){},704:function(e,t,n){"use strict";var o,i,r,c=n(12),s=n(72),u=n(1),l=n(75),a=n(52),d=n(20),b=n(274),p=n(275),j=n(3),v=d.default.div(o||(o=Object(s.a)(["\n  > button {\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    z-index: 9999;\n    svg path {\n      fill: white;\n    }\n  }\n  iframe {\n    border: none;\n    display: block;\n    width: 100%;\n  }\n  ","\n"])),(function(e){return e.fullview?Object(d.css)(i||(i=Object(s.a)(["\n        iframe {\n          position: fixed;\n          top: 90px;\n          left: 0;\n          height: calc(100% - 90px - 80px);\n\n          z-index: 9999;\n        }\n      "]))):Object(d.css)(r||(r=Object(s.a)(["\n        display: flex;\n\n        min-height: 80vh;\n        max-height: 80vh;\n        height: 100vh;\n        iframe {\n          height: 100%;\n        }\n      "])))}));t.a=function(e){var t=e.value,n=Object(u.useContext)(a.EscolaLMSContext).apiUrl,o=Object(b.a)().t,i=Object(u.useState)(!1),r=Object(c.a)(i,2),s=r[0],d=r[1];return Object(j.jsx)("div",{className:"scorm-wrapper",children:Object(j.jsxs)(v,{fullview:s,children:[Object(j.jsxs)(l.Button,{onClick:function(){return d(!s)},children:[" ",o("Scorm.Resize")," ",Object(j.jsx)(p.z,{})]}),Object(j.jsx)("iframe",{title:t.title,src:"".concat(n,"/api/scorm/play/").concat(t.uuid)})]})})}},716:function(e,t){},717:function(e,t){},718:function(e,t){},719:function(e,t){},720:function(e,t){},728:function(e,t,n){"use strict";var o,i,r=n(12),c=n(72),s=n(1),u=n.n(s),l=n(245),a=n(52),d=n(34),b=n(74),p=n(20),j=n(695),v=n(30),m=n(113),f=n(3),h=p.default.aside(o||(o=Object(c.a)(["\n  padding-bottom: 100px;\n  .show-agenda-btn {\n    width: 100%;\n  }\n  .agenda-wrapper {\n    ","\n  }\n"])),b.isMobile&&Object(p.css)(i||(i=Object(c.a)(["\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      transform: translate(100%, 0);\n      transition: transform 0.25s;\n      overflow: scroll;\n      padding: 40px 0 55px;\n      z-index: 10;\n      background-color: ",";\n      &--visible {\n        transform: translate(0, 0);\n      }\n      .hide-agenda-btn {\n        display: block;\n        margin: 0 15px 0 auto;\n      }\n    "])),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__background:t.background})));t.a=function(e){var t=e.course,n=e.topicId,o=e.onCompleteTopic,i=e.onCourseFinish,c=Object(j.a)(t).progress,p=Object(s.useContext)(a.EscolaLMSContext).courseProgressDetails,x=Object(d.g)(),O=Object(s.useState)(!1),g=Object(r.a)(O,2),T=g[0],N=g[1],k=((null===t||void 0===t?void 0:t.lessons)||[]).filter((function(e){var t;return e&&e.topics&&(null===e||void 0===e||null===(t=e.topics)||void 0===t?void 0:t.length)>0})),C=Object(s.useContext)(a.EscolaLMSContext).topicIsFinished,P=t.lessons.map((function(e){return e.topics})),y=[].concat.apply([],P),I=Object(s.useMemo)((function(){var e,n=t.id;return p&&p.byId&&p.byId[Number(n)]&&p.byId[Number(n)].value?p.byId[Number(n)].value:c&&c.value&&(null===(e=c.value.find((function(e){return e.course.id===Number(n)})))||void 0===e?void 0:e.progress)}),[c,t]),_=y.filter((function(e){return C(e.id)||(null===I||void 0===I?void 0:I.some((function(t){return t.topic_id===e.id&&1===t.status})))})).map((function(e){return e.id}));return t||k?Object(f.jsxs)(h,{children:[b.isMobile&&Object(f.jsx)(v.Button,{mode:"outline",className:"show-agenda-btn",onClick:function(){return N(!0)},children:Object(m.t)("CourseProgram.ShowAgenda")}),Object(f.jsxs)("div",{className:"".concat(T?"agenda-wrapper agenda-wrapper--visible":"agenda-wrapper"),children:[b.isMobile&&Object(f.jsx)(v.Button,{className:"hide-agenda-btn",mode:"secondary",onClick:function(){return N(!1)},children:"\u2715"}),Object(f.jsx)(l.CourseAgenda,{onNextTopicClick:function(){var e;t.lessons.forEach((function(t,o,i){t.topics&&t.topics.forEach((function(r,c){r.id===n&&(e=t.topics&&t.topics[c+1]?t.topics[c+1]&&t.topics[c+1]:i[o+1]?i[o+1].topics&&i[o+1].topics[0]:i[0].topics&&i[0].topics[0])}))})),e&&(x.push("/course/".concat(t.id,"/").concat(e.lesson_id,"/").concat(e.id)),N(!1))},mobile:b.isMobile,lessons:t.lessons,currentTopicId:n,finishedTopicIds:_,onMarkFinished:function(){return null===o||void 0===o?void 0:o()},onTopicClick:function(e){x.push("/course/".concat(t.id,"/").concat(e.lesson_id,"/").concat(e.id)),N(!1)},onCourseFinished:function(){return null===i||void 0===i?void 0:i()}})]})]}):Object(f.jsx)(u.a.Fragment,{})}},733:function(e,t,n){"use strict";var o,i,r=n(72),c=n(1),s=n.n(c),u=n(35),l=n(20),a=n(242),d=n(3),b=l.default.div(o||(o=Object(r.a)(["\n  h1 {\n    font-size: 2em;\n  }\n  h2 {\n    font-size: 1.5em;\n  }\n  h3 {\n    font-size: 1.17em;\n  }\n  h4 {\n    font-size: 1em;\n  }\n  h5 {\n    font-size: 0.9em;\n  }\n"]))),p=function(e){var t=e.value,n=e.onLoad;return Object(c.useEffect)((function(){t&&n&&n()}),[t,n]),Object(d.jsx)(b,{children:t&&Object(d.jsx)(a.MarkdownRenderer,{children:t})})},j=n(693),v=n(721),m=n(714),f=n(712),h=n(722),x=n(715),O=n(726),g=n(74),T=n(704),N=n(725),k=n.n(N),C=Object(l.default)(x.PdfPlayer)(i||(i=Object(r.a)(["\n  .course-pdf-player {\n    .react-pdf__Page__svg,\n    svg {\n      width: 100% !important;\n      height: auto !important;\n    }\n  }\n"])));t.a=function(e){var t,n,o,i=e.lessonId,r=e.topicId,l=e.preview,a=void 0!==l&&l,b=e.disableNextTopicButton,x=e.isThereAnotherTopic,N=void 0===x||x,P=e.onXAPI,y=Object(c.useContext)(u.EscolaLMSContext),I=y.program,_=y.topicPing,w=y.topicIsFinished,B=Object(c.useMemo)((function(){var e,t,n,o;return null===(e=I.value)||void 0===e||null===(t=e.lessons)||void 0===t||null===(n=t.find((function(e){return e.id===i})))||void 0===n||null===(o=n.topics)||void 0===o?void 0:o.find((function(e){return e.id===r}))}),[I,i,r]);if(Object(c.useEffect)((function(){var e=(null===B||void 0===B?void 0:B.id)&&w(B.id);N&&b&&e&&b(!e&&!Boolean(null===B||void 0===B?void 0:B.can_skip))}),[b,B,N,w]),Object(c.useEffect)((function(){if(!a){var e=function(){return r&&!w(r)&&_(r)},t=setInterval((function(){e()}),5e3);return e(),function(){return clearInterval(t)}}}),[_,a,r,w]),!B)return Object(d.jsx)(s.a.Fragment,{});if(null===(t=B.topicable)||void 0===t||!t.value)return Object(d.jsx)("pre",{className:"error",children:"Error: topic.topicable?.value is missing"});if(B.topicable_type)switch(B.topicable_type){case j.API.TopicType.H5P:return Object(d.jsx)(h.H5Player,{onXAPI:function(e){return null===P||void 0===P?void 0:P(e)},h5pObject:B.topicable.content});case j.API.TopicType.OEmbed:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.OEmbedPlayer,{url:B.topicable.value},r)});case j.API.TopicType.RichText:return Object(d.jsx)(p,{value:B.topicable.value});case j.API.TopicType.Video:return Object(d.jsx)(m.AudioVideoPlayer,{mobile:g.isMobile,url:B.topicable.url,light:!0});case j.API.TopicType.Image:return Object(d.jsx)(v.ImagePlayer,{topic:B,onLoad:function(){}});case j.API.TopicType.Audio:return Object(d.jsx)(m.AudioVideoPlayer,{mobile:g.isMobile,audio:!0,url:B.topicable.url,light:!0});case j.API.TopicType.Pdf:return Object(d.jsx)(C,{url:B.topicable.url,pageConfig:{renderMode:"svg",className:"course-pdf-player"}});case j.API.TopicType.Scorm:return Object(d.jsx)(T.a,{value:{title:B.title,uuid:B.topicable.uuid}});case j.API.TopicType.GiftQuiz:return Object(d.jsx)(k.a,{topic:B});case j.API.TopicType.Project:return Object(d.jsx)(O.ProjectPlayer,{course_id:null!==(n=null===(o=I.value)||void 0===o?void 0:o.id)&&void 0!==n?n:0,topic:B});default:return Object(d.jsx)("pre",{children:B.topicable_type})}return Object(d.jsx)("pre",{children:"loading... (or error)"})}}}]);
//# sourceMappingURL=12.811a97f7.chunk.js.map