(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[11],{617:function(e,n,t){"use strict";t.r(n);var o,i,r,c=t(1),s=t.n(c),u=t(34),a=t(35),l=t(676),d=t(269),b=t(5),j=t(668),v=t(669),p=t(12),m=t(74),f=t(691),h=t(730),x=t(726),O=t(693),g=t(89),N=t(386),T=t(237),k=t(33),y=t(45),P=t(20),C=t(82),_=t(387),w=t(267),I=t(3),M=P.default.div(o||(o=Object(m.a)(["\n  margin-top: 100px;\n"]))),B=function(e){var n=e.resources,t=e.subtitle,o=Object(w.a)().t,i=n.map((function(e){return{href:e.url,fileName:e.name}}));return Object(I.jsx)(M,{children:Object(I.jsx)(_.Downloads,{subtitle:t,title:o("CourseProgram.TopicAttachment"),downloads:i})})},E=t(673),S=t(83),A=t(189),z=t(30),F=P.default.div(i||(i=Object(m.a)(["\n  min-height: calc(100vh - 150px);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  .buttons-block {\n    display: grid;\n    gap: 8px;\n  }\n"]))),D=function(e){var n=e.error,t=e.goTo,o=void 0===t?"/courses":t,i=e.goToText,r=e.alternativeButton,c=Object(w.a)().t,s=Object(u.g)(),a=null!==i&&void 0!==i?i:c("CoursePage.SeeOtherCourses");return Object(I.jsx)(d.a,{children:Object(I.jsxs)(F,{children:[Object(I.jsx)(z.Text,{size:"16",children:Object(I.jsx)("strong",{children:c("CoursePage.ErrorOccurred")})}),Object(I.jsx)(z.Text,{size:"14",children:n}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"buttons-block",children:[Object(I.jsx)(z.Button,{mode:"secondary",onClick:function(){return s.push(o)},children:a}),r&&Object(I.jsx)(z.Button,{mode:"outline",onClick:function(){return s.push(r.goTo)},children:r.goToText})]})]})})},L=t(73),R=t(273),H=P.default.section(r||(r=Object(m.a)(['\n  padding-bottom: 110px;\n  .main-title {\n    margin-bottom: 20px;\n  }\n  .course-nav {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n  }\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .course-program-finish-modal {\n    font-family: "Mulish", sans-serif;\n    background: #f8f8f8;\n    inset: 0;\n    border: 1px solid #157493;\n    padding: 16px;\n    display: grid;\n    place-content: center;\n    gap: 16px;\n    height: 100%;\n    max-height: 500px;\n\n    p {\n      text-align: center;\n      margin: 0;\n    }\n\n    &__title {\n      font-size: 24px;\n      font-weight: 500;\n    }\n\n    &__paragraph {\n      font-size: 18px;\n    }\n\n    &__buttons {\n      display: grid;\n      grid-auto-flow: column;\n      gap: 8px;\n      justify-content: center;\n      margin-top: 8px;\n    }\n  }\n']))),G=function(e){var n,t,o,i,r=e.program,l=e.courseId,d=Object(O.a)(r),m=d.topic,P=d.lesson,_=d.onNextTopic,M=d.onPrevTopic,z=d.getNextPrevTopic,F=d.isNextTopicButtonDisabled,G=d.disableNextTopicButton,V=d.sendProgress,J=d.progress,Q=Object(c.useContext)(a.EscolaLMSContext),U=Q.courseProgressDetails,X=Q.bookmarkNotes,q=Q.fetchBookmarkNotes,K=Q.createBookmarkNote,W=Q.deleteBookmarkNote,Y=Object(c.useState)(!1),Z=Object(p.a)(Y,2),$=Z[0],ee=Z[1],ne=Object(u.i)().topicID,te=Object(u.g)().push,oe=Object(w.a)().t,ie=3===Object(u.h)().pathname.split("/").length,re=Object(c.useMemo)((function(){var e,n;return null!==(e=U.byId)&&void 0!==e&&e[Number(l)]&&U.byId[Number(l)].value?U.byId[Number(l)].value:J&&J.value&&(null===(n=J.value.find((function(e){return e.course.id===Number(l)})))||void 0===n?void 0:n.progress)}),[J,l]),ce=Object(c.useCallback)((function(){null!==r&&void 0!==r&&r.id&&V(null===r||void 0===r?void 0:r.id,[{topic_id:Number(ne),status:1}])}),[r,ne,V]),se=Object(c.useMemo)((function(){var e=re||[],n=e.filter((function(e){return e.status===f.API.CourseProgressItemElementStatus.IN_PROGRESS})).sort((function(e,n){return new Date(n.started_at).getTime()-new Date(e.started_at).getTime()}))[0];return n||e.filter((function(e){return e.status===f.API.CourseProgressItemElementStatus.INCOMPLETE}))[0]}),[re]),ue=Object(c.useMemo)((function(){return se&&r.lessons.find((function(e){return e&&e.topics&&e.topics.some((function(e){return e.id===se.topic_id}))}))}),[r,se]),ae=Object(c.useMemo)((function(){var e;return null===(e=X.list)||void 0===e?void 0:e.data.filter((function(e){return e.bookmarkable_id===Number(null===m||void 0===m?void 0:m.id)&&null===e.value}))}),[null===(n=X.list)||void 0===n?void 0:n.data,null===m||void 0===m?void 0:m.id]),le=Object(c.useMemo)((function(){var e;return null===(e=X.list)||void 0===e?void 0:e.data.filter((function(e){return e.bookmarkable_id===Number(null===m||void 0===m?void 0:m.id)&&null!==e.value}))}),[null===(t=X.list)||void 0===t?void 0:t.data,null===m||void 0===m?void 0:m.id]);Object(c.useEffect)((function(){ie&&ue&&se&&te("/course/".concat(r.id,"/").concat(ue.id,"/").concat(se.topic_id),null)}),[ie,ue,r,te,se]),Object(c.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[null===P||void 0===P?void 0:P.id,null===m||void 0===m?void 0:m.id]),Object(c.useEffect)((function(){r&&m&&(null!==z(Number(null===m||void 0===m?void 0:m.id))||G(!0))}),[null===m||void 0===m?void 0:m.id,r]);var de=P&&P.summary&&m&&m.summary?6:12;window.resetProgress=function(){return Object(v.a)(Object(j.a)().mark((function e(){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(r.id,r.lessons.flatMap((function(e){return e.topics})).map((function(e){return{topic_id:Number(null===e||void 0===e?void 0:e.id),status:0}})));case 2:case"end":return e.stop()}}),e)})))()};var be=null===re||void 0===re?void 0:re.findIndex((function(e){return e.topic_id===(null===m||void 0===m?void 0:m.id)&&e.status===f.API.CourseProgressItemElementStatus.COMPLETE}));return r?m?Object(I.jsx)(s.a.Fragment,{children:Object(I.jsxs)(H,{className:"course-program-wrapper",children:[Object(I.jsxs)(A.a,{children:[Object(I.jsx)(E.a,{items:[Object(I.jsx)(y.c,{to:"/",children:oe("Home")}),Object(I.jsx)(y.c,{to:"/courses",children:oe("Courses")}),Object(I.jsx)(k.Text,{size:"12",children:r.title}),Object(I.jsx)(k.Text,{size:"12",children:m.title})]}),Object(I.jsx)(g.Title,{className:"main-title",level:3,children:m.title}),Object(I.jsxs)(S.Row,{children:[Object(I.jsxs)(S.Col,{lg:9,children:[!!$&&Object(I.jsxs)("div",{className:"course-program-finish-modal",children:[Object(I.jsx)("p",{className:"course-program-finish-modal__title",children:oe("CourseProgram.FinishTitle")}),Object(I.jsx)("p",{className:"course-program-finish-modal__paragraph",children:oe("CourseProgram.FinishSubtitle")}),Object(I.jsxs)("div",{className:"course-program-finish-modal__buttons",children:[Object(I.jsx)(L.Button,{mode:"primary",onClick:function(){return te("/user/my-profile")},children:oe("Menu.Profile")}),Object(I.jsx)(L.Button,{mode:"primary",onClick:function(){return te("/courses")},children:oe("Menu.Courses")})]})]}),!$&&Object(I.jsxs)("div",{className:"course-program-player",children:[Object(I.jsxs)("div",{className:"course-program-player-content",children:[m&&m.introduction&&Object(I.jsx)(T.MarkdownRenderer,{children:m.introduction}),Object(I.jsx)("div",{className:"course-program-player-content__wrapper",style:Object(b.a)({},(null===m||void 0===m||null===(o=m.json)||void 0===o?void 0:o.wrapperStyle)||{}),children:Object(I.jsx)(h.a,{lessonId:Number(null===P||void 0===P?void 0:P.id),topicId:m&&Number(m.id),disableNextTopicButton:G,isThereAnotherTopic:Boolean(z(Number(null===m||void 0===m?void 0:m.id)))},m.id)})]}),Object(I.jsx)("div",{className:"course-program-content__container",children:Object(I.jsxs)(S.Row,{children:[P&&P.summary&&Object(I.jsx)(S.Col,{sm:12,md:de,lg:de,children:Object(I.jsx)("div",{className:"course-program-summary",children:Object(I.jsx)(T.MarkdownRenderer,{children:P.summary})})}),m&&m.summary&&Object(I.jsx)(S.Col,{sm:12,md:de,lg:de,children:Object(I.jsxs)("div",{className:"course-program-summary",children:[Object(I.jsx)(T.MarkdownRenderer,{children:m.summary}),m&&m.resources&&(null===(i=m.resources)||void 0===i?void 0:i.length)>0&&Object(I.jsx)(B,{resources:m.resources||[],subtitle:m.introduction||""})]})})]})})]})]}),Object(I.jsx)(S.Col,{lg:3,children:Object(I.jsx)(x.a,{course:r,lessonId:Number(null===P||void 0===P?void 0:P.id),topicId:Number(null===m||void 0===m?void 0:m.id),onCourseFinish:function(){return ee(!0)}})})]})]}),Object(I.jsx)("div",{className:"course-nav",children:Object(I.jsx)(A.a,{children:Object(I.jsx)(N.CourseTopNav,{onFinish:function(){return ce()},mobile:C.isMobile,onNext:_,isFinished:!!be&&be>-1,onPrev:M,addNotes:!0,newNoteData:{id:m.id,type:"".concat(l,"/").concat(null===P||void 0===P?void 0:P.id,"/").concat(null===m||void 0===m?void 0:m.id,":").concat(r.title,":").concat(null===m||void 0===m?void 0:m.title)},currentNote:null!==le&&void 0!==le&&le.length?le[0]:void 0,addBookmarks:!0,bookmarkBtnText:null!==ae&&void 0!==ae&&ae.length?"deleteBookmark":"addBookmark",onBookmarkClick:function(){return null!==ae&&void 0!==ae&&ae.length?W(ae[0].id).then((function(){q(),R.b.success(oe("Notifications.DeleteBookmark"))})):K({bookmarkable_id:Number(null===m||void 0===m?void 0:m.id),bookmarkable_type:"".concat(l,"/").concat(null===P||void 0===P?void 0:P.id,"/").concat(null===m||void 0===m?void 0:m.id,":").concat(r.title,":").concat(null===m||void 0===m?void 0:m.title)}).then((function(){q(),R.b.success(oe("Notifications.CreateBookmark"))}))},hasPrev:!!z(Number(null===m||void 0===m?void 0:m.id),!1),hasNext:!F})})})]})}):Object(I.jsx)(D,{error:oe("CourseProgram.NoTopic"),goTo:"/course/".concat(r.id),goToText:oe("CoursePage.BackToCourse"),alternativeButton:{goTo:"/courses",goToText:oe("CoursePage.SeeOtherCourses")}}):Object(I.jsx)(D,{error:oe("CourseProgram.NoProgram")})},V=t(110),J=t(702),Q=function(e){var n=e.program,t=null===n||void 0===n?void 0:n.scorm_sco,o=null===t||void 0===t?void 0:t.uuid;return t||o?Object(I.jsx)(J.a,{value:{title:t.title,uuid:t.uuid}}):Object(I.jsx)(s.a.Fragment,{})};n.default=function(){var e,n=Object(u.i)().id,t=Object(c.useContext)(a.EscolaLMSContext),o=t.program,i=t.fetchProgram,r=t.fetchCourseProgress;return Object(c.useEffect)((function(){n&&(i(Number(n)),r(Number(n)))}),[n]),o.loading?Object(I.jsx)(l.a,{}):o.error?Object(I.jsx)(D,{error:Object(V.t)("CourseProgram.NoProgram")}):o.value&&null!==o&&void 0!==o&&null!==(e=o.value)&&void 0!==e&&e.scorm_sco_id?Object(I.jsx)(d.a,{metaTitle:o.value.title,children:Object(I.jsx)(Q,{program:o.value})}):o.value&&o.value.lessons&&o.value.lessons.length?Object(I.jsx)(d.a,{metaTitle:o.value.title,children:Object(I.jsx)(G,{program:o.value,courseId:Number(n)})}):Object(I.jsx)(l.a,{})}},673:function(e,n,t){"use strict";var o,i=t(74),r=(t(1),t(363)),c=t(20),s=t(3),u=c.default.div(o||(o=Object(i.a)(["\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ","!important;\n  }\n"])),(function(e){var n=e.theme;return"dark"===n.mode?n.gray5:n.gray2}));n.a=function(e){var n=e.items;return Object(s.jsx)(u,{children:Object(s.jsx)(r.BreadCrumbs,{items:n})})}},676:function(e,n,t){"use strict";var o,i=t(74),r=t(1),c=t(270),s=t(20),u=t(3),a=s.default.div(o||(o=Object(i.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){var n=e.theme;return"dark"===n.mode?n.dm__background:n.background}));n.a=function(){var e=Object(s.useTheme)();return Object(r.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="inherit"}}),[]),Object(u.jsx)(a,{children:Object(u.jsx)(c.Spin,{color:e.primaryColor})})}},693:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var o=t(12),i=t(55),r=t(1),c=t(34);function s(e){var n,t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/course/",u=Object(r.useContext)(i.EscolaLMSContext),a=u.sendProgress,l=u.getNextPrevTopic,d=u.progress,b=Object(r.useState)(!1),j=Object(o.a)(b,2),v=j[0],p=j[1],m=Object(c.i)(),f=m.lessonID,h=m.topicID,x=Object(c.g)().push,O=f||e.lessons[0].id,g=h||(e&&e.lessons&&e.lessons[0]&&e.lessons[0].topics&&(null===e||void 0===e||null===(n=e.lessons[0])||void 0===n||null===(t=n.topics[0])||void 0===t?void 0:t.id)||0),N=Object(r.useMemo)((function(){return e.lessons.find((function(e){return e.id===Number(O)}))}),[e,O]),T=Object(r.useMemo)((function(){return N&&N.topics&&N.topics.find((function(e){return e.id===Number(g)}))}),[N,g]),k=Object(r.useCallback)((function(){e.id&&a(e.id,[{topic_id:Number(g),status:1}]).then((function(){var n=l(Number(g));n&&x("".concat(s).concat(e.id,"/").concat(n.lesson_id,"/").concat(n.id),null)}))}),[g,e,x,l,a,s]),y=Object(r.useCallback)((function(){e.id&&a(e.id,[{topic_id:Number(g),status:1}]).then((function(){var n=l(Number(g),!1);n&&x("".concat(s).concat(e.id,"/").concat(n.lesson_id,"/").concat(n.id),null)}))}),[g,e,x,l,a,s]),P=Object(r.useCallback)((function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=l(Number(g),n);t&&x("".concat(s).concat(e.id,"/").concat(null===t||void 0===t?void 0:t.lesson_id,"/").concat(null===t||void 0===t?void 0:t.id))}),[O,g,e,e.id,x,s]);return{topic:T,lesson:N,onNextTopic:k,onPrevTopic:y,getNextPrevTopic:l,isNextTopicButtonDisabled:v,disableNextTopicButton:p,onNextTopicPreview:P,sendProgress:a,progress:d}}},699:function(e,n){},702:function(e,n,t){"use strict";var o,i,r,c=t(12),s=t(74),u=t(1),a=t(73),l=t(55),d=t(20),b=t(267),j=t(268),v=t(3),p=d.default.div(o||(o=Object(s.a)(["\n  > button {\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    z-index: 9999;\n    svg path {\n      fill: white;\n    }\n  }\n  iframe {\n    border: none;\n    display: block;\n    width: 100%;\n  }\n  ","\n"])),(function(e){return e.fullview?Object(d.css)(i||(i=Object(s.a)(["\n        iframe {\n          position: fixed;\n          top: 90px;\n          left: 0;\n          height: calc(100% - 90px - 80px);\n\n          z-index: 9999;\n        }\n      "]))):Object(d.css)(r||(r=Object(s.a)(["\n        display: flex;\n\n        min-height: 80vh;\n        max-height: 80vh;\n        height: 100vh;\n        iframe {\n          height: 100%;\n        }\n      "])))}));n.a=function(e){var n=e.value,t=Object(u.useContext)(l.EscolaLMSContext).apiUrl,o=Object(b.a)().t,i=Object(u.useState)(!1),r=Object(c.a)(i,2),s=r[0],d=r[1];return Object(v.jsx)("div",{className:"scorm-wrapper",children:Object(v.jsxs)(p,{fullview:s,children:[Object(v.jsxs)(a.Button,{onClick:function(){return d(!s)},children:[" ",o("Scorm.Resize")," ",Object(v.jsx)(j.v,{})]}),Object(v.jsx)("iframe",{title:n.title,src:"".concat(t,"/api/scorm/play/").concat(n.uuid)})]})})}},714:function(e,n){},715:function(e,n){},716:function(e,n){},717:function(e,n){},718:function(e,n){},726:function(e,n,t){"use strict";var o,i,r=t(12),c=t(74),s=t(1),u=t.n(s),a=t(240),l=t(55),d=t(34),b=t(82),j=t(20),v=t(693),p=t(30),m=t(110),f=t(3),h=j.default.aside(o||(o=Object(c.a)(["\n  padding-bottom: 100px;\n  .show-agenda-btn {\n    width: 100%;\n  }\n  .agenda-wrapper {\n    ","\n  }\n"])),b.isMobile&&Object(j.css)(i||(i=Object(c.a)(["\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      transform: translate(100%, 0);\n      transition: transform 0.25s;\n      overflow: scroll;\n      padding: 40px 0 55px;\n      z-index: 10;\n      background-color: ",";\n      &--visible {\n        transform: translate(0, 0);\n      }\n      .hide-agenda-btn {\n        display: block;\n        margin: 0 15px 0 auto;\n      }\n    "])),(function(e){var n=e.theme;return"dark"===n.mode?n.dm__background:n.background})));n.a=function(e){var n=e.course,t=(e.lessonId,e.topicId),o=e.onCourseFinish,i=Object(v.a)(n),c=i.disableNextTopicButton,j=i.sendProgress,x=i.progress,O=Object(s.useContext)(l.EscolaLMSContext).courseProgressDetails,g=Object(d.g)(),N=Object(s.useState)(!1),T=Object(r.a)(N,2),k=T[0],y=T[1],P=((null===n||void 0===n?void 0:n.lessons)||[]).filter((function(e){var n;return e&&e.topics&&(null===e||void 0===e||null===(n=e.topics)||void 0===n?void 0:n.length)>0})),C=Object(s.useContext)(l.EscolaLMSContext).topicIsFinished,_=n.lessons.map((function(e){return e.topics})),w=[].concat.apply([],_),I=Object(s.useCallback)((function(){c&&c(!1),null!==n&&void 0!==n&&n.id&&j(null===n||void 0===n?void 0:n.id,[{topic_id:Number(t),status:1}])}),[P,t,c,j]),M=Object(s.useMemo)((function(){var e,t=n.id;return O&&O.byId&&O.byId[Number(t)]&&O.byId[Number(t)].value?O.byId[Number(t)].value:x&&x.value&&(null===(e=x.value.find((function(e){return e.course.id===Number(t)})))||void 0===e?void 0:e.progress)}),[x,n]),B=w.filter((function(e){return C(e.id)||(null===M||void 0===M?void 0:M.some((function(n){return n.topic_id===e.id&&1===n.status})))})).map((function(e){return e.id}));return n||P?Object(f.jsxs)(h,{children:[b.isMobile&&Object(f.jsx)(p.Button,{mode:"outline",className:"show-agenda-btn",onClick:function(){return y(!0)},children:Object(m.t)("CourseProgram.ShowAgenda")}),Object(f.jsxs)("div",{className:"".concat(k?"agenda-wrapper agenda-wrapper--visible":"agenda-wrapper"),children:[b.isMobile&&Object(f.jsx)(p.Button,{className:"hide-agenda-btn",mode:"secondary",onClick:function(){return y(!1)},children:"\u2715"}),Object(f.jsx)(a.CourseAgenda,{onNextTopicClick:function(){var e;n.lessons.forEach((function(n,o,i){n.topics&&n.topics.forEach((function(r,c){r.id===t&&(e=n.topics&&n.topics[c+1]?n.topics[c+1]&&n.topics[c+1]:i[o+1]?i[o+1].topics&&i[o+1].topics[0]:i[0].topics&&i[0].topics[0])}))})),e&&(g.push("/course/".concat(n.id,"/").concat(e.lesson_id,"/").concat(e.id)),y(!1))},mobile:b.isMobile,lessons:n.lessons,currentTopicId:t,finishedTopicIds:B,onMarkFinished:function(){return I()},onTopicClick:function(e){g.push("/course/".concat(n.id,"/").concat(e.lesson_id,"/").concat(e.id)),y(!1)},onCourseFinished:function(){return null===o||void 0===o?void 0:o()}})]})]}):Object(f.jsx)(u.a.Fragment,{})}},730:function(e,n,t){"use strict";var o,i,r=t(74),c=t(1),s=t.n(c),u=t(35),a=t(20),l=t(237),d=t(3),b=a.default.div(o||(o=Object(r.a)(["\n  h1 {\n    font-size: 2em;\n  }\n  h2 {\n    font-size: 1.5em;\n  }\n  h3 {\n    font-size: 1.17em;\n  }\n  h4 {\n    font-size: 1em;\n  }\n  h5 {\n    font-size: 0.9em;\n  }\n"]))),j=function(e){var n=e.value,t=e.onLoad;return Object(c.useEffect)((function(){n&&t&&t()}),[n,t]),Object(d.jsx)(b,{children:n&&Object(d.jsx)(l.MarkdownRenderer,{children:n})})},v=t(691),p=t(719),m=t(712),f=t(710),h=t(720),x=t(713),O=t(724),g=t(82),N=t(702),T=t(723),k=t.n(T),y=Object(a.default)(x.PdfPlayer)(i||(i=Object(r.a)(["\n  .course-pdf-player {\n    .react-pdf__Page__svg,\n    svg {\n      width: 100% !important;\n      height: auto !important;\n    }\n  }\n"])));n.a=function(e){var n,t,o,i=e.lessonId,r=e.topicId,a=e.preview,l=void 0!==a&&a,b=e.disableNextTopicButton,x=e.customNoCompletedEventsIds,T=void 0===x?["http://h5p.org/libraries/H5P.GuessTheAnswer-1.5"]:x,P=e.isThereAnotherTopic,C=void 0===P||P,_=Object(c.useContext)(u.EscolaLMSContext),w=_.program,I=_.topicPing,M=_.topicIsFinished,B=_.sendProgress,E=_.h5pProgress,S=Object(c.useMemo)((function(){var e,n,t,o;return null===(e=w.value)||void 0===e||null===(n=e.lessons)||void 0===n||null===(t=n.find((function(e){return e.id===i})))||void 0===t||null===(o=t.topics)||void 0===o?void 0:o.find((function(e){return e.id===r}))}),[w,i,r]),A=Object(c.useCallback)((function(){var e,n;null!==w&&void 0!==w&&null!==(e=w.value)&&void 0!==e&&e.id&&B(null===w||void 0===w||null===(n=w.value)||void 0===n?void 0:n.id,[{topic_id:Number(r),status:1}])}),[w,r,B]),z=Object(c.useCallback)((function(e){var n,t,o;(C&&b&&b(!Boolean(null===e||void 0===e||null===(n=e.statement)||void 0===n||null===(t=n.verb)||void 0===t?void 0:t.id)),null!==e&&void 0!==e&&e.statement)&&E(String(null===w||void 0===w||null===(o=w.value)||void 0===o?void 0:o.id),Number(r),null===e||void 0===e?void 0:e.statement)}),[w,r,E,b,T]);if(Object(c.useEffect)((function(){var e=(null===S||void 0===S?void 0:S.id)&&M(S.id);C&&b&&e&&b(!e&&!Boolean(null===S||void 0===S?void 0:S.can_skip))}),[b,S,C,M]),Object(c.useEffect)((function(){if(!l){var e=function(){return r&&!M(r)&&I(r)},n=setInterval((function(){e()}),5e3);return e(),function(){return clearInterval(n)}}}),[I,l,r,M]),!S)return Object(d.jsx)(s.a.Fragment,{});if(null===(n=S.topicable)||void 0===n||!n.value)return Object(d.jsx)("pre",{className:"error",children:"Error: topic.topicable?.value is missing"});if(S.topicable_type)switch(S.topicable_type){case v.API.TopicType.H5P:return Object(d.jsx)(h.H5Player,{onXAPI:function(e){return z(e)},h5pObject:S.topicable.content});case v.API.TopicType.OEmbed:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(f.OEmbedPlayer,{url:S.topicable.value},r)});case v.API.TopicType.RichText:return Object(d.jsx)(j,{value:S.topicable.value});case v.API.TopicType.Video:return Object(d.jsx)(m.AudioVideoPlayer,{mobile:g.isMobile,url:S.topicable.url,light:!0,onFinish:function(){return A()}});case v.API.TopicType.Image:return Object(d.jsx)(p.ImagePlayer,{topic:S,onLoad:function(){return A()}});case v.API.TopicType.Audio:return Object(d.jsx)(m.AudioVideoPlayer,{mobile:g.isMobile,audio:!0,url:S.topicable.url,light:!0,onFinish:function(){return A()}});case v.API.TopicType.Pdf:return Object(d.jsx)(y,{url:S.topicable.url,pageConfig:{renderMode:"svg",className:"course-pdf-player"}});case v.API.TopicType.Scorm:return Object(d.jsx)(N.a,{value:{title:S.title,uuid:S.topicable.uuid}});case v.API.TopicType.GiftQuiz:return Object(d.jsx)(k.a,{topic:S});case v.API.TopicType.Project:return Object(d.jsx)(O.ProjectPlayer,{course_id:null!==(t=null===(o=w.value)||void 0===o?void 0:o.id)&&void 0!==t?t:0,topic:S,onSuccess:A});default:return Object(d.jsx)("pre",{children:S.topicable_type})}return Object(d.jsx)("pre",{children:"loading... (or error)"})}}}]);
//# sourceMappingURL=11.3cabb10c.chunk.js.map