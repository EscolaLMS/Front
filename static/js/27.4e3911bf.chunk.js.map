{"version":3,"sources":["components/Errorbox/index.tsx","components/Course/CourseProgramLessonsStyles.tsx","components/Course/CourseFinishModal/index.tsx","components/Course/CourseDownloads/index.tsx","components/Course/CourseProgramPlayer/index.tsx","components/Course/CourseProgramLessons.tsx","hooks/useCourseProgram.ts","hooks/useBookmarkNotes.ts","hooks/useCourseBreakPoint.ts","pages/course/index.tsx","components/Breadcrumbs/index.tsx","types/questionnaire.ts","utils/questionnaires.ts","components/QuestionBox/index.tsx","components/RateCourse/index.tsx"],"names":["StyledErrorPage","styled","div","_templateObject","_taggedTemplateLiteral","ErrorBox","_ref","error","_ref$goTo","goTo","routeRoutes","courses","goToText","alternativeButton","t","useTranslation","history","useHistory","buttonText","_jsx","Layout","children","_jsxs","Text","size","className","Button","mode","onClick","push","StyledCourse","section","CourseFinishModal","courseId","_useState","useState","show","step","loading","_useState2","_slicedToArray","state","setState","_useState3","_useState4","questionnaires","setQuestionnaires","_useContext","useContext","EscolaLMSContext","fetchQuestionnaires","fetchQuestionnaire","handleClose","useCallback","prevState","_objectSpread","length","timer","setTimeout","clearTimeout","useEffect","getQuestionnaires","onSucces","items","onFinish","_Fragment","Spin","myProfile","RateCourse","course","QuestionnaireModelType","COURSE","visible","onClose","questionnaire","StyledDownloads","CourseDownloads","resources","subtitle","mappedResources","map","item","href","url","fileName","name","Downloads","title","downloads","CourseProgramPlayer","_topic$json","_topic$resources","lesson","topic","disableNextTopicButton","getNextPrevTopic","onXAPI","columnWidth","summary","introduction","MarkdownRenderer","style","json","wrapperStyle","CourseProgramContent","isThereAnotherTopic","Boolean","Number","id","event","Row","Col","sm","md","lg","CourseProgramLessons","program","_useLessonProgram","useLessonProgram","onNextTopic","onPrevTopic","isNextTopicButtonDisabled","sendProgress","showFinishModal","setShowFinishModal","_useCourseProgram","_ref$isThereAnotherTo","topicID","useParams","h5pProgress","lastH5pEvent","setLastH5pEvent","onCompleteH5pTopic","_h5pProgress","clearState","arguments","undefined","String","statement","then","onCompleteTopic","console","log","topic_id","status","_event$statement","_event$statement$verb","_event$statement2","_event$statement2$ver","verb","useCourseProgram","_useBookmarkNotes","_bookmarkNotes$list2","_bookmarkNotes$list4","bookmarkNotes","fetchBookmarkNotes","createBookmarkNote","deleteBookmarkNote","topicBookmark","useMemo","_bookmarkNotes$list","list","data","filter","bookmarkable_id","value","topicNote","_bookmarkNotes$list3","handleBookmark","toast","success","bookmarkable_type","API","BookmarkableType","Topic","useBookmarkNotes","_useCourseBreakPoint","courseProgressDetails","progress","location","useLocation","startWithBreakPoint","pathname","split","getCourseProgress","_courseProgressDetail","_progress$value$find","byId","find","courseProgress","topicBreakPoint","currentProgress","lastStartedLesson","CourseProgressItemElementStatus","IN_PROGRESS","sort","a","b","Date","started_at","getTime","INCOMPLETE","findLessonBreakPoint","lessons","topics","some","concat","finishedTopicIndex","findIndex","ttopic","COMPLETE","useCourseBreakPoint","window","scrollTo","top","behavior","resetProgress","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","flatMap","stop","Container","Breadcrumbs","Link","to","home","Title","level","CourseSidebar","topicId","onCourseFinish","CourseTopNav","mobile","isMobile","onNext","isFinished","onPrev","addNotes","newNoteData","type","currentNote","addBookmarks","bookmarkBtnText","onBookmarkClick","hasPrev","hasNext","CourseProgramScorm","sco","scorm_sco","uuid","ScormPlayer","React","Fragment","CourseProgram","_program$value","fetchProgram","fetchCourseProgress","Preloader","scorm_sco_id","metaTitle","StyledBreadcrumbs","theme","gray5","gray2","_ref2","BreadCrumbs","QuestionType","getQuestionnaire","questionnaireId","response","t0","sent","abrupt","questions","t1","_x","apply","_ref4","_callee3","_ref3","questionnairesWithCombinedQuestions","_context3","Promise","all","_ref5","_callee2","res","combinedQuestions","_context2","reduce","result","element","matchingElement","updatedElement","rate","note","position","_x3","finish","_x2","getAverageRate","reviewQuestions","sum","avg_rate","toFixed","getCourseQuestionnaireReviewQuestion","_ref6","_questionnaires$find","_questionnaires$find$","questionType","public_answers","QuestionBox","textareaPlaceholder","withStarsRating","handleSubmit","description","answer","setAnswer","onSubmit","Rate","header","TextArea","placeholder","marginTop","onChange","target","Stack","$gap","width","alignSelf","_questionnaire$questi","sendQuestionnaireAnswer","showLastScreen","handleSendAnswer","question_id","visible_on_front","rating","handleSave","Modal","animation","maskAnimation","destroyOnClose","paddingTop","paddingBottom","textAlign","REVIEW"],"mappings":"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","file":"static/js/27.4e3911bf.chunk.js","sourcesContent":["import Layout from \"@/components/_App/Layout\";\nimport { Button, Text } from \"@escolalms/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport routeRoutes from \"@/components/Routes/routes\";\n\nconst StyledErrorPage = styled.div`\n  min-height: calc(100vh - 150px);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  .buttons-block {\n    display: grid;\n    gap: 8px;\n  }\n`;\n\ninterface AlternativeButton {\n  goTo: string;\n  goToText: string;\n}\n\ninterface Props {\n  error: string;\n  goTo?: string;\n  goToText?: string;\n  alternativeButton?: AlternativeButton;\n}\n\nconst ErrorBox: React.FC<Props> = ({\n  error,\n  goTo = routeRoutes.courses,\n  goToText,\n  alternativeButton,\n}) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const buttonText = goToText ?? t(\"CoursePage.SeeOtherCourses\");\n\n  return (\n    <Layout>\n      <StyledErrorPage>\n        <Text size=\"16\">\n          <strong>{t(\"CoursePage.ErrorOccurred\")}</strong>\n        </Text>\n        <Text size=\"14\">{error}</Text>\n        <hr />\n        <div className=\"buttons-block\">\n          <Button mode=\"secondary\" onClick={() => history.push(goTo)}>\n            {buttonText}\n          </Button>\n          {alternativeButton && (\n            <Button\n              mode=\"outline\"\n              onClick={() => history.push(alternativeButton.goTo)}\n            >\n              {alternativeButton.goToText}\n            </Button>\n          )}\n        </div>\n      </StyledErrorPage>\n    </Layout>\n  );\n};\nexport default ErrorBox;\n","import styled from \"styled-components\";\n\nexport const StyledCourse = styled.section`\n  padding-bottom: 110px;\n  .main-title {\n    margin-bottom: 20px;\n  }\n  .course-nav {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n  }\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .course-program-finish-modal {\n    font-family: \"Mulish\", sans-serif;\n    background: #f8f8f8;\n    inset: 0;\n    border: 1px solid #157493;\n    padding: 16px;\n    display: grid;\n    place-content: center;\n    gap: 16px;\n    height: 100%;\n    max-height: 500px;\n\n    p {\n      text-align: center;\n      margin: 0;\n    }\n\n    &__title {\n      font-size: 24px;\n      font-weight: 500;\n    }\n\n    &__paragraph {\n      font-size: 18px;\n    }\n\n    &__buttons {\n      display: grid;\n      grid-auto-flow: column;\n      gap: 8px;\n      justify-content: center;\n      margin-top: 8px;\n    }\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport RateCourse from \"@/components/RateCourse\";\nimport { QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { Spin } from \"@escolalms/components\";\nimport { getQuestionnaires } from \"@/utils/questionnaires\";\nimport routeRoutes from \"@/components/Routes/routes\";\n\ninterface FinishModalProps {\n  courseId?: number;\n}\n\nconst CourseFinishModal = ({ courseId }: FinishModalProps) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const [state, setState] = useState({\n    show: false,\n    step: 0,\n    loading: false,\n  });\n  const [questionnaires, setQuestionnaires] = useState<API.Questionnaire[]>([]);\n  const { fetchQuestionnaires, fetchQuestionnaire } =\n    useContext(EscolaLMSContext);\n  const handleClose = useCallback(() => {\n    setState((prevState) => ({\n      ...prevState,\n      show: false,\n    }));\n\n    if (state.step < questionnaires.length - 1) {\n      setState((prevState) => ({\n        ...prevState,\n        step: prevState.step + 1,\n      }));\n\n      const timer = setTimeout(() => {\n        setState((prevState) => ({\n          ...prevState,\n          show: true,\n        }));\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [questionnaires, state.step]);\n\n  useEffect(() => {\n    setState((prevState) => ({\n      ...prevState,\n      loading: true,\n    }));\n    courseId &&\n      getQuestionnaires({\n        courseId,\n        fetchQuestionnaire,\n        fetchQuestionnaires,\n        onSucces: (items) => {\n          setQuestionnaires(items);\n        },\n        onFinish: () =>\n          setState((prevState) => ({\n            ...prevState,\n            loading: false,\n          })),\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId]);\n\n  return (\n    <>\n      <div className=\"course-program-finish-modal\">\n        {state.loading ? (\n          <Spin />\n        ) : (\n          <>\n            <p className=\"course-program-finish-modal__title\">\n              {t(\"CourseProgram.FinishTitle\")}\n            </p>\n\n            <p className=\"course-program-finish-modal__paragraph\">\n              {!!questionnaires?.length\n                ? t(\"CourseProgram.FinishSubtitle\")\n                : t(\"CourseProgram.FinishSubtitleNoRating\")}\n            </p>\n            <div className=\"course-program-finish-modal__buttons\">\n              {!!questionnaires?.length && (\n                <Button\n                  mode=\"primary\"\n                  onClick={() =>\n                    setState((prevState) => ({\n                      ...prevState,\n                      show: true,\n                    }))\n                  }\n                >\n                  {t(\"MyProfilePage.RateCourse\")}\n                </Button>\n              )}\n              <Button\n                mode=\"primary\"\n                onClick={() => push(routeRoutes.myProfile)}\n              >\n                {t(\"Menu.Profile\")}\n              </Button>\n              <Button mode=\"primary\" onClick={() => push(routeRoutes.courses)}>\n                {t(\"Menu.Courses\")}\n              </Button>\n            </div>\n          </>\n        )}\n      </div>\n\n      {state.show && courseId && !!questionnaires.length && (\n        <RateCourse\n          course={QuestionnaireModelType.COURSE}\n          courseId={courseId}\n          visible={state.show}\n          onClose={() => handleClose()}\n          questionnaire={questionnaires[state.step]}\n        />\n      )}\n    </>\n  );\n};\n\nexport default CourseFinishModal;\n","import React from \"react\";\nimport { Downloads } from \"@escolalms/components/lib/components/molecules/Downloads/Downloads\";\nimport styled from \"styled-components\";\nimport { useTranslation } from \"react-i18next\";\nimport { API } from \"@escolalms/sdk/lib\";\n\ntype Props = {\n  resources: API.TopicResource[];\n  subtitle: string;\n};\n\nconst StyledDownloads = styled.div`\n  margin-top: 100px;\n`;\n\nconst CourseDownloads: React.FC<Props> = ({ resources, subtitle }) => {\n  const { t } = useTranslation();\n  const mappedResources = resources.map((item) => {\n    return { href: item.url, fileName: item.name };\n  });\n  return (\n    <StyledDownloads>\n      <Downloads\n        subtitle={subtitle}\n        title={t<string>(\"CourseProgram.TopicAttachment\")}\n        downloads={mappedResources}\n      />\n    </StyledDownloads>\n  );\n};\n\nexport default CourseDownloads;\n","import React from \"react\";\nimport { Col, Row } from \"react-grid-system\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { XAPIEvent } from \"@escolalms/h5p-react\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\n\nimport CourseProgramContent from \"@/components/Course/CourseProgramContent\";\nimport CourseDownloads from \"../CourseDownloads\";\n\ninterface Props {\n  lesson: API.Lesson | undefined;\n  topic: API.Topic | undefined;\n  disableNextTopicButton: React.Dispatch<React.SetStateAction<boolean>>;\n  getNextPrevTopic: (\n    topicId: number,\n    next?: boolean | undefined\n  ) => API.Topic | null;\n  onXAPI?: (event: XAPIEvent) => void;\n}\n\nconst CourseProgramPlayer = ({\n  lesson,\n  topic,\n  disableNextTopicButton,\n  getNextPrevTopic,\n  onXAPI,\n}: Props) => {\n  const columnWidth =\n    lesson && lesson.summary && topic && topic.summary ? 6 : 12;\n\n  return (\n    <div className=\"course-program-player\">\n      <div className=\"course-program-player-content\">\n        {topic && topic.introduction && (\n          <MarkdownRenderer>{topic.introduction}</MarkdownRenderer>\n        )}\n        <div\n          className=\"course-program-player-content__wrapper\"\n          style={{\n            ...((topic?.json?.wrapperStyle as object) || {}),\n          }}\n        >\n          <CourseProgramContent\n            key={topic?.id}\n            topic={topic}\n            disableNextTopicButton={disableNextTopicButton}\n            isThereAnotherTopic={Boolean(getNextPrevTopic(Number(topic?.id)))}\n            onXAPI={(event) => onXAPI?.(event)}\n          />\n        </div>\n      </div>\n      <div className=\"course-program-content__container\">\n        <Row>\n          {lesson && lesson.summary && (\n            <Col sm={12} md={columnWidth} lg={columnWidth}>\n              <div className=\"course-program-summary\">\n                <MarkdownRenderer>{lesson.summary}</MarkdownRenderer>\n              </div>\n            </Col>\n          )}\n          {topic && topic.summary && (\n            <Col sm={12} md={columnWidth} lg={columnWidth}>\n              <div className=\"course-program-summary\">\n                <MarkdownRenderer>{topic.summary}</MarkdownRenderer>\n\n                {topic && topic.resources && topic.resources?.length > 0 && (\n                  <CourseDownloads\n                    resources={topic.resources || []}\n                    subtitle={topic.introduction || \"\"}\n                  />\n                )}\n              </div>\n            </Col>\n          )}\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nexport default CourseProgramPlayer;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { useTranslation } from \"react-i18next\";\nimport { Col, Row } from \"react-grid-system\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport {\n  CourseTopNav,\n  NoteData,\n} from \"@escolalms/components/lib/components/molecules/CourseTopNav/CourseTopNav\";\n\nimport CourseSidebar from \"@/components/Course/CourseSidebar\";\nimport { useLessonProgram } from \"@/hooks/useLessonProgram\";\nimport { useCourseProgram } from \"@/hooks/useCourseProgram\";\nimport { useBookmarkNotes } from \"@/hooks/useBookmarkNotes\";\nimport { useCourseBreakPoint } from \"@/hooks/useCourseBreakPoint\";\nimport Breadcrumbs from \"../Breadcrumbs\";\nimport Container from \"../Container\";\nimport ErrorBox from \"../Errorbox\";\nimport { StyledCourse } from \"./CourseProgramLessonsStyles\";\nimport CourseFinishModal from \"./CourseFinishModal\";\nimport CourseProgramPlayer from \"./CourseProgramPlayer\";\nimport { BookmarkableType } from \"@escolalms/sdk/lib/types/api\";\nimport routeRoutes from \"@/components/Routes/routes\";\n\nexport const CourseProgramLessons: React.FC<{\n  program: API.CourseProgram;\n  courseId?: number;\n}> = ({ program, courseId }) => {\n  const {\n    topic,\n    lesson,\n    onNextTopic,\n    onPrevTopic,\n    getNextPrevTopic,\n    isNextTopicButtonDisabled,\n    disableNextTopicButton,\n    sendProgress,\n  } = useLessonProgram(program);\n  const [showFinishModal, setShowFinishModal] = useState(false);\n  const { onCompleteTopic, onXAPI } = useCourseProgram({ program });\n  const { topicBookmark, handleBookmark, topicNote } = useBookmarkNotes({\n    topic,\n    lesson,\n    program,\n    courseId,\n  });\n  const { finishedTopicIndex } = useCourseBreakPoint({\n    courseId,\n    program,\n    topic,\n  });\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, [lesson?.id, topic?.id]);\n\n  useEffect(() => {\n    if (!program || !topic) return;\n    if (getNextPrevTopic(Number(topic?.id)) === null) {\n      disableNextTopicButton(true);\n      return;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [topic?.id, program]);\n\n  //@ts-ignore\n  window.resetProgress = () =>\n    (async () => {\n      await sendProgress(\n        program.id,\n        program.lessons\n          .flatMap((lesson) => lesson.topics)\n          .map((topic) => ({ topic_id: Number(topic?.id), status: 0 }))\n      );\n    })();\n\n  if (!program) {\n    return <ErrorBox error={t(\"CourseProgram.NoProgram\")} />;\n  }\n\n  if (!topic) {\n    return (\n      <ErrorBox\n        error={t(\"CourseProgram.NoTopic\")}\n        goTo={`/course/${program.id}`}\n        goToText={t(\"CoursePage.BackToCourse\")}\n        alternativeButton={{\n          goTo: routeRoutes.courses,\n          goToText: t(\"CoursePage.SeeOtherCourses\"),\n        }}\n      />\n    );\n  }\n\n  return (\n    <StyledCourse className=\"course-program-wrapper\">\n      <Container>\n        <Breadcrumbs\n          items={[\n            <Link to={routeRoutes.home}>{t(\"Home\")}</Link>,\n            <Link to={routeRoutes.courses}>{t(\"Courses\")}</Link>,\n            <Text size=\"12\">{program.title}</Text>,\n            <Text size=\"12\">{topic.title}</Text>,\n          ]}\n        />\n        <Title className=\"main-title\" level={3}>\n          {topic.title}\n        </Title>\n        <Row>\n          <Col lg={9}>\n            {showFinishModal && <CourseFinishModal courseId={courseId} />}\n            {!showFinishModal && (\n              <CourseProgramPlayer\n                lesson={lesson}\n                topic={topic}\n                onXAPI={onXAPI}\n                disableNextTopicButton={disableNextTopicButton}\n                getNextPrevTopic={getNextPrevTopic}\n              />\n            )}\n          </Col>\n          <Col lg={3}>\n            <CourseSidebar\n              course={program}\n              topicId={Number(topic?.id)}\n              onCourseFinish={() => setShowFinishModal(true)}\n              onCompleteTopic={onCompleteTopic}\n            />\n          </Col>\n        </Row>\n      </Container>\n      <div className=\"course-nav\">\n        <Container>\n          <CourseTopNav\n            onFinish={() => onCompleteTopic()}\n            mobile={isMobile}\n            onNext={onNextTopic}\n            isFinished={finishedTopicIndex ? finishedTopicIndex > -1 : false}\n            onPrev={onPrevTopic}\n            addNotes\n            newNoteData={{\n              id: topic.id,\n              type: `${courseId}/${lesson?.id}/${topic?.id}:${program.title}:${topic?.title}` as BookmarkableType,\n            }}\n            currentNote={topicNote?.[0] as NoteData | undefined}\n            addBookmarks\n            bookmarkBtnText={\n              topicBookmark?.length ? \"deleteBookmark\" : \"addBookmark\"\n            }\n            onBookmarkClick={() => handleBookmark()}\n            hasPrev={!!getNextPrevTopic(Number(topic?.id), false)}\n            hasNext={!isNextTopicButtonDisabled}\n          />\n        </Container>\n      </div>\n    </StyledCourse>\n  );\n};\n\nexport default CourseProgramLessons;\n","import { useCallback, useContext, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { XAPIEvent } from \"@escolalms/h5p-react\";\n\ninterface Props {\n  program: API.CourseProgram;\n  disableNextTopicButton?: (b: boolean) => void;\n  isThereAnotherTopic?: boolean;\n}\n\nexport const useCourseProgram = ({\n  program,\n  disableNextTopicButton,\n  isThereAnotherTopic = true,\n}: Props) => {\n  const { topicID } = useParams<{ lessonID: string; topicID: string }>();\n  const { sendProgress, h5pProgress } = useContext(EscolaLMSContext);\n  const [lastH5pEvent, setLastH5pEvent] = useState<XAPIEvent | null>(null);\n\n  const onCompleteH5pTopic = useCallback(\n    (event: XAPIEvent, clearState: boolean = true): void => {\n      if (program?.id) {\n        h5pProgress(\n          String(program?.id),\n          Number(topicID),\n          event?.statement as API.IStatement\n        )?.then(() => {\n          if (clearState) {\n            setLastH5pEvent(null);\n          }\n        });\n      }\n    },\n    [program?.id, topicID, h5pProgress]\n  );\n\n  const onCompleteTopic = useCallback((): void => {\n    console.log(\"onCompleteTopic: \", lastH5pEvent);\n    disableNextTopicButton && disableNextTopicButton(false);\n    if (program?.id && !lastH5pEvent) {\n      sendProgress(program?.id, [{ topic_id: Number(topicID), status: 1 }]);\n    } else if (lastH5pEvent) {\n      onCompleteH5pTopic(lastH5pEvent);\n    }\n  }, [\n    lastH5pEvent,\n    disableNextTopicButton,\n    program?.id,\n    sendProgress,\n    topicID,\n    onCompleteH5pTopic,\n  ]);\n\n  const onXAPI = useCallback(\n    (event: XAPIEvent): void => {\n      isThereAnotherTopic &&\n        disableNextTopicButton &&\n        disableNextTopicButton(!Boolean(event?.statement?.verb?.id));\n\n      setLastH5pEvent(event);\n      if (\n        event?.statement &&\n        event?.statement?.verb?.id !==\n          \"http://adlnet.gov/expapi/verbs/completed\"\n      ) {\n        onCompleteH5pTopic(event, false);\n      }\n    },\n    [isThereAnotherTopic, disableNextTopicButton, onCompleteH5pTopic]\n  );\n\n  return {\n    onCompleteTopic,\n    onXAPI,\n    onCompleteH5pTopic,\n  };\n};\n","import { useContext, useMemo } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useTranslation } from \"react-i18next\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { API } from \"@escolalms/sdk/lib\";\n\ninterface Props {\n  topic?: API.Topic;\n  courseId?: number;\n  program: API.CourseProgram;\n  lesson?: API.Lesson;\n}\n\nexport const useBookmarkNotes = ({\n  topic,\n  courseId,\n  program,\n  lesson,\n}: Props) => {\n  const {\n    bookmarkNotes,\n    fetchBookmarkNotes,\n    createBookmarkNote,\n    deleteBookmarkNote,\n  } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n\n  const topicBookmark = useMemo(\n    () =>\n      bookmarkNotes.list?.data.filter(\n        (item) =>\n          item.bookmarkable_id === Number(topic?.id) && item.value === null\n      ),\n    [bookmarkNotes.list?.data, topic?.id]\n  );\n\n  const handleBookmark = () => {\n    return !topicBookmark?.length\n      ? createBookmarkNote({\n          bookmarkable_id: Number(topic?.id),\n          bookmarkable_type: API.BookmarkableType.Topic,\n          value: null,\n        }).then(() => {\n          fetchBookmarkNotes();\n          toast.success(t<string>(\"Notifications.CreateBookmark\"));\n        })\n      : deleteBookmarkNote(topicBookmark[0].id).then(() => {\n          fetchBookmarkNotes();\n          toast.success(t<string>(\"Notifications.DeleteBookmark\"));\n        });\n  };\n\n  const topicNote = useMemo(\n    () =>\n      bookmarkNotes.list?.data.filter(\n        (item) =>\n          item.bookmarkable_id === Number(topic?.id) && item.value !== null\n      ),\n    [bookmarkNotes.list?.data, topic?.id]\n  );\n\n  return {\n    handleBookmark,\n    topicBookmark,\n    topicNote,\n  };\n};\n","import { useContext, useEffect, useMemo } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\ninterface Props {\n  courseId: number | undefined;\n  program: API.CourseProgram;\n  topic: API.Topic | undefined;\n}\n\nexport const useCourseBreakPoint = ({ courseId, program, topic }: Props) => {\n  const { courseProgressDetails, progress } = useContext(EscolaLMSContext);\n  const location = useLocation();\n  const { push } = useHistory();\n  // if pathname contain 3 splited items we cannot fire topicbreakpoint effect otherwise we can\n  const startWithBreakPoint = location.pathname.split(\"/\").length === 3;\n\n  const getCourseProgress = useMemo(() => {\n    if (\n      courseProgressDetails.byId?.[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      return courseProgressDetails.byId[Number(courseId)].value;\n    }\n    return (\n      progress &&\n      progress.value &&\n      progress.value.find(\n        (courseProgress: API.CourseProgressItem) =>\n          courseProgress.course.id === Number(courseId)\n      )?.progress\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [progress, courseId]);\n\n  const topicBreakPoint = useMemo(() => {\n    const currentProgress = getCourseProgress || [];\n\n    const lastStartedLesson = currentProgress\n      .filter(\n        (topic: API.CourseProgressItemElement) =>\n          topic.status === API.CourseProgressItemElementStatus.IN_PROGRESS\n      )\n      .sort(\n        (a: API.CourseProgressItemElement, b: API.CourseProgressItemElement) =>\n          new Date(b.started_at as string).getTime() -\n          new Date(a.started_at as string).getTime()\n      )[0];\n\n    if (!lastStartedLesson) {\n      return currentProgress.filter(\n        (topic: API.CourseProgressItemElement) =>\n          topic.status === API.CourseProgressItemElementStatus.INCOMPLETE\n      )[0];\n    }\n    return lastStartedLesson;\n  }, [getCourseProgress]);\n\n  const findLessonBreakPoint = useMemo(() => {\n    return (\n      topicBreakPoint &&\n      program.lessons.find(\n        (lesson: API.Lesson) =>\n          lesson &&\n          lesson.topics &&\n          lesson.topics.some(\n            (topic: API.Topic) => topic.id === topicBreakPoint.topic_id\n          )\n      )\n    );\n  }, [program, topicBreakPoint]);\n\n  useEffect(() => {\n    if (startWithBreakPoint) {\n      if (findLessonBreakPoint && topicBreakPoint) {\n        push(\n          `/course/${program.id}/${findLessonBreakPoint.id}/${topicBreakPoint.topic_id}`,\n          null\n        );\n      }\n    }\n  }, [\n    startWithBreakPoint,\n    findLessonBreakPoint,\n    program,\n    push,\n    topicBreakPoint,\n  ]);\n\n  const finishedTopicIndex = getCourseProgress?.findIndex((ttopic) => {\n    return (\n      ttopic.topic_id === topic?.id &&\n      ttopic.status === API.CourseProgressItemElementStatus.COMPLETE\n    );\n  });\n\n  return {\n    getCourseProgress,\n    finishedTopicIndex,\n  };\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Preloader from \"@/components/Preloader\";\nimport Layout from \"@/components/_App/Layout\";\n\nimport CourseProgramLessons from \"@/components/Course/CourseProgramLessons\";\nimport ErrorBox from \"@/components/Errorbox\";\nimport { t } from \"i18next\";\nimport ScormPlayer from \"@/components/Course/Players/ScormPlayer\";\n\nconst CourseProgramScorm: React.FC<{ program: API.CourseProgram }> = ({\n  program,\n}) => {\n  const sco = program?.scorm_sco;\n  const uuid = sco?.uuid;\n\n  if (!sco && !uuid) {\n    return <React.Fragment />;\n  }\n\n  return (\n    <ScormPlayer\n      value={{\n        title: sco.title,\n        uuid: sco.uuid,\n      }}\n    />\n  );\n};\n\nconst CourseProgram = () => {\n  const { id } = useParams<{ id: string }>();\n  const { program, fetchProgram, fetchCourseProgress } =\n    useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (id) {\n      fetchProgram(Number(id));\n      fetchCourseProgress(Number(id));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n  if (program.loading) {\n    return <Preloader />;\n  }\n  if (program.error) {\n    return <ErrorBox error={t(\"CourseProgram.NoProgram\")} />;\n  }\n  if (program.value && program?.value?.scorm_sco_id) {\n    return (\n      <Layout metaTitle={program.value.title}>\n        <CourseProgramScorm program={program.value} />\n      </Layout>\n    );\n  }\n  if (program.value && program.value.lessons && program.value.lessons.length) {\n    return (\n      <Layout metaTitle={program.value.title}>\n        <CourseProgramLessons program={program.value} courseId={Number(id)} />\n      </Layout>\n    );\n  }\n\n  return <Preloader />;\n};\n\nexport default CourseProgram;\n","import React from \"react\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\nimport styled from \"styled-components\";\n\ntype Props = {\n  items: React.ReactNode[];\n};\n\nconst StyledBreadcrumbs = styled.div`\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray5 : theme.gray2}!important;\n  }\n`;\n\nconst Breadcrumbs: React.FC<Props> = ({ items }) => {\n  return (\n    <StyledBreadcrumbs>\n      <BreadCrumbs items={items} />\n    </StyledBreadcrumbs>\n  );\n};\n\nexport default Breadcrumbs;\n","export enum QuestionnaireModelType {\n  COURSE = \"course\",\n  WEBINAR = \"webinar\",\n}\n\nexport enum QuestionType {\n  RATE = \"rate\",\n  TEXT = \"text\",\n  REVIEW = \"review\",\n}\n","import { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { t } from \"i18next\";\nimport { toast } from \"react-toastify\";\n\ntype getQuestionnaireProps = {\n  questionnaireId: number;\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n};\n\ntype getQuestionnairesProps = {\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n  fetchQuestionnaires: (\n    model: string,\n    id: number\n  ) => Promise<API.DefaultMetaResponse<API.Questionnaire>>;\n  onSucces: (questionnairesArray: API.Questionnaire[]) => void;\n  onFinish: () => void;\n};\n\nconst getQuestionnaire = async ({\n  courseId,\n  questionnaireId,\n  fetchQuestionnaire,\n}: getQuestionnaireProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaire(\n        QuestionnaireModelType.COURSE,\n        courseId,\n        questionnaireId\n      ));\n    if (response && response.success) {\n      return response.data.questions;\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  }\n};\n\nexport const getQuestionnaires = async ({\n  courseId,\n  fetchQuestionnaires,\n  fetchQuestionnaire,\n  onSucces,\n  onFinish,\n}: getQuestionnairesProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaires(QuestionnaireModelType.COURSE, courseId));\n    if (response && response.success) {\n      const questionnairesWithCombinedQuestions = await Promise.all(\n        response.data.map(async (data) => {\n          const res = await getQuestionnaire({\n            courseId,\n            questionnaireId: data.id,\n            fetchQuestionnaire,\n          });\n\n          const combinedQuestions = data.questions.reduce((result, element) => {\n            const matchingElement = res?.find((item) => item.id === element.id);\n\n            const updatedElement = {\n              ...element,\n              rate: matchingElement?.rate,\n              note: matchingElement?.note,\n            };\n\n            updatedElement.rate === null &&\n              updatedElement.note === null &&\n              result.push(updatedElement);\n            return result;\n          }, [] as API.QuestionnaireQuestion[]);\n\n          return {\n            ...data,\n            questions: combinedQuestions.sort(\n              (a, b) => a.position - b.position\n            ),\n          };\n        })\n      );\n\n      onSucces(\n        questionnairesWithCombinedQuestions.filter(\n          (item) => !!item.questions.length\n        )\n      );\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  } finally {\n    onFinish();\n  }\n};\n\nexport const getAverageRate = (reviewQuestions: API.QuestionnaireStars[]) => {\n  const avgRate =\n    reviewQuestions.reduce((sum, item) => sum + item.avg_rate, 0) /\n    reviewQuestions.length;\n  return avgRate.toFixed(1);\n};\n\nexport const getCourseQuestionnaireReviewQuestion = ({\n  questionnaires,\n  questionnaireId,\n  questionType,\n}: {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  questionType: QuestionType;\n}) => {\n  return questionnaires\n    ?.find((element) => element.id === questionnaireId)\n    ?.questions.filter((item) => item.public_answers)\n    .find((item) => item.type === questionType)?.id;\n};\n","import { FC, useState } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport {\n  Button,\n  Rate,\n  Stack,\n  TextArea,\n  Title,\n  Text,\n} from \"@escolalms/components\";\nimport { useTranslation } from \"react-i18next\";\ninterface QuestionBoxProps {\n  withStarsRating?: boolean;\n  data: API.QuestionnaireQuestion;\n  textareaPlaceholder: string;\n  handleSubmit: (rate: number, note?: string) => void;\n}\n\nexport const QuestionBox: FC<QuestionBoxProps> = ({\n  data,\n  textareaPlaceholder,\n  withStarsRating,\n  handleSubmit,\n}) => {\n  const { t } = useTranslation();\n  const { title, description } = data;\n  const [answer, setAnswer] = useState({ rate: 0, note: \"\" });\n\n  const submit = () => {\n    handleSubmit(answer.rate, answer.note);\n    setAnswer({ rate: 0, note: \"\" });\n  };\n\n  return (\n    <form onSubmit={submit}>\n      {!!withStarsRating ? (\n        <Rate\n          onSubmit={(rate) => setAnswer((prev) => ({ ...prev, rate }))}\n          header={data.title}\n        >\n          <TextArea\n            placeholder={textareaPlaceholder}\n            style={{ marginTop: \"30px\" }}\n            value={answer.note}\n            onChange={({ target: { value } }) =>\n              setAnswer((prev) => ({ ...prev, note: value }))\n            }\n          />\n        </Rate>\n      ) : (\n        <Stack $gap={30}>\n          <Title>{title}</Title>\n          <Text>{description}</Text>\n          <TextArea\n            placeholder={textareaPlaceholder}\n            value={answer.note}\n            onChange={({ target: { value } }) =>\n              setAnswer((prev) => ({ ...prev, note: value }))\n            }\n          />\n          <Button\n            type=\"submit\"\n            mode=\"primary\"\n            style={{ width: \"fit-content\", alignSelf: \"center\" }}\n          >\n            {answer.note.length\n              ? t(\"RateCourse.SendAnswer\")\n              : t(\"RateCourse.NoAnswer\")}\n          </Button>\n        </Stack>\n      )}\n    </form>\n  );\n};\n","import React, { useCallback, useContext, useState } from \"react\";\nimport { Modal } from \"@escolalms/components/lib/components/atoms/Modal/Modal\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { toast } from \"react-toastify\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { useTranslation } from \"react-i18next\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { QuestionBox } from \"../QuestionBox\";\nimport { QuestionType } from \"@/types/questionnaire\";\n\ntype Props = {\n  course: string;\n  courseId: number;\n  visible: boolean;\n  questionnaire: API.Questionnaire;\n  onClose: () => void;\n};\n\nconst RateCourse: React.FC<Props> = ({\n  course,\n  courseId,\n  visible,\n  questionnaire,\n  onClose,\n}) => {\n  const { sendQuestionnaireAnswer } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n\n  const [state, setState] = useState({\n    loading: false,\n    step: 0,\n    showLastScreen: false,\n  });\n\n  const handleSendAnswer = useCallback(\n    async (rate: number, note?: string) => {\n      if (questionnaire.questions) {\n        setState((prevState) => ({\n          ...prevState,\n          loading: true,\n        }));\n        try {\n          const request = await sendQuestionnaireAnswer(\n            course,\n            courseId,\n            questionnaire.id,\n            {\n              question_id: questionnaire.questions[state.step].id,\n              rate,\n              note,\n              visible_on_front:\n                questionnaire.questions[state.step].public_answers,\n            }\n          );\n          if (request.success) {\n            toast.success(t(\"RateCourse.ThankYouMessage\"));\n          }\n        } catch (error) {\n          toast.error(\"Error\");\n          console.error(error);\n        } finally {\n          setState((prevState) => ({\n            ...prevState,\n            loading: false,\n            step: prevState.step + 1,\n            note: \"\",\n            rating: null,\n          }));\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [course, courseId, questionnaire.id, state]\n  );\n\n  const handleSave = useCallback(\n    (rate: number, note?: string) => {\n      handleSendAnswer(rate, note);\n      if (\n        questionnaire.questions &&\n        state.step === questionnaire.questions.length - 1\n      ) {\n        setState((prevState) => ({\n          ...prevState,\n          showLastScreen: true,\n        }));\n      }\n    },\n    [questionnaire, state.step, handleSendAnswer]\n  );\n\n  return (\n    <Modal\n      onClose={onClose}\n      visible={visible}\n      animation=\"zoom\"\n      maskAnimation=\"fade\"\n      destroyOnClose={true}\n      width={468}\n    >\n      {!state.showLastScreen ? (\n        questionnaire.questions && (\n          <QuestionBox\n            textareaPlaceholder={t(\"RateCourse.OptionalComment\")}\n            data={questionnaire.questions[state.step]}\n            handleSubmit={(rate, note) => handleSave(rate, note)}\n            withStarsRating={\n              questionnaire.questions[state.step]?.type === QuestionType.REVIEW\n            }\n          />\n        )\n      ) : (\n        <React.Fragment>\n          <Title\n            level={4}\n            className=\"modal-title\"\n            style={{\n              paddingTop: \"50px\",\n            }}\n          >\n            {t(\"RateCourse.ThankYou\")}\n          </Title>\n          <Text\n            style={{\n              paddingBottom: \"50px\",\n              textAlign: \"center\",\n            }}\n          >\n            {t(\"RateCourse.ThankYouMessage\")}\n          </Text>\n        </React.Fragment>\n      )}\n    </Modal>\n  );\n};\n\nexport default RateCourse;\n"],"sourceRoot":""}