{"version":3,"sources":["config/app.ts","utils/date.ts","utils/index.ts","components/Preloader/index.tsx","hooks/useLessonProgram.ts","components/Course/Players/ScormPlayer.tsx","components/Course/CourseSidebar/index.tsx","components/Course/Players/TextPlayer.tsx","components/Course/CourseProgramContent.tsx"],"names":["APP_CONFIG","defaultDateFormat","defaultDateTimeFormat","formatDate","date","dateFormat","arguments","length","undefined","format","Date","isTwoDatesEqual","firstDate","secondDate","createArrayWithDateAndTimes","terms","newTerms","forEach","term","existingTerm","find","t","times","push","removePastDates","dates","filter","isAfter","sortDates","sort","a","b","getTime","extractTimeUnits","input","matches","Array","from","matchAll","extractedUnits","foundMatch","match","value","parseInt","unit","addTimeToDate","time","add","years","year","months","month","weeks","week","days","day","hours","hour","minutes","minute","seconds","second","getOrderProductsNames","order","_order$items","items","map","item","name","join","getNotificationTranslationObject","notification","_notification$data$st","_notification$data$st2","_notification$data$st3","_notification$data$st4","_notification$data$pr","_notification$data$pr2","_notification$data$pr3","_notification$data$pr4","_notification$data$pr5","_notification$data$pr6","_notification$data$pr7","_notification$data$pa","_notification$data$pa2","_notification$data$pa3","_notification$data$pa4","_notification$data$pa5","_notification$data$pa6","_notification$data$pa7","_notification$data$co","_notification$data$co2","_notification$data$co3","_notification$data$co4","_notification$data$co5","_notification$data$co6","_notification$data$co7","_notification$data$co8","_notification$data$co9","_notification$data$co10","_notification$data$co11","_notification$data$co12","_notification$data$co13","_notification$data$to","_notification$data$co14","_notification$data$co15","_notification$data$co16","_notification$data$co17","_notification$data$co18","_notification$data$co19","_notification$data$co20","_notification$data$co21","_notification$data$co22","_notification$data$co23","_notification$data$co24","_notification$data$co25","_notification$data$co26","translation","concat","event","EventTypes","StationaryEventAuthorAssigned","object","data","stationaryEvent","StationaryEventAuthorUnassigned","StationaryEventAssigned","StationaryEventUnassigned","AbandonedCartEvent","OrderCancelled","OrderCreated","OrderPaid","ProductableAttached","productable","ProductableDetached","ProductAddedToCart","product","ProductAttached","ProductBought","ProductDetached","ProductRemovedFromCart","PaymentCancelled","amount","payment","payable","PaymentFailed","PaymentRegistered","PaymentSuccess","CourseAccessFinished","course","title","CourseAccessStarted","CourseAssigned","CourseDeadlineSoon","active_to","CoursedPublished","CourseFinished","CourseStarted","CourseStatusChanged","CourseTutorAssigned","CourseTutorUnassigned","CourseUnassigned","TopicFinished","TopicTypeChanged","topicContent","ReportTerm","consultationTerm","consultation","executed_at","user","first_name","last_name","ApprovedTerm","ApprovedTermWithTrainer","ChangeTerm","RejectTerm","RejectTermWithTrainer","ReminderAboutTerm","ReminderTrainerAboutTerm","roundTo","val","places","divider","returnedValue","Math","round","pow","formatPrice","price","taxRate","toLocaleString","minimumFractionDigits","maximumFractionDigits","userIsCourseAuthor","userId","authors","findIndex","author","id","getFormattedDifferenceRelativeToNow","_ref","daysDifference","differenceInDays","hoursDifference","differenceInHours","minutesDifference","differenceInMinutes","timeDifferenceInDays","relativeTimeFormatter","Intl","RelativeTimeFormat","style","StyledLoader","styled","div","_templateObject","_taggedTemplateLiteral","theme","mode","dm__background","background","Preloader","useTheme","useEffect","document","body","overflow","_jsx","children","Spin","color","primaryColor","useLessonProgram","program","_program$lessons$","_program$lessons$$top","courseRouteName","_useContext","useContext","EscolaLMSContext","sendProgress","getNextPrevTopic","progress","_useState","useState","_useState2","_slicedToArray","isNextTopicButtonDisabled","disableNextTopicButton","_useParams","useParams","lessonID","topicID","useHistory","lessonId","lessons","topicId","topics","lesson","useMemo","Number","topic","onNextTopic","useCallback","topic_id","status","then","nextTopic","lesson_id","onPrevTopic","prevTopic","onNextTopicPreview","next","StyledDiv","props","fullview","css","_templateObject2","_templateObject3","ScormPlayer","apiUrl","useTranslation","fullView","setFullView","className","_jsxs","Button","onClick","ResizeIcon","src","uuid","StyledSidebar","aside","isMobile","CourseSidebar","_ref2","_user$value","onCompleteTopic","onCourseFinish","courseProgressDetails","history","agendaVisible","setAgendaVisible","_lesson$topics","topicIsFinished","allTopics","arrayOfTopics","apply","getCourseProgress","_progress$value$find","courseId","byId","courseProgress","finishedTopics","some","progressItem","CourseAgenda","unlockAllTopics","onNextTopicClick","lIndex","tIndex","mobile","currentTopicId","finishedTopicIds","onMarkFinished","onTopicClick","onCourseFinished","React","Fragment","TextPlayerStyles","TextPlayer","onLoad","MarkdownRenderer","StyledPdfPlayer","PdfPlayer","CourseProgramContent","_topic$topicable","_program$value$id","_program$value2","_ref$preview","preview","_ref$isThereAnotherTo","isThereAnotherTopic","onXAPI","topicPing","_program$value","_program$value$lesson","_program$value$lesson2","_program$value$lesson3","isTopicFinished","Boolean","can_skip","ping","interval","setInterval","clearInterval","topicable","topicable_type","API","TopicType","H5P","H5Player","e","h5pObject","content","OEmbed","_Fragment","OEmbedPlayer","url","RichText","Video","AudioVideoPlayer","light","Image","ImagePlayer","Audio","audio","Pdf","pageConfig","renderMode","Scorm","GiftQuiz","GiftQuizPlayer","Project","ProjectPlayer","course_id"],"mappings":"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","file":"static/js/4.40ea5ab8.chunk.js","sourcesContent":["export const APP_CONFIG = {\n  defaultDateFormat: \"dd/MM/yyyy\",\n  defaultDateTimeFormat: \"dd/MM/yyyy, HH:mm\",\n};\n","import { add, format, isAfter } from \"date-fns\";\nimport { APP_CONFIG } from \"@/config/app\";\n\nexport const formatDate = (\n  date: string | number | Date | null | undefined,\n  dateFormat: string = APP_CONFIG.defaultDateFormat\n) => {\n  if (!date) return \"\";\n  return format(new Date(date), dateFormat);\n};\n\nexport const isTwoDatesEqual = (\n  firstDate: Date | string | number | null | undefined,\n  secondDate: Date | string | number | null | undefined,\n  format?: string\n) => {\n  if (!firstDate || !secondDate) return false;\n  return formatDate(firstDate, format) === formatDate(secondDate, format);\n};\n\nexport const createArrayWithDateAndTimes = (terms: string[] | Date[]) => {\n  const newTerms: {\n    date: string;\n    times: Date[];\n  }[] = [];\n\n  terms.forEach((term) => {\n    const date = format(new Date(term), \"MM/dd/yyyy\");\n    const existingTerm = newTerms.find(\n      (t) => format(new Date(t.date), \"MM/dd/yyyy\") === date\n    );\n\n    if (existingTerm) {\n      existingTerm.times.push(new Date(term));\n    } else {\n      newTerms.push({\n        date: date,\n        times: [new Date(term)],\n      });\n    }\n  });\n\n  return newTerms;\n};\n\nexport const removePastDates = (dates: Date[]) =>\n  dates.filter((date) => isAfter(date, new Date()));\n\nexport const sortDates = (dates: Date[]): Date[] =>\n  dates.sort((a, b) => a.getTime() - b.getTime());\n\nexport const extractTimeUnits = (input: string): Record<string, number> => {\n  const timeRegex = /(\\d+)\\s+(day|hour|minute|second|week|year)s?/g;\n  const matches = Array.from(input.matchAll(timeRegex));\n\n  const extractedUnits: Record<string, number> = {};\n\n  let foundMatch = false;\n  matches.forEach((match) => {\n    foundMatch = true;\n    const value = parseInt(match[1]);\n    const unit = match[2];\n\n    if (!extractedUnits[unit]) {\n      extractedUnits[unit] = value;\n    } else {\n      extractedUnits[unit] += value;\n    }\n  });\n\n  if (!foundMatch) {\n    const numberRegex = /\\d+/g;\n    const numberMatches = Array.from(input.matchAll(numberRegex));\n\n    numberMatches.forEach((match) => {\n      const value = parseInt(match[0]);\n      extractedUnits[\"hour\"] = value;\n    });\n  }\n\n  return extractedUnits;\n};\n\nexport const addTimeToDate = (\n  date: Date | string | number,\n  time: {\n    day?: number;\n    hour?: number;\n    minute?: number;\n    second?: number;\n    week?: number;\n    year?: number;\n    month?: number;\n  }\n) => {\n  return add(new Date(date), {\n    years: time.year || 0,\n    months: time.month || 0,\n    weeks: time.week || 0,\n    days: time.day || 0,\n    hours: time.hour || 0,\n    minutes: time.minute || 0,\n    seconds: time.second || 0,\n  });\n};\n","import { EventTypes, Notification, Order } from \"@escolalms/sdk/lib/types/api\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n} from \"date-fns\";\n\nexport const getTopicType = (type: string) => type.split(\"\\\\\")?.pop();\n\nexport const getPriceWithTax = (price: number, taxPercentage: number) => {\n  const totalTax = ((price / 100) * taxPercentage).toFixed(2);\n  const totalPrice = Number(price / 100) + Number(totalTax);\n  return totalPrice.toFixed(2);\n};\n\nexport const getOrderProductsNames = (order: Order | undefined | null) => {\n  if (!order) return \"\";\n  return order.items?.map((item) => item.name).join(\", \");\n};\n\nexport const getNotificationTranslationObject = (\n  notification: Notification\n): {\n  translation: string;\n  object?: { name?: string; amount?: number; date?: string; user?: string };\n} => {\n  const translationPrefix = \"Notifications.\";\n  const translation = `${translationPrefix}${notification.event}`;\n  switch (notification.event) {\n    // STATIONARY EVENT\n    case EventTypes.StationaryEventAuthorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAuthorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    // CART\n    case EventTypes.AbandonedCartEvent:\n      return { translation };\n    case EventTypes.OrderCancelled:\n      return { translation };\n    case EventTypes.OrderCreated:\n      return { translation };\n    case EventTypes.OrderPaid:\n      return {\n        translation,\n        object: { name: getOrderProductsNames(notification.data.order) || \"\" },\n      };\n    case EventTypes.ProductableAttached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductableDetached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductAddedToCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductAttached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductBought:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductDetached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductRemovedFromCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    // PAYMENT\n    case EventTypes.PaymentCancelled:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentFailed:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentRegistered:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n        },\n      };\n    case EventTypes.PaymentSuccess:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    // COURSE\n    case EventTypes.CourseAccessFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAccessStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseDeadlineSoon:\n      return {\n        translation,\n        object: {\n          name: notification.data.course?.title || \"\",\n          date: formatDate(\n            notification.data.course?.active_to,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n        },\n      };\n    case EventTypes.CoursedPublished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStatusChanged:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.TopicFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    // TOPIC\n    case EventTypes.TopicTypeChanged:\n      return {\n        translation,\n        object: { name: notification.data.topicContent?.value || \"\" },\n      };\n    // CONSULTATIONS\n    case EventTypes.ReportTerm:\n      return {\n        translation,\n        object: {\n          name: notification.data.consultationTerm?.consultation.name || \"\",\n          date: formatDate(\n            notification.data.consultationTerm?.executed_at,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n          user: `${notification.data.consultationTerm?.user?.first_name} ${notification.data.consultationTerm?.user?.last_name}`,\n        },\n      };\n    case EventTypes.ApprovedTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ApprovedTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ChangeTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderTrainerAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    default:\n      return { translation };\n  }\n};\n\nexport const roundTo = (val: number, places = 2, divider?: number): number => {\n  if (!val || typeof val !== \"number\") return 0;\n  const returnedValue =\n    Math.round(val * Math.pow(10, places)) / Math.pow(10, places);\n  if (divider) {\n    return returnedValue / divider;\n  }\n  return returnedValue;\n};\n\nexport const formatPrice = (price: number | undefined, taxRate?: number) => {\n  if (!price) return 0;\n  const roundedPrice = taxRate\n    ? roundTo(price, 2, 100) * (1 + taxRate / 100)\n    : roundTo(price, 2, 100);\n  const formatted = roundedPrice.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  });\n  return formatted;\n};\n\nexport const userIsCourseAuthor = (\n  userId: number,\n  course: API.Course\n): boolean => {\n  return course.authors.findIndex((author) => author.id === userId) !== -1;\n};\n\nexport const getFormattedDifferenceRelativeToNow = (time: Date) => {\n  const daysDifference = time\n    ? differenceInDays(time.getTime(), new Date().getTime())\n    : null;\n  const hoursDifference = time\n    ? differenceInHours(time.getTime(), new Date().getTime())\n    : null;\n  const minutesDifference = time\n    ? differenceInMinutes(time.getTime(), new Date().getTime())\n    : null;\n\n  const timeDifferenceInDays: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    daysDifference !== null && daysDifference !== 0\n      ? [daysDifference, \"day\"]\n      : null;\n\n  const timeDifferenceInHours: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    hoursDifference !== null && hoursDifference !== 0\n      ? [hoursDifference, \"hour\"]\n      : null;\n\n  const timeDifferenceInMinutes: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    minutesDifference !== null && minutesDifference !== 0\n      ? [minutesDifference, \"minute\"]\n      : null;\n\n  return (\n    timeDifferenceInDays ?? timeDifferenceInHours ?? timeDifferenceInMinutes\n  );\n};\n\nexport const relativeTimeFormatter = new Intl.RelativeTimeFormat(\"pl\", {\n  style: \"short\",\n});\n","import { useEffect } from \"react\";\nimport { Spin } from \"@escolalms/components/lib/components/atoms/Spin/Spin\";\nimport styled, { useTheme } from \"styled-components\";\n\nconst StyledLoader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) =>\n    theme.mode === \"dark\" ? theme.dm__background : theme.background};\n`;\n\nconst Preloader = () => {\n  const theme = useTheme();\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"inherit\";\n    };\n  }, []);\n\n  return (\n    <StyledLoader>\n      <Spin color={theme.primaryColor} />\n    </StyledLoader>\n  );\n};\n\nexport default Preloader;\n","import { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useCallback, useContext, useMemo, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nexport function useLessonProgram(\n  program: API.CourseProgram,\n  courseRouteName: string = \"/course/\"\n) {\n  const { sendProgress, getNextPrevTopic, progress } =\n    useContext(EscolaLMSContext);\n  const [isNextTopicButtonDisabled, disableNextTopicButton] = useState(false);\n  const { lessonID, topicID } =\n    useParams<{ lessonID: string; topicID: string }>();\n  const { push } = useHistory();\n\n  const lessonId = lessonID ? lessonID : program.lessons[0].id;\n  const topicId = topicID\n    ? topicID\n    : (program &&\n        program.lessons &&\n        program.lessons[0] &&\n        program.lessons[0].topics &&\n        program?.lessons[0]?.topics[0]?.id) ||\n      0;\n\n  const lesson: API.Lesson | undefined = useMemo(\n    () => program.lessons.find((lesson) => lesson.id === Number(lessonId)),\n    [program, lessonId]\n  );\n\n  const topic: API.Topic | undefined = useMemo(\n    () =>\n      lesson &&\n      lesson.topics &&\n      lesson.topics.find((topic) => topic.id === Number(topicId)),\n    [lesson, topicId]\n  );\n\n  const onNextTopic = useCallback(() => {\n    program.id &&\n      sendProgress(program.id, [{ topic_id: Number(topicId), status: 1 }]).then(\n        () => {\n          const nextTopic = getNextPrevTopic(Number(topicId));\n\n          nextTopic &&\n            push(\n              `${courseRouteName}${program.id}/${nextTopic.lesson_id}/${nextTopic.id}`,\n              null\n            );\n        }\n      );\n  }, [topicId, program, push, getNextPrevTopic, sendProgress, courseRouteName]);\n  const onPrevTopic = useCallback(() => {\n    program.id &&\n      sendProgress(program.id, [{ topic_id: Number(topicId), status: 1 }]).then(\n        () => {\n          const prevTopic = getNextPrevTopic(Number(topicId), false);\n\n          prevTopic &&\n            push(\n              `${courseRouteName}${program.id}/${prevTopic.lesson_id}/${prevTopic.id}`,\n              null\n            );\n        }\n      );\n  }, [topicId, program, push, getNextPrevTopic, sendProgress, courseRouteName]);\n\n  const onNextTopicPreview = useCallback(\n    (next = true) => {\n      const nextTopic = getNextPrevTopic(Number(topicId), next);\n\n      nextTopic &&\n        push(\n          `${courseRouteName}${program.id}/${nextTopic?.lesson_id}/${nextTopic?.id}`\n        );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [lessonId, topicId, program, program.id, push, courseRouteName]\n  );\n\n  return {\n    topic,\n    lesson,\n    onNextTopic,\n    onPrevTopic,\n    getNextPrevTopic,\n    isNextTopicButtonDisabled,\n    disableNextTopicButton,\n    onNextTopicPreview,\n    sendProgress,\n    progress,\n  } as const;\n}\n","import React, {\n  ReactElement,\n  FunctionComponent,\n  useContext,\n  useState,\n} from \"react\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport styled, { css } from \"styled-components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ResizeIcon } from \"../../../icons\";\n\nconst StyledDiv = styled.div<{ fullview: boolean }>`\n  > button {\n    position: fixed;\n    right: 5px;\n    bottom: 5px;\n    z-index: 9999;\n    svg path {\n      fill: white;\n    }\n  }\n  iframe {\n    border: none;\n    display: block;\n    width: 100%;\n  }\n  ${(props) => {\n    if (props.fullview) {\n      return css`\n        iframe {\n          position: fixed;\n          top: 90px;\n          left: 0;\n          height: calc(100% - 90px - 80px);\n\n          z-index: 9999;\n        }\n      `;\n    } else {\n      return css`\n        display: flex;\n\n        min-height: 80vh;\n        max-height: 80vh;\n        height: 100vh;\n        iframe {\n          height: 100%;\n        }\n      `;\n    }\n  }}\n`;\n\ninterface ScormPlayerProps {\n  title: string;\n  uuid: string;\n}\n\nconst ScormPlayer: FunctionComponent<{\n  value: ScormPlayerProps;\n}> = ({ value }): ReactElement => {\n  const { apiUrl } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const [fullView, setFullView] = useState(false);\n\n  return (\n    <div className=\"scorm-wrapper\">\n      <StyledDiv fullview={fullView}>\n        <Button onClick={() => setFullView(!fullView)}>\n          {\" \"}\n          {t(\"Scorm.Resize\")} <ResizeIcon />\n        </Button>\n        <iframe\n          title={value.title}\n          src={`${apiUrl}/api/scorm/play/${value.uuid}`}\n        />\n      </StyledDiv>\n    </div>\n  );\n};\n\nexport default ScormPlayer;\n","import React, { useContext, useState, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { CourseAgenda } from \"@escolalms/components/lib/components/organisms/CourseAgenda/CourseAgenda\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useHistory } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport styled, { css } from \"styled-components\";\nimport { useLessonProgram } from \"../../../hooks/useLessonProgram\";\nimport { Button } from \"@escolalms/components\";\nimport { t } from \"i18next\";\nimport { Topic } from \"@escolalms/sdk/lib/types/api\";\nimport { userIsCourseAuthor } from \"@/utils/index\";\n\nconst StyledSidebar = styled.aside`\n  padding-bottom: 100px;\n  .show-agenda-btn {\n    width: 100%;\n  }\n  .agenda-wrapper {\n    ${isMobile &&\n    css`\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100vh;\n      transform: translate(100%, 0);\n      transition: transform 0.25s;\n      overflow: scroll;\n      padding: 40px 0 55px;\n      z-index: 10;\n      background-color: ${({ theme }) =>\n        theme.mode === \"dark\" ? theme.dm__background : theme.background};\n      &--visible {\n        transform: translate(0, 0);\n      }\n      .hide-agenda-btn {\n        display: block;\n        margin: 0 15px 0 auto;\n      }\n    `}\n  }\n`;\n\nexport const CourseSidebar: React.FC<{\n  course: API.CourseProgram;\n  topicId: number;\n  onCompleteTopic?: () => void;\n  onCourseFinish?: () => void;\n}> = ({ course, topicId, onCompleteTopic, onCourseFinish }) => {\n  const { progress } = useLessonProgram(course);\n  const { courseProgressDetails, user } = useContext(EscolaLMSContext);\n\n  const history = useHistory();\n  const [agendaVisible, setAgendaVisible] = useState(false);\n  const program = (course?.lessons || []).filter(\n    (lesson) => lesson && lesson.topics && lesson?.topics?.length > 0\n  ) as API.Lesson[];\n  const { topicIsFinished } = useContext(EscolaLMSContext);\n  const allTopics = course.lessons.map((item) => item.topics);\n  //@ts-ignore\n  const arrayOfTopics = [].concat.apply([], allTopics);\n\n  const getCourseProgress = useMemo(() => {\n    const courseId = course.id;\n    if (\n      courseProgressDetails &&\n      courseProgressDetails.byId &&\n      courseProgressDetails.byId[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      return courseProgressDetails.byId[Number(courseId)].value;\n    }\n    return (\n      progress &&\n      progress.value &&\n      progress.value.find(\n        (courseProgress: API.CourseProgressItem) =>\n          courseProgress.course.id === Number(courseId)\n      )?.progress\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [progress, course]);\n\n  const finishedTopics = arrayOfTopics\n    .filter((item: API.Topic) => {\n      return (\n        topicIsFinished(item.id) ||\n        getCourseProgress?.some(\n          (progressItem) =>\n            progressItem.topic_id === item.id && progressItem.status === 1\n        )\n      );\n    })\n    .map((item: API.Topic) => item.id);\n\n  if (!course && !program) {\n    return <React.Fragment />;\n  }\n  return (\n    <StyledSidebar>\n      {isMobile && (\n        <Button\n          mode=\"outline\"\n          className=\"show-agenda-btn\"\n          onClick={() => setAgendaVisible(true)}\n        >\n          {t(\"CourseProgram.ShowAgenda\")}\n        </Button>\n      )}\n      <div\n        className={`${\n          agendaVisible\n            ? \"agenda-wrapper agenda-wrapper--visible\"\n            : \"agenda-wrapper\"\n        }`}\n      >\n        {isMobile && (\n          <Button\n            className=\"hide-agenda-btn\"\n            mode=\"secondary\"\n            onClick={() => setAgendaVisible(false)}\n          >\n            &#10005;\n          </Button>\n        )}\n        <CourseAgenda\n          unlockAllTopics={userIsCourseAuthor(Number(user.value?.id), course)}\n          onNextTopicClick={() => {\n            let nextTopic;\n\n            course.lessons.forEach((lesson, lIndex, lessons) => {\n              lesson.topics &&\n                lesson.topics.forEach((topic, tIndex) => {\n                  if (topic.id === topicId) {\n                    // try find next topic in current lesson\n                    if (lesson.topics && lesson.topics[tIndex + 1]) {\n                      nextTopic =\n                        lesson.topics[tIndex + 1] && lesson.topics[tIndex + 1];\n                      // try find first topic in next lesson\n                    } else if (lessons[lIndex + 1]) {\n                      nextTopic =\n                        lessons[lIndex + 1].topics &&\n                        //@ts-ignore\n                        lessons[lIndex + 1].topics[0];\n                      // otherwise this is end so going back to first lesson and topic\n                    } else {\n                      nextTopic = lessons[0].topics && lessons[0].topics[0];\n                    }\n                  }\n                });\n            });\n\n            if (nextTopic) {\n              history.push(\n                `/course/${course.id}/${(nextTopic as Topic).lesson_id}/${\n                  (nextTopic as Topic).id\n                }`\n              );\n              setAgendaVisible(false);\n            }\n          }}\n          mobile={isMobile}\n          lessons={course.lessons}\n          currentTopicId={topicId}\n          finishedTopicIds={finishedTopics}\n          onMarkFinished={() => onCompleteTopic?.()}\n          onTopicClick={(topic) => {\n            history.push(`/course/${course.id}/${topic.lesson_id}/${topic.id}`);\n            setAgendaVisible(false);\n          }}\n          onCourseFinished={() => onCourseFinish?.()}\n        />\n      </div>\n    </StyledSidebar>\n  );\n};\n\nexport default CourseSidebar;\n","import React, { ReactElement, FunctionComponent, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\n\nconst TextPlayerStyles = styled.div`\n  h1 {\n    font-size: 2em;\n  }\n  h2 {\n    font-size: 1.5em;\n  }\n  h3 {\n    font-size: 1.17em;\n  }\n  h4 {\n    font-size: 1em;\n  }\n  h5 {\n    font-size: 0.9em;\n  }\n`;\n\nconst TextPlayer: FunctionComponent<{\n  value?: string;\n  onLoad?: () => void;\n}> = ({ value, onLoad }): ReactElement => {\n  useEffect(() => {\n    value && onLoad && onLoad();\n  }, [value, onLoad]);\n\n  return (\n    <TextPlayerStyles>\n      {value && <MarkdownRenderer>{value}</MarkdownRenderer>}\n    </TextPlayerStyles>\n  );\n};\n\nexport default TextPlayer;\n","import React, { useContext, useEffect, useMemo } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { XAPIEvent } from \"@escolalms/h5p-react\";\nimport TextPlayer from \"./Players/TextPlayer\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { ImagePlayer } from \"@escolalms/components/lib/components/players/ImagePlayer/ImagePlayer\";\nimport { AudioVideoPlayer } from \"@escolalms/components/lib/components/players/AudioVideoPlayer/AudioVideoPlayer\";\nimport { OEmbedPlayer } from \"@escolalms/components/lib/components/players/OEmbedPlayer/OEmbedPlayer\";\nimport { H5Player } from \"@escolalms/components/lib/components/players/H5Player/H5Player\";\nimport { PdfPlayer } from \"@escolalms/components/lib/components/players/PdfPlayer/PdfPlayer\";\nimport { ProjectPlayer } from \"@escolalms/components/lib/components/players/ProjectPlayer/ProjectPlayer\";\nimport { isMobile } from \"react-device-detect\";\nimport ScormPlayer from \"./Players/ScormPlayer\";\nimport styled from \"styled-components\";\nimport GiftQuizPlayer from \"@escolalms/components/lib/components/quizzes\";\n\nconst StyledPdfPlayer = styled(PdfPlayer)`\n  .course-pdf-player {\n    .react-pdf__Page__svg,\n    svg {\n      width: 100% !important;\n      height: auto !important;\n    }\n  }\n`;\n\nexport const CourseProgramContent: React.FC<{\n  lessonId: number;\n  isThereAnotherTopic?: boolean;\n  topicId?: number;\n  preview?: boolean;\n  disableNextTopicButton?: (b: boolean) => void;\n  onXAPI?: (event: XAPIEvent) => void;\n}> = ({\n  lessonId,\n  topicId,\n  preview = false,\n  disableNextTopicButton,\n  isThereAnotherTopic = true,\n  onXAPI,\n}) => {\n  const { program, topicPing, topicIsFinished } = useContext(EscolaLMSContext);\n\n  const topic = useMemo(() => {\n    return program.value?.lessons\n      ?.find((lesson: API.Lesson) => lesson.id === lessonId)\n      ?.topics?.find((topic: API.Topic) => topic.id === topicId);\n  }, [program, lessonId, topicId]);\n\n  useEffect(() => {\n    const isTopicFinished = topic?.id && topicIsFinished(topic.id);\n\n    isThereAnotherTopic &&\n      disableNextTopicButton &&\n      isTopicFinished &&\n      disableNextTopicButton(!isTopicFinished && !Boolean(topic?.can_skip));\n  }, [disableNextTopicButton, topic, isThereAnotherTopic, topicIsFinished]);\n\n  useEffect(() => {\n    if (!preview) {\n      const ping = () =>\n        topicId && !topicIsFinished(topicId) && topicPing(topicId);\n      const interval = setInterval(() => {\n        ping();\n      }, 5000);\n      ping();\n      return () => clearInterval(interval);\n    }\n  }, [topicPing, preview, topicId, topicIsFinished]);\n\n  if (!topic) {\n    return <React.Fragment />;\n  }\n\n  if (!topic.topicable?.value) {\n    return (\n      <pre className=\"error\">Error: topic.topicable?.value is missing</pre>\n    );\n  }\n  if (topic.topicable_type) {\n    switch (topic.topicable_type) {\n      case API.TopicType.H5P:\n        return (\n          <H5Player\n            onXAPI={(e: XAPIEvent) => onXAPI?.(e)}\n            //@ts-ignore\n            h5pObject={topic.topicable.content as API.H5PObject}\n          />\n        );\n      case API.TopicType.OEmbed:\n        return (\n          <>\n            <OEmbedPlayer url={topic.topicable.value} key={topicId} />\n          </>\n        );\n      case API.TopicType.RichText:\n        return <TextPlayer value={topic.topicable.value} />;\n      case API.TopicType.Video:\n        return (\n          <AudioVideoPlayer mobile={isMobile} url={topic.topicable.url} light />\n        );\n      case API.TopicType.Image:\n        return <ImagePlayer topic={topic} onLoad={() => {}} />;\n      case API.TopicType.Audio:\n        return (\n          <AudioVideoPlayer\n            mobile={isMobile}\n            audio\n            url={topic.topicable.url}\n            light\n          />\n        );\n\n      case API.TopicType.Pdf:\n        return (\n          <StyledPdfPlayer\n            url={topic.topicable.url}\n            pageConfig={{\n              renderMode: \"svg\",\n              className: \"course-pdf-player\",\n            }}\n          />\n        );\n\n      case API.TopicType.Scorm:\n        return (\n          <ScormPlayer\n            value={{\n              title: topic.title,\n              uuid: topic.topicable.uuid,\n            }}\n          />\n        );\n\n      case API.TopicType.GiftQuiz:\n        return <GiftQuizPlayer topic={topic} />;\n      case API.TopicType.Project:\n        return (\n          <ProjectPlayer course_id={program.value?.id ?? 0} topic={topic} />\n        );\n      default:\n        return <pre>{(topic as API.Topic).topicable_type}</pre>;\n    }\n  }\n\n  return <pre>loading... (or error)</pre>;\n};\n\nexport default CourseProgramContent;\n"],"sourceRoot":""}