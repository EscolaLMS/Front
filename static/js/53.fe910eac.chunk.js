(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[53],{628:function(e,r,c){"use strict";c.r(r);var s=c(1),o=c.n(s),l=c(36),t=c(46),a=c(268),i=c(35),n=c(683),d=c(270),j=c(774),u=c(772),m=c(730),b=c(241),v=c(82),p=c(3);var O=e=>{var r;let{program:c}=e;const{topic:l,lesson:t,onNextTopicPreview:i,getNextPrevTopic:n}=Object(m.a)(c,"/courses/preview/"),{t:d}=Object(a.a)();return Object(s.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[null===l||void 0===l?void 0:l.id,null===t||void 0===t?void 0:t.id]),Object(p.jsx)(o.a.Fragment,{children:Object(p.jsx)("div",{className:"course-program course-program-page",children:Object(p.jsx)("div",{className:"course-program-container",children:Object(p.jsxs)("div",{className:"course-program-wrapper course-program-wrapper-preview",children:[Object(p.jsxs)("div",{className:"course-program-player",children:[Object(p.jsxs)("div",{className:"course-program-player-content",children:[Object(p.jsx)("h2",{children:null===l||void 0===l?void 0:l.title}),l&&l.introduction&&Object(p.jsx)(v.Col,{sm:12,md:12,lg:12,children:Object(p.jsx)("div",{className:"container-md",children:Object(p.jsx)(b.MarkdownRenderer,{children:l.introduction})})}),Object(p.jsx)("div",{className:"course-program-player-content__wrapper",style:{...(null===l||void 0===l||null===(r=l.json)||void 0===r?void 0:r.wrapperStyle)||{}},children:Object(p.jsx)(j.a,{preview:!0,topic:l,isThereAnotherTopic:!!n(Number(null===l||void 0===l?void 0:l.id))})})]}),Object(p.jsxs)(v.Row,{children:[t&&t.summary&&Object(p.jsx)(v.Col,{sm:12,md:12,lg:12,children:Object(p.jsx)("div",{className:"course-program-summary",children:Object(p.jsx)(b.MarkdownRenderer,{children:t.summary})})}),l&&l.summary&&Object(p.jsx)(v.Col,{sm:12,md:12,lg:12,children:Object(p.jsx)("div",{className:"course-program-summary",children:Object(p.jsx)(b.MarkdownRenderer,{children:l.summary})})})]}),Object(p.jsx)("div",{className:"course-program-player-next",children:Object(p.jsxs)("button",{className:"default-btn default-btn-equal",onClick:()=>i(),children:[Object(p.jsxs)("div",{className:"course-program-player-next-button__wrapper",children:[d("Next Topic")," >"]}),Object(p.jsx)("span",{})]})})]}),Object(p.jsx)(u.a,{course:c,topicId:Number(null===l||void 0===l?void 0:l.id)})]})})})})},x=c(187),h=c(27);const g=e=>{var r,c;let{program:l}=e;const t=null===l||void 0===l||null===(r=l.scorm)||void 0===r||null===(c=r.scos)||void 0===c?void 0:c.find((e=>void 0!==e.entry_url)),a=null===t||void 0===t?void 0:t.uuid,n=Object(s.useRef)(null),[d,j]=Object(s.useState)(0),{apiUrl:u}=Object(s.useContext)(i.EscolaLMSContext);return Object(s.useEffect)((()=>{var e,r,c,s;n.current&&j((null===(e=n.current)||void 0===e||null===(r=e.contentWindow)||void 0===r||null===(c=r.document)||void 0===c||null===(s=c.body)||void 0===s?void 0:s.scrollHeight)||0)}),[n]),t||a?Object(p.jsx)(o.a.Fragment,{children:Object(p.jsx)("div",{className:"container-fluid course-program",children:Object(p.jsx)("div",{className:"course-program-player scorm",style:{height:"".concat(610+d,"px")},children:Object(p.jsx)("iframe",{title:"scorm-player",ref:n,src:"".concat(u,"/api/scorm/play/").concat(a),scrolling:"no"})})})}):Object(p.jsx)(o.a.Fragment,{})};r.default=()=>{var e,r;const{t:c}=Object(a.a)(),{id:o}=Object(l.i)(),{program:j,fetchProgram:u}=Object(s.useContext)(i.EscolaLMSContext);return Object(s.useEffect)((()=>{o&&u(Number(o))}),[o,u]),j.loading?Object(p.jsx)(n.a,{}):j.error?Object(p.jsx)(x.a,{children:Object(p.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(p.jsx)("h4",{className:"alert-heading",children:c("Error")}),Object(p.jsxs)("p",{children:[" ",j.error.message||j.error.error]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{className:"mb-0",children:[c("CoursePage.Preview.SeeOther"),Object(p.jsx)(t.c,{to:h.a.courses,children:c("Courses")}),"."]})]})}):j.value&&null!==j&&void 0!==j&&null!==(e=j.value)&&void 0!==e&&null!==(r=e.scorm)&&void 0!==r&&r.id?Object(p.jsx)(d.a,{children:Object(p.jsx)(g,{program:j.value})}):j.value&&j.value.lessons&&j.value.lessons.length?Object(p.jsxs)(d.a,{children:[Object(p.jsx)(O,{program:j.value}),";"]}):Object(p.jsx)(n.a,{})}}}]);
//# sourceMappingURL=53.fe910eac.chunk.js.map