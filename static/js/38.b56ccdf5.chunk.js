(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[38],{623:function(e,t,n){"use strict";n.r(t),n.d(t,"WebinarStatus",(function(){return k}));var a,i=n(1),c=n(268),r=n(685),o=n(35),s=n(718),l=n(70),d=n(82),b=n(674),u=n(17),j=n(29),m=n(34),f=n(72);const x=u.default.div(a||(a=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background: ",";\n  padding: ",";\n  width: calc(100% - 30px);\n  margin: 0 auto;\n\n  .small-text {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n"])),(e=>{let{theme:t}=e;return"dark"===t.mode?t.gray1:t.gray5}),f.isMobile?"80px 20px":"192px 20px");var O=n(46),h=n(3);var g=e=>{let{title:t,description:n,buttonText:a,buttonLocation:i}=e;return Object(h.jsxs)(x,{children:[Object(h.jsx)(j.Title,{level:3,children:t}),Object(h.jsx)(m.Text,{className:"small-text",children:n}),Object(h.jsx)(O.c,{to:i,children:Object(h.jsx)(j.Button,{mode:"secondary",children:a})})]})},p=n(27),y=n(733),v=n(672),w=n(697);const C=e=>{let{webinar:t}=e;const n=t.is_ended,a=t.is_started,{t:i}=Object(c.a)();return n&&t.active_to?Object(h.jsx)(w.b,{type:w.a.ENDED,date:Object(v.a)(t.active_to,Object(v.c)("".concat(t.duration)))}):a&&t.active_to?Object(h.jsx)(w.b,{type:w.a.ACCEPTED,date:t.active_to,info:i("MyProfilePage.WebinarIsStarted")}):t.active_to?Object(h.jsx)(w.b,{type:w.a.DEFAULT,date:t.active_to}):null};var D=n(74),E=n.n(D);const T=e=>{let{webinar:t,onJoin:n}=e;const a=t.is_started,{t:i}=Object(c.a)();return a?Object(h.jsx)(E.a,{mode:"secondary",onClick:n,children:i("Join")}):Object(h.jsx)(O.c,{to:"/webinar/".concat(t.id),children:Object(h.jsx)(E.a,{mode:"secondary",children:i("Show")})})};var M,P=n(736);const A=Object(u.default)(d.Row)(M||(M=Object(l.a)(["\n  gap: 30px 0;\n"]))),N=e=>{let{webinars:t,loading:n,isPast:a}=e;const[r,o]=Object(i.useState)(void 0),{t:s}=Object(c.a)();return n?Object(h.jsx)(b.a,{}):0===t.length?Object(h.jsx)(g,{title:s("MyProfilePage.EmptyWebinarTitle"),description:s("MyProfilePage.EmptyWebinarText"),buttonText:s("MyProfilePage.EmptyWebinarsBtnText"),buttonLocation:p.a.webinars}):Object(h.jsxs)(A,{children:[t.map((e=>Object(h.jsx)(d.Col,{xs:12,md:6,lg:4,children:Object(h.jsx)(y.a,{webinar:e,actions:Object(h.jsx)(T,{webinar:e,onJoin:()=>o(e.id)}),footer:Object(h.jsx)(C,{webinar:e})})},e.id))),!!r&&Object(h.jsx)(P.a,{visible:!!r,onClose:()=>o(void 0),webinarId:r})]})};var W=Object(i.memo)(N);let k=function(e){return e.UPCOMING="in_coming",e.PAST="is_ended",e.STARTED="is_started",e}({});t.default=()=>{const{userWebinars:e,fetchUserWebinars:t}=Object(i.useContext)(o.EscolaLMSContext),{t:n}=Object(c.a)();Object(i.useEffect)((()=>{t()}),[t]);const{upcomingWebinars:a,pastWebinars:l}=Object(i.useMemo)((()=>{var t;return(null!==(t=e.list)&&void 0!==t?t:[]).reduce(((e,t)=>((t.in_coming||t.is_started)&&e.upcomingWebinars.push(t),t.is_ended&&e.pastWebinars.push(t),e)),{upcomingWebinars:[],pastWebinars:[]})}),[e.list]),d=Object(i.useMemo)((()=>({tabs:[{label:n("MyProfilePage.Upcoming"),key:1,component:Object(h.jsx)(W,{webinars:a,loading:e.loading})},{label:n("MyProfilePage.Archived"),key:2,component:Object(h.jsx)(W,{webinars:l,loading:e.loading,isPast:!0})}],defaultActiveKey:1})),[l,n,a,e.loading]);return Object(h.jsx)(r.a,{title:n("MyProfilePage.MyWebinars"),withTabs:!0,children:Object(h.jsx)(s.Tabs,{tabs:d.tabs,defaultActiveKey:d.defaultActiveKey})})}},670:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={defaultDateFormat:"dd/MM/yyyy",defaultDateTimeFormat:"dd/MM/yyyy, HH:mm",tutorPlaceholderPath:"/images/tutorblind.png"}},672:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return j}));var a=n(168),i=n(284),c=n(131),r=n(670);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a.defaultDateFormat;return e?Object(a.default)(new Date(e),t):""},s=(e,t,n)=>!(!e||!t)&&o(e,n)===o(t,n),l=e=>{const t=[];return e.forEach((e=>{const n=Object(a.default)(new Date(e),"MM/dd/yyyy"),i=t.find((e=>Object(a.default)(new Date(e.date),"MM/dd/yyyy")===n));i?i.times.push(new Date(e)):t.push({date:n,times:[new Date(e)]})})),t},d=e=>e.filter((e=>Object(i.default)(e,new Date))),b=e=>e.sort(((e,t)=>e.getTime()-t.getTime())),u=e=>{const t=Array.from(e.matchAll(/(\d+)\s+(day|hour|minute|second|week|year)s?/g)),n={};let a=!1;if(t.forEach((e=>{a=!0;const t=parseInt(e[1]),i=e[2];n[i]?n[i]+=t:n[i]=t})),!a){const t=/\d+/g;Array.from(e.matchAll(t)).forEach((e=>{const t=parseInt(e[0]);n.hour=t}))}return n},j=(e,t)=>Object(c.a)(new Date(e),{years:t.year||0,months:t.month||0,weeks:t.week||0,days:t.day||0,hours:t.hour||0,minutes:t.minute||0,seconds:t.second||0})},675:function(e,t,n){"use strict";var a,i=n(70),c=n(1),r=n(17),o=n(274),s=n(3);const l=Object(r.default)("div")(a||(a=Object(i.a)(["\n  align-self: end;\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  .tags-menu-container {\n    position: relative;\n\n    .tags-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      display: flex;\n      flex-direction: column;\n      text-align: left;\n      gap: 4px;\n      list-style: none;\n      padding: 4px 0;\n      height: fit-content;\n      max-height: 230px;\n      overflow-y: scroll;\n      background-color: ",";\n      width: fit-content;\n      margin: 0;\n\n      li {\n        width: 100%;\n      }\n    }\n  }\n\n  .badge {\n    cursor: pointer;\n  }\n"])),(e=>e.theme.primaryColor));t.a=e=>{const{tags:t,onTagClick:n}=e,a=Object(r.useTheme)(),[i,d]=Object(c.useState)(!1),b=t?[...t].splice(0,2):[],u=t?[...t].splice(2):[],j=Object(c.useRef)(null),m=Object(c.useCallback)(((e,t)=>{n&&n(t)}),[n]);return Object(s.jsxs)(l,{ref:j,children:[b.map(((e,t)=>{var n;const i=null!==(n=e.title)&&void 0!==n?n:e;return Object(s.jsx)(o.Badge,{className:"badge",color:a.primaryColor,onClick:e=>m(e,i),children:i},t)})),u.length>0&&Object(s.jsxs)("div",{className:"tags-menu-container",onMouseLeave:()=>d(!1),children:[Object(s.jsx)(o.Badge,{className:"badge",color:a.primaryColor,onMouseOver:()=>d(!0),children:"+".concat(u.length)}),i&&Object(s.jsx)("ul",{className:"tags-menu",children:u.map(((e,t)=>{var n;const i=null!==(n=e.title)&&void 0!==n?n:e;return Object(s.jsx)("li",{children:Object(s.jsx)(o.Badge,{className:"badge",onClick:e=>m(e,i),color:a.primaryColor,children:i},t)})}))})]})]})}},697:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,i=n(70),c=n(1),r=n(17),o=n(672),s=n(670),l=n(34),d=n(269),b=n(3);const u=r.default.div(a||(a=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n\n  .date-container {\n    display: flex;\n    flex-direction: row;\n    border: 1px solid;\n    border-radius: 2px;\n    align-items: center;\n\n    .icon-container {\n      display: flex;\n      align-items: center;\n      padding: 0.5rem;\n    }\n\n    .date {\n      padding: 0.5rem;\n      margin: 0 auto;\n    }\n  }\n\n  .info {\n    padding: 0.5rem;\n    border-left: 1px solid;\n    border-right: 1px solid;\n    border-bottom: 1px solid;\n    font-family: ",";\n    font-size: 12px;\n  }\n"])),(e=>{let{theme:t}=e;return t.font}));let j=function(e){return e[e.ACCEPTED=0]="ACCEPTED",e[e.WAITING=1]="WAITING",e[e.ENDED=2]="ENDED",e[e.DEFAULT=3]="DEFAULT",e}({});t.b=e=>{let{type:t,date:n,info:a}=e;const i=Object(r.useTheme)(),m=Object(c.useMemo)((()=>{switch(t){case j.ACCEPTED:return"#198754";case j.WAITING:return"#FFC300";case j.ENDED:return"#D22B2B";default:return i.primaryColor}}),[i.primaryColor,t]);return Object(b.jsxs)(u,{children:[Object(b.jsxs)("div",{className:"date-container",style:{borderColor:m},children:[Object(b.jsx)("div",{className:"icon-container",style:{backgroundColor:m},children:Object(b.jsx)(d.f,{color:"#ffffff"})}),Object(b.jsx)(l.Text,{className:"date",children:n?Object(o.d)(new Date(n),s.a.defaultDateTimeFormat):"--"})]}),a&&Object(b.jsx)("div",{className:"info",style:{borderColor:m},children:a})]})}},733:function(e,t,n){"use strict";var a=n(268),i=n(72),c=n(36),r=n(46),o=n(139),s=n(360),l=n(671),d=n.n(l),b=n(673),u=n(92),j=n.n(u),m=n(74),f=n.n(m),x=n(271),O=n.n(x),h=n(269),g=n(675),p=n(3);t.a=e=>{let{webinar:t,actions:n,footer:l}=e;const u=Object(c.g)(),{t:m}=Object(a.a)(),x=t.active_to&&t.deadline&&Object(o.a)(new Date(t.deadline),new Date(t.active_to))||null;return Object(p.jsx)(s.CourseCard,{id:t.id,mobile:i.isMobile,image:Object(p.jsx)(r.c,{to:"/webinar/".concat(t.id),"aria-label":t.name,children:t.image_path?Object(p.jsx)(d.a,{path:t.image_path,alt:t.name,srcSizes:[300,600,900]}):Object(p.jsx)(b.a,{})}),title:Object(p.jsx)(r.c,{to:"/webinar/".concat(t.id),className:"title",children:Object(p.jsx)(j.a,{level:4,as:"h2",children:t.name})}),tags:Object(p.jsx)(g.a,{tags:t.tags,onTagClick:e=>u.push("/webinars/?tags[]=".concat(e))}),actions:null!==n&&void 0!==n?n:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(f.a,{mode:"secondary",onClick:()=>u.push("/webinar/".concat(t.id)),children:m("StartNow")})}),footer:null!==l&&void 0!==l?l:Object(p.jsx)(p.Fragment,{children:!!x&&Object(p.jsx)(O.a,{icon:Object(p.jsx)(h.s,{}),text:"".concat(x," ").concat(m(1===x?"Hour":"Hours"))})})})}},736:function(e,t,n){"use strict";var a,i=n(1),c=n(52),r=n(362),o=n(674),s=n(70);const l=n(17).default.div(a||(a=Object(s.a)(["\n  iframe {\n    width: 100% !important;\n    height: calc(100vh - 76px);\n    border: none;\n  }\n"])));var d=n(273),b=n(268),u=n(3);t.a=e=>{let{onClose:t,visible:n,webinarId:a}=e;const[s,j]=Object(i.useState)(null),[m,f]=Object(i.useState)(!1),{generateWebinarJitsy:x}=Object(i.useContext)(c.EscolaLMSContext),{t:O}=Object(b.a)();return Object(i.useEffect)((()=>{(async()=>{if(f(!0),a){const e=await x(a);e.success&&j(e.data),e.success||(d.b.error(O("WebinarPage.ErrorWhileGeneratingUrl")),t())}f(!1)})()}),[a]),Object(u.jsx)(r.Modal,{onClose:t,visible:n,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:"100vw",height:"100vh",bodyStyle:{minHeight:"93vh"},children:Object(u.jsxs)(l,{children:[m&&Object(u.jsx)(o.a,{}),!m&&s&&Object(u.jsx)("iframe",{title:s.data.roomName,src:s.url})]})})}}}]);
//# sourceMappingURL=38.b56ccdf5.chunk.js.map