(this["webpackJsonpescolalms-demo"]=this["webpackJsonpescolalms-demo"]||[]).push([[11],{626:function(e,t,n){"use strict";n.r(t),n.d(t,"CourseStatus",(function(){return oe}));var a,r,i,o,c,s,l=n(72),u=n(1),d=n(34),b=n(35),j=n(19),m=n(92),p=n(711),f=n(20),h=n(6),v=n(5),x=n(12),O=n(33),g=n(76),y=n(74),C=n(274),T=n(681),w=n(84),k=n(365),E=n(277),P=n(47),M=n(275),S=n(676),N=n(674),_=n(685),A=n(683),R=n(734),D=n(684),L=n(30),I=n(54),z=n(678),F=n(679),B=n(369),U=n(3),q=function(e){var t=e.courseData,n=e.visible,a=e.onClose,r=Object(u.useContext)(I.EscolaLMSContext).sendProgress,i=Object(C.a)().t,o=Object(b.g)().push,c=Object(u.useCallback)(Object(F.a)(Object(z.a)().mark((function e(){return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t.course.id,t.progress.map((function(e){return{topic_id:e.topic_id,status:0}})));case 2:o("/course/".concat(t.course.id));case 3:case"end":return e.stop()}}),e)}))),[t.course.id,t.progress,r,o]);return Object(U.jsx)(B.Modal,{animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,visible:n,onClose:a,children:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(L.Title,{level:4,children:i("ResetProgressModal.Continue")}),Object(U.jsxs)(L.Text,{children:[" ",i("ResetProgressModal.RestartCourse")]}),Object(U.jsxs)(L.Row,{$gap:16,children:[Object(U.jsx)(L.Button,{mode:"primary",onClick:c,children:i("ResetProgressModal.WantContinue")}),Object(U.jsx)(L.Button,{mode:"primary",onClick:a,children:i("ResetProgressModal.Cancel")})]})]})})},Q=n(692),H=Object(j.default)(L.Stack)(a||(a=Object(l.a)(["\n  gap: 6px;\n  margin: 0;\n  width: 100%;\n"]))),K=n(707),V=function(e){var t=e.courseData,n=e.courseProgress,a=Object(u.useState)(void 0),r=Object(x.a)(a,2),i=r[0],o=r[1],c=Object(u.useState)(!1),s=Object(x.a)(c,2),l=s[0],d=s[1],b=Object(u.useContext)(I.EscolaLMSContext),j=b.fetchQuestionnaires,m=b.fetchQuestionnaire,p=Object(u.useState)({show:!1,step:0,loading:!1}),f=Object(x.a)(p,2),h=f[0],O=f[1],g=Object(C.a)().t,y={isDone:t.finish_date,isActive:t.start_date&&!t.finish_date,isNotStarted:!t.start_date&&!t.finish_date},T=Object(u.useMemo)((function(){return t.deadline?new Date(t.deadline):null}),[t.deadline]),w=!!T&&T.getTime()<Date.now(),k=Object(u.useMemo)((function(){return T?Object(D.b)(T):null}),[T]),E=Object(u.useState)([]),P=Object(x.a)(E,2),M=P[0],S=P[1],N=Object(u.useCallback)((function(){if(o(void 0),O((function(e){return Object(v.a)(Object(v.a)({},e),{},{show:!1})})),h.step<M.length-1){O((function(e){return Object(v.a)(Object(v.a)({},e),{},{step:e.step+1})}));var e=setTimeout((function(){O((function(e){return Object(v.a)(Object(v.a)({},e),{},{show:!0})}))}),500);return function(){return clearTimeout(e)}}}),[M,h.step]);return Object(u.useEffect)((function(){i&&Object(K.b)({courseId:i,fetchQuestionnaire:m,fetchQuestionnaires:j,onSucces:function(e){S(e)},onFinish:function(){return O((function(e){return Object(v.a)(Object(v.a)({},e),{},{loading:!1})}))}})}),[i]),Object(U.jsxs)(H,{children:[100===n&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(L.Button,{mode:"secondary",onClick:function(){o(t.course.id),O((function(e){return Object(v.a)(Object(v.a)({},e),{},{show:!0,loading:!0})}))},children:h.loading?Object(U.jsx)(L.Spin,{}):g("MyProfilePage.RateCourse")}),!w&&y.isDone&&Object(U.jsx)(L.Button,{mode:"secondary",onClick:function(){return d(!0)},children:g("MyProfilePage.ResetCourseProgress")})]}),!!w&&null!==k&&k[0]<0&&Object(U.jsxs)(L.Text,{children:[g("MyProfilePage.AccessCourseExpired")," ",D.d.format(k[0],k[1])]}),Object(U.jsx)(q,{courseData:t,visible:l,onClose:function(){return d(!1)}}),h.show&&i&&!h.loading&&(M.length?Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(R.a,{course:Q.b.COURSE,courseId:i,visible:h.show,onClose:N,questionnaire:M[h.step]})}):Object(U.jsx)(L.Modal,{onClose:N,visible:h.show,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:468,children:Object(U.jsx)(L.Title,{children:g("CourseProgram.CourseRated")})}))]})},W=function(e){var t=e.course,n=Object(j.useTheme)(),a=Object(b.g)(),r=Object(C.a)().t;return Object(U.jsx)(_.a,{children:Object(U.jsx)(k.CourseCard,{mobile:y.isMobile,id:t.id,image:Object(U.jsx)(P.c,{to:"/course/".concat(t.id),children:t.image_path?Object(U.jsx)(N.ResponsiveImage,{path:t.image_path,alt:t.title,srcSizes:[300,600,900]}):Object(U.jsx)(S.a,{})}),subtitle:t.subtitle?Object(U.jsx)(O.Text,{children:Object(U.jsx)(P.c,{style:{color:n.primaryColor},to:"/course/".concat(t.id),children:t.subtitle})}):void 0,title:Object(U.jsx)(P.c,{to:"/courses/".concat(t.id),className:"title",children:Object(U.jsx)(m.Title,{level:4,as:"h2",children:t.title})}),categories:Object(U.jsx)(A.a,{categories:t.categories,onCategoryClick:function(e){a.push("/courses/?categories[]=".concat(e))}}),actions:t.courseData&&Object(U.jsx)(V,{courseData:t.courseData,courseProgress:t.progress||0}),footer:Object(U.jsxs)(U.Fragment,{children:[t.users_count&&t.users_count>0&&Object(U.jsx)(E.IconText,{icon:Object(U.jsx)(M.C,{}),text:"".concat(t.users_count," ").concat(r("Students"))})," ",t.lessons_count&&t.lessons_count>0&&Object(U.jsx)(E.IconText,{icon:Object(U.jsx)(M.w,{}),text:"".concat(t.lessons_count," ").concat(r("Lessons"))})]}),progress:t.progress&&100!==t.progress&&!isNaN(t.progress)?{currentProgress:t.progress,maxProgress:100}:void 0})})},Y=n(694),G=n(700),J=function(e){return e.STARTED="started",e.PLANNED="planned",e.FINISHED="finished",e}(J||{}),$=j.default.div(r||(r=Object(l.a)(["\n  overflow: hidden;\n  .course-wrapper {\n    margin-bottom: 24px;\n    a {\n      text-decoration: none;\n    }\n  }\n\n  .slider-wrapper {\n    width: 100%;\n    display: flex;\n    overflow: scroll;\n    column-gap: 15px;\n\n    @media (max-width: 575px) {\n      width: calc(100% + 15px);\n      margin-right: -15px;\n    }\n\n    .single-slide {\n      width: 272px;\n      max-width: 272px;\n      flex-shrink: 0;\n    }\n  }\n"]))),X=j.default.div(i||(i=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background: ",";\n  padding: ",";\n  width: calc(100% - 30px);\n  margin: 0 auto;\n\n  .small-text {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray5}),y.isMobile?"80px 20px":"192px 20px"),Z=j.default.div(o||(o=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n"]))),ee=function(e){var t,n,a,r,i,o,c=e.filter,s=void 0===c?oe.ALL:c,l=Object(u.useContext)(d.EscolaLMSContext),j=l.fetchMyAuthoredCourses,p=l.myAuthoredCourses,k=l.fetchPaginatedProgress,E=l.paginatedProgress,P=Object(u.useState)([]),M=Object(x.a)(P,2),S=M[0],N=M[1],_=Object(b.g)(),A=Object(C.a)().t,R=Object(G.a)().setQueryParam,D=Object(b.h)().search,L=new URLSearchParams(D),I=L.get("page"),z=L.get("status"),F=Object(u.useCallback)((function(e){var t="";switch(e){case 1:case 5:break;case 2:t=J.STARTED;break;case 3:t=J.PLANNED;break;case 4:t=J.FINISHED}return t}),[]);Object(u.useEffect)((function(){k({page:I?parseInt(I):1,per_page:6,status:F(Number(z))}),s!==oe.ALL&&s!==oe.AUTHORED||j()}),[k,s,j,I,z,F]);var B=Object(u.useMemo)((function(){var e;return((null===(e=E.list)||void 0===e?void 0:e.data)||[]).reduce((function(e,t){return Object(v.a)(Object(v.a)({},e),{},Object(h.a)({},t.course.id?t.course.id:-1,Math.round((t.progress||[]).reduce((function(e,t){return 1===t.status?e+1:e}),0)/t.progress.length*100)))}),{})}),[E]),q=Object(u.useCallback)((function(e){return e.map((function(e){return Object(v.a)(Object(v.a)({},e.course),{},{courseData:e,progress:B[e.course.id?e.course.id:-1]})}))}),[B]);return Object(u.useEffect)((function(){var e,t;s!==oe.AUTHORED?N(q((null===(e=E.list)||void 0===e?void 0:e.data)||[])):s===oe.AUTHORED?N(p.value||[]):N([].concat(Object(f.a)(q((null===(t=E.list)||void 0===t?void 0:t.data)||[])),Object(f.a)(p.value||[])))}),[s,E,p,q]),Object(U.jsx)($,{children:y.isMobile?Object(U.jsx)("div",{className:"slider-wrapper",children:S&&S.map((function(e){return Object(U.jsx)("div",{className:"single-slide",children:Object(U.jsx)(W,{course:e})},e.id)}))}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(w.Row,{style:{gap:"28px 0"},children:[0===S.length&&!E.loading&&!p.loading&&Object(U.jsxs)(X,{children:[Object(U.jsx)(m.Title,{level:3,children:A("MyProfilePage.EmptyCoursesTitle")}),Object(U.jsx)(O.Text,{className:"small-text",children:A("MyProfilePage.EmptyCoursesText")}),Object(U.jsx)(g.Button,{onClick:function(){return _.push("/courses")},mode:"secondary",children:A("MyProfilePage.EmptyCoursesBtnText")})]}),E.loading||p.loading?Object(U.jsx)(T.a,{}):S.map((function(e){return Object(U.jsx)(w.Col,{md:4,children:Object(U.jsx)(W,{course:e})},e.id)}))]}),Object(U.jsx)(Z,{children:Object(U.jsx)(Y.a,{total:(null===(t=E.list)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.total)||0,perPage:Number((null===(a=E.list)||void 0===a||null===(r=a.meta)||void 0===r?void 0:r.per_page)||0),currentPage:Number((null===(i=E.list)||void 0===i||null===(o=i.meta)||void 0===o?void 0:o.current_page)||1),onPage:function(e){var t;R("page","".concat(e)),null===(t=window)||void 0===t||t.scrollTo(0,0)}})})]})})},te=n(902),ne=j.default.section(c||(c=Object(l.a)(["\n  .empty-certificates-message {\n    padding: 34px 40px;\n    background: ",";\n  }\n  .buttons-container {\n    display: flex;\n    column-gap: 60px;\n    align-items: center;\n    justify-content: flex-end;\n\n    .download-btn {\n      appearance: none;\n      outline: none;\n      border: none;\n      cursor: pointer;\n      background: transparent;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      column-gap: 10px;\n      color: ",";\n    }\n  }\n"])),(function(e){var t=e.theme;return"dark"===t.mode?t.gray1:t.gray5}),(function(e){var t=e.theme;return"dark"===t.mode?t.white:t.gray1})),ae=function(){var e,t,n,a,r,i=Object(u.useContext)(I.EscolaLMSContext),o=i.generateCertificate,c=i.certificates,s=i.fetchCertificates,l=Object(C.a)().t,d=Object(j.useTheme)(),b=Object(u.useState)(-1),p=Object(x.a)(b,2),f=p[0],h=p[1];Object(u.useEffect)((function(){s()}),[s]);var v=Object(u.useCallback)(function(){var e=Object(F.a)(Object(z.a)().mark((function e(t,n){var a,r;return Object(z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),e.prev=1,e.next=4,o(t);case 4:(a=e.sent)&&(r=document.createElement("a"),document.body.appendChild(r),r.setAttribute("href",URL.createObjectURL(new Blob([a]))),r.setAttribute("download","".concat(n||"Certificate",".pdf")),r.style.display="",r.click(),document.body.removeChild(r),h(-1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),h(-1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),[o]);return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(ne,{children:[0===(null===(e=c.list)||void 0===e?void 0:e.data.length)&&Object(U.jsx)(O.Text,{className:"empty-certificates-message",children:Object(U.jsx)("strong",{children:l("MyProfilePage.EmptyCertificates")})}),c&&(null===c||void 0===c||null===(t=c.list)||void 0===t?void 0:t.data)&&(null===(n=c.list)||void 0===n?void 0:n.data.length)>0&&(null===c||void 0===c||null===(a=c.list)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.filter((function(e){return e.title})).map((function(e){return Object(U.jsx)(te.NoteAction,{color:d.primaryColor,title:Object(U.jsx)(m.Title,{level:4,as:"h3",children:e.title}),subtitle:Object(U.jsx)(O.Text,{noMargin:!0,size:"12",children:new Date(e.created_at).toLocaleDateString("pl-PL")}),actions:Object(U.jsx)("div",{className:"buttons-container",children:f===e.id?Object(U.jsx)(L.Spin,{color:d.primaryColor}):Object(U.jsxs)("button",{className:"download-btn",onClick:function(){return v(e.id,e.title)},children:[Object(U.jsx)(M.b,{})," ",Object(U.jsx)(O.Text,{children:"(.pdf)"})]})})})})))]})})},re=n(688),ie=n(730),oe=function(e){return e.IN_PROGRESS="inProgress",e.PLANNED="planned",e.FINISHED="finished",e.AUTHORED="authored",e.ALL="all",e}({}),ce=j.default.section(s||(s=Object(l.a)(["\n  .courses-wrapper {\n    min-height: fit-content;\n    margin-top: -70px;\n    @media (max-width: 991px) {\n      margin-top: 0;\n    }\n    .tabs-menu {\n      margin: 0 0 70px 40px;\n      @media (max-width: 991px) {\n        margin: 0 0 40px 0;\n      }\n    }\n  }\n  .certificates-container {\n    margin-top: 70px;\n    h2 {\n      margin: ",";\n    }\n  }\n"])),y.isMobile?"0 0 22px 20px":"0 0 22px 40px");t.default=function(){var e=Object(u.useContext)(d.EscolaLMSContext).user,t=Object(b.g)(),n=Object(C.a)().t,a=Object(ie.a)().isTutor,r=Object(G.a)(),i=r.query,o=r.setQueryParam;Object(u.useEffect)((function(){e.loading||e.value||t.push("/login")}),[]);var c={tabs:[{label:n("MyProfilePage.ALlCourses"),key:1,component:Object(U.jsx)(ee,{filter:oe.ALL})},{label:n("MyProfilePage.InProgress"),key:2,component:Object(U.jsx)(ee,{filter:oe.IN_PROGRESS})},{label:n("MyProfilePage.Planned"),key:3,component:Object(U.jsx)(ee,{filter:oe.PLANNED})},{label:n("MyProfilePage.Finished"),key:4,component:Object(U.jsx)(ee,{filter:oe.FINISHED})},{label:n("MyProfilePage.Authored"),key:5,component:Object(U.jsx)(ee,{filter:oe.AUTHORED}),hidden:!a}],defaultActiveKey:Number(i.get("status")||1)};return Object(U.jsx)(re.a,{title:n("MyProfilePage.MyCourses"),withTabs:!0,children:Object(U.jsxs)(ce,{children:[Object(U.jsx)("div",{className:"courses-wrapper",children:Object(U.jsx)(p.Tabs,{onClick:function(e){o("status",String(e)),o("page","1")},tabs:c.tabs,defaultActiveKey:c.defaultActiveKey})}),Object(U.jsxs)("div",{className:"certificates-container",children:[Object(U.jsx)(m.Title,{level:2,children:n("MyProfilePage.MyCertificates")}),Object(U.jsx)(ae,{})]})]})})}},675:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={defaultDateFormat:"dd/MM/yyyy",defaultDateTimeFormat:"dd/MM/yyyy, HH:mm"}},676:function(e,t,n){"use strict";var a,r=n(72),i=n(19),o=n(680),c=n(3),s=i.default.div(a||(a=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ",";\n"])),(function(e){var t=e.theme;return"light"===t.mode?t.gray4:t.gray2}));t.a=function(){return Object(c.jsx)(s,{children:Object(c.jsx)("img",{src:o.a,alt:""})})}},677:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return j}));var a=n(176),r=n(290),i=n(137),o=n(675),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.defaultDateFormat;return e?Object(a.default)(new Date(e),t):""},s=function(e,t,n){return!(!e||!t)&&c(e,n)===c(t,n)},l=function(e){var t=[];return e.forEach((function(e){var n=Object(a.default)(new Date(e),"MM/dd/yyyy"),r=t.find((function(e){return Object(a.default)(new Date(e.date),"MM/dd/yyyy")===n}));r?r.times.push(new Date(e)):t.push({date:n,times:[new Date(e)]})})),t},u=function(e){return e.filter((function(e){return Object(r.default)(e,new Date)}))},d=function(e){return e.sort((function(e,t){return e.getTime()-t.getTime()}))},b=function(e){var t=Array.from(e.matchAll(/(\d+)\s+(day|hour|minute|second|week|year)s?/g)),n={},a=!1;if(t.forEach((function(e){a=!0;var t=parseInt(e[1]),r=e[2];n[r]?n[r]+=t:n[r]=t})),!a){Array.from(e.matchAll(/\d+/g)).forEach((function(e){var t=parseInt(e[0]);n.hour=t}))}return n},j=function(e,t){return Object(i.a)(new Date(e),{years:t.year||0,months:t.month||0,weeks:t.week||0,days:t.day||0,hours:t.hour||0,minutes:t.minute||0,seconds:t.second||0})}},680:function(e,t,n){"use strict";t.a=n.p+"static/media/image.ece42557.svg"},681:function(e,t,n){"use strict";var a,r=n(72),i=n(30),o=n(19),c=n(3),s=o.default.div(a||(a=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n"])));t.a=function(e){var t=e.width,n=e.height,a=Object(o.useTheme)();return Object(c.jsx)(s,{style:{width:t||"100%",height:n||"100%"},children:Object(c.jsx)(i.Spin,{color:a.primaryColor})})}},683:function(e,t,n){"use strict";var a,r=n(20),i=n(12),o=n(72),c=n(1),s=n(19),l=n(364),u=n(3),d=Object(s.default)("div")(a||(a=Object(o.a)(["\n  .more-icon {\n    border: 1px solid;\n    border-radius: 50%;\n    padding: 4px;\n    margin-left: 12px;\n    font-size: 0.75em;\n  }\n\n  .category-name {\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .categories-menu-container {\n    position: relative;\n\n    .categories-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      list-style: none;\n      background-color: #f2f2f2;\n      margin: 4px 0;\n\n      li {\n        margin: 4px 0;\n      }\n    }\n  }\n"])));t.a=function(e){var t,n=e.categories,a=e.onCategoryClick,o=Object(c.useState)(!1),s=Object(i.a)(o,2),b=s[0],j=s[1],m=Object(c.useRef)(null),p=n?Object(r.a)(n).splice(0,2):[],f=n?Object(r.a)(n).splice(2):[],h=Object(c.useCallback)((function(e){a&&a(e)}),[a]);return Object(u.jsxs)(d,{ref:m,isOpen:b,children:[Object(u.jsx)(l.BreadCrumbs,{hyphen:"/",items:null===p||void 0===p?void 0:p.map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"category-name",onClick:function(){return h(e.id)},"aria-hidden":!0,children:e.name},e.name+t),t===p.length-1&&f.length>0&&Object(u.jsx)("span",{className:"more-icon",onMouseOver:function(){return j(!0)},onFocus:function(){return j(!0)},"aria-hidden":!0,children:"+".concat(f.length)})]})}))}),f.length>0&&Object(u.jsx)("div",{className:"categories-menu-container",onMouseLeave:function(){return j(!1)},children:b&&Object(u.jsx)("ul",{className:"categories-menu",style:{width:(null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect().width)||"auto"},children:Object(u.jsx)(l.BreadCrumbs,{hyphen:"/",items:null===f||void 0===f?void 0:f.map((function(e){return Object(u.jsx)("li",{className:"category-name",onClick:function(){return h(e.id)},"aria-hidden":!0,children:e.name})}))})})})]})}},684:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return p}));var a=n(368),r=n(675),i=n(677),o=n(162),c=n(145),s=n(146),l=function(e){var t;return e?null===(t=e.items)||void 0===t?void 0:t.map((function(e){return e.name})).join(", "):""},u=function(e){var t,n,o,c,s,u,d,b,j,m,p,f,h,v,x,O,g,y,C,T,w,k,E,P,M,S,N,_,A,R,D,L,I,z,F,B,U,q,Q,H,K,V,W,Y,G,J="".concat("Notifications.").concat(e.event);switch(e.event){case a.EventTypes.StationaryEventAuthorAssigned:return{translation:J,object:{name:(null===(t=e.data.stationaryEvent)||void 0===t?void 0:t.name)||""}};case a.EventTypes.StationaryEventAuthorUnassigned:return{translation:J,object:{name:(null===(n=e.data.stationaryEvent)||void 0===n?void 0:n.name)||""}};case a.EventTypes.StationaryEventAssigned:return{translation:J,object:{name:(null===(o=e.data.stationaryEvent)||void 0===o?void 0:o.name)||""}};case a.EventTypes.StationaryEventUnassigned:return{translation:J,object:{name:(null===(c=e.data.stationaryEvent)||void 0===c?void 0:c.name)||""}};case a.EventTypes.AbandonedCartEvent:case a.EventTypes.OrderCancelled:case a.EventTypes.OrderCreated:return{translation:J};case a.EventTypes.OrderPaid:return{translation:J,object:{name:l(e.data.order)||""}};case a.EventTypes.ProductableAttached:return{translation:J,object:{name:(null===(s=e.data.productable)||void 0===s?void 0:s.name)||""}};case a.EventTypes.ProductableDetached:return{translation:J,object:{name:(null===(u=e.data.productable)||void 0===u?void 0:u.name)||""}};case a.EventTypes.ProductAddedToCart:return{translation:J,object:{name:(null===(d=e.data.product)||void 0===d?void 0:d.name)||""}};case a.EventTypes.ProductAttached:return{translation:J,object:{name:(null===(b=e.data.product)||void 0===b?void 0:b.name)||""}};case a.EventTypes.ProductBought:return{translation:J,object:{name:(null===(j=e.data.product)||void 0===j?void 0:j.name)||""}};case a.EventTypes.ProductDetached:return{translation:J,object:{name:(null===(m=e.data.product)||void 0===m?void 0:m.name)||""}};case a.EventTypes.ProductRemovedFromCart:return{translation:J,object:{name:(null===(p=e.data.product)||void 0===p?void 0:p.name)||""}};case a.EventTypes.PaymentCancelled:return{translation:J,object:{amount:(null===(f=e.data.payment)||void 0===f?void 0:f.amount)||0,name:l(null===(h=e.data.payment)||void 0===h?void 0:h.payable)}};case a.EventTypes.PaymentFailed:return{translation:J,object:{amount:(null===(v=e.data.payment)||void 0===v?void 0:v.amount)||0,name:l(null===(x=e.data.payment)||void 0===x?void 0:x.payable)}};case a.EventTypes.PaymentRegistered:return{translation:J,object:{amount:(null===(O=e.data.payment)||void 0===O?void 0:O.amount)||0}};case a.EventTypes.PaymentSuccess:return{translation:J,object:{amount:(null===(g=e.data.payment)||void 0===g?void 0:g.amount)||0,name:l(null===(y=e.data.payment)||void 0===y?void 0:y.payable)}};case a.EventTypes.CourseAccessFinished:return{translation:J,object:{name:(null===(C=e.data.course)||void 0===C?void 0:C.title)||""}};case a.EventTypes.CourseAccessStarted:return{translation:J,object:{name:(null===(T=e.data.course)||void 0===T?void 0:T.title)||""}};case a.EventTypes.CourseAssigned:return{translation:J,object:{name:(null===(w=e.data.course)||void 0===w?void 0:w.title)||""}};case a.EventTypes.CourseDeadlineSoon:return{translation:J,object:{name:(null===(k=e.data.course)||void 0===k?void 0:k.title)||"",date:Object(i.d)(null===(E=e.data.course)||void 0===E?void 0:E.active_to,r.a.defaultDateTimeFormat)}};case a.EventTypes.CoursedPublished:return{translation:J,object:{name:(null===(P=e.data.course)||void 0===P?void 0:P.title)||""}};case a.EventTypes.CourseFinished:return{translation:J,object:{name:(null===(M=e.data.course)||void 0===M?void 0:M.title)||""}};case a.EventTypes.CourseStarted:return{translation:J,object:{name:(null===(S=e.data.course)||void 0===S?void 0:S.title)||""}};case a.EventTypes.CourseStatusChanged:return{translation:J,object:{name:(null===(N=e.data.course)||void 0===N?void 0:N.title)||""}};case a.EventTypes.CourseTutorAssigned:return{translation:J,object:{name:(null===(_=e.data.course)||void 0===_?void 0:_.title)||""}};case a.EventTypes.CourseTutorUnassigned:return{translation:J,object:{name:(null===(A=e.data.course)||void 0===A?void 0:A.title)||""}};case a.EventTypes.CourseUnassigned:return{translation:J,object:{name:(null===(R=e.data.course)||void 0===R?void 0:R.title)||""}};case a.EventTypes.TopicFinished:return{translation:J,object:{name:(null===(D=e.data.course)||void 0===D?void 0:D.title)||""}};case a.EventTypes.TopicTypeChanged:return{translation:J,object:{name:(null===(L=e.data.topicContent)||void 0===L?void 0:L.value)||""}};case a.EventTypes.ReportTerm:return{translation:J,object:{name:(null===(I=e.data.consultationTerm)||void 0===I?void 0:I.consultation.name)||"",date:Object(i.d)(null===(z=e.data.consultationTerm)||void 0===z?void 0:z.executed_at,r.a.defaultDateTimeFormat),user:"".concat(null===(F=e.data.consultationTerm)||void 0===F||null===(B=F.user)||void 0===B?void 0:B.first_name," ").concat(null===(U=e.data.consultationTerm)||void 0===U||null===(q=U.user)||void 0===q?void 0:q.last_name)}};case a.EventTypes.ApprovedTerm:return{translation:J,object:{date:Object(i.d)(null===(Q=e.data.consultationTerm)||void 0===Q?void 0:Q.executed_at)||""}};case a.EventTypes.ApprovedTermWithTrainer:return{translation:J,object:{date:Object(i.d)(null===(H=e.data.consultationTerm)||void 0===H?void 0:H.executed_at)||""}};case a.EventTypes.ChangeTerm:return{translation:J,object:{date:Object(i.d)(null===(K=e.data.consultationTerm)||void 0===K?void 0:K.executed_at)||""}};case a.EventTypes.RejectTerm:return{translation:J,object:{date:Object(i.d)(null===(V=e.data.consultationTerm)||void 0===V?void 0:V.executed_at)||""}};case a.EventTypes.RejectTermWithTrainer:return{translation:J,object:{date:Object(i.d)(null===(W=e.data.consultationTerm)||void 0===W?void 0:W.executed_at)||""}};case a.EventTypes.ReminderAboutTerm:return{translation:J,object:{date:Object(i.d)(null===(Y=e.data.consultationTerm)||void 0===Y?void 0:Y.executed_at)||""}};case a.EventTypes.ReminderTrainerAboutTerm:return{translation:J,object:{date:Object(i.d)(null===(G=e.data.consultationTerm)||void 0===G?void 0:G.executed_at)||""}};default:return{translation:J}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0;if(!e||"number"!==typeof e)return 0;var a=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return n?a/n:a},b=function(e,t){return e?(t?d(e,2,100)*(1+t/100):d(e,2,100)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0},j=function(e,t){return-1!==t.authors.findIndex((function(t){return t.id===e}))},m=function(e){var t,n=e?Object(o.a)(e.getTime(),(new Date).getTime()):null,a=e?Object(c.a)(e.getTime(),(new Date).getTime()):null,r=e?Object(s.a)(e.getTime(),(new Date).getTime()):null,i=null!==n&&0!==n?[n,"day"]:null;return null!==(t=null!==i&&void 0!==i?i:null!==a&&0!==a?[a,"hour"]:null)&&void 0!==t?t:null!==r&&0!==r?[r,"minute"]:null},p=new Intl.RelativeTimeFormat("pl",{style:"short"})},685:function(e,t,n){"use strict";var a,r=n(72),i=(n(1),n(19)),o=n(3),c=i.default.div(a||(a=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n\n  a {\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .image-section {\n    .information-in-image {\n      .card {\n        .content:after,\n        .content:before {\n          box-shadow: inset 0px -6px 14px -8px rgba(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n  .course-section {\n    margin-top: 6px;\n  }\n\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n    justify-content: center;\n  }\n"])));t.a=function(e){var t=e.children;return Object(o.jsx)(c,{children:t})}},688:function(e,t,n){"use strict";var a,r,i,o,c,s,l,u,d=n(72),b=n(276),j=n(12),m=n(54),p=n(1),f=n(19),h=n(33),v=n(92),x=n(35),O=n(47),g=n(74),y=n(194),C=n(3),T=f.default.div(a||(a=Object(d.a)(["\n  padding: ",";\n  background: ",";\n  border-radius: ","px;\n"])),g.isMobile?"20px":"40px",(function(e){var t=e.theme;return"dark"===t.mode?t.dm__cardBackgroundColor:t.cardBackgroundColor}),(function(e){return e.theme.cardRadius})),w=function(e){var t=e.title,n=e.icon,a=e.children;return Object(C.jsxs)(T,{children:[Object(C.jsx)(y.IconTitle,{title:t,icon:n,as:"h2",level:4}),a]})},k=n(275),E=n(274),P=f.default.div(r||(r=Object(d.a)(["\n  transition: max-height 0.5s ease-in-out;\n  max-height: 5000px;\n  ",";\n\n  .collapse-header {\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: space-between;\n    align-items: start;\n    gap: 6px;\n    cursor: pointer;\n\n    &__heading {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        color: ",";\n    }\n\n    &__icon {\n      color: ",";\n        opacity: 0.6;\n        width: 12px;\n        margin-top: 3.5px;\n        transition: rotate 0.2s ease-in-out;\n        rotate: ",";\n\n        &:hover {\n            svg {\n                opacity: 1;\n            }\n        }\n    }\n"])),(function(e){return e.isOpen?"":"max-height: 1.2em; overflow: hidden; transition: max-height 1s cubic-bezier(0, 1, 0, 1);"}),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__textColor:t.textColor}),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__textColor:t.textColor}),(function(e){return e.isOpen?"180deg":"0"})),M=function(e){var t=e.headerTitle,n=e.headerClassName,a=e.initialValue,r=e.children,i=Object(p.useState)(null!==a&&void 0!==a&&a),o=Object(j.a)(i,2),c=o[0],s=o[1];return Object(C.jsxs)(P,{isOpen:c,children:[Object(C.jsxs)("div",{className:"collapse-header ".concat(null!==n&&void 0!==n?n:""),onClick:function(){return s((function(e){return!e}))},onKeyUp:function(e){return"Enter"===e.code&&s((function(e){return!e}))},role:"button",tabIndex:0,children:[Object(C.jsx)("span",{className:"collapse-header__heading",children:t}),Object(C.jsx)("svg",{className:"arrows collapse-header__icon",width:"14",height:"8",viewBox:"0 0 14 8",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L7 5.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683418 14.0976 1.31658 13.7071 1.70711L7.70711 7.70711C7.31658 8.09763 6.68342 8.09763 6.29289 7.70711L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683418 0.292893 0.292893Z",fill:"currentColor"})})]}),r]})},S=n(195),N=f.default.div(i||(i=Object(d.a)(["\n  margin-bottom: ",";\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: row;\n  align-items: center;\n  gap: 15px;\n\n  .avatar-upload-text {\n    margin: 0;\n    cursor: pointer;\n  }\n"])),g.isMobile?"0":"21px"),_=function(e){var t,n=e.size,a=Object(p.useContext)(m.EscolaLMSContext),r=a.updateAvatar,i=a.user,o=Object(p.useCallback)((function(e){var t,n,a=null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0];a&&r(a)}),[r]);return Object(C.jsxs)(N,{children:[Object(C.jsx)(S.Avatar,{size:n,src:null===(t=i.value)||void 0===t?void 0:t.avatar,alt:""}),Object(C.jsxs)("label",{htmlFor:"fileInput",children:[Object(C.jsx)(h.Text,{className:"avatar-upload-text",size:"12",children:"Dodaj nowe zdj\u0119cie"}),Object(C.jsx)("input",{type:"file",id:"fileInput",accept:"image/*",style:{display:"none"},onChange:o})]})]})},A=Object(f.default)("aside")(o||(o=Object(d.a)(["\n  ","\n  transform: ",";\n  background: ",";\n  .user-main-sidebar {\n    margin-bottom: ",";\n    .name {\n      margin: ",";\n    }\n    .navigation {\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: flex-start;\n      row-gap: 15px;\n      margin-bottom: 50px;\n      a {\n        text-decoration: none;\n        &:hover {\n          p {\n            color: ",";\n          }\n        }\n        &.selected {\n          p {\n            color: ",';\n          }\n        }\n      }\n    }\n    .logout-wrapper {\n      position: relative;\n      &:before {\n        position: absolute;\n        content: "";\n        left: 0;\n        top: -16px;\n        height: 1px;\n        width: 24px;\n        background: ',";\n      }\n      button {\n        appearance: none;\n        outline: none;\n        border: none;\n        background: transparent;\n        padding: 0;\n        margin: 0;\n        cursor: pointer;\n        p {\n          &:hover {\n            color: ",";\n          }\n        }\n      }\n    }\n  }\n  .progress-container {\n    display: flex;\n    flex-direction: ",";\n    flex-wrap: wrap;\n    justify-content: ",";\n    align-items: ",";\n  }\n"])),g.isMobile&&"\n    box-shadow: 0px -2px 15px rgba(0, 0, 0, 0.1);\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    height: 100vh;\n    width: 100%;\n    transition: all 0.25s;\n    z-index: 1000;\n    overflow: scroll;\n    ",(function(e){return e.opened&&g.isMobile?"translate(0, 0%)":!e.opened&&g.isMobile?"translate(0, 91%)":"translate(0, 0)"}),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__background:t.background}),g.isMobile?"70px":"22px",g.isMobile?"0 0 0 21px":"16px 0 0 0",(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor}),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray1}),(function(e){return e.theme.primaryColor}),g.isMobile?"row":"column",g.isMobile?"space-between":"flex-start",g.isMobile?"center":"flex-start"),R=f.default.div(c||(c=Object(d.a)(["\n  display: grid;\n  grid-template-columns: auto 1fr;\n\n  &:not(:last-child) {\n    margin-bottom: ",";\n    margin-right: ",";\n  }\n  .number {\n    color: ",";\n  }\n  .label {\n    margin-left: ",";\n    margin-top: 10px;\n    position: relative;\n    font-size: 14px;\n    line-height: 1.2;\n    font-weight: 700;\n    max-width: ",';\n  }\n\n  .list-box {\n    padding: 0;\n    list-style: none;\n    width: 100%;\n    grid-column: 1/3;\n    font-family: "Mulish", sans-serif;\n  }\n\n  .list-box-item {\n    font-size: 14px;\n\n    :not(:last-child) {\n      margin-bottom: 16px;\n    }\n\n    &__time {\n      color: ',";\n      opacity: 0.6;\n      margin: 0;\n      display: flex;\n      align-items: center;\n\n      &:first-of-type {\n        margin-top: 8px;\n      }\n\n      svg {\n        width: 12px;\n        height: auto;\n        fill: ",";\n        opacity: 0.6;\n      }\n    }\n\n    &__value {\n      font-size: 12px;\n      line-height: 1.5;\n      margin-left: 4px;\n    }\n  }\n"])),g.isMobile?0:"14px",g.isMobile?"10px":0,(function(e){return e.theme.primaryColor}),g.isMobile?0:"11px",g.isMobile?"80px":"unset",(function(e){var t=e.theme;return"dark"===t.mode?t.dm__textColor:t.textColor}),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__textColor:t.textColor})),D=Object(f.default)("div")(s||(s=Object(d.a)(['\n  padding: 17px 15px;\n  box-shadow: 0px -2px 15px rgba(0, 0, 0, 0.1);\n  position: relative;\n  &:after {\n    content: "";\n    display: ',";\n    position: absolute;\n    right: 22px;\n    top: 50%;\n    transform: translate(0, -50%) rotate(-45deg);\n    width: 12px;\n    height: 12px;\n    border-left: 2px solid\n      ",";\n    border-bottom: 2px solid\n      ",";\n  }\n  .content-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    column-gap: 10px;\n    flex-direction: ",";\n  }\n"])),(function(e){return e.opened?"block":"none"}),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray1}),(function(e){var t=e.theme;return"dark"===t.mode?t.gray5:t.gray1}),g.isMobile?"column":"row"),L=function(){var e,t,n,a,r,i,o,c=Object(p.useState)(!1),s=Object(j.a)(c,2),l=s[0],u=s[1],d=Object(p.useContext)(m.EscolaLMSContext),b=d.user,y=d.logout,T=d.certificates,P=d.progress,S=d.fetchProgress,N=Object(E.a)().t,L=Object(f.useTheme)(),I=Object(x.g)(),z=function(e){if(!e)return"-";var t=e,n=Math.trunc(e/3600);n>=1&&(t-=3600*n);var a=Math.trunc(e/60);return a>=1&&(t-=60*a),"\n        ".concat(n>=1?n+"h ":"").concat(a>=1?a+"min ":"").concat(t>=1?t+"s":"","\n    ")};Object(p.useEffect)((function(){S()}),[]);var F=Object(p.useMemo)((function(){return(P.value||[]).filter((function(e){return e.finish_date}))}),[P]),B=[{key:"COURSES",title:N("MyProfilePage.MyCourses"),url:"/user/my-profile"},{key:"CONSULTATIONS",title:N("MyProfilePage.MyConsultations"),url:"/user/my-consultations"},{key:"EVENTS",title:N("MyProfilePage.MyStationaryEvents"),url:"/user/my-stationary-events"},{key:"TASKS",title:N("MyProfilePage.MyTasks"),url:"/user/my-tasks"},{key:"BOOKMARKS",title:N("MyProfilePage.MyBookmarks"),url:"/user/my-bookmarks"},{key:"ORDERS",title:N("MyProfilePage.OrdersHistory"),url:"/user/my-orders"},{key:"NOTIFICATIONS",title:N("MyProfilePage.Notifications"),url:"/user/my-notifications"},{key:"EDIT",title:N("MyProfilePage.EditData"),url:"/user/my-data"}];return Object(C.jsxs)(A,{opened:l,children:[g.isMobile&&Object(C.jsx)(D,{opened:l,onClick:function(){return u(!l)},children:Object(C.jsxs)("div",{className:"content-wrapper",children:[null!==(e=b.value)&&void 0!==e&&e.avatar?Object(C.jsx)(_,{size:"extraSmall"}):Object(C.jsx)(k.d,{mode:"dark"===L.mode?"light":"dark"}),Object(C.jsx)(h.Text,{children:Object(C.jsxs)("strong",{children:[null===(t=b.value)||void 0===t?void 0:t.first_name," ",null===(n=b.value)||void 0===n?void 0:n.last_name]})})]})}),Object(C.jsx)("div",{className:"user-main-sidebar",children:Object(C.jsxs)(w,{title:N("MyProfilePage.YourAccount"),icon:Object(C.jsx)(k.C,{}),children:[Object(C.jsxs)("div",{className:"avatar-wrapper",children:[null!==(a=b.value)&&void 0!==a&&a.avatar?Object(C.jsx)(_,{size:"small"}):Object(C.jsx)(k.d,{mode:"dark"===L.mode?"light":"dark"}),Object(C.jsxs)(v.Title,{className:"name",level:4,as:"h3",children:[null===(r=b.value)||void 0===r?void 0:r.first_name," ",null===(i=b.value)||void 0===i?void 0:i.last_name]})]}),Object(C.jsx)("nav",{className:"navigation",children:B.map((function(e){return Object(C.jsx)(O.d,{activeClassName:"selected",to:e.url,children:Object(C.jsx)(h.Text,{size:"14",children:e.title})},e.key)}))}),Object(C.jsx)("div",{className:"logout-wrapper",children:Object(C.jsx)("button",{onClick:function(){return y().then((function(){return I.push("/")}))},children:Object(C.jsx)(h.Text,{children:N("MyProfilePage.Logout")})})})]})}),Object(C.jsx)("div",{className:"user-progress sidebar",children:Object(C.jsx)(w,{title:N("MyProfilePage.MyProgress"),icon:Object(C.jsx)(k.y,{}),children:Object(C.jsxs)("div",{className:"progress-container",children:[Object(C.jsxs)(R,{children:[Object(C.jsx)(v.Title,{className:"number",level:1,children:F.length}),Object(C.jsx)(h.Text,{className:"label",children:N("MyProfilePage.FinishedCourses")}),Object(C.jsx)("ul",{className:"list-box",children:F.map((function(e,t){return Object(C.jsx)("li",{className:"list-box-item",children:Object(C.jsxs)(M,{initialValue:0===t,headerTitle:e.course.title,headerClassName:"list-box-item__title",children:[e.start_date&&e.finish_date&&Object(C.jsxs)("p",{className:"list-box-item__time",children:[Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(C.jsx)("path",{d:"M20 20h-4v-4h4v4zm-6-10h-4v4h4v-4zm6 0h-4v4h4v-4zm-12 6h-4v4h4v-4zm6 0h-4v4h4v-4zm-6-6h-4v4h4v-4zm16-8v22h-24v-22h3v1c0 1.103.897 2 2 2s2-.897 2-2v-1h10v1c0 1.103.897 2 2 2s2-.897 2-2v-1h3zm-2 6h-20v14h20v-14zm-2-7c0-.552-.447-1-1-1s-1 .448-1 1v2c0 .552.447 1 1 1s1-.448 1-1v-2zm-14 2c0 .552-.447 1-1 1s-1-.448-1-1v-2c0-.552.447-1 1-1s1 .448 1 1v2z"})}),Object(C.jsxs)("span",{className:"list-box-item__value",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.finish_date).toLocaleDateString()]})]}),Object(C.jsxs)("p",{className:"list-box-item__time",children:[Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(C.jsx)("path",{d:"M6 14h6v-6c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6zm16 0c0 5.523-4.478 10-10 10s-10-4.477-10-10 4.478-10 10-10 10 4.477 10 10zm-2 0c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8 8-3.589 8-8zm-6-11.819v-2.181h-4v2.181c1.408-.238 2.562-.243 4 0zm6.679 3.554l1.321-1.321-1.414-1.414-1.407 1.407c.536.402 1.038.844 1.5 1.328z"})}),Object(C.jsx)("span",{className:"list-box-item__value",children:z(e.total_spent_time)})]})]})})}))})]}),Object(C.jsxs)(R,{children:[Object(C.jsx)(v.Title,{className:"number",level:1,children:null===(o=T.list)||void 0===o?void 0:o.data.length}),Object(C.jsx)(h.Text,{className:"label",children:N("MyProfilePage.TotalCertificates")})]})]})})})]})},I=f.default.div(l||(l=Object(d.a)(["\n  position: relative;\n  z-index: 0;\n  padding: ",";\n  background: ",";\n  border-radius: ",";\n  @media (max-width: 991px) {\n    padding: 60px 20px 20px 20px;\n    margin-bottom: 20px;\n  }\n\n  .actions {\n    display: flex;\n    width: 100%;\n    justify-content: flex-end;\n  }\n"])),(function(e){return e.withTabs?"105px 40px 90px 40px":"165px 40px 30px 40px"}),(function(e){var t=e.theme;return"dark"===t.mode?t.dm__cardBackgroundColor:t.cardBackgroundColor}),(function(e){return e.theme.cardRadius})),z=function(e){var t=e.title,n=e.withTabs,a=e.actions;return Object(C.jsxs)(I,{withTabs:n,children:[Object(C.jsx)(v.Title,{level:1,children:t}),a&&Object(C.jsx)("div",{className:"actions",children:a})]})},F=n(84),B=n(193),U=f.default.section(u||(u=Object(d.a)(["\n  .courses-wrapper {\n    margin-top: -70px;\n    .tabs-menu {\n      margin: 0 0 70px 40px;\n    }\n  }\n  .certificates-container {\n    margin-top: 70px;\n    h2 {\n      margin-left: 40px;\n    }\n  }\n"])));t.a=function(e){var t=e.children,n=e.title,a=e.withTabs,r=e.actions,i=Object(p.useContext)(m.EscolaLMSContext).user,o=Object(x.g)();return Object(p.useEffect)((function(){i.loading||i.value||o.push("/login")}),[]),Object(C.jsx)(b.a,{metaTitle:n,children:Object(C.jsx)(U,{children:Object(C.jsx)(B.a,{children:Object(C.jsxs)(F.Row,{children:[Object(C.jsxs)(F.Col,{lg:9,children:[Object(C.jsx)(z,{title:n,withTabs:a,actions:r}),t]}),Object(C.jsx)(F.Col,{lg:3,children:Object(C.jsx)(L,{})})]})})})})}},692:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.COURSE="course",e.WEBINAR="webinar",e}({}),r=function(e){return e.RATE="rate",e.TEXT="text",e.REVIEW="review",e}({})},694:function(e,t,n){"use strict";var a,r=n(20),i=n(72),o=(n(1),n(19)),c=n(33),s=n(47),l=n(3),u=o.default.div(a||(a=Object(i.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  a {\n    text-decoration: none !important;\n  }\n  .arrow {\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    margin: 0 10px;\n    &--left {\n      transform: rotate(45deg);\n    }\n    &--right {\n      transform: rotate(-135deg);\n    }\n  }\n  .number {\n    margin: 0 8px;\n    p {\n      opacity: 0.5;\n      &.current {\n        color: ","!important;\n        font-weight: 700;\n        opacity: 1;\n      }\n    }\n  }\n"])),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor})),d="LEFT",b="RIGHT",j=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r};t.a=function(e){var t=e.currentPage,n=e.total,a=e.perPage,i=e.onPage,o=e.pageNeighbours,m=void 0===o?2:o,p=Math.ceil(n/a);return Object(l.jsx)(u,{children:function(){var e=2*m+3;if(p>e+2){var n=Math.max(2,t-m),a=Math.min(p-1,t+m),i=j(n,a),o=n>2,c=p-a>1,s=e-(i.length+1);switch(!0){case o&&!c:var l=j(n-s,n-1);i=[d].concat(Object(r.a)(l),Object(r.a)(i));break;case!o&&c:var u=j(a+1,a+s);i=[].concat(Object(r.a)(i),Object(r.a)(u),[b]);break;default:i=[d].concat(Object(r.a)(i),[b])}return[1].concat(Object(r.a)(i),[p])}return t<p&&1===t?[].concat(Object(r.a)(j(1,p)),[b]):t>1&&t!==p?[d].concat(Object(r.a)(j(1,p)),[b]):t>1&&t===p?[d].concat(Object(r.a)(j(1,p))):j(1,p)}().map((function(e){return e===d?Object(l.jsx)("a",{href:"#!prev_page",className:"prev page-numbers",onClick:function(e){e.preventDefault(),i(t<=1?1:t-1)},children:Object(l.jsx)("div",{className:"arrow arrow--left"})}):e===b?Object(l.jsx)("a",{href:"#!next_page",className:"next page-numbers",onClick:function(e){e.preventDefault(),i(t===p?p:t+1)},children:Object(l.jsx)("div",{className:"arrow arrow--right"})}):Object(l.jsx)(s.c,{onClick:function(t){t.preventDefault(),i(Number(e))},to:"#!page-".concat(Number(e)),className:"number",children:Object(l.jsx)(c.Text,{className:Number(e)===t?"current":"",size:"16","aria-current":"page",children:Number(e)})},"#".concat(Number(e)))}))})}},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),r=n(696),i=n(1),o=n(35),c=function(){var e=Object(o.h)(),t=e.search,n=e.pathname,c=Object(o.g)(),s=Object(i.useMemo)((function(){return new URLSearchParams(t)}),[t]),l=Object(i.useCallback)((function(e){return new URLSearchParams(t).get(e)}),[t]),u=Object(i.useCallback)((function(e){return new URLSearchParams(t).getAll(e)}),[t]),d=Object(i.useCallback)((function(e,t){t&&""!==t?s.set(e,t):s.delete(e),c.push({pathname:n,search:s.toString()})}),[c,n,s]),b=Object(i.useCallback)((function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var n=Object(a.a)(e,2),r=n[0],i=n[1];Array.isArray(i)?i.forEach((function(e){t.append("".concat(r),e)})):t.append(r,i)})),t.toString()}),[]),j=Object(i.useCallback)((function(e){c.push({pathname:n,search:e?b(e):void 0})}),[c,b,n]),m=Object(i.useCallback)((function(e,t){s.delete(e),t.forEach((function(t){s.append(e,"".concat(t))})),c.push({pathname:n,search:s.toString()})}),[c,n,s]),p=Object(i.useMemo)((function(){return r.a.parse(t)}),[t]);return{query:s,getQueryValueByName:l,getAllQueryValueByName:u,setQueryParam:d,setPathname:j,setQueryArrayParam:m,paramsToObject:p,objectToParam:b}}},707:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(5),r=n(678),i=n(679),o=n(692),c=n(114),s=n(279),l=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.courseId,a=t.questionnaireId,i=t.fetchQuestionnaire,e.prev=1,e.t0=n,!e.t0){e.next=7;break}return e.next=6,i(o.b.COURSE,n,a);case 6:e.t0=e.sent;case 7:if(!(l=e.t0)||!l.success){e.next=10;break}return e.abrupt("return",l.data.questions);case 10:e.next=16;break;case 12:e.prev=12,e.t1=e.catch(1),s.b.error(Object(c.t)("UnexpectedError")),console.log(e.t1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,u,d,b,j,m,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.courseId,u=t.fetchQuestionnaires,d=t.fetchQuestionnaire,b=t.onSucces,j=t.onFinish,e.prev=1,e.t0=n,!e.t0){e.next=7;break}return e.next=6,u(o.b.COURSE,n);case 6:e.t0=e.sent;case 7:if(!(m=e.t0)||!m.success){e.next=13;break}return e.next=11,Promise.all(m.data.map(function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var i,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({courseId:n,questionnaireId:t.id,fetchQuestionnaire:d});case 2:return i=e.sent,o=t.questions.reduce((function(e,t){var n=null===i||void 0===i?void 0:i.find((function(e){return e.id===t.id})),r=Object(a.a)(Object(a.a)({},t),{},{rate:null===n||void 0===n?void 0:n.rate,note:null===n||void 0===n?void 0:n.note});return null===r.rate&&null===r.note&&e.push(r),e}),[]),e.abrupt("return",Object(a.a)(Object(a.a)({},t),{},{questions:o.sort((function(e,t){return e.position-t.position}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:p=e.sent,b(p.filter((function(e){return!!e.questions.length})));case 13:e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),s.b.error(Object(c.t)("UnexpectedError")),console.log(e.t1);case 19:return e.prev=19,j(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){return(e.reduce((function(e,t){return e+t.avg_rate}),0)/e.length).toFixed(1)}},730:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n(34),i=function(){var e=Object(a.useContext)(r.EscolaLMSContext).user;return{isTutor:Object(a.useMemo)((function(){var t,n;return!(null===(t=e.value)||void 0===t||null===(n=t.roles)||void 0===n||!n.includes("tutor"))}),[e]),isStudent:Object(a.useMemo)((function(){var t,n;return!(null===(t=e.value)||void 0===t||null===(n=t.roles)||void 0===n||!n.includes("student"))}),[e])}}},734:function(e,t,n){"use strict";var a=n(678),r=n(5),i=n(679),o=n(12),c=n(1),s=n.n(c),l=n(369),u=n(54),d=n(279),b=n(92),j=n(33),m=n(274),p=n(30),f=n(3),h=function(e){var t=e.data,n=e.textareaPlaceholder,a=e.withStarsRating,i=e.handleSubmit,s=Object(m.a)().t,l=t.title,u=t.description,d=Object(c.useState)({rate:0,note:""}),b=Object(o.a)(d,2),j=b[0],h=b[1];return Object(f.jsx)("form",{onSubmit:function(){i(j.rate,j.note),h({rate:0,note:""})},children:a?Object(f.jsx)(p.Rate,{onSubmit:function(e){return h((function(t){return Object(r.a)(Object(r.a)({},t),{},{rate:e})}))},header:t.title,children:Object(f.jsx)(p.TextArea,{placeholder:n,style:{marginTop:"30px"},value:j.note,onChange:function(e){var t=e.target.value;return h((function(e){return Object(r.a)(Object(r.a)({},e),{},{note:t})}))}})}):Object(f.jsxs)(p.Stack,{$gap:30,children:[Object(f.jsx)(p.Title,{children:l}),Object(f.jsx)(p.Text,{children:u}),Object(f.jsx)(p.TextArea,{placeholder:n,value:j.note,onChange:function(e){var t=e.target.value;return h((function(e){return Object(r.a)(Object(r.a)({},e),{},{note:t})}))}}),Object(f.jsx)(p.Button,{type:"submit",mode:"primary",style:{width:"fit-content",alignSelf:"center"},children:j.note.length?s("RateCourse.SendAnswer"):s("RateCourse.NoAnswer")})]})})},v=n(692);t.a=function(e){var t,n=e.course,p=e.courseId,x=e.visible,O=e.questionnaire,g=e.onClose,y=Object(c.useContext)(u.EscolaLMSContext).sendQuestionnaireAnswer,C=Object(m.a)().t,T=Object(c.useState)({loading:!1,step:0,showLastScreen:!1}),w=Object(o.a)(T,2),k=w[0],E=w[1],P=Object(c.useCallback)(function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,i){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.questions){e.next=16;break}return E((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:!0})})),e.prev=2,e.next=5,y(n,p,O.id,{question_id:O.questions[k.step].id,rate:t,note:i,visible_on_front:O.questions[k.step].public_answers});case 5:e.sent.success&&d.b.success(C("RateCourse.ThankYouMessage")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),d.b.error("Error"),console.error(e.t0);case 13:return e.prev=13,E((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:!1,step:e.step+1,note:"",rating:null})})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),[n,p,O.id,k]),M=Object(c.useCallback)((function(e,t){P(e,t),O.questions&&k.step===O.questions.length-1&&E((function(e){return Object(r.a)(Object(r.a)({},e),{},{showLastScreen:!0})}))}),[O,k.step,P]);return Object(f.jsx)(l.Modal,{onClose:g,visible:x,animation:"zoom",maskAnimation:"fade",destroyOnClose:!0,width:468,children:k.showLastScreen?Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(b.Title,{level:4,className:"modal-title",style:{paddingTop:"50px"},children:C("RateCourse.ThankYou")}),Object(f.jsx)(j.Text,{style:{paddingBottom:"50px",textAlign:"center"},children:C("RateCourse.ThankYouMessage")})]}):O.questions&&Object(f.jsx)(h,{textareaPlaceholder:C("RateCourse.OptionalComment"),data:O.questions[k.step],handleSubmit:function(e,t){return M(e,t)},withStarsRating:(null===(t=O.questions[k.step])||void 0===t?void 0:t.type)===v.a.REVIEW})})}}}]);
//# sourceMappingURL=11.dc422f5a.chunk.js.map