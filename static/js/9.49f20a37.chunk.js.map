{"version":3,"sources":["components/SingleCoursesTwo/CoursesDetailsSidebar/Buttons/index.tsx","components/SingleCoursesTwo/CoursesDetailsSidebar/index.tsx","hooks/useCourseProgress.ts","components/Course/CourseProgramPreview/index.tsx","pages/courses/course/styles.ts","pages/courses/course/Components/CourseCompanies/index.tsx","pages/courses/course/Components/CourseMainInfo/index.tsx","pages/courses/course/Components/CourseRatings/styles.ts","pages/courses/course/Components/CourseRatings/Provider/index.tsx","hooks/useCourseAnswers.ts","pages/courses/course/Components/CourseRatings/AnswerComponent/styles.ts","pages/courses/course/Components/CourseRatings/AnswerComponent/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/Content/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/Dropdowns/index.tsx","pages/courses/course/Components/CourseRatings/Questionnaires/index.tsx","pages/courses/course/Components/CourseRatings/Reviews/Content/index.tsx","pages/courses/course/Components/CourseRatings/Reviews/index.tsx","pages/courses/course/Components/CourseRatings/index.tsx","pages/courses/course/Components/CourseRelated/index.tsx","pages/courses/course/index.tsx","config/app.ts","components/CourseImgPlaceholder/index.tsx","utils/date.ts","images/image.svg","components/ContentLoader/index.tsx","components/Tags/index.tsx","components/CategoriesBreadCrumbs/index.tsx","utils/index.ts","components/CourseCardWrapper/index.tsx","components/Breadcrumbs/index.tsx","components/Pagination/index.tsx","types/questionnaire.ts","components/Preloader/index.tsx","components/CoursesSlider/index.tsx","utils/questionnaires.ts","components/ProductPrices/index.tsx","pages/courses/course/Components/CourseAuthor/index.tsx"],"names":["StyledButton","styled","Button","_templateObject","_taggedTemplateLiteral","CourseAccessButton","_ref","_courseAccess$list2","_course$product2","course","onRequestAccess","t","useTranslation","push","useHistory","_useContext","useContext","EscolaLMSContext","courseAccess","cart","addToCart","currentCourseAccess","useMemo","_courseAccess$list","_courseAccess$list$da","list","data","find","courseAccessItem","_courseAccessItem$cou","id","BuyButton","_jsx","loading","mode","onClick","_course$product","Number","product","then","children","status","_jsxs","_Fragment","disabled","concat","CourseDetailsSidebarButtons","_ref2","_course$product4","_user$value","userOwnThisCourse","_useContext2","user","courseInCart","_cart$value","value","items","some","item","_course$product3","product_id","userIsCourseAuthor","isPast","Date","active_to","Text","active_from","CoursesDetailsSidebar","_course$product5","_course$product6","_course$product7","_course$product8","_course$product9","_course$product10","theme","useTheme","useParams","_useCourseProgress","courseId","_useState","useState","undefined","loaded","_useState2","_slicedToArray","progress","setProgress","fetchCourseProgress","courseProgressDetails","useEffect","byId","_objectSpread","catch","useCourseProgress","owned","userCourseAccess","currentCourse","progressMap","filter","length","isMobile","PricingCard","mobile","Title","level","as","title","className","price_old","formatPrice","tax_rate","price","ContentLoader","ProductPrices","taxRate","oldPrice","size","duration","IconText","icon","IconCamera","text","lessons","IconSquares","language","users_count","CourseProgress","IconWin","width","height","style","fontSize","marginTop","marginBottom","Link","to","marginRight","color","primaryColor","CourseProgramPreview","topic","apiUrl","topicRender","_topic$topicable","_topic$topicable2","topicable_type","TopicType","H5P","H5Player","h5pObject","topicable","content","hideActionButtons","OEmbed","OEmbedPlayer","url","RichText","MarkdownPlayer","onLoad","console","log","Video","Audio","AudioVideoPlayer","Image","ImagePlayer","Pdf","PdfPlayer","pageConfig","Scorm","border","src","uuid","API","GiftQuiz","GiftQuizPlayer","React","Fragment","StyledCoursePage","div","gray1","gray5","_ref3","cardRadius","_ref4","ModalOverwriteGlobal","createGlobalStyle","_templateObject2","CourseCompanies","settings","courseLogos","Object","values","map","_","index","_settings$value","ResponsiveImage","path","srcSizes","CourseMainInfo","courseData","questionnaires","reviewQuestions","setReviewQuestions","fetchQuestionnaireStars","getReviewQuestionStar","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","reviewQuestionsId","fetchedObjects","wrap","_context2","prev","next","Promise","all","_callee","questionId","response","_context","QuestionnaireModelType","COURSE","sent","success","abrupt","stop","_x2","apply","arguments","_x","rewievQuestions","reduce","result","currentQuestion","matchingReviewQuestion","questions","type","QuestionType","REVIEW","public_answers","getReviewQuestions","Row","Col","lg","LabelListItem","ThumbUp","Medal","String","getAverageRate","StarOrange","image_path","categories","variant","name","formatDate","StyledStack","Stack","StyledTitle","PaginationContainerStyled","_templateObject3","initialFunction","warn","CourseRatingsContext","createContext","questionnaireId","setQuestionnaireId","setQuestionId","reviewId","CourseRatingProvider","_firstQuestionnaire$q","_useState3","_useState4","firstQuestionnaire","at","firstQuestion","getCourseQuestionnaireReviewQuestion","questionType","Provider","useCourseRatingContext","context","Error","initialState","total","per_page","page","current_page","useCourseAnswers","questionnaireAnswers","setQuestionnaireAnswers","answersMeta","setAnswersMeta","_useState5","_useState6","setLoading","fetchQuestionnairesAnswers","handleFetchQuestionnairesAnswers","useCallback","order_by","order","res","meta","error","toast","finally","onPageChange","Container","white","AnswerComponent","question","note","updated_at","rate","$gap","avatar","Avatar","alt","HeaderUser","$justifyContent","noMargin","APP_CONFIG","defaultDateFormat","CourseRatingsQuestionnairesContent","_useCourseAnswers","Spin","Pagination","perPage","currentPage","onPage","CourseRatingsQuestionnairesDropdowns","_useCourseRatingConte","questionnairesFilter","label","questionnaireQuestionFilter","_questionnaires$find","element","Dropdown","onChange","e","options","placeholder","backgroundColor","CourseRatingsQuestionnaires","memo","CourseRatingsReviewsContent","CourseRatingsReviews","CourseRatings","CourseRelated","courses","sliderSettings","arrows","infinite","speed","slidesToShow","draggable","slidesToScroll","responsive","breakpoint","centerMode","CoursesSlider","CoursePage","_course$value","setQuestionnaires","courseAccessModalVisible","setCourseAccessModalVisible","previewTopic","setPreviewTopic","fetchCourse","fetchCourses","fetchCourseAccess","fetchQuestionnaires","closeCourseAccessModal","openCourseAccessModal","refreshCurrentCourseAccess","course_id","message","Layout","metaTitle","Loader","md","Breadcrumbs","summary","fixContentForMarkdown","MarkdownRenderer","author","CourseAuthor","description","CourseProgram","onTopicClick","Modal","onClose","visible","animation","maskAnimation","destroyOnClose","bodyStyle","maxHeight","overflow","ModalCourseAccess","onCancel","onSuccess","defaultDateTimeFormat","StyledPlaceholder","gray4","gray2","CourseImgPlaceholder","Placeholder","date","dateFormat","format","isTwoDatesEqual","firstDate","secondDate","createArrayWithDateAndTimes","terms","newTerms","forEach","term","existingTerm","times","removePastDates","dates","isAfter","sortDates","sort","a","b","getTime","extractTimeUnits","input","matches","Array","from","matchAll","extractedUnits","foundMatch","match","parseInt","unit","addTimeToDate","time","add","years","year","months","month","weeks","week","days","day","hours","hour","minutes","minute","seconds","second","SpinnerWrapper","StyledDiv","props","Tags","tags","onTagClick","open","setOpen","firstTags","_toConsumableArray","splice","otherTags","parentRef","useRef","tagClick","ref","tag","Badge","onMouseLeave","onMouseOver","otherTag","CategoriesBreadCrumbs","_parentRef$current","onCategoryClick","firstCategories","otherCategories","categoryClick","isOpen","BreadCrumbs","hyphen","category","onFocus","current","getBoundingClientRect","getOrderProductsNames","_order$items","join","getNotificationTranslationObject","notification","_notification$data$st","_notification$data$st2","_notification$data$st3","_notification$data$st4","_notification$data$pr","_notification$data$pr2","_notification$data$pr3","_notification$data$pr4","_notification$data$pr5","_notification$data$pr6","_notification$data$pr7","_notification$data$pa","_notification$data$pa2","_notification$data$pa3","_notification$data$pa4","_notification$data$pa5","_notification$data$pa6","_notification$data$pa7","_notification$data$co","_notification$data$co2","_notification$data$co3","_notification$data$co4","_notification$data$co5","_notification$data$co6","_notification$data$co7","_notification$data$co8","_notification$data$co9","_notification$data$co10","_notification$data$co11","_notification$data$co12","_notification$data$co13","_notification$data$to","_notification$data$co14","_notification$data$co15","_notification$data$co16","_notification$data$co17","_notification$data$co18","_notification$data$co19","_notification$data$co20","_notification$data$co21","_notification$data$co22","_notification$data$co23","_notification$data$co24","_notification$data$co25","_notification$data$co26","translation","event","EventTypes","StationaryEventAuthorAssigned","object","stationaryEvent","StationaryEventAuthorUnassigned","StationaryEventAssigned","StationaryEventUnassigned","AbandonedCartEvent","OrderCancelled","OrderCreated","OrderPaid","ProductableAttached","productable","ProductableDetached","ProductAddedToCart","ProductAttached","ProductBought","ProductDetached","ProductRemovedFromCart","PaymentCancelled","amount","payment","payable","PaymentFailed","PaymentRegistered","PaymentSuccess","CourseAccessFinished","CourseAccessStarted","CourseAssigned","CourseDeadlineSoon","CoursedPublished","CourseFinished","CourseStarted","CourseStatusChanged","CourseTutorAssigned","CourseTutorUnassigned","CourseUnassigned","TopicFinished","TopicTypeChanged","topicContent","ReportTerm","consultationTerm","consultation","executed_at","first_name","last_name","ApprovedTerm","ApprovedTermWithTrainer","ChangeTerm","RejectTerm","RejectTermWithTrainer","ReminderAboutTerm","ReminderTrainerAboutTerm","roundTo","val","places","divider","returnedValue","Math","round","pow","toLocaleString","minimumFractionDigits","maximumFractionDigits","userId","authors","findIndex","getFormattedDifferenceRelativeToNow","daysDifference","differenceInDays","hoursDifference","differenceInHours","minutesDifference","differenceInMinutes","timeDifferenceInDays","relativeTimeFormatter","Intl","RelativeTimeFormat","CardWrapper","CourseCardWrapper","StyledBreadcrumbs","StyledPagination","LEFT_PAGE","RIGHT_PAGE","range","step","i","_ref3$pageNeighbours","pageNeighbours","lastPage","ceil","totalNumbers","startPage","max","endPage","min","pages","hasLeftSpill","hasRightSpill","spillOffset","extraPages","fetchPageNumbers","href","preventDefault","StyledLoader","dm__background","background","Preloader","document","body","Content","defaultSliderSettings","_ref$sliderSettings","dots","history","Slider","onSwipe","allHiddenSlides","querySelectorAll","visibleSlide","removeAttribute","hiddenSlide","setAttribute","onInit","dotsPosition","CourseCard","image","tagName","subtitle","actions","footer","UserIcon","lessons_count","LessonsIcon","rowGap","getQuestionnaire","fetchQuestionnaire","t0","t1","getQuestionnaires","_callee3","onSucces","onFinish","questionnairesWithCombinedQuestions","_context3","_ref5","combinedQuestions","matchingElement","updatedElement","position","_x3","finish","sum","avg_rate","toFixed","_ref6","_questionnaires$find$","Prices","API_URL","window","REACT_APP_API_URL","process","author_id","Tutor","path_avatar","rating","ratingValue","fullName","coursesInfo","bio"],"mappings":"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","file":"static/js/9.49f20a37.chunk.js","sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport isPast from \"date-fns/isPast\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Text } from \"@escolalms/components\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { userIsCourseAuthor } from \"@/utils/index\";\n\ninterface CourseAccessButtonProps {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst StyledButton = styled(Button)`\n  display: block;\n  margin-bottom: 10px;\n`;\n\nconst CourseAccessButton: React.FC<CourseAccessButtonProps> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const { courseAccess, cart, addToCart } = useContext(EscolaLMSContext);\n\n  const currentCourseAccess = useMemo(\n    () =>\n      courseAccess.list?.data?.find(\n        (courseAccessItem) => courseAccessItem?.course?.id === course.id\n      ),\n    [courseAccess.list?.data, course.id]\n  );\n\n  const BuyButton = useMemo(\n    () => (\n      <Button\n        loading={cart.loading}\n        mode=\"secondary\"\n        onClick={() =>\n          addToCart(Number(course.product?.id)).then(() => push(\"/cart\"))\n        }\n      >\n        {t(\"Buy Course\")}\n      </Button>\n    ),\n    [addToCart, cart.loading, course.product?.id, push, t]\n  );\n\n  if (!currentCourseAccess) {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" onClick={onRequestAccess}>\n          {t(\"CourseAccess.RequestAccess\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status !== \"approved\") {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" disabled>\n          {t(\"CourseAccess.Pending\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status === \"approved\") {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  return BuyButton;\n};\n\ntype Props = {\n  course: API.Course;\n  userOwnThisCourse: boolean | undefined;\n  onRequestAccess: () => void;\n};\n\nconst CourseDetailsSidebarButtons: React.FC<Props> = ({\n  course,\n  userOwnThisCourse,\n  onRequestAccess,\n}) => {\n  const { cart, user } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { push } = useHistory();\n\n  const courseInCart = useMemo(() => {\n    return cart?.value?.items.some(\n      (item: any) => Number(item.product_id) === Number(course.product?.id)\n    );\n  }, [course.product?.id, cart]);\n\n  if (userIsCourseAuthor(Number(user.value?.id), course)) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  if (isPast(new Date(course.active_to || \"\"))) {\n    return <Text>{t(\"CoursePage.IsFinished\")}</Text>;\n  }\n  if (courseInCart) {\n    return (\n      <Button mode=\"secondary\" onClick={() => push(\"/cart\")}>\n        {t(\"CoursePage.GoToCheckout\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse && isPast(new Date(course.active_from || \"\"))) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse) {\n    return <Text>{t(\"CoursePage.NotStarted\")}</Text>;\n  }\n  if (user.value && course.product) {\n    return (\n      <CourseAccessButton course={course} onRequestAccess={onRequestAccess} />\n    );\n  }\n  if (!course.product) {\n    return <Text>{t(\"CoursePage.UnavailableCourse\")}</Text>;\n  }\n  return (\n    <Button\n      onClick={() => push(`/login?referrer=/courses/${course.id}`)}\n      mode=\"secondary\"\n    >\n      {t(\"Buy Course\")}\n    </Button>\n  );\n};\n\nexport default CourseDetailsSidebarButtons;\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { IconText, Text, CourseProgress } from \"@escolalms/components\";\nimport { PricingCard } from \"@escolalms/components/lib/components/atoms/PricingCard/PricingCard\";\nimport { IconSquares, IconWin, IconCamera } from \"../../../icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { useTheme } from \"styled-components\";\nimport { useCourseProgress } from \"../../../hooks/useCourseProgress\";\nimport CourseDetailsSidebarButtons from \"./Buttons\";\nimport { formatPrice } from \"@/utils/index\";\nimport ContentLoader from \"@/components/ContentLoader\";\nimport ProductPrices from \"@/components/ProductPrices\";\n\ninterface Props {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst CoursesDetailsSidebar: React.FC<Props> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const theme = useTheme();\n  const { user, courseAccess } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { id } = useParams<{ id: string }>();\n  const { progress } = useCourseProgress(Number(id));\n\n  const userOwnThisCourse = useMemo(\n    () => course?.product?.owned,\n    [course?.product?.owned]\n  );\n  const userCourseAccess = useMemo(\n    () =>\n      !!courseAccess.list?.data?.find(\n        (courseAccessItem) =>\n          courseAccessItem?.course?.id === course.id &&\n          courseAccessItem.status === \"approved\"\n      ),\n    [course.id, courseAccess.list?.data]\n  );\n\n  const currentCourse = useMemo(() => progress.data || [], [progress.data]);\n\n  const progressMap = useMemo(() => {\n    if (user.value && (userOwnThisCourse || userCourseAccess)) {\n      const finishedLessons =\n        currentCourse?.filter((item) => item.status === 1) || [];\n      return finishedLessons.length;\n    } else {\n      return 0;\n    }\n  }, [currentCourse, user.value, userCourseAccess, userOwnThisCourse]);\n\n  return !isMobile ? (\n    <PricingCard>\n      <Title level={4} as=\"h2\">\n        {course.title}\n      </Title>\n      <ProductPrices\n        price={course.product?.price}\n        taxRate={course.product?.tax_rate}\n        oldPrice={course.product?.price_old}\n      />\n      {progress.loaded ? (\n        <CourseDetailsSidebarButtons\n          onRequestAccess={onRequestAccess}\n          course={course}\n          userOwnThisCourse={userOwnThisCourse}\n        />\n      ) : (\n        <ContentLoader />\n      )}\n      <Text size={\"12\"}> {t(\"CoursePage.30Days\")}</Text>\n      <div className=\"pricing-card-features\">\n        {course.duration && (\n          <IconText\n            icon={<IconCamera />}\n            text={`${t(\"CoursePage.Duration\")}: ${course.duration}`}\n          />\n        )}\n        {course.lessons && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Lessons\")}: ${course.lessons.length}`}\n          />\n        )}\n        {course.language && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Language\")}: ${course.language}`}\n          />\n        )}\n        {course.level && (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Level\")}: ${course.level}`}\n          />\n        )}\n        {course.users_count ? (\n          <IconText\n            icon={<IconSquares />}\n            text={`${t(\"CoursePage.Students\")}: ${course.users_count}`}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n      {!user.value ? (\n        <Text size=\"12\">\n          <Link\n            to={`/login?referrer=/courses/${course.id}`}\n            style={{\n              marginRight: \"4px\",\n              color: theme.primaryColor,\n            }}\n          >\n            {t<string>(\"CoursePage.Login\")}\n          </Link>\n          {t(\"CoursePage.ToSeeProgress\")}\n        </Text>\n      ) : (\n        <CourseProgress\n          progress={\n            currentCourse && currentCourse?.length > 0\n              ? progressMap / currentCourse.length\n              : 0\n          }\n          icon={\n            progress.loaded ? (\n              <IconWin />\n            ) : (\n              <ContentLoader width=\"22px\" height=\"22px\" />\n            )\n          }\n          title={t(\"CoursePage.MyProgress\")}\n        >\n          <strong style={{ fontSize: 14 }}>\n            {t<string>(\"CoursePage.Finished\")} {progressMap || 0}{\" \"}\n            {t<string>(\"CoursePage.Of\")}{\" \"}\n            {currentCourse && currentCourse?.length > 0\n              ? currentCourse.length\n              : 0}{\" \"}\n            {t<string>(\"CoursePage.Lessons\")}\n          </strong>\n          <p style={{ marginTop: 9, marginBottom: 0 }}>\n            {t<string>(\"CoursePage.FinishToGetCertificate\")}\n          </p>\n        </CourseProgress>\n      )}\n    </PricingCard>\n  ) : (\n    <PricingCard mobile>\n      <Title level={5} as={\"h5\"}>\n        {course.title}\n      </Title>\n      <div className=\"pricing-card-footer\">\n        <div>\n          {course.product?.price_old && (\n            <div className=\"pricing-card-discount\">\n              <Title level={5} as={\"h5\"}>\n                {formatPrice(\n                  course.product?.price_old,\n                  course.product?.tax_rate\n                )}{\" \"}\n                zł\n              </Title>\n            </div>\n          )}\n          <Title level={4} as={\"h4\"}>\n            {formatPrice(course.product?.price, course.product?.tax_rate)} zł\n          </Title>\n        </div>\n        <div>\n          {progress.loaded ? (\n            <CourseDetailsSidebarButtons\n              onRequestAccess={onRequestAccess}\n              course={course}\n              userOwnThisCourse={userOwnThisCourse}\n            />\n          ) : (\n            <ContentLoader />\n          )}\n        </div>\n      </div>\n    </PricingCard>\n  );\n};\n\nexport default CoursesDetailsSidebar;\n","import { useContext, useEffect, useState } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { API } from \"@escolalms/sdk/lib\";\n\ntype PogressState = {\n  data: API.CourseProgressDetails | undefined;\n  loaded: boolean;\n  loading: boolean;\n};\n\nexport const useCourseProgress = (courseId: number) => {\n  const [progress, setProgress] = useState<PogressState>({\n    data: undefined,\n    loaded: false,\n    loading: false,\n  });\n  const { user, fetchCourseProgress, courseProgressDetails } =\n    useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (\n      courseProgressDetails.byId &&\n      courseProgressDetails.byId[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      setProgress({\n        ...progress,\n        data: courseProgressDetails.byId[Number(courseId)].value,\n        loaded: true,\n        loading: false,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId, courseProgressDetails]);\n\n  useEffect(() => {\n    if (user?.value && !user.loading && !progress.loading && !progress.loaded) {\n      setProgress({\n        ...progress,\n        loading: true,\n      });\n      fetchCourseProgress(courseId).catch(() =>\n        setProgress({\n          ...progress,\n          loaded: true,\n          loading: false,\n        })\n      );\n    } else if (!progress.loaded) {\n      setProgress({\n        ...progress,\n        loaded: true,\n      });\n    }\n  }, [user, progress, fetchCourseProgress, courseId]);\n\n  return {\n    progress,\n  };\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { TopicType } from \"@escolalms/sdk/lib/services/courses\";\nimport { OEmbedPlayer } from \"@escolalms/components/lib/components/players/OEmbedPlayer/OEmbedPlayer\";\nimport { AudioVideoPlayer } from \"@escolalms/components/lib/components/players/AudioVideoPlayer/AudioVideoPlayer\";\nimport { PdfPlayer } from \"@escolalms/components/lib/components/players/PdfPlayer/PdfPlayer\";\nimport { MarkdownPlayer } from \"@escolalms/components/lib/components/players/MarkdownPlayer/MarkdownPlayer\";\nimport { ImagePlayer } from \"@escolalms/components/lib/components/players/ImagePlayer/ImagePlayer\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { H5Player } from \"@escolalms/components/lib/components/players/H5Player/H5Player\";\nimport GiftQuizPlayer from \"@escolalms/components/lib/components/quizzes\";\n\nexport const CourseProgramPreview: React.FC<{\n  topic: API.Topic;\n}> = ({ topic }) => {\n  const { apiUrl } = useContext(EscolaLMSContext);\n  const topicRender = useMemo(() => {\n    if (topic && topic.topicable_type) {\n      switch (topic.topicable_type) {\n        case TopicType.H5P:\n          // @ts-ignore\n          return (\n            <H5Player\n              //@ts-ignore\n              h5pObject={topic?.topicable?.content as API.H5PObject}\n              hideActionButtons\n            />\n          );\n        case TopicType.OEmbed:\n          return <OEmbedPlayer url={topic?.topicable?.value} />;\n        case TopicType.RichText:\n          return (\n            <div className=\"container-xl\">\n              <MarkdownPlayer\n                children={topic.topicable.value}\n                onLoad={() => console.log(\"MarkdownPlayer onLoad\")}\n              />\n            </div>\n          );\n        case TopicType.Video:\n        case TopicType.Audio:\n          return <AudioVideoPlayer url={topic.topicable.url} />;\n        case TopicType.Image:\n          return <ImagePlayer topic={topic} onLoad={() => console.log(\"\")} />;\n        case TopicType.Pdf:\n          return (\n            <PdfPlayer\n              url={topic.topicable.url}\n              pageConfig={{\n                width: 550,\n              }}\n            />\n          );\n        case TopicType.Scorm:\n          return (\n            <div className=\"scorm-wrapper\">\n              <iframe\n                title={topic.topicable.value}\n                width=\"100%\"\n                height=\"400px\"\n                style={{\n                  border: \"none\",\n                }}\n                src={`${apiUrl}/api/scorm/play/${topic.topicable.uuid}`}\n              />\n            </div>\n          );\n        case API.TopicType.GiftQuiz:\n          return <GiftQuizPlayer topic={topic} />;\n        default:\n          return <pre>{topic.topicable_type}</pre>;\n      }\n    }\n    return <React.Fragment />;\n  }, [topic, apiUrl]);\n\n  return (\n    <div className=\"topic-preview-modal\">\n      <div className=\"topic-preview-modal-content\">{topicRender}</div>\n    </div>\n  );\n};\n\nexport default CourseProgramPreview;\n","import styled, { createGlobalStyle } from \"styled-components\";\nimport { isMobile } from \"react-device-detect\";\n\nexport const StyledCoursePage = styled.div`\n  section {\n    margin-bottom: 45px;\n    &.with-border {\n      padding-bottom: 45px;\n      border-bottom: 1px solid\n        ${({ theme }) => (theme.mode === \"dark\" ? theme.gray1 : theme.gray5)};\n    }\n    &.padding-right {\n      padding-right: 150px;\n      @media (max-width: 991px) {\n        padding-right: 70px;\n      }\n      @media (max-width: 768px) {\n        padding-right: 0;\n      }\n    }\n  }\n  .sidebar-col {\n    padding-bottom: 45px;\n  }\n  .course-main-info {\n    .image-wrapper {\n      @media (max-width: 991px) {\n        display: flex;\n        justify-content: center;\n        width: 100%;\n        margin-bottom: 35px;\n\n        img {\n          display: block;\n          margin: 0 auto;\n        }\n      }\n    }\n    .labels-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      column-gap: 20px;\n      margin: 35px 0;\n      @media (max-width: 991px) {\n        margin: 35px 0 0;\n      }\n      @media (max-width: 374px) {\n        flex-direction: column;\n        row-gap: 16px;\n      }\n      &--bottom {\n        column-gap: 45px;\n        margin-top: 120px;\n        margin-bottom: 0;\n        flex-wrap: wrap;\n        @media (max-width: 991px) {\n          column-gap: 0;\n          margin-top: 55px;\n        }\n        @media (max-width: 374px) {\n          flex-direction: row;\n        }\n        .single-label {\n          @media (max-width: 991px) {\n            flex: 0 0 50%;\n            max-width: 50%;\n            margin-bottom: 20px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    .ranking-row {\n      display: none !important;\n    }\n  }\n  .course-companies {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    @media (max-width: 768px) {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .companies-row {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      column-gap: 70px;\n      .single-company {\n        max-height: 85px;\n        max-width: 65px;\n      }\n      @media (max-width: 768px) {\n        column-gap: 0;\n        justify-content: space-between;\n        width: 100%;\n      }\n    }\n\n    p {\n      max-width: 220px;\n      margin-right: 50px;\n    }\n  }\n  .course-description {\n    padding: 50px 45px;\n    margin: 45px 0;\n    background-color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray1 : theme.gray5};\n    border-radius: ${({ theme }) => theme.cardRadius}px;\n    @media (max-width: 768px) {\n      padding: 20px;\n    }\n  }\n  .course-related-courses {\n    background-color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray1 : theme.gray5};\n    padding: 60px 0 90px;\n    .slick-dots {\n      top: -65px;\n      right: 80px;\n      @media (max-width: 575px) {\n        right: 0;\n      }\n    }\n    .content-container {\n      position: relative;\n      overflow: hidden;\n      &:first-of-type {\n        margin-bottom: 60px;\n        @media (max-width: 768px) {\n          margin-bottom: 40px;\n        }\n      }\n      h4 {\n        @media (max-width: 575px) {\n          padding-right: 50%;\n        }\n      }\n      .slider-wrapper {\n        a {\n          text-decoration: none !important;\n        }\n        @media (max-width: 575px) {\n          margin-left: -50px;\n\n          .image-section,\n          img {\n            max-height: 180px;\n          }\n        }\n      }\n    }\n  }\n  .course-tutor {\n    a {\n      text-decoration: none !important;\n    }\n  }\n  .sidebar-wrapper {\n    width: 100%;\n    left: 0;\n    position: ${isMobile ? \"fixed\" : \"sticky\"};\n    top: ${isMobile ? \"unset\" : \"130px\"};\n    bottom: ${isMobile ? \"0\" : \"unset\"};\n    z-index: 100;\n  }\n\n  .single-content {\n    box-sizing: border-box;\n  }\n`;\n\nexport const ModalOverwriteGlobal = createGlobalStyle`\n  .ReactModal__Overlay  {\n    z-index: 1500 !important;\n  }\n`;\n","import { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\n\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { useContext } from \"react\";\n\nexport const CourseCompanies = () => {\n  const { t } = useTranslation();\n\n  const { settings } = useContext(EscolaLMSContext);\n\n  return (\n    <section className=\"course-companies\">\n      <Text>\n        <strong>{t(\"CoursePage.CompaniesTitle\")}</strong>\n      </Text>\n      <div className=\"companies-row\">\n        {settings &&\n          settings.value.courseLogos &&\n          Object.values(settings.value.courseLogos).map((_, index) => (\n            <div className=\"single-company\" key={index}>\n              <ResponsiveImage\n                path={settings?.value?.courseLogos[`logo${index + 1}`] || \"\"}\n                srcSizes={[100, 200, 300]}\n              />\n            </div>\n          ))}\n      </div>\n    </section>\n  );\n};\n","import { FC, useContext, useEffect, useState } from \"react\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { LabelListItem } from \"@escolalms/components/lib/components/molecules/LabelListItem/LabelListItem\";\nimport { Medal, StarOrange, ThumbUp } from \"../../../../../icons\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Col, Row } from \"react-grid-system\";\nimport { formatDate } from \"@/utils/date\";\n\nimport { getAverageRate } from \"@/utils/questionnaires\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { useParams } from \"react-router-dom\";\n\ninterface CourseMainInfoProps {\n  courseData: API.Course;\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseMainInfo: FC<CourseMainInfoProps> = ({\n  courseData,\n  questionnaires,\n}) => {\n  const [reviewQuestions, setReviewQuestions] = useState<\n    API.QuestionnaireStars[]\n  >([]);\n  const { fetchQuestionnaireStars } = useContext(EscolaLMSContext);\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n\n  const getReviewQuestionStar = async (reviewQuestionsId: number[]) => {\n    const fetchedObjects = await Promise.all(\n      reviewQuestionsId.map(async (questionId) => {\n        const response = await fetchQuestionnaireStars(\n          QuestionnaireModelType.COURSE,\n          Number(id),\n          questionId\n        );\n        if (response.success) {\n          return response.data;\n        }\n        return null;\n      })\n    );\n    setReviewQuestions(fetchedObjects as API.QuestionnaireStars[]);\n  };\n\n  const getReviewQuestions = () => {\n    const rewievQuestions = (questionnaires || []).reduce(\n      (result: number[], currentQuestion) => {\n        const matchingReviewQuestion = currentQuestion.questions.find(\n          (currentQuestion) =>\n            currentQuestion.type === QuestionType.REVIEW &&\n            currentQuestion.public_answers\n        );\n        matchingReviewQuestion && result.push(matchingReviewQuestion.id);\n        return result;\n      },\n      []\n    );\n    getReviewQuestionStar(rewievQuestions);\n  };\n  useEffect(() => {\n    questionnaires.length > 0 && getReviewQuestions();\n  }, [questionnaires]);\n\n  return (\n    <section className=\"course-main-info with-border\">\n      <Row>\n        <Col lg={7}>\n          <Title mobile={isMobile} level={2}>\n            {courseData.title}\n          </Title>\n          <div className=\"labels-row\">\n            <div className=\"single-label\">\n              <LabelListItem mobile={isMobile} title=\"90%\" icon={<ThumbUp />}>\n                {t(\"CoursePage.Recommends\")}\n              </LabelListItem>\n            </div>\n            <div className=\"single-label\">\n              <LabelListItem\n                mobile={isMobile}\n                title={t<string>(\"CoursePage.Guarantee\")}\n                icon={<Medal />}\n              >\n                {t(\"CoursePage.Satisfaction\")}\n              </LabelListItem>\n            </div>\n            <div className=\"single-label\">\n              <LabelListItem\n                mobile={isMobile}\n                title={\n                  reviewQuestions.length > 0\n                    ? String(getAverageRate(reviewQuestions))\n                    : t(\"CoursePage.NoRatings\")\n                }\n                icon={<StarOrange />}\n              >\n                {t(\"CoursePage.AvarageRating\")}\n              </LabelListItem>\n            </div>\n          </div>\n        </Col>\n        <Col lg={4}>\n          {courseData.image_path && (\n            <div className=\"image-wrapper\">\n              <ResponsiveImage\n                path={courseData.image_path}\n                srcSizes={[790 * 0.5, 790, 2 * 790]}\n              />\n            </div>\n          )}\n        </Col>\n      </Row>\n      <div className=\"labels-row labels-row--bottom\">\n        {courseData.categories && courseData.categories.length > 0 && (\n          <div className=\"single-label\">\n            <LabelListItem\n              title={t(\"CoursePage.CourseCategory\")}\n              variant={\"label\"}\n            >\n              {courseData.categories[0].name}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.level && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.Level\")} variant={\"label\"}>\n              {courseData.level}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.active_from && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.StartDate\")} variant={\"label\"}>\n              {courseData.active_from\n                ? formatDate(courseData.active_from)\n                : \"---\"}\n            </LabelListItem>\n          </div>\n        )}\n        {courseData.duration && (\n          <div className=\"single-label\">\n            <LabelListItem title={t(\"CoursePage.Duration\")} variant={\"label\"}>\n              {courseData.duration}\n            </LabelListItem>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n","import { Stack } from \"@escolalms/components\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport styled from \"styled-components\";\n\nexport const StyledStack = styled(Stack)`\n  gap: 16px;\n  margin: 16px auto;\n`;\n\nexport const StyledTitle = styled(Title)`\n  margin-bottom: 16px;\n`;\n\nexport const PaginationContainerStyled = styled.div`\n  margin: 0 auto;\n`;\n","import { API } from \"@escolalms/sdk/lib\";\nimport {\n  PropsWithChildren,\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getCourseQuestionnaireReviewQuestion } from \"@/utils/questionnaires\";\nimport { QuestionType } from \"@/types/questionnaire\";\n\nconst initialFunction = () => console.warn(\"INITIAL STATE\");\n\ntype CourseRatingsContextProps = {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  setQuestionnaireId: (state: number | null) => void;\n  questionId: number | null;\n  setQuestionId: (state: number | null) => void;\n  reviewId: number | undefined;\n  courseId: number | undefined;\n};\n\nexport const CourseRatingsContext = createContext<CourseRatingsContextProps>({\n  questionnaires: [],\n  questionnaireId: null,\n  setQuestionnaireId: initialFunction,\n  questionId: null,\n  setQuestionId: initialFunction,\n  reviewId: undefined,\n  courseId: undefined,\n});\n\ntype ProviderProps = PropsWithChildren & {\n  questionnaires: API.Questionnaire[];\n};\n\nexport const CourseRatingProvider = ({\n  children,\n  questionnaires,\n}: ProviderProps) => {\n  const [questionnaireId, setQuestionnaireId] =\n    useState<CourseRatingsContextProps[\"questionnaireId\"]>(null);\n  const [questionId, setQuestionId] =\n    useState<CourseRatingsContextProps[\"questionId\"]>(null);\n  const { id } = useParams<{ id: string }>();\n  const firstQuestionnaire = questionnaires?.at(0);\n  const firstQuestion = firstQuestionnaire?.questions?.at(0);\n  const reviewId = getCourseQuestionnaireReviewQuestion({\n    questionnaires,\n    questionnaireId,\n    questionType: QuestionType.REVIEW,\n  });\n\n  // Set first questionnaire on init\n  useEffect(() => {\n    if (firstQuestionnaire?.id && !questionnaireId) {\n      setQuestionnaireId(firstQuestionnaire.id);\n    }\n  }, [firstQuestionnaire?.id, questionnaireId]);\n  // Set first question on init\n  useEffect(() => {\n    if (firstQuestion?.id && !questionId) {\n      setQuestionId(firstQuestion.id);\n    }\n  }, [firstQuestion?.id, questionId]);\n\n  return (\n    <CourseRatingsContext.Provider\n      value={{\n        questionnaires,\n        questionnaireId,\n        setQuestionnaireId,\n        questionId,\n        setQuestionId,\n        reviewId,\n        courseId: Number(id),\n      }}\n    >\n      {children}\n    </CourseRatingsContext.Provider>\n  );\n};\n\nexport const useCourseRatingContext = () => {\n  const context = useContext(CourseRatingsContext);\n\n  if (!CourseRatingsContext) {\n    throw new Error(\n      \"useCourseRatingContext must be used inside the CourseRatingProvider\"\n    );\n  }\n\n  return context;\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { toast } from \"react-toastify\";\nimport { QuestionnaireModelType } from \"../types/questionnaire\";\nimport { useTranslation } from \"react-i18next\";\n\nconst initialState = {\n  total: 0,\n  per_page: 3,\n  page: 1,\n  current_page: 1,\n};\n\ninterface Props {\n  questionId: number | null;\n  courseId: number | undefined;\n}\n\nexport const useCourseAnswers = ({ questionId, courseId }: Props) => {\n  const [questionnaireAnswers, setQuestionnaireAnswers] = useState<\n    API.QuestionAnswer[] | undefined\n  >(undefined);\n  const [answersMeta, setAnswersMeta] = useState(initialState);\n  const [loading, setLoading] = useState(true);\n  const { fetchQuestionnairesAnswers } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n\n  const handleFetchQuestionnairesAnswers = useCallback(\n    (page: number) => {\n      if (questionId && courseId) {\n        setLoading(true);\n        fetchQuestionnairesAnswers(\n          QuestionnaireModelType.COURSE,\n          Number(courseId),\n          questionId,\n          {\n            per_page: answersMeta.per_page,\n            page: page,\n            order_by: \"updated_at\",\n            order: \"DESC\",\n          }\n        )\n          .then((res) => {\n            if (res.success) {\n              setQuestionnaireAnswers(res.data);\n              setAnswersMeta((prev) => ({\n                ...prev,\n                total: res.meta.total,\n                current_page: res.meta.current_page,\n                page: res.meta.current_page,\n              }));\n            }\n          })\n          .catch((error) => {\n            toast.error(t<string>(\"UnexpectedError\"));\n            console.log(error);\n          })\n          .finally(() => setLoading(false));\n      }\n    },\n    [answersMeta, fetchQuestionnairesAnswers, courseId, questionId, t]\n  );\n\n  const onPageChange = useCallback((page: number) => {\n    setAnswersMeta((prev) => ({\n      ...prev,\n      current_page: page,\n    }));\n  }, []);\n\n  useEffect(() => {\n    if (answersMeta.page !== answersMeta.current_page) {\n      handleFetchQuestionnairesAnswers(answersMeta.current_page);\n    }\n  }, [\n    answersMeta.current_page,\n    answersMeta.page,\n    handleFetchQuestionnairesAnswers,\n  ]);\n\n  useEffect(() => {\n    setAnswersMeta(initialState);\n    handleFetchQuestionnairesAnswers(initialState.page);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [questionId]);\n\n  return {\n    answersMeta,\n    questionnaireAnswers,\n    loading,\n    onPageChange,\n  };\n};\n","import { Row } from \"@escolalms/components\";\nimport styled from \"styled-components\";\n\nexport const Container = styled(Row)`\n  justify-content: space-between;\n  padding: 16px;\n  background: ${({ theme }) => theme.white};\n`;\n","import { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\n\nimport { API } from \"@escolalms/sdk/lib\";\nimport { FC } from \"react\";\nimport { Container } from \"./styles\";\nimport { Avatar, Row, Stack } from \"@escolalms/components\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { HeaderUser, StarOrange } from \"@/icons/index\";\nimport { useTheme } from \"styled-components\";\n\ninterface AnswerComponentProps {\n  question: API.QuestionAnswer;\n}\n\nexport const AnswerComponent: FC<AnswerComponentProps> = ({ question }) => {\n  const { user, note, updated_at, rate } = question;\n  const theme = useTheme();\n\n  if (!note) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <Row $gap={16}>\n        {user.avatar ? (\n          <Avatar src={user.avatar} alt=\"\" />\n        ) : (\n          <HeaderUser mode={theme.mode === \"dark\" ? \"light\" : \"dark\"} />\n        )}\n\n        <Stack $justifyContent=\"space-between\">\n          <Title level={5}>{user.name}</Title>\n          <Text>{note}</Text>\n        </Stack>\n      </Row>\n      <Stack $gap={8}>\n        <Text noMargin>\n          {formatDate(updated_at, APP_CONFIG.defaultDateFormat)}\n        </Text>\n        {rate > 0 && (\n          <Row $gap={16}>\n            <StarOrange />\n            <Text>{rate}</Text>\n          </Row>\n        )}\n      </Stack>\n    </Container>\n  );\n};\n","import { useCourseAnswers } from \"@/hooks/useCourseAnswers\";\nimport { Spin } from \"@escolalms/components\";\nimport Pagination from \"../../../../../../../components/Pagination\";\nimport { AnswerComponent } from \"../../AnswerComponent\";\nimport { StyledStack, PaginationContainerStyled } from \"../../styles\";\n\ninterface Props {\n  courseId: number;\n  questionId: number;\n}\n\nexport const CourseRatingsQuestionnairesContent = ({\n  courseId,\n  questionId,\n}: Props) => {\n  const { answersMeta, loading, onPageChange, questionnaireAnswers } =\n    useCourseAnswers({\n      questionId,\n      courseId,\n    });\n\n  return (\n    <StyledStack>\n      {loading ? (\n        <Spin />\n      ) : (\n        <>\n          {questionnaireAnswers &&\n            questionnaireAnswers.map((question) => (\n              <AnswerComponent question={question} />\n            ))}\n          {answersMeta.total > answersMeta.per_page && (\n            <PaginationContainerStyled>\n              <Pagination\n                total={answersMeta.total}\n                perPage={answersMeta.per_page}\n                currentPage={answersMeta.current_page}\n                onPage={onPageChange}\n              />\n            </PaginationContainerStyled>\n          )}\n        </>\n      )}\n    </StyledStack>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useTheme } from \"styled-components\";\nimport { Dropdown } from \"@escolalms/components\";\nimport { useCourseRatingContext } from \"../../Provider\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { QuestionType } from \"@/types/questionnaire\";\nimport { StyledStack } from \"../../styles\";\n\ninterface Props {\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseRatingsQuestionnairesDropdowns = ({\n  questionnaires,\n}: Props) => {\n  const { questionnaireId, setQuestionnaireId, questionId, setQuestionId } =\n    useCourseRatingContext();\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const questionnairesFilter = useMemo(\n    () =>\n      questionnaires.map((item) => ({\n        label: item.title,\n        value: String(item.id),\n      })),\n    [questionnaires]\n  );\n\n  const questionnaireQuestionFilter = useMemo(\n    () =>\n      questionnaires\n        ?.find((element) => element.id === questionnaireId)\n        ?.questions.filter((item) => item.public_answers)\n        .filter((item) => item.type !== QuestionType.REVIEW)\n        .map((item) => ({\n          label: item.title,\n          value: String(item.id),\n        })) || [],\n    [questionnaireId, questionnaires]\n  );\n\n  return (\n    <StyledStack>\n      {questionnairesFilter.length > 1 && (\n        <Dropdown\n          onChange={(e) => setQuestionnaireId(Number(e.value))}\n          options={questionnairesFilter}\n          placeholder={t(\"CoursePage.SelectQuestionnaire\")}\n          backgroundColor={theme.white}\n          value={questionnairesFilter?.find(\n            ({ value }) => value === String(questionnaireId)\n          )}\n        />\n      )}\n      <Dropdown\n        onChange={(e) => setQuestionId(Number(e.value))}\n        options={questionnaireQuestionFilter}\n        placeholder={t(\"CoursePage.SelectQuestion\")}\n        backgroundColor={theme.white}\n        value={questionnaireQuestionFilter?.find(\n          ({ value }) => value === String(questionId)\n        )}\n      />\n    </StyledStack>\n  );\n};\n","import { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { StyledTitle } from \"../styles\";\nimport { useCourseRatingContext } from \"../Provider\";\nimport { CourseRatingsQuestionnairesContent } from \"./Content\";\nimport { CourseRatingsQuestionnairesDropdowns } from \"./Dropdowns\";\n\nexport const CourseRatingsQuestionnaires = memo(() => {\n  const { questionnaires, courseId, questionId } = useCourseRatingContext();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <StyledTitle level={4}>{t(\"CoursePage.Questionnaires\")}</StyledTitle>\n      {questionnaires.length > 0 ? (\n        <>\n          <CourseRatingsQuestionnairesDropdowns\n            questionnaires={questionnaires}\n          />\n          {courseId && questionId && (\n            <CourseRatingsQuestionnairesContent\n              courseId={courseId}\n              questionId={questionId}\n            />\n          )}\n        </>\n      ) : (\n        <Text>{t<string>(\"CoursePage.CourseRatingsEmpty\")}</Text>\n      )}\n    </>\n  );\n});\n","import { useCourseAnswers } from \"@/hooks/useCourseAnswers\";\nimport { Spin } from \"@escolalms/components\";\nimport Pagination from \"@/components/Pagination\";\nimport { AnswerComponent } from \"../../AnswerComponent\";\nimport { StyledStack, PaginationContainerStyled } from \"../../styles\";\n\ninterface Props {\n  courseId: number;\n  questionId: number;\n}\n\nexport const CourseRatingsReviewsContent = ({\n  courseId,\n  questionId,\n}: Props) => {\n  const { answersMeta, loading, onPageChange, questionnaireAnswers } =\n    useCourseAnswers({\n      questionId,\n      courseId,\n    });\n\n  return (\n    <StyledStack>\n      {loading ? (\n        <Spin />\n      ) : (\n        <>\n          {(questionnaireAnswers || []).map((question) => (\n            <AnswerComponent question={question} />\n          ))}\n          {answersMeta.total > answersMeta.per_page && (\n            <PaginationContainerStyled>\n              <Pagination\n                total={answersMeta.total}\n                perPage={answersMeta.per_page}\n                currentPage={answersMeta.current_page}\n                onPage={onPageChange}\n              />\n            </PaginationContainerStyled>\n          )}\n        </>\n      )}\n    </StyledStack>\n  );\n};\n","import { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { StyledTitle } from \"../styles\";\nimport { CourseRatingsReviewsContent } from \"./Content\";\nimport { useCourseRatingContext } from \"../Provider\";\n\nexport const CourseRatingsReviews = memo(() => {\n  const { courseId, reviewId } = useCourseRatingContext();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <StyledTitle level={4}>{t(\"CoursePage.CourseRatingsTitle\")}</StyledTitle>\n      {courseId && reviewId && (\n        <CourseRatingsReviewsContent\n          courseId={courseId}\n          questionId={reviewId}\n        />\n      )}\n    </>\n  );\n});\n","import { FC, memo } from \"react\";\nimport { Row, Col } from \"react-grid-system\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { CourseRatingsQuestionnaires } from \"./Questionnaires\";\nimport { CourseRatingsReviews } from \"./Reviews\";\nimport { CourseRatingProvider } from \"./Provider\";\n\ninterface CourseRatingsProps {\n  questionnaires: API.Questionnaire[];\n}\n\nexport const CourseRatings: FC<CourseRatingsProps> = memo(\n  ({ questionnaires }) => {\n    return (\n      <CourseRatingProvider questionnaires={questionnaires}>\n        <section className=\"course-ratings\">\n          <Row>\n            <Col>\n              <CourseRatingsQuestionnaires />\n            </Col>\n            <Col>\n              <CourseRatingsReviews />\n            </Col>\n          </Row>\n        </section>\n      </CourseRatingProvider>\n    );\n  }\n);\n","import { useContext } from \"react\";\n\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\n\nimport CoursesSlider from \"@/components/CoursesSlider\";\n\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Container\";\n\nexport const CourseRelated = () => {\n  const { t } = useTranslation();\n\n  const { courses } = useContext(EscolaLMSContext);\n\n  const sliderSettings = {\n    arrows: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 3,\n    draggable: false,\n    slidesToScroll: 3,\n    responsive: [\n      {\n        breakpoint: 768,\n        settings: {\n          draggable: true,\n          slidesToShow: 2,\n          slidesToScroll: 2,\n        },\n      },\n      {\n        breakpoint: 576,\n        settings: {\n          slidesToShow: 1,\n          centerMode: true,\n          slidesToScroll: 1,\n        },\n      },\n    ],\n  };\n  return (\n    <section className=\"course-related-courses\">\n      <Container>\n        <Row>\n          <Col lg={9}>\n            <div className=\"content-container\">\n              <Title level={4} as=\"h2\">\n                {t(\"CoursePage.RelatedCoursesTitle\")}\n              </Title>\n              {courses && courses.list && (\n                <CoursesSlider\n                  courses={courses.list.data}\n                  sliderSettings={sliderSettings}\n                />\n              )}\n            </div>\n            <div className=\"content-container\">\n              <Title level={4} as=\"h2\">\n                {t(\"CoursePage.InterestTitle\")}\n              </Title>\n              {courses && courses.list && (\n                <CoursesSlider\n                  courses={courses.list.data}\n                  sliderSettings={sliderSettings}\n                />\n              )}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </section>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport CoursesDetailsSidebar from \"@/components/SingleCoursesTwo/CoursesDetailsSidebar/index\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Loader from \"@/components/Preloader\";\nimport { useTranslation } from \"react-i18next\";\nimport Layout from \"@/components/_App/Layout\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\n\nimport { CourseProgram } from \"@escolalms/components/lib/components/organisms/CourseProgram/CourseProgram\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\nimport CourseProgramPreview from \"@/components/Course/CourseProgramPreview\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Modal } from \"@escolalms/components/lib/components/atoms/Modal/Modal\";\nimport Breadcrumbs from \"@/components/Breadcrumbs\";\nimport { fixContentForMarkdown } from \"@escolalms/components/lib/utils/components/markdown\";\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Container\";\nimport { ModalCourseAccess } from \"@escolalms/components/lib/components/organisms/ModalCourseAccess\";\nimport { QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { ModalOverwriteGlobal, StyledCoursePage } from \"./styles\";\nimport {\n  CourseMainInfo,\n  CourseAuthor,\n  CourseCompanies,\n  CourseRatings,\n  CourseRelated,\n} from \"./Components\";\n\nconst CoursePage = () => {\n  const [questionnaires, setQuestionnaires] = useState<API.Questionnaire[]>([]);\n  const [courseAccessModalVisible, setCourseAccessModalVisible] =\n    useState(false);\n  const [previewTopic, setPreviewTopic] = useState<API.Topic>();\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n  const {\n    course,\n    fetchCourse,\n    fetchCourses,\n    fetchCourseAccess,\n    fetchQuestionnaires,\n  } = useContext(EscolaLMSContext);\n\n  const closeCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(false),\n    []\n  );\n\n  const openCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(true),\n    []\n  );\n\n  const refreshCurrentCourseAccess = useCallback(\n    () =>\n      fetchCourseAccess({\n        course_id: Number(id),\n        current_page: 1,\n        per_page: 1,\n      }),\n    [id, fetchCourseAccess]\n  );\n\n  useEffect(() => {\n    fetchCourses({ per_page: 6 });\n    if (id) {\n      fetchCourse(Number(id));\n      refreshCurrentCourseAccess();\n      fetchQuestionnaires(QuestionnaireModelType.COURSE, Number(id)).then(\n        (response) => response.success && setQuestionnaires(response.data)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  if (course.error) {\n    return <pre>{course.error.message}</pre>;\n  }\n\n  return (\n    <Layout metaTitle={course?.value?.title || \"Loading\"}>\n      {course.loading && <Loader />}\n      {!course.loading && course.value && (\n        <>\n          <StyledCoursePage>\n            <Container>\n              <Row>\n                <Col md={12} lg={9}>\n                  <Breadcrumbs\n                    items={[\n                      <Link to=\"/\">{t(\"Home\")}</Link>,\n                      <Link to=\"/courses\">{t(\"Courses\")}</Link>,\n                      <Text size=\"12\">{course.value.title}</Text>,\n                    ]}\n                  />\n                  <CourseMainInfo\n                    courseData={course.value}\n                    questionnaires={questionnaires}\n                  />\n                  <CourseCompanies />\n                  {course.value.summary &&\n                    fixContentForMarkdown(course.value.summary) !== \"\" && (\n                      <section className=\"course-description\">\n                        <MarkdownRenderer>\n                          {course.value.summary}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.author && (\n                    <CourseAuthor courseData={course.value} />\n                  )}\n                  {course.value.description &&\n                    fixContentForMarkdown(course.value.description) !== \"\" && (\n                      <section className=\"course-description-short with-border padding-right\">\n                        <Title level={4}>\n                          {t(\"CoursePage.CourseDescriptionTitle\")}\n                        </Title>\n                        <MarkdownRenderer>\n                          {course.value.description}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.lessons && course.value.lessons.length > 0 && (\n                    <CourseProgram\n                      lessons={course.value.lessons}\n                      onTopicClick={(topic) => setPreviewTopic(topic)}\n                    />\n                  )}\n                  <CourseRatings questionnaires={questionnaires} />\n                </Col>\n                <Col md={12} lg={3} className=\"sidebar-col\">\n                  <div className=\"sidebar-wrapper\">\n                    {course.value && (\n                      <CoursesDetailsSidebar\n                        course={course.value}\n                        onRequestAccess={openCourseAccessModal}\n                      />\n                    )}\n                  </div>\n                </Col>\n              </Row>\n            </Container>\n            <CourseRelated />\n          </StyledCoursePage>\n          <Modal\n            onClose={() => setPreviewTopic(undefined)}\n            visible={!!previewTopic}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose={true}\n            width={600}\n            bodyStyle={{\n              maxHeight: \"80vh\",\n              overflow: \"auto\",\n            }}\n          >\n            <ModalOverwriteGlobal />\n            {previewTopic && <CourseProgramPreview topic={previewTopic} />}\n          </Modal>\n          <Modal\n            onClose={closeCourseAccessModal}\n            visible={courseAccessModalVisible}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose\n            width={600}\n          >\n            <ModalOverwriteGlobal />\n            <ModalCourseAccess\n              course={course.value}\n              onCancel={closeCourseAccessModal}\n              onSuccess={() => {\n                refreshCurrentCourseAccess();\n                closeCourseAccessModal();\n              }}\n            />\n          </Modal>\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default CoursePage;\n","export const APP_CONFIG = {\n  defaultDateFormat: \"dd/MM/yyyy\",\n  defaultDateTimeFormat: \"dd/MM/yyyy, HH:mm\",\n};\n","import styled from \"styled-components\";\nimport Placeholder from \"../../images/image.svg\";\n\nconst StyledPlaceholder = styled.div`\n  width: 100%;\n  height: 100%;\n  border: 1px solid\n    ${({ theme }) => (theme.mode === \"light\" ? theme.gray4 : theme.gray2)};\n`;\n\nconst CourseImgPlaceholder = () => {\n  return (\n    <StyledPlaceholder>\n      <img src={Placeholder} alt=\"\" />\n    </StyledPlaceholder>\n  );\n};\n\nexport default CourseImgPlaceholder;\n","import { add, format, isAfter } from \"date-fns\";\nimport { APP_CONFIG } from \"@/config/app\";\n\nexport const formatDate = (\n  date: string | number | Date | null | undefined,\n  dateFormat: string = APP_CONFIG.defaultDateFormat\n) => {\n  if (!date) return \"\";\n  return format(new Date(date), dateFormat);\n};\n\nexport const isTwoDatesEqual = (\n  firstDate: Date | string | number | null | undefined,\n  secondDate: Date | string | number | null | undefined,\n  format?: string\n) => {\n  if (!firstDate || !secondDate) return false;\n  return formatDate(firstDate, format) === formatDate(secondDate, format);\n};\n\nexport const createArrayWithDateAndTimes = (terms: string[] | Date[]) => {\n  const newTerms: {\n    date: string;\n    times: Date[];\n  }[] = [];\n\n  terms.forEach((term) => {\n    const date = format(new Date(term), \"MM/dd/yyyy\");\n    const existingTerm = newTerms.find(\n      (t) => format(new Date(t.date), \"MM/dd/yyyy\") === date\n    );\n\n    if (existingTerm) {\n      existingTerm.times.push(new Date(term));\n    } else {\n      newTerms.push({\n        date: date,\n        times: [new Date(term)],\n      });\n    }\n  });\n\n  return newTerms;\n};\n\nexport const removePastDates = (dates: Date[]) =>\n  dates.filter((date) => isAfter(date, new Date()));\n\nexport const sortDates = (dates: Date[]): Date[] =>\n  dates.sort((a, b) => a.getTime() - b.getTime());\n\nexport const extractTimeUnits = (input: string): Record<string, number> => {\n  const timeRegex = /(\\d+)\\s+(day|hour|minute|second|week|year)s?/g;\n  const matches = Array.from(input.matchAll(timeRegex));\n\n  const extractedUnits: Record<string, number> = {};\n\n  let foundMatch = false;\n  matches.forEach((match) => {\n    foundMatch = true;\n    const value = parseInt(match[1]);\n    const unit = match[2];\n\n    if (!extractedUnits[unit]) {\n      extractedUnits[unit] = value;\n    } else {\n      extractedUnits[unit] += value;\n    }\n  });\n\n  if (!foundMatch) {\n    const numberRegex = /\\d+/g;\n    const numberMatches = Array.from(input.matchAll(numberRegex));\n\n    numberMatches.forEach((match) => {\n      const value = parseInt(match[0]);\n      extractedUnits[\"hour\"] = value;\n    });\n  }\n\n  return extractedUnits;\n};\n\nexport const addTimeToDate = (\n  date: Date | string | number,\n  time: {\n    day?: number;\n    hour?: number;\n    minute?: number;\n    second?: number;\n    week?: number;\n    year?: number;\n    month?: number;\n  }\n) => {\n  return add(new Date(date), {\n    years: time.year || 0,\n    months: time.month || 0,\n    weeks: time.week || 0,\n    days: time.day || 0,\n    hours: time.hour || 0,\n    minutes: time.minute || 0,\n    seconds: time.second || 0,\n  });\n};\n","export default __webpack_public_path__ + \"static/media/image.ece42557.svg\";","import { Spin } from \"@escolalms/components\";\nimport styled, { useTheme } from \"styled-components\";\n\ninterface Props {\n  width?: string;\n  height?: string;\n}\n\nconst SpinnerWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n`;\n\nconst ContentLoader = ({ width, height }: Props) => {\n  const theme = useTheme();\n  return (\n    <SpinnerWrapper\n      style={{\n        width: width || \"100%\",\n        height: height || \"100%\",\n      }}\n    >\n      <Spin color={theme.primaryColor} />\n    </SpinnerWrapper>\n  );\n};\n\nexport default ContentLoader;\n","import { useCallback, useRef, useState } from \"react\";\nimport styled, { useTheme } from \"styled-components\";\nimport { Badge } from \"@escolalms/components/lib/components/atoms/Badge/Badge\";\n\nconst StyledDiv = styled(\"div\")`\n  align-self: end;\n  display: flex;\n  gap: 10px;\n  z-index: 200;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  .tags-menu-container {\n    position: relative;\n\n    .tags-menu {\n      position: absolute;\n      display: flex;\n      flex-direction: column;\n      text-align: right;\n      gap: 10px;\n      top: 0%;\n      right: 0;\n      list-style: none;\n      padding-top: 12px;\n      height: 100px;\n      overflow-y: scroll;\n      background-color: ${(props) => props.theme.primaryColor};\n      max-width: 150px;\n      width: 100%;\n    }\n  }\n\n  .badge {\n    cursor: pointer;\n  }\n`;\n\ninterface Tag {\n  title: string;\n}\n\nexport interface TagsProps {\n  tags: Tag[];\n  onTagClick?: (title: string) => void;\n}\n\nconst Tags = (props: TagsProps) => {\n  const { tags, onTagClick } = props;\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n  const firstTags = [...tags].splice(0, 2);\n  const otherTags = [...tags].splice(2);\n  const parentRef = useRef<HTMLDivElement | null>(null);\n\n  const tagClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>, title: string) => {\n      if (onTagClick) {\n        onTagClick(title);\n      }\n    },\n    [onTagClick]\n  );\n\n  return (\n    <StyledDiv ref={parentRef}>\n      {firstTags.map((tag: Tag, index) => (\n        <Badge\n          className=\"badge\"\n          color={theme.primaryColor}\n          key={index}\n          onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) =>\n            tagClick(e, tag.title)\n          }\n        >\n          {tag.title}\n        </Badge>\n      ))}\n      {otherTags.length > 0 && (\n        <div\n          className=\"tags-menu-container\"\n          onMouseLeave={() => setOpen(false)}\n        >\n          <Badge\n            className=\"badge\"\n            color={theme.primaryColor}\n            onMouseOver={() => setOpen(true)}\n          >\n            {`+${otherTags.length}`}\n          </Badge>\n          {open && (\n            <ul className=\"tags-menu\">\n              {otherTags.map((otherTag, index) => (\n                <li>\n                  <Badge\n                    key={index}\n                    className=\"badge\"\n                    onClick={(\n                      e: React.MouseEvent<HTMLDivElement, MouseEvent>\n                    ) => tagClick(e, otherTag.title)}\n                    color={theme.primaryColor}\n                  >\n                    {otherTag.title}\n                  </Badge>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      )}\n    </StyledDiv>\n  );\n};\n\nexport default Tags;\n","import { useCallback, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\n\nconst StyledDiv = styled(\"div\")<{ isOpen?: boolean }>`\n  .more-icon {\n    border: 1px solid;\n    border-radius: 50%;\n    padding: 4px;\n    margin-left: 12px;\n    font-size: 0.75em;\n  }\n\n  .category-name {\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .categories-menu-container {\n    position: relative;\n\n    .categories-menu {\n      position: absolute;\n      top: 0;\n      right: 0;\n      list-style: none;\n      background-color: #f2f2f2;\n      margin: 4px 0;\n\n      li {\n        margin: 4px 0;\n      }\n    }\n  }\n`;\n\nexport interface CategoriesProps {\n  categories: EscolaLms.Categories.Models.Category[];\n  onCategoryClick?: (id: number) => void;\n}\n\nconst CategoriesBreadCrumbs = (props: CategoriesProps) => {\n  const { categories, onCategoryClick } = props;\n  const [open, setOpen] = useState(false);\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const firstCategories = categories ? [...categories].splice(0, 2) : [];\n  const otherCategories = categories ? [...categories].splice(2) : [];\n\n  const categoryClick = useCallback(\n    (id: number) => {\n      if (onCategoryClick) {\n        onCategoryClick(id);\n      }\n    },\n    [onCategoryClick]\n  );\n\n  return (\n    <StyledDiv ref={parentRef} isOpen={open}>\n      <BreadCrumbs\n        hyphen=\"/\"\n        items={firstCategories?.map((category, index) => (\n          <>\n            <span\n              className=\"category-name\"\n              key={category.name + index}\n              onClick={() => categoryClick(category.id)}\n              aria-hidden={true}\n            >\n              {category.name}\n            </span>\n            {index === firstCategories.length - 1 &&\n              otherCategories.length > 0 && (\n                <span\n                  className=\"more-icon\"\n                  onMouseOver={() => setOpen(true)}\n                  onFocus={() => setOpen(true)}\n                  aria-hidden={true}\n                >{`+${otherCategories.length}`}</span>\n              )}\n          </>\n        ))}\n      />\n\n      {otherCategories.length > 0 && (\n        <div\n          className=\"categories-menu-container\"\n          onMouseLeave={() => setOpen(false)}\n        >\n          {open && (\n            <ul\n              className=\"categories-menu\"\n              style={{\n                width:\n                  parentRef.current?.getBoundingClientRect().width || \"auto\",\n              }}\n            >\n              <BreadCrumbs\n                hyphen=\"/\"\n                items={otherCategories?.map((category) => (\n                  <li\n                    className=\"category-name\"\n                    onClick={() => categoryClick(category.id)}\n                    aria-hidden={true}\n                  >\n                    {category.name}\n                  </li>\n                ))}\n              />\n            </ul>\n          )}\n        </div>\n      )}\n    </StyledDiv>\n  );\n};\n\nexport default CategoriesBreadCrumbs;\n","import { EventTypes, Notification, Order } from \"@escolalms/sdk/lib/types/api\";\nimport { APP_CONFIG } from \"@/config/app\";\nimport { formatDate } from \"@/utils/date\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n} from \"date-fns\";\n\nexport const getTopicType = (type: string) => type.split(\"\\\\\")?.pop();\n\nexport const getPriceWithTax = (price: number, taxPercentage: number) => {\n  const totalTax = ((price / 100) * taxPercentage).toFixed(2);\n  const totalPrice = Number(price / 100) + Number(totalTax);\n  return totalPrice.toFixed(2);\n};\n\nexport const getOrderProductsNames = (order: Order | undefined | null) => {\n  if (!order) return \"\";\n  return order.items?.map((item) => item.name).join(\", \");\n};\n\nexport const getNotificationTranslationObject = (\n  notification: Notification\n): {\n  translation: string;\n  object?: { name?: string; amount?: number; date?: string; user?: string };\n} => {\n  const translationPrefix = \"Notifications.\";\n  const translation = `${translationPrefix}${notification.event}`;\n  switch (notification.event) {\n    // STATIONARY EVENT\n    case EventTypes.StationaryEventAuthorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAuthorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventAssigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    case EventTypes.StationaryEventUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.stationaryEvent?.name || \"\" },\n      };\n    // CART\n    case EventTypes.AbandonedCartEvent:\n      return { translation };\n    case EventTypes.OrderCancelled:\n      return { translation };\n    case EventTypes.OrderCreated:\n      return { translation };\n    case EventTypes.OrderPaid:\n      return {\n        translation,\n        object: { name: getOrderProductsNames(notification.data.order) || \"\" },\n      };\n    case EventTypes.ProductableAttached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductableDetached:\n      return {\n        translation,\n        object: { name: notification.data.productable?.name || \"\" },\n      };\n    case EventTypes.ProductAddedToCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductAttached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductBought:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductDetached:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    case EventTypes.ProductRemovedFromCart:\n      return {\n        translation,\n        object: { name: notification.data.product?.name || \"\" },\n      };\n    // PAYMENT\n    case EventTypes.PaymentCancelled:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentFailed:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    case EventTypes.PaymentRegistered:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n        },\n      };\n    case EventTypes.PaymentSuccess:\n      return {\n        translation,\n        object: {\n          amount: notification.data.payment?.amount || 0,\n          name: getOrderProductsNames(notification.data.payment?.payable),\n        },\n      };\n    // COURSE\n    case EventTypes.CourseAccessFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAccessStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseDeadlineSoon:\n      return {\n        translation,\n        object: {\n          name: notification.data.course?.title || \"\",\n          date: formatDate(\n            notification.data.course?.active_to,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n        },\n      };\n    case EventTypes.CoursedPublished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStarted:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseStatusChanged:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorAssigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseTutorUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.CourseUnassigned:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    case EventTypes.TopicFinished:\n      return {\n        translation,\n        object: { name: notification.data.course?.title || \"\" },\n      };\n    // TOPIC\n    case EventTypes.TopicTypeChanged:\n      return {\n        translation,\n        object: { name: notification.data.topicContent?.value || \"\" },\n      };\n    // CONSULTATIONS\n    case EventTypes.ReportTerm:\n      return {\n        translation,\n        object: {\n          name: notification.data.consultationTerm?.consultation.name || \"\",\n          date: formatDate(\n            notification.data.consultationTerm?.executed_at,\n            APP_CONFIG.defaultDateTimeFormat\n          ),\n          user: `${notification.data.consultationTerm?.user?.first_name} ${notification.data.consultationTerm?.user?.last_name}`,\n        },\n      };\n    case EventTypes.ApprovedTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ApprovedTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ChangeTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.RejectTermWithTrainer:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    case EventTypes.ReminderTrainerAboutTerm:\n      return {\n        translation,\n        object: {\n          date:\n            formatDate(notification.data.consultationTerm?.executed_at) || \"\",\n        },\n      };\n    default:\n      return { translation };\n  }\n};\n\nexport const roundTo = (val: number, places = 2, divider?: number): number => {\n  if (!val || typeof val !== \"number\") return 0;\n  const returnedValue =\n    Math.round(val * Math.pow(10, places)) / Math.pow(10, places);\n  if (divider) {\n    return returnedValue / divider;\n  }\n  return returnedValue;\n};\n\nexport const formatPrice = (price: number | undefined, taxRate?: number) => {\n  if (!price) return 0;\n  const roundedPrice = taxRate\n    ? roundTo(price, 2, 100) * (1 + taxRate / 100)\n    : roundTo(price, 2, 100);\n  const formatted = roundedPrice.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  });\n  return formatted;\n};\n\nexport const userIsCourseAuthor = (\n  userId: number,\n  course: API.Course\n): boolean => {\n  return course.authors.findIndex((author) => author.id === userId) !== -1;\n};\n\nexport const getFormattedDifferenceRelativeToNow = (time: Date) => {\n  const daysDifference = time\n    ? differenceInDays(time.getTime(), new Date().getTime())\n    : null;\n  const hoursDifference = time\n    ? differenceInHours(time.getTime(), new Date().getTime())\n    : null;\n  const minutesDifference = time\n    ? differenceInMinutes(time.getTime(), new Date().getTime())\n    : null;\n\n  const timeDifferenceInDays: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    daysDifference !== null && daysDifference !== 0\n      ? [daysDifference, \"day\"]\n      : null;\n\n  const timeDifferenceInHours: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    hoursDifference !== null && hoursDifference !== 0\n      ? [hoursDifference, \"hour\"]\n      : null;\n\n  const timeDifferenceInMinutes: null | Parameters<\n    Intl.RelativeTimeFormat[\"format\"]\n  > =\n    minutesDifference !== null && minutesDifference !== 0\n      ? [minutesDifference, \"minute\"]\n      : null;\n\n  return (\n    timeDifferenceInDays ?? timeDifferenceInHours ?? timeDifferenceInMinutes\n  );\n};\n\nexport const relativeTimeFormatter = new Intl.RelativeTimeFormat(\"pl\", {\n  style: \"short\",\n});\n","import React, { PropsWithChildren } from \"react\";\nimport styled from \"styled-components\";\n\nconst CardWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n\n  a {\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .image-section {\n    .information-in-image {\n      .card {\n        .content:after,\n        .content:before {\n          box-shadow: inset 0px -6px 14px -8px rgba(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n  .course-section {\n    margin-top: 6px;\n  }\n\n  .course-card-buttons-group {\n    margin: 0;\n    width: 100%;\n    justify-content: center;\n  }\n`;\n\nconst CourseCardWrapper: React.FC<PropsWithChildren> = ({ children }) => {\n  return <CardWrapper>{children}</CardWrapper>;\n};\n\nexport default CourseCardWrapper;\n","import React from \"react\";\nimport { BreadCrumbs } from \"@escolalms/components/lib/components/atoms/BreadCrumbs/BreadCrumbs\";\nimport styled from \"styled-components\";\n\ntype Props = {\n  items: React.ReactNode[];\n};\n\nconst StyledBreadcrumbs = styled.div`\n  margin-bottom: 15px;\n  a {\n    text-decoration: none;\n    color: ${({ theme }) =>\n      theme.mode === \"dark\" ? theme.gray5 : theme.gray2}!important;\n  }\n`;\n\nconst Breadcrumbs: React.FC<Props> = ({ items }) => {\n  return (\n    <StyledBreadcrumbs>\n      <BreadCrumbs items={items} />\n    </StyledBreadcrumbs>\n  );\n};\n\nexport default Breadcrumbs;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { Link } from \"react-router-dom\";\n\nconst StyledPagination = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  a {\n    text-decoration: none !important;\n  }\n  .arrow {\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${({ theme }) => theme.primaryColor};\n    margin: 0 10px;\n    &--left {\n      transform: rotate(45deg);\n    }\n    &--right {\n      transform: rotate(-135deg);\n    }\n  }\n  .number {\n    margin: 0 8px;\n    p {\n      opacity: 0.5;\n      &.current {\n        color: ${({ theme }) => theme.primaryColor}!important;\n        font-weight: 700;\n        opacity: 1;\n      }\n    }\n  }\n`;\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\nconst range = (from: number, to: number, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nconst Pagination: React.FC<{\n  currentPage: number;\n  total: number;\n  perPage: number;\n  onPage: (page: number) => void;\n  pageNeighbours?: number;\n}> = ({ currentPage, total, perPage, onPage, pageNeighbours = 2 }) => {\n  const lastPage = Math.ceil(total / perPage);\n\n  const fetchPageNumbers = () => {\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (lastPage > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(lastPage - 1, currentPage + pageNeighbours);\n      let pages: (string | number)[] = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = lastPage - endPage > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case hasLeftSpill && !hasRightSpill: {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case !hasLeftSpill && hasRightSpill: {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case hasLeftSpill && hasRightSpill:\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, lastPage];\n    } else if (currentPage < lastPage && currentPage === 1) {\n      return [...range(1, lastPage), RIGHT_PAGE];\n    } else if (currentPage > 1 && currentPage !== lastPage) {\n      return [LEFT_PAGE, ...range(1, lastPage), RIGHT_PAGE];\n    } else if (currentPage > 1 && currentPage === lastPage) {\n      return [LEFT_PAGE, ...range(1, lastPage)];\n    }\n\n    return range(1, lastPage);\n  };\n\n  return (\n    <StyledPagination>\n      {fetchPageNumbers().map((page) => {\n        if (page === LEFT_PAGE) {\n          return (\n            <a\n              href=\"#!prev_page\"\n              className=\"prev page-numbers\"\n              onClick={(e) => {\n                e.preventDefault();\n                onPage(currentPage <= 1 ? 1 : currentPage - 1);\n              }}\n            >\n              <div className=\"arrow arrow--left\" />\n            </a>\n          );\n        }\n        if (page === RIGHT_PAGE) {\n          return (\n            <a\n              href=\"#!next_page\"\n              className=\"next page-numbers\"\n              onClick={(e) => {\n                e.preventDefault();\n                onPage(currentPage === lastPage ? lastPage : currentPage + 1);\n              }}\n            >\n              <div className=\"arrow arrow--right\" />\n            </a>\n          );\n        }\n        return (\n          <Link\n            onClick={(e) => {\n              e.preventDefault();\n              onPage(Number(page));\n            }}\n            to={`#!page-${Number(page)}`}\n            key={`#${Number(page)}`}\n            className=\"number\"\n          >\n            <Text\n              className={Number(page) === currentPage ? \"current\" : \"\"}\n              size=\"16\"\n              aria-current=\"page\"\n            >\n              {Number(page)}\n            </Text>\n          </Link>\n        );\n      })}\n    </StyledPagination>\n  );\n};\n\nexport default Pagination;\n","export enum QuestionnaireModelType {\n  COURSE = \"course\",\n  WEBINAR = \"webinar\",\n}\n\nexport enum QuestionType {\n  RATE = \"rate\",\n  TEXT = \"text\",\n  REVIEW = \"review\",\n}\n","import { useEffect } from \"react\";\nimport { Spin } from \"@escolalms/components/lib/components/atoms/Spin/Spin\";\nimport styled, { useTheme } from \"styled-components\";\n\nconst StyledLoader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) =>\n    theme.mode === \"dark\" ? theme.dm__background : theme.background};\n`;\n\nconst Preloader = () => {\n  const theme = useTheme();\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = \"inherit\";\n    };\n  }, []);\n\n  return (\n    <StyledLoader>\n      <Spin color={theme.primaryColor} />\n    </StyledLoader>\n  );\n};\n\nexport default Preloader;\n","//@ts-nocheck - TODO: remove when Tag type will be fixed in sdk\nimport React, { useState } from \"react\";\nimport styled, { useTheme } from \"styled-components\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { Slider } from \"@escolalms/components/lib/components/atoms/Slider/Slider\";\nimport { CourseCard } from \"@escolalms/components/lib/components/molecules/CourseCard/CourseCard\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { IconText } from \"@escolalms/components/lib/components/atoms/IconText/IconText\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Settings } from \"react-slick\";\nimport { useTranslation } from \"react-i18next\";\nimport { LessonsIcon, UserIcon } from \"../../icons\";\nimport CourseImgPlaceholder from \"../CourseImgPlaceholder\";\nimport { ResponsiveImage } from \"@escolalms/components/lib/components/organisms/ResponsiveImage/ResponsiveImage\";\nimport CourseCardWrapper from \"../CourseCardWrapper\";\nimport { Col, Row } from \"react-grid-system\";\nimport { Title } from \"@escolalms/components\";\nimport Tags from \"@/components/Tags\";\nimport CategoriesBreadCrumbs from \"@/components/CategoriesBreadCrumbs\";\n\ntype Props = {\n  courses: API.Course[];\n  sliderSettings?: Settings;\n};\n\nconst Content = styled.div`\n  @media (max-width: 575px) {\n    margin-left: -59px;\n  }\n  .slick-slider {\n    @media (max-width: 575px) {\n      width: calc(100% + 15px);\n    }\n  }\n  .slick-dots {\n    top: -65px;\n    @media (max-width: 575px) {\n      top: -30px !important;\n      right: unset !important;\n      left: 60px !important;\n    }\n  }\n  .slick-track {\n    display: flex;\n    gap: 0 20px;\n    @media (max-width: 991px) {\n      padding-bottom: 20px;\n    }\n  }\n\n  .slick-slide {\n    height: inherit;\n\n    > div {\n      display: flex;\n      height: 100%;\n    }\n  }\n`;\n\nconst defaultSliderSettings = {\n  arrows: false,\n  infinite: true,\n  speed: 500,\n  draggable: false,\n  slidesToShow: 4,\n  slidesToScroll: 4,\n  responsive: [\n    {\n      breakpoint: 1201,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n      },\n    },\n    {\n      breakpoint: 768,\n      settings: {\n        draggable: true,\n        slidesToShow: 2,\n        slidesToScroll: 2,\n      },\n    },\n    {\n      breakpoint: 576,\n      settings: {\n        slidesToShow: 1,\n        centerMode: true,\n        slidesToScroll: 1,\n      },\n    },\n  ],\n};\n\nconst CoursesSlider: React.FC<Props> = ({\n  courses,\n  sliderSettings = defaultSliderSettings,\n}) => {\n  const [dots] = useState(true);\n  const history = useHistory();\n  const theme = useTheme();\n  const { t } = useTranslation();\n\n  return (\n    <Content>\n      {courses.length >= 5 || isMobile ? (\n        <div>\n          <Slider\n            settings={{\n              ...sliderSettings,\n              dots,\n              onSwipe: () => {\n                const allHiddenSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"true\"]'\n                );\n                const allVisibleSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"false\"]'\n                );\n                allVisibleSlides.forEach((visibleSlide) =>\n                  visibleSlide.removeAttribute(\"aria-modal\")\n                );\n                allHiddenSlides.forEach((hiddenSlide) =>\n                  hiddenSlide.setAttribute(\"aria-modal\", \"true\")\n                );\n              },\n              onInit: () => {\n                const allHiddenSlides = document.querySelectorAll(\n                  '.slick-slide[aria-hidden=\"true\"]'\n                );\n                allHiddenSlides.forEach((hiddenSlide) =>\n                  hiddenSlide.setAttribute(\"aria-modal\", \"true\")\n                );\n              },\n            }}\n            dotsPosition=\"top right\"\n          >\n            {courses &&\n              courses.map((item) => (\n                <CourseCardWrapper key={item.id}>\n                  <CourseCard\n                    mobile={isMobile}\n                    id={item.id}\n                    image={\n                      <Link to={`/courses/${item.id}`}>\n                        {item.image_path ? (\n                          <ResponsiveImage\n                            path={item.image_path}\n                            alt={item.title}\n                            srcSizes={[300, 600, 900]}\n                          />\n                        ) : (\n                          <CourseImgPlaceholder />\n                        )}\n                      </Link>\n                    }\n                    tags={\n                      <Tags\n                        tags={item.tags}\n                        onTagClick={(tagName) =>\n                          history.push(`/courses/?tag=${tagName}`)\n                        }\n                      />\n                    }\n                    subtitle={\n                      item.subtitle ? (\n                        <Text size=\"12\">\n                          <Link\n                            style={{ color: theme.primaryColor }}\n                            to={`/courses/${item.id}`}\n                          >\n                            <strong>{item.subtitle}</strong>\n                          </Link>\n                        </Text>\n                      ) : undefined\n                    }\n                    title={\n                      <Link to={`/courses/${item.id}`} className=\"title\">\n                        <Title level={4} as=\"h2\">\n                          {item.title}\n                        </Title>\n                      </Link>\n                    }\n                    categories={\n                      <CategoriesBreadCrumbs\n                        categories={item.categories}\n                        onCategoryClick={(id) => {\n                          history.push(`/courses/?categories[]=${id}`);\n                        }}\n                      />\n                    }\n                    actions={\n                      <>\n                        <Button\n                          mode=\"secondary\"\n                          onClick={() => history.push(`/courses/${item.id}`)}\n                        >\n                          {t(\"StartNow\")}\n                        </Button>\n                      </>\n                    }\n                    footer={\n                      <>\n                        {item.users_count && item.users_count > 0 ? (\n                          <IconText\n                            icon={<UserIcon />}\n                            text={`${item.users_count} ${t<string>(\n                              \"Students\"\n                            )}`}\n                          />\n                        ) : (\n                          \"\"\n                        )}{\" \"}\n                        {item.lessons_count && item.lessons_count > 0 ? (\n                          <IconText\n                            icon={<LessonsIcon />}\n                            text={`${item.lessons_count} ${t<string>(\n                              \"Lessons\"\n                            )}`}\n                          />\n                        ) : (\n                          \"\"\n                        )}\n                      </>\n                    }\n                  />\n                </CourseCardWrapper>\n              ))}\n          </Slider>\n        </div>\n      ) : (\n        <Row\n          style={{\n            marginTop: \"30px\",\n            rowGap: \"60px\",\n          }}\n        >\n          {courses.map((item) => (\n            <Col md={6} lg={3} key={item.id}>\n              <CourseCardWrapper key={item.id}>\n                <CourseCard\n                  mobile={isMobile}\n                  id={item.id}\n                  image={\n                    <Link to={`/courses/${item.id}`}>\n                      {item.image_path ? (\n                        <ResponsiveImage\n                          path={item.image_path}\n                          alt={item.title}\n                          srcSizes={[300, 600, 900]}\n                        />\n                      ) : (\n                        <CourseImgPlaceholder />\n                      )}\n                    </Link>\n                  }\n                  tags={\n                    <Tags\n                      tags={item.tags}\n                      onTagClick={(tagName) =>\n                        history.push(`/courses/?tag=${tagName}`)\n                      }\n                    />\n                  }\n                  subtitle={\n                    item.subtitle ? (\n                      <Text size=\"12\">\n                        <Link\n                          style={{ color: theme.primaryColor }}\n                          to={`/courses/${item.id}`}\n                        >\n                          <strong>{item.subtitle}</strong>\n                        </Link>\n                      </Text>\n                    ) : undefined\n                  }\n                  title={<Link to={`/courses/${item.id}`}>{item.title}</Link>}\n                  categories={\n                    <CategoriesBreadCrumbs\n                      categories={item.categories}\n                      onCategoryClick={(id) => {\n                        history.push(`/courses/?categories[]=${id}`);\n                      }}\n                    />\n                  }\n                  actions={\n                    <>\n                      <Button\n                        mode=\"secondary\"\n                        onClick={() => history.push(`/courses/${item.id}`)}\n                      >\n                        {t(\"StartNow\")}\n                      </Button>\n                    </>\n                  }\n                  footer={\n                    <>\n                      {item.users_count && item.users_count > 0 ? (\n                        <IconText\n                          icon={<UserIcon />}\n                          text={`${item.users_count} ${t<string>(\"Students\")}`}\n                        />\n                      ) : (\n                        \"\"\n                      )}{\" \"}\n                      {item.lessons_count && item.lessons_count > 0 ? (\n                        <IconText\n                          icon={<LessonsIcon />}\n                          text={`${item.lessons_count} ${t<string>(\"Lessons\")}`}\n                        />\n                      ) : (\n                        \"\"\n                      )}\n                    </>\n                  }\n                />\n              </CourseCardWrapper>\n            </Col>\n          ))}\n        </Row>\n      )}\n    </Content>\n  );\n};\n\nexport default CoursesSlider;\n","import { QuestionType, QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { t } from \"i18next\";\nimport { toast } from \"react-toastify\";\n\ntype getQuestionnaireProps = {\n  questionnaireId: number;\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n};\n\ntype getQuestionnairesProps = {\n  courseId: number;\n  fetchQuestionnaire: (\n    modelTypeTitle: string,\n    modelID: number,\n    id: number\n  ) => Promise<API.DefaultResponse<API.QuestionnaireAnswerResponse>>;\n  fetchQuestionnaires: (\n    model: string,\n    id: number\n  ) => Promise<API.DefaultMetaResponse<API.Questionnaire>>;\n  onSucces: (questionnairesArray: API.Questionnaire[]) => void;\n  onFinish: () => void;\n};\n\nconst getQuestionnaire = async ({\n  courseId,\n  questionnaireId,\n  fetchQuestionnaire,\n}: getQuestionnaireProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaire(\n        QuestionnaireModelType.COURSE,\n        courseId,\n        questionnaireId\n      ));\n    if (response && response.success) {\n      return response.data.questions;\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  }\n};\n\nexport const getQuestionnaires = async ({\n  courseId,\n  fetchQuestionnaires,\n  fetchQuestionnaire,\n  onSucces,\n  onFinish,\n}: getQuestionnairesProps) => {\n  try {\n    const response =\n      courseId &&\n      (await fetchQuestionnaires(QuestionnaireModelType.COURSE, courseId));\n    if (response && response.success) {\n      const questionnairesWithCombinedQuestions = await Promise.all(\n        response.data.map(async (data) => {\n          const res = await getQuestionnaire({\n            courseId,\n            questionnaireId: data.id,\n            fetchQuestionnaire,\n          });\n\n          const combinedQuestions = data.questions.reduce((result, element) => {\n            const matchingElement = res?.find((item) => item.id === element.id);\n\n            const updatedElement = {\n              ...element,\n              rate: matchingElement?.rate,\n              note: matchingElement?.note,\n            };\n\n            updatedElement.rate === null &&\n              updatedElement.note === null &&\n              result.push(updatedElement);\n            return result;\n          }, [] as API.QuestionnaireQuestion[]);\n\n          return {\n            ...data,\n            questions: combinedQuestions.sort(\n              (a, b) => a.position - b.position\n            ),\n          };\n        })\n      );\n\n      onSucces(\n        questionnairesWithCombinedQuestions.filter(\n          (item) => !!item.questions.length\n        )\n      );\n    }\n  } catch (error) {\n    toast.error(t<string>(\"UnexpectedError\"));\n    console.log(error);\n  } finally {\n    onFinish();\n  }\n};\n\nexport const getAverageRate = (reviewQuestions: API.QuestionnaireStars[]) => {\n  const avgRate =\n    reviewQuestions.reduce((sum, item) => sum + item.avg_rate, 0) /\n    reviewQuestions.length;\n  return avgRate.toFixed(1);\n};\n\nexport const getCourseQuestionnaireReviewQuestion = ({\n  questionnaires,\n  questionnaireId,\n  questionType,\n}: {\n  questionnaires: API.Questionnaire[];\n  questionnaireId: number | null;\n  questionType: QuestionType;\n}) => {\n  return questionnaires\n    ?.find((element) => element.id === questionnaireId)\n    ?.questions.filter((item) => item.public_answers)\n    .find((item) => item.type === questionType)?.id;\n};\n","import { formatPrice } from \"@/utils/index\";\nimport React from \"react\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport styled from \"styled-components\";\n\ntype Props = {\n  price?: number;\n  taxRate?: number;\n  oldPrice?: number | null;\n};\n\nconst Prices = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  .pricing-card-discount {\n    margin: 0;\n  }\n`;\n\nconst ProductPrices: React.FC<Props> = ({ price, taxRate, oldPrice }) => {\n  return (\n    <Prices>\n      <Title level={3} as={\"h3\"}>\n        {formatPrice(price, taxRate)} zł\n      </Title>\n      {oldPrice && (\n        <div className=\"pricing-card-discount\">\n          <Title level={5} as={\"h5\"}>\n            {formatPrice(oldPrice, taxRate)} zł\n          </Title>\n        </div>\n      )}\n    </Prices>\n  );\n};\n\nexport default ProductPrices;\n","import { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { useTranslation } from \"react-i18next\";\n\nimport { isMobile } from \"react-device-detect\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\n\nimport { Tutor } from \"@escolalms/components/lib/components/molecules/Tutor/Tutor\";\n\nimport { API } from \"@escolalms/sdk/lib\";\n\ninterface CourseAuthorProps {\n  courseData: API.Course;\n}\nconst API_URL =\n  window.REACT_APP_API_URL ||\n  (process && process.env && process.env.REACT_APP_PUBLIC_API_URL);\n\nexport const CourseAuthor: FC<CourseAuthorProps> = ({ courseData }) => {\n  const { t } = useTranslation();\n  return (\n    <section className=\"course-tutor with-border padding-right\">\n      <Link to={`/tutors/${courseData.author_id}`}>\n        <Tutor\n          mobile={isMobile}\n          avatar={{\n            alt: `${courseData.author.first_name} ${courseData.author.last_name}`,\n            src:\n              `${API_URL}/api/images/img?path=${courseData.author.path_avatar}` ||\n              \"\",\n          }}\n          rating={{\n            ratingValue: 4.1,\n          }}\n          title={\n            <Title as=\"h3\" level={4} className=\"title\">\n              {t<string>(\"CoursePage.Teacher\")}\n            </Title>\n          }\n          fullName={`${courseData.author.first_name} ${courseData.author.last_name}`}\n          coursesInfo={\"8 Curses\"}\n          description={courseData.author.bio}\n        />\n      </Link>\n    </section>\n  );\n};\n"],"sourceRoot":""}