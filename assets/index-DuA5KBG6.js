import{r as n,j as e,q as P,i as l,Q as S,m as B,f as M,D as C,U as R,o as v,v as L,C as T,L as w,x as $,V as c,M as q}from"./index-GZH7EDwP.js";import{B as D}from"./index-MqdWk_Tz.js";import{P as F}from"./index-B2xFDOYd.js";import{S as u}from"./index-CKwCmkk2.js";function I(s){const a=n.useRef();return n.useEffect(()=>{a.current=s},[s]),a.current}const V=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"27px"},children:e.jsx(u,{count:5,style:{marginBottom:"11px",height:"20px"}})}),e.jsx("div",{style:{marginBottom:"27px"},children:e.jsx(u,{count:12,style:{marginBottom:"11px",height:"20px"}})}),e.jsx("div",{style:{marginBottom:"27px"},children:e.jsx(u,{count:6,style:{marginBottom:"11px",height:"20px"}})})]}),_=P.section`
  background-color: ${({theme:s})=>s.gray4};
  min-height: calc(100vh - 400px);
  padding-top: ${l?"0px":"57px"};
  .user-main-sidebar {
    margin-top: ${l?"60px":0};
  }
  .content {
    margin-top: ${l?"30px":0};
  }
`,O=()=>{var d,m,g,f;const{slug:s}=S(),{fetchPage:a,page:t,fetchPages:y,pages:r}=n.useContext(B.EscolaLMSContext),x=I(s),{t:b}=M();n.useEffect(()=>{var i;s&&!t.loading&&(!t.value&&!t.error||t.value&&((i=t.value)==null?void 0:i.slug)!==s||t.error&&!x)&&(y(),a(String(s)))},[s,t]);const k=i=>i.replace("Mobile",""),E=n.useMemo(()=>{var h,p,j;let i=(h=r==null?void 0:r.list)==null?void 0:h.data;return C==="true"?i=(p=r==null?void 0:r.list)==null?void 0:p.data.filter(o=>o.slug!=="polityka-prywatnosci"&&o.slug!=="kontakt"):i=(j=r==null?void 0:r.list)==null?void 0:j.data.filter(o=>!o.slug.includes("mobile")),i&&i.filter(o=>o.active).map(o=>({key:o.slug,title:k(o.title.substring(0,50)),url:o.slug}))},[r]);return!t.loading&&t.error&&!t.error.success?e.jsx(R,{to:v.notFound}):e.jsx(L,{metaTitle:(d=t.value)==null?void 0:d.title,children:e.jsx(_,{children:e.jsxs(T,{children:[!l&&e.jsx(D,{items:[e.jsx(w,{to:v.home,children:b("Home")}),e.jsx($.Text,{size:"12",children:(m=t.value)==null?void 0:m.title})]}),e.jsxs(c.Row,{children:[e.jsx(c.Col,{lg:3,sm:12,xs:12,children:e.jsx(F,{tabs:E||[],isProfile:!1})}),e.jsx(c.Col,{offset:{xs:0,sm:0,lg:1},sm:12,lg:8,children:e.jsx("div",{className:"content",children:t.loading||!t.value&&!t.error||t.value&&((g=t.value)==null?void 0:g.slug)!==s||t.error&&!x?e.jsx(V,{}):e.jsx(q.MarkdownRenderer,{children:((f=t==null?void 0:t.value)==null?void 0:f.content)||""})})})]})]})})})};export{O as default};
