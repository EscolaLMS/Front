import{F as h,n as L,r as u,m as f,f as j,h as R,j as s,v as F,C as w,z as l,o as p,i as g}from"./index-BZyw651V.js";import{A as E,R as k}from"./AuthWrapper-DRk2eYM-.js";import{t as m}from"./toast-Dotuji2T.js";var S=h();const v=()=>{const{search:t,state:i}=L(),{user:n,socialAuthorize:x}=u.useContext(f.EscolaLMSContext),[d,a]=u.useState("login"),{t:r}=j(),e=R(),o=t.split("?token=")[1],c=i&&i.referrer||t.split("?referrer=")[1]||"/";return o&&(x(o),setTimeout(()=>{e.push(c)},1e3)),!n.loading&&!o&&n.value&&e.push(c),s.jsx(F,{metaTitle:r("LoginAndRegister"),children:s.jsx(E,{children:s.jsx(w,{children:s.jsx(l.Row,{justify:"center",children:s.jsx(l.Col,{md:12,children:d==="login"?s.jsx(S.LoginForm,{onResetPasswordLink:()=>a("forgotPassword"),onRegisterLink:()=>e.push(p.register),mobile:g}):s.jsx(k.ResetPasswordForm,{mobile:g,backToLogin:()=>a("login"),onRegisterLink:()=>e.push(p.register),return_url:"#/reset-password",onFirstStepSuccess:()=>m(r("LoginPage.ForgotSuccess"),"success"),onFirstStepError:()=>m(r("UnexpectedError"),"error")})})})})})})};export{v as default};
