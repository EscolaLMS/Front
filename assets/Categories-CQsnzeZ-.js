import{d as c,r as z,D as Y,a2 as Z,aw as nn,ax as en,F as tn,j as rn,ay as on,E as an,a3 as ln,g as sn}from"./index-Duhnd3NG.js";var L={};(function(w){var j=c&&c.__makeTemplateObject||function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},l=c&&c.__assign||function(){return l=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},l.apply(this,arguments)},N=c&&c.__createBinding||(Object.create?function(n,e,r,o){o===void 0&&(o=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,o,a)}:function(n,e,r,o){o===void 0&&(o=r),n[o]=e[r]}),M=c&&c.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),T=c&&c.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r in n)r!=="default"&&Object.prototype.hasOwnProperty.call(n,r)&&N(e,n,r);return M(e,n),e},B=c&&c.__spreadArray||function(n,e,r){if(r||arguments.length===2)for(var o=0,a=e.length,s;o<a;o++)(s||!(o in e))&&(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return n.concat(s||Array.prototype.slice.call(e))},R=c&&c.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(w,"__esModule",{value:!0}),w.Categories=void 0;var t=rn,d=T(z),h=T(Y),$=z,E=on,q=an,y=Z(),I=R(nn),G=ln,W=en,k=tn,D=function(){return(0,t.jsx)("svg",l({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,t.jsx)("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},H=function(){return(0,t.jsx)("svg",l({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,t.jsx)("path",{d:"M7 1L1 7L7 13",stroke:"#4A4A4A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},J=(0,h.default)("div")(P||(P=j([`
  position: relative;
  min-width: 150px;
  color: `,`;
  border: `,`;
  background-color: `,`;
  border-radius: `,`;

  .categories-collapse {
    color: currentColor;
  }

  .categories-dropdown-button {
    position: relative;
    justify-content: space-between;
    padding: 7px 10px;
    display: flex;
    align-items: center;
    width: 100%;
    text-align: left;
    appearance: none;
    background-color: transparent;
    border: none;
    font-weight: normal;
    cursor: pointer;
    color: currentColor;
    font-size: 16px;
    font-family: `,`;

    svg {
      margin-left: 10px;
      transform: `,`;
      transition: opacity 0.2s ease-in-out;

      path {
        stroke: currentColor;
      }
    }

    &:hover svg {
      opacity: 0.6;
    }

    &:after {
      position: absolute;
      bottom: 0;
      left: 10px;
      right: 10px;
      height: 1px;
      display: `,`;
      background-color: currentColor;
      content: "";
    }
  }

  > .categories-dropdown-options {
    padding: 7px 10px;
    position: absolute;
    top: 100%;
    left: -1px;
    width: calc(100% + 2px);
    max-height: `,`;
    height: `,`;
    overflow-y: `,`;
    display: `,`;
    box-sizing: border-box;
    background-color: `,`;
    border: 1px solid currentColor;
    border-top: none;
    z-index: `,`;
    border-radius: `,`;
    div {
      position: relative;
    }

    input {
      color: currentColor;
    }

    span {
      word-break: break-word;
      color: `,`;
    }
  }

  .categories-dropdown-options .categories-dropdown-options {
    margin-left: 20px;
  }
`],[`
  position: relative;
  min-width: 150px;
  color: `,`;
  border: `,`;
  background-color: `,`;
  border-radius: `,`;

  .categories-collapse {
    color: currentColor;
  }

  .categories-dropdown-button {
    position: relative;
    justify-content: space-between;
    padding: 7px 10px;
    display: flex;
    align-items: center;
    width: 100%;
    text-align: left;
    appearance: none;
    background-color: transparent;
    border: none;
    font-weight: normal;
    cursor: pointer;
    color: currentColor;
    font-size: 16px;
    font-family: `,`;

    svg {
      margin-left: 10px;
      transform: `,`;
      transition: opacity 0.2s ease-in-out;

      path {
        stroke: currentColor;
      }
    }

    &:hover svg {
      opacity: 0.6;
    }

    &:after {
      position: absolute;
      bottom: 0;
      left: 10px;
      right: 10px;
      height: 1px;
      display: `,`;
      background-color: currentColor;
      content: "";
    }
  }

  > .categories-dropdown-options {
    padding: 7px 10px;
    position: absolute;
    top: 100%;
    left: -1px;
    width: calc(100% + 2px);
    max-height: `,`;
    height: `,`;
    overflow-y: `,`;
    display: `,`;
    box-sizing: border-box;
    background-color: `,`;
    border: 1px solid currentColor;
    border-top: none;
    z-index: `,`;
    border-radius: `,`;
    div {
      position: relative;
    }

    input {
      color: currentColor;
    }

    span {
      word-break: break-word;
      color: `,`;
    }
  }

  .categories-dropdown-options .categories-dropdown-options {
    margin-left: 20px;
  }
`])),function(n){return n.lightContrast?n.theme.gray4:n.theme.gray2},function(n){return"1px solid ".concat(n.open?"currentColor":"transparent")},function(n){return n.backgroundColor},function(n){var e=n.theme,r=n.open;return r?"".concat(e.inputRadius,"px ").concat(e.inputRadius,"px 0 0"):"".concat(e.inputRadius,"px")},function(n){return(0,W.getFontFromTheme)(n.theme).fontFamily},function(n){return n.open?"rotate(180deg)":"none"},function(n){return n.open?"block":"none"},function(n){return n.open?"200px":"auto"},function(n){return n.open?"auto":"0"},function(n){return n.open?"auto":"hidden"},function(n){return n.open?"block":"none"},function(n){return n.backgroundColor},function(n){return n.open?"1":"0"},function(n){var e=n.theme;return"0 0 ".concat(e.inputRadius,"px ").concat(e.inputRadius,"px")},function(n){return n.lightContrast?n.theme.gray4:n.theme.gray2}),K=(0,h.createGlobalStyle)(S||(S=j([`
  width: 100%;
  box-sizing: border-box;
  
  * {
    box-sizing: border-box;
  }
  
  .drawer-content-wrapper {
    left: 0;
    width: 100%;
  }
  
  .categories-drawer-list {
    > div {
      position: relative;
      margin-bottom: 4px;
    }
  
    .categories-drawer-list {
      margin-left: 20px;
    }
  }
  
  .drawer-content {
    display: flex;
    flex-direction: column;
  }
  
  .drawer-content-header {
    position: relative;
    padding: 22px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .drawer-content-btn {
    position: absolute;
    left: 22px;
    appearance: none;
    background-color: transparent;
    border: none;
    
    svg path {
      stroke: `,`;
    }
  }
  
  .drawer-content-inner {
    padding: 0 16px 32px 16px;
    flex: 1;
    overflow: auto;
  }
  
  .drawer-content-footer {
    padding: 16px;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .categories-collapse {
    color: `,`;
  }
  
  label {
    color: `,`;
  }
`],[`
  width: 100%;
  box-sizing: border-box;
  
  * {
    box-sizing: border-box;
  }
  
  .drawer-content-wrapper {
    left: 0;
    width: 100%;
  }
  
  .categories-drawer-list {
    > div {
      position: relative;
      margin-bottom: 4px;
    }
  
    .categories-drawer-list {
      margin-left: 20px;
    }
  }
  
  .drawer-content {
    display: flex;
    flex-direction: column;
  }
  
  .drawer-content-header {
    position: relative;
    padding: 22px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .drawer-content-btn {
    position: absolute;
    left: 22px;
    appearance: none;
    background-color: transparent;
    border: none;
    
    svg path {
      stroke: `,`;
    }
  }
  
  .drawer-content-inner {
    padding: 0 16px 32px 16px;
    flex: 1;
    overflow: auto;
  }
  
  .drawer-content-footer {
    padding: 16px;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .categories-collapse {
    color: `,`;
  }
  
  label {
    color: `,`;
  }
`])),function(n){var e=n.theme;return(0,k.getStylesBasedOnTheme)(e.mode,e.white,e.gray1)},function(n){var e=n.theme;return(0,k.getStylesBasedOnTheme)(e.mode,e.white,e.gray1)},function(n){var e=n.theme;return(0,k.getStylesBasedOnTheme)(e.mode,e.white,e.gray1)}),Q=(0,h.default)("div")(A||(A=j([`
  .categories-collapse {
    position: absolute;
    right: 0;
    top: 0;
    appearance: none;
    background-color: transparent;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease-in-out;

    &:hover {
      opacity: 0.8;
    }

    &.active {
      svg {
        transform: rotate(180deg);
      }
    }
  }
`],[`
  .categories-collapse {
    position: absolute;
    right: 0;
    top: 0;
    appearance: none;
    background-color: transparent;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease-in-out;

    &:hover {
      opacity: 0.8;
    }

    &.active {
      svg {
        transform: rotate(180deg);
      }
    }
  }
`]))),O=function(n){var e=n.categories,r=n.labelPrefix,o=n.selectedCategories,a=o===void 0?[]:o,s=n.label,u=n.handleChange,p=n.mobile,g=n.className,C=g===void 0?"":g,f=d.useState({}),b=f[0],v=f[1],m=function(i){var _;v(l(l({},b),(_={},_[i]=!b[i],_)))},x=d.useCallback(function(i){u&&u(a.includes(i)?a.filter(function(_){return _!==i}):B(B([],a,!0),[i],!1))},[a]);return(0,t.jsxs)(Q,l({className:"wellms-component ".concat(p?"categories-drawer-list":"categories-dropdown-options"," ").concat(C)},{children:[p&&s&&(0,t.jsx)(y.Title,l({level:5,style:{marginTop:"32px",marginBottom:"17px"}},{children:s})),e.map(function(i){return(0,t.jsxs)("div",{children:[(0,t.jsx)(y.Checkbox,{value:i.id,label:r?"".concat(r).concat(i.name):i.name,checked:a.includes(i.id),onChange:function(){return x(i.id)}}),i&&i.subcategories&&i.subcategories.length>0&&(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)("button",l({type:"button",onClick:function(){return m(i.id)},className:"categories-collapse"},{children:(0,t.jsx)(D,{})})),b[i.id]&&(0,t.jsx)(O,{categories:i.subcategories,handleChange:u,selectedCategories:a,mobile:p})]})]},i.id)})]}))},U=function(n){var e=d.useContext(h.ThemeContext),r=n.categories,o=n.labelPrefix,a=n.label,s=n.selectedCategories,u=n.handleChange,p=n.backgroundColor,g=p===void 0?(0,k.getStylesBasedOnTheme)(e.mode,e.dm__background,e.background):p,C=d.useMemo(function(){return(0,q.contrast)("#fff",g)>=1.85},[g]),f=d.useState(!1),b=f[0],v=f[1],m=(0,$.useRef)(null),x=function(){v(function(i){return!i})};return(0,E.useOnClickOutside)(m,function(){return v(!1)}),(0,t.jsxs)(J,l({open:b,ref:m,className:"wellms-component",lightContrast:C,backgroundColor:g},{children:[(0,t.jsxs)("button",l({type:"button",className:"categories-dropdown-button",onClick:x},{children:[a," ",s&&s.length>0&&"(".concat(s.length,")"),(0,t.jsx)(D,{})]})),(0,t.jsx)(O,{categories:r,labelPrefix:o,selectedCategories:s,handleChange:u})]}))},V=function(n){var e=n.categories,r=n.labelPrefix,o=n.label,a=n.handleChange,s=n.handleDrawerButtonClick,u=n.selectedCategories,p=n.drawerButtonText,g=n.drawerTitle,C=n.mobile,f=d.useState(!1),b=f[0],v=f[1],m=(0,G.useTranslation)().t,x=function(){v(function(i){return!i})};return(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)(K,{}),(0,t.jsxs)(y.Button,l({type:"button",mode:"outline",onClick:x},{children:[m("Categories.Filter")," ",u&&u.length>0&&"(".concat(u.length,")")]})),(0,t.jsxs)(I.default,l({open:b,handler:!1,onClose:x,level:null},{children:[(0,t.jsxs)("div",l({className:"drawer-content-header"},{children:[(0,t.jsx)("button",l({type:"button",onClick:x,className:"drawer-content-btn"},{children:(0,t.jsx)(H,{})})),g&&(0,t.jsx)(d.Fragment,{children:g})]})),(0,t.jsx)("div",l({className:"drawer-content-inner"},{children:(0,t.jsx)(O,{categories:e,label:o,labelPrefix:r,selectedCategories:u,handleChange:a,mobile:C})})),p&&s&&(0,t.jsx)("div",l({className:"drawer-content-footer"},{children:(0,t.jsx)(y.Button,l({block:!0,mode:"secondary",onClick:function(){x(),s&&s()}},{children:p&&p}))}))]}))]})},X=function(n){var e=n.mobile;return(0,t.jsx)(d.Fragment,{children:e?(0,t.jsx)(V,l({},n)):(0,t.jsx)(d.Fragment,{children:(0,t.jsx)(U,l({},n))})})};w.Categories=X,w.default=(0,h.withTheme)((0,h.default)(w.Categories)(F||(F=j([""],[""]))));var P,S,A,F})(L);const dn=sn(L);export{L as C,dn as a};
