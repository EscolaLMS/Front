import{f as h,r as s,h as m,j as t,l as n,ay as D,az as T,aA as E,aB as M,aC as b,aD as B}from"./index-BsLXwVX-.js";import{P as S}from"./index-iAlfguab.js";const v=()=>{var u;const{t:o}=h(),[a,f]=s.useState(1),[l,p]=s.useState(2),y=a<=1,j=a>=l,[c,r]=s.useState({sort:"Ascending",createdBy:"Personal",done:!0}),{fetchTasks:x,fetchProgress:d,progress:i,fetchProgram:g,tasks:P}=s.useContext(m.EscolaLMSContext),k=[{id:1,content:t.jsx(n.IconText,{icon:c.done===!0?t.jsx(D,{}):t.jsx(T,{}),text:c.done===!0?o("MyProfilePage.HideDone"):o("MyProfilePage.ShowDone"),onClick:()=>r(e=>({...e,done:!e.done}))})}],C=[{id:0,content:t.jsx(n.IconText,{icon:t.jsx(E,{}),text:o("MyProfilePage.Ascending"),onClick:()=>r(e=>({...e,sort:"Ascending"}))})},{id:1,content:t.jsx(n.IconText,{icon:t.jsx(M,{}),text:o("MyProfilePage.Descending"),onClick:()=>r(e=>({...e,sort:"Descending"}))})}],I=[{id:0,content:t.jsx(n.IconText,{icon:t.jsx(b,{}),text:o("MyProfilePage.Personal"),onClick:()=>r(e=>({...e,createdBy:"Personal"}))})},{id:1,content:t.jsx(n.IconText,{icon:t.jsx(B,{}),text:o("MyProfilePage.Incoming"),onClick:()=>r(e=>({...e,createdBy:"Incoming"}))})}];return s.useEffect(()=>{var e;x({page:a,per_page:25}),p(Number((e=P.list)==null?void 0:e.meta.last_page)),d()},[d,x,a,(u=P.list)==null?void 0:u.meta.last_page]),s.useEffect(()=>{i.value&&i.value.forEach(e=>g(e.course.id))},[i,g]),t.jsx(S,{title:o("MyProfilePage.MyTasks"),children:t.jsx(n.TaskComponent,{taskShowAction:{options:k,showDone:c.done},sortOptions:{options:C,type:c.sort},createBy:{options:I,type:c.createdBy},tasksPagination:{previousDisabled:y,nextDisabled:j,currentPage:a,lastPage:l,setCurrentPage:f}})})};export{v as default};
