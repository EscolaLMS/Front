function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/YouTube-DUKVb5Ge.js","assets/index-mArHxJMN.js","assets/index-CXYOEq_V.css","assets/SoundCloud-CJ6kZDal.js","assets/Vimeo-DUaWGA3P.js","assets/Mux-BFpZ2mOb.js","assets/Facebook-Diy-W4AL.js","assets/Streamable-D1-AfeK9.js","assets/Wistia-BM6_qdXx.js","assets/Twitch-fb2wwgWI.js","assets/DailyMotion-DRv3HMTt.js","assets/Mixcloud-C8jCDWf-.js","assets/Vidyard-CNydwCKO.js","assets/Kaltura-XFd6qILM.js","assets/FilePlayer-CVzXll1_.js","assets/Preview-BH0apt9h.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Br=Object.defineProperty;var Ur=(e,i,a)=>i in e?Br(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a;var Ut=(e,i,a)=>(Ur(e,typeof i!="symbol"?i+"":i,a),a),An=(e,i,a)=>{if(!i.has(e))throw TypeError("Cannot "+a)};var j=(e,i,a)=>(An(e,i,"read from private field"),a?a.call(e):i.get(e)),De=(e,i,a)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,a)},Qe=(e,i,a,o)=>(An(e,i,"write to private field"),o?o.call(e,a):i.set(e,a),a);var tn=(e,i,a,o)=>({set _(c){Qe(e,i,c,a)},get _(){return j(e,i,o)}}),Ne=(e,i,a)=>(An(e,i,"access private method"),a);import{d as commonjsGlobal,aD as api,H as react$1,a_ as require$$5,r as reactExports,a5 as require$$6$1,a2 as requireLib,j as jsxRuntimeExports,a$ as __vitePreload,c as getAugmentedNamespace,b0 as propTypesExports,b1 as require$$5$1,a as reactDomExports,a3 as require$$3,b2 as require$$9,b3 as clsx,b4 as tinyInvariant,a6 as utils$3,b5 as require$$2$2,s as ResponsiveImage,b6 as requireContext,aC as provider,S as Spin,aU as require$$0$1,aV as utils$4,b7 as require$$2$3,a4 as chromaExports,a9 as require$$1$1}from"./index-mArHxJMN.js";var lib$3={},__createBinding$l=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$l=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$l=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$l(i,e,a);return __setModuleDefault$l(i,e),i};Object.defineProperty(lib$3,"__esModule",{value:!0});lib$3.react=API_1=lib$3.API=void 0;var API=__importStar$l(api),API_1=lib$3.API=API,react=__importStar$l(react$1);lib$3.react=react;var OEmbedPlayer={},lib$2={exports:{}},concatMap,hasRequiredConcatMap;function requireConcatMap(){if(hasRequiredConcatMap)return concatMap;hasRequiredConcatMap=1,concatMap=function(i,a){for(var o=[],c=0;c<i.length;c++){var d=a(i[c],c);e(d)?o.push.apply(o,d):o.push(d)}return o};var e=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};return concatMap}var balancedMatch,hasRequiredBalancedMatch;function requireBalancedMatch(){if(hasRequiredBalancedMatch)return balancedMatch;hasRequiredBalancedMatch=1,balancedMatch=e;function e(o,c,d){o instanceof RegExp&&(o=i(o,d)),c instanceof RegExp&&(c=i(c,d));var h=a(o,c,d);return h&&{start:h[0],end:h[1],pre:d.slice(0,h[0]),body:d.slice(h[0]+o.length,h[1]),post:d.slice(h[1]+c.length)}}function i(o,c){var d=c.match(o);return d?d[0]:null}e.range=a;function a(o,c,d){var h,_,ee,f,g,he=d.indexOf(o),ge=d.indexOf(c,he+1),te=he;if(he>=0&&ge>0){if(o===c)return[he,ge];for(h=[],ee=d.length;te>=0&&!g;)te==he?(h.push(te),he=d.indexOf(o,te+1)):h.length==1?g=[h.pop(),ge]:(_=h.pop(),_<ee&&(ee=_,f=ge),ge=d.indexOf(c,te+1)),te=he<ge&&he>=0?he:ge;h.length&&(g=[ee,f])}return g}return balancedMatch}var braceExpansion,hasRequiredBraceExpansion;function requireBraceExpansion(){if(hasRequiredBraceExpansion)return braceExpansion;hasRequiredBraceExpansion=1;var e=requireConcatMap(),i=requireBalancedMatch();braceExpansion=he;var a="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",d="\0COMMA"+Math.random()+"\0",h="\0PERIOD"+Math.random()+"\0";function _(se){return parseInt(se,10)==se?parseInt(se,10):se.charCodeAt(0)}function ee(se){return se.split("\\\\").join(a).split("\\{").join(o).split("\\}").join(c).split("\\,").join(d).split("\\.").join(h)}function f(se){return se.split(a).join("\\").split(o).join("{").split(c).join("}").split(d).join(",").split(h).join(".")}function g(se){if(!se)return[""];var me=[],ue=i("{","}",se);if(!ue)return se.split(",");var ae=ue.pre,$=ue.body,ie=ue.post,we=ae.split(",");we[we.length-1]+="{"+$+"}";var de=g(ie);return ie.length&&(we[we.length-1]+=de.shift(),we.push.apply(we,de)),me.push.apply(me,we),me}function he(se){return se?(se.substr(0,2)==="{}"&&(se="\\{\\}"+se.substr(2)),q(ee(se),!0).map(f)):[]}function ge(se){return"{"+se+"}"}function te(se){return/^-?0\d/.test(se)}function re(se,me){return se<=me}function be(se,me){return se>=me}function q(se,me){var ue=[],ae=i("{","}",se);if(!ae||/\$$/.test(ae.pre))return[se];var $=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(ae.body),ie=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(ae.body),we=$||ie,de=ae.body.indexOf(",")>=0;if(!we&&!de)return ae.post.match(/,.*\}/)?(se=ae.pre+"{"+ae.body+c+ae.post,q(se)):[se];var m;if(we)m=ae.body.split(/\.\./);else if(m=g(ae.body),m.length===1&&(m=q(m[0],!1).map(ge),m.length===1)){var oe=ae.post.length?q(ae.post,!1):[""];return oe.map(function(ve){return ae.pre+m[0]+ve})}var _e=ae.pre,oe=ae.post.length?q(ae.post,!1):[""],Se;if(we){var Ee=_(m[0]),ye=_(m[1]),je=Math.max(m[0].length,m[1].length),Le=m.length==3?Math.abs(_(m[2])):1,xe=re,Te=ye<Ee;Te&&(Le*=-1,xe=be);var Re=m.some(te);Se=[];for(var Fe=Ee;xe(Fe,ye);Fe+=Le){var Ke;if(ie)Ke=String.fromCharCode(Fe),Ke==="\\"&&(Ke="");else if(Ke=String(Fe),Re){var tt=je-Ke.length;if(tt>0){var Pe=new Array(tt+1).join("0");Fe<0?Ke="-"+Pe+Ke.slice(1):Ke=Pe+Ke}}Se.push(Ke)}}else Se=e(m,function(le){return q(le,!1)});for(var ne=0;ne<Se.length;ne++)for(var fe=0;fe<oe.length;fe++){var b=_e+Se[ne]+oe[fe];(!me||we||b)&&ue.push(b)}return ue}return braceExpansion}var minimatch_1,hasRequiredMinimatch;function requireMinimatch(){if(hasRequiredMinimatch)return minimatch_1;hasRequiredMinimatch=1,minimatch_1=te,te.Minimatch=re;var e=function(){try{return require$$5}catch{}}()||{sep:"/"};te.sep=e.sep;var i=te.GLOBSTAR=re.GLOBSTAR={},a=requireBraceExpansion(),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",d=c+"*?",h="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_="(?:(?!(?:\\/|^)\\.).)*?",ee=f("().*{}+?[]^$\\!");function f(m){return m.split("").reduce(function(_e,oe){return _e[oe]=!0,_e},{})}var g=/\/+/;te.filter=he;function he(m,_e){return _e=_e||{},function(oe,Se,Ee){return te(oe,m,_e)}}function ge(m,_e){_e=_e||{};var oe={};return Object.keys(m).forEach(function(Se){oe[Se]=m[Se]}),Object.keys(_e).forEach(function(Se){oe[Se]=_e[Se]}),oe}te.defaults=function(m){if(!m||typeof m!="object"||!Object.keys(m).length)return te;var _e=te,oe=function(Ee,ye,je){return _e(Ee,ye,ge(m,je))};return oe.Minimatch=function(Ee,ye){return new _e.Minimatch(Ee,ge(m,ye))},oe.Minimatch.defaults=function(Ee){return _e.defaults(ge(m,Ee)).Minimatch},oe.filter=function(Ee,ye){return _e.filter(Ee,ge(m,ye))},oe.defaults=function(Ee){return _e.defaults(ge(m,Ee))},oe.makeRe=function(Ee,ye){return _e.makeRe(Ee,ge(m,ye))},oe.braceExpand=function(Ee,ye){return _e.braceExpand(Ee,ge(m,ye))},oe.match=function(Se,Ee,ye){return _e.match(Se,Ee,ge(m,ye))},oe},re.defaults=function(m){return te.defaults(m).Minimatch};function te(m,_e,oe){return ue(_e),oe||(oe={}),!oe.nocomment&&_e.charAt(0)==="#"?!1:new re(_e,oe).match(m)}function re(m,_e){if(!(this instanceof re))return new re(m,_e);ue(m),_e||(_e={}),m=m.trim(),!_e.allowWindowsEscape&&e.sep!=="/"&&(m=m.split(e.sep).join("/")),this.options=_e,this.set=[],this.pattern=m,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!_e.partial,this.make()}re.prototype.debug=function(){},re.prototype.make=be;function be(){var m=this.pattern,_e=this.options;if(!_e.nocomment&&m.charAt(0)==="#"){this.comment=!0;return}if(!m){this.empty=!0;return}this.parseNegate();var oe=this.globSet=this.braceExpand();_e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,oe),oe=this.globParts=oe.map(function(Se){return Se.split(g)}),this.debug(this.pattern,oe),oe=oe.map(function(Se,Ee,ye){return Se.map(this.parse,this)},this),this.debug(this.pattern,oe),oe=oe.filter(function(Se){return Se.indexOf(!1)===-1}),this.debug(this.pattern,oe),this.set=oe}re.prototype.parseNegate=q;function q(){var m=this.pattern,_e=!1,oe=this.options,Se=0;if(!oe.nonegate){for(var Ee=0,ye=m.length;Ee<ye&&m.charAt(Ee)==="!";Ee++)_e=!_e,Se++;Se&&(this.pattern=m.substr(Se)),this.negate=_e}}te.braceExpand=function(m,_e){return se(m,_e)},re.prototype.braceExpand=se;function se(m,_e){return _e||(this instanceof re?_e=this.options:_e={}),m=typeof m>"u"?this.pattern:m,ue(m),_e.nobrace||!/\{(?:(?!\{).)*\}/.test(m)?[m]:a(m)}var me=1024*64,ue=function(m){if(typeof m!="string")throw new TypeError("invalid pattern");if(m.length>me)throw new TypeError("pattern is too long")};re.prototype.parse=$;var ae={};function $(m,_e){ue(m);var oe=this.options;if(m==="**")if(oe.noglobstar)m="*";else return i;if(m==="")return"";var Se="",Ee=!!oe.nocase,ye=!1,je=[],Le=[],xe,Te=!1,Re=-1,Fe=-1,Ke=m.charAt(0)==="."?"":oe.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",tt=this;function Pe(){if(xe){switch(xe){case"*":Se+=d,Ee=!0;break;case"?":Se+=c,Ee=!0;break;default:Se+="\\"+xe;break}tt.debug("clearStateChar %j %j",xe,Se),xe=!1}}for(var ne=0,fe=m.length,b;ne<fe&&(b=m.charAt(ne));ne++){if(this.debug("%s	%s %s %j",m,ne,Se,b),ye&&ee[b]){Se+="\\"+b,ye=!1;continue}switch(b){case"/":return!1;case"\\":Pe(),ye=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",m,ne,Se,b),Te){this.debug("  in class"),b==="!"&&ne===Fe+1&&(b="^"),Se+=b;continue}tt.debug("call clearStateChar %j",xe),Pe(),xe=b,oe.noext&&Pe();continue;case"(":if(Te){Se+="(";continue}if(!xe){Se+="\\(";continue}je.push({type:xe,start:ne-1,reStart:Se.length,open:o[xe].open,close:o[xe].close}),Se+=xe==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",xe,Se),xe=!1;continue;case")":if(Te||!je.length){Se+="\\)";continue}Pe(),Ee=!0;var le=je.pop();Se+=le.close,le.type==="!"&&Le.push(le),le.reEnd=Se.length;continue;case"|":if(Te||!je.length||ye){Se+="\\|",ye=!1;continue}Pe(),Se+="|";continue;case"[":if(Pe(),Te){Se+="\\"+b;continue}Te=!0,Fe=ne,Re=Se.length,Se+=b;continue;case"]":if(ne===Fe+1||!Te){Se+="\\"+b,ye=!1;continue}var ve=m.substring(Fe+1,ne);try{RegExp("["+ve+"]")}catch{var Ae=this.parse(ve,ae);Se=Se.substr(0,Re)+"\\["+Ae[0]+"\\]",Ee=Ee||Ae[1],Te=!1;continue}Ee=!0,Te=!1,Se+=b;continue;default:Pe(),ye?ye=!1:ee[b]&&!(b==="^"&&Te)&&(Se+="\\"),Se+=b}}for(Te&&(ve=m.substr(Fe+1),Ae=this.parse(ve,ae),Se=Se.substr(0,Re)+"\\["+Ae[0],Ee=Ee||Ae[1]),le=je.pop();le;le=je.pop()){var Ce=Se.slice(le.reStart+le.open.length);this.debug("setting tail",Se,le),Ce=Ce.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(He,at,ft){return ft||(ft="\\"),at+at+ft+"|"}),this.debug(`tail=%j
   %s`,Ce,Ce,le,Se);var Oe=le.type==="*"?d:le.type==="?"?c:"\\"+le.type;Ee=!0,Se=Se.slice(0,le.reStart)+Oe+"\\("+Ce}Pe(),ye&&(Se+="\\\\");var Ge=!1;switch(Se.charAt(0)){case"[":case".":case"(":Ge=!0}for(var qe=Le.length-1;qe>-1;qe--){var Ue=Le[qe],Ze=Se.slice(0,Ue.reStart),it=Se.slice(Ue.reStart,Ue.reEnd-8),Je=Se.slice(Ue.reEnd-8,Ue.reEnd),nt=Se.slice(Ue.reEnd);Je+=nt;var ht=Ze.split("(").length-1,ot=nt;for(ne=0;ne<ht;ne++)ot=ot.replace(/\)[+*?]?/,"");nt=ot;var mt="";nt===""&&_e!==ae&&(mt="$");var st=Ze+it+nt+mt+Je;Se=st}if(Se!==""&&Ee&&(Se="(?=.)"+Se),Ge&&(Se=Ke+Se),_e===ae)return[Se,Ee];if(!Ee)return we(m);var Ve=oe.nocase?"i":"";try{var We=new RegExp("^"+Se+"$",Ve)}catch{return new RegExp("$.")}return We._glob=m,We._src=Se,We}te.makeRe=function(m,_e){return new re(m,_e||{}).makeRe()},re.prototype.makeRe=ie;function ie(){if(this.regexp||this.regexp===!1)return this.regexp;var m=this.set;if(!m.length)return this.regexp=!1,this.regexp;var _e=this.options,oe=_e.noglobstar?d:_e.dot?h:_,Se=_e.nocase?"i":"",Ee=m.map(function(ye){return ye.map(function(je){return je===i?oe:typeof je=="string"?de(je):je._src}).join("\\/")}).join("|");Ee="^(?:"+Ee+")$",this.negate&&(Ee="^(?!"+Ee+").*$");try{this.regexp=new RegExp(Ee,Se)}catch{this.regexp=!1}return this.regexp}te.match=function(m,_e,oe){oe=oe||{};var Se=new re(_e,oe);return m=m.filter(function(Ee){return Se.match(Ee)}),Se.options.nonull&&!m.length&&m.push(_e),m},re.prototype.match=function(_e,oe){if(typeof oe>"u"&&(oe=this.partial),this.debug("match",_e,this.pattern),this.comment)return!1;if(this.empty)return _e==="";if(_e==="/"&&oe)return!0;var Se=this.options;e.sep!=="/"&&(_e=_e.split(e.sep).join("/")),_e=_e.split(g),this.debug(this.pattern,"split",_e);var Ee=this.set;this.debug(this.pattern,"set",Ee);var ye,je;for(je=_e.length-1;je>=0&&(ye=_e[je],!ye);je--);for(je=0;je<Ee.length;je++){var Le=Ee[je],xe=_e;Se.matchBase&&Le.length===1&&(xe=[ye]);var Te=this.matchOne(xe,Le,oe);if(Te)return Se.flipNegate?!0:!this.negate}return Se.flipNegate?!1:this.negate},re.prototype.matchOne=function(m,_e,oe){var Se=this.options;this.debug("matchOne",{this:this,file:m,pattern:_e}),this.debug("matchOne",m.length,_e.length);for(var Ee=0,ye=0,je=m.length,Le=_e.length;Ee<je&&ye<Le;Ee++,ye++){this.debug("matchOne loop");var xe=_e[ye],Te=m[Ee];if(this.debug(_e,xe,Te),xe===!1)return!1;if(xe===i){this.debug("GLOBSTAR",[_e,xe,Te]);var Re=Ee,Fe=ye+1;if(Fe===Le){for(this.debug("** at the end");Ee<je;Ee++)if(m[Ee]==="."||m[Ee]===".."||!Se.dot&&m[Ee].charAt(0)===".")return!1;return!0}for(;Re<je;){var Ke=m[Re];if(this.debug(`
globstar while`,m,Re,_e,Fe,Ke),this.matchOne(m.slice(Re),_e.slice(Fe),oe))return this.debug("globstar found match!",Re,je,Ke),!0;if(Ke==="."||Ke===".."||!Se.dot&&Ke.charAt(0)==="."){this.debug("dot detected!",m,Re,_e,Fe);break}this.debug("globstar swallow a segment, and continue"),Re++}return!!(oe&&(this.debug(`
>>> no match, partial?`,m,Re,_e,Fe),Re===je))}var tt;if(typeof xe=="string"?(tt=Te===xe,this.debug("string match",xe,Te,tt)):(tt=Te.match(xe),this.debug("pattern match",xe,Te,tt)),!tt)return!1}if(Ee===je&&ye===Le)return!0;if(Ee===je)return oe;if(ye===Le)return Ee===je-1&&m[Ee]==="";throw new Error("wtf?")};function we(m){return m.replace(/\\(.)/g,"$1")}function de(m){return m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}return minimatch_1}var axios$1={exports:{}},bind,hasRequiredBind;function requireBind(){return hasRequiredBind||(hasRequiredBind=1,bind=function(i,a){return function(){for(var c=new Array(arguments.length),d=0;d<c.length;d++)c[d]=arguments[d];return i.apply(a,c)}}),bind}var utils$2,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var e=requireBind(),i=Object.prototype.toString;function a(de){return i.call(de)==="[object Array]"}function o(de){return typeof de>"u"}function c(de){return de!==null&&!o(de)&&de.constructor!==null&&!o(de.constructor)&&typeof de.constructor.isBuffer=="function"&&de.constructor.isBuffer(de)}function d(de){return i.call(de)==="[object ArrayBuffer]"}function h(de){return typeof FormData<"u"&&de instanceof FormData}function _(de){var m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(de):m=de&&de.buffer&&de.buffer instanceof ArrayBuffer,m}function ee(de){return typeof de=="string"}function f(de){return typeof de=="number"}function g(de){return de!==null&&typeof de=="object"}function he(de){if(i.call(de)!=="[object Object]")return!1;var m=Object.getPrototypeOf(de);return m===null||m===Object.prototype}function ge(de){return i.call(de)==="[object Date]"}function te(de){return i.call(de)==="[object File]"}function re(de){return i.call(de)==="[object Blob]"}function be(de){return i.call(de)==="[object Function]"}function q(de){return g(de)&&be(de.pipe)}function se(de){return typeof URLSearchParams<"u"&&de instanceof URLSearchParams}function me(de){return de.trim?de.trim():de.replace(/^\s+|\s+$/g,"")}function ue(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ae(de,m){if(!(de===null||typeof de>"u"))if(typeof de!="object"&&(de=[de]),a(de))for(var _e=0,oe=de.length;_e<oe;_e++)m.call(null,de[_e],_e,de);else for(var Se in de)Object.prototype.hasOwnProperty.call(de,Se)&&m.call(null,de[Se],Se,de)}function $(){var de={};function m(Se,Ee){he(de[Ee])&&he(Se)?de[Ee]=$(de[Ee],Se):he(Se)?de[Ee]=$({},Se):a(Se)?de[Ee]=Se.slice():de[Ee]=Se}for(var _e=0,oe=arguments.length;_e<oe;_e++)ae(arguments[_e],m);return de}function ie(de,m,_e){return ae(m,function(Se,Ee){_e&&typeof Se=="function"?de[Ee]=e(Se,_e):de[Ee]=Se}),de}function we(de){return de.charCodeAt(0)===65279&&(de=de.slice(1)),de}return utils$2={isArray:a,isArrayBuffer:d,isBuffer:c,isFormData:h,isArrayBufferView:_,isString:ee,isNumber:f,isObject:g,isPlainObject:he,isUndefined:o,isDate:ge,isFile:te,isBlob:re,isFunction:be,isStream:q,isURLSearchParams:se,isStandardBrowserEnv:ue,forEach:ae,merge:$,extend:ie,trim:me,stripBOM:we},utils$2}var buildURL,hasRequiredBuildURL;function requireBuildURL(){if(hasRequiredBuildURL)return buildURL;hasRequiredBuildURL=1;var e=requireUtils();function i(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return buildURL=function(o,c,d){if(!c)return o;var h;if(d)h=d(c);else if(e.isURLSearchParams(c))h=c.toString();else{var _=[];e.forEach(c,function(g,he){g===null||typeof g>"u"||(e.isArray(g)?he=he+"[]":g=[g],e.forEach(g,function(te){e.isDate(te)?te=te.toISOString():e.isObject(te)&&(te=JSON.stringify(te)),_.push(i(he)+"="+i(te))}))}),h=_.join("&")}if(h){var ee=o.indexOf("#");ee!==-1&&(o=o.slice(0,ee)),o+=(o.indexOf("?")===-1?"?":"&")+h}return o},buildURL}var InterceptorManager_1,hasRequiredInterceptorManager;function requireInterceptorManager(){if(hasRequiredInterceptorManager)return InterceptorManager_1;hasRequiredInterceptorManager=1;var e=requireUtils();function i(){this.handlers=[]}return i.prototype.use=function(o,c,d){return this.handlers.push({fulfilled:o,rejected:c,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(o){this.handlers[o]&&(this.handlers[o]=null)},i.prototype.forEach=function(o){e.forEach(this.handlers,function(d){d!==null&&o(d)})},InterceptorManager_1=i,InterceptorManager_1}var normalizeHeaderName,hasRequiredNormalizeHeaderName;function requireNormalizeHeaderName(){if(hasRequiredNormalizeHeaderName)return normalizeHeaderName;hasRequiredNormalizeHeaderName=1;var e=requireUtils();return normalizeHeaderName=function(a,o){e.forEach(a,function(d,h){h!==o&&h.toUpperCase()===o.toUpperCase()&&(a[o]=d,delete a[h])})},normalizeHeaderName}var enhanceError,hasRequiredEnhanceError;function requireEnhanceError(){return hasRequiredEnhanceError||(hasRequiredEnhanceError=1,enhanceError=function(i,a,o,c,d){return i.config=a,o&&(i.code=o),i.request=c,i.response=d,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}),enhanceError}var createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=requireEnhanceError();return createError=function(a,o,c,d,h){var _=new Error(a);return e(_,o,c,d,h)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(a,o,c){var d=c.config.validateStatus;!c.status||!d||d(c.status)?a(c):o(e("Request failed with status code "+c.status,c.config,null,c.request,c))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=requireUtils();return cookies=e.isStandardBrowserEnv()?function(){return{write:function(o,c,d,h,_,ee){var f=[];f.push(o+"="+encodeURIComponent(c)),e.isNumber(d)&&f.push("expires="+new Date(d).toGMTString()),e.isString(h)&&f.push("path="+h),e.isString(_)&&f.push("domain="+_),ee===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(o){var c=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(i,a){return a?i.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):i}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),i=requireCombineURLs();return buildFullPath=function(o,c){return o&&!e(c)?i(o,c):c},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=requireUtils(),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(o){var c={},d,h,_;return o&&e.forEach(o.split(`
`),function(f){if(_=f.indexOf(":"),d=e.trim(f.substr(0,_)).toLowerCase(),h=e.trim(f.substr(_+1)),d){if(c[d]&&i.indexOf(d)>=0)return;d==="set-cookie"?c[d]=(c[d]?c[d]:[]).concat([h]):c[d]=c[d]?c[d]+", "+h:h}}),c},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=requireUtils();return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var a=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),c;function d(h){var _=h;return a&&(o.setAttribute("href",_),_=o.href),o.setAttribute("href",_),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return c=d(window.location.href),function(_){var ee=e.isString(_)?d(_):_;return ee.protocol===c.protocol&&ee.host===c.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=requireUtils(),i=requireSettle(),a=requireCookies(),o=requireBuildURL(),c=requireBuildFullPath(),d=requireParseHeaders(),h=requireIsURLSameOrigin(),_=requireCreateError();return xhr=function(f){return new Promise(function(he,ge){var te=f.data,re=f.headers,be=f.responseType;e.isFormData(te)&&delete re["Content-Type"];var q=new XMLHttpRequest;if(f.auth){var se=f.auth.username||"",me=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";re.Authorization="Basic "+btoa(se+":"+me)}var ue=c(f.baseURL,f.url);q.open(f.method.toUpperCase(),o(ue,f.params,f.paramsSerializer),!0),q.timeout=f.timeout;function ae(){if(q){var ie="getAllResponseHeaders"in q?d(q.getAllResponseHeaders()):null,we=!be||be==="text"||be==="json"?q.responseText:q.response,de={data:we,status:q.status,statusText:q.statusText,headers:ie,config:f,request:q};i(he,ge,de),q=null}}if("onloadend"in q?q.onloadend=ae:q.onreadystatechange=function(){!q||q.readyState!==4||q.status===0&&!(q.responseURL&&q.responseURL.indexOf("file:")===0)||setTimeout(ae)},q.onabort=function(){q&&(ge(_("Request aborted",f,"ECONNABORTED",q)),q=null)},q.onerror=function(){ge(_("Network Error",f,null,q)),q=null},q.ontimeout=function(){var we="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(we=f.timeoutErrorMessage),ge(_(we,f,f.transitional&&f.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",q)),q=null},e.isStandardBrowserEnv()){var $=(f.withCredentials||h(ue))&&f.xsrfCookieName?a.read(f.xsrfCookieName):void 0;$&&(re[f.xsrfHeaderName]=$)}"setRequestHeader"in q&&e.forEach(re,function(we,de){typeof te>"u"&&de.toLowerCase()==="content-type"?delete re[de]:q.setRequestHeader(de,we)}),e.isUndefined(f.withCredentials)||(q.withCredentials=!!f.withCredentials),be&&be!=="json"&&(q.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&q.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&q.upload&&q.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(we){q&&(q.abort(),ge(we),q=null)}),te||(te=null),q.send(te)})},xhr}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=requireUtils(),i=requireNormalizeHeaderName(),a=requireEnhanceError(),o={"Content-Type":"application/x-www-form-urlencoded"};function c(ee,f){!e.isUndefined(ee)&&e.isUndefined(ee["Content-Type"])&&(ee["Content-Type"]=f)}function d(){var ee;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(ee=requireXhr()),ee}function h(ee,f,g){if(e.isString(ee))try{return(f||JSON.parse)(ee),e.trim(ee)}catch(he){if(he.name!=="SyntaxError")throw he}return(g||JSON.stringify)(ee)}var _={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:d(),transformRequest:[function(f,g){return i(g,"Accept"),i(g,"Content-Type"),e.isFormData(f)||e.isArrayBuffer(f)||e.isBuffer(f)||e.isStream(f)||e.isFile(f)||e.isBlob(f)?f:e.isArrayBufferView(f)?f.buffer:e.isURLSearchParams(f)?(c(g,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):e.isObject(f)||g&&g["Content-Type"]==="application/json"?(c(g,"application/json"),h(f)):f}],transformResponse:[function(f){var g=this.transitional,he=g&&g.silentJSONParsing,ge=g&&g.forcedJSONParsing,te=!he&&this.responseType==="json";if(te||ge&&e.isString(f)&&f.length)try{return JSON.parse(f)}catch(re){if(te)throw re.name==="SyntaxError"?a(re,this,"E_JSON_PARSE"):re}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300}};return _.headers={common:{Accept:"application/json, text/plain, */*"}},e.forEach(["delete","get","head"],function(f){_.headers[f]={}}),e.forEach(["post","put","patch"],function(f){_.headers[f]=e.merge(o)}),defaults_1=_,defaults_1}var transformData,hasRequiredTransformData;function requireTransformData(){if(hasRequiredTransformData)return transformData;hasRequiredTransformData=1;var e=requireUtils(),i=requireDefaults();return transformData=function(o,c,d){var h=this||i;return e.forEach(d,function(ee){o=ee.call(h,o,c)}),o},transformData}var isCancel,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel=function(i){return!!(i&&i.__CANCEL__)}),isCancel}var dispatchRequest,hasRequiredDispatchRequest;function requireDispatchRequest(){if(hasRequiredDispatchRequest)return dispatchRequest;hasRequiredDispatchRequest=1;var e=requireUtils(),i=requireTransformData(),a=requireIsCancel(),o=requireDefaults();function c(d){d.cancelToken&&d.cancelToken.throwIfRequested()}return dispatchRequest=function(h){c(h),h.headers=h.headers||{},h.data=i.call(h,h.data,h.headers,h.transformRequest),h.headers=e.merge(h.headers.common||{},h.headers[h.method]||{},h.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(f){delete h.headers[f]});var _=h.adapter||o.adapter;return _(h).then(function(f){return c(h),f.data=i.call(h,f.data,f.headers,h.transformResponse),f},function(f){return a(f)||(c(h),f&&f.response&&(f.response.data=i.call(h,f.response.data,f.response.headers,h.transformResponse))),Promise.reject(f)})},dispatchRequest}var mergeConfig,hasRequiredMergeConfig;function requireMergeConfig(){if(hasRequiredMergeConfig)return mergeConfig;hasRequiredMergeConfig=1;var e=requireUtils();return mergeConfig=function(a,o){o=o||{};var c={},d=["url","method","data"],h=["headers","auth","proxy","params"],_=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],ee=["validateStatus"];function f(te,re){return e.isPlainObject(te)&&e.isPlainObject(re)?e.merge(te,re):e.isPlainObject(re)?e.merge({},re):e.isArray(re)?re.slice():re}function g(te){e.isUndefined(o[te])?e.isUndefined(a[te])||(c[te]=f(void 0,a[te])):c[te]=f(a[te],o[te])}e.forEach(d,function(re){e.isUndefined(o[re])||(c[re]=f(void 0,o[re]))}),e.forEach(h,g),e.forEach(_,function(re){e.isUndefined(o[re])?e.isUndefined(a[re])||(c[re]=f(void 0,a[re])):c[re]=f(void 0,o[re])}),e.forEach(ee,function(re){re in o?c[re]=f(a[re],o[re]):re in a&&(c[re]=f(void 0,a[re]))});var he=d.concat(h).concat(_).concat(ee),ge=Object.keys(a).concat(Object.keys(o)).filter(function(re){return he.indexOf(re)===-1});return e.forEach(ge,g),c},mergeConfig}const name="axios",version="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}],require$$0={name,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize};var validator,hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1;var e=require$$0,i={};["object","boolean","number","function","string","symbol"].forEach(function(h,_){i[h]=function(f){return typeof f===h||"a"+(_<1?"n ":" ")+h}});var a={},o=e.version.split(".");function c(h,_){for(var ee=_?_.split("."):o,f=h.split("."),g=0;g<3;g++){if(ee[g]>f[g])return!0;if(ee[g]<f[g])return!1}return!1}i.transitional=function(_,ee,f){var g=ee&&c(ee);function he(ge,te){return"[Axios v"+e.version+"] Transitional option '"+ge+"'"+te+(f?". "+f:"")}return function(ge,te,re){if(_===!1)throw new Error(he(te," has been removed in "+ee));return g&&!a[te]&&(a[te]=!0,console.warn(he(te," has been deprecated since v"+ee+" and will be removed in the near future"))),_?_(ge,te,re):!0}};function d(h,_,ee){if(typeof h!="object")throw new TypeError("options must be an object");for(var f=Object.keys(h),g=f.length;g-- >0;){var he=f[g],ge=_[he];if(ge){var te=h[he],re=te===void 0||ge(te,he,h);if(re!==!0)throw new TypeError("option "+he+" must be "+re);continue}if(ee!==!0)throw Error("Unknown option "+he)}}return validator={isOlderVersion:c,assertOptions:d,validators:i},validator}var Axios_1,hasRequiredAxios$2;function requireAxios$2(){if(hasRequiredAxios$2)return Axios_1;hasRequiredAxios$2=1;var e=requireUtils(),i=requireBuildURL(),a=requireInterceptorManager(),o=requireDispatchRequest(),c=requireMergeConfig(),d=requireValidator(),h=d.validators;function _(ee){this.defaults=ee,this.interceptors={request:new a,response:new a}}return _.prototype.request=function(f){typeof f=="string"?(f=arguments[1]||{},f.url=arguments[0]):f=f||{},f=c(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var g=f.transitional;g!==void 0&&d.assertOptions(g,{silentJSONParsing:h.transitional(h.boolean,"1.0.0"),forcedJSONParsing:h.transitional(h.boolean,"1.0.0"),clarifyTimeoutError:h.transitional(h.boolean,"1.0.0")},!1);var he=[],ge=!0;this.interceptors.request.forEach(function(ae){typeof ae.runWhen=="function"&&ae.runWhen(f)===!1||(ge=ge&&ae.synchronous,he.unshift(ae.fulfilled,ae.rejected))});var te=[];this.interceptors.response.forEach(function(ae){te.push(ae.fulfilled,ae.rejected)});var re;if(!ge){var be=[o,void 0];for(Array.prototype.unshift.apply(be,he),be=be.concat(te),re=Promise.resolve(f);be.length;)re=re.then(be.shift(),be.shift());return re}for(var q=f;he.length;){var se=he.shift(),me=he.shift();try{q=se(q)}catch(ue){me(ue);break}}try{re=o(q)}catch(ue){return Promise.reject(ue)}for(;te.length;)re=re.then(te.shift(),te.shift());return re},_.prototype.getUri=function(f){return f=c(this.defaults,f),i(f.url,f.params,f.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(f){_.prototype[f]=function(g,he){return this.request(c(he||{},{method:f,url:g,data:(he||{}).data}))}}),e.forEach(["post","put","patch"],function(f){_.prototype[f]=function(g,he,ge){return this.request(c(ge||{},{method:f,url:g,data:he}))}}),Axios_1=_,Axios_1}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function e(i){this.message=i}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function i(a){if(typeof a!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(h){o=h});var c=this;a(function(h){c.reason||(c.reason=new e(h),o(c.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var o,c=new i(function(h){o=h});return{token:c,cancel:o}},CancelToken_1=i,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(i){return function(o){return i.apply(null,o)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){return hasRequiredIsAxiosError||(hasRequiredIsAxiosError=1,isAxiosError=function(i){return typeof i=="object"&&i.isAxiosError===!0}),isAxiosError}var hasRequiredAxios$1;function requireAxios$1(){if(hasRequiredAxios$1)return axios$1.exports;hasRequiredAxios$1=1;var e=requireUtils(),i=requireBind(),a=requireAxios$2(),o=requireMergeConfig(),c=requireDefaults();function d(_){var ee=new a(_),f=i(a.prototype.request,ee);return e.extend(f,a.prototype,ee),e.extend(f,ee),f}var h=d(c);return h.Axios=a,h.create=function(ee){return d(o(h.defaults,ee))},h.Cancel=requireCancel(),h.CancelToken=requireCancelToken(),h.isCancel=requireIsCancel(),h.all=function(ee){return Promise.all(ee)},h.spread=requireSpread(),h.isAxiosError=requireIsAxiosError(),axios$1.exports=h,axios$1.exports.default=h,axios$1.exports}var axios,hasRequiredAxios;function requireAxios(){return hasRequiredAxios||(hasRequiredAxios=1,axios=requireAxios$1()),axios}(function(e,i){(function(a,o){o(i,reactExports,requireMinimatch(),requireAxios())})(commonjsGlobal,function(a,o,c,d){function h(se){return se&&typeof se=="object"&&"default"in se?se:{default:se}}var _=h(o),ee=h(c),f=h(d),g=function(){return(g=Object.assign||function(se){for(var me,ue=1,ae=arguments.length;ue<ae;ue++)for(var $ in me=arguments[ue])Object.prototype.hasOwnProperty.call(me,$)&&(se[$]=me[$]);return se}).apply(this,arguments)};function he(se,me,ue,ae){return new(ue||(ue=Promise))(function($,ie){function we(_e){try{m(ae.next(_e))}catch(oe){ie(oe)}}function de(_e){try{m(ae.throw(_e))}catch(oe){ie(oe)}}function m(_e){var oe;_e.done?$(_e.value):(oe=_e.value,oe instanceof ue?oe:new ue(function(Se){Se(oe)})).then(we,de)}m((ae=ae.apply(se,me||[])).next())})}function ge(se,me){var ue,ae,$,ie,we={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return ie={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function de(m){return function(_e){return function(oe){if(ue)throw new TypeError("Generator is already executing.");for(;we;)try{if(ue=1,ae&&($=2&oe[0]?ae.return:oe[0]?ae.throw||(($=ae.return)&&$.call(ae),0):ae.next)&&!($=$.call(ae,oe[1])).done)return $;switch(ae=0,$&&(oe=[2&oe[0],$.value]),oe[0]){case 0:case 1:$=oe;break;case 4:return we.label++,{value:oe[1],done:!1};case 5:we.label++,ae=oe[1],oe=[0];continue;case 7:oe=we.ops.pop(),we.trys.pop();continue;default:if($=we.trys,!(($=$.length>0&&$[$.length-1])||oe[0]!==6&&oe[0]!==2)){we=0;continue}if(oe[0]===3&&(!$||oe[1]>$[0]&&oe[1]<$[3])){we.label=oe[1];break}if(oe[0]===6&&we.label<$[1]){we.label=$[1],$=oe;break}if($&&we.label<$[2]){we.label=$[2],we.ops.push(oe);break}$[2]&&we.ops.pop(),we.trys.pop();continue}oe=me.call(se,we)}catch(Se){oe=[6,Se],ae=0}finally{ue=$=0}if(5&oe[0])throw oe[1];return{value:oe[0]?oe[1]:void 0,done:!0}}([m,_e])}}}var te=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}];function re(se,me,ue){return he(this,void 0,void 0,function(){var ae,$,ie,we,de,m,_e;return ge(this,function(oe){switch(oe.label){case 0:if(ae=be(ue.url,me),$=ae.base_url,ie=ae.requestInterceptor,we=ae.responceInterceptor,de=ae.getResponce,!$)throw Error("Invalid url: cannot guess oembed endpoint");return $==="OVERRIDE"?[2,de==null?void 0:de(ue)]:(m=function(Se,Ee){Se.endsWith("/")&&(Se=Se.slice(0,-1));var ye=/\{format\}/gi;if(Se.match(ye)&&(Se=Se.replace(ye,"json")),!Ee)return Se;var je=/\{url\}/gi,Le=/\{raw_url\}/gi;return Ee.match(Le)?Ee.replace(Le,Se):Ee.match(je)?(Se=encodeURIComponent(Se),Ee.replace(je,Se)):(Ee.endsWith("/")&&(Ee=Ee.slice(0,-1)),Ee+"/"+Se)}($,se),_e=f.default.create(),ie&&_e.interceptors.request.use(ie),we&&_e.interceptors.response.use(we),[4,_e.get(m,{params:ue})]);case 1:return[2,oe.sent().data]}})})}function be(se,me){var ue,ae,$,ie;return(me=me||te).forEach(function(we){var de;we.endpoints.forEach(function(m){(function(_e,oe){var Se=!!oe.find(function(Ee){return ee.default(_e,Ee,{nocase:!0})});return Se||!!oe.find(function(Ee){return ee.default(_e,Ee.replace(/\*/g,"**"),{nocase:!0})})})(se,m.schemes)&&(de=m)}),de&&(ue=de.url,ae=we.requestInterceptor,$=we.responceInterceptor,ie=we.getResponce)}),{base_url:ue,requestInterceptor:ae,responceInterceptor:$,getResponce:ie}}function q(se,me,ue){var ae=[];o.useEffect(function(){var $=document.createElement("div");return $.innerHTML=se,$.querySelectorAll("script").forEach(function(ie){var we=document.createElement("script");Array.from(ie.attributes).forEach(function(de){de.nodeName!=="id"&&we.setAttribute(de.nodeName,de.nodeValue||"")}),we.innerHTML=ie.innerHTML,Object.entries(me||{}).forEach(function(de){var m=de[0],_e=de[1];we.setAttribute(m,_e)}),document.body.appendChild(we),ae=ae.concat(we)}),function(){ae.forEach(function(ie){document.body.removeChild(ie)}),ae=[]}},ue||[se])}a.default=function(se){var me=se.url,ue=se.proxy,ae=se.style,$=se.options,ie=se.providers,we=se.ImgComponent,de=se.LinkComponent,m=se.FallbackElement,_e=se.LoadingFallbackElement,oe=o.useState(void 0),Se=oe[0],Ee=oe[1],ye=o.useState("idle"),je=ye[0],Le=ye[1],xe=o.useState(""),Te=xe[0],Re=xe[1];q(Te,{defer:""}),o.useEffect(function(){je==="idle"&&function(){he(this,void 0,void 0,function(){var tt,Pe;return ge(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,2,,3]),Le("loading"),[4,re(ue,ie,g(g({url:me,maxwidth:700,maxheight:500,align:"center"},$),{format:"json"}))];case 1:if(!(tt=ne.sent()))throw Error("Nill embed responce");return Le("done"),Ee(tt),tt.html&&Re(tt.html),[3,3];case 2:return Pe=ne.sent(),console.error("Error",Pe),Le("error"),[3,3];case 3:return[2]}})})}()},[je]);var Fe,Ke=_.default.createElement("a",{href:me,target:"_blank",rel:"nofollow noreferrer noopener"},me);return Se&&!Se.html&&(Se.type==="photo"?Fe=we?_.default.createElement(we,{responce:Se}):_.default.createElement("img",{alt:"",src:Se.url}):Se.type==="link"&&(Fe=de?_.default.createElement(de,{responce:Se}):_.default.createElement("a",{href:me,target:"_blank",rel:"nofollow noreferrer noopener"},me))),je==="loading"||je==="idle"?_e||Ke:je==="error"?m||Ke:_.default.createElement("span",{style:ae,className:"__embed __embed_column"},Fe,Te&&_.default.createElement("span",{className:"__embed_column",dangerouslySetInnerHTML:{__html:Te}}),_.default.createElement("style",null,`.__embed {
    margin: auto;
    width: 100%;
    max-width: 700px;
} 
.__embed iframe {
    width: 100%;
    margin: auto;
}
.__embed img, .__embed video {
    width: 100%;
    margin: 0;
}
.__embed blockquote {
    margin: 0;
}
.__embed span {
    border: 0;
} 
.__embed_column {
    width: 100%;
    display: flex;
    flex-direction: column;
}`))},a.defaultProviders=te,a.getEndpoint=be,a.requestEmbed=re,a.useScript=q,Object.defineProperty(a,"__esModule",{value:!0})})})(lib$2,lib$2.exports);var libExports=lib$2.exports;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(q,se){return Object.defineProperty?Object.defineProperty(q,"raw",{value:se}):q.raw=se,q},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(q){for(var se,me=1,ue=arguments.length;me<ue;me++){se=arguments[me];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(q[ae]=se[ae])}return q},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(q,se,me,ue){ue===void 0&&(ue=me);var ae=Object.getOwnPropertyDescriptor(se,me);(!ae||("get"in ae?!se.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return se[me]}}),Object.defineProperty(q,ue,ae)}:function(q,se,me,ue){ue===void 0&&(ue=me),q[ue]=se[me]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(q,se){Object.defineProperty(q,"default",{enumerable:!0,value:se})}:function(q,se){q.default=se}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(q){if(q&&q.__esModule)return q;var se={};if(q!=null)for(var me in q)me!=="default"&&Object.prototype.hasOwnProperty.call(q,me)&&o(se,q,me);return c(se,q),se},h=commonjsGlobal&&commonjsGlobal.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(e,"__esModule",{value:!0}),e.OEmbedPlayer=void 0;var _=jsxRuntimeExports,ee=h(libExports),f=d(require$$6$1),g=requireLib(),he=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*","https://*.youtube.com/shorts/*","https://youtube.com/shorts/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}],ge=(0,f.default)("div")(re||(re=i([`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`],[`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`]))),te=function(q){var se=q.ratio,me=se===void 0?9/16:se,ue=q.className,ae=ue===void 0?"":ue;return(0,_.jsx)(ge,a({className:"wellms-component ".concat(ae)},{children:(0,_.jsx)(g.RatioBox,a({ratio:me},{children:(0,_.jsx)(ee.default,a({},q,{providers:he}))}))}))};e.OEmbedPlayer=te,e.default=(0,f.withTheme)((0,f.default)(e.OEmbedPlayer)(be||(be=i([""],[""]))));var re,be})(OEmbedPlayer);var AudioVideoPlayer={},loadScript=function(i,a,o){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof a=="function"&&(o=a,a={}),a=a||{},o=o||function(){},d.type=a.type||"text/javascript",d.charset=a.charset||"utf8",d.async="async"in a?!!a.async:!0,d.src=i,a.attrs&&setAttributes(d,a.attrs),a.text&&(d.text=""+a.text);var h="onload"in d?stdOnEnd:ieOnEnd;h(d,o),d.onload||stdOnEnd(d,o),c.appendChild(d)};function setAttributes(e,i){for(var a in i)e.setAttribute(a,i[a])}function stdOnEnd(e,i){e.onload=function(){this.onerror=this.onload=null,i(null,e)},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),e)}}function ieOnEnd(e,i){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,e))}}var isMergeableObject=function(i){return isNonNullObject(i)&&!isSpecial(i)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var i=Object.prototype.toString.call(e);return i==="[object RegExp]"||i==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,i){return i.clone!==!1&&i.isMergeableObject(e)?deepmerge(emptyTarget(e),e,i):e}function defaultArrayMerge(e,i,a){return e.concat(i).map(function(o){return cloneUnlessOtherwiseSpecified(o,a)})}function getMergeFunction(e,i){if(!i.customMerge)return deepmerge;var a=i.customMerge(e);return typeof a=="function"?a:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(i){return Object.propertyIsEnumerable.call(e,i)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,i){try{return i in e}catch{return!1}}function propertyIsUnsafe(e,i){return propertyIsOnObject(e,i)&&!(Object.hasOwnProperty.call(e,i)&&Object.propertyIsEnumerable.call(e,i))}function mergeObject(e,i,a){var o={};return a.isMergeableObject(e)&&getKeys(e).forEach(function(c){o[c]=cloneUnlessOtherwiseSpecified(e[c],a)}),getKeys(i).forEach(function(c){propertyIsUnsafe(e,c)||(propertyIsOnObject(e,c)&&a.isMergeableObject(i[c])?o[c]=getMergeFunction(c,a)(e[c],i[c],a):o[c]=cloneUnlessOtherwiseSpecified(i[c],a))}),o}function deepmerge(e,i,a){a=a||{},a.arrayMerge=a.arrayMerge||defaultArrayMerge,a.isMergeableObject=a.isMergeableObject||isMergeableObject,a.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var o=Array.isArray(i),c=Array.isArray(e),d=o===c;return d?o?a.arrayMerge(e,i,a):mergeObject(e,i,a):cloneUnlessOtherwiseSpecified(i,a)}deepmerge.all=function(i,a){if(!Array.isArray(i))throw new Error("first argument should be an array");return i.reduce(function(o,c){return deepmerge(o,c,a)},{})};var deepmerge_1=deepmerge,cjs$5=deepmerge_1,__create$4=Object.create,__defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__getProtoOf$4=Object.getPrototypeOf,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$6=(e,i)=>{for(var a in i)__defProp$6(e,a,{get:i[a],enumerable:!0})},__copyProps$6=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$6(i))!__hasOwnProp$6.call(e,c)&&c!==a&&__defProp$6(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$6(i,c))||o.enumerable});return e},__toESM$4=(e,i,a)=>(a=e!=null?__create$4(__getProtoOf$4(e)):{},__copyProps$6(i||!e||!e.__esModule?__defProp$6(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$6=e=>__copyProps$6(__defProp$6({},"__esModule",{value:!0}),e),utils_exports={};__export$6(utils_exports,{callPlayer:()=>callPlayer,getConfig:()=>getConfig,getSDK:()=>getSDK,isBlobUrl:()=>isBlobUrl,isMediaStream:()=>isMediaStream,lazy:()=>lazy,omit:()=>omit,parseEndTime:()=>parseEndTime,parseStartTime:()=>parseStartTime,queryString:()=>queryString,randomString:()=>randomString,supportsWebKitPresentationMode:()=>supportsWebKitPresentationMode});var utils$1=__toCommonJS$6(utils_exports),import_react$2=__toESM$4(reactExports),import_load_script=__toESM$4(loadScript),import_deepmerge$1=__toESM$4(cjs$5);const lazy=e=>import_react$2.default.lazy(async()=>{const i=await e();return typeof i.default=="function"?i:i.default}),MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(e,i){if(e instanceof Array)return;const a=e.match(i);if(a){const o=a[1];if(o.match(MATCH_START_STAMP))return parseTimeString(o);if(MATCH_NUMERIC.test(o))return parseInt(o)}}function parseTimeString(e){let i=0,a=MATCH_START_STAMP.exec(e);for(;a!==null;){const[,o,c]=a;c==="h"&&(i+=parseInt(o,10)*60*60),c==="m"&&(i+=parseInt(o,10)*60),c==="s"&&(i+=parseInt(o,10)),a=MATCH_START_STAMP.exec(e)}return i}function parseStartTime(e){return parseTimeParam(e,MATCH_START_QUERY)}function parseEndTime(e){return parseTimeParam(e,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(e){return Object.keys(e).map(i=>`${i}=${e[i]}`).join("&")}function getGlobal(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const requests={},getSDK=function(i,a,o=null,c=()=>!0,d=import_load_script.default){const h=getGlobal(a);return h&&c(h)?Promise.resolve(h):new Promise((_,ee)=>{if(requests[i]){requests[i].push({resolve:_,reject:ee});return}requests[i]=[{resolve:_,reject:ee}];const f=g=>{requests[i].forEach(he=>he.resolve(g))};if(o){const g=window[o];window[o]=function(){g&&g(),f(getGlobal(a))}}d(i,g=>{g?(requests[i].forEach(he=>he.reject(g)),requests[i]=null):o||f(getGlobal(a))})})};function getConfig(e,i){return(0,import_deepmerge$1.default)(i.config,e.config)}function omit(e,...i){const a=[].concat(...i),o={},c=Object.keys(e);for(const d of c)a.indexOf(d)===-1&&(o[d]=e[d]);return o}function callPlayer(e,...i){if(!this.player||!this.player[e]){let a=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c  `;return this.player?this.player[e]||(a+="The method was not available"):a+="The player was not available",console.warn(a,"font-weight: bold",""),null}return this.player[e](...i)}function isMediaStream(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function isBlobUrl(e){return/^blob:/.test(e)}function supportsWebKitPresentationMode(e=document.createElement("video")){const i=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&i}function enableStubOn(e){return e}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$5=(e,i)=>{for(var a in i)__defProp$5(e,a,{get:i[a],enumerable:!0})},__copyProps$5=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$5(i))!__hasOwnProp$5.call(e,c)&&c!==a&&__defProp$5(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$5(i,c))||o.enumerable});return e},__toCommonJS$5=e=>__copyProps$5(__defProp$5({},"__esModule",{value:!0}),e),patterns_exports={};__export$5(patterns_exports,{AUDIO_EXTENSIONS:()=>AUDIO_EXTENSIONS,DASH_EXTENSIONS:()=>DASH_EXTENSIONS,FLV_EXTENSIONS:()=>FLV_EXTENSIONS,HLS_EXTENSIONS:()=>HLS_EXTENSIONS,MATCH_URL_DAILYMOTION:()=>MATCH_URL_DAILYMOTION,MATCH_URL_FACEBOOK:()=>MATCH_URL_FACEBOOK,MATCH_URL_FACEBOOK_WATCH:()=>MATCH_URL_FACEBOOK_WATCH,MATCH_URL_KALTURA:()=>MATCH_URL_KALTURA,MATCH_URL_MIXCLOUD:()=>MATCH_URL_MIXCLOUD,MATCH_URL_MUX:()=>MATCH_URL_MUX,MATCH_URL_SOUNDCLOUD:()=>MATCH_URL_SOUNDCLOUD,MATCH_URL_STREAMABLE:()=>MATCH_URL_STREAMABLE,MATCH_URL_TWITCH_CHANNEL:()=>MATCH_URL_TWITCH_CHANNEL,MATCH_URL_TWITCH_VIDEO:()=>MATCH_URL_TWITCH_VIDEO,MATCH_URL_VIDYARD:()=>MATCH_URL_VIDYARD,MATCH_URL_VIMEO:()=>MATCH_URL_VIMEO,MATCH_URL_WISTIA:()=>MATCH_URL_WISTIA,MATCH_URL_YOUTUBE:()=>MATCH_URL_YOUTUBE,VIDEO_EXTENSIONS:()=>VIDEO_EXTENSIONS,canPlay:()=>canPlay});var patterns=__toCommonJS$5(patterns_exports),import_utils$3=utils$1;const MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/,MATCH_URL_MUX=/stream\.mux\.com\/(\w+)/,MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/,MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/,MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/,MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,HLS_EXTENSIONS=/\.(m3u8)($|\?)/i,DASH_EXTENSIONS=/\.(mpd)($|\?)/i,FLV_EXTENSIONS=/\.(flv)($|\?)/i,canPlayFile=e=>{if(e instanceof Array){for(const i of e)if(typeof i=="string"&&canPlayFile(i)||canPlayFile(i.src))return!0;return!1}return(0,import_utils$3.isMediaStream)(e)||(0,import_utils$3.isBlobUrl)(e)?!0:AUDIO_EXTENSIONS.test(e)||VIDEO_EXTENSIONS.test(e)||HLS_EXTENSIONS.test(e)||DASH_EXTENSIONS.test(e)||FLV_EXTENSIONS.test(e)},canPlay={youtube:e=>e instanceof Array?e.every(i=>MATCH_URL_YOUTUBE.test(i)):MATCH_URL_YOUTUBE.test(e),soundcloud:e=>MATCH_URL_SOUNDCLOUD.test(e)&&!AUDIO_EXTENSIONS.test(e),vimeo:e=>MATCH_URL_VIMEO.test(e)&&!VIDEO_EXTENSIONS.test(e)&&!HLS_EXTENSIONS.test(e),mux:e=>MATCH_URL_MUX.test(e),facebook:e=>MATCH_URL_FACEBOOK.test(e)||MATCH_URL_FACEBOOK_WATCH.test(e),streamable:e=>MATCH_URL_STREAMABLE.test(e),wistia:e=>MATCH_URL_WISTIA.test(e),twitch:e=>MATCH_URL_TWITCH_VIDEO.test(e)||MATCH_URL_TWITCH_CHANNEL.test(e),dailymotion:e=>MATCH_URL_DAILYMOTION.test(e),mixcloud:e=>MATCH_URL_MIXCLOUD.test(e),vidyard:e=>MATCH_URL_VIDYARD.test(e),kaltura:e=>MATCH_URL_KALTURA.test(e),file:canPlayFile};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$4=(e,i)=>{for(var a in i)__defProp$4(e,a,{get:i[a],enumerable:!0})},__copyProps$4=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$4(i))!__hasOwnProp$4.call(e,c)&&c!==a&&__defProp$4(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$4(i,c))||o.enumerable});return e},__toCommonJS$4=e=>__copyProps$4(__defProp$4({},"__esModule",{value:!0}),e),players_exports={};__export$4(players_exports,{default:()=>players_default});var players=__toCommonJS$4(players_exports),import_utils$2=utils$1,import_patterns=patterns,players_default=[{key:"youtube",name:"YouTube",canPlay:import_patterns.canPlay.youtube,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./YouTube-DUKVb5Ge.js").then(e=>e.Y),__vite__mapDeps([0,1,2])))},{key:"soundcloud",name:"SoundCloud",canPlay:import_patterns.canPlay.soundcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./SoundCloud-CJ6kZDal.js").then(e=>e.S),__vite__mapDeps([3,1,2])))},{key:"vimeo",name:"Vimeo",canPlay:import_patterns.canPlay.vimeo,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vimeo-DUaWGA3P.js").then(e=>e.V),__vite__mapDeps([4,1,2])))},{key:"mux",name:"Mux",canPlay:import_patterns.canPlay.mux,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mux-BFpZ2mOb.js").then(e=>e.M),__vite__mapDeps([5,1,2])))},{key:"facebook",name:"Facebook",canPlay:import_patterns.canPlay.facebook,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Facebook-Diy-W4AL.js").then(e=>e.F),__vite__mapDeps([6,1,2])))},{key:"streamable",name:"Streamable",canPlay:import_patterns.canPlay.streamable,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Streamable-D1-AfeK9.js").then(e=>e.S),__vite__mapDeps([7,1,2])))},{key:"wistia",name:"Wistia",canPlay:import_patterns.canPlay.wistia,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Wistia-BM6_qdXx.js").then(e=>e.W),__vite__mapDeps([8,1,2])))},{key:"twitch",name:"Twitch",canPlay:import_patterns.canPlay.twitch,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Twitch-fb2wwgWI.js").then(e=>e.T),__vite__mapDeps([9,1,2])))},{key:"dailymotion",name:"DailyMotion",canPlay:import_patterns.canPlay.dailymotion,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./DailyMotion-DRv3HMTt.js").then(e=>e.D),__vite__mapDeps([10,1,2])))},{key:"mixcloud",name:"Mixcloud",canPlay:import_patterns.canPlay.mixcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mixcloud-C8jCDWf-.js").then(e=>e.M),__vite__mapDeps([11,1,2])))},{key:"vidyard",name:"Vidyard",canPlay:import_patterns.canPlay.vidyard,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vidyard-CNydwCKO.js").then(e=>e.V),__vite__mapDeps([12,1,2])))},{key:"kaltura",name:"Kaltura",canPlay:import_patterns.canPlay.kaltura,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Kaltura-XFd6qILM.js").then(e=>e.K),__vite__mapDeps([13,1,2])))},{key:"file",name:"FilePlayer",canPlay:import_patterns.canPlay.file,canEnablePIP:e=>import_patterns.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,import_utils$2.supportsWebKitPresentationMode)())&&!import_patterns.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./FilePlayer-CVzXll1_.js").then(e=>e.F),__vite__mapDeps([14,1,2])))}],safeIsNaN=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function isEqual(e,i){return!!(e===i||safeIsNaN(e)&&safeIsNaN(i))}function areInputsEqual(e,i){if(e.length!==i.length)return!1;for(var a=0;a<e.length;a++)if(!isEqual(e[a],i[a]))return!1;return!0}function memoizeOne(e,i){i===void 0&&(i=areInputsEqual);var a,o=[],c,d=!1;function h(){for(var _=[],ee=0;ee<arguments.length;ee++)_[ee]=arguments[ee];return d&&a===this&&i(_,o)||(c=e.apply(this,_),d=!0,a=this,o=_),c}return h}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var a,o,c;if(Array.isArray(e)){if(a=e.length,a!=i.length)return!1;for(o=a;o--!==0;)if(!equal(e[o],i[o]))return!1;return!0}var d;if(hasMap&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(d=e.entries();!(o=d.next()).done;)if(!i.has(o.value[0]))return!1;for(d=e.entries();!(o=d.next()).done;)if(!equal(o.value[1],i.get(o.value[0])))return!1;return!0}if(hasSet&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(d=e.entries();!(o=d.next()).done;)if(!i.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if(a=e.length,a!=i.length)return!1;for(o=a;o--!==0;)if(e[o]!==i[o])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof i.valueOf=="function")return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof i.toString=="function")return e.toString()===i.toString();if(c=Object.keys(e),a=c.length,a!==Object.keys(i).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[o]))return!1;if(hasElementType&&e instanceof Element)return!1;for(o=a;o--!==0;)if(!((c[o]==="_owner"||c[o]==="__v"||c[o]==="__o")&&e.$$typeof)&&!equal(e[c[o]],i[c[o]]))return!1;return!0}return e!==e&&i!==i}var reactFastCompare=function(i,a){try{return equal(i,a)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}},__create$3=Object.create,__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__getProtoOf$3=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$3=(e,i)=>{for(var a in i)__defProp$3(e,a,{get:i[a],enumerable:!0})},__copyProps$3=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$3(i))!__hasOwnProp$3.call(e,c)&&c!==a&&__defProp$3(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$3(i,c))||o.enumerable});return e},__toESM$3=(e,i,a)=>(a=e!=null?__create$3(__getProtoOf$3(e)):{},__copyProps$3(i||!e||!e.__esModule?__defProp$3(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$3=e=>__copyProps$3(__defProp$3({},"__esModule",{value:!0}),e),props_exports={};__export$3(props_exports,{defaultProps:()=>defaultProps,propTypes:()=>propTypes$1});var props=__toCommonJS$3(props_exports),import_prop_types=__toESM$3(propTypesExports);const{string,bool,number,array,oneOfType,shape,object,func,node}=import_prop_types.default,propTypes$1={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,previewAriaLabel:string,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),mux:shape({attributes:object,version:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDisableHls:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onPlaybackQualityChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func},noop=()=>{},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop,onStart:noop,onPlay:noop,onPause:noop,onBuffer:noop,onBufferEnd:noop,onEnded:noop,onError:noop,onDuration:noop,onSeek:noop,onPlaybackRateChange:noop,onPlaybackQualityChange:noop,onProgress:noop,onClickPreview:noop,onEnablePIP:noop,onDisablePIP:noop};var __create$2=Object.create,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__getProtoOf$2=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__defNormalProp$1=(e,i,a)=>i in e?__defProp$2(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,__export$2=(e,i)=>{for(var a in i)__defProp$2(e,a,{get:i[a],enumerable:!0})},__copyProps$2=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$2(i))!__hasOwnProp$2.call(e,c)&&c!==a&&__defProp$2(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$2(i,c))||o.enumerable});return e},__toESM$2=(e,i,a)=>(a=e!=null?__create$2(__getProtoOf$2(e)):{},__copyProps$2(i||!e||!e.__esModule?__defProp$2(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$2=e=>__copyProps$2(__defProp$2({},"__esModule",{value:!0}),e),__publicField$1=(e,i,a)=>(__defNormalProp$1(e,typeof i!="symbol"?i+"":i,a),a),Player_exports={};__export$2(Player_exports,{default:()=>Player});var Player_1=__toCommonJS$2(Player_exports),import_react$1=__toESM$2(reactExports),import_react_fast_compare$1=__toESM$2(reactFastCompare),import_props$1=props,import_utils$1=utils$1;const SEEK_ON_PLAY_EXPIRY=5e3;class Player extends import_react$1.Component{constructor(){super(...arguments),__publicField$1(this,"mounted",!1),__publicField$1(this,"isReady",!1),__publicField$1(this,"isPlaying",!1),__publicField$1(this,"isLoading",!0),__publicField$1(this,"loadOnReady",null),__publicField$1(this,"startOnPlay",!0),__publicField$1(this,"seekOnPlay",null),__publicField$1(this,"onDurationCalled",!1),__publicField$1(this,"handlePlayerMount",i=>{if(this.player){this.progress();return}this.player=i,this.player.load(this.props.url),this.progress()}),__publicField$1(this,"getInternalPlayer",i=>this.player?this.player[i]:null),__publicField$1(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const i=this.getCurrentTime()||0,a=this.getSecondsLoaded(),o=this.getDuration();if(o){const c={playedSeconds:i,played:i/o};a!==null&&(c.loadedSeconds=a,c.loaded=a/o),(c.playedSeconds!==this.prevPlayed||c.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(c),this.prevPlayed=c.playedSeconds,this.prevLoaded=c.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),__publicField$1(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:i,playing:a,volume:o,muted:c}=this.props;i(),!c&&o!==null&&this.player.setVolume(o),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):a&&this.player.play(),this.handleDurationCheck()}),__publicField$1(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:i,onPlay:a,playbackRate:o}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&o!==1&&this.player.setPlaybackRate(o),i(),this.startOnPlay=!1),a(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),__publicField$1(this,"handlePause",i=>{this.isPlaying=!1,this.isLoading||this.props.onPause(i)}),__publicField$1(this,"handleEnded",()=>{const{activePlayer:i,loop:a,onEnded:o}=this.props;i.loopOnEnded&&a&&this.seekTo(0),a||(this.isPlaying=!1,o())}),__publicField$1(this,"handleError",(...i)=>{this.isLoading=!1,this.props.onError(...i)}),__publicField$1(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const i=this.getDuration();i?this.onDurationCalled||(this.props.onDuration(i),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),__publicField$1(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(i){if(!this.player)return;const{url:a,playing:o,volume:c,muted:d,playbackRate:h,pip:_,loop:ee,activePlayer:f,disableDeferredLoading:g}=this.props;if(!(0,import_react_fast_compare$1.default)(i.url,a)){if(this.isLoading&&!f.forceLoad&&!g&&!(0,import_utils$1.isMediaStream)(a)){console.warn(`ReactPlayer: the attempt to load ${a} is being deferred until the player has loaded`),this.loadOnReady=a;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(a,this.isReady)}!i.playing&&o&&!this.isPlaying&&this.player.play(),i.playing&&!o&&this.isPlaying&&this.player.pause(),!i.pip&&_&&this.player.enablePIP&&this.player.enablePIP(),i.pip&&!_&&this.player.disablePIP&&this.player.disablePIP(),i.volume!==c&&c!==null&&this.player.setVolume(c),i.muted!==d&&(d?this.player.mute():(this.player.unmute(),c!==null&&setTimeout(()=>this.player.setVolume(c)))),i.playbackRate!==h&&this.player.setPlaybackRate&&this.player.setPlaybackRate(h),i.loop!==ee&&this.player.setLoop&&this.player.setLoop(ee)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(i,a,o){if(!this.isReady){i!==0&&(this.seekOnPlay=i,setTimeout(()=>{this.seekOnPlay=null},SEEK_ON_PLAY_EXPIRY));return}if(a?a==="fraction":i>0&&i<1){const d=this.player.getDuration();if(!d){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(d*i,o);return}this.player.seekTo(i,o)}render(){const i=this.props.activePlayer;return i?import_react$1.default.createElement(i,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}__publicField$1(Player,"displayName","Player");__publicField$1(Player,"propTypes",import_props$1.propTypes);__publicField$1(Player,"defaultProps",import_props$1.defaultProps);var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__defNormalProp=(e,i,a)=>i in e?__defProp$1(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,__export$1=(e,i)=>{for(var a in i)__defProp$1(e,a,{get:i[a],enumerable:!0})},__copyProps$1=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$1(i))!__hasOwnProp$1.call(e,c)&&c!==a&&__defProp$1(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$1(i,c))||o.enumerable});return e},__toESM$1=(e,i,a)=>(a=e!=null?__create$1(__getProtoOf$1(e)):{},__copyProps$1(i||!e||!e.__esModule?__defProp$1(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$1=e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),e),__publicField=(e,i,a)=>(__defNormalProp(e,typeof i!="symbol"?i+"":i,a),a),ReactPlayer_exports={};__export$1(ReactPlayer_exports,{createReactPlayer:()=>createReactPlayer});var ReactPlayer=__toCommonJS$1(ReactPlayer_exports),import_react=__toESM$1(reactExports),import_deepmerge=__toESM$1(cjs$5),import_memoize_one=__toESM$1(require$$2$1),import_react_fast_compare=__toESM$1(reactFastCompare),import_props=props,import_utils=utils$1,import_Player=__toESM$1(Player_1);const Preview=(0,import_utils.lazy)(()=>__vitePreload(()=>import("./Preview-BH0apt9h.js").then(e=>e.P),__vite__mapDeps([15,1,2]))),IS_BROWSER=typeof window<"u"&&window.document&&typeof document<"u",IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(import_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?import_react.Suspense:()=>null,customPlayers=[],createReactPlayer=(e,i)=>{var a;return a=class extends import_react.Component{constructor(){super(...arguments),__publicField(this,"state",{showPreview:!!this.props.light}),__publicField(this,"references",{wrapper:o=>{this.wrapper=o},player:o=>{this.player=o}}),__publicField(this,"handleClickPreview",o=>{this.setState({showPreview:!1}),this.props.onClickPreview(o)}),__publicField(this,"showPreview",()=>{this.setState({showPreview:!0})}),__publicField(this,"getDuration",()=>this.player?this.player.getDuration():null),__publicField(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),__publicField(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),__publicField(this,"getInternalPlayer",(o="player")=>this.player?this.player.getInternalPlayer(o):null),__publicField(this,"seekTo",(o,c,d)=>{if(!this.player)return null;this.player.seekTo(o,c,d)}),__publicField(this,"handleReady",()=>{this.props.onReady(this)}),__publicField(this,"getActivePlayer",(0,import_memoize_one.default)(o=>{for(const c of[...customPlayers,...e])if(c.canPlay(o))return c;return i||null})),__publicField(this,"getConfig",(0,import_memoize_one.default)((o,c)=>{const{config:d}=this.props;return import_deepmerge.default.all([import_props.defaultProps.config,import_props.defaultProps.config[c]||{},d,d[c]||{}])})),__publicField(this,"getAttributes",(0,import_memoize_one.default)(o=>(0,import_utils.omit)(this.props,SUPPORTED_PROPS))),__publicField(this,"renderActivePlayer",o=>{if(!o)return null;const c=this.getActivePlayer(o);if(!c)return null;const d=this.getConfig(o,c.key);return import_react.default.createElement(import_Player.default,{...this.props,key:c.key,ref:this.references.player,config:d,activePlayer:c.lazyPlayer||c,onReady:this.handleReady})})}shouldComponentUpdate(o,c){return!(0,import_react_fast_compare.default)(this.props,o)||!(0,import_react_fast_compare.default)(this.state,c)}componentDidUpdate(o){const{light:c}=this.props;!o.light&&c&&this.setState({showPreview:!0}),o.light&&!c&&this.setState({showPreview:!1})}renderPreview(o){if(!o)return null;const{light:c,playIcon:d,previewTabIndex:h,oEmbedUrl:_,previewAriaLabel:ee}=this.props;return import_react.default.createElement(Preview,{url:o,light:c,playIcon:d,previewTabIndex:h,previewAriaLabel:ee,oEmbedUrl:_,onClick:this.handleClickPreview})}render(){const{url:o,style:c,width:d,height:h,fallback:_,wrapper:ee}=this.props,{showPreview:f}=this.state,g=this.getAttributes(o),he=typeof ee=="string"?this.references.wrapper:void 0;return import_react.default.createElement(ee,{ref:he,style:{...c,width:d,height:h},...g},import_react.default.createElement(UniversalSuspense,{fallback:_},f?this.renderPreview(o):this.renderActivePlayer(o)))}},__publicField(a,"displayName","ReactPlayer"),__publicField(a,"propTypes",import_props.propTypes),__publicField(a,"defaultProps",import_props.defaultProps),__publicField(a,"addCustomPlayer",o=>{customPlayers.push(o)}),__publicField(a,"removeCustomPlayers",()=>{customPlayers.length=0}),__publicField(a,"canPlay",o=>{for(const c of[...customPlayers,...e])if(c.canPlay(o))return!0;return!1}),__publicField(a,"canEnablePIP",o=>{for(const c of[...customPlayers,...e])if(c.canEnablePIP&&c.canEnablePIP(o))return!0;return!1}),a};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,i)=>{for(var a in i)__defProp(e,a,{get:i[a],enumerable:!0})},__copyProps=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames(i))!__hasOwnProp.call(e,c)&&c!==a&&__defProp(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc(i,c))||o.enumerable});return e},__toESM=(e,i,a)=>(a=e!=null?__create(__getProtoOf(e)):{},__copyProps(i||!e||!e.__esModule?__defProp(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{default:()=>src_default});var lib$1=__toCommonJS(src_exports),import_players=__toESM(players),import_ReactPlayer=ReactPlayer;const fallback=import_players.default[import_players.default.length-1];var src_default=(0,import_ReactPlayer.createReactPlayer)(import_players.default,fallback);const methodMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],nativeAPI=(()=>{const e=methodMap[0],i={};for(const a of methodMap)if((a==null?void 0:a[1])in document){for(const[c,d]of a.entries())i[e[c]]=d;return i}return!1})(),eventNameMap={change:nativeAPI.fullscreenchange,error:nativeAPI.fullscreenerror};let screenfull={request(e=document.documentElement,i){return new Promise((a,o)=>{const c=()=>{screenfull.off("change",c),a()};screenfull.on("change",c);const d=e[nativeAPI.requestFullscreen](i);d instanceof Promise&&d.then(c).catch(o)})},exit(){return new Promise((e,i)=>{if(!screenfull.isFullscreen){e();return}const a=()=>{screenfull.off("change",a),e()};screenfull.on("change",a);const o=document[nativeAPI.exitFullscreen]();o instanceof Promise&&o.then(a).catch(i)})},toggle(e,i){return screenfull.isFullscreen?screenfull.exit():screenfull.request(e,i)},onchange(e){screenfull.on("change",e)},onerror(e){screenfull.on("error",e)},on(e,i){const a=eventNameMap[e];a&&document.addEventListener(a,i,!1)},off(e,i){const a=eventNameMap[e];a&&document.removeEventListener(a,i,!1)},raw:nativeAPI};Object.defineProperties(screenfull,{isFullscreen:{get:()=>!!document[nativeAPI.fullscreenElement]},element:{enumerable:!0,get:()=>document[nativeAPI.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[nativeAPI.fullscreenEnabled]}});nativeAPI||(screenfull={isEnabled:!1});const screenfull$1=screenfull,screenfull$2=Object.freeze(Object.defineProperty({__proto__:null,default:screenfull$1},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(screenfull$2);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(Re,Fe){return Object.defineProperty?Object.defineProperty(Re,"raw",{value:Fe}):Re.raw=Fe,Re},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(Re){for(var Fe,Ke=1,tt=arguments.length;Ke<tt;Ke++){Fe=arguments[Ke];for(var Pe in Fe)Object.prototype.hasOwnProperty.call(Fe,Pe)&&(Re[Pe]=Fe[Pe])}return Re},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Re,Fe,Ke,tt){tt===void 0&&(tt=Ke);var Pe=Object.getOwnPropertyDescriptor(Fe,Ke);(!Pe||("get"in Pe?!Fe.__esModule:Pe.writable||Pe.configurable))&&(Pe={enumerable:!0,get:function(){return Fe[Ke]}}),Object.defineProperty(Re,tt,Pe)}:function(Re,Fe,Ke,tt){tt===void 0&&(tt=Ke),Re[tt]=Fe[Ke]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Re,Fe){Object.defineProperty(Re,"default",{enumerable:!0,value:Fe})}:function(Re,Fe){Re.default=Fe}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(Re){if(Re&&Re.__esModule)return Re;var Fe={};if(Re!=null)for(var Ke in Re)Ke!=="default"&&Object.prototype.hasOwnProperty.call(Re,Ke)&&o(Fe,Re,Ke);return c(Fe,Re),Fe},h=commonjsGlobal&&commonjsGlobal.__importDefault||function(Re){return Re&&Re.__esModule?Re:{default:Re}};Object.defineProperty(e,"__esModule",{value:!0}),e.AudioVideoPlayer=void 0;var _=jsxRuntimeExports,ee=d(reactExports),f=d(require$$6$1),g=h(lib$1),he=requireLib(),ge=h(require$$5$1),te=h(require$$6),re=reactDomExports,be=require$$3,q=require$$9,se={ready:!1,playing:!0,progress:{played:0,playedSeconds:0,loaded:0,loadedSeconds:0},duration:0,volume:.8,controls:!1,playbackRate:1,level:0,quality:0,error:!1,muted:!0},me=(0,f.default)("div")(Le||(Le=i([`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`],[`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`])),function(Re){return Re.audio&&Re.light&&"url(".concat(Re.light,") no-repeat center / cover")},function(Re){return!Re.audio&&`
  &:hover {
    .video-player-controls {
      opacity: 1;
    }
  }`},function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.controls?"120px":"20px"},function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.controls?"0":""},function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.controls?"0":""},function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.controls?"rgba(0, 0, 0, 0.5)":"transparent"},function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.ready?"opacity 0.3s":"none"},function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.playing?Re.audio?1:0:1},function(Re){var Fe=Re.theme;return Fe.white}),ue=(0,f.default)("div")(xe||(xe=i([`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`],[`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`])),function(Re){var Fe;return!((Fe=Re.state)===null||Fe===void 0)&&Fe.playing?Re.audio?1:0:1},function(Re){var Fe=Re.theme;return"linear-gradient(".concat(Fe.primaryColor,", ").concat(Fe.primaryColor,")")},function(Re){var Fe=Re.theme;return Fe.white},function(Re){var Fe=Re.theme;return Fe.white},function(Re){var Fe=Re.theme;return Fe.white},function(Re){var Fe=Re.theme;return Fe.white}),ae=function(){return(0,_.jsxs)("svg",a({width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M33 65C50.6731 65 65 50.6731 65 33C65 15.3269 50.6731 1 33 1C15.3269 1 1 15.3269 1 33C1 50.6731 15.3269 65 33 65Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M26.6016 20.2L45.8016 33L26.6016 45.8V20.2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},$=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsxs)("g",a({clipPath:"url(#clip0_379_22702)"},{children:[(0,_.jsx)("path",{d:"M1.04688 4V10H7.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M3.55687 15.0004C4.20527 16.8408 5.43421 18.4206 7.05853 19.5018C8.68285 20.583 10.6146 21.107 12.5626 20.9949C14.5106 20.8828 16.3695 20.1406 17.859 18.8802C19.3486 17.6198 20.3881 15.9094 20.8211 14.0068C21.2541 12.1042 21.057 10.1124 20.2595 8.33154C19.462 6.55068 18.1074 5.07723 16.3997 4.1332C14.692 3.18917 12.7238 2.8257 10.7916 3.09755C8.85933 3.36941 7.06779 4.26186 5.68687 5.64044L1.04688 10.0004",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",a({id:"clip0_379_22702"},{children:(0,_.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},ie=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M10.0469 4H6.04688V20H10.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M18.0469 4H14.0469V20H18.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},we=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M12.0469 22C17.5697 22 22.0469 17.5228 22.0469 12C22.0469 6.47715 17.5697 2 12.0469 2C6.52403 2 2.04688 6.47715 2.04688 12C2.04688 17.5228 6.52403 22 12.0469 22Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M10.0469 8L16.0469 12L10.0469 16V8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},de=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsxs)("g",a({clipPath:"url(#clip0_379_22706)"},{children:[(0,_.jsx)("path",{d:"M23.0469 4V10H17.0469",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M20.5368 15C19.8867 16.8399 18.6563 18.4187 17.0309 19.4985C15.4055 20.5783 13.4732 21.1006 11.5252 20.9866C9.57714 20.8726 7.71891 20.1286 6.23051 18.8667C4.74211 17.6047 3.70418 15.8932 3.27312 13.9901C2.84206 12.0869 3.04123 10.0952 3.84062 8.31508C4.64 6.53496 5.99629 5.06288 7.70511 4.12065C9.41392 3.17843 11.3827 2.81711 13.3147 3.09116C15.2467 3.3652 17.0374 4.25975 18.4168 5.64001L23.0468 10",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",a({id:"clip0_379_22706"},{children:(0,_.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},m=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M19.1159 4.92969C20.9906 6.80496 22.0438 9.34805 22.0438 11.9997C22.0438 14.6513 20.9906 17.1944 19.1159 19.0697M15.5859 8.45969C16.5233 9.39733 17.0499 10.6689 17.0499 11.9947C17.0499 13.3205 16.5233 14.592 15.5859 15.5297",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},_e=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsxs)("g",a({clipPath:"url(#clip0_379_22723)"},{children:[(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M23.0469 9L17.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M17.0469 9L23.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",a({id:"clip0_379_22723"},{children:(0,_.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},oe=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M15.5859 8.45996C16.5233 9.3976 17.0499 10.6691 17.0499 11.995C17.0499 13.3208 16.5233 14.5923 15.5859 15.53",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},Se=function(){return(0,_.jsx)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},Ee=function(){return(0,_.jsx)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,_.jsx)("path",{d:"M8.04688 3H5.04688C4.51644 3 4.00773 3.21071 3.63266 3.58579C3.25759 3.96086 3.04688 4.46957 3.04688 5V8M21.0469 8V5C21.0469 4.46957 20.8362 3.96086 20.4611 3.58579C20.086 3.21071 19.5773 3 19.0469 3H16.0469M16.0469 21H19.0469C19.5773 21 20.086 20.7893 20.4611 20.4142C20.8362 20.0391 21.0469 19.5304 21.0469 19V16M3.04688 16V19C3.04688 19.5304 3.25759 20.0391 3.63266 20.4142C4.00773 20.7893 4.51644 21 5.04688 21H8.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},ye=function(Re){var Fe=Re.state,Ke=Fe===void 0?se:Fe,tt=Re.onSeek,Pe=Re.onToggle,ne=Re.onVolume,fe=Re.onFullscreen,b=function(Ae,Ce){return{backgroundSize:"".concat(Ae*100/Ce,"% 100%")}},le=function(){return Ke.volume===0?(0,_.jsx)(_e,{}):Ke.volume<.3?(0,_.jsx)(Se,{}):Ke.volume<.6?(0,_.jsx)(oe,{}):(0,_.jsx)(m,{})},ve=function(){ne&&ne(Ke.volume===0?se.volume:0)};return(0,_.jsx)(ue,a({},Re,{className:"video-player-controls"},{children:(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{"aria-label":(0,q.t)("VideoPlayer.Progress"),onChange:function(Ae){return tt&&tt(Ae.target.valueAsNumber)},type:"range",className:"input-seek",min:0,max:Ke.duration,value:Ke.progress.playedSeconds,style:b(Ke.progress.playedSeconds,Ke.duration)}),(0,_.jsxs)("div",a({className:"controls-group"},{children:[(0,_.jsxs)("div",a({className:"controls-left"},{children:[(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsxs)("button",a({type:"button",title:(0,q.t)("VideoPlayer.SeekBackward"),onClick:function(){var Ae=Ke.progress.playedSeconds-10;Ae<=Ke.duration&&tt&&tt(Ae)}},{children:[(0,_.jsx)($,{}),(0,_.jsx)(he.Text,a({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsx)("button",a({type:"button",title:(0,q.t)(Ke.playing?"VideoPlayer.Pause":"VideoPlayer.Play"),onClick:function(){return Pe&&Pe()}},{children:Ke.playing?(0,_.jsx)(ie,{}):(0,_.jsx)(we,{})}))})),(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsxs)("button",a({title:(0,q.t)("VideoPlayer.SeekForward"),type:"button",onClick:function(){var Ae=Ke.progress.playedSeconds+10;Ae<=Ke.duration&&tt&&tt(Ae)}},{children:[(0,_.jsx)(de,{}),(0,_.jsx)(he.Text,a({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,_.jsxs)("div",a({className:"control-button control-button-volume"},{children:[(0,_.jsx)("button",a({type:"button",title:(0,q.t)(Ke.volume===0?"VideoPlayer.Unmute":"VideoPlayer.Mute"),onClick:function(){return ve()}},{children:le()})),(0,_.jsx)("input",{onChange:function(Ae){return ne&&ne(Ae.target.valueAsNumber)},"aria-label":(0,q.t)("VideoPlayer.Progress"),type:"range",min:0,max:.999999,value:Ke.volume,step:"any",className:"input-volume",style:b(Ke.volume,.999999)}),(0,_.jsxs)(he.Text,a({noMargin:!0,size:14,style:{color:"white"}},{children:[(0,ge.default)(Ke.progress.playedSeconds*1e3,"mm:ss")," /"," ",(0,ge.default)(Ke.duration*1e3,"mm:ss")]}))]}))]})),(0,_.jsxs)("div",a({className:"controls-right"},{children:[(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsx)(he.Dropdown,{options:[{label:"1x",value:"1.0"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2.0"}],placeholder:"".concat(Ke.playbackRate,"x"),onChange:function(Ae){return Ke.playbackRate=Number(Ae.value)},placement:"top",className:"dropdown-playback-rate",styles:{minWidth:"40px"}})})),Ke.quality>0&&(0,_.jsxs)(he.Text,a({style:{margin:"0px 10px",color:"white",borderRadius:"4px",border:"2px solid white",padding:"0 4px"},size:"12",noMargin:!0},{children:[Ke.quality,"p"]})),(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsx)("button",a({type:"button",title:(0,q.t)("VideoPlayer.Fullscreen"),onClick:function(){return fe&&fe()}},{children:(0,_.jsx)(Ee,{})}))}))]}))]}))]})}))},je=function(Re){var Fe=Re.children,Ke=Re.mobile,tt=Re.audio,Pe=tt===void 0?!1:tt,ne=Re.light,fe=ne===void 0?!0:ne,b=Re.ratio,le=b===void 0?9/16:b,ve=Re.className,Ae=ve===void 0?"":ve,Ce=Re.onTopicEnd,Oe=ee.useRef(null),Ge=ee.useRef(null),qe=ee.useState(se),Ue=qe[0],Ze=qe[1],it=(0,be.useTranslation)().t,Je=ee.useCallback(function(nt){if(nt!=null&&nt.getInternalPlayer("hls")){var ht=nt==null?void 0:nt.getInternalPlayer("hls");ht&&ht.on("hlsLevelSwitched",function(ot,mt){var st=ht.levels[mt.level].height;Ze(function(Ve){return a(a({},Ve),{quality:st})})})}},[]);return ee.useEffect(function(){var nt=document.querySelectorAll(".react-player__preview");nt&&nt.forEach(function(ht){return ht.click()})},[]),(0,_.jsxs)(me,a({className:"wellms-component ".concat(Ae),state:Ue,ref:Ge,audio:Pe,light:fe},{children:[(0,_.jsx)(he.RatioBox,a({ratio:le},{children:(0,_.jsx)(g.default,a({},Re,{light:fe,ref:Oe,width:"100%",height:"100%",controls:!!Ke,playIcon:ae(),playing:Ue.playing,volume:Ue.volume,playbackRate:Ue.playbackRate,muted:Ue.muted,onReady:function(){Ze(function(nt){return a(a({},nt),{ready:!0})}),!Pe&&Je(Oe.current)},onDuration:function(nt){return Ze(function(ht){return a(a({},ht),{duration:nt})})},onStart:function(){setTimeout(function(){Ze(function(nt){return a(a({},nt),{playing:!1})}),Oe.current&&Oe.current.seekTo(0)},500),setTimeout(function(){Ze(function(nt){return a(a({},nt),{muted:!1})})},600)},onProgress:function(nt){Ze(function(ht){return a(a({},ht),{progress:nt})})},onEnded:function(){var nt;Ze(function(ht){return a(a({},ht),{controls:!1,playing:!1})}),(nt=Oe.current)===null||nt===void 0||nt.showPreview(),Ce&&Ce()},onError:function(){Ze(function(nt){return a(a({},nt),{error:!0})})},onClickPreview:function(){return Ze(function(nt){return a(a({},nt),{controls:!0,playing:!0})})}}))})),!Ke&&Ue.controls&&!Ue.error&&(0,_.jsx)(ye,{audio:Pe,state:Ue,onVolume:function(nt){Ze(function(ht){return a(a({},ht),{volume:nt})})},onToggle:function(){Ze(function(nt){return a(a({},nt),{playing:!nt.playing})})},onSeek:function(nt){var ht;return(ht=Oe.current)===null||ht===void 0?void 0:ht.seekTo(nt)},onFullscreen:function(){Ge.current&&te.default.toggle((0,re.findDOMNode)(Ge.current))}}),!Ke&&!Ue.error&&(0,_.jsx)("div",a({onClick:function(){return Ue.ready&&Ze(function(nt){return a(a({},nt),{playing:!nt.playing})})},title:"play/pause","aria-labelledby":"labeldiv",tabIndex:0,role:"button",onKeyDown:function(){return!0}},{children:Fe})),Ue.error&&(0,_.jsx)("div",a({className:"video-player-error"},{children:(0,_.jsx)(he.Text,a({size:"16"},{children:it("VideoPlayer.Error")}))}))]}))};e.AudioVideoPlayer=je,e.default=(0,f.withTheme)((0,f.default)(e.AudioVideoPlayer)(Te||(Te=i([""],[""]))));var Le,xe,Te})(AudioVideoPlayer);var PdfPlayer={},cjs$4={},pdfjs$1={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};(function(module,exports){(function(i,a){module.exports=i.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Rt;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Re,i.bytesToString=Oe,i.createValidAbsoluteUrl=Ke,i.getModificationDate=ft,i.getUuid=Ct,i.getVerbosityLevel=je,i.info=Le,i.isArrayBuffer=He,i.isArrayEqual=at,i.isNodeJS=void 0,i.normalizeUnicode=jt,i.objectFromMap=Ze,i.objectSize=Ue,i.setVerbosityLevel=ye,i.shadow=tt,i.string32=qe,i.stringToBytes=Ge,i.stringToPDFString=st,i.stringToUTF8String=Ve,i.unreachable=Te,i.utf8StringToString=We,i.warn=xe;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=a;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const d=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=d;const h=1.35;i.LINE_FACTOR=h;const _=.35;i.LINE_DESCENT_FACTOR=_;const ee=_/h;i.BASELINE_FACTOR=ee;const f={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=f;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=g;const he="pdfjs_internal_editor_";i.AnnotationEditorPrefix=he;const ge={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=ge;const te={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=te;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=re;const be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=be;const q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=q;const se={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=se;const me={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=me;const ue={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=ue;const ae={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=ae;const $={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=$;const ie={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=ie;const we={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=we;const de={O:"PageOpen",C:"PageClose"};i.PageActionEventType=de;const m={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=m;const _e={NONE:0,BINARY:1};i.CMapCompressionType=_e;const oe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=oe;const Se={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=Se;let Ee=m.WARNINGS;function ye(rt){Number.isInteger(rt)&&(Ee=rt)}function je(){return Ee}function Le(rt){Ee>=m.INFOS&&console.log(`Info: ${rt}`)}function xe(rt){Ee>=m.WARNINGS&&console.log(`Warning: ${rt}`)}function Te(rt){throw new Error(rt)}function Re(rt,Ye){rt||Te(Ye)}function Fe(rt){switch(rt==null?void 0:rt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ke(rt,Ye=null,Be=null){if(!rt)return null;try{if(Be&&typeof rt=="string"){if(Be.addDefaultProtocol&&rt.startsWith("www.")){const dt=rt.match(/\./g);(dt==null?void 0:dt.length)>=2&&(rt=`http://${rt}`)}if(Be.tryConvertEncoding)try{rt=Ve(rt)}catch{}}const ct=Ye?new URL(rt,Ye):new URL(rt);if(Fe(ct))return ct}catch{}return null}function tt(rt,Ye,Be,ct=!1){return Object.defineProperty(rt,Ye,{value:Be,enumerable:!ct,configurable:!0,writable:!1}),Be}const Pe=function(){function Ye(Be,ct){this.constructor===Ye&&Te("Cannot initialize BaseException."),this.message=Be,this.name=ct}return Ye.prototype=new Error,Ye.constructor=Ye,Ye}();i.BaseException=Pe;class ne extends Pe{constructor(Ye,Be){super(Ye,"PasswordException"),this.code=Be}}i.PasswordException=ne;class fe extends Pe{constructor(Ye,Be){super(Ye,"UnknownErrorException"),this.details=Be}}i.UnknownErrorException=fe;class b extends Pe{constructor(Ye){super(Ye,"InvalidPDFException")}}i.InvalidPDFException=b;class le extends Pe{constructor(Ye){super(Ye,"MissingPDFException")}}i.MissingPDFException=le;class ve extends Pe{constructor(Ye,Be){super(Ye,"UnexpectedResponseException"),this.status=Be}}i.UnexpectedResponseException=ve;class Ae extends Pe{constructor(Ye){super(Ye,"FormatError")}}i.FormatError=Ae;class Ce extends Pe{constructor(Ye){super(Ye,"AbortException")}}i.AbortException=Ce;function Oe(rt){(typeof rt!="object"||(rt==null?void 0:rt.length)===void 0)&&Te("Invalid argument for bytesToString");const Ye=rt.length,Be=8192;if(Ye<Be)return String.fromCharCode.apply(null,rt);const ct=[];for(let dt=0;dt<Ye;dt+=Be){const Bt=Math.min(dt+Be,Ye),Nt=rt.subarray(dt,Bt);ct.push(String.fromCharCode.apply(null,Nt))}return ct.join("")}function Ge(rt){typeof rt!="string"&&Te("Invalid argument for stringToBytes");const Ye=rt.length,Be=new Uint8Array(Ye);for(let ct=0;ct<Ye;++ct)Be[ct]=rt.charCodeAt(ct)&255;return Be}function qe(rt){return String.fromCharCode(rt>>24&255,rt>>16&255,rt>>8&255,rt&255)}function Ue(rt){return Object.keys(rt).length}function Ze(rt){const Ye=Object.create(null);for(const[Be,ct]of rt)Ye[Be]=ct;return Ye}function it(){const rt=new Uint8Array(4);return rt[0]=1,new Uint32Array(rt.buffer,0,1)[0]===1}function Je(){try{return new Function(""),!0}catch{return!1}}class nt{static get isLittleEndian(){return tt(this,"isLittleEndian",it())}static get isEvalSupported(){return tt(this,"isEvalSupported",Je())}static get isOffscreenCanvasSupported(){return tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?tt(this,"platform",{isWin:!1,isMac:!1}):tt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ye,Be;return tt(this,"isCSSRoundSupported",(Be=(Ye=globalThis.CSS)==null?void 0:Ye.supports)==null?void 0:Be.call(Ye,"width: round(1.5px, 1px)"))}}i.FeatureTest=nt;const ht=[...Array(256).keys()].map(rt=>rt.toString(16).padStart(2,"0"));class ot{static makeHexColor(Ye,Be,ct){return`#${ht[Ye]}${ht[Be]}${ht[ct]}`}static scaleMinMax(Ye,Be){let ct;Ye[0]?(Ye[0]<0&&(ct=Be[0],Be[0]=Be[1],Be[1]=ct),Be[0]*=Ye[0],Be[1]*=Ye[0],Ye[3]<0&&(ct=Be[2],Be[2]=Be[3],Be[3]=ct),Be[2]*=Ye[3],Be[3]*=Ye[3]):(ct=Be[0],Be[0]=Be[2],Be[2]=ct,ct=Be[1],Be[1]=Be[3],Be[3]=ct,Ye[1]<0&&(ct=Be[2],Be[2]=Be[3],Be[3]=ct),Be[2]*=Ye[1],Be[3]*=Ye[1],Ye[2]<0&&(ct=Be[0],Be[0]=Be[1],Be[1]=ct),Be[0]*=Ye[2],Be[1]*=Ye[2]),Be[0]+=Ye[4],Be[1]+=Ye[4],Be[2]+=Ye[5],Be[3]+=Ye[5]}static transform(Ye,Be){return[Ye[0]*Be[0]+Ye[2]*Be[1],Ye[1]*Be[0]+Ye[3]*Be[1],Ye[0]*Be[2]+Ye[2]*Be[3],Ye[1]*Be[2]+Ye[3]*Be[3],Ye[0]*Be[4]+Ye[2]*Be[5]+Ye[4],Ye[1]*Be[4]+Ye[3]*Be[5]+Ye[5]]}static applyTransform(Ye,Be){const ct=Ye[0]*Be[0]+Ye[1]*Be[2]+Be[4],dt=Ye[0]*Be[1]+Ye[1]*Be[3]+Be[5];return[ct,dt]}static applyInverseTransform(Ye,Be){const ct=Be[0]*Be[3]-Be[1]*Be[2],dt=(Ye[0]*Be[3]-Ye[1]*Be[2]+Be[2]*Be[5]-Be[4]*Be[3])/ct,Bt=(-Ye[0]*Be[1]+Ye[1]*Be[0]+Be[4]*Be[1]-Be[5]*Be[0])/ct;return[dt,Bt]}static getAxialAlignedBoundingBox(Ye,Be){const ct=this.applyTransform(Ye,Be),dt=this.applyTransform(Ye.slice(2,4),Be),Bt=this.applyTransform([Ye[0],Ye[3]],Be),Nt=this.applyTransform([Ye[2],Ye[1]],Be);return[Math.min(ct[0],dt[0],Bt[0],Nt[0]),Math.min(ct[1],dt[1],Bt[1],Nt[1]),Math.max(ct[0],dt[0],Bt[0],Nt[0]),Math.max(ct[1],dt[1],Bt[1],Nt[1])]}static inverseTransform(Ye){const Be=Ye[0]*Ye[3]-Ye[1]*Ye[2];return[Ye[3]/Be,-Ye[1]/Be,-Ye[2]/Be,Ye[0]/Be,(Ye[2]*Ye[5]-Ye[4]*Ye[3])/Be,(Ye[4]*Ye[1]-Ye[5]*Ye[0])/Be]}static singularValueDecompose2dScale(Ye){const Be=[Ye[0],Ye[2],Ye[1],Ye[3]],ct=Ye[0]*Be[0]+Ye[1]*Be[2],dt=Ye[0]*Be[1]+Ye[1]*Be[3],Bt=Ye[2]*Be[0]+Ye[3]*Be[2],Nt=Ye[2]*Be[1]+Ye[3]*Be[3],Xe=(ct+Nt)/2,pt=Math.sqrt((ct+Nt)**2-4*(ct*Nt-Bt*dt))/2,wt=Xe+pt||1,_t=Xe-pt||1;return[Math.sqrt(wt),Math.sqrt(_t)]}static normalizeRect(Ye){const Be=Ye.slice(0);return Ye[0]>Ye[2]&&(Be[0]=Ye[2],Be[2]=Ye[0]),Ye[1]>Ye[3]&&(Be[1]=Ye[3],Be[3]=Ye[1]),Be}static intersect(Ye,Be){const ct=Math.max(Math.min(Ye[0],Ye[2]),Math.min(Be[0],Be[2])),dt=Math.min(Math.max(Ye[0],Ye[2]),Math.max(Be[0],Be[2]));if(ct>dt)return null;const Bt=Math.max(Math.min(Ye[1],Ye[3]),Math.min(Be[1],Be[3])),Nt=Math.min(Math.max(Ye[1],Ye[3]),Math.max(Be[1],Be[3]));return Bt>Nt?null:[ct,Bt,dt,Nt]}static bezierBoundingBox(Ye,Be,ct,dt,Bt,Nt,Xe,pt){const wt=[],_t=[[],[]];let xt,At,Lt,ut,Dt,St,ke,ce;for(let ze=0;ze<2;++ze){if(ze===0?(At=6*Ye-12*ct+6*Bt,xt=-3*Ye+9*ct-9*Bt+3*Xe,Lt=3*ct-3*Ye):(At=6*Be-12*dt+6*Nt,xt=-3*Be+9*dt-9*Nt+3*pt,Lt=3*dt-3*Be),Math.abs(xt)<1e-12){if(Math.abs(At)<1e-12)continue;ut=-Lt/At,0<ut&&ut<1&&wt.push(ut);continue}ke=At*At-4*Lt*xt,ce=Math.sqrt(ke),!(ke<0)&&(Dt=(-At+ce)/(2*xt),0<Dt&&Dt<1&&wt.push(Dt),St=(-At-ce)/(2*xt),0<St&&St<1&&wt.push(St))}let $e=wt.length,Me;const Ie=$e;for(;$e--;)ut=wt[$e],Me=1-ut,_t[0][$e]=Me*Me*Me*Ye+3*Me*Me*ut*ct+3*Me*ut*ut*Bt+ut*ut*ut*Xe,_t[1][$e]=Me*Me*Me*Be+3*Me*Me*ut*dt+3*Me*ut*ut*Nt+ut*ut*ut*pt;return _t[0][Ie]=Ye,_t[1][Ie]=Be,_t[0][Ie+1]=Xe,_t[1][Ie+1]=pt,_t[0].length=_t[1].length=Ie+2,[Math.min(..._t[0]),Math.min(..._t[1]),Math.max(..._t[0]),Math.max(..._t[1])]}}i.Util=ot;const mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function st(rt){if(rt[0]>=""){let Be;if(rt[0]===""&&rt[1]===""?Be="utf-16be":rt[0]===""&&rt[1]===""?Be="utf-16le":rt[0]===""&&rt[1]===""&&rt[2]===""&&(Be="utf-8"),Be)try{const ct=new TextDecoder(Be,{fatal:!0}),dt=Ge(rt);return ct.decode(dt)}catch(ct){xe(`stringToPDFString: "${ct}".`)}}const Ye=[];for(let Be=0,ct=rt.length;Be<ct;Be++){const dt=mt[rt.charCodeAt(Be)];Ye.push(dt?String.fromCharCode(dt):rt.charAt(Be))}return Ye.join("")}function Ve(rt){return decodeURIComponent(escape(rt))}function We(rt){return unescape(encodeURIComponent(rt))}function He(rt){return typeof rt=="object"&&(rt==null?void 0:rt.byteLength)!==void 0}function at(rt,Ye){if(rt.length!==Ye.length)return!1;for(let Be=0,ct=rt.length;Be<ct;Be++)if(rt[Be]!==Ye[Be])return!1;return!0}function ft(rt=new Date){return[rt.getUTCFullYear().toString(),(rt.getUTCMonth()+1).toString().padStart(2,"0"),rt.getUTCDate().toString().padStart(2,"0"),rt.getUTCHours().toString().padStart(2,"0"),rt.getUTCMinutes().toString().padStart(2,"0"),rt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Pt{constructor(){De(this,Rt,!1);this.promise=new Promise((Ye,Be)=>{this.resolve=ct=>{Qe(this,Rt,!0),Ye(ct)},this.reject=ct=>{Qe(this,Rt,!0),Be(ct)}})}get settled(){return j(this,Rt)}}Rt=new WeakMap,i.PromiseCapability=Pt;let Tt=null,Et=null;function jt(rt){return Tt||(Tt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Et=new Map([["","t"]])),rt.replaceAll(Tt,(Ye,Be,ct)=>Be?Be.normalize("NFKC"):Et.get(ct))}function Ct(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const rt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(rt);else for(let Ye=0;Ye<32;Ye++)rt[Ye]=Math.floor(Math.random()*255);return Oe(rt)}const $t="pdfjs_internal_id_";i.AnnotationPrefix=$t},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,a,o,c,Kt,h,un,ee,f,g,he,ge,te,re,be,q,dn,me,ue,En,$,ie;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(de){if(typeof de=="string"||de instanceof URL?de={url:de}:(0,_util.isArrayBuffer)(de)&&(de={data:de}),typeof de!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!de.url&&!de.data&&!de.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const m=new PDFDocumentLoadingTask,{docId:_e}=m,oe=de.url?getUrlProp(de.url):null,Se=de.data?getDataProp(de.data):null,Ee=de.httpHeaders||null,ye=de.withCredentials===!0,je=de.password??null,Le=de.range instanceof PDFDataRangeTransport?de.range:null,xe=Number.isInteger(de.rangeChunkSize)&&de.rangeChunkSize>0?de.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Te=de.worker instanceof PDFWorker?de.worker:null;const Re=de.verbosity,Fe=typeof de.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(de.docBaseUrl)?de.docBaseUrl:null,Ke=typeof de.cMapUrl=="string"?de.cMapUrl:null,tt=de.cMapPacked!==!1,Pe=de.CMapReaderFactory||DefaultCMapReaderFactory,ne=typeof de.standardFontDataUrl=="string"?de.standardFontDataUrl:null,fe=de.StandardFontDataFactory||DefaultStandardFontDataFactory,b=de.stopAtErrors!==!0,le=Number.isInteger(de.maxImageSize)&&de.maxImageSize>-1?de.maxImageSize:-1,ve=de.isEvalSupported!==!1,Ae=typeof de.isOffscreenCanvasSupported=="boolean"?de.isOffscreenCanvasSupported:!_util.isNodeJS,Ce=Number.isInteger(de.canvasMaxAreaInBytes)?de.canvasMaxAreaInBytes:-1,Oe=typeof de.disableFontFace=="boolean"?de.disableFontFace:_util.isNodeJS,Ge=de.fontExtraProperties===!0,qe=de.enableXfa===!0,Ue=de.ownerDocument||globalThis.document,Ze=de.disableRange===!0,it=de.disableStream===!0,Je=de.disableAutoFetch===!0,nt=de.pdfBug===!0,ht=Le?Le.length:de.length??NaN,ot=typeof de.useSystemFonts=="boolean"?de.useSystemFonts:!_util.isNodeJS&&!Oe,mt=typeof de.useWorkerFetch=="boolean"?de.useWorkerFetch:Pe===_display_utils.DOMCMapReaderFactory&&fe===_display_utils.DOMStandardFontDataFactory&&Ke&&ne&&(0,_display_utils.isValidFetchUrl)(Ke,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ne,document.baseURI),st=de.canvasFactory||new DefaultCanvasFactory({ownerDocument:Ue}),Ve=de.filterFactory||new DefaultFilterFactory({docId:_e,ownerDocument:Ue}),We=null;(0,_util.setVerbosityLevel)(Re);const He={canvasFactory:st,filterFactory:Ve};if(mt||(He.cMapReaderFactory=new Pe({baseUrl:Ke,isCompressed:tt}),He.standardFontDataFactory=new fe({baseUrl:ne})),!Te){const Pt={verbosity:Re,port:_worker_options.GlobalWorkerOptions.workerPort};Te=Pt.port?PDFWorker.fromPort(Pt):new PDFWorker(Pt),m._worker=Te}const at={docId:_e,apiVersion:"3.11.174",data:Se,password:je,disableAutoFetch:Je,rangeChunkSize:xe,length:ht,docBaseUrl:Fe,enableXfa:qe,evaluatorOptions:{maxImageSize:le,disableFontFace:Oe,ignoreErrors:b,isEvalSupported:ve,isOffscreenCanvasSupported:Ae,canvasMaxAreaInBytes:Ce,fontExtraProperties:Ge,useSystemFonts:ot,cMapUrl:mt?Ke:null,standardFontDataUrl:mt?ne:null}},ft={ignoreErrors:b,isEvalSupported:ve,disableFontFace:Oe,fontExtraProperties:Ge,enableXfa:qe,ownerDocument:Ue,disableAutoFetch:Je,pdfBug:nt,styleElement:We};return Te.promise.then(function(){if(m.destroyed)throw new Error("Loading aborted");const Pt=_fetchDocument(Te,at),Tt=new Promise(function(Et){let jt;Le?jt=new _transport_stream.PDFDataTransportStream({length:ht,initialData:Le.initialData,progressiveDone:Le.progressiveDone,contentDispositionFilename:Le.contentDispositionFilename,disableRange:Ze,disableStream:it},Le):Se||(jt=($t=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream($t):(0,_display_utils.isValidFetchUrl)($t.url)?new _displayFetch_stream.PDFFetchStream($t):new _displayNetwork.PDFNetworkStream($t))({url:oe,length:ht,httpHeaders:Ee,withCredentials:ye,rangeChunkSize:xe,disableRange:Ze,disableStream:it})),Et(jt)});return Promise.all([Pt,Tt]).then(function([Et,jt]){if(m.destroyed)throw new Error("Loading aborted");const Ct=new _message_handler.MessageHandler(_e,Et,Te.port),$t=new WorkerTransport(Ct,m,jt,ft,He);m._transport=$t,Ct.send("Ready",null)})}).catch(m._capability.reject),m}async function _fetchDocument(de,m){if(de.destroyed)throw new Error("Worker was destroyed");const _e=await de.messageHandler.sendWithPromise("GetDocRequest",m,m.data?[m.data.buffer]:null);if(de.destroyed)throw new Error("Worker was destroyed");return _e}function getUrlProp(de){if(de instanceof URL)return de.href;try{return new URL(de,window.location).href}catch{if(_util.isNodeJS&&typeof de=="string")return de}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(de){if(_util.isNodeJS&&typeof Buffer<"u"&&de instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(de instanceof Uint8Array&&de.byteLength===de.buffer.byteLength)return de;if(typeof de=="string")return(0,_util.stringToBytes)(de);if(typeof de=="object"&&!isNaN(de==null?void 0:de.length)||(0,_util.isArrayBuffer)(de))return new Uint8Array(de);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${tn(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var m,_e,oe;this.destroyed=!0;try{(m=this._worker)!=null&&m.port&&(this._worker._pendingDestroy=!0),await((_e=this._transport)==null?void 0:_e.destroy())}catch(Se){throw(oe=this._worker)!=null&&oe.port&&delete this._worker._pendingDestroy,Se}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,De(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(m,_e,oe=!1,Se=null){this.length=m,this.initialData=_e,this.progressiveDone=oe,this.contentDispositionFilename=Se,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(m){this._rangeListeners.push(m)}addProgressListener(m){this._progressListeners.push(m)}addProgressiveReadListener(m){this._progressiveReadListeners.push(m)}addProgressiveDoneListener(m){this._progressiveDoneListeners.push(m)}onDataRange(m,_e){for(const oe of this._rangeListeners)oe(m,_e)}onDataProgress(m,_e){this._readyCapability.promise.then(()=>{for(const oe of this._progressListeners)oe(m,_e)})}onDataProgressiveRead(m){this._readyCapability.promise.then(()=>{for(const _e of this._progressiveReadListeners)_e(m)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const m of this._progressiveDoneListeners)m()})}transportReady(){this._readyCapability.resolve()}requestDataRange(m,_e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(m,_e){this._pdfInfo=m,this._transport=_e,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(oe=>{if(!oe)return oe;const Se=[];for(const Ee in oe)Se.push(...oe[Ee]);return Se}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(m){return this._transport.getPage(m)}getPageIndex(m){return this._transport.getPageIndex(m)}getDestinations(){return this._transport.getDestinations()}getDestination(m){return this._transport.getDestination(m)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(m=!1){return this._transport.startCleanup(m||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(m,_e,oe,Se=!1){De(this,c);De(this,h);De(this,a,null);De(this,o,!1);this._pageIndex=m,this._pageInfo=_e,this._transport=oe,this._stats=Se?new _display_utils.StatTimer:null,this._pdfBug=Se,this.commonObjs=oe.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:m,rotation:_e=this.rotate,offsetX:oe=0,offsetY:Se=0,dontFlip:Ee=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:m,rotation:_e,offsetX:oe,offsetY:Se,dontFlip:Ee})}getAnnotations({intent:m="display"}={}){const _e=this._transport.getRenderingIntent(m);return this._transport.getAnnotations(this._pageIndex,_e.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var m;return((m=this._transport._htmlForXfa)==null?void 0:m.children[this._pageIndex])||null}render({canvasContext:m,viewport:_e,intent:oe="display",annotationMode:Se=_util.AnnotationMode.ENABLE,transform:Ee=null,background:ye=null,optionalContentConfigPromise:je=null,annotationCanvasMap:Le=null,pageColors:xe=null,printAnnotationStorage:Te=null}){var fe,b;(fe=this._stats)==null||fe.time("Overall");const Re=this._transport.getRenderingIntent(oe,Se,Te);Qe(this,o,!1),Ne(this,h,un).call(this),je||(je=this._transport.getOptionalContentConfig());let Fe=this._intentStates.get(Re.cacheKey);Fe||(Fe=Object.create(null),this._intentStates.set(Re.cacheKey,Fe)),Fe.streamReaderCancelTimeout&&(clearTimeout(Fe.streamReaderCancelTimeout),Fe.streamReaderCancelTimeout=null);const Ke=!!(Re.renderingIntent&_util.RenderingIntentFlag.PRINT);Fe.displayReadyCapability||(Fe.displayReadyCapability=new _util.PromiseCapability,Fe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(b=this._stats)==null||b.time("Page Request"),this._pumpOperatorList(Re));const tt=le=>{var ve,Ae;Fe.renderTasks.delete(Pe),(this._maybeCleanupAfterRender||Ke)&&Qe(this,o,!0),Ne(this,c,Kt).call(this,!Ke),le?(Pe.capability.reject(le),this._abortOperatorList({intentState:Fe,reason:le instanceof Error?le:new Error(le)})):Pe.capability.resolve(),(ve=this._stats)==null||ve.timeEnd("Rendering"),(Ae=this._stats)==null||Ae.timeEnd("Overall")},Pe=new InternalRenderTask({callback:tt,params:{canvasContext:m,viewport:_e,transform:Ee,background:ye},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Le,operatorList:Fe.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ke,pdfBug:this._pdfBug,pageColors:xe});(Fe.renderTasks||(Fe.renderTasks=new Set)).add(Pe);const ne=Pe.task;return Promise.all([Fe.displayReadyCapability.promise,je]).then(([le,ve])=>{var Ae;if(this.destroyed){tt();return}(Ae=this._stats)==null||Ae.time("Rendering"),Pe.initializeGraphics({transparency:le,optionalContentConfig:ve}),Pe.operatorListChanged()}).catch(tt),ne}getOperatorList({intent:m="display",annotationMode:_e=_util.AnnotationMode.ENABLE,printAnnotationStorage:oe=null}={}){var Le;function Se(){ye.operatorList.lastChunk&&(ye.opListReadCapability.resolve(ye.operatorList),ye.renderTasks.delete(je))}const Ee=this._transport.getRenderingIntent(m,_e,oe,!0);let ye=this._intentStates.get(Ee.cacheKey);ye||(ye=Object.create(null),this._intentStates.set(Ee.cacheKey,ye));let je;return ye.opListReadCapability||(je=Object.create(null),je.operatorListChanged=Se,ye.opListReadCapability=new _util.PromiseCapability,(ye.renderTasks||(ye.renderTasks=new Set)).add(je),ye.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Le=this._stats)==null||Le.time("Page Request"),this._pumpOperatorList(Ee)),ye.opListReadCapability.promise}streamTextContent({includeMarkedContent:m=!1,disableNormalization:_e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:m===!0,disableNormalization:_e===!0},{highWaterMark:100,size(Se){return Se.items.length}})}getTextContent(m={}){if(this._transport._htmlForXfa)return this.getXfa().then(oe=>_xfa_text.XfaText.textContent(oe));const _e=this.streamTextContent(m);return new Promise(function(oe,Se){function Ee(){ye.read().then(function({value:Le,done:xe}){if(xe){oe(je);return}Object.assign(je.styles,Le.styles),je.items.push(...Le.items),Ee()},Se)}const ye=_e.getReader(),je={items:[],styles:Object.create(null)};Ee()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const m=[];for(const _e of this._intentStates.values())if(this._abortOperatorList({intentState:_e,reason:new Error("Page was destroyed."),force:!0}),!_e.opListReadCapability)for(const oe of _e.renderTasks)m.push(oe.completed),oe.cancel();return this.objs.clear(),Qe(this,o,!1),Ne(this,h,un).call(this),Promise.all(m)}cleanup(m=!1){Qe(this,o,!0);const _e=Ne(this,c,Kt).call(this,!1);return m&&_e&&this._stats&&(this._stats=new _display_utils.StatTimer),_e}_startRenderPage(m,_e){var Se,Ee;const oe=this._intentStates.get(_e);oe&&((Se=this._stats)==null||Se.timeEnd("Page Request"),(Ee=oe.displayReadyCapability)==null||Ee.resolve(m))}_renderPageChunk(m,_e){for(let oe=0,Se=m.length;oe<Se;oe++)_e.operatorList.fnArray.push(m.fnArray[oe]),_e.operatorList.argsArray.push(m.argsArray[oe]);_e.operatorList.lastChunk=m.lastChunk,_e.operatorList.separateAnnots=m.separateAnnots;for(const oe of _e.renderTasks)oe.operatorListChanged();m.lastChunk&&Ne(this,c,Kt).call(this,!0)}_pumpOperatorList({renderingIntent:m,cacheKey:_e,annotationStorageSerializable:oe}){const{map:Se,transfers:Ee}=oe,je=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:m,cacheKey:_e,annotationStorage:Se},Ee).getReader(),Le=this._intentStates.get(_e);Le.streamReader=je;const xe=()=>{je.read().then(({value:Te,done:Re})=>{if(Re){Le.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Te,Le),xe())},Te=>{if(Le.streamReader=null,!this._transport.destroyed){if(Le.operatorList){Le.operatorList.lastChunk=!0;for(const Re of Le.renderTasks)Re.operatorListChanged();Ne(this,c,Kt).call(this,!0)}if(Le.displayReadyCapability)Le.displayReadyCapability.reject(Te);else if(Le.opListReadCapability)Le.opListReadCapability.reject(Te);else throw Te}})};xe()}_abortOperatorList({intentState:m,reason:_e,force:oe=!1}){if(m.streamReader){if(m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null),!oe){if(m.renderTasks.size>0)return;if(_e instanceof _display_utils.RenderingCancelledException){let Se=RENDERING_CANCELLED_TIMEOUT;_e.extraDelay>0&&_e.extraDelay<1e3&&(Se+=_e.extraDelay),m.streamReaderCancelTimeout=setTimeout(()=>{m.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:m,reason:_e,force:!0})},Se);return}}if(m.streamReader.cancel(new _util.AbortException(_e.message)).catch(()=>{}),m.streamReader=null,!this._transport.destroyed){for(const[Se,Ee]of this._intentStates)if(Ee===m){this._intentStates.delete(Se);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,o=new WeakMap,c=new WeakSet,Kt=function(m=!1){if(Ne(this,h,un).call(this),!j(this,o)||this.destroyed)return!1;if(m)return Qe(this,a,setTimeout(()=>{Qe(this,a,null),Ne(this,c,Kt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_e,operatorList:oe}of this._intentStates.values())if(_e.size>0||!oe.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qe(this,o,!1),!0},h=new WeakSet,un=function(){j(this,a)&&(clearTimeout(j(this,a)),Qe(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){De(this,ee,new Set);De(this,f,Promise.resolve())}postMessage(m,_e){const oe={data:structuredClone(m,_e?{transfer:_e}:null)};j(this,f).then(()=>{for(const Se of j(this,ee))Se.call(this,oe)})}addEventListener(m,_e){j(this,ee).add(_e)}removeEventListener(m,_e){j(this,ee).delete(_e)}terminate(){j(this,ee).clear()}}ee=new WeakMap,f=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const de=(g=document==null?void 0:document.currentScript)==null?void 0:g.src;de&&(PDFWorkerUtil.fallbackWorkerSrc=de.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(de,m){let _e;try{if(_e=new URL(de),!_e.origin||_e.origin==="null")return!1}catch{return!1}const oe=new URL(m,_e);return _e.origin===oe.origin},PDFWorkerUtil.createCDNWrapper=function(de){const m=`importScripts("${de}");`;return URL.createObjectURL(new Blob([m]))}}const _PDFWorker=class _PDFWorker{constructor({name:de=null,port:m=null,verbosity:_e=(0,_util.getVerbosityLevel)()}={}){var oe;if(this.name=de,this.destroyed=!1,this.verbosity=_e,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,m){if((oe=j(_PDFWorker,he))!=null&&oe.has(m))throw new Error("Cannot use more than one PDFWorker per port.");(j(_PDFWorker,he)||Qe(_PDFWorker,he,new WeakMap)).set(m,this),this._initializeFromPort(m);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(de){this._port=de,this._messageHandler=new _message_handler.MessageHandler("main","worker",de),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:de}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,de)||(de=PDFWorkerUtil.createCDNWrapper(new URL(de,window.location).href));const m=new Worker(de),_e=new _message_handler.MessageHandler("main","worker",m),oe=()=>{m.removeEventListener("error",Se),_e.destroy(),m.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Se=()=>{this._webWorker||oe()};m.addEventListener("error",Se),_e.on("test",ye=>{if(m.removeEventListener("error",Se),this.destroyed){oe();return}ye?(this._messageHandler=_e,this._port=m,this._webWorker=m,this._readyCapability.resolve(),_e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_e.destroy(),m.terminate())}),_e.on("ready",ye=>{if(m.removeEventListener("error",Se),this.destroyed){oe();return}try{Ee()}catch{this._setupFakeWorker()}});const Ee=()=>{const ye=new Uint8Array;_e.send("test",ye,[ye.buffer])};Ee();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(de=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const m=new LoopbackPort;this._port=m;const _e=`fake${PDFWorkerUtil.fakeWorkerId++}`,oe=new _message_handler.MessageHandler(_e+"_worker",_e,m);de.setup(oe,m);const Se=new _message_handler.MessageHandler(_e,_e+"_worker",m);this._messageHandler=Se,this._readyCapability.resolve(),Se.send("configure",{verbosity:this.verbosity})}).catch(de=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${de.message}".`))})}destroy(){var de;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(de=j(_PDFWorker,he))==null||de.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(de){var _e;if(!(de!=null&&de.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const m=(_e=j(this,he))==null?void 0:_e.get(de.port);if(m){if(m._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return m}return new _PDFWorker(de)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var de;try{return((de=globalThis.pdfjsWorker)==null?void 0:de.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};he=new WeakMap,De(_PDFWorker,he,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(m,_e,oe,Se,Ee){De(this,q);De(this,ge,new Map);De(this,te,new Map);De(this,re,new Map);De(this,be,null);this.messageHandler=m,this.loadingTask=_e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Se.ownerDocument,styleElement:Se.styleElement}),this._params=Se,this.canvasFactory=Ee.canvasFactory,this.filterFactory=Ee.filterFactory,this.cMapReaderFactory=Ee.cMapReaderFactory,this.standardFontDataFactory=Ee.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=oe,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(m,_e=_util.AnnotationMode.ENABLE,oe=null,Se=!1){let Ee=_util.RenderingIntentFlag.DISPLAY,ye=_annotation_storage.SerializableEmpty;switch(m){case"any":Ee=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ee=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${m}`)}switch(_e){case _util.AnnotationMode.DISABLE:Ee+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ee+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ee+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ye=(Ee&_util.RenderingIntentFlag.PRINT&&oe instanceof _annotation_storage.PrintAnnotationStorage?oe:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_e}`)}return Se&&(Ee+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ee,cacheKey:`${Ee}_${ye.hash}`,annotationStorageSerializable:ye}}destroy(){var oe;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(oe=j(this,be))==null||oe.reject(new Error("Worker was destroyed during onPassword callback"));const m=[];for(const Se of j(this,te).values())m.push(Se._destroy());j(this,te).clear(),j(this,re).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _e=this.messageHandler.sendWithPromise("Terminate",null);return m.push(_e),Promise.all(m).then(()=>{var Se;this.commonObjs.clear(),this.fontLoader.clear(),j(this,ge).clear(),this.filterFactory.destroy(),(Se=this._networkStream)==null||Se.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:m,loadingTask:_e}=this;m.on("GetReader",(oe,Se)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ee=>{this._lastProgress={loaded:Ee.loaded,total:Ee.total}},Se.onPull=()=>{this._fullReader.read().then(function({value:Ee,done:ye}){if(ye){Se.close();return}(0,_util.assert)(Ee instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Se.enqueue(new Uint8Array(Ee),1,[Ee])}).catch(Ee=>{Se.error(Ee)})},Se.onCancel=Ee=>{this._fullReader.cancel(Ee),Se.ready.catch(ye=>{if(!this.destroyed)throw ye})}}),m.on("ReaderHeadersReady",oe=>{const Se=new _util.PromiseCapability,Ee=this._fullReader;return Ee.headersReady.then(()=>{var ye;(!Ee.isStreamingSupported||!Ee.isRangeSupported)&&(this._lastProgress&&((ye=_e.onProgress)==null||ye.call(_e,this._lastProgress)),Ee.onProgress=je=>{var Le;(Le=_e.onProgress)==null||Le.call(_e,{loaded:je.loaded,total:je.total})}),Se.resolve({isStreamingSupported:Ee.isStreamingSupported,isRangeSupported:Ee.isRangeSupported,contentLength:Ee.contentLength})},Se.reject),Se.promise}),m.on("GetRangeReader",(oe,Se)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ee=this._networkStream.getRangeReader(oe.begin,oe.end);if(!Ee){Se.close();return}Se.onPull=()=>{Ee.read().then(function({value:ye,done:je}){if(je){Se.close();return}(0,_util.assert)(ye instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Se.enqueue(new Uint8Array(ye),1,[ye])}).catch(ye=>{Se.error(ye)})},Se.onCancel=ye=>{Ee.cancel(ye),Se.ready.catch(je=>{if(!this.destroyed)throw je})}}),m.on("GetDoc",({pdfInfo:oe})=>{this._numPages=oe.numPages,this._htmlForXfa=oe.htmlForXfa,delete oe.htmlForXfa,_e._capability.resolve(new PDFDocumentProxy(oe,this))}),m.on("DocException",function(oe){let Se;switch(oe.name){case"PasswordException":Se=new _util.PasswordException(oe.message,oe.code);break;case"InvalidPDFException":Se=new _util.InvalidPDFException(oe.message);break;case"MissingPDFException":Se=new _util.MissingPDFException(oe.message);break;case"UnexpectedResponseException":Se=new _util.UnexpectedResponseException(oe.message,oe.status);break;case"UnknownErrorException":Se=new _util.UnknownErrorException(oe.message,oe.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_e._capability.reject(Se)}),m.on("PasswordRequest",oe=>{if(Qe(this,be,new _util.PromiseCapability),_e.onPassword){const Se=Ee=>{Ee instanceof Error?j(this,be).reject(Ee):j(this,be).resolve({password:Ee})};try{_e.onPassword(Se,oe.code)}catch(Ee){j(this,be).reject(Ee)}}else j(this,be).reject(new _util.PasswordException(oe.message,oe.code));return j(this,be).promise}),m.on("DataLoaded",oe=>{var Se;(Se=_e.onProgress)==null||Se.call(_e,{loaded:oe.length,total:oe.length}),this.downloadInfoCapability.resolve(oe)}),m.on("StartRenderPage",oe=>{if(this.destroyed)return;j(this,te).get(oe.pageIndex)._startRenderPage(oe.transparency,oe.cacheKey)}),m.on("commonobj",([oe,Se,Ee])=>{var ye;if(!this.destroyed&&!this.commonObjs.has(oe))switch(Se){case"Font":const je=this._params;if("error"in Ee){const Te=Ee.error;(0,_util.warn)(`Error during font loading: ${Te}`),this.commonObjs.resolve(oe,Te);break}const Le=je.pdfBug&&((ye=globalThis.FontInspector)!=null&&ye.enabled)?(Te,Re)=>globalThis.FontInspector.fontAdded(Te,Re):null,xe=new _font_loader.FontFaceObject(Ee,{isEvalSupported:je.isEvalSupported,disableFontFace:je.disableFontFace,ignoreErrors:je.ignoreErrors,inspectFont:Le});this.fontLoader.bind(xe).catch(Te=>m.sendWithPromise("FontFallback",{id:oe})).finally(()=>{!je.fontExtraProperties&&xe.data&&(xe.data=null),this.commonObjs.resolve(oe,xe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(oe,Ee);break;default:throw new Error(`Got unknown common object type ${Se}`)}}),m.on("obj",([oe,Se,Ee,ye])=>{var Le;if(this.destroyed)return;const je=j(this,te).get(Se);if(!je.objs.has(oe))switch(Ee){case"Image":if(je.objs.resolve(oe,ye),ye){let xe;if(ye.bitmap){const{width:Te,height:Re}=ye;xe=Te*Re*4}else xe=((Le=ye.data)==null?void 0:Le.length)||0;xe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(je._maybeCleanupAfterRender=!0)}break;case"Pattern":je.objs.resolve(oe,ye);break;default:throw new Error(`Got unknown object type ${Ee}`)}}),m.on("DocProgress",oe=>{var Se;this.destroyed||(Se=_e.onProgress)==null||Se.call(_e,{loaded:oe.loaded,total:oe.total})}),m.on("FetchBuiltInCMap",oe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(oe):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),m.on("FetchStandardFontData",oe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(oe):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var oe;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:m,transfers:_e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:m,filename:((oe=this._fullReader)==null?void 0:oe.filename)??null},_e).finally(()=>{this.annotationStorage.resetModified()})}getPage(m){if(!Number.isInteger(m)||m<=0||m>this._numPages)return Promise.reject(new Error("Invalid page request."));const _e=m-1,oe=j(this,re).get(_e);if(oe)return oe;const Se=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_e}).then(Ee=>{if(this.destroyed)throw new Error("Transport destroyed");const ye=new PDFPageProxy(_e,Ee,this,this._params.pdfBug);return j(this,te).set(_e,ye),ye});return j(this,re).set(_e,Se),Se}getPageIndex(m){return typeof m!="object"||m===null||!Number.isInteger(m.num)||m.num<0||!Number.isInteger(m.gen)||m.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:m.num,gen:m.gen})}getAnnotations(m,_e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:m,intent:_e})}getFieldObjects(){return Ne(this,q,dn).call(this,"GetFieldObjects")}hasJSActions(){return Ne(this,q,dn).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(m){return typeof m!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:m})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ne(this,q,dn).call(this,"GetDocJSActions")}getPageJSActions(m){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:m})}getStructTree(m){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:m})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(m=>new _optional_content_config.OptionalContentConfig(m))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const m="GetMetadata",_e=j(this,ge).get(m);if(_e)return _e;const oe=this.messageHandler.sendWithPromise(m,null).then(Se=>{var Ee,ye;return{info:Se[0],metadata:Se[1]?new _metadata.Metadata(Se[1]):null,contentDispositionFilename:((Ee=this._fullReader)==null?void 0:Ee.filename)??null,contentLength:((ye=this._fullReader)==null?void 0:ye.contentLength)??null}});return j(this,ge).set(m,oe),oe}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(m=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _e of j(this,te).values())if(!_e.cleanup())throw new Error(`startCleanup: Page ${_e.pageNumber} is currently rendering.`);this.commonObjs.clear(),m||this.fontLoader.clear(),j(this,ge).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:m,enableXfa:_e}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:m,enableXfa:_e})}}ge=new WeakMap,te=new WeakMap,re=new WeakMap,be=new WeakMap,q=new WeakSet,dn=function(m,_e=null){const oe=j(this,ge).get(m);if(oe)return oe;const Se=this.messageHandler.sendWithPromise(m,_e);return j(this,ge).set(m,Se),Se};class PDFObjects{constructor(){De(this,ue);De(this,me,Object.create(null))}get(m,_e=null){if(_e){const Se=Ne(this,ue,En).call(this,m);return Se.capability.promise.then(()=>_e(Se.data)),null}const oe=j(this,me)[m];if(!(oe!=null&&oe.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${m}.`);return oe.data}has(m){const _e=j(this,me)[m];return(_e==null?void 0:_e.capability.settled)||!1}resolve(m,_e=null){const oe=Ne(this,ue,En).call(this,m);oe.data=_e,oe.capability.resolve()}clear(){var m;for(const _e in j(this,me)){const{data:oe}=j(this,me)[_e];(m=oe==null?void 0:oe.bitmap)==null||m.close()}Qe(this,me,Object.create(null))}}me=new WeakMap,ue=new WeakSet,En=function(m){var _e;return(_e=j(this,me))[m]||(_e[m]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(m){De(this,$,null);Qe(this,$,m),this.onContinue=null}get promise(){return j(this,$).capability.promise}cancel(m=0){j(this,$).cancel(null,m)}get separateAnnots(){const{separateAnnots:m}=j(this,$).operatorList;if(!m)return!1;const{annotationCanvasMap:_e}=j(this,$);return m.form||m.canvas&&(_e==null?void 0:_e.size)>0}}$=new WeakMap,exports.RenderTask=RenderTask;const we=class we{constructor({callback:m,params:_e,objs:oe,commonObjs:Se,annotationCanvasMap:Ee,operatorList:ye,pageIndex:je,canvasFactory:Le,filterFactory:xe,useRequestAnimationFrame:Te=!1,pdfBug:Re=!1,pageColors:Fe=null}){this.callback=m,this.params=_e,this.objs=oe,this.commonObjs=Se,this.annotationCanvasMap=Ee,this.operatorListIdx=null,this.operatorList=ye,this._pageIndex=je,this.canvasFactory=Le,this.filterFactory=xe,this._pdfBug=Re,this.pageColors=Fe,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Te===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:m=!1,optionalContentConfig:_e}){var je,Le;if(this.cancelled)return;if(this._canvas){if(j(we,ie).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");j(we,ie).add(this._canvas)}this._pdfBug&&((je=globalThis.StepperManager)!=null&&je.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:oe,viewport:Se,transform:Ee,background:ye}=this.params;this.gfx=new _canvas.CanvasGraphics(oe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ee,viewport:Se,transparency:m,background:ye}),this.operatorListIdx=0,this.graphicsReady=!0,(Le=this.graphicsReadyCallback)==null||Le.call(this)}cancel(m=null,_e=0){var oe;this.running=!1,this.cancelled=!0,(oe=this.gfx)==null||oe.endDrawing(),j(we,ie).delete(this._canvas),this.callback(m||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_e))}operatorListChanged(){var m;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(m=this.stepper)==null||m.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),j(we,ie).delete(this._canvas),this.callback())))}};ie=new WeakMap,De(we,ie,new WeakSet);let InternalRenderTask=we;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,a)=>{var f,g,he,ar,te;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=a(1),c=a(4),d=a(8);const h=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=h;class _{constructor(){De(this,he);De(this,f,!1);De(this,g,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(be,q){const se=j(this,g).get(be);return se===void 0?q:Object.assign(q,se)}getRawValue(be){return j(this,g).get(be)}remove(be){if(j(this,g).delete(be),j(this,g).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const q of j(this,g).values())if(q instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(be,q){const se=j(this,g).get(be);let me=!1;if(se!==void 0)for(const[ue,ae]of Object.entries(q))se[ue]!==ae&&(me=!0,se[ue]=ae);else me=!0,j(this,g).set(be,q);me&&Ne(this,he,ar).call(this),q instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(q.constructor._type)}has(be){return j(this,g).has(be)}getAll(){return j(this,g).size>0?(0,o.objectFromMap)(j(this,g)):null}setAll(be){for(const[q,se]of Object.entries(be))this.setValue(q,se)}get size(){return j(this,g).size}resetModified(){j(this,f)&&(Qe(this,f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ee(this)}get serializable(){if(j(this,g).size===0)return h;const be=new Map,q=new d.MurmurHash3_64,se=[],me=Object.create(null);let ue=!1;for(const[ae,$]of j(this,g)){const ie=$ instanceof c.AnnotationEditor?$.serialize(!1,me):$;ie&&(be.set(ae,ie),q.update(`${ae}:${JSON.stringify(ie)}`),ue||(ue=!!ie.bitmap))}if(ue)for(const ae of be.values())ae.bitmap&&se.push(ae.bitmap);return be.size>0?{map:be,hash:q.hexdigest(),transfers:se}:h}}f=new WeakMap,g=new WeakMap,he=new WeakSet,ar=function(){j(this,f)||(Qe(this,f,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=_;class ee extends _{constructor(q){super();De(this,te,void 0);const{map:se,hash:me,transfers:ue}=q.serializable,ae=structuredClone(se,ue?{transfer:ue}:null);Qe(this,te,{map:ae,hash:me,transfers:ue})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return j(this,te)}}te=new WeakMap,i.PrintAnnotationStorage=ee},(e,i,a)=>{var ee,f,g,he,ge,te,re,be,q,se,me,ue,ae,$,ie,Pn,de,$n,_e,Cn,Se,Tn,ye,or,Le,lr,Te,cr,Fe,On,tt,ur;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=a(5),c=a(1),d=a(6);const ne=class ne{constructor(b){De(this,ie);De(this,de);De(this,Se);De(this,ye);De(this,Le);De(this,Te);De(this,Fe);De(this,tt);De(this,ee,"");De(this,f,!1);De(this,g,null);De(this,he,null);De(this,ge,null);De(this,te,!1);De(this,re,null);De(this,be,this.focusin.bind(this));De(this,q,this.focusout.bind(this));De(this,se,!1);De(this,me,!1);De(this,ue,!1);Ut(this,"_initialOptions",Object.create(null));Ut(this,"_uiManager",null);Ut(this,"_focusEventsAllowed",!0);Ut(this,"_l10nPromise",null);De(this,ae,!1);De(this,$,ne._zIndex++);this.constructor===ne&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=b.parent,this.id=b.id,this.width=this.height=null,this.pageIndex=b.parent.pageIndex,this.name=b.name,this.div=null,this._uiManager=b.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=b.isCentered,this._structTreeParentId=null;const{rotation:le,rawDims:{pageWidth:ve,pageHeight:Ae,pageX:Ce,pageY:Oe}}=this.parent.viewport;this.rotation=le,this.pageRotation=(360+le-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ve,Ae],this.pageTranslation=[Ce,Oe];const[Ge,qe]=this.parentDimensions;this.x=b.x/Ge,this.y=b.y/qe,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(b){const le=new _({id:b.parent.getNextId(),parent:b.parent,uiManager:b._uiManager});le.annotationElementId=b.annotationElementId,le.deleted=!0,le._uiManager.addToAnnotationStorage(le)}static initialize(b,le=null){if(ne._l10nPromise||(ne._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ae=>[Ae,b.get(Ae)]))),le!=null&&le.strings)for(const Ae of le.strings)ne._l10nPromise.set(Ae,b.get(Ae));if(ne._borderLineWidth!==-1)return;const ve=getComputedStyle(document.documentElement);ne._borderLineWidth=parseFloat(ve.getPropertyValue("--outline-width"))||0}static updateDefaultParams(b,le){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(b){return!1}static paste(b,le){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return j(this,ae)}set _isDraggable(b){var le;Qe(this,ae,b),(le=this.div)==null||le.classList.toggle("draggable",b)}center(){const[b,le]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*le/(b*2),this.y+=this.width*b/(le*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*le/(b*2),this.y-=this.width*b/(le*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(b){this._uiManager.addCommands(b)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=j(this,$)}setParent(b){b!==null&&(this.pageIndex=b.pageIndex,this.pageDimensions=b.pageDimensions),this.parent=b}focusin(b){this._focusEventsAllowed&&(j(this,se)?Qe(this,se,!1):this.parent.setSelected(this))}focusout(b){var ve;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const le=b.relatedTarget;le!=null&&le.closest(`#${this.id}`)||(b.preventDefault(),(ve=this.parent)!=null&&ve.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(b,le,ve,Ae){const[Ce,Oe]=this.parentDimensions;[ve,Ae]=this.screenToPageTranslation(ve,Ae),this.x=(b+ve)/Ce,this.y=(le+Ae)/Oe,this.fixAndSetPosition()}translate(b,le){Ne(this,ie,Pn).call(this,this.parentDimensions,b,le)}translateInPage(b,le){Ne(this,ie,Pn).call(this,this.pageDimensions,b,le),this.div.scrollIntoView({block:"nearest"})}drag(b,le){const[ve,Ae]=this.parentDimensions;if(this.x+=b/ve,this.y+=le/Ae,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ue,y:Ze}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ue,Ze)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ce,y:Oe}=this;const[Ge,qe]=Ne(this,de,$n).call(this);Ce+=Ge,Oe+=qe,this.div.style.left=`${(100*Ce).toFixed(2)}%`,this.div.style.top=`${(100*Oe).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[b,le]=this.pageDimensions;let{x:ve,y:Ae,width:Ce,height:Oe}=this;switch(Ce*=b,Oe*=le,ve*=b,Ae*=le,this.rotation){case 0:ve=Math.max(0,Math.min(b-Ce,ve)),Ae=Math.max(0,Math.min(le-Oe,Ae));break;case 90:ve=Math.max(0,Math.min(b-Oe,ve)),Ae=Math.min(le,Math.max(Ce,Ae));break;case 180:ve=Math.min(b,Math.max(Ce,ve)),Ae=Math.min(le,Math.max(Oe,Ae));break;case 270:ve=Math.min(b,Math.max(Oe,ve)),Ae=Math.max(0,Math.min(le-Ce,Ae));break}this.x=ve/=b,this.y=Ae/=le;const[Ge,qe]=Ne(this,de,$n).call(this);ve+=Ge,Ae+=qe;const{style:Ue}=this.div;Ue.left=`${(100*ve).toFixed(2)}%`,Ue.top=`${(100*Ae).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(b,le){var ve;return Ne(ve=ne,_e,Cn).call(ve,b,le,this.parentRotation)}pageTranslationToScreen(b,le){var ve;return Ne(ve=ne,_e,Cn).call(ve,b,le,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:b,pageDimensions:[le,ve]}=this,Ae=le*b,Ce=ve*b;return c.FeatureTest.isCSSRoundSupported?[Math.round(Ae),Math.round(Ce)]:[Ae,Ce]}setDims(b,le){var Ce;const[ve,Ae]=this.parentDimensions;this.div.style.width=`${(100*b/ve).toFixed(2)}%`,j(this,te)||(this.div.style.height=`${(100*le/Ae).toFixed(2)}%`),(Ce=j(this,g))==null||Ce.classList.toggle("small",b<ne.SMALL_EDITOR_SIZE||le<ne.SMALL_EDITOR_SIZE)}fixDims(){const{style:b}=this.div,{height:le,width:ve}=b,Ae=ve.endsWith("%"),Ce=!j(this,te)&&le.endsWith("%");if(Ae&&Ce)return;const[Oe,Ge]=this.parentDimensions;Ae||(b.width=`${(100*parseFloat(ve)/Oe).toFixed(2)}%`),!j(this,te)&&!Ce&&(b.height=`${(100*parseFloat(le)/Ge).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(j(this,g))return;const b=Qe(this,g,document.createElement("button"));b.className="altText";const le=await ne._l10nPromise.get("editor_alt_text_button_label");b.textContent=le,b.setAttribute("aria-label",le),b.tabIndex="0",b.addEventListener("contextmenu",d.noContextMenu),b.addEventListener("pointerdown",ve=>ve.stopPropagation()),b.addEventListener("click",ve=>{ve.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),b.addEventListener("keydown",ve=>{ve.target===b&&ve.key==="Enter"&&(ve.preventDefault(),this._uiManager.editAltText(this))}),Ne(this,Fe,On).call(this),this.div.append(b),ne.SMALL_EDITOR_SIZE||(ne.SMALL_EDITOR_SIZE=Math.min(128,Math.round(b.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:j(this,ee),decorative:j(this,f)}}set altTextData({altText:b,decorative:le}){j(this,ee)===b&&j(this,f)===le||(Qe(this,ee,b),Qe(this,f,le),Ne(this,Fe,On).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",j(this,be)),this.div.addEventListener("focusout",j(this,q));const[b,le]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*le/b).toFixed(2)}%`,this.div.style.maxHeight=`${(100*b/le).toFixed(2)}%`);const[ve,Ae]=this.getInitialTranslation();return this.translate(ve,Ae),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(b){const{isMac:le}=c.FeatureTest.platform;if(b.button!==0||b.ctrlKey&&le){b.preventDefault();return}Qe(this,se,!0),Ne(this,tt,ur).call(this,b)}moveInDOM(){var b;(b=this.parent)==null||b.moveEditorInDOM(this)}_setParentAndPosition(b,le,ve){b.changeParent(this),this.x=le,this.y=ve,this.fixAndSetPosition()}getRect(b,le){const ve=this.parentScale,[Ae,Ce]=this.pageDimensions,[Oe,Ge]=this.pageTranslation,qe=b/ve,Ue=le/ve,Ze=this.x*Ae,it=this.y*Ce,Je=this.width*Ae,nt=this.height*Ce;switch(this.rotation){case 0:return[Ze+qe+Oe,Ce-it-Ue-nt+Ge,Ze+qe+Je+Oe,Ce-it-Ue+Ge];case 90:return[Ze+Ue+Oe,Ce-it+qe+Ge,Ze+Ue+nt+Oe,Ce-it+qe+Je+Ge];case 180:return[Ze-qe-Je+Oe,Ce-it+Ue+Ge,Ze-qe+Oe,Ce-it+Ue+nt+Ge];case 270:return[Ze-Ue-nt+Oe,Ce-it-qe-Je+Ge,Ze-Ue+Oe,Ce-it-qe+Ge];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(b,le){const[ve,Ae,Ce,Oe]=b,Ge=Ce-ve,qe=Oe-Ae;switch(this.rotation){case 0:return[ve,le-Oe,Ge,qe];case 90:return[ve,le-Ae,qe,Ge];case 180:return[Ce,le-Ae,Ge,qe];case 270:return[Ce,le-Oe,qe,Ge];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qe(this,ue,!0)}disableEditMode(){Qe(this,ue,!1)}isInEditMode(){return j(this,ue)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var b,le;(b=this.div)==null||b.addEventListener("focusin",j(this,be)),(le=this.div)==null||le.addEventListener("focusout",j(this,q))}serialize(b=!1,le=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(b,le,ve){const Ae=new this.prototype.constructor({parent:le,id:le.getNextId(),uiManager:ve});Ae.rotation=b.rotation;const[Ce,Oe]=Ae.pageDimensions,[Ge,qe,Ue,Ze]=Ae.getRectInCurrentCoords(b.rect,Oe);return Ae.x=Ge/Ce,Ae.y=qe/Oe,Ae.width=Ue/Ce,Ae.height=Ze/Oe,Ae}remove(){var b;this.div.removeEventListener("focusin",j(this,be)),this.div.removeEventListener("focusout",j(this,q)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(b=j(this,g))==null||b.remove(),Qe(this,g,null),Qe(this,he,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ne(this,ye,or).call(this),j(this,re).classList.remove("hidden"))}select(){var b;this.makeResizable(),(b=this.div)==null||b.classList.add("selectedEditor")}unselect(){var b,le,ve;(b=j(this,re))==null||b.classList.add("hidden"),(le=this.div)==null||le.classList.remove("selectedEditor"),(ve=this.div)!=null&&ve.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(b,le){}disableEditing(){j(this,g)&&(j(this,g).hidden=!0)}enableEditing(){j(this,g)&&(j(this,g).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return j(this,me)}set isEditing(b){Qe(this,me,b),this.parent&&(b?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(b,le){Qe(this,te,!0);const ve=b/le,{style:Ae}=this.div;Ae.aspectRatio=ve,Ae.height="auto"}static get MIN_SIZE(){return 16}};ee=new WeakMap,f=new WeakMap,g=new WeakMap,he=new WeakMap,ge=new WeakMap,te=new WeakMap,re=new WeakMap,be=new WeakMap,q=new WeakMap,se=new WeakMap,me=new WeakMap,ue=new WeakMap,ae=new WeakMap,$=new WeakMap,ie=new WeakSet,Pn=function([b,le],ve,Ae){[ve,Ae]=this.screenToPageTranslation(ve,Ae),this.x+=ve/b,this.y+=Ae/le,this.fixAndSetPosition()},de=new WeakSet,$n=function(){const[b,le]=this.parentDimensions,{_borderLineWidth:ve}=ne,Ae=ve/b,Ce=ve/le;switch(this.rotation){case 90:return[-Ae,Ce];case 180:return[Ae,Ce];case 270:return[Ae,-Ce];default:return[-Ae,-Ce]}},_e=new WeakSet,Cn=function(b,le,ve){switch(ve){case 90:return[le,-b];case 180:return[-b,-le];case 270:return[-le,b];default:return[b,le]}},Se=new WeakSet,Tn=function(b){switch(b){case 90:{const[le,ve]=this.pageDimensions;return[0,-le/ve,ve/le,0]}case 180:return[-1,0,0,-1];case 270:{const[le,ve]=this.pageDimensions;return[0,le/ve,-ve/le,0]}default:return[1,0,0,1]}},ye=new WeakSet,or=function(){if(j(this,re))return;Qe(this,re,document.createElement("div")),j(this,re).classList.add("resizers");const b=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||b.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const le of b){const ve=document.createElement("div");j(this,re).append(ve),ve.classList.add("resizer",le),ve.addEventListener("pointerdown",Ne(this,Le,lr).bind(this,le)),ve.addEventListener("contextmenu",d.noContextMenu)}this.div.prepend(j(this,re))},Le=new WeakSet,lr=function(b,le){le.preventDefault();const{isMac:ve}=c.FeatureTest.platform;if(le.button!==0||le.ctrlKey&&ve)return;const Ae=Ne(this,Te,cr).bind(this,b),Ce=this._isDraggable;this._isDraggable=!1;const Oe={passive:!0,capture:!0};window.addEventListener("pointermove",Ae,Oe);const Ge=this.x,qe=this.y,Ue=this.width,Ze=this.height,it=this.parent.div.style.cursor,Je=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(le.target).cursor;const nt=()=>{this._isDraggable=Ce,window.removeEventListener("pointerup",nt),window.removeEventListener("blur",nt),window.removeEventListener("pointermove",Ae,Oe),this.parent.div.style.cursor=it,this.div.style.cursor=Je;const ht=this.x,ot=this.y,mt=this.width,st=this.height;ht===Ge&&ot===qe&&mt===Ue&&st===Ze||this.addCommands({cmd:()=>{this.width=mt,this.height=st,this.x=ht,this.y=ot;const[Ve,We]=this.parentDimensions;this.setDims(Ve*mt,We*st),this.fixAndSetPosition()},undo:()=>{this.width=Ue,this.height=Ze,this.x=Ge,this.y=qe;const[Ve,We]=this.parentDimensions;this.setDims(Ve*Ue,We*Ze),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",nt),window.addEventListener("blur",nt)},Te=new WeakSet,cr=function(b,le){const[ve,Ae]=this.parentDimensions,Ce=this.x,Oe=this.y,Ge=this.width,qe=this.height,Ue=ne.MIN_SIZE/ve,Ze=ne.MIN_SIZE/Ae,it=ct=>Math.round(ct*1e4)/1e4,Je=Ne(this,Se,Tn).call(this,this.rotation),nt=(ct,dt)=>[Je[0]*ct+Je[2]*dt,Je[1]*ct+Je[3]*dt],ht=Ne(this,Se,Tn).call(this,360-this.rotation),ot=(ct,dt)=>[ht[0]*ct+ht[2]*dt,ht[1]*ct+ht[3]*dt];let mt,st,Ve=!1,We=!1;switch(b){case"topLeft":Ve=!0,mt=(ct,dt)=>[0,0],st=(ct,dt)=>[ct,dt];break;case"topMiddle":mt=(ct,dt)=>[ct/2,0],st=(ct,dt)=>[ct/2,dt];break;case"topRight":Ve=!0,mt=(ct,dt)=>[ct,0],st=(ct,dt)=>[0,dt];break;case"middleRight":We=!0,mt=(ct,dt)=>[ct,dt/2],st=(ct,dt)=>[0,dt/2];break;case"bottomRight":Ve=!0,mt=(ct,dt)=>[ct,dt],st=(ct,dt)=>[0,0];break;case"bottomMiddle":mt=(ct,dt)=>[ct/2,dt],st=(ct,dt)=>[ct/2,0];break;case"bottomLeft":Ve=!0,mt=(ct,dt)=>[0,dt],st=(ct,dt)=>[ct,0];break;case"middleLeft":We=!0,mt=(ct,dt)=>[0,dt/2],st=(ct,dt)=>[ct,dt/2];break}const He=mt(Ge,qe),at=st(Ge,qe);let ft=nt(...at);const Pt=it(Ce+ft[0]),Tt=it(Oe+ft[1]);let Et=1,jt=1,[Ct,$t]=this.screenToPageTranslation(le.movementX,le.movementY);if([Ct,$t]=ot(Ct/ve,$t/Ae),Ve){const ct=Math.hypot(Ge,qe);Et=jt=Math.max(Math.min(Math.hypot(at[0]-He[0]-Ct,at[1]-He[1]-$t)/ct,1/Ge,1/qe),Ue/Ge,Ze/qe)}else We?Et=Math.max(Ue,Math.min(1,Math.abs(at[0]-He[0]-Ct)))/Ge:jt=Math.max(Ze,Math.min(1,Math.abs(at[1]-He[1]-$t)))/qe;const Rt=it(Ge*Et),rt=it(qe*jt);ft=nt(...st(Rt,rt));const Ye=Pt-ft[0],Be=Tt-ft[1];this.width=Rt,this.height=rt,this.x=Ye,this.y=Be,this.setDims(ve*Rt,Ae*rt),this.fixAndSetPosition()},Fe=new WeakSet,On=async function(){var ve;const b=j(this,g);if(!b)return;if(!j(this,ee)&&!j(this,f)){b.classList.remove("done"),(ve=j(this,he))==null||ve.remove();return}ne._l10nPromise.get("editor_alt_text_edit_button_label").then(Ae=>{b.setAttribute("aria-label",Ae)});let le=j(this,he);if(!le){Qe(this,he,le=document.createElement("span")),le.className="tooltip",le.setAttribute("role","tooltip");const Ae=le.id=`alt-text-tooltip-${this.id}`;b.setAttribute("aria-describedby",Ae);const Ce=100;b.addEventListener("mouseenter",()=>{Qe(this,ge,setTimeout(()=>{Qe(this,ge,null),j(this,he).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ce))}),b.addEventListener("mouseleave",()=>{var Oe;clearTimeout(j(this,ge)),Qe(this,ge,null),(Oe=j(this,he))==null||Oe.classList.remove("show")})}b.classList.add("done"),le.innerText=j(this,f)?await ne._l10nPromise.get("editor_alt_text_decorative_tooltip"):j(this,ee),le.parentNode||b.append(le)},tt=new WeakSet,ur=function(b){if(!this._isDraggable)return;const le=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ve,Ae;le&&(ve={passive:!0,capture:!0},Ae=Oe=>{const[Ge,qe]=this.screenToPageTranslation(Oe.movementX,Oe.movementY);this._uiManager.dragSelectedEditors(Ge,qe)},window.addEventListener("pointermove",Ae,ve));const Ce=()=>{if(window.removeEventListener("pointerup",Ce),window.removeEventListener("blur",Ce),le&&window.removeEventListener("pointermove",Ae,ve),Qe(this,se,!1),!this._uiManager.endDragSession()){const{isMac:Oe}=c.FeatureTest.platform;b.ctrlKey&&!Oe||b.shiftKey||b.metaKey&&Oe?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ce),window.addEventListener("blur",Ce)},De(ne,_e),Ut(ne,"_borderLineWidth",-1),Ut(ne,"_colorManager",new o.ColorManager),Ut(ne,"_zIndex",1),Ut(ne,"SMALL_EDITOR_SIZE",0);let h=ne;i.AnnotationEditor=h;class _ extends h{constructor(b){super(b),this.annotationElementId=b.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,a)=>{var te,re,be,q,se,jn,ae,$,ie,we,de,dr,oe,Se,Ee,ye,je,Le,xe,Te,Re,Fe,Ke,tt,Pe,ne,fe,b,le,ve,Ae,Ce,Oe,Ge,qe,Ue,Ze,it,Je,nt,ht,ot,mt,st,Ve,We,He,hr,ft,Rn,Tt,kn,jt,hn,$t,Mn,rt,Dn,Be,zt,dt,nn,Nt,fr,pt,pr,_t,Fn,At,rn,ut,Ln;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=d,i.opacityToHex=h;var o=a(1),c=a(6);function d(ke,ce,$e){for(const Me of $e)ce.addEventListener(Me,ke[Me].bind(ke))}function h(ke){return Math.round(Math.min(255,Math.max(1,255*ke))).toString(16).padStart(2,"0")}class _{constructor(){De(this,te,0)}getId(){return`${o.AnnotationEditorPrefix}${tn(this,te)._++}`}}te=new WeakMap;const ue=class ue{constructor(){De(this,se);De(this,re,(0,o.getUuid)());De(this,be,0);De(this,q,null)}static get _isSVGFittingCanvas(){const ce='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Me=new OffscreenCanvas(1,3).getContext("2d"),Ie=new Image;Ie.src=ce;const ze=Ie.decode().then(()=>(Me.drawImage(Ie,0,0,1,1,0,0,1,3),new Uint32Array(Me.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",ze)}async getFromFile(ce){const{lastModified:$e,name:Me,size:Ie,type:ze}=ce;return Ne(this,se,jn).call(this,`${$e}_${Me}_${Ie}_${ze}`,ce)}async getFromUrl(ce){return Ne(this,se,jn).call(this,ce,ce)}async getFromId(ce){j(this,q)||Qe(this,q,new Map);const $e=j(this,q).get(ce);return $e?$e.bitmap?($e.refCounter+=1,$e):$e.file?this.getFromFile($e.file):this.getFromUrl($e.url):null}getSvgUrl(ce){const $e=j(this,q).get(ce);return $e!=null&&$e.isSvg?$e.svgUrl:null}deleteId(ce){j(this,q)||Qe(this,q,new Map);const $e=j(this,q).get(ce);$e&&($e.refCounter-=1,$e.refCounter===0&&($e.bitmap=null))}isValidId(ce){return ce.startsWith(`image_${j(this,re)}_`)}};re=new WeakMap,be=new WeakMap,q=new WeakMap,se=new WeakSet,jn=async function(ce,$e){j(this,q)||Qe(this,q,new Map);let Me=j(this,q).get(ce);if(Me===null)return null;if(Me!=null&&Me.bitmap)return Me.refCounter+=1,Me;try{Me||(Me={bitmap:null,id:`image_${j(this,re)}_${tn(this,be)._++}`,refCounter:0,isSvg:!1});let Ie;if(typeof $e=="string"){Me.url=$e;const ze=await fetch($e);if(!ze.ok)throw new Error(ze.statusText);Ie=await ze.blob()}else Ie=Me.file=$e;if(Ie.type==="image/svg+xml"){const ze=ue._isSVGFittingCanvas,et=new FileReader,lt=new Image,bt=new Promise((gt,kt)=>{lt.onload=()=>{Me.bitmap=lt,Me.isSvg=!0,gt()},et.onload=async()=>{const vt=Me.svgUrl=et.result;lt.src=await ze?`${vt}#svgView(preserveAspectRatio(none))`:vt},lt.onerror=et.onerror=kt});et.readAsDataURL(Ie),await bt}else Me.bitmap=await createImageBitmap(Ie);Me.refCounter=1}catch(Ie){console.error(Ie),Me=null}return j(this,q).set(ce,Me),Me&&j(this,q).set(Me.id,Me),Me};let ee=ue;class f{constructor(ce=128){De(this,ae,[]);De(this,$,!1);De(this,ie,void 0);De(this,we,-1);Qe(this,ie,ce)}add({cmd:ce,undo:$e,mustExec:Me,type:Ie=NaN,overwriteIfSameType:ze=!1,keepUndo:et=!1}){if(Me&&ce(),j(this,$))return;const lt={cmd:ce,undo:$e,type:Ie};if(j(this,we)===-1){j(this,ae).length>0&&(j(this,ae).length=0),Qe(this,we,0),j(this,ae).push(lt);return}if(ze&&j(this,ae)[j(this,we)].type===Ie){et&&(lt.undo=j(this,ae)[j(this,we)].undo),j(this,ae)[j(this,we)]=lt;return}const bt=j(this,we)+1;bt===j(this,ie)?j(this,ae).splice(0,1):(Qe(this,we,bt),bt<j(this,ae).length&&j(this,ae).splice(bt)),j(this,ae).push(lt)}undo(){j(this,we)!==-1&&(Qe(this,$,!0),j(this,ae)[j(this,we)].undo(),Qe(this,$,!1),Qe(this,we,j(this,we)-1))}redo(){j(this,we)<j(this,ae).length-1&&(Qe(this,we,j(this,we)+1),Qe(this,$,!0),j(this,ae)[j(this,we)].cmd(),Qe(this,$,!1))}hasSomethingToUndo(){return j(this,we)!==-1}hasSomethingToRedo(){return j(this,we)<j(this,ae).length-1}destroy(){Qe(this,ae,null)}}ae=new WeakMap,$=new WeakMap,ie=new WeakMap,we=new WeakMap,i.CommandManager=f;class g{constructor(ce){De(this,de);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:$e}=o.FeatureTest.platform;for(const[Me,Ie,ze={}]of ce)for(const et of Me){const lt=et.startsWith("mac+");$e&&lt?(this.callbacks.set(et.slice(4),{callback:Ie,options:ze}),this.allKeys.add(et.split("+").at(-1))):!$e&&!lt&&(this.callbacks.set(et,{callback:Ie,options:ze}),this.allKeys.add(et.split("+").at(-1)))}}exec(ce,$e){if(!this.allKeys.has($e.key))return;const Me=this.callbacks.get(Ne(this,de,dr).call(this,$e));if(!Me)return;const{callback:Ie,options:{bubbles:ze=!1,args:et=[],checker:lt=null}}=Me;lt&&!lt(ce,$e)||(Ie.bind(ce,...et)(),ze||($e.stopPropagation(),$e.preventDefault()))}}de=new WeakSet,dr=function(ce){ce.altKey&&this.buffer.push("alt"),ce.ctrlKey&&this.buffer.push("ctrl"),ce.metaKey&&this.buffer.push("meta"),ce.shiftKey&&this.buffer.push("shift"),this.buffer.push(ce.key);const $e=this.buffer.join("+");return this.buffer.length=0,$e},i.KeyboardManager=g;const _e=class _e{get _colors(){const ce=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(ce),(0,o.shadow)(this,"_colors",ce)}convert(ce){const $e=(0,c.getRGB)(ce);if(!window.matchMedia("(forced-colors: active)").matches)return $e;for(const[Me,Ie]of this._colors)if(Ie.every((ze,et)=>ze===$e[et]))return _e._colorsMapping.get(Me);return $e}getHexCode(ce){const $e=this._colors.get(ce);return $e?o.Util.makeHexColor(...$e):ce}};Ut(_e,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let he=_e;i.ColorManager=he;const St=class St{constructor(ce,$e,Me,Ie,ze,et){De(this,He);De(this,ft);De(this,Tt);De(this,jt);De(this,$t);De(this,rt);De(this,Be);De(this,dt);De(this,Nt);De(this,pt);De(this,_t);De(this,At);De(this,ut);De(this,oe,null);De(this,Se,new Map);De(this,Ee,new Map);De(this,ye,null);De(this,je,null);De(this,Le,new f);De(this,xe,0);De(this,Te,new Set);De(this,Re,null);De(this,Fe,null);De(this,Ke,new Set);De(this,tt,null);De(this,Pe,new _);De(this,ne,!1);De(this,fe,!1);De(this,b,null);De(this,le,o.AnnotationEditorType.NONE);De(this,ve,new Set);De(this,Ae,null);De(this,Ce,this.blur.bind(this));De(this,Oe,this.focus.bind(this));De(this,Ge,this.copy.bind(this));De(this,qe,this.cut.bind(this));De(this,Ue,this.paste.bind(this));De(this,Ze,this.keydown.bind(this));De(this,it,this.onEditingAction.bind(this));De(this,Je,this.onPageChanging.bind(this));De(this,nt,this.onScaleChanging.bind(this));De(this,ht,this.onRotationChanging.bind(this));De(this,ot,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});De(this,mt,[0,0]);De(this,st,null);De(this,Ve,null);De(this,We,null);Qe(this,Ve,ce),Qe(this,We,$e),Qe(this,ye,Me),this._eventBus=Ie,this._eventBus._on("editingaction",j(this,it)),this._eventBus._on("pagechanging",j(this,Je)),this._eventBus._on("scalechanging",j(this,nt)),this._eventBus._on("rotationchanging",j(this,ht)),Qe(this,je,ze.annotationStorage),Qe(this,tt,ze.filterFactory),Qe(this,Ae,et),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const ce=St.prototype,$e=ze=>{const{activeElement:et}=document;return et&&j(ze,Ve).contains(et)&&ze.hasSomethingToControl()},Me=this.TRANSLATE_SMALL,Ie=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],ce.selectAll],[["ctrl+z","mac+meta+z"],ce.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ce.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ce.delete],[["Escape","mac+Escape"],ce.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ce.translateSelectedEditors,{args:[-Me,0],checker:$e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ce.translateSelectedEditors,{args:[-Ie,0],checker:$e}],[["ArrowRight","mac+ArrowRight"],ce.translateSelectedEditors,{args:[Me,0],checker:$e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ce.translateSelectedEditors,{args:[Ie,0],checker:$e}],[["ArrowUp","mac+ArrowUp"],ce.translateSelectedEditors,{args:[0,-Me],checker:$e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ce.translateSelectedEditors,{args:[0,-Ie],checker:$e}],[["ArrowDown","mac+ArrowDown"],ce.translateSelectedEditors,{args:[0,Me],checker:$e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ce.translateSelectedEditors,{args:[0,Ie],checker:$e}]]))}destroy(){Ne(this,jt,hn).call(this),Ne(this,ft,Rn).call(this),this._eventBus._off("editingaction",j(this,it)),this._eventBus._off("pagechanging",j(this,Je)),this._eventBus._off("scalechanging",j(this,nt)),this._eventBus._off("rotationchanging",j(this,ht));for(const ce of j(this,Ee).values())ce.destroy();j(this,Ee).clear(),j(this,Se).clear(),j(this,Ke).clear(),Qe(this,oe,null),j(this,ve).clear(),j(this,Le).destroy(),j(this,ye).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",j(this,Ae)?j(this,tt).addHCMFilter(j(this,Ae).foreground,j(this,Ae).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(j(this,Ve)).direction)}editAltText(ce){var $e;($e=j(this,ye))==null||$e.editAltText(this,ce)}onPageChanging({pageNumber:ce}){Qe(this,xe,ce-1)}focusMainContainer(){j(this,Ve).focus()}findParent(ce,$e){for(const Me of j(this,Ee).values()){const{x:Ie,y:ze,width:et,height:lt}=Me.div.getBoundingClientRect();if(ce>=Ie&&ce<=Ie+et&&$e>=ze&&$e<=ze+lt)return Me}return null}disableUserSelect(ce=!1){j(this,We).classList.toggle("noUserSelect",ce)}addShouldRescale(ce){j(this,Ke).add(ce)}removeShouldRescale(ce){j(this,Ke).delete(ce)}onScaleChanging({scale:ce}){this.commitOrRemove(),this.viewParameters.realScale=ce*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const $e of j(this,Ke))$e.onScaleChanging()}onRotationChanging({pagesRotation:ce}){this.commitOrRemove(),this.viewParameters.rotation=ce}addToAnnotationStorage(ce){!ce.isEmpty()&&j(this,je)&&!j(this,je).has(ce.id)&&j(this,je).setValue(ce.id,ce)}blur(){if(!this.hasSelection)return;const{activeElement:ce}=document;for(const $e of j(this,ve))if($e.div.contains(ce)){Qe(this,b,[$e,ce]),$e._focusEventsAllowed=!1;break}}focus(){if(!j(this,b))return;const[ce,$e]=j(this,b);Qe(this,b,null),$e.addEventListener("focusin",()=>{ce._focusEventsAllowed=!0},{once:!0}),$e.focus()}addEditListeners(){Ne(this,Tt,kn).call(this),Ne(this,$t,Mn).call(this)}removeEditListeners(){Ne(this,jt,hn).call(this),Ne(this,rt,Dn).call(this)}copy(ce){var Me;if(ce.preventDefault(),(Me=j(this,oe))==null||Me.commitOrRemove(),!this.hasSelection)return;const $e=[];for(const Ie of j(this,ve)){const ze=Ie.serialize(!0);ze&&$e.push(ze)}$e.length!==0&&ce.clipboardData.setData("application/pdfjs",JSON.stringify($e))}cut(ce){this.copy(ce),this.delete()}paste(ce){ce.preventDefault();const{clipboardData:$e}=ce;for(const ze of $e.items)for(const et of j(this,Fe))if(et.isHandlingMimeForPasting(ze.type)){et.paste(ze,this.currentLayer);return}let Me=$e.getData("application/pdfjs");if(!Me)return;try{Me=JSON.parse(Me)}catch(ze){(0,o.warn)(`paste: "${ze.message}".`);return}if(!Array.isArray(Me))return;this.unselectAll();const Ie=this.currentLayer;try{const ze=[];for(const bt of Me){const gt=Ie.deserialize(bt);if(!gt)return;ze.push(gt)}const et=()=>{for(const bt of ze)Ne(this,_t,Fn).call(this,bt);Ne(this,ut,Ln).call(this,ze)},lt=()=>{for(const bt of ze)bt.remove()};this.addCommands({cmd:et,undo:lt,mustExec:!0})}catch(ze){(0,o.warn)(`paste: "${ze.message}".`)}}keydown(ce){var $e;($e=this.getActive())!=null&&$e.shouldGetKeyboardEvents()||St._keyboardManager.exec(this,ce)}onEditingAction(ce){["undo","redo","delete","selectAll"].includes(ce.name)&&this[ce.name]()}setEditingState(ce){ce?(Ne(this,He,hr).call(this),Ne(this,Tt,kn).call(this),Ne(this,$t,Mn).call(this),Ne(this,Be,zt).call(this,{isEditing:j(this,le)!==o.AnnotationEditorType.NONE,isEmpty:Ne(this,At,rn).call(this),hasSomethingToUndo:j(this,Le).hasSomethingToUndo(),hasSomethingToRedo:j(this,Le).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ne(this,ft,Rn).call(this),Ne(this,jt,hn).call(this),Ne(this,rt,Dn).call(this),Ne(this,Be,zt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ce){if(!j(this,Fe)){Qe(this,Fe,ce);for(const $e of j(this,Fe))Ne(this,dt,nn).call(this,$e.defaultPropertiesToUpdate)}}getId(){return j(this,Pe).getId()}get currentLayer(){return j(this,Ee).get(j(this,xe))}getLayer(ce){return j(this,Ee).get(ce)}get currentPageIndex(){return j(this,xe)}addLayer(ce){j(this,Ee).set(ce.pageIndex,ce),j(this,ne)?ce.enable():ce.disable()}removeLayer(ce){j(this,Ee).delete(ce.pageIndex)}updateMode(ce,$e=null){if(j(this,le)!==ce){if(Qe(this,le,ce),ce===o.AnnotationEditorType.NONE){this.setEditingState(!1),Ne(this,pt,pr).call(this);return}this.setEditingState(!0),Ne(this,Nt,fr).call(this),this.unselectAll();for(const Me of j(this,Ee).values())Me.updateMode(ce);if($e){for(const Me of j(this,Se).values())if(Me.annotationElementId===$e){this.setSelected(Me),Me.enterInEditMode();break}}}}updateToolbar(ce){ce!==j(this,le)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:ce})}updateParams(ce,$e){if(j(this,Fe)){if(ce===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(ce);return}for(const Me of j(this,ve))Me.updateParams(ce,$e);for(const Me of j(this,Fe))Me.updateDefaultParams(ce,$e)}}enableWaiting(ce=!1){if(j(this,fe)!==ce){Qe(this,fe,ce);for(const $e of j(this,Ee).values())ce?$e.disableClick():$e.enableClick(),$e.div.classList.toggle("waiting",ce)}}getEditors(ce){const $e=[];for(const Me of j(this,Se).values())Me.pageIndex===ce&&$e.push(Me);return $e}getEditor(ce){return j(this,Se).get(ce)}addEditor(ce){j(this,Se).set(ce.id,ce)}removeEditor(ce){var $e;j(this,Se).delete(ce.id),this.unselect(ce),(!ce.annotationElementId||!j(this,Te).has(ce.annotationElementId))&&(($e=j(this,je))==null||$e.remove(ce.id))}addDeletedAnnotationElement(ce){j(this,Te).add(ce.annotationElementId),ce.deleted=!0}isDeletedAnnotationElement(ce){return j(this,Te).has(ce)}removeDeletedAnnotationElement(ce){j(this,Te).delete(ce.annotationElementId),ce.deleted=!1}setActiveEditor(ce){j(this,oe)!==ce&&(Qe(this,oe,ce),ce&&Ne(this,dt,nn).call(this,ce.propertiesToUpdate))}toggleSelected(ce){if(j(this,ve).has(ce)){j(this,ve).delete(ce),ce.unselect(),Ne(this,Be,zt).call(this,{hasSelectedEditor:this.hasSelection});return}j(this,ve).add(ce),ce.select(),Ne(this,dt,nn).call(this,ce.propertiesToUpdate),Ne(this,Be,zt).call(this,{hasSelectedEditor:!0})}setSelected(ce){for(const $e of j(this,ve))$e!==ce&&$e.unselect();j(this,ve).clear(),j(this,ve).add(ce),ce.select(),Ne(this,dt,nn).call(this,ce.propertiesToUpdate),Ne(this,Be,zt).call(this,{hasSelectedEditor:!0})}isSelected(ce){return j(this,ve).has(ce)}unselect(ce){ce.unselect(),j(this,ve).delete(ce),Ne(this,Be,zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return j(this,ve).size!==0}undo(){j(this,Le).undo(),Ne(this,Be,zt).call(this,{hasSomethingToUndo:j(this,Le).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ne(this,At,rn).call(this)})}redo(){j(this,Le).redo(),Ne(this,Be,zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:j(this,Le).hasSomethingToRedo(),isEmpty:Ne(this,At,rn).call(this)})}addCommands(ce){j(this,Le).add(ce),Ne(this,Be,zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ne(this,At,rn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ce=[...j(this,ve)],$e=()=>{for(const Ie of ce)Ie.remove()},Me=()=>{for(const Ie of ce)Ne(this,_t,Fn).call(this,Ie)};this.addCommands({cmd:$e,undo:Me,mustExec:!0})}commitOrRemove(){var ce;(ce=j(this,oe))==null||ce.commitOrRemove()}hasSomethingToControl(){return j(this,oe)||this.hasSelection}selectAll(){for(const ce of j(this,ve))ce.commit();Ne(this,ut,Ln).call(this,j(this,Se).values())}unselectAll(){if(j(this,oe)){j(this,oe).commitOrRemove();return}if(this.hasSelection){for(const ce of j(this,ve))ce.unselect();j(this,ve).clear(),Ne(this,Be,zt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ce,$e,Me=!1){if(Me||this.commitOrRemove(),!this.hasSelection)return;j(this,mt)[0]+=ce,j(this,mt)[1]+=$e;const[Ie,ze]=j(this,mt),et=[...j(this,ve)],lt=1e3;j(this,st)&&clearTimeout(j(this,st)),Qe(this,st,setTimeout(()=>{Qe(this,st,null),j(this,mt)[0]=j(this,mt)[1]=0,this.addCommands({cmd:()=>{for(const bt of et)j(this,Se).has(bt.id)&&bt.translateInPage(Ie,ze)},undo:()=>{for(const bt of et)j(this,Se).has(bt.id)&&bt.translateInPage(-Ie,-ze)},mustExec:!1})},lt));for(const bt of et)bt.translateInPage(ce,$e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Qe(this,Re,new Map);for(const ce of j(this,ve))j(this,Re).set(ce,{savedX:ce.x,savedY:ce.y,savedPageIndex:ce.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!j(this,Re))return!1;this.disableUserSelect(!1);const ce=j(this,Re);Qe(this,Re,null);let $e=!1;for(const[{x:Ie,y:ze,pageIndex:et},lt]of ce)lt.newX=Ie,lt.newY=ze,lt.newPageIndex=et,$e||($e=Ie!==lt.savedX||ze!==lt.savedY||et!==lt.savedPageIndex);if(!$e)return!1;const Me=(Ie,ze,et,lt)=>{if(j(this,Se).has(Ie.id)){const bt=j(this,Ee).get(lt);bt?Ie._setParentAndPosition(bt,ze,et):(Ie.pageIndex=lt,Ie.x=ze,Ie.y=et)}};return this.addCommands({cmd:()=>{for(const[Ie,{newX:ze,newY:et,newPageIndex:lt}]of ce)Me(Ie,ze,et,lt)},undo:()=>{for(const[Ie,{savedX:ze,savedY:et,savedPageIndex:lt}]of ce)Me(Ie,ze,et,lt)},mustExec:!0}),!0}dragSelectedEditors(ce,$e){if(j(this,Re))for(const Me of j(this,Re).keys())Me.drag(ce,$e)}rebuild(ce){if(ce.parent===null){const $e=this.getLayer(ce.pageIndex);$e?($e.changeParent(ce),$e.addOrRebuild(ce)):(this.addEditor(ce),this.addToAnnotationStorage(ce),ce.rebuild())}else ce.parent.addOrRebuild(ce)}isActive(ce){return j(this,oe)===ce}getActive(){return j(this,oe)}getMode(){return j(this,le)}get imageManager(){return(0,o.shadow)(this,"imageManager",new ee)}};oe=new WeakMap,Se=new WeakMap,Ee=new WeakMap,ye=new WeakMap,je=new WeakMap,Le=new WeakMap,xe=new WeakMap,Te=new WeakMap,Re=new WeakMap,Fe=new WeakMap,Ke=new WeakMap,tt=new WeakMap,Pe=new WeakMap,ne=new WeakMap,fe=new WeakMap,b=new WeakMap,le=new WeakMap,ve=new WeakMap,Ae=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ze=new WeakMap,it=new WeakMap,Je=new WeakMap,nt=new WeakMap,ht=new WeakMap,ot=new WeakMap,mt=new WeakMap,st=new WeakMap,Ve=new WeakMap,We=new WeakMap,He=new WeakSet,hr=function(){window.addEventListener("focus",j(this,Oe)),window.addEventListener("blur",j(this,Ce))},ft=new WeakSet,Rn=function(){window.removeEventListener("focus",j(this,Oe)),window.removeEventListener("blur",j(this,Ce))},Tt=new WeakSet,kn=function(){window.addEventListener("keydown",j(this,Ze),{capture:!0})},jt=new WeakSet,hn=function(){window.removeEventListener("keydown",j(this,Ze),{capture:!0})},$t=new WeakSet,Mn=function(){document.addEventListener("copy",j(this,Ge)),document.addEventListener("cut",j(this,qe)),document.addEventListener("paste",j(this,Ue))},rt=new WeakSet,Dn=function(){document.removeEventListener("copy",j(this,Ge)),document.removeEventListener("cut",j(this,qe)),document.removeEventListener("paste",j(this,Ue))},Be=new WeakSet,zt=function(ce){Object.entries(ce).some(([Me,Ie])=>j(this,ot)[Me]!==Ie)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(j(this,ot),ce)})},dt=new WeakSet,nn=function(ce){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ce})},Nt=new WeakSet,fr=function(){if(!j(this,ne)){Qe(this,ne,!0);for(const ce of j(this,Ee).values())ce.enable()}},pt=new WeakSet,pr=function(){if(this.unselectAll(),j(this,ne)){Qe(this,ne,!1);for(const ce of j(this,Ee).values())ce.disable()}},_t=new WeakSet,Fn=function(ce){const $e=j(this,Ee).get(ce.pageIndex);$e?$e.addOrRebuild(ce):this.addEditor(ce)},At=new WeakSet,rn=function(){if(j(this,Se).size===0)return!0;if(j(this,Se).size===1)for(const ce of j(this,Se).values())return ce.isEmpty();return!1},ut=new WeakSet,Ln=function(ce){j(this,ve).clear();for(const $e of ce)$e.isEmpty()||(j(this,ve).add($e),$e.select());Ne(this,Be,zt).call(this,{hasSelectedEditor:!0})},Ut(St,"TRANSLATE_SMALL",1),Ut(St,"TRANSLATE_BIG",10);let ge=St;i.AnnotationEditorUIManager=ge},(e,i,a)=>{var xe,Te,Re,Fe,Ke,tt,Pe,ne,fe,b,le,ve,Qt,Ce,Jt,Ge,In,Ue,fn,it,pn,nt,sn,ot,an;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=we,i.getColorValues=Se,i.getCurrentTransform=Ee,i.getCurrentTransformInverse=ye,i.getFilenameFromUrl=se,i.getPdfFilenameFromUrl=me,i.getRGB=oe,i.getXfaPageViewport=_e,i.isDataScheme=be,i.isPdfFile=q,i.isValidFetchUrl=ae,i.loadScript=ie,i.noContextMenu=$,i.setLayerDimensions=je;var o=a(7),c=a(1);const d="http://www.w3.org/2000/svg",Le=class Le{};Ut(Le,"CSS",96),Ut(Le,"PDF",72),Ut(Le,"PDF_TO_CSS_UNITS",Le.CSS/Le.PDF);let h=Le;i.PixelsPerInch=h;class _ extends o.BaseFilterFactory{constructor({docId:We,ownerDocument:He=globalThis.document}={}){super();De(this,ve);De(this,Ce);De(this,Ge);De(this,Ue);De(this,it);De(this,nt);De(this,ot);De(this,xe,void 0);De(this,Te,void 0);De(this,Re,void 0);De(this,Fe,void 0);De(this,Ke,void 0);De(this,tt,void 0);De(this,Pe,void 0);De(this,ne,void 0);De(this,fe,void 0);De(this,b,void 0);De(this,le,0);Qe(this,Re,We),Qe(this,Fe,He)}addFilter(We){if(!We)return"none";let He=j(this,ve,Qt).get(We);if(He)return He;let at,ft,Pt,Tt;if(We.length===1){const $t=We[0],Rt=new Array(256);for(let rt=0;rt<256;rt++)Rt[rt]=$t[rt]/255;Tt=at=ft=Pt=Rt.join(",")}else{const[$t,Rt,rt]=We,Ye=new Array(256),Be=new Array(256),ct=new Array(256);for(let dt=0;dt<256;dt++)Ye[dt]=$t[dt]/255,Be[dt]=Rt[dt]/255,ct[dt]=rt[dt]/255;at=Ye.join(","),ft=Be.join(","),Pt=ct.join(","),Tt=`${at}${ft}${Pt}`}if(He=j(this,ve,Qt).get(Tt),He)return j(this,ve,Qt).set(We,He),He;const Et=`g_${j(this,Re)}_transfer_map_${tn(this,le)._++}`,jt=`url(#${Et})`;j(this,ve,Qt).set(We,jt),j(this,ve,Qt).set(Tt,jt);const Ct=Ne(this,Ue,fn).call(this,Et);return Ne(this,nt,sn).call(this,at,ft,Pt,Ct),jt}addHCMFilter(We,He){var Rt;const at=`${We}-${He}`;if(j(this,tt)===at)return j(this,Pe);if(Qe(this,tt,at),Qe(this,Pe,"none"),(Rt=j(this,Ke))==null||Rt.remove(),!We||!He)return j(this,Pe);const ft=Ne(this,ot,an).call(this,We);We=c.Util.makeHexColor(...ft);const Pt=Ne(this,ot,an).call(this,He);if(He=c.Util.makeHexColor(...Pt),j(this,Ce,Jt).style.color="",We==="#000000"&&He==="#ffffff"||We===He)return j(this,Pe);const Tt=new Array(256);for(let rt=0;rt<=255;rt++){const Ye=rt/255;Tt[rt]=Ye<=.03928?Ye/12.92:((Ye+.055)/1.055)**2.4}const Et=Tt.join(","),jt=`g_${j(this,Re)}_hcm_filter`,Ct=Qe(this,ne,Ne(this,Ue,fn).call(this,jt));Ne(this,nt,sn).call(this,Et,Et,Et,Ct),Ne(this,Ge,In).call(this,Ct);const $t=(rt,Ye)=>{const Be=ft[rt]/255,ct=Pt[rt]/255,dt=new Array(Ye+1);for(let Bt=0;Bt<=Ye;Bt++)dt[Bt]=Be+Bt/Ye*(ct-Be);return dt.join(",")};return Ne(this,nt,sn).call(this,$t(0,5),$t(1,5),$t(2,5),Ct),Qe(this,Pe,`url(#${jt})`),j(this,Pe)}addHighlightHCMFilter(We,He,at,ft){var ct;const Pt=`${We}-${He}-${at}-${ft}`;if(j(this,fe)===Pt)return j(this,b);if(Qe(this,fe,Pt),Qe(this,b,"none"),(ct=j(this,ne))==null||ct.remove(),!We||!He)return j(this,b);const[Tt,Et]=[We,He].map(Ne(this,ot,an).bind(this));let jt=Math.round(.2126*Tt[0]+.7152*Tt[1]+.0722*Tt[2]),Ct=Math.round(.2126*Et[0]+.7152*Et[1]+.0722*Et[2]),[$t,Rt]=[at,ft].map(Ne(this,ot,an).bind(this));Ct<jt&&([jt,Ct,$t,Rt]=[Ct,jt,Rt,$t]),j(this,Ce,Jt).style.color="";const rt=(dt,Bt,Nt)=>{const Xe=new Array(256),pt=(Ct-jt)/Nt,wt=dt/255,_t=(Bt-dt)/(255*Nt);let xt=0;for(let At=0;At<=Nt;At++){const Lt=Math.round(jt+At*pt),ut=wt+At*_t;for(let Dt=xt;Dt<=Lt;Dt++)Xe[Dt]=ut;xt=Lt+1}for(let At=xt;At<256;At++)Xe[At]=Xe[xt-1];return Xe.join(",")},Ye=`g_${j(this,Re)}_hcm_highlight_filter`,Be=Qe(this,ne,Ne(this,Ue,fn).call(this,Ye));return Ne(this,Ge,In).call(this,Be),Ne(this,nt,sn).call(this,rt($t[0],Rt[0],5),rt($t[1],Rt[1],5),rt($t[2],Rt[2],5),Be),Qe(this,b,`url(#${Ye})`),j(this,b)}destroy(We=!1){We&&(j(this,Pe)||j(this,b))||(j(this,Te)&&(j(this,Te).parentNode.parentNode.remove(),Qe(this,Te,null)),j(this,xe)&&(j(this,xe).clear(),Qe(this,xe,null)),Qe(this,le,0))}}xe=new WeakMap,Te=new WeakMap,Re=new WeakMap,Fe=new WeakMap,Ke=new WeakMap,tt=new WeakMap,Pe=new WeakMap,ne=new WeakMap,fe=new WeakMap,b=new WeakMap,le=new WeakMap,ve=new WeakSet,Qt=function(){return j(this,xe)||Qe(this,xe,new Map)},Ce=new WeakSet,Jt=function(){if(!j(this,Te)){const We=j(this,Fe).createElement("div"),{style:He}=We;He.visibility="hidden",He.contain="strict",He.width=He.height=0,He.position="absolute",He.top=He.left=0,He.zIndex=-1;const at=j(this,Fe).createElementNS(d,"svg");at.setAttribute("width",0),at.setAttribute("height",0),Qe(this,Te,j(this,Fe).createElementNS(d,"defs")),We.append(at),at.append(j(this,Te)),j(this,Fe).body.append(We)}return j(this,Te)},Ge=new WeakSet,In=function(We){const He=j(this,Fe).createElementNS(d,"feColorMatrix");He.setAttribute("type","matrix"),He.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),We.append(He)},Ue=new WeakSet,fn=function(We){const He=j(this,Fe).createElementNS(d,"filter");return He.setAttribute("color-interpolation-filters","sRGB"),He.setAttribute("id",We),j(this,Ce,Jt).append(He),He},it=new WeakSet,pn=function(We,He,at){const ft=j(this,Fe).createElementNS(d,He);ft.setAttribute("type","discrete"),ft.setAttribute("tableValues",at),We.append(ft)},nt=new WeakSet,sn=function(We,He,at,ft){const Pt=j(this,Fe).createElementNS(d,"feComponentTransfer");ft.append(Pt),Ne(this,it,pn).call(this,Pt,"feFuncR",We),Ne(this,it,pn).call(this,Pt,"feFuncG",He),Ne(this,it,pn).call(this,Pt,"feFuncB",at)},ot=new WeakSet,an=function(We){return j(this,Ce,Jt).style.color=We,oe(getComputedStyle(j(this,Ce,Jt)).getPropertyValue("color"))},i.DOMFilterFactory=_;class ee extends o.BaseCanvasFactory{constructor({ownerDocument:Ve=globalThis.document}={}){super(),this._document=Ve}_createCanvas(Ve,We){const He=this._document.createElement("canvas");return He.width=Ve,He.height=We,He}}i.DOMCanvasFactory=ee;async function f(st,Ve=!1){if(ae(st,document.baseURI)){const We=await fetch(st);if(!We.ok)throw new Error(We.statusText);return Ve?new Uint8Array(await We.arrayBuffer()):(0,c.stringToBytes)(await We.text())}return new Promise((We,He)=>{const at=new XMLHttpRequest;at.open("GET",st,!0),Ve&&(at.responseType="arraybuffer"),at.onreadystatechange=()=>{if(at.readyState===XMLHttpRequest.DONE){if(at.status===200||at.status===0){let ft;if(Ve&&at.response?ft=new Uint8Array(at.response):!Ve&&at.responseText&&(ft=(0,c.stringToBytes)(at.responseText)),ft){We(ft);return}}He(new Error(at.statusText))}},at.send(null)})}class g extends o.BaseCMapReaderFactory{_fetchData(Ve,We){return f(Ve,this.isCompressed).then(He=>({cMapData:He,compressionType:We}))}}i.DOMCMapReaderFactory=g;class he extends o.BaseStandardFontDataFactory{_fetchData(Ve){return f(Ve,!0)}}i.DOMStandardFontDataFactory=he;class ge extends o.BaseSVGFactory{_createSVG(Ve){return document.createElementNS(d,Ve)}}i.DOMSVGFactory=ge;class te{constructor({viewBox:Ve,scale:We,rotation:He,offsetX:at=0,offsetY:ft=0,dontFlip:Pt=!1}){this.viewBox=Ve,this.scale=We,this.rotation=He,this.offsetX=at,this.offsetY=ft;const Tt=(Ve[2]+Ve[0])/2,Et=(Ve[3]+Ve[1])/2;let jt,Ct,$t,Rt;switch(He%=360,He<0&&(He+=360),He){case 180:jt=-1,Ct=0,$t=0,Rt=1;break;case 90:jt=0,Ct=1,$t=1,Rt=0;break;case 270:jt=0,Ct=-1,$t=-1,Rt=0;break;case 0:jt=1,Ct=0,$t=0,Rt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Pt&&($t=-$t,Rt=-Rt);let rt,Ye,Be,ct;jt===0?(rt=Math.abs(Et-Ve[1])*We+at,Ye=Math.abs(Tt-Ve[0])*We+ft,Be=(Ve[3]-Ve[1])*We,ct=(Ve[2]-Ve[0])*We):(rt=Math.abs(Tt-Ve[0])*We+at,Ye=Math.abs(Et-Ve[1])*We+ft,Be=(Ve[2]-Ve[0])*We,ct=(Ve[3]-Ve[1])*We),this.transform=[jt*We,Ct*We,$t*We,Rt*We,rt-jt*We*Tt-$t*We*Et,Ye-Ct*We*Tt-Rt*We*Et],this.width=Be,this.height=ct}get rawDims(){const{viewBox:Ve}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:Ve[2]-Ve[0],pageHeight:Ve[3]-Ve[1],pageX:Ve[0],pageY:Ve[1]})}clone({scale:Ve=this.scale,rotation:We=this.rotation,offsetX:He=this.offsetX,offsetY:at=this.offsetY,dontFlip:ft=!1}={}){return new te({viewBox:this.viewBox.slice(),scale:Ve,rotation:We,offsetX:He,offsetY:at,dontFlip:ft})}convertToViewportPoint(Ve,We){return c.Util.applyTransform([Ve,We],this.transform)}convertToViewportRectangle(Ve){const We=c.Util.applyTransform([Ve[0],Ve[1]],this.transform),He=c.Util.applyTransform([Ve[2],Ve[3]],this.transform);return[We[0],We[1],He[0],He[1]]}convertToPdfPoint(Ve,We){return c.Util.applyInverseTransform([Ve,We],this.transform)}}i.PageViewport=te;class re extends c.BaseException{constructor(Ve,We=0){super(Ve,"RenderingCancelledException"),this.extraDelay=We}}i.RenderingCancelledException=re;function be(st){const Ve=st.length;let We=0;for(;We<Ve&&st[We].trim()==="";)We++;return st.substring(We,We+5).toLowerCase()==="data:"}function q(st){return typeof st=="string"&&/\.pdf$/i.test(st)}function se(st,Ve=!1){return Ve||([st]=st.split(/[#?]/,1)),st.substring(st.lastIndexOf("/")+1)}function me(st,Ve="document.pdf"){if(typeof st!="string")return Ve;if(be(st))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ve;const We=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,He=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,at=We.exec(st);let ft=He.exec(at[1])||He.exec(at[2])||He.exec(at[3]);if(ft&&(ft=ft[0],ft.includes("%")))try{ft=He.exec(decodeURIComponent(ft))[0]}catch{}return ft||Ve}class ue{constructor(){Ut(this,"started",Object.create(null));Ut(this,"times",[])}time(Ve){Ve in this.started&&(0,c.warn)(`Timer is already running for ${Ve}`),this.started[Ve]=Date.now()}timeEnd(Ve){Ve in this.started||(0,c.warn)(`Timer has not been started for ${Ve}`),this.times.push({name:Ve,start:this.started[Ve],end:Date.now()}),delete this.started[Ve]}toString(){const Ve=[];let We=0;for(const{name:He}of this.times)We=Math.max(He.length,We);for(const{name:He,start:at,end:ft}of this.times)Ve.push(`${He.padEnd(We)} ${ft-at}ms
`);return Ve.join("")}}i.StatTimer=ue;function ae(st,Ve){try{const{protocol:We}=Ve?new URL(st,Ve):new URL(st);return We==="http:"||We==="https:"}catch{return!1}}function $(st){st.preventDefault()}function ie(st,Ve=!1){return new Promise((We,He)=>{const at=document.createElement("script");at.src=st,at.onload=function(ft){Ve&&at.remove(),We(ft)},at.onerror=function(){He(new Error(`Cannot load script at: ${at.src}`))},(document.head||document.documentElement).append(at)})}function we(st){console.log("Deprecated API usage: "+st)}let de;class m{static toDateObject(Ve){if(!Ve||typeof Ve!="string")return null;de||(de=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const We=de.exec(Ve);if(!We)return null;const He=parseInt(We[1],10);let at=parseInt(We[2],10);at=at>=1&&at<=12?at-1:0;let ft=parseInt(We[3],10);ft=ft>=1&&ft<=31?ft:1;let Pt=parseInt(We[4],10);Pt=Pt>=0&&Pt<=23?Pt:0;let Tt=parseInt(We[5],10);Tt=Tt>=0&&Tt<=59?Tt:0;let Et=parseInt(We[6],10);Et=Et>=0&&Et<=59?Et:0;const jt=We[7]||"Z";let Ct=parseInt(We[8],10);Ct=Ct>=0&&Ct<=23?Ct:0;let $t=parseInt(We[9],10)||0;return $t=$t>=0&&$t<=59?$t:0,jt==="-"?(Pt+=Ct,Tt+=$t):jt==="+"&&(Pt-=Ct,Tt-=$t),new Date(Date.UTC(He,at,ft,Pt,Tt,Et))}}i.PDFDateString=m;function _e(st,{scale:Ve=1,rotation:We=0}){const{width:He,height:at}=st.attributes.style,ft=[0,0,parseInt(He),parseInt(at)];return new te({viewBox:ft,scale:Ve,rotation:We})}function oe(st){if(st.startsWith("#")){const Ve=parseInt(st.slice(1),16);return[(Ve&16711680)>>16,(Ve&65280)>>8,Ve&255]}return st.startsWith("rgb(")?st.slice(4,-1).split(",").map(Ve=>parseInt(Ve)):st.startsWith("rgba(")?st.slice(5,-1).split(",").map(Ve=>parseInt(Ve)).slice(0,3):((0,c.warn)(`Not a valid color format: "${st}"`),[0,0,0])}function Se(st){const Ve=document.createElement("span");Ve.style.visibility="hidden",document.body.append(Ve);for(const We of st.keys()){Ve.style.color=We;const He=window.getComputedStyle(Ve).color;st.set(We,oe(He))}Ve.remove()}function Ee(st){const{a:Ve,b:We,c:He,d:at,e:ft,f:Pt}=st.getTransform();return[Ve,We,He,at,ft,Pt]}function ye(st){const{a:Ve,b:We,c:He,d:at,e:ft,f:Pt}=st.getTransform().invertSelf();return[Ve,We,He,at,ft,Pt]}function je(st,Ve,We=!1,He=!0){if(Ve instanceof te){const{pageWidth:at,pageHeight:ft}=Ve.rawDims,{style:Pt}=st,Tt=c.FeatureTest.isCSSRoundSupported,Et=`var(--scale-factor) * ${at}px`,jt=`var(--scale-factor) * ${ft}px`,Ct=Tt?`round(${Et}, 1px)`:`calc(${Et})`,$t=Tt?`round(${jt}, 1px)`:`calc(${jt})`;!We||Ve.rotation%180===0?(Pt.width=Ct,Pt.height=$t):(Pt.width=$t,Pt.height=Ct)}He&&st.setAttribute("data-main-rotation",Ve.rotation)}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=a(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,he){return"none"}addHighlightHCMFilter(g,he,ge,te){return"none"}destroy(g=!1){}}i.BaseFilterFactory=c;class d{constructor(){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,he){if(g<=0||he<=0)throw new Error("Invalid canvas size");const ge=this._createCanvas(g,he);return{canvas:ge,context:ge.getContext("2d")}}reset(g,he,ge){if(!g.canvas)throw new Error("Canvas is not specified");if(he<=0||ge<=0)throw new Error("Invalid canvas size");g.canvas.width=he,g.canvas.height=ge}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,he){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=d;class h{constructor({baseUrl:g=null,isCompressed:he=!0}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=he}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const he=this.baseUrl+g+(this.isCompressed?".bcmap":""),ge=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(he,ge).catch(te=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${he}`)})}_fetchData(g,he){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=h;class _{constructor({baseUrl:g=null}){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const he=`${this.baseUrl}${g}`;return this._fetchData(he).catch(ge=>{throw new Error(`Unable to load font data at: ${he}`)})}_fetchData(g){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=_;class ee{constructor(){this.constructor===ee&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,he,ge=!1){if(g<=0||he<=0)throw new Error("Invalid SVG dimensions");const te=this._createSVG("svg:svg");return te.setAttribute("version","1.1"),ge||(te.setAttribute("width",`${g}px`),te.setAttribute("height",`${he}px`)),te.setAttribute("preserveAspectRatio","none"),te.setAttribute("viewBox",`0 0 ${g} ${he}`),te}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=ee},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=a(1);const c=3285377520,d=4294901760,h=65535;class _{constructor(f){this.h1=f?f&4294967295:c,this.h2=f?f&4294967295:c}update(f){let g,he;if(typeof f=="string"){g=new Uint8Array(f.length*2),he=0;for(let we=0,de=f.length;we<de;we++){const m=f.charCodeAt(we);m<=255?g[he++]=m:(g[he++]=m>>>8,g[he++]=m&255)}}else if((0,o.isArrayBuffer)(f))g=f.slice(),he=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ge=he>>2,te=he-ge*4,re=new Uint32Array(g.buffer,0,ge);let be=0,q=0,se=this.h1,me=this.h2;const ue=3432918353,ae=461845907,$=ue&h,ie=ae&h;for(let we=0;we<ge;we++)we&1?(be=re[we],be=be*ue&d|be*$&h,be=be<<15|be>>>17,be=be*ae&d|be*ie&h,se^=be,se=se<<13|se>>>19,se=se*5+3864292196):(q=re[we],q=q*ue&d|q*$&h,q=q<<15|q>>>17,q=q*ae&d|q*ie&h,me^=q,me=me<<13|me>>>19,me=me*5+3864292196);switch(be=0,te){case 3:be^=g[ge*4+2]<<16;case 2:be^=g[ge*4+1]<<8;case 1:be^=g[ge*4],be=be*ue&d|be*$&h,be=be<<15|be>>>17,be=be*ae&d|be*ie&h,ge&1?se^=be:me^=be}this.h1=se,this.h2=me}hexdigest(){let f=this.h1,g=this.h2;return f^=g>>>1,f=f*3981806797&d|f*36045&h,g=g*4283543511&d|((g<<16|f>>>16)*2950163797&d)>>>16,f^=g>>>1,f=f*444984403&d|f*60499&h,g=g*3301882366&d|((g<<16|f>>>16)*3120437893&d)>>>16,f^=g>>>1,(f>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=_},(e,i,a)=>{var h;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=a(1);class c{constructor({ownerDocument:ee=globalThis.document,styleElement:f=null}){De(this,h,new Set);this._document=ee,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ee){this.nativeFontFaces.add(ee),this._document.fonts.add(ee)}removeNativeFontFace(ee){this.nativeFontFaces.delete(ee),this._document.fonts.delete(ee)}insertRule(ee){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const f=this.styleElement.sheet;f.insertRule(ee,f.cssRules.length)}clear(){for(const ee of this.nativeFontFaces)this._document.fonts.delete(ee);this.nativeFontFaces.clear(),j(this,h).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ee){if(!(!ee||j(this,h).has(ee.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:f,src:g,style:he}=ee,ge=new FontFace(f,g,he);this.addNativeFontFace(ge);try{await ge.load(),j(this,h).add(f)}catch{(0,o.warn)(`Cannot load system font: ${ee.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ge)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ee){if(ee.attached||ee.missingFile&&!ee.systemFontInfo)return;if(ee.attached=!0,ee.systemFontInfo){await this.loadSystemFont(ee.systemFontInfo);return}if(this.isFontLoadingAPISupported){const g=ee.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(he){throw(0,o.warn)(`Failed to load font '${g.family}': '${he}'.`),ee.disableFontFace=!0,he}}return}const f=ee.createFontFaceRule();if(f){if(this.insertRule(f),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const he=this._queueLoadingCallback(g);this._prepareFontLoadEvent(ee,he)})}}get isFontLoadingAPISupported(){var f;const ee=!!((f=this._document)!=null&&f.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",ee)}get isSyncFontLoadingSupported(){let ee=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ee=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",ee)}_queueLoadingCallback(ee){function f(){for((0,o.assert)(!he.done,"completeRequest() cannot be called twice."),he.done=!0;g.length>0&&g[0].done;){const ge=g.shift();setTimeout(ge.callback,0)}}const{loadingRequests:g}=this,he={done:!1,complete:f,callback:ee};return g.push(he),he}get _loadTestFont(){const ee=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",ee)}_prepareFontLoadEvent(ee,f){function g(oe,Se){return oe.charCodeAt(Se)<<24|oe.charCodeAt(Se+1)<<16|oe.charCodeAt(Se+2)<<8|oe.charCodeAt(Se+3)&255}function he(oe,Se,Ee,ye){const je=oe.substring(0,Se),Le=oe.substring(Se+Ee);return je+ye+Le}let ge,te;const re=this._document.createElement("canvas");re.width=1,re.height=1;const be=re.getContext("2d");let q=0;function se(oe,Se){if(++q>30){(0,o.warn)("Load test font never loaded."),Se();return}if(be.font="30px "+oe,be.fillText(".",0,20),be.getImageData(0,0,1,1).data[3]>0){Se();return}setTimeout(se.bind(null,oe,Se))}const me=`lt${Date.now()}${this.loadTestFontId++}`;let ue=this._loadTestFont;ue=he(ue,976,me.length,me);const $=16,ie=1482184792;let we=g(ue,$);for(ge=0,te=me.length-3;ge<te;ge+=4)we=we-ie+g(me,ge)|0;ge<me.length&&(we=we-ie+g(me+"XXX",ge)|0),ue=he(ue,$,4,(0,o.string32)(we));const de=`url(data:font/opentype;base64,${btoa(ue)});`,m=`@font-face {font-family:"${me}";src:${de}}`;this.insertRule(m);const _e=this._document.createElement("div");_e.style.visibility="hidden",_e.style.width=_e.style.height="10px",_e.style.position="absolute",_e.style.top=_e.style.left="0px";for(const oe of[ee.loadedName,me]){const Se=this._document.createElement("span");Se.textContent="Hi",Se.style.fontFamily=oe,_e.append(Se)}this._document.body.append(_e),se(me,()=>{_e.remove(),f.complete()})}}h=new WeakMap,i.FontLoader=c;class d{constructor(ee,{isEvalSupported:f=!0,disableFontFace:g=!1,ignoreErrors:he=!1,inspectFont:ge=null}){this.compiledGlyphs=Object.create(null);for(const te in ee)this[te]=ee[te];this.isEvalSupported=f!==!1,this.disableFontFace=g===!0,this.ignoreErrors=he===!0,this._inspectFont=ge}createNativeFontFace(){var f;if(!this.data||this.disableFontFace)return null;let ee;if(!this.cssFontInfo)ee=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ee=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(f=this._inspectFont)==null||f.call(this,this),ee}createFontFaceRule(){var he;if(!this.data||this.disableFontFace)return null;const ee=(0,o.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(ee)});`;let g;if(!this.cssFontInfo)g=`@font-face {font-family:"${this.loadedName}";src:${f}}`;else{let ge=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ge+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),g=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ge}src:${f}}`}return(he=this._inspectFont)==null||he.call(this,this,f),g}getPathGenerator(ee,f){if(this.compiledGlyphs[f]!==void 0)return this.compiledGlyphs[f];let g;try{g=ee.get(this.loadedName+"_path_"+f)}catch(he){if(!this.ignoreErrors)throw he;return(0,o.warn)(`getPathGenerator - ignoring character: "${he}".`),this.compiledGlyphs[f]=function(ge,te){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const he=[];for(const ge of g){const te=ge.args!==void 0?ge.args.join(","):"";he.push("c.",ge.cmd,"(",te,`);
`)}return this.compiledGlyphs[f]=new Function("c","size",he.join(""))}return this.compiledGlyphs[f]=function(he,ge){for(const te of g)te.cmd==="scale"&&(te.args=[ge,-ge]),he[te.cmd].apply(he,te.args)}}}i.FontFaceObject=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=a(7);a(1);const c=function(f){return new Promise((g,he)=>{require$$5.readFile(f,(te,re)=>{if(te||!re){he(new Error(te));return}g(new Uint8Array(re))})})};class d extends o.BaseFilterFactory{}i.NodeFilterFactory=d;class h extends o.BaseCanvasFactory{_createCanvas(g,he){return require$$5.createCanvas(g,he)}}i.NodeCanvasFactory=h;class _ extends o.BaseCMapReaderFactory{_fetchData(g,he){return c(g).then(ge=>({cMapData:ge,compressionType:he}))}}i.NodeCMapReaderFactory=_;class ee extends o.BaseStandardFontDataFactory{_fetchData(g){return c(g)}}i.NodeStandardFontDataFactory=ee},(e,i,a)=>{var Te,Nn,Fe,Bn;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=a(1),c=a(6),d=a(12),h=a(13);const _=16,ee=100,f=4096,g=15,he=10,ge=1e3,te=16;function re(Pe,ne){if(Pe._removeMirroring)throw new Error("Context is already forwarding operations.");Pe.__originalSave=Pe.save,Pe.__originalRestore=Pe.restore,Pe.__originalRotate=Pe.rotate,Pe.__originalScale=Pe.scale,Pe.__originalTranslate=Pe.translate,Pe.__originalTransform=Pe.transform,Pe.__originalSetTransform=Pe.setTransform,Pe.__originalResetTransform=Pe.resetTransform,Pe.__originalClip=Pe.clip,Pe.__originalMoveTo=Pe.moveTo,Pe.__originalLineTo=Pe.lineTo,Pe.__originalBezierCurveTo=Pe.bezierCurveTo,Pe.__originalRect=Pe.rect,Pe.__originalClosePath=Pe.closePath,Pe.__originalBeginPath=Pe.beginPath,Pe._removeMirroring=()=>{Pe.save=Pe.__originalSave,Pe.restore=Pe.__originalRestore,Pe.rotate=Pe.__originalRotate,Pe.scale=Pe.__originalScale,Pe.translate=Pe.__originalTranslate,Pe.transform=Pe.__originalTransform,Pe.setTransform=Pe.__originalSetTransform,Pe.resetTransform=Pe.__originalResetTransform,Pe.clip=Pe.__originalClip,Pe.moveTo=Pe.__originalMoveTo,Pe.lineTo=Pe.__originalLineTo,Pe.bezierCurveTo=Pe.__originalBezierCurveTo,Pe.rect=Pe.__originalRect,Pe.closePath=Pe.__originalClosePath,Pe.beginPath=Pe.__originalBeginPath,delete Pe._removeMirroring},Pe.save=function(){ne.save(),this.__originalSave()},Pe.restore=function(){ne.restore(),this.__originalRestore()},Pe.translate=function(b,le){ne.translate(b,le),this.__originalTranslate(b,le)},Pe.scale=function(b,le){ne.scale(b,le),this.__originalScale(b,le)},Pe.transform=function(b,le,ve,Ae,Ce,Oe){ne.transform(b,le,ve,Ae,Ce,Oe),this.__originalTransform(b,le,ve,Ae,Ce,Oe)},Pe.setTransform=function(b,le,ve,Ae,Ce,Oe){ne.setTransform(b,le,ve,Ae,Ce,Oe),this.__originalSetTransform(b,le,ve,Ae,Ce,Oe)},Pe.resetTransform=function(){ne.resetTransform(),this.__originalResetTransform()},Pe.rotate=function(b){ne.rotate(b),this.__originalRotate(b)},Pe.clip=function(b){ne.clip(b),this.__originalClip(b)},Pe.moveTo=function(fe,b){ne.moveTo(fe,b),this.__originalMoveTo(fe,b)},Pe.lineTo=function(fe,b){ne.lineTo(fe,b),this.__originalLineTo(fe,b)},Pe.bezierCurveTo=function(fe,b,le,ve,Ae,Ce){ne.bezierCurveTo(fe,b,le,ve,Ae,Ce),this.__originalBezierCurveTo(fe,b,le,ve,Ae,Ce)},Pe.rect=function(fe,b,le,ve){ne.rect(fe,b,le,ve),this.__originalRect(fe,b,le,ve)},Pe.closePath=function(){ne.closePath(),this.__originalClosePath()},Pe.beginPath=function(){ne.beginPath(),this.__originalBeginPath()}}class be{constructor(ne){this.canvasFactory=ne,this.cache=Object.create(null)}getCanvas(ne,fe,b){let le;return this.cache[ne]!==void 0?(le=this.cache[ne],this.canvasFactory.reset(le,fe,b)):(le=this.canvasFactory.create(fe,b),this.cache[ne]=le),le}delete(ne){delete this.cache[ne]}clear(){for(const ne in this.cache){const fe=this.cache[ne];this.canvasFactory.destroy(fe),delete this.cache[ne]}}}function q(Pe,ne,fe,b,le,ve,Ae,Ce,Oe,Ge){const[qe,Ue,Ze,it,Je,nt]=(0,c.getCurrentTransform)(Pe);if(Ue===0&&Ze===0){const mt=Ae*qe+Je,st=Math.round(mt),Ve=Ce*it+nt,We=Math.round(Ve),He=(Ae+Oe)*qe+Je,at=Math.abs(Math.round(He)-st)||1,ft=(Ce+Ge)*it+nt,Pt=Math.abs(Math.round(ft)-We)||1;return Pe.setTransform(Math.sign(qe),0,0,Math.sign(it),st,We),Pe.drawImage(ne,fe,b,le,ve,0,0,at,Pt),Pe.setTransform(qe,Ue,Ze,it,Je,nt),[at,Pt]}if(qe===0&&it===0){const mt=Ce*Ze+Je,st=Math.round(mt),Ve=Ae*Ue+nt,We=Math.round(Ve),He=(Ce+Ge)*Ze+Je,at=Math.abs(Math.round(He)-st)||1,ft=(Ae+Oe)*Ue+nt,Pt=Math.abs(Math.round(ft)-We)||1;return Pe.setTransform(0,Math.sign(Ue),Math.sign(Ze),0,st,We),Pe.drawImage(ne,fe,b,le,ve,0,0,Pt,at),Pe.setTransform(qe,Ue,Ze,it,Je,nt),[Pt,at]}Pe.drawImage(ne,fe,b,le,ve,Ae,Ce,Oe,Ge);const ht=Math.hypot(qe,Ue),ot=Math.hypot(Ze,it);return[ht*Oe,ot*Ge]}function se(Pe){const{width:ne,height:fe}=Pe;if(ne>ge||fe>ge)return null;const b=1e3,le=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ve=ne+1;let Ae=new Uint8Array(ve*(fe+1)),Ce,Oe,Ge;const qe=ne+7&-8;let Ue=new Uint8Array(qe*fe),Ze=0;for(const ot of Pe.data){let mt=128;for(;mt>0;)Ue[Ze++]=ot&mt?0:255,mt>>=1}let it=0;for(Ze=0,Ue[Ze]!==0&&(Ae[0]=1,++it),Oe=1;Oe<ne;Oe++)Ue[Ze]!==Ue[Ze+1]&&(Ae[Oe]=Ue[Ze]?2:1,++it),Ze++;for(Ue[Ze]!==0&&(Ae[Oe]=2,++it),Ce=1;Ce<fe;Ce++){Ze=Ce*qe,Ge=Ce*ve,Ue[Ze-qe]!==Ue[Ze]&&(Ae[Ge]=Ue[Ze]?1:8,++it);let ot=(Ue[Ze]?4:0)+(Ue[Ze-qe]?8:0);for(Oe=1;Oe<ne;Oe++)ot=(ot>>2)+(Ue[Ze+1]?4:0)+(Ue[Ze-qe+1]?8:0),le[ot]&&(Ae[Ge+Oe]=le[ot],++it),Ze++;if(Ue[Ze-qe]!==Ue[Ze]&&(Ae[Ge+Oe]=Ue[Ze]?2:4,++it),it>b)return null}for(Ze=qe*(fe-1),Ge=Ce*ve,Ue[Ze]!==0&&(Ae[Ge]=8,++it),Oe=1;Oe<ne;Oe++)Ue[Ze]!==Ue[Ze+1]&&(Ae[Ge+Oe]=Ue[Ze]?4:8,++it),Ze++;if(Ue[Ze]!==0&&(Ae[Ge+Oe]=4,++it),it>b)return null;const Je=new Int32Array([0,ve,-1,0,-ve,0,0,0,1]),nt=new Path2D;for(Ce=0;it&&Ce<=fe;Ce++){let ot=Ce*ve;const mt=ot+ne;for(;ot<mt&&!Ae[ot];)ot++;if(ot===mt)continue;nt.moveTo(ot%ve,Ce);const st=ot;let Ve=Ae[ot];do{const We=Je[Ve];do ot+=We;while(!Ae[ot]);const He=Ae[ot];He!==5&&He!==10?(Ve=He,Ae[ot]=0):(Ve=He&51*Ve>>4,Ae[ot]&=Ve>>2|Ve<<2),nt.lineTo(ot%ve,ot/ve|0),Ae[ot]||--it}while(st!==ot);--Ce}return Ue=null,Ae=null,function(ot){ot.save(),ot.scale(1/ne,-1/fe),ot.translate(0,-fe),ot.fill(nt),ot.beginPath(),ot.restore()}}class me{constructor(ne,fe){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ne,fe])}clone(){const ne=Object.create(this);return ne.clipBox=this.clipBox.slice(),ne}setCurrentPoint(ne,fe){this.x=ne,this.y=fe}updatePathMinMax(ne,fe,b){[fe,b]=o.Util.applyTransform([fe,b],ne),this.minX=Math.min(this.minX,fe),this.minY=Math.min(this.minY,b),this.maxX=Math.max(this.maxX,fe),this.maxY=Math.max(this.maxY,b)}updateRectMinMax(ne,fe){const b=o.Util.applyTransform(fe,ne),le=o.Util.applyTransform(fe.slice(2),ne);this.minX=Math.min(this.minX,b[0],le[0]),this.minY=Math.min(this.minY,b[1],le[1]),this.maxX=Math.max(this.maxX,b[0],le[0]),this.maxY=Math.max(this.maxY,b[1],le[1])}updateScalingPathMinMax(ne,fe){o.Util.scaleMinMax(ne,fe),this.minX=Math.min(this.minX,fe[0]),this.maxX=Math.max(this.maxX,fe[1]),this.minY=Math.min(this.minY,fe[2]),this.maxY=Math.max(this.maxY,fe[3])}updateCurvePathMinMax(ne,fe,b,le,ve,Ae,Ce,Oe,Ge,qe){const Ue=o.Util.bezierBoundingBox(fe,b,le,ve,Ae,Ce,Oe,Ge);if(qe){qe[0]=Math.min(qe[0],Ue[0],Ue[2]),qe[1]=Math.max(qe[1],Ue[0],Ue[2]),qe[2]=Math.min(qe[2],Ue[1],Ue[3]),qe[3]=Math.max(qe[3],Ue[1],Ue[3]);return}this.updateRectMinMax(ne,Ue)}getPathBoundingBox(ne=d.PathType.FILL,fe=null){const b=[this.minX,this.minY,this.maxX,this.maxY];if(ne===d.PathType.STROKE){fe||(0,o.unreachable)("Stroke bounding box must include transform.");const le=o.Util.singularValueDecompose2dScale(fe),ve=le[0]*this.lineWidth/2,Ae=le[1]*this.lineWidth/2;b[0]-=ve,b[1]-=Ae,b[2]+=ve,b[3]+=Ae}return b}updateClipFromPath(){const ne=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ne||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ne){this.clipBox=ne,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ne=d.PathType.FILL,fe=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(ne,fe))}}function ue(Pe,ne){if(typeof ImageData<"u"&&ne instanceof ImageData){Pe.putImageData(ne,0,0);return}const fe=ne.height,b=ne.width,le=fe%te,ve=(fe-le)/te,Ae=le===0?ve:ve+1,Ce=Pe.createImageData(b,te);let Oe=0,Ge;const qe=ne.data,Ue=Ce.data;let Ze,it,Je,nt;if(ne.kind===o.ImageKind.GRAYSCALE_1BPP){const ht=qe.byteLength,ot=new Uint32Array(Ue.buffer,0,Ue.byteLength>>2),mt=ot.length,st=b+7>>3,Ve=4294967295,We=o.FeatureTest.isLittleEndian?4278190080:255;for(Ze=0;Ze<Ae;Ze++){for(Je=Ze<ve?te:le,Ge=0,it=0;it<Je;it++){const He=ht-Oe;let at=0;const ft=He>st?b:He*8-7,Pt=ft&-8;let Tt=0,Et=0;for(;at<Pt;at+=8)Et=qe[Oe++],ot[Ge++]=Et&128?Ve:We,ot[Ge++]=Et&64?Ve:We,ot[Ge++]=Et&32?Ve:We,ot[Ge++]=Et&16?Ve:We,ot[Ge++]=Et&8?Ve:We,ot[Ge++]=Et&4?Ve:We,ot[Ge++]=Et&2?Ve:We,ot[Ge++]=Et&1?Ve:We;for(;at<ft;at++)Tt===0&&(Et=qe[Oe++],Tt=128),ot[Ge++]=Et&Tt?Ve:We,Tt>>=1}for(;Ge<mt;)ot[Ge++]=0;Pe.putImageData(Ce,0,Ze*te)}}else if(ne.kind===o.ImageKind.RGBA_32BPP){for(it=0,nt=b*te*4,Ze=0;Ze<ve;Ze++)Ue.set(qe.subarray(Oe,Oe+nt)),Oe+=nt,Pe.putImageData(Ce,0,it),it+=te;Ze<Ae&&(nt=b*le*4,Ue.set(qe.subarray(Oe,Oe+nt)),Pe.putImageData(Ce,0,it))}else if(ne.kind===o.ImageKind.RGB_24BPP)for(Je=te,nt=b*Je,Ze=0;Ze<Ae;Ze++){for(Ze>=ve&&(Je=le,nt=b*Je),Ge=0,it=nt;it--;)Ue[Ge++]=qe[Oe++],Ue[Ge++]=qe[Oe++],Ue[Ge++]=qe[Oe++],Ue[Ge++]=255;Pe.putImageData(Ce,0,Ze*te)}else throw new Error(`bad image kind: ${ne.kind}`)}function ae(Pe,ne){if(ne.bitmap){Pe.drawImage(ne.bitmap,0,0);return}const fe=ne.height,b=ne.width,le=fe%te,ve=(fe-le)/te,Ae=le===0?ve:ve+1,Ce=Pe.createImageData(b,te);let Oe=0;const Ge=ne.data,qe=Ce.data;for(let Ue=0;Ue<Ae;Ue++){const Ze=Ue<ve?te:le;({srcPos:Oe}=(0,h.convertBlackAndWhiteToRGBA)({src:Ge,srcPos:Oe,dest:qe,width:b,height:Ze,nonBlackColor:0})),Pe.putImageData(Ce,0,Ue*te)}}function $(Pe,ne){const fe=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const b of fe)Pe[b]!==void 0&&(ne[b]=Pe[b]);Pe.setLineDash!==void 0&&(ne.setLineDash(Pe.getLineDash()),ne.lineDashOffset=Pe.lineDashOffset)}function ie(Pe){if(Pe.strokeStyle=Pe.fillStyle="#000000",Pe.fillRule="nonzero",Pe.globalAlpha=1,Pe.lineWidth=1,Pe.lineCap="butt",Pe.lineJoin="miter",Pe.miterLimit=10,Pe.globalCompositeOperation="source-over",Pe.font="10px sans-serif",Pe.setLineDash!==void 0&&(Pe.setLineDash([]),Pe.lineDashOffset=0),!o.isNodeJS){const{filter:ne}=Pe;ne!=="none"&&ne!==""&&(Pe.filter="none")}}function we(Pe,ne,fe,b){const le=Pe.length;for(let ve=3;ve<le;ve+=4){const Ae=Pe[ve];if(Ae===0)Pe[ve-3]=ne,Pe[ve-2]=fe,Pe[ve-1]=b;else if(Ae<255){const Ce=255-Ae;Pe[ve-3]=Pe[ve-3]*Ae+ne*Ce>>8,Pe[ve-2]=Pe[ve-2]*Ae+fe*Ce>>8,Pe[ve-1]=Pe[ve-1]*Ae+b*Ce>>8}}}function de(Pe,ne,fe){const b=Pe.length,le=1/255;for(let ve=3;ve<b;ve+=4){const Ae=fe?fe[Pe[ve]]:Pe[ve];ne[ve]=ne[ve]*Ae*le|0}}function m(Pe,ne,fe){const b=Pe.length;for(let le=3;le<b;le+=4){const ve=Pe[le-3]*77+Pe[le-2]*152+Pe[le-1]*28;ne[le]=fe?ne[le]*fe[ve>>8]>>8:ne[le]*ve>>16}}function _e(Pe,ne,fe,b,le,ve,Ae,Ce,Oe,Ge,qe){const Ue=!!ve,Ze=Ue?ve[0]:0,it=Ue?ve[1]:0,Je=Ue?ve[2]:0,nt=le==="Luminosity"?m:de,ot=Math.min(b,Math.ceil(1048576/fe));for(let mt=0;mt<b;mt+=ot){const st=Math.min(ot,b-mt),Ve=Pe.getImageData(Ce-Ge,mt+(Oe-qe),fe,st),We=ne.getImageData(Ce,mt+Oe,fe,st);Ue&&we(Ve.data,Ze,it,Je),nt(Ve.data,We.data,Ae),ne.putImageData(We,Ce,mt+Oe)}}function oe(Pe,ne,fe,b){const le=b[0],ve=b[1],Ae=b[2]-le,Ce=b[3]-ve;Ae===0||Ce===0||(_e(ne.context,fe,Ae,Ce,ne.subtype,ne.backdrop,ne.transferMap,le,ve,ne.offsetX,ne.offsetY),Pe.save(),Pe.globalAlpha=1,Pe.globalCompositeOperation="source-over",Pe.setTransform(1,0,0,1,0,0),Pe.drawImage(fe.canvas,0,0),Pe.restore())}function Se(Pe,ne){const fe=o.Util.singularValueDecompose2dScale(Pe);fe[0]=Math.fround(fe[0]),fe[1]=Math.fround(fe[1]);const b=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return ne!==void 0?ne:fe[0]<=b||fe[1]<=b}const Ee=["butt","round","square"],ye=["miter","round","bevel"],je={},Le={},tt=class tt{constructor(ne,fe,b,le,ve,{optionalContentConfig:Ae,markedContentStack:Ce=null},Oe,Ge){De(this,Te);De(this,Fe);this.ctx=ne,this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=fe,this.objs=b,this.canvasFactory=le,this.filterFactory=ve,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ce||[],this.optionalContentConfig=Ae,this.cachedCanvases=new be(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Oe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ge,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ne,fe=null){return typeof ne=="string"?ne.startsWith("g_")?this.commonObjs.get(ne):this.objs.get(ne):fe}beginDrawing({transform:ne,viewport:fe,transparency:b=!1,background:le=null}){const ve=this.ctx.canvas.width,Ae=this.ctx.canvas.height,Ce=this.ctx.fillStyle;if(this.ctx.fillStyle=le||"#ffffff",this.ctx.fillRect(0,0,ve,Ae),this.ctx.fillStyle=Ce,b){const Oe=this.cachedCanvases.getCanvas("transparent",ve,Ae);this.compositeCtx=this.ctx,this.transparentCanvas=Oe.canvas,this.ctx=Oe.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ie(this.ctx),ne&&(this.ctx.transform(...ne),this.outputScaleX=ne[0],this.outputScaleY=ne[0]),this.ctx.transform(...fe.transform),this.viewportScale=fe.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(ne,fe,b,le){const ve=ne.argsArray,Ae=ne.fnArray;let Ce=fe||0;const Oe=ve.length;if(Oe===Ce)return Ce;const Ge=Oe-Ce>he&&typeof b=="function",qe=Ge?Date.now()+g:0;let Ue=0;const Ze=this.commonObjs,it=this.objs;let Je;for(;;){if(le!==void 0&&Ce===le.nextBreakPoint)return le.breakIt(Ce,b),Ce;if(Je=Ae[Ce],Je!==o.OPS.dependency)this[Je].apply(this,ve[Ce]);else for(const nt of ve[Ce]){const ht=nt.startsWith("g_")?Ze:it;if(!ht.has(nt))return ht.get(nt,b),Ce}if(Ce++,Ce===Oe)return Ce;if(Ge&&++Ue>he){if(Date.now()>qe)return b(),Ce;Ue=0}}}endDrawing(){Ne(this,Te,Nn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ne of this._cachedBitmapsMap.values()){for(const fe of ne.values())typeof HTMLCanvasElement<"u"&&fe instanceof HTMLCanvasElement&&(fe.width=fe.height=0);ne.clear()}this._cachedBitmapsMap.clear(),Ne(this,Fe,Bn).call(this)}_scaleImage(ne,fe){const b=ne.width,le=ne.height;let ve=Math.max(Math.hypot(fe[0],fe[1]),1),Ae=Math.max(Math.hypot(fe[2],fe[3]),1),Ce=b,Oe=le,Ge="prescale1",qe,Ue;for(;ve>2&&Ce>1||Ae>2&&Oe>1;){let Ze=Ce,it=Oe;ve>2&&Ce>1&&(Ze=Ce>=16384?Math.floor(Ce/2)-1||1:Math.ceil(Ce/2),ve/=Ce/Ze),Ae>2&&Oe>1&&(it=Oe>=16384?Math.floor(Oe/2)-1||1:Math.ceil(Oe)/2,Ae/=Oe/it),qe=this.cachedCanvases.getCanvas(Ge,Ze,it),Ue=qe.context,Ue.clearRect(0,0,Ze,it),Ue.drawImage(ne,0,0,Ce,Oe,0,0,Ze,it),ne=qe.canvas,Ce=Ze,Oe=it,Ge=Ge==="prescale1"?"prescale2":"prescale1"}return{img:ne,paintWidth:Ce,paintHeight:Oe}}_createMaskCanvas(ne){const fe=this.ctx,{width:b,height:le}=ne,ve=this.current.fillColor,Ae=this.current.patternFill,Ce=(0,c.getCurrentTransform)(fe);let Oe,Ge,qe,Ue;if((ne.bitmap||ne.data)&&ne.count>1){const at=ne.bitmap||ne.data.buffer;Ge=JSON.stringify(Ae?Ce:[Ce.slice(0,4),ve]),Oe=this._cachedBitmapsMap.get(at),Oe||(Oe=new Map,this._cachedBitmapsMap.set(at,Oe));const ft=Oe.get(Ge);if(ft&&!Ae){const Pt=Math.round(Math.min(Ce[0],Ce[2])+Ce[4]),Tt=Math.round(Math.min(Ce[1],Ce[3])+Ce[5]);return{canvas:ft,offsetX:Pt,offsetY:Tt}}qe=ft}qe||(Ue=this.cachedCanvases.getCanvas("maskCanvas",b,le),ae(Ue.context,ne));let Ze=o.Util.transform(Ce,[1/b,0,0,-1/le,0,0]);Ze=o.Util.transform(Ze,[1,0,0,1,0,-le]);const it=o.Util.applyTransform([0,0],Ze),Je=o.Util.applyTransform([b,le],Ze),nt=o.Util.normalizeRect([it[0],it[1],Je[0],Je[1]]),ht=Math.round(nt[2]-nt[0])||1,ot=Math.round(nt[3]-nt[1])||1,mt=this.cachedCanvases.getCanvas("fillCanvas",ht,ot),st=mt.context,Ve=Math.min(it[0],Je[0]),We=Math.min(it[1],Je[1]);st.translate(-Ve,-We),st.transform(...Ze),qe||(qe=this._scaleImage(Ue.canvas,(0,c.getCurrentTransformInverse)(st)),qe=qe.img,Oe&&Ae&&Oe.set(Ge,qe)),st.imageSmoothingEnabled=Se((0,c.getCurrentTransform)(st),ne.interpolate),q(st,qe,0,0,qe.width,qe.height,0,0,b,le),st.globalCompositeOperation="source-in";const He=o.Util.transform((0,c.getCurrentTransformInverse)(st),[1,0,0,1,-Ve,-We]);return st.fillStyle=Ae?ve.getPattern(fe,this,He,d.PathType.FILL):ve,st.fillRect(0,0,b,le),Oe&&!Ae&&(this.cachedCanvases.delete("fillCanvas"),Oe.set(Ge,mt.canvas)),{canvas:mt.canvas,offsetX:Math.round(Ve),offsetY:Math.round(We)}}setLineWidth(ne){ne!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ne,this.ctx.lineWidth=ne}setLineCap(ne){this.ctx.lineCap=Ee[ne]}setLineJoin(ne){this.ctx.lineJoin=ye[ne]}setMiterLimit(ne){this.ctx.miterLimit=ne}setDash(ne,fe){const b=this.ctx;b.setLineDash!==void 0&&(b.setLineDash(ne),b.lineDashOffset=fe)}setRenderingIntent(ne){}setFlatness(ne){}setGState(ne){for(const[fe,b]of ne)switch(fe){case"LW":this.setLineWidth(b);break;case"LC":this.setLineCap(b);break;case"LJ":this.setLineJoin(b);break;case"ML":this.setMiterLimit(b);break;case"D":this.setDash(b[0],b[1]);break;case"RI":this.setRenderingIntent(b);break;case"FL":this.setFlatness(b);break;case"Font":this.setFont(b[0],b[1]);break;case"CA":this.current.strokeAlpha=b;break;case"ca":this.current.fillAlpha=b,this.ctx.globalAlpha=b;break;case"BM":this.ctx.globalCompositeOperation=b;break;case"SMask":this.current.activeSMask=b?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(b);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ne=this.inSMaskMode;this.current.activeSMask&&!ne?this.beginSMaskMode():!this.current.activeSMask&&ne&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ne=this.ctx.canvas.width,fe=this.ctx.canvas.height,b="smaskGroupAt"+this.groupLevel,le=this.cachedCanvases.getCanvas(b,ne,fe);this.suspendedCtx=this.ctx,this.ctx=le.context;const ve=this.ctx;ve.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),$(this.suspendedCtx,ve),re(ve,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ne){if(!this.current.activeSMask)return;ne?(ne[0]=Math.floor(ne[0]),ne[1]=Math.floor(ne[1]),ne[2]=Math.ceil(ne[2]),ne[3]=Math.ceil(ne[3])):ne=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const fe=this.current.activeSMask,b=this.suspendedCtx;oe(b,fe,this.ctx,ne),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?($(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ne=this.current;this.stateStack.push(ne),this.current=ne.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ne,fe,b,le,ve,Ae){this.ctx.transform(ne,fe,b,le,ve,Ae),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ne,fe,b){const le=this.ctx,ve=this.current;let Ae=ve.x,Ce=ve.y,Oe,Ge;const qe=(0,c.getCurrentTransform)(le),Ue=qe[0]===0&&qe[3]===0||qe[1]===0&&qe[2]===0,Ze=Ue?b.slice(0):null;for(let it=0,Je=0,nt=ne.length;it<nt;it++)switch(ne[it]|0){case o.OPS.rectangle:Ae=fe[Je++],Ce=fe[Je++];const ht=fe[Je++],ot=fe[Je++],mt=Ae+ht,st=Ce+ot;le.moveTo(Ae,Ce),ht===0||ot===0?le.lineTo(mt,st):(le.lineTo(mt,Ce),le.lineTo(mt,st),le.lineTo(Ae,st)),Ue||ve.updateRectMinMax(qe,[Ae,Ce,mt,st]),le.closePath();break;case o.OPS.moveTo:Ae=fe[Je++],Ce=fe[Je++],le.moveTo(Ae,Ce),Ue||ve.updatePathMinMax(qe,Ae,Ce);break;case o.OPS.lineTo:Ae=fe[Je++],Ce=fe[Je++],le.lineTo(Ae,Ce),Ue||ve.updatePathMinMax(qe,Ae,Ce);break;case o.OPS.curveTo:Oe=Ae,Ge=Ce,Ae=fe[Je+4],Ce=fe[Je+5],le.bezierCurveTo(fe[Je],fe[Je+1],fe[Je+2],fe[Je+3],Ae,Ce),ve.updateCurvePathMinMax(qe,Oe,Ge,fe[Je],fe[Je+1],fe[Je+2],fe[Je+3],Ae,Ce,Ze),Je+=6;break;case o.OPS.curveTo2:Oe=Ae,Ge=Ce,le.bezierCurveTo(Ae,Ce,fe[Je],fe[Je+1],fe[Je+2],fe[Je+3]),ve.updateCurvePathMinMax(qe,Oe,Ge,Ae,Ce,fe[Je],fe[Je+1],fe[Je+2],fe[Je+3],Ze),Ae=fe[Je+2],Ce=fe[Je+3],Je+=4;break;case o.OPS.curveTo3:Oe=Ae,Ge=Ce,Ae=fe[Je+2],Ce=fe[Je+3],le.bezierCurveTo(fe[Je],fe[Je+1],Ae,Ce,Ae,Ce),ve.updateCurvePathMinMax(qe,Oe,Ge,fe[Je],fe[Je+1],Ae,Ce,Ae,Ce,Ze),Je+=4;break;case o.OPS.closePath:le.closePath();break}Ue&&ve.updateScalingPathMinMax(qe,Ze),ve.setCurrentPoint(Ae,Ce)}closePath(){this.ctx.closePath()}stroke(ne=!0){const fe=this.ctx,b=this.current.strokeColor;fe.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof b=="object"&&(b!=null&&b.getPattern)?(fe.save(),fe.strokeStyle=b.getPattern(fe,this,(0,c.getCurrentTransformInverse)(fe),d.PathType.STROKE),this.rescaleAndStroke(!1),fe.restore()):this.rescaleAndStroke(!0)),ne&&this.consumePath(this.current.getClippedPathBoundingBox()),fe.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ne=!0){const fe=this.ctx,b=this.current.fillColor,le=this.current.patternFill;let ve=!1;le&&(fe.save(),fe.fillStyle=b.getPattern(fe,this,(0,c.getCurrentTransformInverse)(fe),d.PathType.FILL),ve=!0);const Ae=this.current.getClippedPathBoundingBox();this.contentVisible&&Ae!==null&&(this.pendingEOFill?(fe.fill("evenodd"),this.pendingEOFill=!1):fe.fill()),ve&&fe.restore(),ne&&this.consumePath(Ae)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=je}eoClip(){this.pendingClip=Le}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ne=this.pendingTextPaths,fe=this.ctx;if(ne===void 0){fe.beginPath();return}fe.save(),fe.beginPath();for(const b of ne)fe.setTransform(...b.transform),fe.translate(b.x,b.y),b.addToPath(fe,b.fontSize);fe.restore(),fe.clip(),fe.beginPath(),delete this.pendingTextPaths}setCharSpacing(ne){this.current.charSpacing=ne}setWordSpacing(ne){this.current.wordSpacing=ne}setHScale(ne){this.current.textHScale=ne/100}setLeading(ne){this.current.leading=-ne}setFont(ne,fe){var qe;const b=this.commonObjs.get(ne),le=this.current;if(!b)throw new Error(`Can't find font for ${ne}`);if(le.fontMatrix=b.fontMatrix||o.FONT_IDENTITY_MATRIX,(le.fontMatrix[0]===0||le.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+ne),fe<0?(fe=-fe,le.fontDirection=-1):le.fontDirection=1,this.current.font=b,this.current.fontSize=fe,b.isType3Font)return;const ve=b.loadedName||"sans-serif",Ae=((qe=b.systemFontInfo)==null?void 0:qe.css)||`"${ve}", ${b.fallbackName}`;let Ce="normal";b.black?Ce="900":b.bold&&(Ce="bold");const Oe=b.italic?"italic":"normal";let Ge=fe;fe<_?Ge=_:fe>ee&&(Ge=ee),this.current.fontSizeScale=fe/Ge,this.ctx.font=`${Oe} ${Ce} ${Ge}px ${Ae}`}setTextRenderingMode(ne){this.current.textRenderingMode=ne}setTextRise(ne){this.current.textRise=ne}moveText(ne,fe){this.current.x=this.current.lineX+=ne,this.current.y=this.current.lineY+=fe}setLeadingMoveText(ne,fe){this.setLeading(-fe),this.moveText(ne,fe)}setTextMatrix(ne,fe,b,le,ve,Ae){this.current.textMatrix=[ne,fe,b,le,ve,Ae],this.current.textMatrixScale=Math.hypot(ne,fe),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ne,fe,b,le){const ve=this.ctx,Ae=this.current,Ce=Ae.font,Oe=Ae.textRenderingMode,Ge=Ae.fontSize/Ae.fontSizeScale,qe=Oe&o.TextRenderingMode.FILL_STROKE_MASK,Ue=!!(Oe&o.TextRenderingMode.ADD_TO_PATH_FLAG),Ze=Ae.patternFill&&!Ce.missingFile;let it;(Ce.disableFontFace||Ue||Ze)&&(it=Ce.getPathGenerator(this.commonObjs,ne)),Ce.disableFontFace||Ze?(ve.save(),ve.translate(fe,b),ve.beginPath(),it(ve,Ge),le&&ve.setTransform(...le),(qe===o.TextRenderingMode.FILL||qe===o.TextRenderingMode.FILL_STROKE)&&ve.fill(),(qe===o.TextRenderingMode.STROKE||qe===o.TextRenderingMode.FILL_STROKE)&&ve.stroke(),ve.restore()):((qe===o.TextRenderingMode.FILL||qe===o.TextRenderingMode.FILL_STROKE)&&ve.fillText(ne,fe,b),(qe===o.TextRenderingMode.STROKE||qe===o.TextRenderingMode.FILL_STROKE)&&ve.strokeText(ne,fe,b)),Ue&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(ve),x:fe,y:b,fontSize:Ge,addToPath:it})}get isFontSubpixelAAEnabled(){const{context:ne}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ne.scale(1.5,1),ne.fillText("I",0,10);const fe=ne.getImageData(0,0,10,10).data;let b=!1;for(let le=3;le<fe.length;le+=4)if(fe[le]>0&&fe[le]<255){b=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",b)}showText(ne){const fe=this.current,b=fe.font;if(b.isType3Font)return this.showType3Text(ne);const le=fe.fontSize;if(le===0)return;const ve=this.ctx,Ae=fe.fontSizeScale,Ce=fe.charSpacing,Oe=fe.wordSpacing,Ge=fe.fontDirection,qe=fe.textHScale*Ge,Ue=ne.length,Ze=b.vertical,it=Ze?1:-1,Je=b.defaultVMetrics,nt=le*fe.fontMatrix[0],ht=fe.textRenderingMode===o.TextRenderingMode.FILL&&!b.disableFontFace&&!fe.patternFill;ve.save(),ve.transform(...fe.textMatrix),ve.translate(fe.x,fe.y+fe.textRise),Ge>0?ve.scale(qe,-1):ve.scale(qe,1);let ot;if(fe.patternFill){ve.save();const He=fe.fillColor.getPattern(ve,this,(0,c.getCurrentTransformInverse)(ve),d.PathType.FILL);ot=(0,c.getCurrentTransform)(ve),ve.restore(),ve.fillStyle=He}let mt=fe.lineWidth;const st=fe.textMatrixScale;if(st===0||mt===0){const He=fe.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(He===o.TextRenderingMode.STROKE||He===o.TextRenderingMode.FILL_STROKE)&&(mt=this.getSinglePixelWidth())}else mt/=st;if(Ae!==1&&(ve.scale(Ae,Ae),mt/=Ae),ve.lineWidth=mt,b.isInvalidPDFjsFont){const He=[];let at=0;for(const ft of ne)He.push(ft.unicode),at+=ft.width;ve.fillText(He.join(""),0,0),fe.x+=at*nt*qe,ve.restore(),this.compose();return}let Ve=0,We;for(We=0;We<Ue;++We){const He=ne[We];if(typeof He=="number"){Ve+=it*He*le/1e3;continue}let at=!1;const ft=(He.isSpace?Oe:0)+Ce,Pt=He.fontChar,Tt=He.accent;let Et,jt,Ct=He.width;if(Ze){const Rt=He.vmetric||Je,rt=-(He.vmetric?Rt[1]:Ct*.5)*nt,Ye=Rt[2]*nt;Ct=Rt?-Rt[0]:Ct,Et=rt/Ae,jt=(Ve+Ye)/Ae}else Et=Ve/Ae,jt=0;if(b.remeasure&&Ct>0){const Rt=ve.measureText(Pt).width*1e3/le*Ae;if(Ct<Rt&&this.isFontSubpixelAAEnabled){const rt=Ct/Rt;at=!0,ve.save(),ve.scale(rt,1),Et/=rt}else Ct!==Rt&&(Et+=(Ct-Rt)/2e3*le/Ae)}if(this.contentVisible&&(He.isInFont||b.missingFile)){if(ht&&!Tt)ve.fillText(Pt,Et,jt);else if(this.paintChar(Pt,Et,jt,ot),Tt){const Rt=Et+le*Tt.offset.x/Ae,rt=jt-le*Tt.offset.y/Ae;this.paintChar(Tt.fontChar,Rt,rt,ot)}}const $t=Ze?Ct*nt-ft*Ge:Ct*nt+ft*Ge;Ve+=$t,at&&ve.restore()}Ze?fe.y-=Ve:fe.x+=Ve*qe,ve.restore(),this.compose()}showType3Text(ne){const fe=this.ctx,b=this.current,le=b.font,ve=b.fontSize,Ae=b.fontDirection,Ce=le.vertical?1:-1,Oe=b.charSpacing,Ge=b.wordSpacing,qe=b.textHScale*Ae,Ue=b.fontMatrix||o.FONT_IDENTITY_MATRIX,Ze=ne.length,it=b.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Je,nt,ht,ot;if(!(it||ve===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,fe.save(),fe.transform(...b.textMatrix),fe.translate(b.x,b.y),fe.scale(qe,Ae),Je=0;Je<Ze;++Je){if(nt=ne[Je],typeof nt=="number"){ot=Ce*nt*ve/1e3,this.ctx.translate(ot,0),b.x+=ot*qe;continue}const mt=(nt.isSpace?Ge:0)+Oe,st=le.charProcOperatorList[nt.operatorListId];if(!st){(0,o.warn)(`Type3 character "${nt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=nt,this.save(),fe.scale(ve,ve),fe.transform(...Ue),this.executeOperatorList(st),this.restore()),ht=o.Util.applyTransform([nt.width,0],Ue)[0]*ve+mt,fe.translate(ht,0),b.x+=ht*qe}fe.restore(),this.processingType3=null}}setCharWidth(ne,fe){}setCharWidthAndBounds(ne,fe,b,le,ve,Ae){this.ctx.rect(b,le,ve-b,Ae-le),this.ctx.clip(),this.endPath()}getColorN_Pattern(ne){let fe;if(ne[0]==="TilingPattern"){const b=ne[1],le=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),ve={createCanvasGraphics:Ae=>new tt(Ae,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};fe=new d.TilingPattern(ne,b,this.ctx,ve,le)}else fe=this._getPattern(ne[1],ne[2]);return fe}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ne,fe,b){const le=o.Util.makeHexColor(ne,fe,b);this.ctx.strokeStyle=le,this.current.strokeColor=le}setFillRGBColor(ne,fe,b){const le=o.Util.makeHexColor(ne,fe,b);this.ctx.fillStyle=le,this.current.fillColor=le,this.current.patternFill=!1}_getPattern(ne,fe=null){let b;return this.cachedPatterns.has(ne)?b=this.cachedPatterns.get(ne):(b=(0,d.getShadingPattern)(this.getObject(ne)),this.cachedPatterns.set(ne,b)),fe&&(b.matrix=fe),b}shadingFill(ne){if(!this.contentVisible)return;const fe=this.ctx;this.save();const b=this._getPattern(ne);fe.fillStyle=b.getPattern(fe,this,(0,c.getCurrentTransformInverse)(fe),d.PathType.SHADING);const le=(0,c.getCurrentTransformInverse)(fe);if(le){const{width:ve,height:Ae}=fe.canvas,[Ce,Oe,Ge,qe]=o.Util.getAxialAlignedBoundingBox([0,0,ve,Ae],le);this.ctx.fillRect(Ce,Oe,Ge-Ce,qe-Oe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ne,fe){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ne)&&ne.length===6&&this.transform(...ne),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),fe)){const b=fe[2]-fe[0],le=fe[3]-fe[1];this.ctx.rect(fe[0],fe[1],b,le),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),fe),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ne){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const fe=this.ctx;ne.isolated||(0,o.info)("TODO: Support non-isolated groups."),ne.knockout&&(0,o.warn)("Knockout groups not supported.");const b=(0,c.getCurrentTransform)(fe);if(ne.matrix&&fe.transform(...ne.matrix),!ne.bbox)throw new Error("Bounding box is required.");let le=o.Util.getAxialAlignedBoundingBox(ne.bbox,(0,c.getCurrentTransform)(fe));const ve=[0,0,fe.canvas.width,fe.canvas.height];le=o.Util.intersect(le,ve)||[0,0,0,0];const Ae=Math.floor(le[0]),Ce=Math.floor(le[1]);let Oe=Math.max(Math.ceil(le[2])-Ae,1),Ge=Math.max(Math.ceil(le[3])-Ce,1),qe=1,Ue=1;Oe>f&&(qe=Oe/f,Oe=f),Ge>f&&(Ue=Ge/f,Ge=f),this.current.startNewPathAndClipBox([0,0,Oe,Ge]);let Ze="groupAt"+this.groupLevel;ne.smask&&(Ze+="_smask_"+this.smaskCounter++%2);const it=this.cachedCanvases.getCanvas(Ze,Oe,Ge),Je=it.context;Je.scale(1/qe,1/Ue),Je.translate(-Ae,-Ce),Je.transform(...b),ne.smask?this.smaskStack.push({canvas:it.canvas,context:Je,offsetX:Ae,offsetY:Ce,scaleX:qe,scaleY:Ue,subtype:ne.smask.subtype,backdrop:ne.smask.backdrop,transferMap:ne.smask.transferMap||null,startTransformInverse:null}):(fe.setTransform(1,0,0,1,0,0),fe.translate(Ae,Ce),fe.scale(qe,Ue),fe.save()),$(fe,Je),this.ctx=Je,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(fe),this.groupLevel++}endGroup(ne){if(!this.contentVisible)return;this.groupLevel--;const fe=this.ctx,b=this.groupStack.pop();if(this.ctx=b,this.ctx.imageSmoothingEnabled=!1,ne.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const le=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...le);const ve=o.Util.getAxialAlignedBoundingBox([0,0,fe.canvas.width,fe.canvas.height],le);this.ctx.drawImage(fe.canvas,0,0),this.ctx.restore(),this.compose(ve)}}beginAnnotation(ne,fe,b,le,ve){if(Ne(this,Te,Nn).call(this),ie(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(fe)&&fe.length===4){const Ae=fe[2]-fe[0],Ce=fe[3]-fe[1];if(ve&&this.annotationCanvasMap){b=b.slice(),b[4]-=fe[0],b[5]-=fe[1],fe=fe.slice(),fe[0]=fe[1]=0,fe[2]=Ae,fe[3]=Ce;const[Oe,Ge]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:qe}=this,Ue=Math.ceil(Ae*this.outputScaleX*qe),Ze=Math.ceil(Ce*this.outputScaleY*qe);this.annotationCanvas=this.canvasFactory.create(Ue,Ze);const{canvas:it,context:Je}=this.annotationCanvas;this.annotationCanvasMap.set(ne,it),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Je,this.ctx.save(),this.ctx.setTransform(Oe,0,0,-Ge,0,Ce*Ge),ie(this.ctx)}else ie(this.ctx),this.ctx.rect(fe[0],fe[1],Ae,Ce),this.ctx.clip(),this.endPath()}this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...b),this.transform(...le)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ne(this,Fe,Bn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ne){if(!this.contentVisible)return;const fe=ne.count;ne=this.getObject(ne.data,ne),ne.count=fe;const b=this.ctx,le=this.processingType3;if(le&&(le.compiled===void 0&&(le.compiled=se(ne)),le.compiled)){le.compiled(b);return}const ve=this._createMaskCanvas(ne),Ae=ve.canvas;b.save(),b.setTransform(1,0,0,1,0,0),b.drawImage(Ae,ve.offsetX,ve.offsetY),b.restore(),this.compose()}paintImageMaskXObjectRepeat(ne,fe,b=0,le=0,ve,Ae){if(!this.contentVisible)return;ne=this.getObject(ne.data,ne);const Ce=this.ctx;Ce.save();const Oe=(0,c.getCurrentTransform)(Ce);Ce.transform(fe,b,le,ve,0,0);const Ge=this._createMaskCanvas(ne);Ce.setTransform(1,0,0,1,Ge.offsetX-Oe[4],Ge.offsetY-Oe[5]);for(let qe=0,Ue=Ae.length;qe<Ue;qe+=2){const Ze=o.Util.transform(Oe,[fe,b,le,ve,Ae[qe],Ae[qe+1]]),[it,Je]=o.Util.applyTransform([0,0],Ze);Ce.drawImage(Ge.canvas,it,Je)}Ce.restore(),this.compose()}paintImageMaskXObjectGroup(ne){if(!this.contentVisible)return;const fe=this.ctx,b=this.current.fillColor,le=this.current.patternFill;for(const ve of ne){const{data:Ae,width:Ce,height:Oe,transform:Ge}=ve,qe=this.cachedCanvases.getCanvas("maskCanvas",Ce,Oe),Ue=qe.context;Ue.save();const Ze=this.getObject(Ae,ve);ae(Ue,Ze),Ue.globalCompositeOperation="source-in",Ue.fillStyle=le?b.getPattern(Ue,this,(0,c.getCurrentTransformInverse)(fe),d.PathType.FILL):b,Ue.fillRect(0,0,Ce,Oe),Ue.restore(),fe.save(),fe.transform(...Ge),fe.scale(1,-1),q(fe,qe.canvas,0,0,Ce,Oe,0,-1,1,1),fe.restore()}this.compose()}paintImageXObject(ne){if(!this.contentVisible)return;const fe=this.getObject(ne);if(!fe){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(fe)}paintImageXObjectRepeat(ne,fe,b,le){if(!this.contentVisible)return;const ve=this.getObject(ne);if(!ve){(0,o.warn)("Dependent image isn't ready yet");return}const Ae=ve.width,Ce=ve.height,Oe=[];for(let Ge=0,qe=le.length;Ge<qe;Ge+=2)Oe.push({transform:[fe,0,0,b,le[Ge],le[Ge+1]],x:0,y:0,w:Ae,h:Ce});this.paintInlineImageXObjectGroup(ve,Oe)}applyTransferMapsToCanvas(ne){return this.current.transferMaps!=="none"&&(ne.filter=this.current.transferMaps,ne.drawImage(ne.canvas,0,0),ne.filter="none"),ne.canvas}applyTransferMapsToBitmap(ne){if(this.current.transferMaps==="none")return ne.bitmap;const{bitmap:fe,width:b,height:le}=ne,ve=this.cachedCanvases.getCanvas("inlineImage",b,le),Ae=ve.context;return Ae.filter=this.current.transferMaps,Ae.drawImage(fe,0,0),Ae.filter="none",ve.canvas}paintInlineImageXObject(ne){if(!this.contentVisible)return;const fe=ne.width,b=ne.height,le=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Ce}=le;Ce!=="none"&&Ce!==""&&(le.filter="none")}le.scale(1/fe,-1/b);let ve;if(ne.bitmap)ve=this.applyTransferMapsToBitmap(ne);else if(typeof HTMLElement=="function"&&ne instanceof HTMLElement||!ne.data)ve=ne;else{const Oe=this.cachedCanvases.getCanvas("inlineImage",fe,b).context;ue(Oe,ne),ve=this.applyTransferMapsToCanvas(Oe)}const Ae=this._scaleImage(ve,(0,c.getCurrentTransformInverse)(le));le.imageSmoothingEnabled=Se((0,c.getCurrentTransform)(le),ne.interpolate),q(le,Ae.img,0,0,Ae.paintWidth,Ae.paintHeight,0,-b,fe,b),this.compose(),this.restore()}paintInlineImageXObjectGroup(ne,fe){if(!this.contentVisible)return;const b=this.ctx;let le;if(ne.bitmap)le=ne.bitmap;else{const ve=ne.width,Ae=ne.height,Oe=this.cachedCanvases.getCanvas("inlineImage",ve,Ae).context;ue(Oe,ne),le=this.applyTransferMapsToCanvas(Oe)}for(const ve of fe)b.save(),b.transform(...ve.transform),b.scale(1,-1),q(b,le,ve.x,ve.y,ve.w,ve.h,0,-1,1,1),b.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ne){}markPointProps(ne,fe){}beginMarkedContent(ne){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ne,fe){ne==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(fe)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ne){const fe=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ne);const b=this.ctx;this.pendingClip&&(fe||(this.pendingClip===Le?b.clip("evenodd"):b.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),b.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ne=(0,c.getCurrentTransform)(this.ctx);if(ne[1]===0&&ne[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ne[0]),Math.abs(ne[3]));else{const fe=Math.abs(ne[0]*ne[3]-ne[2]*ne[1]),b=Math.hypot(ne[0],ne[2]),le=Math.hypot(ne[1],ne[3]);this._cachedGetSinglePixelWidth=Math.max(b,le)/fe}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ne}=this.current,{a:fe,b,c:le,d:ve}=this.ctx.getTransform();let Ae,Ce;if(b===0&&le===0){const Oe=Math.abs(fe),Ge=Math.abs(ve);if(Oe===Ge)if(ne===0)Ae=Ce=1/Oe;else{const qe=Oe*ne;Ae=Ce=qe<1?1/qe:1}else if(ne===0)Ae=1/Oe,Ce=1/Ge;else{const qe=Oe*ne,Ue=Ge*ne;Ae=qe<1?1/qe:1,Ce=Ue<1?1/Ue:1}}else{const Oe=Math.abs(fe*ve-b*le),Ge=Math.hypot(fe,b),qe=Math.hypot(le,ve);if(ne===0)Ae=qe/Oe,Ce=Ge/Oe;else{const Ue=ne*Oe;Ae=qe>Ue?qe/Ue:1,Ce=Ge>Ue?Ge/Ue:1}}this._cachedScaleForStroking[0]=Ae,this._cachedScaleForStroking[1]=Ce}return this._cachedScaleForStroking}rescaleAndStroke(ne){const{ctx:fe}=this,{lineWidth:b}=this.current,[le,ve]=this.getScaleForStroking();if(fe.lineWidth=b||1,le===1&&ve===1){fe.stroke();return}const Ae=fe.getLineDash();if(ne&&fe.save(),fe.scale(le,ve),Ae.length>0){const Ce=Math.max(le,ve);fe.setLineDash(Ae.map(Oe=>Oe/Ce)),fe.lineDashOffset/=Ce}fe.stroke(),ne&&fe.restore()}isContentVisible(){for(let ne=this.markedContentStack.length-1;ne>=0;ne--)if(!this.markedContentStack[ne].visible)return!1;return!0}};Te=new WeakSet,Nn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Fe=new WeakSet,Bn=function(){if(this.pageColors){const ne=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ne!=="none"){const fe=this.ctx.filter;this.ctx.filter=ne,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=fe}}};let xe=tt;i.CanvasGraphics=xe;for(const Pe in o.OPS)xe.prototype[Pe]!==void 0&&(xe.prototype[o.OPS[Pe]]=xe.prototype[Pe])},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=te;var o=a(1),c=a(6);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=d;function h(se,me){if(!me)return;const ue=me[2]-me[0],ae=me[3]-me[1],$=new Path2D;$.rect(me[0],me[1],ue,ae),se.clip($)}class _{constructor(){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class ee extends _{constructor(me){super(),this._type=me[1],this._bbox=me[2],this._colorStops=me[3],this._p0=me[4],this._p1=me[5],this._r0=me[6],this._r1=me[7],this.matrix=null}_createGradient(me){let ue;this._type==="axial"?ue=me.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ue=me.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ae of this._colorStops)ue.addColorStop(ae[0],ae[1]);return ue}getPattern(me,ue,ae,$){let ie;if($===d.STROKE||$===d.FILL){const we=ue.current.getClippedPathBoundingBox($,(0,c.getCurrentTransform)(me))||[0,0,0,0],de=Math.ceil(we[2]-we[0])||1,m=Math.ceil(we[3]-we[1])||1,_e=ue.cachedCanvases.getCanvas("pattern",de,m,!0),oe=_e.context;oe.clearRect(0,0,oe.canvas.width,oe.canvas.height),oe.beginPath(),oe.rect(0,0,oe.canvas.width,oe.canvas.height),oe.translate(-we[0],-we[1]),ae=o.Util.transform(ae,[1,0,0,1,we[0],we[1]]),oe.transform(...ue.baseTransform),this.matrix&&oe.transform(...this.matrix),h(oe,this._bbox),oe.fillStyle=this._createGradient(oe),oe.fill(),ie=me.createPattern(_e.canvas,"no-repeat");const Se=new DOMMatrix(ae);ie.setTransform(Se)}else h(me,this._bbox),ie=this._createGradient(me);return ie}}function f(se,me,ue,ae,$,ie,we,de){const m=me.coords,_e=me.colors,oe=se.data,Se=se.width*4;let Ee;m[ue+1]>m[ae+1]&&(Ee=ue,ue=ae,ae=Ee,Ee=ie,ie=we,we=Ee),m[ae+1]>m[$+1]&&(Ee=ae,ae=$,$=Ee,Ee=we,we=de,de=Ee),m[ue+1]>m[ae+1]&&(Ee=ue,ue=ae,ae=Ee,Ee=ie,ie=we,we=Ee);const ye=(m[ue]+me.offsetX)*me.scaleX,je=(m[ue+1]+me.offsetY)*me.scaleY,Le=(m[ae]+me.offsetX)*me.scaleX,xe=(m[ae+1]+me.offsetY)*me.scaleY,Te=(m[$]+me.offsetX)*me.scaleX,Re=(m[$+1]+me.offsetY)*me.scaleY;if(je>=Re)return;const Fe=_e[ie],Ke=_e[ie+1],tt=_e[ie+2],Pe=_e[we],ne=_e[we+1],fe=_e[we+2],b=_e[de],le=_e[de+1],ve=_e[de+2],Ae=Math.round(je),Ce=Math.round(Re);let Oe,Ge,qe,Ue,Ze,it,Je,nt;for(let ht=Ae;ht<=Ce;ht++){if(ht<xe){const We=ht<je?0:(je-ht)/(je-xe);Oe=ye-(ye-Le)*We,Ge=Fe-(Fe-Pe)*We,qe=Ke-(Ke-ne)*We,Ue=tt-(tt-fe)*We}else{let We;ht>Re?We=1:xe===Re?We=0:We=(xe-ht)/(xe-Re),Oe=Le-(Le-Te)*We,Ge=Pe-(Pe-b)*We,qe=ne-(ne-le)*We,Ue=fe-(fe-ve)*We}let ot;ht<je?ot=0:ht>Re?ot=1:ot=(je-ht)/(je-Re),Ze=ye-(ye-Te)*ot,it=Fe-(Fe-b)*ot,Je=Ke-(Ke-le)*ot,nt=tt-(tt-ve)*ot;const mt=Math.round(Math.min(Oe,Ze)),st=Math.round(Math.max(Oe,Ze));let Ve=Se*ht+mt*4;for(let We=mt;We<=st;We++)ot=(Oe-We)/(Oe-Ze),ot<0?ot=0:ot>1&&(ot=1),oe[Ve++]=Ge-(Ge-it)*ot|0,oe[Ve++]=qe-(qe-Je)*ot|0,oe[Ve++]=Ue-(Ue-nt)*ot|0,oe[Ve++]=255}}function g(se,me,ue){const ae=me.coords,$=me.colors;let ie,we;switch(me.type){case"lattice":const de=me.verticesPerRow,m=Math.floor(ae.length/de)-1,_e=de-1;for(ie=0;ie<m;ie++){let oe=ie*de;for(let Se=0;Se<_e;Se++,oe++)f(se,ue,ae[oe],ae[oe+1],ae[oe+de],$[oe],$[oe+1],$[oe+de]),f(se,ue,ae[oe+de+1],ae[oe+1],ae[oe+de],$[oe+de+1],$[oe+1],$[oe+de])}break;case"triangles":for(ie=0,we=ae.length;ie<we;ie+=3)f(se,ue,ae[ie],ae[ie+1],ae[ie+2],$[ie],$[ie+1],$[ie+2]);break;default:throw new Error("illegal figure")}}class he extends _{constructor(me){super(),this._coords=me[2],this._colors=me[3],this._figures=me[4],this._bounds=me[5],this._bbox=me[7],this._background=me[8],this.matrix=null}_createMeshCanvas(me,ue,ae){const de=Math.floor(this._bounds[0]),m=Math.floor(this._bounds[1]),_e=Math.ceil(this._bounds[2])-de,oe=Math.ceil(this._bounds[3])-m,Se=Math.min(Math.ceil(Math.abs(_e*me[0]*1.1)),3e3),Ee=Math.min(Math.ceil(Math.abs(oe*me[1]*1.1)),3e3),ye=_e/Se,je=oe/Ee,Le={coords:this._coords,colors:this._colors,offsetX:-de,offsetY:-m,scaleX:1/ye,scaleY:1/je},xe=Se+2*2,Te=Ee+2*2,Re=ae.getCanvas("mesh",xe,Te,!1),Fe=Re.context,Ke=Fe.createImageData(Se,Ee);if(ue){const Pe=Ke.data;for(let ne=0,fe=Pe.length;ne<fe;ne+=4)Pe[ne]=ue[0],Pe[ne+1]=ue[1],Pe[ne+2]=ue[2],Pe[ne+3]=255}for(const Pe of this._figures)g(Ke,Pe,Le);return Fe.putImageData(Ke,2,2),{canvas:Re.canvas,offsetX:de-2*ye,offsetY:m-2*je,scaleX:ye,scaleY:je}}getPattern(me,ue,ae,$){h(me,this._bbox);let ie;if($===d.SHADING)ie=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(me));else if(ie=o.Util.singularValueDecompose2dScale(ue.baseTransform),this.matrix){const de=o.Util.singularValueDecompose2dScale(this.matrix);ie=[ie[0]*de[0],ie[1]*de[1]]}const we=this._createMeshCanvas(ie,$===d.SHADING?null:this._background,ue.cachedCanvases);return $!==d.SHADING&&(me.setTransform(...ue.baseTransform),this.matrix&&me.transform(...this.matrix)),me.translate(we.offsetX,we.offsetY),me.scale(we.scaleX,we.scaleY),me.createPattern(we.canvas,"no-repeat")}}class ge extends _{getPattern(){return"hotpink"}}function te(se){switch(se[0]){case"RadialAxial":return new ee(se);case"Mesh":return new he(se);case"Dummy":return new ge}throw new Error(`Unknown IR type: ${se[0]}`)}const re={COLORED:1,UNCOLORED:2},q=class q{constructor(me,ue,ae,$,ie){this.operatorList=me[2],this.matrix=me[3]||[1,0,0,1,0,0],this.bbox=me[4],this.xstep=me[5],this.ystep=me[6],this.paintType=me[7],this.tilingType=me[8],this.color=ue,this.ctx=ae,this.canvasGraphicsFactory=$,this.baseTransform=ie}createPatternCanvas(me){const ue=this.operatorList,ae=this.bbox,$=this.xstep,ie=this.ystep,we=this.paintType,de=this.tilingType,m=this.color,_e=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+de);const oe=ae[0],Se=ae[1],Ee=ae[2],ye=ae[3],je=o.Util.singularValueDecompose2dScale(this.matrix),Le=o.Util.singularValueDecompose2dScale(this.baseTransform),xe=[je[0]*Le[0],je[1]*Le[1]],Te=this.getSizeAndScale($,this.ctx.canvas.width,xe[0]),Re=this.getSizeAndScale(ie,this.ctx.canvas.height,xe[1]),Fe=me.cachedCanvases.getCanvas("pattern",Te.size,Re.size,!0),Ke=Fe.context,tt=_e.createCanvasGraphics(Ke);tt.groupLevel=me.groupLevel,this.setFillAndStrokeStyleToContext(tt,we,m);let Pe=oe,ne=Se,fe=Ee,b=ye;return oe<0&&(Pe=0,fe+=Math.abs(oe)),Se<0&&(ne=0,b+=Math.abs(Se)),Ke.translate(-(Te.scale*Pe),-(Re.scale*ne)),tt.transform(Te.scale,0,0,Re.scale,0,0),Ke.save(),this.clipBbox(tt,Pe,ne,fe,b),tt.baseTransform=(0,c.getCurrentTransform)(tt.ctx),tt.executeOperatorList(ue),tt.endDrawing(),{canvas:Fe.canvas,scaleX:Te.scale,scaleY:Re.scale,offsetX:Pe,offsetY:ne}}getSizeAndScale(me,ue,ae){me=Math.abs(me);const $=Math.max(q.MAX_PATTERN_SIZE,ue);let ie=Math.ceil(me*ae);return ie>=$?ie=$:ae=ie/me,{scale:ae,size:ie}}clipBbox(me,ue,ae,$,ie){const we=$-ue,de=ie-ae;me.ctx.rect(ue,ae,we,de),me.current.updateRectMinMax((0,c.getCurrentTransform)(me.ctx),[ue,ae,$,ie]),me.clip(),me.endPath()}setFillAndStrokeStyleToContext(me,ue,ae){const $=me.ctx,ie=me.current;switch(ue){case re.COLORED:const we=this.ctx;$.fillStyle=we.fillStyle,$.strokeStyle=we.strokeStyle,ie.fillColor=we.fillStyle,ie.strokeColor=we.strokeStyle;break;case re.UNCOLORED:const de=o.Util.makeHexColor(ae[0],ae[1],ae[2]);$.fillStyle=de,$.strokeStyle=de,ie.fillColor=de,ie.strokeColor=de;break;default:throw new o.FormatError(`Unsupported paint type: ${ue}`)}}getPattern(me,ue,ae,$){let ie=ae;$!==d.SHADING&&(ie=o.Util.transform(ie,ue.baseTransform),this.matrix&&(ie=o.Util.transform(ie,this.matrix)));const we=this.createPatternCanvas(ue);let de=new DOMMatrix(ie);de=de.translate(we.offsetX,we.offsetY),de=de.scale(1/we.scaleX,1/we.scaleY);const m=me.createPattern(we.canvas,"repeat");return m.setTransform(de),m}};Ut(q,"MAX_PATTERN_SIZE",3e3);let be=q;i.TilingPattern=be},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=d,i.convertToRGBA=c,i.grayToRGBA=_;var o=a(1);function c(ee){switch(ee.kind){case o.ImageKind.GRAYSCALE_1BPP:return d(ee);case o.ImageKind.RGB_24BPP:return h(ee)}return null}function d({src:ee,srcPos:f=0,dest:g,width:he,height:ge,nonBlackColor:te=4294967295,inverseDecode:re=!1}){const be=o.FeatureTest.isLittleEndian?4278190080:255,[q,se]=re?[te,be]:[be,te],me=he>>3,ue=he&7,ae=ee.length;g=new Uint32Array(g.buffer);let $=0;for(let ie=0;ie<ge;ie++){for(const de=f+me;f<de;f++){const m=f<ae?ee[f]:255;g[$++]=m&128?se:q,g[$++]=m&64?se:q,g[$++]=m&32?se:q,g[$++]=m&16?se:q,g[$++]=m&8?se:q,g[$++]=m&4?se:q,g[$++]=m&2?se:q,g[$++]=m&1?se:q}if(ue===0)continue;const we=f<ae?ee[f++]:255;for(let de=0;de<ue;de++)g[$++]=we&1<<7-de?se:q}return{srcPos:f,destPos:$}}function h({src:ee,srcPos:f=0,dest:g,destPos:he=0,width:ge,height:te}){let re=0;const be=ee.length>>2,q=new Uint32Array(ee.buffer,f,be);if(o.FeatureTest.isLittleEndian){for(;re<be-2;re+=3,he+=4){const se=q[re],me=q[re+1],ue=q[re+2];g[he]=se|4278190080,g[he+1]=se>>>24|me<<8|4278190080,g[he+2]=me>>>16|ue<<16|4278190080,g[he+3]=ue>>>8|4278190080}for(let se=re*4,me=ee.length;se<me;se+=3)g[he++]=ee[se]|ee[se+1]<<8|ee[se+2]<<16|4278190080}else{for(;re<be-2;re+=3,he+=4){const se=q[re],me=q[re+1],ue=q[re+2];g[he]=se|255,g[he+1]=se<<24|me>>>8|255,g[he+2]=me<<16|ue>>>16|255,g[he+3]=ue<<8|255}for(let se=re*4,me=ee.length;se<me;se+=3)g[he++]=ee[se]<<24|ee[se+1]<<16|ee[se+2]<<8|255}return{srcPos:f,destPos:he}}function _(ee,f){if(o.FeatureTest.isLittleEndian)for(let g=0,he=ee.length;g<he;g++)f[g]=ee[g]*65793|4278190080;else for(let g=0,he=ee.length;g<he;g++)f[g]=ee[g]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const a=Object.create(null);i.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(e,i,a)=>{var ee,mr,g,_r,ge,mn;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=a(1);const c={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function h(re){switch(re instanceof Error||typeof re=="object"&&re!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new o.AbortException(re.message);case"MissingPDFException":return new o.MissingPDFException(re.message);case"PasswordException":return new o.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new o.UnknownErrorException(re.message,re.details);default:return new o.UnknownErrorException(re.message,re.toString())}}class _{constructor(be,q,se){De(this,ee);De(this,g);De(this,ge);this.sourceName=be,this.targetName=q,this.comObj=se,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=me=>{const ue=me.data;if(ue.targetName!==this.sourceName)return;if(ue.stream){Ne(this,g,_r).call(this,ue);return}if(ue.callback){const $=ue.callbackId,ie=this.callbackCapabilities[$];if(!ie)throw new Error(`Cannot resolve callback ${$}`);if(delete this.callbackCapabilities[$],ue.callback===c.DATA)ie.resolve(ue.data);else if(ue.callback===c.ERROR)ie.reject(h(ue.reason));else throw new Error("Unexpected callback case");return}const ae=this.actionHandler[ue.action];if(!ae)throw new Error(`Unknown action from worker: ${ue.action}`);if(ue.callbackId){const $=this.sourceName,ie=ue.sourceName;new Promise(function(we){we(ae(ue.data))}).then(function(we){se.postMessage({sourceName:$,targetName:ie,callback:c.DATA,callbackId:ue.callbackId,data:we})},function(we){se.postMessage({sourceName:$,targetName:ie,callback:c.ERROR,callbackId:ue.callbackId,reason:h(we)})});return}if(ue.streamId){Ne(this,ee,mr).call(this,ue);return}ae(ue.data)},se.addEventListener("message",this._onComObjOnMessage)}on(be,q){const se=this.actionHandler;if(se[be])throw new Error(`There is already an actionName called "${be}"`);se[be]=q}send(be,q,se){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:be,data:q},se)}sendWithPromise(be,q,se){const me=this.callbackId++,ue=new o.PromiseCapability;this.callbackCapabilities[me]=ue;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:be,callbackId:me,data:q},se)}catch(ae){ue.reject(ae)}return ue.promise}sendWithStream(be,q,se,me){const ue=this.streamId++,ae=this.sourceName,$=this.targetName,ie=this.comObj;return new ReadableStream({start:we=>{const de=new o.PromiseCapability;return this.streamControllers[ue]={controller:we,startCall:de,pullCall:null,cancelCall:null,isClosed:!1},ie.postMessage({sourceName:ae,targetName:$,action:be,streamId:ue,data:q,desiredSize:we.desiredSize},me),de.promise},pull:we=>{const de=new o.PromiseCapability;return this.streamControllers[ue].pullCall=de,ie.postMessage({sourceName:ae,targetName:$,stream:d.PULL,streamId:ue,desiredSize:we.desiredSize}),de.promise},cancel:we=>{(0,o.assert)(we instanceof Error,"cancel must have a valid reason");const de=new o.PromiseCapability;return this.streamControllers[ue].cancelCall=de,this.streamControllers[ue].isClosed=!0,ie.postMessage({sourceName:ae,targetName:$,stream:d.CANCEL,streamId:ue,reason:h(we)}),de.promise}},se)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ee=new WeakSet,mr=function(be){const q=be.streamId,se=this.sourceName,me=be.sourceName,ue=this.comObj,ae=this,$=this.actionHandler[be.action],ie={enqueue(we,de=1,m){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=de,_e>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),ue.postMessage({sourceName:se,targetName:me,stream:d.ENQUEUE,streamId:q,chunk:we},m)},close(){this.isCancelled||(this.isCancelled=!0,ue.postMessage({sourceName:se,targetName:me,stream:d.CLOSE,streamId:q}),delete ae.streamSinks[q])},error(we){(0,o.assert)(we instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ue.postMessage({sourceName:se,targetName:me,stream:d.ERROR,streamId:q,reason:h(we)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:be.desiredSize,ready:null};ie.sinkCapability.resolve(),ie.ready=ie.sinkCapability.promise,this.streamSinks[q]=ie,new Promise(function(we){we($(be.data,ie))}).then(function(){ue.postMessage({sourceName:se,targetName:me,stream:d.START_COMPLETE,streamId:q,success:!0})},function(we){ue.postMessage({sourceName:se,targetName:me,stream:d.START_COMPLETE,streamId:q,reason:h(we)})})},g=new WeakSet,_r=function(be){const q=be.streamId,se=this.sourceName,me=be.sourceName,ue=this.comObj,ae=this.streamControllers[q],$=this.streamSinks[q];switch(be.stream){case d.START_COMPLETE:be.success?ae.startCall.resolve():ae.startCall.reject(h(be.reason));break;case d.PULL_COMPLETE:be.success?ae.pullCall.resolve():ae.pullCall.reject(h(be.reason));break;case d.PULL:if(!$){ue.postMessage({sourceName:se,targetName:me,stream:d.PULL_COMPLETE,streamId:q,success:!0});break}$.desiredSize<=0&&be.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=be.desiredSize,new Promise(function(ie){var we;ie((we=$.onPull)==null?void 0:we.call($))}).then(function(){ue.postMessage({sourceName:se,targetName:me,stream:d.PULL_COMPLETE,streamId:q,success:!0})},function(ie){ue.postMessage({sourceName:se,targetName:me,stream:d.PULL_COMPLETE,streamId:q,reason:h(ie)})});break;case d.ENQUEUE:if((0,o.assert)(ae,"enqueue should have stream controller"),ae.isClosed)break;ae.controller.enqueue(be.chunk);break;case d.CLOSE:if((0,o.assert)(ae,"close should have stream controller"),ae.isClosed)break;ae.isClosed=!0,ae.controller.close(),Ne(this,ge,mn).call(this,ae,q);break;case d.ERROR:(0,o.assert)(ae,"error should have stream controller"),ae.controller.error(h(be.reason)),Ne(this,ge,mn).call(this,ae,q);break;case d.CANCEL_COMPLETE:be.success?ae.cancelCall.resolve():ae.cancelCall.reject(h(be.reason)),Ne(this,ge,mn).call(this,ae,q);break;case d.CANCEL:if(!$)break;new Promise(function(ie){var we;ie((we=$.onCancel)==null?void 0:we.call($,h(be.reason)))}).then(function(){ue.postMessage({sourceName:se,targetName:me,stream:d.CANCEL_COMPLETE,streamId:q,success:!0})},function(ie){ue.postMessage({sourceName:se,targetName:me,stream:d.CANCEL_COMPLETE,streamId:q,reason:h(ie)})}),$.sinkCapability.reject(h(be.reason)),$.isCancelled=!0,delete this.streamSinks[q];break;default:throw new Error("Unexpected stream case")}},ge=new WeakSet,mn=async function(be,q){var se,me,ue;await Promise.allSettled([(se=be.startCall)==null?void 0:se.promise,(me=be.pullCall)==null?void 0:me.promise,(ue=be.cancelCall)==null?void 0:ue.promise]),delete this.streamControllers[q]},i.MessageHandler=_},(e,i,a)=>{var d,h;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=a(1);class c{constructor({parsedData:ee,rawData:f}){De(this,d,void 0);De(this,h,void 0);Qe(this,d,ee),Qe(this,h,f)}getRaw(){return j(this,h)}get(ee){return j(this,d).get(ee)??null}getAll(){return(0,o.objectFromMap)(j(this,d))}has(ee){return j(this,d).has(ee)}}d=new WeakMap,h=new WeakMap,i.Metadata=c},(e,i,a)=>{var ee,f,g,he,ge,te,Un;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=a(1),c=a(8);const d=Symbol("INTERNAL");class h{constructor(q,se){De(this,ee,!0);this.name=q,this.intent=se}get visible(){return j(this,ee)}_setVisible(q,se){q!==d&&(0,o.unreachable)("Internal method `_setVisible` called."),Qe(this,ee,se)}}ee=new WeakMap;class _{constructor(q){De(this,te);De(this,f,null);De(this,g,new Map);De(this,he,null);De(this,ge,null);if(this.name=null,this.creator=null,q!==null){this.name=q.name,this.creator=q.creator,Qe(this,ge,q.order);for(const se of q.groups)j(this,g).set(se.id,new h(se.name,se.intent));if(q.baseState==="OFF")for(const se of j(this,g).values())se._setVisible(d,!1);for(const se of q.on)j(this,g).get(se)._setVisible(d,!0);for(const se of q.off)j(this,g).get(se)._setVisible(d,!1);Qe(this,he,this.getHash())}}isVisible(q){if(j(this,g).size===0)return!0;if(!q)return(0,o.warn)("Optional content group not defined."),!0;if(q.type==="OCG")return j(this,g).has(q.id)?j(this,g).get(q.id).visible:((0,o.warn)(`Optional content group not found: ${q.id}`),!0);if(q.type==="OCMD"){if(q.expression)return Ne(this,te,Un).call(this,q.expression);if(!q.policy||q.policy==="AnyOn"){for(const se of q.ids){if(!j(this,g).has(se))return(0,o.warn)(`Optional content group not found: ${se}`),!0;if(j(this,g).get(se).visible)return!0}return!1}else if(q.policy==="AllOn"){for(const se of q.ids){if(!j(this,g).has(se))return(0,o.warn)(`Optional content group not found: ${se}`),!0;if(!j(this,g).get(se).visible)return!1}return!0}else if(q.policy==="AnyOff"){for(const se of q.ids){if(!j(this,g).has(se))return(0,o.warn)(`Optional content group not found: ${se}`),!0;if(!j(this,g).get(se).visible)return!0}return!1}else if(q.policy==="AllOff"){for(const se of q.ids){if(!j(this,g).has(se))return(0,o.warn)(`Optional content group not found: ${se}`),!0;if(j(this,g).get(se).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${q.policy}.`),!0}return(0,o.warn)(`Unknown group type ${q.type}.`),!0}setVisibility(q,se=!0){if(!j(this,g).has(q)){(0,o.warn)(`Optional content group not found: ${q}`);return}j(this,g).get(q)._setVisible(d,!!se),Qe(this,f,null)}get hasInitialVisibility(){return j(this,he)===null||this.getHash()===j(this,he)}getOrder(){return j(this,g).size?j(this,ge)?j(this,ge).slice():[...j(this,g).keys()]:null}getGroups(){return j(this,g).size>0?(0,o.objectFromMap)(j(this,g)):null}getGroup(q){return j(this,g).get(q)||null}getHash(){if(j(this,f)!==null)return j(this,f);const q=new c.MurmurHash3_64;for(const[se,me]of j(this,g))q.update(`${se}:${me.visible}`);return Qe(this,f,q.hexdigest())}}f=new WeakMap,g=new WeakMap,he=new WeakMap,ge=new WeakMap,te=new WeakSet,Un=function(q){const se=q.length;if(se<2)return!0;const me=q[0];for(let ue=1;ue<se;ue++){const ae=q[ue];let $;if(Array.isArray(ae))$=Ne(this,te,Un).call(this,ae);else if(j(this,g).has(ae))$=j(this,g).get(ae).visible;else return(0,o.warn)(`Optional content group not found: ${ae}`),!0;switch(me){case"And":if(!$)return!1;break;case"Or":if($)return!0;break;case"Not":return!$;default:return!0}}return me==="And"},i.OptionalContentConfig=_},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=a(1),c=a(6);class d{constructor({length:f,initialData:g,progressiveDone:he=!1,contentDispositionFilename:ge=null,disableRange:te=!1,disableStream:re=!1},be){if((0,o.assert)(be,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=he,this._contentDispositionFilename=ge,(g==null?void 0:g.length)>0){const q=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=be,this._isStreamingSupported=!re,this._isRangeSupported=!te,this._contentLength=f,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,se)=>{this._onReceiveData({begin:q,chunk:se})}),this._pdfDataRangeTransport.addProgressListener((q,se)=>{this._onProgress({loaded:q,total:se})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:f,chunk:g}){const he=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(f===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(he):this._queuedChunks.push(he);else{const ge=this._rangeReaders.some(function(te){return te._begin!==f?!1:(te._enqueue(he),!0)});(0,o.assert)(ge,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var f;return((f=this._fullRequestReader)==null?void 0:f._loaded)??0}_onProgress(f){var g,he,ge,te;f.total===void 0?(he=(g=this._rangeReaders[0])==null?void 0:g.onProgress)==null||he.call(g,{loaded:f.loaded}):(te=(ge=this._fullRequestReader)==null?void 0:ge.onProgress)==null||te.call(ge,{loaded:f.loaded,total:f.total})}_onProgressiveDone(){var f;(f=this._fullRequestReader)==null||f.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const g=this._rangeReaders.indexOf(f);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new h(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,g){if(g<=this._progressiveDataLength)return null;const he=new _(this,f,g);return this._pdfDataRangeTransport.requestDataRange(f,g),this._rangeReaders.push(he),he}cancelAllRequests(f){var g;(g=this._fullRequestReader)==null||g.cancel(f);for(const he of this._rangeReaders.slice(0))he.cancel(f);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=d;class h{constructor(f,g,he=!1,ge=null){this._stream=f,this._done=he||!1,this._filename=(0,c.isPdfFile)(ge)?ge:null,this._queuedChunks=g||[],this._loaded=0;for(const te of this._queuedChunks)this._loaded+=te.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=new o.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _{constructor(f,g,he){this._stream=f,this._begin=g,this._end=he,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(this._requests.length===0)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const f=new o.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=a(1),c=a(20);function d(he,ge,te){return{method:"GET",headers:he,signal:te.signal,mode:"cors",credentials:ge?"include":"same-origin",redirect:"follow"}}function h(he){const ge=new Headers;for(const te in he){const re=he[te];re!==void 0&&ge.append(te,re)}return ge}function _(he){return he instanceof Uint8Array?he.buffer:he instanceof ArrayBuffer?he:((0,o.warn)(`getArrayBuffer - unexpected data format: ${he}`),new Uint8Array(he).buffer)}class ee{constructor(ge){this.source=ge,this.isHttp=/^https?:/i.test(ge.url),this.httpHeaders=this.isHttp&&ge.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ge;return((ge=this._fullRequestReader)==null?void 0:ge._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(ge,te){if(te<=this._progressiveDataLength)return null;const re=new g(this,ge,te);return this._rangeRequestReaders.push(re),re}cancelAllRequests(ge){var te;(te=this._fullRequestReader)==null||te.cancel(ge);for(const re of this._rangeRequestReaders.slice(0))re.cancel(ge)}}i.PDFFetchStream=ee;class f{constructor(ge){this._stream=ge,this._reader=null,this._loaded=0,this._filename=null;const te=ge.source;this._withCredentials=te.withCredentials||!1,this._contentLength=te.length,this._headersCapability=new o.PromiseCapability,this._disableRange=te.disableRange||!1,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!te.disableStream,this._isRangeSupported=!te.disableRange,this._headers=h(this._stream.httpHeaders);const re=te.url;fetch(re,d(this._headers,this._withCredentials,this._abortController)).then(be=>{if(!(0,c.validateResponseStatus)(be.status))throw(0,c.createResponseStatusError)(be.status,re);this._reader=be.body.getReader(),this._headersCapability.resolve();const q=ue=>be.headers.get(ue),{allowRangeRequests:se,suggestedLength:me}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=se,this._contentLength=me||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(q),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:ge,done:te}=await this._reader.read();return te?{value:ge,done:te}:(this._loaded+=ge.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_(ge),done:!1})}cancel(ge){var te;(te=this._reader)==null||te.cancel(ge),this._abortController.abort()}}class g{constructor(ge,te,re){this._stream=ge,this._reader=null,this._loaded=0;const be=ge.source;this._withCredentials=be.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!be.disableStream,this._abortController=new AbortController,this._headers=h(this._stream.httpHeaders),this._headers.append("Range",`bytes=${te}-${re-1}`);const q=be.url;fetch(q,d(this._headers,this._withCredentials,this._abortController)).then(se=>{if(!(0,c.validateResponseStatus)(se.status))throw(0,c.createResponseStatusError)(se.status,q);this._readCapability.resolve(),this._reader=se.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:ge,done:te}=await this._reader.read();return te?{value:ge,done:te}:(this._loaded+=ge.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:_(ge),done:!1})}cancel(ge){var te;(te=this._reader)==null||te.cancel(ge),this._abortController.abort()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=ee,i.extractFilenameFromHeader=_,i.validateRangeRequestCapabilities=h,i.validateResponseStatus=f;var o=a(1),c=a(21),d=a(6);function h({getResponseHeader:g,isHttp:he,rangeChunkSize:ge,disableRange:te}){const re={allowRangeRequests:!1,suggestedLength:void 0},be=parseInt(g("Content-Length"),10);return!Number.isInteger(be)||(re.suggestedLength=be,be<=2*ge)||te||!he||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function _(g){const he=g("Content-Disposition");if(he){let ge=(0,c.getFilenameFromContentDispositionHeader)(he);if(ge.includes("%"))try{ge=decodeURIComponent(ge)}catch{}if((0,d.isPdfFile)(ge))return ge}return null}function ee(g,he){return g===404||g===0&&he.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+he+'".'):new o.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${he}".`,g)}function f(g){return g===200||g===206}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var o=a(1);function c(d){let h=!0,_=ee("filename\\*","i").exec(d);if(_){_=_[1];let be=ge(_);return be=unescape(be),be=te(be),be=re(be),g(be)}if(_=he(d),_){const be=re(_);return g(be)}if(_=ee("filename","i").exec(d),_){_=_[1];let be=ge(_);return be=re(be),g(be)}function ee(be,q){return new RegExp("(?:^|;)\\s*"+be+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',q)}function f(be,q){if(be){if(!/^[\x00-\xFF]+$/.test(q))return q;try{const se=new TextDecoder(be,{fatal:!0}),me=(0,o.stringToBytes)(q);q=se.decode(me),h=!1}catch{}}return q}function g(be){return h&&/[\x80-\xff]/.test(be)&&(be=f("utf-8",be),h&&(be=f("iso-8859-1",be))),be}function he(be){const q=[];let se;const me=ee("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(se=me.exec(be))!==null;){let[,ae,$,ie]=se;if(ae=parseInt(ae,10),ae in q){if(ae===0)break;continue}q[ae]=[$,ie]}const ue=[];for(let ae=0;ae<q.length&&ae in q;++ae){let[$,ie]=q[ae];ie=ge(ie),$&&(ie=unescape(ie),ae===0&&(ie=te(ie))),ue.push(ie)}return ue.join("")}function ge(be){if(be.startsWith('"')){const q=be.slice(1).split('\\"');for(let se=0;se<q.length;++se){const me=q[se].indexOf('"');me!==-1&&(q[se]=q[se].slice(0,me),q.length=se+1),q[se]=q[se].replaceAll(/\\(.)/g,"$1")}be=q.join('"')}return be}function te(be){const q=be.indexOf("'");if(q===-1)return be;const se=be.slice(0,q),ue=be.slice(q+1).replace(/^[^']*'/,"");return f(se,ue)}function re(be){return!be.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(be)?be:be.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(q,se,me,ue){if(me==="q"||me==="Q")return ue=ue.replaceAll("_"," "),ue=ue.replaceAll(/=([0-9a-fA-F]{2})/g,function(ae,$){return String.fromCharCode(parseInt($,16))}),f(se,ue);try{ue=atob(ue)}catch{}return f(se,ue)})}return""}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=a(1),c=a(20);const d=200,h=206;function _(ge){const te=ge.response;return typeof te!="string"?te:(0,o.stringToBytes)(te).buffer}class ee{constructor(te,re={}){this.url=te,this.isHttp=/^https?:/i.test(te),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(te,re,be){const q={begin:te,end:re};for(const se in be)q[se]=be[se];return this.request(q)}requestFull(te){return this.request(te)}request(te){const re=new XMLHttpRequest,be=this.currXhrId++,q=this.pendingRequests[be]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const se in this.httpHeaders){const me=this.httpHeaders[se];me!==void 0&&re.setRequestHeader(se,me)}return this.isHttp&&"begin"in te&&"end"in te?(re.setRequestHeader("Range",`bytes=${te.begin}-${te.end-1}`),q.expectedStatus=h):q.expectedStatus=d,re.responseType="arraybuffer",te.onError&&(re.onerror=function(se){te.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,be),re.onprogress=this.onProgress.bind(this,be),q.onHeadersReceived=te.onHeadersReceived,q.onDone=te.onDone,q.onError=te.onError,q.onProgress=te.onProgress,re.send(null),be}onProgress(te,re){var q;const be=this.pendingRequests[te];be&&((q=be.onProgress)==null||q.call(be,re))}onStateChange(te,re){var ae,$,ie;const be=this.pendingRequests[te];if(!be)return;const q=be.xhr;if(q.readyState>=2&&be.onHeadersReceived&&(be.onHeadersReceived(),delete be.onHeadersReceived),q.readyState!==4||!(te in this.pendingRequests))return;if(delete this.pendingRequests[te],q.status===0&&this.isHttp){(ae=be.onError)==null||ae.call(be,q.status);return}const se=q.status||d;if(!(se===d&&be.expectedStatus===h)&&se!==be.expectedStatus){($=be.onError)==null||$.call(be,q.status);return}const ue=_(q);if(se===h){const we=q.getResponseHeader("Content-Range"),de=/bytes (\d+)-(\d+)\/(\d+)/.exec(we);be.onDone({begin:parseInt(de[1],10),chunk:ue})}else ue?be.onDone({begin:0,chunk:ue}):(ie=be.onError)==null||ie.call(be,q.status)}getRequestXhr(te){return this.pendingRequests[te].xhr}isPendingRequest(te){return te in this.pendingRequests}abortRequest(te){const re=this.pendingRequests[te].xhr;delete this.pendingRequests[te],re.abort()}}class f{constructor(te){this._source=te,this._manager=new ee(te.url,{httpHeaders:te.httpHeaders,withCredentials:te.withCredentials}),this._rangeChunkSize=te.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(te){const re=this._rangeRequestReaders.indexOf(te);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(te,re){const be=new he(this._manager,te,re);return be.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(be),be}cancelAllRequests(te){var re;(re=this._fullRequestReader)==null||re.cancel(te);for(const be of this._rangeRequestReaders.slice(0))be.cancel(te)}}i.PDFNetworkStream=f;class g{constructor(te,re){this._manager=te;const be={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=te.requestFull(be),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const te=this._fullRequestId,re=this._manager.getRequestXhr(te),be=me=>re.getResponseHeader(me),{allowRangeRequests:q,suggestedLength:se}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:be,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});q&&(this._isRangeSupported=!0),this._contentLength=se||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(be),this._isRangeSupported&&this._manager.abortRequest(te),this._headersReceivedCapability.resolve()}_onDone(te){if(te&&(this._requests.length>0?this._requests.shift().resolve({value:te.chunk,done:!1}):this._cachedChunks.push(te.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(te){this._storedError=(0,c.createResponseStatusError)(te,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(te){var re;(re=this.onProgress)==null||re.call(this,{loaded:te.loaded,total:te.lengthComputable?te.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const te=new o.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0,this._headersReceivedCapability.reject(te);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class he{constructor(te,re,be){this._manager=te;const q={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._requestId=te.requestRange(re,be,q),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var te;(te=this.onClosed)==null||te.call(this,this)}_onDone(te){const re=te.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const be of this._requests)be.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(te){this._storedError=(0,c.createResponseStatusError)(te,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(te){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:te.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const te=new o.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=a(1),c=a(20);const d=/^file:\/\/\/[a-zA-Z]:\//;function h(be){const q=require$$5,se=q.parse(be);return se.protocol==="file:"||se.host?se:/^[a-z]:[/\\]/i.test(be)?q.parse(`file:///${be}`):(se.host||(se.protocol="file:"),se)}class _{constructor(q){this.source=q,this.url=h(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q;return((q=this._fullRequestReader)==null?void 0:q._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new te(this):new he(this),this._fullRequestReader}getRangeReader(q,se){if(se<=this._progressiveDataLength)return null;const me=this.isFsUrl?new re(this,q,se):new ge(this,q,se);return this._rangeRequestReaders.push(me),me}cancelAllRequests(q){var se;(se=this._fullRequestReader)==null||se.cancel(q);for(const me of this._rangeRequestReaders.slice(0))me.cancel(q)}}i.PDFNodeStream=_;class ee{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const se=q.source;this._contentLength=se.length,this._loaded=0,this._filename=null,this._disableRange=se.disableRange||!1,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!se.disableStream,this._isRangeSupported=!se.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var me;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=q.length,(me=this.onProgress)==null||me.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",se=>{this._error(se)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const se=q.source;this._isStreamingSupported=!se.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var me;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=q.length,(me=this.onProgress)==null||me.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",se=>{this._error(se)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function g(be,q){return{protocol:be.protocol,auth:be.auth,host:be.hostname,port:be.port,path:be.path,method:"GET",headers:q}}class he extends ee{constructor(q){super(q);const se=me=>{if(me.statusCode===404){const ie=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ie,this._headersCapability.reject(ie);return}this._headersCapability.resolve(),this._setReadableStream(me);const ue=ie=>this._readableStream.headers[ie.toLowerCase()],{allowRangeRequests:ae,suggestedLength:$}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=$||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(ue)};if(this._request=null,this._url.protocol==="http:"){const me=require$$5;this._request=me.request(g(this._url,q.httpHeaders),se)}else{const me=require$$5;this._request=me.request(g(this._url,q.httpHeaders),se)}this._request.on("error",me=>{this._storedError=me,this._headersCapability.reject(me)}),this._request.end()}}class ge extends f{constructor(q,se,me){super(q),this._httpHeaders={};for(const ae in q.httpHeaders){const $=q.httpHeaders[ae];$!==void 0&&(this._httpHeaders[ae]=$)}this._httpHeaders.Range=`bytes=${se}-${me-1}`;const ue=ae=>{if(ae.statusCode===404){const $=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$;return}this._setReadableStream(ae)};if(this._request=null,this._url.protocol==="http:"){const ae=require$$5;this._request=ae.request(g(this._url,this._httpHeaders),ue)}else{const ae=require$$5;this._request=ae.request(g(this._url,this._httpHeaders),ue)}this._request.on("error",ae=>{this._storedError=ae}),this._request.end()}}class te extends ee{constructor(q){super(q);let se=decodeURIComponent(this._url.path);d.test(this._url.href)&&(se=se.replace(/^\//,""));const me=require$$5;me.lstat(se,(ue,ae)=>{if(ue){ue.code==="ENOENT"&&(ue=new o.MissingPDFException(`Missing PDF "${se}".`)),this._storedError=ue,this._headersCapability.reject(ue);return}this._contentLength=ae.size,this._setReadableStream(me.createReadStream(se)),this._headersCapability.resolve()})}}class re extends f{constructor(q,se,me){super(q);let ue=decodeURIComponent(this._url.path);d.test(this._url.href)&&(ue=ue.replace(/^\//,""));const ae=require$$5;this._setReadableStream(ae.createReadStream(ue,{start:se,end:me-1}))}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=a(6),c=a(1);const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",ee=["butt","round","square"],f=["miter","round","bevel"],g=function(ae,$="",ie=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ie)return URL.createObjectURL(new Blob([ae],{type:$}));const we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let de=`data:${$};base64,`;for(let m=0,_e=ae.length;m<_e;m+=3){const oe=ae[m]&255,Se=ae[m+1]&255,Ee=ae[m+2]&255,ye=oe>>2,je=(oe&3)<<4|Se>>4,Le=m+1<_e?(Se&15)<<2|Ee>>6:64,xe=m+2<_e?Ee&63:64;de+=we[ye]+we[je]+we[Le]+we[xe]}return de},he=function(){const ae=new Uint8Array([137,80,78,71,13,10,26,10]),$=12,ie=new Int32Array(256);for(let Ee=0;Ee<256;Ee++){let ye=Ee;for(let je=0;je<8;je++)ye=ye&1?3988292384^ye>>1&2147483647:ye>>1&2147483647;ie[Ee]=ye}function we(Ee,ye,je){let Le=-1;for(let xe=ye;xe<je;xe++){const Te=(Le^Ee[xe])&255,Re=ie[Te];Le=Le>>>8^Re}return Le^-1}function de(Ee,ye,je,Le){let xe=Le;const Te=ye.length;je[xe]=Te>>24&255,je[xe+1]=Te>>16&255,je[xe+2]=Te>>8&255,je[xe+3]=Te&255,xe+=4,je[xe]=Ee.charCodeAt(0)&255,je[xe+1]=Ee.charCodeAt(1)&255,je[xe+2]=Ee.charCodeAt(2)&255,je[xe+3]=Ee.charCodeAt(3)&255,xe+=4,je.set(ye,xe),xe+=ye.length;const Re=we(je,Le+4,xe);je[xe]=Re>>24&255,je[xe+1]=Re>>16&255,je[xe+2]=Re>>8&255,je[xe+3]=Re&255}function m(Ee,ye,je){let Le=1,xe=0;for(let Te=ye;Te<je;++Te)Le=(Le+(Ee[Te]&255))%65521,xe=(xe+Le)%65521;return xe<<16|Le}function _e(Ee){if(!c.isNodeJS)return oe(Ee);try{const ye=parseInt(process.versions.node)>=8?Ee:Buffer.from(Ee),je=require$$5.deflateSync(ye,{level:9});return je instanceof Uint8Array?je:new Uint8Array(je)}catch(ye){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ye)}return oe(Ee)}function oe(Ee){let ye=Ee.length;const je=65535,Le=Math.ceil(ye/je),xe=new Uint8Array(2+ye+Le*5+4);let Te=0;xe[Te++]=120,xe[Te++]=156;let Re=0;for(;ye>je;)xe[Te++]=0,xe[Te++]=255,xe[Te++]=255,xe[Te++]=0,xe[Te++]=0,xe.set(Ee.subarray(Re,Re+je),Te),Te+=je,Re+=je,ye-=je;xe[Te++]=1,xe[Te++]=ye&255,xe[Te++]=ye>>8&255,xe[Te++]=~ye&65535&255,xe[Te++]=(~ye&65535)>>8&255,xe.set(Ee.subarray(Re),Te),Te+=Ee.length-Re;const Fe=m(Ee,0,Ee.length);return xe[Te++]=Fe>>24&255,xe[Te++]=Fe>>16&255,xe[Te++]=Fe>>8&255,xe[Te++]=Fe&255,xe}function Se(Ee,ye,je,Le){const xe=Ee.width,Te=Ee.height;let Re,Fe,Ke;const tt=Ee.data;switch(ye){case c.ImageKind.GRAYSCALE_1BPP:Fe=0,Re=1,Ke=xe+7>>3;break;case c.ImageKind.RGB_24BPP:Fe=2,Re=8,Ke=xe*3;break;case c.ImageKind.RGBA_32BPP:Fe=6,Re=8,Ke=xe*4;break;default:throw new Error("invalid format")}const Pe=new Uint8Array((1+Ke)*Te);let ne=0,fe=0;for(let Oe=0;Oe<Te;++Oe)Pe[ne++]=0,Pe.set(tt.subarray(fe,fe+Ke),ne),fe+=Ke,ne+=Ke;if(ye===c.ImageKind.GRAYSCALE_1BPP&&Le){ne=0;for(let Oe=0;Oe<Te;Oe++){ne++;for(let Ge=0;Ge<Ke;Ge++)Pe[ne++]^=255}}const b=new Uint8Array([xe>>24&255,xe>>16&255,xe>>8&255,xe&255,Te>>24&255,Te>>16&255,Te>>8&255,Te&255,Re,Fe,0,0,0]),le=_e(Pe),ve=ae.length+$*3+b.length+le.length,Ae=new Uint8Array(ve);let Ce=0;return Ae.set(ae,Ce),Ce+=ae.length,de("IHDR",b,Ae,Ce),Ce+=$+b.length,de("IDATA",le,Ae,Ce),Ce+=$+le.length,de("IEND",new Uint8Array(0),Ae,Ce),g(Ae,"image/png",je)}return function(ye,je,Le){const xe=ye.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:ye.kind;return Se(ye,xe,je,Le)}}();class ge{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint($,ie){this.x=$,this.y=ie}}function te(ae){let $=[];const ie=[];for(const we of ae){if(we.fn==="save"){$.push({fnId:92,fn:"group",items:[]}),ie.push($),$=$.at(-1).items;continue}we.fn==="restore"?$=ie.pop():$.push(we)}return $}function re(ae){if(Number.isInteger(ae))return ae.toString();const $=ae.toFixed(10);let ie=$.length-1;if($[ie]!=="0")return $;do ie--;while($[ie]==="0");return $.substring(0,$[ie]==="."?ie:ie+1)}function be(ae){if(ae[4]===0&&ae[5]===0){if(ae[1]===0&&ae[2]===0)return ae[0]===1&&ae[3]===1?"":`scale(${re(ae[0])} ${re(ae[3])})`;if(ae[0]===ae[3]&&ae[1]===-ae[2]){const $=Math.acos(ae[0])*180/Math.PI;return`rotate(${re($)})`}}else if(ae[0]===1&&ae[1]===0&&ae[2]===0&&ae[3]===1)return`translate(${re(ae[4])} ${re(ae[5])})`;return`matrix(${re(ae[0])} ${re(ae[1])} ${re(ae[2])} ${re(ae[3])} ${re(ae[4])} ${re(ae[5])})`}let q=0,se=0,me=0;class ue{constructor($,ie,we=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new ge,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=$,this.objs=ie,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!we,this._operatorIdMapping=[];for(const de in c.OPS)this._operatorIdMapping[c.OPS[de]]=de}getObject($,ie=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ie}save(){this.transformStack.push(this.transformMatrix);const $=this.current;this.extraStack.push($),this.current=$.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group($){this.save(),this.executeOpTree($),this.restore()}loadDependencies($){const ie=$.fnArray,we=$.argsArray;for(let de=0,m=ie.length;de<m;de++)if(ie[de]===c.OPS.dependency)for(const _e of we[de]){const oe=_e.startsWith("g_")?this.commonObjs:this.objs,Se=new Promise(Ee=>{oe.get(_e,Ee)});this.current.dependencies.push(Se)}return Promise.all(this.current.dependencies)}transform($,ie,we,de,m,_e){const oe=[$,ie,we,de,m,_e];this.transformMatrix=c.Util.transform(this.transformMatrix,oe),this.tgrp=null}getSVG($,ie){this.viewport=ie;const we=this._initialize(ie);return this.loadDependencies($).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList($)),we))}convertOpList($){const ie=this._operatorIdMapping,we=$.argsArray,de=$.fnArray,m=[];for(let _e=0,oe=de.length;_e<oe;_e++){const Se=de[_e];m.push({fnId:Se,fn:ie[Se],args:we[_e]})}return te(m)}executeOpTree($){for(const ie of $){const we=ie.fn,de=ie.fnId,m=ie.args;switch(de|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(m);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(m[0],m[1]);break;case c.OPS.setFont:this.setFont(m);break;case c.OPS.showText:this.showText(m[0]);break;case c.OPS.showSpacedText:this.showText(m[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(m[0],m[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(m[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(m[0]);break;case c.OPS.setHScale:this.setHScale(m[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(m[0],m[1],m[2],m[3],m[4],m[5]);break;case c.OPS.setTextRise:this.setTextRise(m[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(m[0]);break;case c.OPS.setLineWidth:this.setLineWidth(m[0]);break;case c.OPS.setLineJoin:this.setLineJoin(m[0]);break;case c.OPS.setLineCap:this.setLineCap(m[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(m[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(m[0],m[1],m[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(m[0],m[1],m[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(m);break;case c.OPS.setFillColorN:this.setFillColorN(m);break;case c.OPS.shadingFill:this.shadingFill(m[0]);break;case c.OPS.setDash:this.setDash(m[0],m[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(m[0]);break;case c.OPS.setFlatness:this.setFlatness(m[0]);break;case c.OPS.setGState:this.setGState(m[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(m[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(m[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(m[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(m[0],m[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(m[0],m[1],m[2],m[3],m[4],m[5]);break;case c.OPS.constructPath:this.constructPath(m[0],m[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(ie.items);break;default:(0,c.warn)(`Unimplemented operator ${we}`);break}}}setWordSpacing($){this.current.wordSpacing=$}setCharSpacing($){this.current.charSpacing=$}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix($,ie,we,de,m,_e){const oe=this.current;oe.textMatrix=oe.lineMatrix=[$,ie,we,de,m,_e],oe.textMatrixScale=Math.hypot($,ie),oe.x=oe.lineX=0,oe.y=oe.lineY=0,oe.xcoords=[],oe.ycoords=[],oe.tspan=this.svgFactory.createElement("svg:tspan"),oe.tspan.setAttributeNS(null,"font-family",oe.fontFamily),oe.tspan.setAttributeNS(null,"font-size",`${re(oe.fontSize)}px`),oe.tspan.setAttributeNS(null,"y",re(-oe.y)),oe.txtElement=this.svgFactory.createElement("svg:text"),oe.txtElement.append(oe.tspan)}beginText(){const $=this.current;$.x=$.lineX=0,$.y=$.lineY=0,$.textMatrix=c.IDENTITY_MATRIX,$.lineMatrix=c.IDENTITY_MATRIX,$.textMatrixScale=1,$.tspan=this.svgFactory.createElement("svg:tspan"),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtgrp=this.svgFactory.createElement("svg:g"),$.xcoords=[],$.ycoords=[]}moveText($,ie){const we=this.current;we.x=we.lineX+=$,we.y=we.lineY+=ie,we.xcoords=[],we.ycoords=[],we.tspan=this.svgFactory.createElement("svg:tspan"),we.tspan.setAttributeNS(null,"font-family",we.fontFamily),we.tspan.setAttributeNS(null,"font-size",`${re(we.fontSize)}px`),we.tspan.setAttributeNS(null,"y",re(-we.y))}showText($){const ie=this.current,we=ie.font,de=ie.fontSize;if(de===0)return;const m=ie.fontSizeScale,_e=ie.charSpacing,oe=ie.wordSpacing,Se=ie.fontDirection,Ee=ie.textHScale*Se,ye=we.vertical,je=ye?1:-1,Le=we.defaultVMetrics,xe=de*ie.fontMatrix[0];let Te=0;for(const Ke of $){if(Ke===null){Te+=Se*oe;continue}else if(typeof Ke=="number"){Te+=je*Ke*de/1e3;continue}const tt=(Ke.isSpace?oe:0)+_e,Pe=Ke.fontChar;let ne,fe,b=Ke.width;if(ye){let ve;const Ae=Ke.vmetric||Le;ve=Ke.vmetric?Ae[1]:b*.5,ve=-ve*xe;const Ce=Ae[2]*xe;b=Ae?-Ae[0]:b,ne=ve/m,fe=(Te+Ce)/m}else ne=Te/m,fe=0;(Ke.isInFont||we.missingFile)&&(ie.xcoords.push(ie.x+ne),ye&&ie.ycoords.push(-ie.y+fe),ie.tspan.textContent+=Pe);const le=ye?b*xe-tt*Se:b*xe+tt*Se;Te+=le}ie.tspan.setAttributeNS(null,"x",ie.xcoords.map(re).join(" ")),ye?ie.tspan.setAttributeNS(null,"y",ie.ycoords.map(re).join(" ")):ie.tspan.setAttributeNS(null,"y",re(-ie.y)),ye?ie.y-=Te:ie.x+=Te*Ee,ie.tspan.setAttributeNS(null,"font-family",ie.fontFamily),ie.tspan.setAttributeNS(null,"font-size",`${re(ie.fontSize)}px`),ie.fontStyle!==d.fontStyle&&ie.tspan.setAttributeNS(null,"font-style",ie.fontStyle),ie.fontWeight!==d.fontWeight&&ie.tspan.setAttributeNS(null,"font-weight",ie.fontWeight);const Re=ie.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(Re===c.TextRenderingMode.FILL||Re===c.TextRenderingMode.FILL_STROKE?(ie.fillColor!==d.fillColor&&ie.tspan.setAttributeNS(null,"fill",ie.fillColor),ie.fillAlpha<1&&ie.tspan.setAttributeNS(null,"fill-opacity",ie.fillAlpha)):ie.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?ie.tspan.setAttributeNS(null,"fill","transparent"):ie.tspan.setAttributeNS(null,"fill","none"),Re===c.TextRenderingMode.STROKE||Re===c.TextRenderingMode.FILL_STROKE){const Ke=1/(ie.textMatrixScale||1);this._setStrokeAttributes(ie.tspan,Ke)}let Fe=ie.textMatrix;ie.textRise!==0&&(Fe=Fe.slice(),Fe[5]+=ie.textRise),ie.txtElement.setAttributeNS(null,"transform",`${be(Fe)} scale(${re(Ee)}, -1)`),ie.txtElement.setAttributeNS(h,"xml:space","preserve"),ie.txtElement.append(ie.tspan),ie.txtgrp.append(ie.txtElement),this._ensureTransformGroup().append(ie.txtElement)}setLeadingMoveText($,ie){this.setLeading(-ie),this.moveText($,ie)}addFontStyle($){if(!$.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ie=g($.data,$.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${$.loadedName}"; src: url(${ie}); }
`}setFont($){const ie=this.current,we=this.commonObjs.get($[0]);let de=$[1];ie.font=we,this.embedFonts&&!we.missingFile&&!this.embeddedFonts[we.loadedName]&&(this.addFontStyle(we),this.embeddedFonts[we.loadedName]=we),ie.fontMatrix=we.fontMatrix||c.FONT_IDENTITY_MATRIX;let m="normal";we.black?m="900":we.bold&&(m="bold");const _e=we.italic?"italic":"normal";de<0?(de=-de,ie.fontDirection=-1):ie.fontDirection=1,ie.fontSize=de,ie.fontFamily=we.loadedName,ie.fontWeight=m,ie.fontStyle=_e,ie.tspan=this.svgFactory.createElement("svg:tspan"),ie.tspan.setAttributeNS(null,"y",re(-ie.y)),ie.xcoords=[],ie.ycoords=[]}endText(){var ie;const $=this.current;$.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((ie=$.txtElement)!=null&&ie.hasChildNodes())&&($.element=$.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth($){$>0&&(this.current.lineWidth=$)}setLineCap($){this.current.lineCap=ee[$]}setLineJoin($){this.current.lineJoin=f[$]}setMiterLimit($){this.current.miterLimit=$}setStrokeAlpha($){this.current.strokeAlpha=$}setStrokeRGBColor($,ie,we){this.current.strokeColor=c.Util.makeHexColor($,ie,we)}setFillAlpha($){this.current.fillAlpha=$}setFillRGBColor($,ie,we){this.current.fillColor=c.Util.makeHexColor($,ie,we),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN($){this.current.strokeColor=this._makeColorN_Pattern($)}setFillColorN($){this.current.fillColor=this._makeColorN_Pattern($)}shadingFill($){const{width:ie,height:we}=this.viewport,de=c.Util.inverseTransform(this.transformMatrix),[m,_e,oe,Se]=c.Util.getAxialAlignedBoundingBox([0,0,ie,we],de),Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x",m),Ee.setAttributeNS(null,"y",_e),Ee.setAttributeNS(null,"width",oe-m),Ee.setAttributeNS(null,"height",Se-_e),Ee.setAttributeNS(null,"fill",this._makeShadingPattern($)),this.current.fillAlpha<1&&Ee.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ee)}_makeColorN_Pattern($){return $[0]==="TilingPattern"?this._makeTilingPattern($):this._makeShadingPattern($)}_makeTilingPattern($){const ie=$[1],we=$[2],de=$[3]||c.IDENTITY_MATRIX,[m,_e,oe,Se]=$[4],Ee=$[5],ye=$[6],je=$[7],Le=`shading${me++}`,[xe,Te,Re,Fe]=c.Util.normalizeRect([...c.Util.applyTransform([m,_e],de),...c.Util.applyTransform([oe,Se],de)]),[Ke,tt]=c.Util.singularValueDecompose2dScale(de),Pe=Ee*Ke,ne=ye*tt,fe=this.svgFactory.createElement("svg:pattern");fe.setAttributeNS(null,"id",Le),fe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),fe.setAttributeNS(null,"width",Pe),fe.setAttributeNS(null,"height",ne),fe.setAttributeNS(null,"x",`${xe}`),fe.setAttributeNS(null,"y",`${Te}`);const b=this.svg,le=this.transformMatrix,ve=this.current.fillColor,Ae=this.current.strokeColor,Ce=this.svgFactory.create(Re-xe,Fe-Te);if(this.svg=Ce,this.transformMatrix=de,je===2){const Oe=c.Util.makeHexColor(...ie);this.current.fillColor=Oe,this.current.strokeColor=Oe}return this.executeOpTree(this.convertOpList(we)),this.svg=b,this.transformMatrix=le,this.current.fillColor=ve,this.current.strokeColor=Ae,fe.append(Ce.childNodes[0]),this.defs.append(fe),`url(#${Le})`}_makeShadingPattern($){switch(typeof $=="string"&&($=this.objs.get($)),$[0]){case"RadialAxial":const ie=`shading${me++}`,we=$[3];let de;switch($[1]){case"axial":const m=$[4],_e=$[5];de=this.svgFactory.createElement("svg:linearGradient"),de.setAttributeNS(null,"id",ie),de.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),de.setAttributeNS(null,"x1",m[0]),de.setAttributeNS(null,"y1",m[1]),de.setAttributeNS(null,"x2",_e[0]),de.setAttributeNS(null,"y2",_e[1]);break;case"radial":const oe=$[4],Se=$[5],Ee=$[6],ye=$[7];de=this.svgFactory.createElement("svg:radialGradient"),de.setAttributeNS(null,"id",ie),de.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),de.setAttributeNS(null,"cx",Se[0]),de.setAttributeNS(null,"cy",Se[1]),de.setAttributeNS(null,"r",ye),de.setAttributeNS(null,"fx",oe[0]),de.setAttributeNS(null,"fy",oe[1]),de.setAttributeNS(null,"fr",Ee);break;default:throw new Error(`Unknown RadialAxial type: ${$[1]}`)}for(const m of we){const _e=this.svgFactory.createElement("svg:stop");_e.setAttributeNS(null,"offset",m[0]),_e.setAttributeNS(null,"stop-color",m[1]),de.append(_e)}return this.defs.append(de),`url(#${ie})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${$[0]}`)}}setDash($,ie){this.current.dashArray=$,this.current.dashPhase=ie}constructPath($,ie){const we=this.current;let de=we.x,m=we.y,_e=[],oe=0;for(const Se of $)switch(Se|0){case c.OPS.rectangle:de=ie[oe++],m=ie[oe++];const Ee=ie[oe++],ye=ie[oe++],je=de+Ee,Le=m+ye;_e.push("M",re(de),re(m),"L",re(je),re(m),"L",re(je),re(Le),"L",re(de),re(Le),"Z");break;case c.OPS.moveTo:de=ie[oe++],m=ie[oe++],_e.push("M",re(de),re(m));break;case c.OPS.lineTo:de=ie[oe++],m=ie[oe++],_e.push("L",re(de),re(m));break;case c.OPS.curveTo:de=ie[oe+4],m=ie[oe+5],_e.push("C",re(ie[oe]),re(ie[oe+1]),re(ie[oe+2]),re(ie[oe+3]),re(de),re(m)),oe+=6;break;case c.OPS.curveTo2:_e.push("C",re(de),re(m),re(ie[oe]),re(ie[oe+1]),re(ie[oe+2]),re(ie[oe+3])),de=ie[oe+2],m=ie[oe+3],oe+=4;break;case c.OPS.curveTo3:de=ie[oe+2],m=ie[oe+3],_e.push("C",re(ie[oe]),re(ie[oe+1]),re(de),re(m),re(de),re(m)),oe+=4;break;case c.OPS.closePath:_e.push("Z");break}_e=_e.join(" "),we.path&&$.length>0&&$[0]!==c.OPS.rectangle&&$[0]!==c.OPS.moveTo?_e=we.path.getAttributeNS(null,"d")+_e:(we.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(we.path)),we.path.setAttributeNS(null,"d",_e),we.path.setAttributeNS(null,"fill","none"),we.element=we.path,we.setCurrentPoint(de,m)}endPath(){const $=this.current;if($.path=null,!this.pendingClip)return;if(!$.element){this.pendingClip=null;return}const ie=`clippath${q++}`,we=this.svgFactory.createElement("svg:clipPath");we.setAttributeNS(null,"id",ie),we.setAttributeNS(null,"transform",be(this.transformMatrix));const de=$.element.cloneNode(!0);if(this.pendingClip==="evenodd"?de.setAttributeNS(null,"clip-rule","evenodd"):de.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,we.append(de),this.defs.append(we),$.activeClipUrl){$.clipGroup=null;for(const m of this.extraStack)m.clipGroup=null;we.setAttributeNS(null,"clip-path",$.activeClipUrl)}$.activeClipUrl=`url(#${ie})`,this.tgrp=null}clip($){this.pendingClip=$}closePath(){const $=this.current;if($.path){const ie=`${$.path.getAttributeNS(null,"d")}Z`;$.path.setAttributeNS(null,"d",ie)}}setLeading($){this.current.leading=-$}setTextRise($){this.current.textRise=$}setTextRenderingMode($){this.current.textRenderingMode=$}setHScale($){this.current.textHScale=$/100}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ie,we]of $)switch(ie){case"LW":this.setLineWidth(we);break;case"LC":this.setLineCap(we);break;case"LJ":this.setLineJoin(we);break;case"ML":this.setMiterLimit(we);break;case"D":this.setDash(we[0],we[1]);break;case"RI":this.setRenderingIntent(we);break;case"FL":this.setFlatness(we);break;case"Font":this.setFont(we);break;case"CA":this.setStrokeAlpha(we);break;case"ca":this.setFillAlpha(we);break;default:(0,c.warn)(`Unimplemented graphic state operator ${ie}`);break}}fill(){const $=this.current;$.element&&($.element.setAttributeNS(null,"fill",$.fillColor),$.element.setAttributeNS(null,"fill-opacity",$.fillAlpha),this.endPath())}stroke(){const $=this.current;$.element&&(this._setStrokeAttributes($.element),$.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes($,ie=1){const we=this.current;let de=we.dashArray;ie!==1&&de.length>0&&(de=de.map(function(m){return ie*m})),$.setAttributeNS(null,"stroke",we.strokeColor),$.setAttributeNS(null,"stroke-opacity",we.strokeAlpha),$.setAttributeNS(null,"stroke-miterlimit",re(we.miterLimit)),$.setAttributeNS(null,"stroke-linecap",we.lineCap),$.setAttributeNS(null,"stroke-linejoin",we.lineJoin),$.setAttributeNS(null,"stroke-width",re(ie*we.lineWidth)+"px"),$.setAttributeNS(null,"stroke-dasharray",de.map(re).join(" ")),$.setAttributeNS(null,"stroke-dashoffset",re(ie*we.dashPhase)+"px")}eoFill(){var $;($=this.current.element)==null||$.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var $;($=this.current.element)==null||$.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width","1px"),$.setAttributeNS(null,"height","1px"),$.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append($)}paintImageXObject($){const ie=this.getObject($);if(!ie){(0,c.warn)(`Dependent image with object ID ${$} is not ready yet`);return}this.paintInlineImageXObject(ie)}paintInlineImageXObject($,ie){const we=$.width,de=$.height,m=he($,this.forceDataSchema,!!ie),_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x","0"),_e.setAttributeNS(null,"y","0"),_e.setAttributeNS(null,"width",re(we)),_e.setAttributeNS(null,"height",re(de)),this.current.element=_e,this.clip("nonzero");const oe=this.svgFactory.createElement("svg:image");oe.setAttributeNS(_,"xlink:href",m),oe.setAttributeNS(null,"x","0"),oe.setAttributeNS(null,"y",re(-de)),oe.setAttributeNS(null,"width",re(we)+"px"),oe.setAttributeNS(null,"height",re(de)+"px"),oe.setAttributeNS(null,"transform",`scale(${re(1/we)} ${re(-1/de)})`),ie?ie.append(oe):this._ensureTransformGroup().append(oe)}paintImageMaskXObject($){const ie=this.getObject($.data,$);if(ie.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const we=this.current,de=ie.width,m=ie.height,_e=we.fillColor;we.maskId=`mask${se++}`;const oe=this.svgFactory.createElement("svg:mask");oe.setAttributeNS(null,"id",we.maskId);const Se=this.svgFactory.createElement("svg:rect");Se.setAttributeNS(null,"x","0"),Se.setAttributeNS(null,"y","0"),Se.setAttributeNS(null,"width",re(de)),Se.setAttributeNS(null,"height",re(m)),Se.setAttributeNS(null,"fill",_e),Se.setAttributeNS(null,"mask",`url(#${we.maskId})`),this.defs.append(oe),this._ensureTransformGroup().append(Se),this.paintInlineImageXObject(ie,oe)}paintFormXObjectBegin($,ie){if(Array.isArray($)&&$.length===6&&this.transform($[0],$[1],$[2],$[3],$[4],$[5]),ie){const we=ie[2]-ie[0],de=ie[3]-ie[1],m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x",ie[0]),m.setAttributeNS(null,"y",ie[1]),m.setAttributeNS(null,"width",re(we)),m.setAttributeNS(null,"height",re(de)),this.current.element=m,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize($){const ie=this.svgFactory.create($.width,$.height),we=this.svgFactory.createElement("svg:defs");ie.append(we),this.defs=we;const de=this.svgFactory.createElement("svg:g");return de.setAttributeNS(null,"transform",be($.transform)),ie.append(de),this.svg=de,ie}_ensureClipGroup(){if(!this.current.clipGroup){const $=this.svgFactory.createElement("svg:g");$.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append($),this.current.clipGroup=$}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",be(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=ue},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class a{static textContent(c){const d=[],h={items:d,styles:Object.create(null)};function _(ee){var he;if(!ee)return;let f=null;const g=ee.name;if(g==="#text")f=ee.value;else if(a.shouldBuildText(g))(he=ee==null?void 0:ee.attributes)!=null&&he.textContent?f=ee.attributes.textContent:ee.value&&(f=ee.value);else return;if(f!==null&&d.push({str:f}),!!ee.children)for(const ge of ee.children)_(ge)}return _(c),h}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=a},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=be,i.updateTextLayer=q;var o=a(1),c=a(6);const d=1e5,h=30,_=.8,ee=new Map;function f(se,me){let ue;if(me&&o.FeatureTest.isOffscreenCanvasSupported)ue=new OffscreenCanvas(se,se).getContext("2d",{alpha:!1});else{const ae=document.createElement("canvas");ae.width=ae.height=se,ue=ae.getContext("2d",{alpha:!1})}return ue}function g(se,me){const ue=ee.get(se);if(ue)return ue;const ae=f(h,me);ae.font=`${h}px ${se}`;const $=ae.measureText("");let ie=$.fontBoundingBoxAscent,we=Math.abs($.fontBoundingBoxDescent);if(ie){const m=ie/(ie+we);return ee.set(se,m),ae.canvas.width=ae.canvas.height=0,m}ae.strokeStyle="red",ae.clearRect(0,0,h,h),ae.strokeText("g",0,0);let de=ae.getImageData(0,0,h,h).data;we=0;for(let m=de.length-1-3;m>=0;m-=4)if(de[m]>0){we=Math.ceil(m/4/h);break}ae.clearRect(0,0,h,h),ae.strokeText("A",0,h),de=ae.getImageData(0,0,h,h).data,ie=0;for(let m=0,_e=de.length;m<_e;m+=4)if(de[m]>0){ie=h-Math.floor(m/4/h);break}if(ae.canvas.width=ae.canvas.height=0,ie){const m=ie/(ie+we);return ee.set(se,m),m}return ee.set(se,_),_}function he(se,me,ue){const ae=document.createElement("span"),$={angle:0,canvasWidth:0,hasText:me.str!=="",hasEOL:me.hasEOL,fontSize:0};se._textDivs.push(ae);const ie=o.Util.transform(se._transform,me.transform);let we=Math.atan2(ie[1],ie[0]);const de=ue[me.fontName];de.vertical&&(we+=Math.PI/2);const m=Math.hypot(ie[2],ie[3]),_e=m*g(de.fontFamily,se._isOffscreenCanvasSupported);let oe,Se;we===0?(oe=ie[4],Se=ie[5]-_e):(oe=ie[4]+_e*Math.sin(we),Se=ie[5]-_e*Math.cos(we));const Ee="calc(var(--scale-factor)*",ye=ae.style;se._container===se._rootContainer?(ye.left=`${(100*oe/se._pageWidth).toFixed(2)}%`,ye.top=`${(100*Se/se._pageHeight).toFixed(2)}%`):(ye.left=`${Ee}${oe.toFixed(2)}px)`,ye.top=`${Ee}${Se.toFixed(2)}px)`),ye.fontSize=`${Ee}${m.toFixed(2)}px)`,ye.fontFamily=de.fontFamily,$.fontSize=m,ae.setAttribute("role","presentation"),ae.textContent=me.str,ae.dir=me.dir,se._fontInspectorEnabled&&(ae.dataset.fontName=me.fontName),we!==0&&($.angle=we*(180/Math.PI));let je=!1;if(me.str.length>1)je=!0;else if(me.str!==" "&&me.transform[0]!==me.transform[3]){const Le=Math.abs(me.transform[0]),xe=Math.abs(me.transform[3]);Le!==xe&&Math.max(Le,xe)/Math.min(Le,xe)>1.5&&(je=!0)}je&&($.canvasWidth=de.vertical?me.height:me.width),se._textDivProperties.set(ae,$),se._isReadableStream&&se._layoutText(ae)}function ge(se){const{div:me,scale:ue,properties:ae,ctx:$,prevFontSize:ie,prevFontFamily:we}=se,{style:de}=me;let m="";if(ae.canvasWidth!==0&&ae.hasText){const{fontFamily:_e}=de,{canvasWidth:oe,fontSize:Se}=ae;(ie!==Se||we!==_e)&&($.font=`${Se*ue}px ${_e}`,se.prevFontSize=Se,se.prevFontFamily=_e);const{width:Ee}=$.measureText(me.textContent);Ee>0&&(m=`scaleX(${oe*ue/Ee})`)}ae.angle!==0&&(m=`rotate(${ae.angle}deg) ${m}`),m.length>0&&(de.transform=m)}function te(se){if(se._canceled)return;const me=se._textDivs,ue=se._capability;if(me.length>d){ue.resolve();return}if(!se._isReadableStream)for(const $ of me)se._layoutText($);ue.resolve()}class re{constructor({textContentSource:me,container:ue,viewport:ae,textDivs:$,textDivProperties:ie,textContentItemsStr:we,isOffscreenCanvasSupported:de}){var Ee;this._textContentSource=me,this._isReadableStream=me instanceof ReadableStream,this._container=this._rootContainer=ue,this._textDivs=$||[],this._textContentItemsStr=we||[],this._isOffscreenCanvasSupported=de,this._fontInspectorEnabled=!!((Ee=globalThis.FontInspector)!=null&&Ee.enabled),this._reader=null,this._textDivProperties=ie||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ae.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:f(0,de)};const{pageWidth:m,pageHeight:_e,pageX:oe,pageY:Se}=ae.rawDims;this._transform=[1,0,0,-1,-oe,Se+_e],this._pageWidth=m,this._pageHeight=_e,(0,c.setLayerDimensions)(ue,ae),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(me,ue){for(const ae of me){if(ae.str===void 0){if(ae.type==="beginMarkedContentProps"||ae.type==="beginMarkedContent"){const $=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ae.id!==null&&this._container.setAttribute("id",`${ae.id}`),$.append(this._container)}else ae.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ae.str),he(this,ae,ue)}}_layoutText(me){const ue=this._layoutTextParams.properties=this._textDivProperties.get(me);if(this._layoutTextParams.div=me,ge(this._layoutTextParams),ue.hasText&&this._container.append(me),ue.hasEOL){const ae=document.createElement("br");ae.setAttribute("role","presentation"),this._container.append(ae)}}_render(){const me=new o.PromiseCapability;let ue=Object.create(null);if(this._isReadableStream){const ae=()=>{this._reader.read().then(({value:$,done:ie})=>{if(ie){me.resolve();return}Object.assign(ue,$.styles),this._processItems($.items,ue),ae()},me.reject)};this._reader=this._textContentSource.getReader(),ae()}else if(this._textContentSource){const{items:ae,styles:$}=this._textContentSource;this._processItems(ae,$),me.resolve()}else throw new Error('No "textContentSource" parameter specified.');me.promise.then(()=>{ue=null,te(this)},this._capability.reject)}}i.TextLayerRenderTask=re;function be(se){!se.textContentSource&&(se.textContent||se.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),se.textContentSource=se.textContent||se.textContentStream);const{container:me,viewport:ue}=se,ae=getComputedStyle(me),$=ae.getPropertyValue("visibility"),ie=parseFloat(ae.getPropertyValue("--scale-factor"));$==="visible"&&(!ie||Math.abs(ie-ue.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const we=new re(se);return we._render(),we}function q({container:se,viewport:me,textDivs:ue,textDivProperties:ae,isOffscreenCanvasSupported:$,mustRotate:ie=!0,mustRescale:we=!0}){if(ie&&(0,c.setLayerDimensions)(se,{rotation:me.rotation}),we){const de=f(0,$),_e={prevFontSize:null,prevFontFamily:null,div:null,scale:me.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:de};for(const oe of ue)_e.properties=ae.get(oe),_e.div=oe,ge(_e)}}},(e,i,a)=>{var g,he,ge,te,re,be,q,se,me,ue,ae,Gn,ie,_n,de,qn,_e,Hn;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=a(1),c=a(4),d=a(28),h=a(33),_=a(6),ee=a(34);const Se=class Se{constructor({uiManager:ye,pageIndex:je,div:Le,accessibilityManager:xe,annotationLayer:Te,viewport:Re,l10n:Fe}){De(this,ae);De(this,ie);De(this,de);De(this,_e);De(this,g,void 0);De(this,he,!1);De(this,ge,null);De(this,te,this.pointerup.bind(this));De(this,re,this.pointerdown.bind(this));De(this,be,new Map);De(this,q,!1);De(this,se,!1);De(this,me,!1);De(this,ue,void 0);const Ke=[d.FreeTextEditor,h.InkEditor,ee.StampEditor];if(!Se._initialized){Se._initialized=!0;for(const tt of Ke)tt.initialize(Fe)}ye.registerEditorTypes(Ke),Qe(this,ue,ye),this.pageIndex=je,this.div=Le,Qe(this,g,xe),Qe(this,ge,Te),this.viewport=Re,j(this,ue).addLayer(this)}get isEmpty(){return j(this,be).size===0}updateToolbar(ye){j(this,ue).updateToolbar(ye)}updateMode(ye=j(this,ue).getMode()){Ne(this,_e,Hn).call(this),ye===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ye!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ye===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ye===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ye===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ye){if(!ye&&j(this,ue).getMode()!==o.AnnotationEditorType.INK)return;if(!ye){for(const Le of j(this,be).values())if(Le.isEmpty()){Le.setInBackground();return}}Ne(this,ie,_n).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ye){j(this,ue).setEditingState(ye)}addCommands(ye){j(this,ue).addCommands(ye)}enable(){this.div.style.pointerEvents="auto";const ye=new Set;for(const Le of j(this,be).values())Le.enableEditing(),Le.annotationElementId&&ye.add(Le.annotationElementId);if(!j(this,ge))return;const je=j(this,ge).getEditableAnnotations();for(const Le of je){if(Le.hide(),j(this,ue).isDeletedAnnotationElement(Le.data.id)||ye.has(Le.data.id))continue;const xe=this.deserialize(Le);xe&&(this.addOrRebuild(xe),xe.enableEditing())}}disable(){var je;Qe(this,me,!0),this.div.style.pointerEvents="none";const ye=new Set;for(const Le of j(this,be).values()){if(Le.disableEditing(),!Le.annotationElementId||Le.serialize()!==null){ye.add(Le.annotationElementId);continue}(je=this.getEditableAnnotation(Le.annotationElementId))==null||je.show(),Le.remove()}if(j(this,ge)){const Le=j(this,ge).getEditableAnnotations();for(const xe of Le){const{id:Te}=xe.data;ye.has(Te)||j(this,ue).isDeletedAnnotationElement(Te)||xe.show()}}Ne(this,_e,Hn).call(this),this.isEmpty&&(this.div.hidden=!0),Qe(this,me,!1)}getEditableAnnotation(ye){var je;return((je=j(this,ge))==null?void 0:je.getEditableAnnotation(ye))||null}setActiveEditor(ye){j(this,ue).getActive()!==ye&&j(this,ue).setActiveEditor(ye)}enableClick(){this.div.addEventListener("pointerdown",j(this,re)),this.div.addEventListener("pointerup",j(this,te))}disableClick(){this.div.removeEventListener("pointerdown",j(this,re)),this.div.removeEventListener("pointerup",j(this,te))}attach(ye){j(this,be).set(ye.id,ye);const{annotationElementId:je}=ye;je&&j(this,ue).isDeletedAnnotationElement(je)&&j(this,ue).removeDeletedAnnotationElement(ye)}detach(ye){var je;j(this,be).delete(ye.id),(je=j(this,g))==null||je.removePointerInTextLayer(ye.contentDiv),!j(this,me)&&ye.annotationElementId&&j(this,ue).addDeletedAnnotationElement(ye)}remove(ye){this.detach(ye),j(this,ue).removeEditor(ye),ye.div.contains(document.activeElement)&&setTimeout(()=>{j(this,ue).focusMainContainer()},0),ye.div.remove(),ye.isAttachedToDOM=!1,j(this,se)||this.addInkEditorIfNeeded(!1)}changeParent(ye){var je;ye.parent!==this&&(ye.annotationElementId&&(j(this,ue).addDeletedAnnotationElement(ye.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(ye),ye.annotationElementId=null),this.attach(ye),(je=ye.parent)==null||je.detach(ye),ye.setParent(this),ye.div&&ye.isAttachedToDOM&&(ye.div.remove(),this.div.append(ye.div)))}add(ye){if(this.changeParent(ye),j(this,ue).addEditor(ye),this.attach(ye),!ye.isAttachedToDOM){const je=ye.render();this.div.append(je),ye.isAttachedToDOM=!0}ye.fixAndSetPosition(),ye.onceAdded(),j(this,ue).addToAnnotationStorage(ye)}moveEditorInDOM(ye){var Le;if(!ye.isAttachedToDOM)return;const{activeElement:je}=document;ye.div.contains(je)&&(ye._focusEventsAllowed=!1,setTimeout(()=>{ye.div.contains(document.activeElement)?ye._focusEventsAllowed=!0:(ye.div.addEventListener("focusin",()=>{ye._focusEventsAllowed=!0},{once:!0}),je.focus())},0)),ye._structTreeParentId=(Le=j(this,g))==null?void 0:Le.moveElementInDOM(this.div,ye.div,ye.contentDiv,!0)}addOrRebuild(ye){ye.needsToBeRebuilt()?ye.rebuild():this.add(ye)}addUndoableEditor(ye){const je=()=>ye._uiManager.rebuild(ye),Le=()=>{ye.remove()};this.addCommands({cmd:je,undo:Le,mustExec:!1})}getNextId(){return j(this,ue).getId()}pasteEditor(ye,je){j(this,ue).updateToolbar(ye),j(this,ue).updateMode(ye);const{offsetX:Le,offsetY:xe}=Ne(this,de,qn).call(this),Te=this.getNextId(),Re=Ne(this,ae,Gn).call(this,{parent:this,id:Te,x:Le,y:xe,uiManager:j(this,ue),isCentered:!0,...je});Re&&this.add(Re)}deserialize(ye){switch(ye.annotationType??ye.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(ye,this,j(this,ue));case o.AnnotationEditorType.INK:return h.InkEditor.deserialize(ye,this,j(this,ue));case o.AnnotationEditorType.STAMP:return ee.StampEditor.deserialize(ye,this,j(this,ue))}return null}addNewEditor(){Ne(this,ie,_n).call(this,Ne(this,de,qn).call(this),!0)}setSelected(ye){j(this,ue).setSelected(ye)}toggleSelected(ye){j(this,ue).toggleSelected(ye)}isSelected(ye){return j(this,ue).isSelected(ye)}unselect(ye){j(this,ue).unselect(ye)}pointerup(ye){const{isMac:je}=o.FeatureTest.platform;if(!(ye.button!==0||ye.ctrlKey&&je)&&ye.target===this.div&&j(this,q)){if(Qe(this,q,!1),!j(this,he)){Qe(this,he,!0);return}if(j(this,ue).getMode()===o.AnnotationEditorType.STAMP){j(this,ue).unselectAll();return}Ne(this,ie,_n).call(this,ye,!1)}}pointerdown(ye){if(j(this,q)){Qe(this,q,!1);return}const{isMac:je}=o.FeatureTest.platform;if(ye.button!==0||ye.ctrlKey&&je||ye.target!==this.div)return;Qe(this,q,!0);const Le=j(this,ue).getActive();Qe(this,he,!Le||Le.isEmpty())}findNewParent(ye,je,Le){const xe=j(this,ue).findParent(je,Le);return xe===null||xe===this?!1:(xe.changeParent(ye),!0)}destroy(){var ye,je;((ye=j(this,ue).getActive())==null?void 0:ye.parent)===this&&(j(this,ue).commitOrRemove(),j(this,ue).setActiveEditor(null));for(const Le of j(this,be).values())(je=j(this,g))==null||je.removePointerInTextLayer(Le.contentDiv),Le.setParent(null),Le.isAttachedToDOM=!1,Le.div.remove();this.div=null,j(this,be).clear(),j(this,ue).removeLayer(this)}render({viewport:ye}){this.viewport=ye,(0,_.setLayerDimensions)(this.div,ye);for(const je of j(this,ue).getEditors(this.pageIndex))this.add(je);this.updateMode()}update({viewport:ye}){j(this,ue).commitOrRemove(),this.viewport=ye,(0,_.setLayerDimensions)(this.div,{rotation:ye.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ye,pageHeight:je}=this.viewport.rawDims;return[ye,je]}};g=new WeakMap,he=new WeakMap,ge=new WeakMap,te=new WeakMap,re=new WeakMap,be=new WeakMap,q=new WeakMap,se=new WeakMap,me=new WeakMap,ue=new WeakMap,ae=new WeakSet,Gn=function(ye){switch(j(this,ue).getMode()){case o.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(ye);case o.AnnotationEditorType.INK:return new h.InkEditor(ye);case o.AnnotationEditorType.STAMP:return new ee.StampEditor(ye)}return null},ie=new WeakSet,_n=function(ye,je){const Le=this.getNextId(),xe=Ne(this,ae,Gn).call(this,{parent:this,id:Le,x:ye.offsetX,y:ye.offsetY,uiManager:j(this,ue),isCentered:je});return xe&&this.add(xe),xe},de=new WeakSet,qn=function(){const{x:ye,y:je,width:Le,height:xe}=this.div.getBoundingClientRect(),Te=Math.max(0,ye),Re=Math.max(0,je),Fe=Math.min(window.innerWidth,ye+Le),Ke=Math.min(window.innerHeight,je+xe),tt=(Te+Fe)/2-ye,Pe=(Re+Ke)/2-je,[ne,fe]=this.viewport.rotation%180===0?[tt,Pe]:[Pe,tt];return{offsetX:ne,offsetY:fe}},_e=new WeakSet,Hn=function(){Qe(this,se,!0);for(const ye of j(this,be).values())ye.isEmpty()&&ye.remove();Qe(this,se,!1)},Ut(Se,"_initialized",!1);let f=Se;i.AnnotationEditorLayer=f},(e,i,a)=>{var ee,f,g,he,ge,te,re,be,q,se,gr,ue,br,$,vr,we,on,m,zn,oe,yr,Ee,Vn;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=a(1),c=a(5),d=a(4),h=a(29);const je=class je extends d.AnnotationEditor{constructor(Te){super({...Te,name:"freeTextEditor"});De(this,se);De(this,ue);De(this,$);De(this,we);De(this,m);De(this,oe);De(this,Ee);De(this,ee,this.editorDivBlur.bind(this));De(this,f,this.editorDivFocus.bind(this));De(this,g,this.editorDivInput.bind(this));De(this,he,this.editorDivKeydown.bind(this));De(this,ge,void 0);De(this,te,"");De(this,re,`${this.id}-editor`);De(this,be,void 0);De(this,q,null);Qe(this,ge,Te.color||je._defaultColor||d.AnnotationEditor._defaultLineColor),Qe(this,be,Te.fontSize||je._defaultFontSize)}static get _keyboardManager(){const Te=je.prototype,Re=tt=>tt.isEmpty(),Fe=c.AnnotationEditorUIManager.TRANSLATE_SMALL,Ke=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Te.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Te.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Te._translateEmpty,{args:[-Fe,0],checker:Re}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Te._translateEmpty,{args:[-Ke,0],checker:Re}],[["ArrowRight","mac+ArrowRight"],Te._translateEmpty,{args:[Fe,0],checker:Re}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Te._translateEmpty,{args:[Ke,0],checker:Re}],[["ArrowUp","mac+ArrowUp"],Te._translateEmpty,{args:[0,-Fe],checker:Re}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Te._translateEmpty,{args:[0,-Ke],checker:Re}],[["ArrowDown","mac+ArrowDown"],Te._translateEmpty,{args:[0,Fe],checker:Re}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Te._translateEmpty,{args:[0,Ke],checker:Re}]]))}static initialize(Te){d.AnnotationEditor.initialize(Te,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Re=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Re.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Te,Re){switch(Te){case o.AnnotationEditorParamsType.FREETEXT_SIZE:je._defaultFontSize=Re;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:je._defaultColor=Re;break}}updateParams(Te,Re){switch(Te){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Ne(this,se,gr).call(this,Re);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Ne(this,ue,br).call(this,Re);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,je._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,je._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,j(this,be)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,j(this,ge)]]}_translateEmpty(Te,Re){this._uiManager.translateSelectedEditors(Te,Re,!0)}getInitialTranslation(){const Te=this.parentScale;return[-je._internalPadding*Te,-(je._internalPadding+j(this,be))*Te]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",j(this,he)),this.editorDiv.addEventListener("focus",j(this,f)),this.editorDiv.addEventListener("blur",j(this,ee)),this.editorDiv.addEventListener("input",j(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",j(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",j(this,he)),this.editorDiv.removeEventListener("focus",j(this,f)),this.editorDiv.removeEventListener("blur",j(this,ee)),this.editorDiv.removeEventListener("input",j(this,g)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Te){this._focusEventsAllowed&&(super.focusin(Te),Te.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Te;if(this.width){Ne(this,Ee,Vn).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Te=this._initialOptions)!=null&&Te.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Te=j(this,te),Re=Qe(this,te,Ne(this,$,vr).call(this).trimEnd());if(Te===Re)return;const Fe=Ke=>{if(Qe(this,te,Ke),!Ke){this.remove();return}Ne(this,m,zn).call(this),this._uiManager.rebuild(this),Ne(this,we,on).call(this)};this.addCommands({cmd:()=>{Fe(Re)},undo:()=>{Fe(Te)},mustExec:!1}),Ne(this,we,on).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Te){this.enterInEditMode()}keydown(Te){Te.target===this.div&&Te.key==="Enter"&&(this.enterInEditMode(),Te.preventDefault())}editorDivKeydown(Te){je._keyboardManager.exec(this,Te)}editorDivFocus(Te){this.isEditing=!0}editorDivBlur(Te){this.isEditing=!1}editorDivInput(Te){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Te,Re;this.width&&(Te=this.x,Re=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",j(this,re)),this.enableEditing(),d.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ke=>{var tt;return(tt=this.editorDiv)==null?void 0:tt.setAttribute("aria-label",Ke)}),d.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ke=>{var tt;return(tt=this.editorDiv)==null?void 0:tt.setAttribute("default-content",Ke)}),this.editorDiv.contentEditable=!0;const{style:Fe}=this.editorDiv;if(Fe.fontSize=`calc(${j(this,be)}px * var(--scale-factor))`,Fe.color=j(this,ge),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ke,tt]=this.parentDimensions;if(this.annotationElementId){const{position:Pe}=j(this,q);let[ne,fe]=this.getInitialTranslation();[ne,fe]=this.pageTranslationToScreen(ne,fe);const[b,le]=this.pageDimensions,[ve,Ae]=this.pageTranslation;let Ce,Oe;switch(this.rotation){case 0:Ce=Te+(Pe[0]-ve)/b,Oe=Re+this.height-(Pe[1]-Ae)/le;break;case 90:Ce=Te+(Pe[0]-ve)/b,Oe=Re-(Pe[1]-Ae)/le,[ne,fe]=[fe,-ne];break;case 180:Ce=Te-this.width+(Pe[0]-ve)/b,Oe=Re-(Pe[1]-Ae)/le,[ne,fe]=[-ne,-fe];break;case 270:Ce=Te+(Pe[0]-ve-this.height*le)/b,Oe=Re+(Pe[1]-Ae-this.width*b)/le,[ne,fe]=[-fe,ne];break}this.setAt(Ce*Ke,Oe*tt,ne,fe)}else this.setAt(Te*Ke,Re*tt,this.width*Ke,this.height*tt);Ne(this,m,zn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Te,Re,Fe){let Ke=null;if(Te instanceof h.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Pe,fontColor:ne},rect:fe,rotation:b,id:le},textContent:ve,textPosition:Ae,parent:{page:{pageNumber:Ce}}}=Te;if(!ve||ve.length===0)return null;Ke=Te={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(ne),fontSize:Pe,value:ve.join(`
`),position:Ae,pageIndex:Ce-1,rect:fe,rotation:b,id:le,deleted:!1}}const tt=super.deserialize(Te,Re,Fe);return Qe(tt,be,Te.fontSize),Qe(tt,ge,o.Util.makeHexColor(...Te.color)),Qe(tt,te,Te.value),tt.annotationElementId=Te.id||null,Qe(tt,q,Ke),tt}serialize(Te=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Re=je._internalPadding*this.parentScale,Fe=this.getRect(Re,Re),Ke=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:j(this,ge)),tt={annotationType:o.AnnotationEditorType.FREETEXT,color:Ke,fontSize:j(this,be),value:j(this,te),pageIndex:this.pageIndex,rect:Fe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Te?tt:this.annotationElementId&&!Ne(this,oe,yr).call(this,tt)?null:(tt.id=this.annotationElementId,tt)}};ee=new WeakMap,f=new WeakMap,g=new WeakMap,he=new WeakMap,ge=new WeakMap,te=new WeakMap,re=new WeakMap,be=new WeakMap,q=new WeakMap,se=new WeakSet,gr=function(Te){const Re=Ke=>{this.editorDiv.style.fontSize=`calc(${Ke}px * var(--scale-factor))`,this.translate(0,-(Ke-j(this,be))*this.parentScale),Qe(this,be,Ke),Ne(this,we,on).call(this)},Fe=j(this,be);this.addCommands({cmd:()=>{Re(Te)},undo:()=>{Re(Fe)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ue=new WeakSet,br=function(Te){const Re=j(this,ge);this.addCommands({cmd:()=>{Qe(this,ge,this.editorDiv.style.color=Te)},undo:()=>{Qe(this,ge,this.editorDiv.style.color=Re)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$=new WeakSet,vr=function(){const Te=this.editorDiv.getElementsByTagName("div");if(Te.length===0)return this.editorDiv.innerText;const Re=[];for(const Fe of Te)Re.push(Fe.innerText.replace(/\r\n?|\n/,""));return Re.join(`
`)},we=new WeakSet,on=function(){const[Te,Re]=this.parentDimensions;let Fe;if(this.isAttachedToDOM)Fe=this.div.getBoundingClientRect();else{const{currentLayer:Ke,div:tt}=this,Pe=tt.style.display;tt.style.display="hidden",Ke.div.append(this.div),Fe=tt.getBoundingClientRect(),tt.remove(),tt.style.display=Pe}this.rotation%180===this.parentRotation%180?(this.width=Fe.width/Te,this.height=Fe.height/Re):(this.width=Fe.height/Te,this.height=Fe.width/Re),this.fixAndSetPosition()},m=new WeakSet,zn=function(){if(this.editorDiv.replaceChildren(),!!j(this,te))for(const Te of j(this,te).split(`
`)){const Re=document.createElement("div");Re.append(Te?document.createTextNode(Te):document.createElement("br")),this.editorDiv.append(Re)}},oe=new WeakSet,yr=function(Te){const{value:Re,fontSize:Fe,color:Ke,rect:tt,pageIndex:Pe}=j(this,q);return Te.value!==Re||Te.fontSize!==Fe||Te.rect.some((ne,fe)=>Math.abs(ne-tt[fe])>=1)||Te.color.some((ne,fe)=>ne!==Ke[fe])||Te.pageIndex!==Pe},Ee=new WeakSet,Vn=function(Te=!1){if(!this.annotationElementId)return;if(Ne(this,we,on).call(this),!Te&&(this.width===0||this.height===0)){setTimeout(()=>Ne(this,Ee,Vn).call(this,!0),0);return}const Re=je._internalPadding*this.parentScale;j(this,q).rect=this.getRect(Re,Re)},Ut(je,"_freeTextDefaultContent",""),Ut(je,"_internalPadding",0),Ut(je,"_defaultColor",null),Ut(je,"_defaultFontSize",10),Ut(je,"_type","freetext");let _=je;i.FreeTextEditor=_},(e,i,a)=>{var fe,le,Yt,Ae,Sr,Oe,Ge,qe,Ue,Ze,it,Je,nt,ht,ot,mt,st,Ve,We,He,at,ft,Pt,wr,Et,gn,Ct,Wn,Rt,Xn,Ye,Be,ct,dt,Bt,Nt,Xe,Yn,wt,_t,xt,At,xr,ut,Kn;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=a(1),c=a(6),d=a(3),h=a(30),_=a(31),ee=a(32);const f=1e3,g=9,he=new WeakSet;function ge(St){return{width:St[2]-St[0],height:St[3]-St[1]}}class te{static create(ke){switch(ke.data.annotationType){case o.AnnotationType.LINK:return new be(ke);case o.AnnotationType.TEXT:return new q(ke);case o.AnnotationType.WIDGET:switch(ke.data.fieldType){case"Tx":return new me(ke);case"Btn":return ke.data.radioButton?new $(ke):ke.data.checkBox?new ae(ke):new ie(ke);case"Ch":return new we(ke);case"Sig":return new ue(ke)}return new se(ke);case o.AnnotationType.POPUP:return new de(ke);case o.AnnotationType.FREETEXT:return new _e(ke);case o.AnnotationType.LINE:return new oe(ke);case o.AnnotationType.SQUARE:return new Se(ke);case o.AnnotationType.CIRCLE:return new Ee(ke);case o.AnnotationType.POLYLINE:return new ye(ke);case o.AnnotationType.CARET:return new Le(ke);case o.AnnotationType.INK:return new xe(ke);case o.AnnotationType.POLYGON:return new je(ke);case o.AnnotationType.HIGHLIGHT:return new Te(ke);case o.AnnotationType.UNDERLINE:return new Re(ke);case o.AnnotationType.SQUIGGLY:return new Fe(ke);case o.AnnotationType.STRIKEOUT:return new Ke(ke);case o.AnnotationType.STAMP:return new tt(ke);case o.AnnotationType.FILEATTACHMENT:return new Pe(ke);default:return new re(ke)}}}const b=class b{constructor(ke,{isRenderable:ce=!1,ignoreBorder:$e=!1,createQuadrilaterals:Me=!1}={}){De(this,fe,!1);this.isRenderable=ce,this.data=ke.data,this.layer=ke.layer,this.linkService=ke.linkService,this.downloadManager=ke.downloadManager,this.imageResourcesPath=ke.imageResourcesPath,this.renderForms=ke.renderForms,this.svgFactory=ke.svgFactory,this.annotationStorage=ke.annotationStorage,this.enableScripting=ke.enableScripting,this.hasJSActions=ke.hasJSActions,this._fieldObjects=ke.fieldObjects,this.parent=ke.parent,ce&&(this.container=this._createContainer($e)),Me&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ke,contentsObj:ce,richText:$e}){return!!(ke!=null&&ke.str||ce!=null&&ce.str||$e!=null&&$e.str)}get hasPopupData(){return b._hasPopupData(this.data)}_createContainer(ke){const{data:ce,parent:{page:$e,viewport:Me}}=this,Ie=document.createElement("section");Ie.setAttribute("data-annotation-id",ce.id),this instanceof se||(Ie.tabIndex=f),Ie.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Ie.setAttribute("aria-haspopup","dialog"),ce.noRotate&&Ie.classList.add("norotate");const{pageWidth:ze,pageHeight:et,pageX:lt,pageY:bt}=Me.rawDims;if(!ce.rect||this instanceof de){const{rotation:Ot}=ce;return!ce.hasOwnCanvas&&Ot!==0&&this.setRotation(Ot,Ie),Ie}const{width:gt,height:kt}=ge(ce.rect),vt=o.Util.normalizeRect([ce.rect[0],$e.view[3]-ce.rect[1]+$e.view[1],ce.rect[2],$e.view[3]-ce.rect[3]+$e.view[1]]);if(!ke&&ce.borderStyle.width>0){Ie.style.borderWidth=`${ce.borderStyle.width}px`;const Ot=ce.borderStyle.horizontalCornerRadius,Mt=ce.borderStyle.verticalCornerRadius;if(Ot>0||Mt>0){const It=`calc(${Ot}px * var(--scale-factor)) / calc(${Mt}px * var(--scale-factor))`;Ie.style.borderRadius=It}else if(this instanceof $){const It=`calc(${gt}px * var(--scale-factor)) / calc(${kt}px * var(--scale-factor))`;Ie.style.borderRadius=It}switch(ce.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Ie.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Ie.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Ie.style.borderBottomStyle="solid";break}const Ft=ce.borderColor||null;Ft?(Qe(this,fe,!0),Ie.style.borderColor=o.Util.makeHexColor(Ft[0]|0,Ft[1]|0,Ft[2]|0)):Ie.style.borderWidth=0}Ie.style.left=`${100*(vt[0]-lt)/ze}%`,Ie.style.top=`${100*(vt[1]-bt)/et}%`;const{rotation:yt}=ce;return ce.hasOwnCanvas||yt===0?(Ie.style.width=`${100*gt/ze}%`,Ie.style.height=`${100*kt/et}%`):this.setRotation(yt,Ie),Ie}setRotation(ke,ce=this.container){if(!this.data.rect)return;const{pageWidth:$e,pageHeight:Me}=this.parent.viewport.rawDims,{width:Ie,height:ze}=ge(this.data.rect);let et,lt;ke%180===0?(et=100*Ie/$e,lt=100*ze/Me):(et=100*ze/$e,lt=100*Ie/Me),ce.style.width=`${et}%`,ce.style.height=`${lt}%`,ce.setAttribute("data-main-rotation",(360-ke)%360)}get _commonActions(){const ke=(ce,$e,Me)=>{const Ie=Me.detail[ce],ze=Ie[0],et=Ie.slice(1);Me.target.style[$e]=h.ColorConverters[`${ze}_HTML`](et),this.annotationStorage.setValue(this.data.id,{[$e]:h.ColorConverters[`${ze}_rgb`](et)})};return(0,o.shadow)(this,"_commonActions",{display:ce=>{const{display:$e}=ce.detail,Me=$e%2===1;this.container.style.visibility=Me?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Me,noPrint:$e===1||$e===2})},print:ce=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ce.detail.print})},hidden:ce=>{const{hidden:$e}=ce.detail;this.container.style.visibility=$e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:$e,noView:$e})},focus:ce=>{setTimeout(()=>ce.target.focus({preventScroll:!1}),0)},userName:ce=>{ce.target.title=ce.detail.userName},readonly:ce=>{ce.target.disabled=ce.detail.readonly},required:ce=>{this._setRequired(ce.target,ce.detail.required)},bgColor:ce=>{ke("bgColor","backgroundColor",ce)},fillColor:ce=>{ke("fillColor","backgroundColor",ce)},fgColor:ce=>{ke("fgColor","color",ce)},textColor:ce=>{ke("textColor","color",ce)},borderColor:ce=>{ke("borderColor","borderColor",ce)},strokeColor:ce=>{ke("strokeColor","borderColor",ce)},rotation:ce=>{const $e=ce.detail.rotation;this.setRotation($e),this.annotationStorage.setValue(this.data.id,{rotation:$e})}})}_dispatchEventFromSandbox(ke,ce){const $e=this._commonActions;for(const Me of Object.keys(ce.detail)){const Ie=ke[Me]||$e[Me];Ie==null||Ie(ce)}}_setDefaultPropertiesFromJS(ke){if(!this.enableScripting)return;const ce=this.annotationStorage.getRawValue(this.data.id);if(!ce)return;const $e=this._commonActions;for(const[Me,Ie]of Object.entries(ce)){const ze=$e[Me];if(ze){const et={detail:{[Me]:Ie},target:ke};ze(et),delete ce[Me]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ke}=this.data;if(!ke)return;const[ce,$e,Me,Ie]=this.data.rect;if(ke.length===1){const[,{x:Mt,y:Ft},{x:It,y:qt}]=ke[0];if(Me===Mt&&Ie===Ft&&ce===It&&$e===qt)return}const{style:ze}=this.container;let et;if(j(this,fe)){const{borderColor:Mt,borderWidth:Ft}=ze;ze.borderWidth=0,et=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mt}" stroke-width="${Ft}">`],this.container.classList.add("hasBorder")}const lt=Me-ce,bt=Ie-$e,{svgFactory:gt}=this,kt=gt.createElement("svg");kt.classList.add("quadrilateralsContainer"),kt.setAttribute("width",0),kt.setAttribute("height",0);const vt=gt.createElement("defs");kt.append(vt);const yt=gt.createElement("clipPath"),Ot=`clippath_${this.data.id}`;yt.setAttribute("id",Ot),yt.setAttribute("clipPathUnits","objectBoundingBox"),vt.append(yt);for(const[,{x:Mt,y:Ft},{x:It,y:qt}]of ke){const Gt=gt.createElement("rect"),Ht=(It-ce)/lt,Wt=(Ie-Ft)/bt,Xt=(Mt-It)/lt,sr=(Ft-qt)/bt;Gt.setAttribute("x",Ht),Gt.setAttribute("y",Wt),Gt.setAttribute("width",Xt),Gt.setAttribute("height",sr),yt.append(Gt),et==null||et.push(`<rect vector-effect="non-scaling-stroke" x="${Ht}" y="${Wt}" width="${Xt}" height="${sr}"/>`)}j(this,fe)&&(et.push("</g></svg>')"),ze.backgroundImage=et.join("")),this.container.append(kt),this.container.style.clipPath=`url(#${Ot})`}_createPopup(){const{container:ke,data:ce}=this;ke.setAttribute("aria-haspopup","dialog");const $e=new de({data:{color:ce.color,titleObj:ce.titleObj,modificationDate:ce.modificationDate,contentsObj:ce.contentsObj,richText:ce.richText,parentRect:ce.rect,borderStyle:0,id:`popup_${ce.id}`,rotation:ce.rotation},parent:this.parent,elements:[this]});this.parent.div.append($e.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ke,ce=null){const $e=[];if(this._fieldObjects){const Me=this._fieldObjects[ke];if(Me)for(const{page:Ie,id:ze,exportValues:et}of Me){if(Ie===-1||ze===ce)continue;const lt=typeof et=="string"?et:null,bt=document.querySelector(`[data-element-id="${ze}"]`);if(bt&&!he.has(bt)){(0,o.warn)(`_getElementsByName - element not allowed: ${ze}`);continue}$e.push({id:ze,exportValue:lt,domElement:bt})}return $e}for(const Me of document.getElementsByName(ke)){const{exportValue:Ie}=Me,ze=Me.getAttribute("data-element-id");ze!==ce&&he.has(Me)&&$e.push({id:ze,exportValue:Ie,domElement:Me})}return $e}show(){var ke;this.container&&(this.container.hidden=!1),(ke=this.popup)==null||ke.maybeShow()}hide(){var ke;this.container&&(this.container.hidden=!0),(ke=this.popup)==null||ke.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ke=this.getElementsToTriggerPopup();if(Array.isArray(ke))for(const ce of ke)ce.classList.add("highlightArea");else ke.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ke,data:{id:ce}}=this;this.container.addEventListener("dblclick",()=>{var $e;($e=this.linkService.eventBus)==null||$e.dispatch("switchannotationeditormode",{source:this,mode:ke,editId:ce})})}};fe=new WeakMap;let re=b;class be extends re{constructor(ce,$e=null){super(ce,{isRenderable:!0,ignoreBorder:!!($e!=null&&$e.ignoreBorder),createQuadrilaterals:!0});De(this,le);De(this,Ae);this.isTooltipOnly=ce.data.isTooltipOnly}render(){const{data:ce,linkService:$e}=this,Me=document.createElement("a");Me.setAttribute("data-element-id",ce.id);let Ie=!1;return ce.url?($e.addLinkAttributes(Me,ce.url,ce.newWindow),Ie=!0):ce.action?(this._bindNamedAction(Me,ce.action),Ie=!0):ce.attachment?(this._bindAttachment(Me,ce.attachment),Ie=!0):ce.setOCGState?(Ne(this,Ae,Sr).call(this,Me,ce.setOCGState),Ie=!0):ce.dest?(this._bindLink(Me,ce.dest),Ie=!0):(ce.actions&&(ce.actions.Action||ce.actions["Mouse Up"]||ce.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Me,ce),Ie=!0),ce.resetForm?(this._bindResetFormAction(Me,ce.resetForm),Ie=!0):this.isTooltipOnly&&!Ie&&(this._bindLink(Me,""),Ie=!0)),this.container.classList.add("linkAnnotation"),Ie&&this.container.append(Me),this.container}_bindLink(ce,$e){ce.href=this.linkService.getDestinationHash($e),ce.onclick=()=>($e&&this.linkService.goToDestination($e),!1),($e||$e==="")&&Ne(this,le,Yt).call(this)}_bindNamedAction(ce,$e){ce.href=this.linkService.getAnchorUrl(""),ce.onclick=()=>(this.linkService.executeNamedAction($e),!1),Ne(this,le,Yt).call(this)}_bindAttachment(ce,$e){ce.href=this.linkService.getAnchorUrl(""),ce.onclick=()=>{var Me;return(Me=this.downloadManager)==null||Me.openOrDownloadData(this.container,$e.content,$e.filename),!1},Ne(this,le,Yt).call(this)}_bindJSAction(ce,$e){ce.href=this.linkService.getAnchorUrl("");const Me=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ie of Object.keys($e.actions)){const ze=Me.get(Ie);ze&&(ce[ze]=()=>{var et;return(et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$e.id,name:Ie}}),!1})}ce.onclick||(ce.onclick=()=>!1),Ne(this,le,Yt).call(this)}_bindResetFormAction(ce,$e){const Me=ce.onclick;if(Me||(ce.href=this.linkService.getAnchorUrl("")),Ne(this,le,Yt).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Me||(ce.onclick=()=>!1);return}ce.onclick=()=>{var kt;Me==null||Me();const{fields:Ie,refs:ze,include:et}=$e,lt=[];if(Ie.length!==0||ze.length!==0){const vt=new Set(ze);for(const yt of Ie){const Ot=this._fieldObjects[yt]||[];for(const{id:Mt}of Ot)vt.add(Mt)}for(const yt of Object.values(this._fieldObjects))for(const Ot of yt)vt.has(Ot.id)===et&&lt.push(Ot)}else for(const vt of Object.values(this._fieldObjects))lt.push(...vt);const bt=this.annotationStorage,gt=[];for(const vt of lt){const{id:yt}=vt;switch(gt.push(yt),vt.type){case"text":{const Mt=vt.defaultValue||"";bt.setValue(yt,{value:Mt});break}case"checkbox":case"radiobutton":{const Mt=vt.defaultValue===vt.exportValues;bt.setValue(yt,{value:Mt});break}case"combobox":case"listbox":{const Mt=vt.defaultValue||"";bt.setValue(yt,{value:Mt});break}default:continue}const Ot=document.querySelector(`[data-element-id="${yt}"]`);if(Ot){if(!he.has(Ot)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${yt}`);continue}}else continue;Ot.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:gt,name:"ResetForm"}})),!1}}}le=new WeakSet,Yt=function(){this.container.setAttribute("data-internal-link","")},Ae=new WeakSet,Sr=function(ce,$e){ce.href=this.linkService.getAnchorUrl(""),ce.onclick=()=>(this.linkService.executeSetOCGState($e),!1),Ne(this,le,Yt).call(this)};class q extends re{constructor(ke){super(ke,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ke=document.createElement("img");return ke.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ke.alt="[{{type}} Annotation]",ke.dataset.l10nId="text_annotation_type",ke.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ke),this.container}}class se extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ke){var ce;this.data.hasOwnCanvas&&(((ce=ke.previousSibling)==null?void 0:ce.nodeName)==="CANVAS"&&(ke.previousSibling.hidden=!0),ke.hidden=!1)}_getKeyModifier(ke){const{isWin:ce,isMac:$e}=o.FeatureTest.platform;return ce&&ke.ctrlKey||$e&&ke.metaKey}_setEventListener(ke,ce,$e,Me,Ie){$e.includes("mouse")?ke.addEventListener($e,ze=>{var et;(et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Me,value:Ie(ze),shift:ze.shiftKey,modifier:this._getKeyModifier(ze)}})}):ke.addEventListener($e,ze=>{var et;if($e==="blur"){if(!ce.focused||!ze.relatedTarget)return;ce.focused=!1}else if($e==="focus"){if(ce.focused)return;ce.focused=!0}Ie&&((et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Me,value:Ie(ze)}}))})}_setEventListeners(ke,ce,$e,Me){var Ie,ze,et;for(const[lt,bt]of $e)(bt==="Action"||(Ie=this.data.actions)!=null&&Ie[bt])&&((bt==="Focus"||bt==="Blur")&&(ce||(ce={focused:!1})),this._setEventListener(ke,ce,lt,bt,Me),bt==="Focus"&&!((ze=this.data.actions)!=null&&ze.Blur)?this._setEventListener(ke,ce,"blur","Blur",null):bt==="Blur"&&!((et=this.data.actions)!=null&&et.Focus)&&this._setEventListener(ke,ce,"focus","Focus",null))}_setBackgroundColor(ke){const ce=this.data.backgroundColor||null;ke.style.backgroundColor=ce===null?"transparent":o.Util.makeHexColor(ce[0],ce[1],ce[2])}_setTextStyle(ke){const ce=["left","center","right"],{fontColor:$e}=this.data.defaultAppearanceData,Me=this.data.defaultAppearanceData.fontSize||g,Ie=ke.style;let ze;const et=2,lt=bt=>Math.round(10*bt)/10;if(this.data.multiLine){const bt=Math.abs(this.data.rect[3]-this.data.rect[1]-et),gt=Math.round(bt/(o.LINE_FACTOR*Me))||1,kt=bt/gt;ze=Math.min(Me,lt(kt/o.LINE_FACTOR))}else{const bt=Math.abs(this.data.rect[3]-this.data.rect[1]-et);ze=Math.min(Me,lt(bt/o.LINE_FACTOR))}Ie.fontSize=`calc(${ze}px * var(--scale-factor))`,Ie.color=o.Util.makeHexColor($e[0],$e[1],$e[2]),this.data.textAlignment!==null&&(Ie.textAlign=ce[this.data.textAlignment])}_setRequired(ke,ce){ce?ke.setAttribute("required",!0):ke.removeAttribute("required"),ke.setAttribute("aria-required",ce)}}class me extends se{constructor(ke){const ce=ke.renderForms||!ke.data.hasAppearance&&!!ke.data.fieldValue;super(ke,{isRenderable:ce})}setPropertyOnSiblings(ke,ce,$e,Me){const Ie=this.annotationStorage;for(const ze of this._getElementsByName(ke.name,ke.id))ze.domElement&&(ze.domElement[ce]=$e),Ie.setValue(ze.id,{[Me]:$e})}render(){var Me,Ie;const ke=this.annotationStorage,ce=this.data.id;this.container.classList.add("textWidgetAnnotation");let $e=null;if(this.renderForms){const ze=ke.getValue(ce,{value:this.data.fieldValue});let et=ze.value||"";const lt=ke.getValue(ce,{charLimit:this.data.maxLen}).charLimit;lt&&et.length>lt&&(et=et.slice(0,lt));let bt=ze.formattedValue||((Me=this.data.textContent)==null?void 0:Me.join(`
`))||null;bt&&this.data.comb&&(bt=bt.replaceAll(/\s+/g,""));const gt={userValue:et,formattedValue:bt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?($e=document.createElement("textarea"),$e.textContent=bt??et,this.data.doNotScroll&&($e.style.overflowY="hidden")):($e=document.createElement("input"),$e.type="text",$e.setAttribute("value",bt??et),this.data.doNotScroll&&($e.style.overflowX="hidden")),this.data.hasOwnCanvas&&($e.hidden=!0),he.add($e),$e.setAttribute("data-element-id",ce),$e.disabled=this.data.readOnly,$e.name=this.data.fieldName,$e.tabIndex=f,this._setRequired($e,this.data.required),lt&&($e.maxLength=lt),$e.addEventListener("input",vt=>{ke.setValue(ce,{value:vt.target.value}),this.setPropertyOnSiblings($e,"value",vt.target.value,"value"),gt.formattedValue=null}),$e.addEventListener("resetform",vt=>{const yt=this.data.defaultFieldValue??"";$e.value=gt.userValue=yt,gt.formattedValue=null});let kt=vt=>{const{formattedValue:yt}=gt;yt!=null&&(vt.target.value=yt),vt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){$e.addEventListener("focus",yt=>{if(gt.focused)return;const{target:Ot}=yt;gt.userValue&&(Ot.value=gt.userValue),gt.lastCommittedValue=Ot.value,gt.commitKey=1,gt.focused=!0}),$e.addEventListener("updatefromsandbox",yt=>{this.showElementAndHideCanvas(yt.target);const Ot={value(Mt){gt.userValue=Mt.detail.value??"",ke.setValue(ce,{value:gt.userValue.toString()}),Mt.target.value=gt.userValue},formattedValue(Mt){const{formattedValue:Ft}=Mt.detail;gt.formattedValue=Ft,Ft!=null&&Mt.target!==document.activeElement&&(Mt.target.value=Ft),ke.setValue(ce,{formattedValue:Ft})},selRange(Mt){Mt.target.setSelectionRange(...Mt.detail.selRange)},charLimit:Mt=>{var Gt;const{charLimit:Ft}=Mt.detail,{target:It}=Mt;if(Ft===0){It.removeAttribute("maxLength");return}It.setAttribute("maxLength",Ft);let qt=gt.userValue;!qt||qt.length<=Ft||(qt=qt.slice(0,Ft),It.value=gt.userValue=qt,ke.setValue(ce,{value:qt}),(Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:qt,willCommit:!0,commitKey:1,selStart:It.selectionStart,selEnd:It.selectionEnd}}))}};this._dispatchEventFromSandbox(Ot,yt)}),$e.addEventListener("keydown",yt=>{var Ft;gt.commitKey=1;let Ot=-1;if(yt.key==="Escape"?Ot=0:yt.key==="Enter"&&!this.data.multiLine?Ot=2:yt.key==="Tab"&&(gt.commitKey=3),Ot===-1)return;const{value:Mt}=yt.target;gt.lastCommittedValue!==Mt&&(gt.lastCommittedValue=Mt,gt.userValue=Mt,(Ft=this.linkService.eventBus)==null||Ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:Mt,willCommit:!0,commitKey:Ot,selStart:yt.target.selectionStart,selEnd:yt.target.selectionEnd}}))});const vt=kt;kt=null,$e.addEventListener("blur",yt=>{var Mt;if(!gt.focused||!yt.relatedTarget)return;gt.focused=!1;const{value:Ot}=yt.target;gt.userValue=Ot,gt.lastCommittedValue!==Ot&&((Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:Ot,willCommit:!0,commitKey:gt.commitKey,selStart:yt.target.selectionStart,selEnd:yt.target.selectionEnd}})),vt(yt)}),(Ie=this.data.actions)!=null&&Ie.Keystroke&&$e.addEventListener("beforeinput",yt=>{var Wt;gt.lastCommittedValue=null;const{data:Ot,target:Mt}=yt,{value:Ft,selectionStart:It,selectionEnd:qt}=Mt;let Gt=It,Ht=qt;switch(yt.inputType){case"deleteWordBackward":{const Xt=Ft.substring(0,It).match(/\w*[^\w]*$/);Xt&&(Gt-=Xt[0].length);break}case"deleteWordForward":{const Xt=Ft.substring(It).match(/^[^\w]*\w*/);Xt&&(Ht+=Xt[0].length);break}case"deleteContentBackward":It===qt&&(Gt-=1);break;case"deleteContentForward":It===qt&&(Ht+=1);break}yt.preventDefault(),(Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:Ft,change:Ot||"",willCommit:!1,selStart:Gt,selEnd:Ht}})}),this._setEventListeners($e,gt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yt=>yt.target.value)}if(kt&&$e.addEventListener("blur",kt),this.data.comb){const yt=(this.data.rect[2]-this.data.rect[0])/lt;$e.classList.add("comb"),$e.style.letterSpacing=`calc(${yt}px * var(--scale-factor) - 1ch)`}}else $e=document.createElement("div"),$e.textContent=this.data.fieldValue,$e.style.verticalAlign="middle",$e.style.display="table-cell";return this._setTextStyle($e),this._setBackgroundColor($e),this._setDefaultPropertiesFromJS($e),this.container.append($e),this.container}}class ue extends se{constructor(ke){super(ke,{isRenderable:!!ke.data.hasOwnCanvas})}}class ae extends se{constructor(ke){super(ke,{isRenderable:ke.renderForms})}render(){const ke=this.annotationStorage,ce=this.data,$e=ce.id;let Me=ke.getValue($e,{value:ce.exportValue===ce.fieldValue}).value;typeof Me=="string"&&(Me=Me!=="Off",ke.setValue($e,{value:Me})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Ie=document.createElement("input");return he.add(Ie),Ie.setAttribute("data-element-id",$e),Ie.disabled=ce.readOnly,this._setRequired(Ie,this.data.required),Ie.type="checkbox",Ie.name=ce.fieldName,Me&&Ie.setAttribute("checked",!0),Ie.setAttribute("exportValue",ce.exportValue),Ie.tabIndex=f,Ie.addEventListener("change",ze=>{const{name:et,checked:lt}=ze.target;for(const bt of this._getElementsByName(et,$e)){const gt=lt&&bt.exportValue===ce.exportValue;bt.domElement&&(bt.domElement.checked=gt),ke.setValue(bt.id,{value:gt})}ke.setValue($e,{value:lt})}),Ie.addEventListener("resetform",ze=>{const et=ce.defaultFieldValue||"Off";ze.target.checked=et===ce.exportValue}),this.enableScripting&&this.hasJSActions&&(Ie.addEventListener("updatefromsandbox",ze=>{const et={value(lt){lt.target.checked=lt.detail.value!=="Off",ke.setValue($e,{value:lt.target.checked})}};this._dispatchEventFromSandbox(et,ze)}),this._setEventListeners(Ie,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ze=>ze.target.checked)),this._setBackgroundColor(Ie),this._setDefaultPropertiesFromJS(Ie),this.container.append(Ie),this.container}}class $ extends se{constructor(ke){super(ke,{isRenderable:ke.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ke=this.annotationStorage,ce=this.data,$e=ce.id;let Me=ke.getValue($e,{value:ce.fieldValue===ce.buttonValue}).value;typeof Me=="string"&&(Me=Me!==ce.buttonValue,ke.setValue($e,{value:Me}));const Ie=document.createElement("input");if(he.add(Ie),Ie.setAttribute("data-element-id",$e),Ie.disabled=ce.readOnly,this._setRequired(Ie,this.data.required),Ie.type="radio",Ie.name=ce.fieldName,Me&&Ie.setAttribute("checked",!0),Ie.tabIndex=f,Ie.addEventListener("change",ze=>{const{name:et,checked:lt}=ze.target;for(const bt of this._getElementsByName(et,$e))ke.setValue(bt.id,{value:!1});ke.setValue($e,{value:lt})}),Ie.addEventListener("resetform",ze=>{const et=ce.defaultFieldValue;ze.target.checked=et!=null&&et===ce.buttonValue}),this.enableScripting&&this.hasJSActions){const ze=ce.buttonValue;Ie.addEventListener("updatefromsandbox",et=>{const lt={value:bt=>{const gt=ze===bt.detail.value;for(const kt of this._getElementsByName(bt.target.name)){const vt=gt&&kt.id===$e;kt.domElement&&(kt.domElement.checked=vt),ke.setValue(kt.id,{value:vt})}}};this._dispatchEventFromSandbox(lt,et)}),this._setEventListeners(Ie,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.checked)}return this._setBackgroundColor(Ie),this._setDefaultPropertiesFromJS(Ie),this.container.append(Ie),this.container}}class ie extends be{constructor(ke){super(ke,{ignoreBorder:ke.data.hasAppearance})}render(){const ke=super.render();ke.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ke.title=this.data.alternativeText);const ce=ke.lastChild;return this.enableScripting&&this.hasJSActions&&ce&&(this._setDefaultPropertiesFromJS(ce),ce.addEventListener("updatefromsandbox",$e=>{this._dispatchEventFromSandbox({},$e)})),ke}}class we extends se{constructor(ke){super(ke,{isRenderable:ke.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ke=this.annotationStorage,ce=this.data.id,$e=ke.getValue(ce,{value:this.data.fieldValue}),Me=document.createElement("select");he.add(Me),Me.setAttribute("data-element-id",ce),Me.disabled=this.data.readOnly,this._setRequired(Me,this.data.required),Me.name=this.data.fieldName,Me.tabIndex=f;let Ie=this.data.combo&&this.data.options.length>0;this.data.combo||(Me.size=this.data.options.length,this.data.multiSelect&&(Me.multiple=!0)),Me.addEventListener("resetform",gt=>{const kt=this.data.defaultFieldValue;for(const vt of Me.options)vt.selected=vt.value===kt});for(const gt of this.data.options){const kt=document.createElement("option");kt.textContent=gt.displayValue,kt.value=gt.exportValue,$e.value.includes(gt.exportValue)&&(kt.setAttribute("selected",!0),Ie=!1),Me.append(kt)}let ze=null;if(Ie){const gt=document.createElement("option");gt.value=" ",gt.setAttribute("hidden",!0),gt.setAttribute("selected",!0),Me.prepend(gt),ze=()=>{gt.remove(),Me.removeEventListener("input",ze),ze=null},Me.addEventListener("input",ze)}const et=gt=>{const kt=gt?"value":"textContent",{options:vt,multiple:yt}=Me;return yt?Array.prototype.filter.call(vt,Ot=>Ot.selected).map(Ot=>Ot[kt]):vt.selectedIndex===-1?null:vt[vt.selectedIndex][kt]};let lt=et(!1);const bt=gt=>{const kt=gt.target.options;return Array.prototype.map.call(kt,vt=>({displayValue:vt.textContent,exportValue:vt.value}))};return this.enableScripting&&this.hasJSActions?(Me.addEventListener("updatefromsandbox",gt=>{const kt={value(vt){ze==null||ze();const yt=vt.detail.value,Ot=new Set(Array.isArray(yt)?yt:[yt]);for(const Mt of Me.options)Mt.selected=Ot.has(Mt.value);ke.setValue(ce,{value:et(!0)}),lt=et(!1)},multipleSelection(vt){Me.multiple=!0},remove(vt){const yt=Me.options,Ot=vt.detail.remove;yt[Ot].selected=!1,Me.remove(Ot),yt.length>0&&Array.prototype.findIndex.call(yt,Ft=>Ft.selected)===-1&&(yt[0].selected=!0),ke.setValue(ce,{value:et(!0),items:bt(vt)}),lt=et(!1)},clear(vt){for(;Me.length!==0;)Me.remove(0);ke.setValue(ce,{value:null,items:[]}),lt=et(!1)},insert(vt){const{index:yt,displayValue:Ot,exportValue:Mt}=vt.detail.insert,Ft=Me.children[yt],It=document.createElement("option");It.textContent=Ot,It.value=Mt,Ft?Ft.before(It):Me.append(It),ke.setValue(ce,{value:et(!0),items:bt(vt)}),lt=et(!1)},items(vt){const{items:yt}=vt.detail;for(;Me.length!==0;)Me.remove(0);for(const Ot of yt){const{displayValue:Mt,exportValue:Ft}=Ot,It=document.createElement("option");It.textContent=Mt,It.value=Ft,Me.append(It)}Me.options.length>0&&(Me.options[0].selected=!0),ke.setValue(ce,{value:et(!0),items:bt(vt)}),lt=et(!1)},indices(vt){const yt=new Set(vt.detail.indices);for(const Ot of vt.target.options)Ot.selected=yt.has(Ot.index);ke.setValue(ce,{value:et(!0)}),lt=et(!1)},editable(vt){vt.target.disabled=!vt.detail.editable}};this._dispatchEventFromSandbox(kt,gt)}),Me.addEventListener("input",gt=>{var vt;const kt=et(!0);ke.setValue(ce,{value:kt}),gt.preventDefault(),(vt=this.linkService.eventBus)==null||vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:lt,changeEx:kt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Me,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],gt=>gt.target.value)):Me.addEventListener("input",function(gt){ke.setValue(ce,{value:et(!0)})}),this.data.combo&&this._setTextStyle(Me),this._setBackgroundColor(Me),this._setDefaultPropertiesFromJS(Me),this.container.append(Me),this.container}}class de extends re{constructor(ke){const{data:ce,elements:$e}=ke;super(ke,{isRenderable:re._hasPopupData(ce)}),this.elements=$e}render(){this.container.classList.add("popupAnnotation");const ke=new m({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ce=[];for(const $e of this.elements)$e.popup=ke,ce.push($e.data.id),$e.addHighlightArea();return this.container.setAttribute("aria-controls",ce.map($e=>`${o.AnnotationPrefix}${$e}`).join(",")),this.container}}class m{constructor({container:ke,color:ce,elements:$e,titleObj:Me,modificationDate:Ie,contentsObj:ze,richText:et,parent:lt,rect:bt,parentRect:gt,open:kt}){De(this,Pt);De(this,Et);De(this,Ct);De(this,Rt);De(this,Oe,null);De(this,Ge,Ne(this,Pt,wr).bind(this));De(this,qe,Ne(this,Rt,Xn).bind(this));De(this,Ue,Ne(this,Ct,Wn).bind(this));De(this,Ze,Ne(this,Et,gn).bind(this));De(this,it,null);De(this,Je,null);De(this,nt,null);De(this,ht,null);De(this,ot,null);De(this,mt,null);De(this,st,!1);De(this,Ve,null);De(this,We,null);De(this,He,null);De(this,at,null);De(this,ft,!1);var yt;Qe(this,Je,ke),Qe(this,at,Me),Qe(this,nt,ze),Qe(this,He,et),Qe(this,ot,lt),Qe(this,it,ce),Qe(this,We,bt),Qe(this,mt,gt),Qe(this,ht,$e);const vt=c.PDFDateString.toDateObject(Ie);vt&&Qe(this,Oe,lt.l10n.get("annotation_date_string",{date:vt.toLocaleDateString(),time:vt.toLocaleTimeString()})),this.trigger=$e.flatMap(Ot=>Ot.getElementsToTriggerPopup());for(const Ot of this.trigger)Ot.addEventListener("click",j(this,Ze)),Ot.addEventListener("mouseenter",j(this,Ue)),Ot.addEventListener("mouseleave",j(this,qe)),Ot.classList.add("popupTriggerArea");for(const Ot of $e)(yt=Ot.container)==null||yt.addEventListener("keydown",j(this,Ge));j(this,Je).hidden=!0,kt&&Ne(this,Et,gn).call(this)}render(){if(j(this,Ve))return;const{page:{view:ke},viewport:{rawDims:{pageWidth:ce,pageHeight:$e,pageX:Me,pageY:Ie}}}=j(this,ot),ze=Qe(this,Ve,document.createElement("div"));if(ze.className="popup",j(this,it)){const Gt=ze.style.outlineColor=o.Util.makeHexColor(...j(this,it));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ze.style.backgroundColor=`color-mix(in srgb, ${Gt} 30%, white)`:ze.style.backgroundColor=o.Util.makeHexColor(...j(this,it).map(Wt=>Math.floor(.7*(255-Wt)+Wt)))}const et=document.createElement("span");et.className="header";const lt=document.createElement("h1");if(et.append(lt),{dir:lt.dir,str:lt.textContent}=j(this,at),ze.append(et),j(this,Oe)){const Gt=document.createElement("span");Gt.classList.add("popupDate"),j(this,Oe).then(Ht=>{Gt.textContent=Ht}),et.append(Gt)}const bt=j(this,nt),gt=j(this,He);if(gt!=null&&gt.str&&(!(bt!=null&&bt.str)||bt.str===gt.str))ee.XfaLayer.render({xfaHtml:gt.html,intent:"richText",div:ze}),ze.lastChild.classList.add("richText","popupContent");else{const Gt=this._formatContents(bt);ze.append(Gt)}let kt=!!j(this,mt),vt=kt?j(this,mt):j(this,We);for(const Gt of j(this,ht))if(!vt||o.Util.intersect(Gt.data.rect,vt)!==null){vt=Gt.data.rect,kt=!0;break}const yt=o.Util.normalizeRect([vt[0],ke[3]-vt[1]+ke[1],vt[2],ke[3]-vt[3]+ke[1]]),Mt=kt?vt[2]-vt[0]+5:0,Ft=yt[0]+Mt,It=yt[1],{style:qt}=j(this,Je);qt.left=`${100*(Ft-Me)/ce}%`,qt.top=`${100*(It-Ie)/$e}%`,j(this,Je).append(ze)}_formatContents({str:ke,dir:ce}){const $e=document.createElement("p");$e.classList.add("popupContent"),$e.dir=ce;const Me=ke.split(/(?:\r\n?|\n)/);for(let Ie=0,ze=Me.length;Ie<ze;++Ie){const et=Me[Ie];$e.append(document.createTextNode(et)),Ie<ze-1&&$e.append(document.createElement("br"))}return $e}forceHide(){Qe(this,ft,this.isVisible),j(this,ft)&&(j(this,Je).hidden=!0)}maybeShow(){j(this,ft)&&(Qe(this,ft,!1),j(this,Je).hidden=!1)}get isVisible(){return j(this,Je).hidden===!1}}Oe=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Ue=new WeakMap,Ze=new WeakMap,it=new WeakMap,Je=new WeakMap,nt=new WeakMap,ht=new WeakMap,ot=new WeakMap,mt=new WeakMap,st=new WeakMap,Ve=new WeakMap,We=new WeakMap,He=new WeakMap,at=new WeakMap,ft=new WeakMap,Pt=new WeakSet,wr=function(ke){ke.altKey||ke.shiftKey||ke.ctrlKey||ke.metaKey||(ke.key==="Enter"||ke.key==="Escape"&&j(this,st))&&Ne(this,Et,gn).call(this)},Et=new WeakSet,gn=function(){Qe(this,st,!j(this,st)),j(this,st)?(Ne(this,Ct,Wn).call(this),j(this,Je).addEventListener("click",j(this,Ze)),j(this,Je).addEventListener("keydown",j(this,Ge))):(Ne(this,Rt,Xn).call(this),j(this,Je).removeEventListener("click",j(this,Ze)),j(this,Je).removeEventListener("keydown",j(this,Ge)))},Ct=new WeakSet,Wn=function(){j(this,Ve)||this.render(),this.isVisible?j(this,st)&&j(this,Je).classList.add("focused"):(j(this,Je).hidden=!1,j(this,Je).style.zIndex=parseInt(j(this,Je).style.zIndex)+1e3)},Rt=new WeakSet,Xn=function(){j(this,Je).classList.remove("focused"),!(j(this,st)||!this.isVisible)&&(j(this,Je).hidden=!0,j(this,Je).style.zIndex=parseInt(j(this,Je).style.zIndex)-1e3)};class _e extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ke.data.textContent,this.textPosition=ke.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ke=document.createElement("div");ke.classList.add("annotationTextContent"),ke.setAttribute("role","comment");for(const ce of this.textContent){const $e=document.createElement("span");$e.textContent=ce,ke.append($e)}this.container.append(ke)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=_e;class oe extends re{constructor(ce){super(ce,{isRenderable:!0,ignoreBorder:!0});De(this,Ye,null)}render(){this.container.classList.add("lineAnnotation");const ce=this.data,{width:$e,height:Me}=ge(ce.rect),Ie=this.svgFactory.create($e,Me,!0),ze=Qe(this,Ye,this.svgFactory.createElement("svg:line"));return ze.setAttribute("x1",ce.rect[2]-ce.lineCoordinates[0]),ze.setAttribute("y1",ce.rect[3]-ce.lineCoordinates[1]),ze.setAttribute("x2",ce.rect[2]-ce.lineCoordinates[2]),ze.setAttribute("y2",ce.rect[3]-ce.lineCoordinates[3]),ze.setAttribute("stroke-width",ce.borderStyle.width||1),ze.setAttribute("stroke","transparent"),ze.setAttribute("fill","transparent"),Ie.append(ze),this.container.append(Ie),!ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,Ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ye=new WeakMap;class Se extends re{constructor(ce){super(ce,{isRenderable:!0,ignoreBorder:!0});De(this,Be,null)}render(){this.container.classList.add("squareAnnotation");const ce=this.data,{width:$e,height:Me}=ge(ce.rect),Ie=this.svgFactory.create($e,Me,!0),ze=ce.borderStyle.width,et=Qe(this,Be,this.svgFactory.createElement("svg:rect"));return et.setAttribute("x",ze/2),et.setAttribute("y",ze/2),et.setAttribute("width",$e-ze),et.setAttribute("height",Me-ze),et.setAttribute("stroke-width",ze||1),et.setAttribute("stroke","transparent"),et.setAttribute("fill","transparent"),Ie.append(et),this.container.append(Ie),!ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,Be)}addHighlightArea(){this.container.classList.add("highlightArea")}}Be=new WeakMap;class Ee extends re{constructor(ce){super(ce,{isRenderable:!0,ignoreBorder:!0});De(this,ct,null)}render(){this.container.classList.add("circleAnnotation");const ce=this.data,{width:$e,height:Me}=ge(ce.rect),Ie=this.svgFactory.create($e,Me,!0),ze=ce.borderStyle.width,et=Qe(this,ct,this.svgFactory.createElement("svg:ellipse"));return et.setAttribute("cx",$e/2),et.setAttribute("cy",Me/2),et.setAttribute("rx",$e/2-ze/2),et.setAttribute("ry",Me/2-ze/2),et.setAttribute("stroke-width",ze||1),et.setAttribute("stroke","transparent"),et.setAttribute("fill","transparent"),Ie.append(et),this.container.append(Ie),!ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,ct)}addHighlightArea(){this.container.classList.add("highlightArea")}}ct=new WeakMap;class ye extends re{constructor(ce){super(ce,{isRenderable:!0,ignoreBorder:!0});De(this,dt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ce=this.data,{width:$e,height:Me}=ge(ce.rect),Ie=this.svgFactory.create($e,Me,!0);let ze=[];for(const lt of ce.vertices){const bt=lt.x-ce.rect[0],gt=ce.rect[3]-lt.y;ze.push(bt+","+gt)}ze=ze.join(" ");const et=Qe(this,dt,this.svgFactory.createElement(this.svgElementName));return et.setAttribute("points",ze),et.setAttribute("stroke-width",ce.borderStyle.width||1),et.setAttribute("stroke","transparent"),et.setAttribute("fill","transparent"),Ie.append(et),this.container.append(Ie),!ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,dt)}addHighlightArea(){this.container.classList.add("highlightArea")}}dt=new WeakMap;class je extends ye{constructor(ke){super(ke),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Le extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class xe extends re{constructor(ce){super(ce,{isRenderable:!0,ignoreBorder:!0});De(this,Bt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ce=this.data,{width:$e,height:Me}=ge(ce.rect),Ie=this.svgFactory.create($e,Me,!0);for(const ze of ce.inkLists){let et=[];for(const bt of ze){const gt=bt.x-ce.rect[0],kt=ce.rect[3]-bt.y;et.push(`${gt},${kt}`)}et=et.join(" ");const lt=this.svgFactory.createElement(this.svgElementName);j(this,Bt).push(lt),lt.setAttribute("points",et),lt.setAttribute("stroke-width",ce.borderStyle.width||1),lt.setAttribute("stroke","transparent"),lt.setAttribute("fill","transparent"),!ce.popupRef&&this.hasPopupData&&this._createPopup(),Ie.append(lt)}return this.container.append(Ie),this.container}getElementsToTriggerPopup(){return j(this,Bt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bt=new WeakMap,i.InkAnnotationElement=xe;class Te extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Re extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Fe extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ke extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class tt extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=tt;class Pe extends re{constructor(ce){var Ie;super(ce,{isRenderable:!0});De(this,Xe);De(this,Nt,null);const{filename:$e,content:Me}=this.data.file;this.filename=(0,c.getFilenameFromUrl)($e,!0),this.content=Me,(Ie=this.linkService.eventBus)==null||Ie.dispatch("fileattachmentannotation",{source:this,filename:$e,content:Me})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ce,data:$e}=this;let Me;$e.hasAppearance||$e.fillAlpha===0?Me=document.createElement("div"):(Me=document.createElement("img"),Me.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test($e.name)?"paperclip":"pushpin"}.svg`,$e.fillAlpha&&$e.fillAlpha<1&&(Me.style=`filter: opacity(${Math.round($e.fillAlpha*100)}%);`)),Me.addEventListener("dblclick",Ne(this,Xe,Yn).bind(this)),Qe(this,Nt,Me);const{isMac:Ie}=o.FeatureTest.platform;return ce.addEventListener("keydown",ze=>{ze.key==="Enter"&&(Ie?ze.metaKey:ze.ctrlKey)&&Ne(this,Xe,Yn).call(this)}),!$e.popupRef&&this.hasPopupData?this._createPopup():Me.classList.add("popupTriggerArea"),ce.append(Me),ce}getElementsToTriggerPopup(){return j(this,Nt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nt=new WeakMap,Xe=new WeakSet,Yn=function(){var ce;(ce=this.downloadManager)==null||ce.openOrDownloadData(this.container,this.content,this.filename)};class ne{constructor({div:ke,accessibilityManager:ce,annotationCanvasMap:$e,l10n:Me,page:Ie,viewport:ze}){De(this,At);De(this,ut);De(this,wt,null);De(this,_t,null);De(this,xt,new Map);this.div=ke,Qe(this,wt,ce),Qe(this,_t,$e),this.l10n=Me,this.page=Ie,this.viewport=ze,this.zIndex=0,this.l10n||(this.l10n=_.NullL10n)}async render(ke){const{annotations:ce}=ke,$e=this.div;(0,c.setLayerDimensions)($e,this.viewport);const Me=new Map,Ie={data:null,layer:$e,linkService:ke.linkService,downloadManager:ke.downloadManager,imageResourcesPath:ke.imageResourcesPath||"",renderForms:ke.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:ke.annotationStorage||new d.AnnotationStorage,enableScripting:ke.enableScripting===!0,hasJSActions:ke.hasJSActions,fieldObjects:ke.fieldObjects,parent:this,elements:null};for(const ze of ce){if(ze.noHTML)continue;const et=ze.annotationType===o.AnnotationType.POPUP;if(et){const gt=Me.get(ze.id);if(!gt)continue;Ie.elements=gt}else{const{width:gt,height:kt}=ge(ze.rect);if(gt<=0||kt<=0)continue}Ie.data=ze;const lt=te.create(Ie);if(!lt.isRenderable)continue;if(!et&&ze.popupRef){const gt=Me.get(ze.popupRef);gt?gt.push(lt):Me.set(ze.popupRef,[lt])}lt.annotationEditorType>0&&j(this,xt).set(lt.data.id,lt);const bt=lt.render();ze.hidden&&(bt.style.visibility="hidden"),Ne(this,At,xr).call(this,bt,ze.id)}Ne(this,ut,Kn).call(this),await this.l10n.translate($e)}update({viewport:ke}){const ce=this.div;this.viewport=ke,(0,c.setLayerDimensions)(ce,{rotation:ke.rotation}),Ne(this,ut,Kn).call(this),ce.hidden=!1}getEditableAnnotations(){return Array.from(j(this,xt).values())}getEditableAnnotation(ke){return j(this,xt).get(ke)}}wt=new WeakMap,_t=new WeakMap,xt=new WeakMap,At=new WeakSet,xr=function(ke,ce){var Me;const $e=ke.firstChild||ke;$e.id=`${o.AnnotationPrefix}${ce}`,this.div.append(ke),(Me=j(this,wt))==null||Me.moveElementInDOM(this.div,ke,$e,!1)},ut=new WeakSet,Kn=function(){if(!j(this,_t))return;const ke=this.div;for(const[ce,$e]of j(this,_t)){const Me=ke.querySelector(`[data-annotation-id="${ce}"]`);if(!Me)continue;const{firstChild:Ie}=Me;Ie?Ie.nodeName==="CANVAS"?Ie.replaceWith($e):Ie.before($e):Me.append($e)}j(this,_t).clear()},i.AnnotationLayer=ne},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function a(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function o(d){return Math.max(0,Math.min(255,255*d))}class c{static CMYK_G([h,_,ee,f]){return["G",1-Math.min(1,.3*h+.59*ee+.11*_+f)]}static G_CMYK([h]){return["CMYK",0,0,0,1-h]}static G_RGB([h]){return["RGB",h,h,h]}static G_rgb([h]){return h=o(h),[h,h,h]}static G_HTML([h]){const _=a(h);return`#${_}${_}${_}`}static RGB_G([h,_,ee]){return["G",.3*h+.59*_+.11*ee]}static RGB_rgb(h){return h.map(o)}static RGB_HTML(h){return`#${h.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([h,_,ee,f]){return["RGB",1-Math.min(1,h+f),1-Math.min(1,ee+f),1-Math.min(1,_+f)]}static CMYK_rgb([h,_,ee,f]){return[o(1-Math.min(1,h+f)),o(1-Math.min(1,ee+f)),o(1-Math.min(1,_+f))]}static CMYK_HTML(h){const _=this.CMYK_RGB(h).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([h,_,ee]){const f=1-h,g=1-_,he=1-ee,ge=Math.min(f,g,he);return["CMYK",f,g,he,ge]}}i.ColorConverters=c},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function o(h,_){switch(h){case"find_match_count":h=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":h=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return a[h]||""}function c(h,_){return _?h.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ee,f)=>f in _?_[f]:"{{"+f+"}}"):h}const d={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(h,_=null,ee=o(h,_)){return c(ee,_)},async translate(h){}};i.NullL10n=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=a(25);class c{static setupStorage(h,_,ee,f,g){const he=f.getValue(_,{value:null});switch(ee.name){case"textarea":if(he.value!==null&&(h.textContent=he.value),g==="print")break;h.addEventListener("input",ge=>{f.setValue(_,{value:ge.target.value})});break;case"input":if(ee.attributes.type==="radio"||ee.attributes.type==="checkbox"){if(he.value===ee.attributes.xfaOn?h.setAttribute("checked",!0):he.value===ee.attributes.xfaOff&&h.removeAttribute("checked"),g==="print")break;h.addEventListener("change",ge=>{f.setValue(_,{value:ge.target.checked?ge.target.getAttribute("xfaOn"):ge.target.getAttribute("xfaOff")})})}else{if(he.value!==null&&h.setAttribute("value",he.value),g==="print")break;h.addEventListener("input",ge=>{f.setValue(_,{value:ge.target.value})})}break;case"select":if(he.value!==null){h.setAttribute("value",he.value);for(const ge of ee.children)ge.attributes.value===he.value?ge.attributes.selected=!0:ge.attributes.hasOwnProperty("selected")&&delete ge.attributes.selected}h.addEventListener("input",ge=>{const te=ge.target.options,re=te.selectedIndex===-1?"":te[te.selectedIndex].value;f.setValue(_,{value:re})});break}}static setAttributes({html:h,element:_,storage:ee=null,intent:f,linkService:g}){const{attributes:he}=_,ge=h instanceof HTMLAnchorElement;he.type==="radio"&&(he.name=`${he.name}-${f}`);for(const[te,re]of Object.entries(he))if(re!=null)switch(te){case"class":re.length&&h.setAttribute(te,re.join(" "));break;case"dataId":break;case"id":h.setAttribute("data-element-id",re);break;case"style":Object.assign(h.style,re);break;case"textContent":h.textContent=re;break;default:(!ge||te!=="href"&&te!=="newWindow")&&h.setAttribute(te,re)}ge&&g.addLinkAttributes(h,he.href,he.newWindow),ee&&he.dataId&&this.setupStorage(h,he.dataId,_,ee)}static render(h){var be;const _=h.annotationStorage,ee=h.linkService,f=h.xfaHtml,g=h.intent||"display",he=document.createElement(f.name);f.attributes&&this.setAttributes({html:he,element:f,intent:g,linkService:ee});const ge=[[f,-1,he]],te=h.div;if(te.append(he),h.viewport){const q=`matrix(${h.viewport.transform.join(",")})`;te.style.transform=q}g!=="richText"&&te.setAttribute("class","xfaLayer xfaFont");const re=[];for(;ge.length>0;){const[q,se,me]=ge.at(-1);if(se+1===q.children.length){ge.pop();continue}const ue=q.children[++ge.at(-1)[1]];if(ue===null)continue;const{name:ae}=ue;if(ae==="#text"){const ie=document.createTextNode(ue.value);re.push(ie),me.append(ie);continue}const $=(be=ue==null?void 0:ue.attributes)!=null&&be.xmlns?document.createElementNS(ue.attributes.xmlns,ae):document.createElement(ae);if(me.append($),ue.attributes&&this.setAttributes({html:$,element:ue,storage:_,intent:g,linkService:ee}),ue.children&&ue.children.length>0)ge.push([ue,-1,$]);else if(ue.value){const ie=document.createTextNode(ue.value);o.XfaText.shouldBuildText(ae)&&re.push(ie),$.append(ie)}}for(const q of te.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))q.setAttribute("readOnly",!0);return{textDivs:re}}static update(h){const _=`matrix(${h.viewport.transform.join(",")})`;h.div.style.transform=_,h.div.hidden=!1}}i.XfaLayer=c},(e,i,a)=>{var f,g,he,ge,te,re,be,q,se,me,ue,ae,$,ie,we,Ar,m,Er,oe,Pr,Ee,$r,je,Qn,xe,Cr,Re,Jn,Ke,Tr,Pe,Or,fe,jr,le,Rr,Ae,kr,Oe,Vt,qe,Zn,Ze,bn,Je,vn,ht,Zt,mt,er,Ve,yn,He,Mr,ft,tr,Tt,Dr,jt,Fr,$t,nr,rt,Sn,Be,en;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=a(1),c=a(4),d=a(29),h=a(6),_=a(5);const dt=class dt extends c.AnnotationEditor{constructor(Xe){super({...Xe,name:"inkEditor"});De(this,we);De(this,m);De(this,oe);De(this,Ee);De(this,je);De(this,xe);De(this,Re);De(this,Ke);De(this,Pe);De(this,fe);De(this,le);De(this,Ae);De(this,Oe);De(this,qe);De(this,Ze);De(this,Je);De(this,ht);De(this,mt);De(this,Ve);De(this,jt);De(this,$t);De(this,rt);De(this,Be);De(this,f,0);De(this,g,0);De(this,he,this.canvasPointermove.bind(this));De(this,ge,this.canvasPointerleave.bind(this));De(this,te,this.canvasPointerup.bind(this));De(this,re,this.canvasPointerdown.bind(this));De(this,be,new Path2D);De(this,q,!1);De(this,se,!1);De(this,me,!1);De(this,ue,null);De(this,ae,0);De(this,$,0);De(this,ie,null);this.color=Xe.color||null,this.thickness=Xe.thickness||null,this.opacity=Xe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Xe){c.AnnotationEditor.initialize(Xe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Xe,pt){switch(Xe){case o.AnnotationEditorParamsType.INK_THICKNESS:dt._defaultThickness=pt;break;case o.AnnotationEditorParamsType.INK_COLOR:dt._defaultColor=pt;break;case o.AnnotationEditorParamsType.INK_OPACITY:dt._defaultOpacity=pt/100;break}}updateParams(Xe,pt){switch(Xe){case o.AnnotationEditorParamsType.INK_THICKNESS:Ne(this,we,Ar).call(this,pt);break;case o.AnnotationEditorParamsType.INK_COLOR:Ne(this,m,Er).call(this,pt);break;case o.AnnotationEditorParamsType.INK_OPACITY:Ne(this,oe,Pr).call(this,pt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,dt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,dt._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(dt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||dt._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ne(this,Ze,bn).call(this),Ne(this,Je,vn).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ne(this,ht,Zt).call(this)),Ne(this,Be,en).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,j(this,ue).disconnect(),Qe(this,ue,null),super.remove())}setParent(Xe){!this.parent&&Xe?this._uiManager.removeShouldRescale(this):this.parent&&Xe===null&&this._uiManager.addShouldRescale(this),super.setParent(Xe)}onScaleChanging(){const[Xe,pt]=this.parentDimensions,wt=this.width*Xe,_t=this.height*pt;this.setDimensions(wt,_t)}enableEditMode(){j(this,q)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",j(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",j(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){j(this,q)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qe(this,q,!0),this.div.classList.add("disabled"),Ne(this,Be,en).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Xe){this._focusEventsAllowed&&(super.focusin(Xe),this.enableEditMode())}canvasPointerdown(Xe){Xe.button!==0||!this.isInEditMode()||j(this,q)||(this.setInForeground(),Xe.preventDefault(),Xe.type!=="mouse"&&this.div.focus(),Ne(this,xe,Cr).call(this,Xe.offsetX,Xe.offsetY))}canvasPointermove(Xe){Xe.preventDefault(),Ne(this,Re,Jn).call(this,Xe.offsetX,Xe.offsetY)}canvasPointerup(Xe){Xe.preventDefault(),Ne(this,qe,Zn).call(this,Xe)}canvasPointerleave(Xe){Ne(this,qe,Zn).call(this,Xe)}get isResizable(){return!this.isEmpty()&&j(this,q)}render(){if(this.div)return this.div;let Xe,pt;this.width&&(Xe=this.x,pt=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Lt=>{var ut;return(ut=this.div)==null?void 0:ut.setAttribute("aria-label",Lt)});const[wt,_t,xt,At]=Ne(this,Ee,$r).call(this);if(this.setAt(wt,_t,0,0),this.setDims(xt,At),Ne(this,Ze,bn).call(this),this.width){const[Lt,ut]=this.parentDimensions;this.setAspectRatio(this.width*Lt,this.height*ut),this.setAt(Xe*Lt,pt*ut,this.width*Lt,this.height*ut),Qe(this,me,!0),Ne(this,ht,Zt).call(this),this.setDims(this.width*Lt,this.height*ut),Ne(this,Oe,Vt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ne(this,Je,vn).call(this),this.div}setDimensions(Xe,pt){const wt=Math.round(Xe),_t=Math.round(pt);if(j(this,ae)===wt&&j(this,$)===_t)return;Qe(this,ae,wt),Qe(this,$,_t),this.canvas.style.visibility="hidden";const[xt,At]=this.parentDimensions;this.width=Xe/xt,this.height=pt/At,this.fixAndSetPosition(),j(this,q)&&Ne(this,mt,er).call(this,Xe,pt),Ne(this,ht,Zt).call(this),Ne(this,Oe,Vt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Xe,pt,wt){var Ie,ze,et;if(Xe instanceof d.InkAnnotationElement)return null;const _t=super.deserialize(Xe,pt,wt);_t.thickness=Xe.thickness,_t.color=o.Util.makeHexColor(...Xe.color),_t.opacity=Xe.opacity;const[xt,At]=_t.pageDimensions,Lt=_t.width*xt,ut=_t.height*At,Dt=_t.parentScale,St=Xe.thickness/2;Qe(_t,q,!0),Qe(_t,ae,Math.round(Lt)),Qe(_t,$,Math.round(ut));const{paths:ke,rect:ce,rotation:$e}=Xe;for(let{bezier:lt}of ke){lt=Ne(Ie=dt,Tt,Dr).call(Ie,lt,ce,$e);const bt=[];_t.paths.push(bt);let gt=Dt*(lt[0]-St),kt=Dt*(lt[1]-St);for(let yt=2,Ot=lt.length;yt<Ot;yt+=6){const Mt=Dt*(lt[yt]-St),Ft=Dt*(lt[yt+1]-St),It=Dt*(lt[yt+2]-St),qt=Dt*(lt[yt+3]-St),Gt=Dt*(lt[yt+4]-St),Ht=Dt*(lt[yt+5]-St);bt.push([[gt,kt],[Mt,Ft],[It,qt],[Gt,Ht]]),gt=Gt,kt=Ht}const vt=Ne(this,He,Mr).call(this,bt);_t.bezierPath2D.push(vt)}const Me=Ne(ze=_t,$t,nr).call(ze);return Qe(_t,g,Math.max(c.AnnotationEditor.MIN_SIZE,Me[2]-Me[0])),Qe(_t,f,Math.max(c.AnnotationEditor.MIN_SIZE,Me[3]-Me[1])),Ne(et=_t,mt,er).call(et,Lt,ut),_t}serialize(){if(this.isEmpty())return null;const Xe=this.getRect(0,0),pt=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:pt,thickness:this.thickness,opacity:this.opacity,paths:Ne(this,jt,Fr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Xe),pageIndex:this.pageIndex,rect:Xe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};f=new WeakMap,g=new WeakMap,he=new WeakMap,ge=new WeakMap,te=new WeakMap,re=new WeakMap,be=new WeakMap,q=new WeakMap,se=new WeakMap,me=new WeakMap,ue=new WeakMap,ae=new WeakMap,$=new WeakMap,ie=new WeakMap,we=new WeakSet,Ar=function(Xe){const pt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Xe,Ne(this,Be,en).call(this)},undo:()=>{this.thickness=pt,Ne(this,Be,en).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},m=new WeakSet,Er=function(Xe){const pt=this.color;this.addCommands({cmd:()=>{this.color=Xe,Ne(this,Oe,Vt).call(this)},undo:()=>{this.color=pt,Ne(this,Oe,Vt).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oe=new WeakSet,Pr=function(Xe){Xe/=100;const pt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Xe,Ne(this,Oe,Vt).call(this)},undo:()=>{this.opacity=pt,Ne(this,Oe,Vt).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ee=new WeakSet,$r=function(){const{parentRotation:Xe,parentDimensions:[pt,wt]}=this;switch(Xe){case 90:return[0,wt,wt,pt];case 180:return[pt,wt,pt,wt];case 270:return[pt,0,wt,pt];default:return[0,0,pt,wt]}},je=new WeakSet,Qn=function(){const{ctx:Xe,color:pt,opacity:wt,thickness:_t,parentScale:xt,scaleFactor:At}=this;Xe.lineWidth=_t*xt/At,Xe.lineCap="round",Xe.lineJoin="round",Xe.miterLimit=10,Xe.strokeStyle=`${pt}${(0,_.opacityToHex)(wt)}`},xe=new WeakSet,Cr=function(Xe,pt){this.canvas.addEventListener("contextmenu",h.noContextMenu),this.canvas.addEventListener("pointerleave",j(this,ge)),this.canvas.addEventListener("pointermove",j(this,he)),this.canvas.addEventListener("pointerup",j(this,te)),this.canvas.removeEventListener("pointerdown",j(this,re)),this.isEditing=!0,j(this,me)||(Qe(this,me,!0),Ne(this,ht,Zt).call(this),this.thickness||(this.thickness=dt._defaultThickness),this.color||(this.color=dt._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dt._defaultOpacity)),this.currentPath.push([Xe,pt]),Qe(this,se,!1),Ne(this,je,Qn).call(this),Qe(this,ie,()=>{Ne(this,fe,jr).call(this),j(this,ie)&&window.requestAnimationFrame(j(this,ie))}),window.requestAnimationFrame(j(this,ie))},Re=new WeakSet,Jn=function(Xe,pt){const[wt,_t]=this.currentPath.at(-1);if(this.currentPath.length>1&&Xe===wt&&pt===_t)return;const xt=this.currentPath;let At=j(this,be);if(xt.push([Xe,pt]),Qe(this,se,!0),xt.length<=2){At.moveTo(...xt[0]),At.lineTo(Xe,pt);return}xt.length===3&&(Qe(this,be,At=new Path2D),At.moveTo(...xt[0])),Ne(this,le,Rr).call(this,At,...xt.at(-3),...xt.at(-2),Xe,pt)},Ke=new WeakSet,Tr=function(){if(this.currentPath.length===0)return;const Xe=this.currentPath.at(-1);j(this,be).lineTo(...Xe)},Pe=new WeakSet,Or=function(Xe,pt){Qe(this,ie,null),Xe=Math.min(Math.max(Xe,0),this.canvas.width),pt=Math.min(Math.max(pt,0),this.canvas.height),Ne(this,Re,Jn).call(this,Xe,pt),Ne(this,Ke,Tr).call(this);let wt;if(this.currentPath.length!==1)wt=Ne(this,Ae,kr).call(this);else{const ut=[Xe,pt];wt=[[ut,ut.slice(),ut.slice(),ut]]}const _t=j(this,be),xt=this.currentPath;this.currentPath=[],Qe(this,be,new Path2D);const At=()=>{this.allRawPaths.push(xt),this.paths.push(wt),this.bezierPath2D.push(_t),this.rebuild()},Lt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ne(this,Ze,bn).call(this),Ne(this,Je,vn).call(this)),Ne(this,Be,en).call(this))};this.addCommands({cmd:At,undo:Lt,mustExec:!0})},fe=new WeakSet,jr=function(){if(!j(this,se))return;Qe(this,se,!1);const Xe=Math.ceil(this.thickness*this.parentScale),pt=this.currentPath.slice(-3),wt=pt.map(At=>At[0]),_t=pt.map(At=>At[1]);Math.min(...wt)-Xe,Math.max(...wt)+Xe,Math.min(..._t)-Xe,Math.max(..._t)+Xe;const{ctx:xt}=this;xt.save(),xt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const At of this.bezierPath2D)xt.stroke(At);xt.stroke(j(this,be)),xt.restore()},le=new WeakSet,Rr=function(Xe,pt,wt,_t,xt,At,Lt){const ut=(pt+_t)/2,Dt=(wt+xt)/2,St=(_t+At)/2,ke=(xt+Lt)/2;Xe.bezierCurveTo(ut+2*(_t-ut)/3,Dt+2*(xt-Dt)/3,St+2*(_t-St)/3,ke+2*(xt-ke)/3,St,ke)},Ae=new WeakSet,kr=function(){const Xe=this.currentPath;if(Xe.length<=2)return[[Xe[0],Xe[0],Xe.at(-1),Xe.at(-1)]];const pt=[];let wt,[_t,xt]=Xe[0];for(wt=1;wt<Xe.length-2;wt++){const[ce,$e]=Xe[wt],[Me,Ie]=Xe[wt+1],ze=(ce+Me)/2,et=($e+Ie)/2,lt=[_t+2*(ce-_t)/3,xt+2*($e-xt)/3],bt=[ze+2*(ce-ze)/3,et+2*($e-et)/3];pt.push([[_t,xt],lt,bt,[ze,et]]),[_t,xt]=[ze,et]}const[At,Lt]=Xe[wt],[ut,Dt]=Xe[wt+1],St=[_t+2*(At-_t)/3,xt+2*(Lt-xt)/3],ke=[ut+2*(At-ut)/3,Dt+2*(Lt-Dt)/3];return pt.push([[_t,xt],St,ke,[ut,Dt]]),pt},Oe=new WeakSet,Vt=function(){if(this.isEmpty()){Ne(this,Ve,yn).call(this);return}Ne(this,je,Qn).call(this);const{canvas:Xe,ctx:pt}=this;pt.setTransform(1,0,0,1,0,0),pt.clearRect(0,0,Xe.width,Xe.height),Ne(this,Ve,yn).call(this);for(const wt of this.bezierPath2D)pt.stroke(wt)},qe=new WeakSet,Zn=function(Xe){this.canvas.removeEventListener("pointerleave",j(this,ge)),this.canvas.removeEventListener("pointermove",j(this,he)),this.canvas.removeEventListener("pointerup",j(this,te)),this.canvas.addEventListener("pointerdown",j(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",h.noContextMenu)},10),Ne(this,Pe,Or).call(this,Xe.offsetX,Xe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ze=new WeakSet,bn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Xe=>{var pt;return(pt=this.canvas)==null?void 0:pt.setAttribute("aria-label",Xe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Je=new WeakSet,vn=function(){Qe(this,ue,new ResizeObserver(Xe=>{const pt=Xe[0].contentRect;pt.width&&pt.height&&this.setDimensions(pt.width,pt.height)})),j(this,ue).observe(this.div)},ht=new WeakSet,Zt=function(){if(!j(this,me))return;const[Xe,pt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Xe),this.canvas.height=Math.ceil(this.height*pt),Ne(this,Ve,yn).call(this)},mt=new WeakSet,er=function(Xe,pt){const wt=Ne(this,rt,Sn).call(this),_t=(Xe-wt)/j(this,g),xt=(pt-wt)/j(this,f);this.scaleFactor=Math.min(_t,xt)},Ve=new WeakSet,yn=function(){const Xe=Ne(this,rt,Sn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Xe,this.translationY*this.scaleFactor+Xe)},He=new WeakSet,Mr=function(Xe){const pt=new Path2D;for(let wt=0,_t=Xe.length;wt<_t;wt++){const[xt,At,Lt,ut]=Xe[wt];wt===0&&pt.moveTo(...xt),pt.bezierCurveTo(At[0],At[1],Lt[0],Lt[1],ut[0],ut[1])}return pt},ft=new WeakSet,tr=function(Xe,pt,wt){const[_t,xt,At,Lt]=pt;switch(wt){case 0:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2)Xe[ut]+=_t,Xe[ut+1]=Lt-Xe[ut+1];break;case 90:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2){const St=Xe[ut];Xe[ut]=Xe[ut+1]+_t,Xe[ut+1]=St+xt}break;case 180:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2)Xe[ut]=At-Xe[ut],Xe[ut+1]+=xt;break;case 270:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2){const St=Xe[ut];Xe[ut]=At-Xe[ut+1],Xe[ut+1]=Lt-St}break;default:throw new Error("Invalid rotation")}return Xe},Tt=new WeakSet,Dr=function(Xe,pt,wt){const[_t,xt,At,Lt]=pt;switch(wt){case 0:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2)Xe[ut]-=_t,Xe[ut+1]=Lt-Xe[ut+1];break;case 90:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2){const St=Xe[ut];Xe[ut]=Xe[ut+1]-xt,Xe[ut+1]=St-_t}break;case 180:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2)Xe[ut]=At-Xe[ut],Xe[ut+1]-=xt;break;case 270:for(let ut=0,Dt=Xe.length;ut<Dt;ut+=2){const St=Xe[ut];Xe[ut]=Lt-Xe[ut+1],Xe[ut+1]=At-St}break;default:throw new Error("Invalid rotation")}return Xe},jt=new WeakSet,Fr=function(Xe,pt,wt,_t){var Dt,St;const xt=[],At=this.thickness/2,Lt=Xe*pt+At,ut=Xe*wt+At;for(const ke of this.paths){const ce=[],$e=[];for(let Me=0,Ie=ke.length;Me<Ie;Me++){const[ze,et,lt,bt]=ke[Me],gt=Xe*ze[0]+Lt,kt=Xe*ze[1]+ut,vt=Xe*et[0]+Lt,yt=Xe*et[1]+ut,Ot=Xe*lt[0]+Lt,Mt=Xe*lt[1]+ut,Ft=Xe*bt[0]+Lt,It=Xe*bt[1]+ut;Me===0&&(ce.push(gt,kt),$e.push(gt,kt)),ce.push(vt,yt,Ot,Mt,Ft,It),$e.push(vt,yt),Me===Ie-1&&$e.push(Ft,It)}xt.push({bezier:Ne(Dt=dt,ft,tr).call(Dt,ce,_t,this.rotation),points:Ne(St=dt,ft,tr).call(St,$e,_t,this.rotation)})}return xt},$t=new WeakSet,nr=function(){let Xe=1/0,pt=-1/0,wt=1/0,_t=-1/0;for(const xt of this.paths)for(const[At,Lt,ut,Dt]of xt){const St=o.Util.bezierBoundingBox(...At,...Lt,...ut,...Dt);Xe=Math.min(Xe,St[0]),wt=Math.min(wt,St[1]),pt=Math.max(pt,St[2]),_t=Math.max(_t,St[3])}return[Xe,wt,pt,_t]},rt=new WeakSet,Sn=function(){return j(this,q)?Math.ceil(this.thickness*this.parentScale):0},Be=new WeakSet,en=function(Xe=!1){if(this.isEmpty())return;if(!j(this,q)){Ne(this,Oe,Vt).call(this);return}const pt=Ne(this,$t,nr).call(this),wt=Ne(this,rt,Sn).call(this);Qe(this,g,Math.max(c.AnnotationEditor.MIN_SIZE,pt[2]-pt[0])),Qe(this,f,Math.max(c.AnnotationEditor.MIN_SIZE,pt[3]-pt[1]));const _t=Math.ceil(wt+j(this,g)*this.scaleFactor),xt=Math.ceil(wt+j(this,f)*this.scaleFactor),[At,Lt]=this.parentDimensions;this.width=_t/At,this.height=xt/Lt,this.setAspectRatio(_t,xt);const ut=this.translationX,Dt=this.translationY;this.translationX=-pt[0],this.translationY=-pt[1],Ne(this,ht,Zt).call(this),Ne(this,Oe,Vt).call(this),Qe(this,ae,_t),Qe(this,$,xt),this.setDims(_t,xt);const St=Xe?wt/this.scaleFactor/2:0;this.translate(ut-this.translationX-St,Dt-this.translationY-St)},De(dt,He),De(dt,ft),De(dt,Tt),Ut(dt,"_defaultColor",null),Ut(dt,"_defaultOpacity",1),Ut(dt,"_defaultThickness",1),Ut(dt,"_type","ink");let ee=dt;i.InkEditor=ee},(e,i,a)=>{var ee,f,g,he,ge,te,re,be,q,se,me,ln,ae,cn,ie,wn,de,rr,_e,Lr,Se,Ir,ye,ir,Le,xn,Te,Nr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=a(1),c=a(4),d=a(6),h=a(29);const Fe=class Fe extends c.AnnotationEditor{constructor(Pe){super({...Pe,name:"stampEditor"});De(this,me);De(this,ae);De(this,ie);De(this,de);De(this,_e);De(this,Se);De(this,ye);De(this,Le);De(this,Te);De(this,ee,null);De(this,f,null);De(this,g,null);De(this,he,null);De(this,ge,null);De(this,te,null);De(this,re,null);De(this,be,null);De(this,q,!1);De(this,se,!1);Qe(this,he,Pe.bitmapUrl),Qe(this,ge,Pe.bitmapFile)}static initialize(Pe){c.AnnotationEditor.initialize(Pe)}static get supportedTypes(){const Pe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Pe.map(ne=>`image/${ne}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Pe){return this.supportedTypes.includes(Pe)}static paste(Pe,ne){ne.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Pe.getAsFile()})}remove(){var Pe,ne;j(this,f)&&(Qe(this,ee,null),this._uiManager.imageManager.deleteId(j(this,f)),(Pe=j(this,te))==null||Pe.remove(),Qe(this,te,null),(ne=j(this,re))==null||ne.disconnect(),Qe(this,re,null)),super.remove()}rebuild(){if(!this.parent){j(this,f)&&Ne(this,ie,wn).call(this);return}super.rebuild(),this.div!==null&&(j(this,f)&&Ne(this,ie,wn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(j(this,g)||j(this,ee)||j(this,he)||j(this,ge))}get isResizable(){return!0}render(){if(this.div)return this.div;let Pe,ne;if(this.width&&(Pe=this.x,ne=this.y),super.render(),this.div.hidden=!0,j(this,ee)?Ne(this,de,rr).call(this):Ne(this,ie,wn).call(this),this.width){const[fe,b]=this.parentDimensions;this.setAt(Pe*fe,ne*b,this.width*fe,this.height*b)}return this.div}static deserialize(Pe,ne,fe){if(Pe instanceof h.StampAnnotationElement)return null;const b=super.deserialize(Pe,ne,fe),{rect:le,bitmapUrl:ve,bitmapId:Ae,isSvg:Ce,accessibilityData:Oe}=Pe;Ae&&fe.imageManager.isValidId(Ae)?Qe(b,f,Ae):Qe(b,he,ve),Qe(b,q,Ce);const[Ge,qe]=b.pageDimensions;return b.width=(le[2]-le[0])/Ge,b.height=(le[3]-le[1])/qe,Oe&&(b.altTextData=Oe),b}serialize(Pe=!1,ne=null){if(this.isEmpty())return null;const fe={annotationType:o.AnnotationEditorType.STAMP,bitmapId:j(this,f),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:j(this,q),structTreeParentId:this._structTreeParentId};if(Pe)return fe.bitmapUrl=Ne(this,Le,xn).call(this,!0),fe.accessibilityData=this.altTextData,fe;const{decorative:b,altText:le}=this.altTextData;if(!b&&le&&(fe.accessibilityData={type:"Figure",alt:le}),ne===null)return fe;ne.stamps||(ne.stamps=new Map);const ve=j(this,q)?(fe.rect[2]-fe.rect[0])*(fe.rect[3]-fe.rect[1]):null;if(!ne.stamps.has(j(this,f)))ne.stamps.set(j(this,f),{area:ve,serialized:fe}),fe.bitmap=Ne(this,Le,xn).call(this,!1);else if(j(this,q)){const Ae=ne.stamps.get(j(this,f));ve>Ae.area&&(Ae.area=ve,Ae.serialized.bitmap.close(),Ae.serialized.bitmap=Ne(this,Le,xn).call(this,!1))}return fe}};ee=new WeakMap,f=new WeakMap,g=new WeakMap,he=new WeakMap,ge=new WeakMap,te=new WeakMap,re=new WeakMap,be=new WeakMap,q=new WeakMap,se=new WeakMap,me=new WeakSet,ln=function(Pe,ne=!1){if(!Pe){this.remove();return}Qe(this,ee,Pe.bitmap),ne||(Qe(this,f,Pe.id),Qe(this,q,Pe.isSvg)),Ne(this,de,rr).call(this)},ae=new WeakSet,cn=function(){Qe(this,g,null),this._uiManager.enableWaiting(!1),j(this,te)&&this.div.focus()},ie=new WeakSet,wn=function(){if(j(this,f)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(j(this,f)).then(ne=>Ne(this,me,ln).call(this,ne,!0)).finally(()=>Ne(this,ae,cn).call(this));return}if(j(this,he)){const ne=j(this,he);Qe(this,he,null),this._uiManager.enableWaiting(!0),Qe(this,g,this._uiManager.imageManager.getFromUrl(ne).then(fe=>Ne(this,me,ln).call(this,fe)).finally(()=>Ne(this,ae,cn).call(this)));return}if(j(this,ge)){const ne=j(this,ge);Qe(this,ge,null),this._uiManager.enableWaiting(!0),Qe(this,g,this._uiManager.imageManager.getFromFile(ne).then(fe=>Ne(this,me,ln).call(this,fe)).finally(()=>Ne(this,ae,cn).call(this)));return}const Pe=document.createElement("input");Pe.type="file",Pe.accept=Fe.supportedTypesStr,Qe(this,g,new Promise(ne=>{Pe.addEventListener("change",async()=>{if(!Pe.files||Pe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const fe=await this._uiManager.imageManager.getFromFile(Pe.files[0]);Ne(this,me,ln).call(this,fe)}ne()}),Pe.addEventListener("cancel",()=>{this.remove(),ne()})}).finally(()=>Ne(this,ae,cn).call(this))),Pe.click()},de=new WeakSet,rr=function(){const{div:Pe}=this;let{width:ne,height:fe}=j(this,ee);const[b,le]=this.pageDimensions,ve=.75;if(this.width)ne=this.width*b,fe=this.height*le;else if(ne>ve*b||fe>ve*le){const Ge=Math.min(ve*b/ne,ve*le/fe);ne*=Ge,fe*=Ge}const[Ae,Ce]=this.parentDimensions;this.setDims(ne*Ae/b,fe*Ce/le),this._uiManager.enableWaiting(!1);const Oe=Qe(this,te,document.createElement("canvas"));Pe.append(Oe),Pe.hidden=!1,Ne(this,ye,ir).call(this,ne,fe),Ne(this,Te,Nr).call(this),j(this,se)||(this.parent.addUndoableEditor(this),Qe(this,se,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_e=new WeakSet,Lr=function(Pe,ne){var ve;const[fe,b]=this.parentDimensions;this.width=Pe/fe,this.height=ne/b,this.setDims(Pe,ne),(ve=this._initialOptions)!=null&&ve.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,j(this,be)!==null&&clearTimeout(j(this,be)),Qe(this,be,setTimeout(()=>{Qe(this,be,null),Ne(this,ye,ir).call(this,Pe,ne)},200))},Se=new WeakSet,Ir=function(Pe,ne){const{width:fe,height:b}=j(this,ee);let le=fe,ve=b,Ae=j(this,ee);for(;le>2*Pe||ve>2*ne;){const Ce=le,Oe=ve;le>2*Pe&&(le=le>=16384?Math.floor(le/2)-1:Math.ceil(le/2)),ve>2*ne&&(ve=ve>=16384?Math.floor(ve/2)-1:Math.ceil(ve/2));const Ge=new OffscreenCanvas(le,ve);Ge.getContext("2d").drawImage(Ae,0,0,Ce,Oe,0,0,le,ve),Ae=Ge.transferToImageBitmap()}return Ae},ye=new WeakSet,ir=function(Pe,ne){Pe=Math.ceil(Pe),ne=Math.ceil(ne);const fe=j(this,te);if(!fe||fe.width===Pe&&fe.height===ne)return;fe.width=Pe,fe.height=ne;const b=j(this,q)?j(this,ee):Ne(this,Se,Ir).call(this,Pe,ne),le=fe.getContext("2d");le.filter=this._uiManager.hcmFilter,le.drawImage(b,0,0,b.width,b.height,0,0,Pe,ne)},Le=new WeakSet,xn=function(Pe){if(Pe){if(j(this,q)){const b=this._uiManager.imageManager.getSvgUrl(j(this,f));if(b)return b}const ne=document.createElement("canvas");return{width:ne.width,height:ne.height}=j(this,ee),ne.getContext("2d").drawImage(j(this,ee),0,0),ne.toDataURL()}if(j(this,q)){const[ne,fe]=this.pageDimensions,b=Math.round(this.width*ne*d.PixelsPerInch.PDF_TO_CSS_UNITS),le=Math.round(this.height*fe*d.PixelsPerInch.PDF_TO_CSS_UNITS),ve=new OffscreenCanvas(b,le);return ve.getContext("2d").drawImage(j(this,ee),0,0,j(this,ee).width,j(this,ee).height,0,0,b,le),ve.transferToImageBitmap()}return structuredClone(j(this,ee))},Te=new WeakSet,Nr=function(){Qe(this,re,new ResizeObserver(Pe=>{const ne=Pe[0].contentRect;ne.width&&ne.height&&Ne(this,_e,Lr).call(this,ne.width,ne.height)})),j(this,re).observe(this.div)},Ut(Fe,"_type","stamp");let _=Fe;i.StampEditor=_}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return h.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ee.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return a.version}});var i=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),d=__w_pdfjs_require__(27),h=__w_pdfjs_require__(5),_=__w_pdfjs_require__(29),ee=__w_pdfjs_require__(14),f=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,__createBinding$k=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$k=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$k=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$k(i,e,a);return __setModuleDefault$k(i,e),i};Object.defineProperty(pdfjs$1,"__esModule",{value:!0});const pdfjsModule=__importStar$k(pdfExports),pdfjs="default"in pdfjsModule?pdfjsModule.default:pdfjsModule;pdfjs$1.default=pdfjs;var Document$1={},cjs$3={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__spreadArray||function(o,c,d){if(d||arguments.length===2)for(var h=0,_=c.length,ee;h<_;h++)(ee||!(h in c))&&(ee||(ee=Array.prototype.slice.call(c,0,h)),ee[h]=c[h]);return o.concat(ee||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.allEvents=e.changeEvents=e.otherEvents=e.transitionEvents=e.animationEvents=e.wheelEvents=e.uiEvents=e.pointerEvents=e.touchEvents=e.selectionEvents=e.dragEvents=e.mouseEvents=e.mediaEvents=e.keyboardEvents=e.imageEvents=e.formEvents=e.focusEvents=e.compositionEvents=e.clipboardEvents=void 0,e.clipboardEvents=["onCopy","onCut","onPaste"],e.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],e.focusEvents=["onFocus","onBlur"],e.formEvents=["onInput","onInvalid","onReset","onSubmit"],e.imageEvents=["onLoad","onError"],e.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],e.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],e.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],e.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],e.selectionEvents=["onSelect"],e.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],e.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],e.uiEvents=["onScroll"],e.wheelEvents=["onWheel"],e.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],e.transitionEvents=["onTransitionEnd"],e.otherEvents=["onToggle"],e.changeEvents=["onChange"],e.allEvents=i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i([],e.clipboardEvents,!0),e.compositionEvents,!0),e.focusEvents,!0),e.formEvents,!0),e.imageEvents,!0),e.keyboardEvents,!0),e.mediaEvents,!0),e.mouseEvents,!0),e.dragEvents,!0),e.selectionEvents,!0),e.touchEvents,!0),e.pointerEvents,!0),e.uiEvents,!0),e.wheelEvents,!0),e.animationEvents,!0),e.transitionEvents,!0),e.changeEvents,!0),e.otherEvents,!0);function a(o,c){var d={};return e.allEvents.forEach(function(h){var _=o[h];_&&(c?d[h]=function(ee){return _(ee,c(h))}:d[h]=_)}),d}e.default=a})(cjs$3);var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});function makeCancellablePromise(e){var i=!1,a=new Promise(function(o,c){e.then(function(d){return!i&&o(d)}).catch(function(d){return!i&&c(d)})});return{promise:a,cancel:function(){i=!0}}}cjs$2.default=makeCancellablePromise;const require$$1=getAugmentedNamespace(clsx),require$$2=getAugmentedNamespace(tinyInvariant);var warning=function(){},warning_1$8=warning,dist={},has=Object.prototype.hasOwnProperty;function find(e,i,a){for(a of e.keys())if(dequal(a,i))return a}function dequal(e,i){var a,o,c;if(e===i)return!0;if(e&&i&&(a=e.constructor)===i.constructor){if(a===Date)return e.getTime()===i.getTime();if(a===RegExp)return e.toString()===i.toString();if(a===Array){if((o=e.length)===i.length)for(;o--&&dequal(e[o],i[o]););return o===-1}if(a===Set){if(e.size!==i.size)return!1;for(o of e)if(c=o,c&&typeof c=="object"&&(c=find(i,c),!c)||!i.has(c))return!1;return!0}if(a===Map){if(e.size!==i.size)return!1;for(o of e)if(c=o[0],c&&typeof c=="object"&&(c=find(i,c),!c)||!dequal(o[1],i.get(c)))return!1;return!0}if(a===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(a===DataView){if((o=e.byteLength)===i.byteLength)for(;o--&&e.getInt8(o)===i.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===i.byteLength)for(;o--&&e[o]===i[o];);return o===-1}if(!a||typeof e=="object"){o=0;for(a in e)if(has.call(e,a)&&++o&&!has.call(i,a)||!(a in i)||!dequal(e[a],i[a]))return!1;return Object.keys(i).length===o}}return e!==e&&i!==i}dist.dequal=dequal;var DocumentContext={};Object.defineProperty(DocumentContext,"__esModule",{value:!0});const react_1$n=reactExports;DocumentContext.default=(0,react_1$n.createContext)(null);var Message$1={},__importDefault$p=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Message$1,"__esModule",{value:!0});const react_1$m=__importDefault$p(reactExports);function Message({children:e,type:i}){return react_1$m.default.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}Message$1.default=Message;var LinkService$1={},__importDefault$o=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LinkService$1,"__esModule",{value:!0});const tiny_invariant_1$a=__importDefault$o(require$$2),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(i){(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(a=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),(0,tiny_invariant_1$a.default)(i,"Destination is not specified."),typeof i=="string"?this.pdfDocument.getDestination(i).then(a):Array.isArray(i)?a(i):i.then(a)}).then(a=>{(0,tiny_invariant_1$a.default)(Array.isArray(a),`"${a}" is not a valid destination array.`);const o=a[0];new Promise(c=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),o instanceof Object?this.pdfDocument.getPageIndex(o).then(d=>{c(d)}).catch(()=>{(0,tiny_invariant_1$a.default)(!1,`"${o}" is not a valid page reference.`)}):typeof o=="number"?c(o):(0,tiny_invariant_1$a.default)(!1,`"${o}" is not a valid destination reference.`)}).then(c=>{const d=c+1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(d>=1&&d<=this.pagesCount,`"${d}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:a,pageIndex:c,pageNumber:d})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const a=i-1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(i>=1&&i<=this.pagesCount,`"${i}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:a,pageNumber:i})}addLinkAttributes(i,a,o){i.href=a,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}LinkService$1.default=LinkService;var PasswordResponses$1={};Object.defineProperty(PasswordResponses$1,"__esModule",{value:!0});const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};PasswordResponses$1.default=PasswordResponses;var utils={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadFromFile=e.isCancelException=e.makePageCallback=e.cancelRunningTask=e.displayWorkerWarning=e.displayCORSWarning=e.getDevicePixelRatio=e.dataURItoByteString=e.isDataURI=e.isBlob=e.isArrayBuffer=e.isString=e.isProvided=e.isDefined=e.isLocalFileSystem=e.isBrowser=void 0;const a=i(require$$2),o=i(warning_1$8);e.isBrowser=typeof document<"u",e.isLocalFileSystem=e.isBrowser&&window.location.protocol==="file:";function c(ue){return typeof ue<"u"}e.isDefined=c;function d(ue){return c(ue)&&ue!==null}e.isProvided=d;function h(ue){return typeof ue=="string"}e.isString=h;function _(ue){return ue instanceof ArrayBuffer}e.isArrayBuffer=_;function ee(ue){return(0,a.default)(e.isBrowser,"isBlob can only be used in a browser environment"),ue instanceof Blob}e.isBlob=ee;function f(ue){return h(ue)&&/^data:/.test(ue)}e.isDataURI=f;function g(ue){(0,a.default)(f(ue),"Invalid data URI.");const[ae="",$=""]=ue.split(",");return ae.split(";").indexOf("base64")!==-1?atob($):unescape($)}e.dataURItoByteString=g;function he(){return e.isBrowser&&window.devicePixelRatio||1}e.getDevicePixelRatio=he;const ge="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function te(){(0,o.default)(!e.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ge}`)}e.displayCORSWarning=te;function re(){(0,o.default)(!e.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ge}`)}e.displayWorkerWarning=re;function be(ue){ue&&ue.cancel&&ue.cancel()}e.cancelRunningTask=be;function q(ue,ae){return Object.defineProperty(ue,"width",{get(){return this.view[2]*ae},configurable:!0}),Object.defineProperty(ue,"height",{get(){return this.view[3]*ae},configurable:!0}),Object.defineProperty(ue,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(ue,"originalHeight",{get(){return this.view[3]},configurable:!0}),ue}e.makePageCallback=q;function se(ue){return ue.name==="RenderingCancelledException"}e.isCancelException=se;function me(ue){return new Promise((ae,$)=>{const ie=new FileReader;ie.onload=()=>{if(!ie.result)return $(new Error("Error while reading a file."));ae(ie.result)},ie.onerror=we=>{if(!we.target)return $(new Error("Error while reading a file."));const{error:de}=we.target;if(!de)return $(new Error("Error while reading a file."));switch(de.code){case de.NOT_FOUND_ERR:return $(new Error("Error while reading a file: File not found."));case de.SECURITY_ERR:return $(new Error("Error while reading a file: Security error."));case de.ABORT_ERR:return $(new Error("Error while reading a file: Aborted."));default:return $(new Error("Error while reading a file."))}},ie.readAsArrayBuffer(ue)})}e.loadFromFile=me})(utils);var useResolver$1={};Object.defineProperty(useResolver$1,"__esModule",{value:!0});const react_1$l=reactExports;function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return(0,react_1$l.useReducer)(reducer,{value:void 0,error:void 0})}useResolver$1.default=useResolver;var propTypes={},__importDefault$n=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(propTypes,"__esModule",{value:!0});propTypes.isRotate=propTypes.isRenderMode=propTypes.isRef=propTypes.isPdf=propTypes.isPageNumber=propTypes.isPageIndex=propTypes.isPage=propTypes.isLinkTarget=propTypes.isLinkService=propTypes.isFile=propTypes.isClassName=propTypes.eventProps=void 0;const prop_types_1$3=__importDefault$n(propTypesExports),make_event_props_1$3=cjs$3,pdfjs_js_1$6=__importDefault$n(pdfjs$1),utils_js_1$b=utils,LinkService_js_1$1=__importDefault$n(LinkService$1),{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs_js_1$6.default;propTypes.eventProps=(()=>{const e={};return make_event_props_1$3.allEvents.forEach(i=>{e[i]=prop_types_1$3.default.func}),e})();const isTypedArray=prop_types_1$3.default.oneOfType([prop_types_1$3.default.instanceOf(Int8Array),prop_types_1$3.default.instanceOf(Uint8Array),prop_types_1$3.default.instanceOf(Uint8ClampedArray),prop_types_1$3.default.instanceOf(Int16Array),prop_types_1$3.default.instanceOf(Uint16Array),prop_types_1$3.default.instanceOf(Int32Array),prop_types_1$3.default.instanceOf(Uint32Array),prop_types_1$3.default.instanceOf(Float32Array),prop_types_1$3.default.instanceOf(Float64Array)]),fileTypes=[prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.shape({data:prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.arrayOf(prop_types_1$3.default.number.isRequired),isTypedArray]).isRequired}),prop_types_1$3.default.shape({range:prop_types_1$3.default.instanceOf(PDFDataRangeTransport$1).isRequired}),prop_types_1$3.default.shape({url:prop_types_1$3.default.string.isRequired})];typeof Blob<"u"&&fileTypes.push(prop_types_1$3.default.instanceOf(Blob));propTypes.isClassName=prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.arrayOf(prop_types_1$3.default.string)]);propTypes.isFile=prop_types_1$3.default.oneOfType(fileTypes);propTypes.isLinkService=prop_types_1$3.default.instanceOf(LinkService_js_1$1.default);propTypes.isLinkTarget=prop_types_1$3.default.oneOf(["_self","_blank","_parent","_top"]);propTypes.isPage=prop_types_1$3.default.shape({commonObjs:prop_types_1$3.default.shape({}).isRequired,getAnnotations:prop_types_1$3.default.func.isRequired,getTextContent:prop_types_1$3.default.func.isRequired,getViewport:prop_types_1$3.default.func.isRequired,render:prop_types_1$3.default.func.isRequired});const isPageIndex=function e(i,a,o){const{[a]:c,pageNumber:d,pdf:h}=i;if(!(0,utils_js_1$b.isDefined)(h))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${a}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<0)return new Error(`Expected \`${a}\` to be greater or equal to 0.`);const{numPages:_}=h;if(c+1>_)return new Error(`Expected \`${a}\` to be less or equal to ${_-1}.`)}else if(!(0,utils_js_1$b.isDefined)(d))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null};propTypes.isPageIndex=isPageIndex;const isPageNumber=function e(i,a,o){const{[a]:c,pageIndex:d,pdf:h}=i;if(!(0,utils_js_1$b.isDefined)(h))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${a}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<1)return new Error(`Expected \`${a}\` to be greater or equal to 1.`);const{numPages:_}=h;if(c>_)return new Error(`Expected \`${a}\` to be less or equal to ${_}.`)}else if(!(0,utils_js_1$b.isDefined)(d))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null};propTypes.isPageNumber=isPageNumber;propTypes.isPdf=prop_types_1$3.default.oneOfType([prop_types_1$3.default.any,prop_types_1$3.default.oneOf([!1])]);propTypes.isRef=prop_types_1$3.default.oneOfType([prop_types_1$3.default.func,prop_types_1$3.default.exact({current:prop_types_1$3.default.any})]);propTypes.isRenderMode=prop_types_1$3.default.oneOf(["canvas","custom","none","svg"]);propTypes.isRotate=prop_types_1$3.default.oneOf([0,90,180,270]);var __createBinding$j=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$j=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$j=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$j(i,e,a);return __setModuleDefault$j(i,e),i},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,a,o){function c(d){return d instanceof a?d:new a(function(h){h(d)})}return new(a||(a=Promise))(function(d,h){function _(g){try{f(o.next(g))}catch(he){h(he)}}function ee(g){try{f(o.throw(g))}catch(he){h(he)}}function f(g){g.done?d(g.value):c(g.value).then(_,ee)}f((o=o.apply(e,i||[])).next())})},__rest$5=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Document$1,"__esModule",{value:!0});const react_1$k=__importStar$j(reactExports),prop_types_1$2=__importDefault$m(propTypesExports),make_event_props_1$2=__importDefault$m(cjs$3),make_cancellable_promise_1$6=__importDefault$m(cjs$2),clsx_1$5=__importDefault$m(require$$1),tiny_invariant_1$9=__importDefault$m(require$$2),warning_1$7=__importDefault$m(warning_1$8),dequal_1=dist,pdfjs_js_1$5=__importDefault$m(pdfjs$1),DocumentContext_js_1$1=__importDefault$m(DocumentContext),Message_js_1$1=__importDefault$m(Message$1),LinkService_js_1=__importDefault$m(LinkService$1),PasswordResponses_js_1$1=__importDefault$m(PasswordResponses$1),utils_js_1$a=utils,useResolver_js_1$6=__importDefault$m(useResolver$1),propTypes_js_1$2=propTypes,{PDFDataRangeTransport}=pdfjs_js_1$5.default,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses_js_1$1.default.NEED_PASSWORD:{const a=prompt("Enter the password to open this PDF file.");e(a);break}case PasswordResponses_js_1$1.default.INCORRECT_PASSWORD:{const a=prompt("Invalid password. Please try again.");e(a);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=(0,react_1$k.forwardRef)(function e(i,a){var{children:o,className:c,error:d="Failed to load PDF file.",externalLinkRel:h,externalLinkTarget:_,file:ee,inputRef:f,imageResourcesPath:g,loading:he="Loading PDF",noData:ge="No PDF file specified.",onItemClick:te,onLoadError:re,onLoadProgress:be,onLoadSuccess:q,onPassword:se=defaultOnPassword,onSourceError:me,onSourceSuccess:ue,options:ae,renderMode:$,rotate:ie}=i,we=__rest$5(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[de,m]=(0,useResolver_js_1$6.default)(),{value:_e,error:oe}=de,[Se,Ee]=(0,useResolver_js_1$6.default)(),{value:ye,error:je}=Se,Le=(0,react_1$k.useRef)(new LinkService_js_1.default),xe=(0,react_1$k.useRef)([]),Te=(0,react_1$k.useRef)(),Re=(0,react_1$k.useRef)();(0,react_1$k.useEffect)(()=>{ee&&ee!==Te.current&&isParameterObject(ee)&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(ee,Te.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Te.current=ee)},[ee]),(0,react_1$k.useEffect)(()=>{ae&&ae!==Re.current&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(ae,Re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Re.current=ae)},[ae]);const Fe=(0,react_1$k.useRef)({scrollPageIntoView:it=>{const{dest:Je,pageNumber:nt,pageIndex:ht=nt-1}=it;if(te){te({dest:Je,pageIndex:ht,pageNumber:nt});return}const ot=xe.current[ht];if(ot){ot.scrollIntoView();return}(0,warning_1$7.default)(!1,`An internal link leading to page ${nt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,react_1$k.useImperativeHandle)(a,()=>({linkService:Le,pages:xe,viewer:Fe}),[]);function Ke(){ue&&ue()}function tt(){oe&&((0,warning_1$7.default)(!1,oe.toString()),me&&me(oe))}function Pe(){m({type:"RESET"})}(0,react_1$k.useEffect)(Pe,[ee,m]);const ne=(0,react_1$k.useCallback)(()=>__awaiter$2(this,void 0,void 0,function*(){if(!ee)return null;if(typeof ee=="string")return(0,utils_js_1$a.isDataURI)(ee)?{data:(0,utils_js_1$a.dataURItoByteString)(ee)}:((0,utils_js_1$a.displayCORSWarning)(),{url:ee});if(ee instanceof PDFDataRangeTransport)return{range:ee};if((0,utils_js_1$a.isArrayBuffer)(ee))return{data:ee};if(utils_js_1$a.isBrowser&&(0,utils_js_1$a.isBlob)(ee))return{data:yield(0,utils_js_1$a.loadFromFile)(ee)};if((0,tiny_invariant_1$9.default)(typeof ee=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,tiny_invariant_1$9.default)(isParameterObject(ee),"Invalid parameter object: need either .data, .range or .url"),"url"in ee&&typeof ee.url=="string"){if((0,utils_js_1$a.isDataURI)(ee.url)){const{url:it}=ee,Je=__rest$5(ee,["url"]),nt=(0,utils_js_1$a.dataURItoByteString)(it);return Object.assign({data:nt},Je)}(0,utils_js_1$a.displayCORSWarning)()}return ee}),[ee]);(0,react_1$k.useEffect)(()=>{const it=(0,make_cancellable_promise_1$6.default)(ne());return it.promise.then(Je=>{m({type:"RESOLVE",value:Je})}).catch(Je=>{m({type:"REJECT",error:Je})}),()=>{(0,utils_js_1$a.cancelRunningTask)(it)}},[ne,m]),(0,react_1$k.useEffect)(()=>{if(!(typeof _e>"u")){if(_e===!1){tt();return}Ke()}},[_e]);function fe(){ye&&(q&&q(ye),xe.current=new Array(ye.numPages),Le.current.setDocument(ye))}function b(){je&&((0,warning_1$7.default)(!1,je.toString()),re&&re(je))}function le(){Ee({type:"RESET"})}(0,react_1$k.useEffect)(le,[Ee,_e]);function ve(){if(!_e)return;const it=ae?Object.assign(Object.assign({},_e),ae):_e,Je=pdfjs_js_1$5.default.getDocument(it);be&&(Je.onProgress=be),se&&(Je.onPassword=se);const nt=Je;return nt.promise.then(ht=>{Ee({type:"RESOLVE",value:ht})}).catch(ht=>{nt.destroyed||Ee({type:"REJECT",error:ht})}),()=>{nt.destroy()}}(0,react_1$k.useEffect)(ve,[ae,Ee,_e]),(0,react_1$k.useEffect)(()=>{if(!(typeof ye>"u")){if(ye===!1){b();return}fe()}},[ye]);function Ae(){Le.current.setViewer(Fe.current),Le.current.setExternalLinkRel(h),Le.current.setExternalLinkTarget(_)}(0,react_1$k.useEffect)(Ae,[h,_]);function Ce(it,Je){xe.current[it]=Je}function Oe(it){delete xe.current[it]}const Ge=(0,react_1$k.useMemo)(()=>({imageResourcesPath:g,linkService:Le.current,onItemClick:te,pdf:ye,registerPage:Ce,renderMode:$,rotate:ie,unregisterPage:Oe}),[g,te,ye,$,ie]),qe=(0,react_1$k.useMemo)(()=>(0,make_event_props_1$2.default)(we,()=>ye),[we,ye]);function Ue(){return react_1$k.default.createElement(DocumentContext_js_1$1.default.Provider,{value:Ge},o)}function Ze(){return ee?ye==null?react_1$k.default.createElement(Message_js_1$1.default,{type:"loading"},typeof he=="function"?he():he):ye===!1?react_1$k.default.createElement(Message_js_1$1.default,{type:"error"},typeof d=="function"?d():d):Ue():react_1$k.default.createElement(Message_js_1$1.default,{type:"no-data"},typeof ge=="function"?ge():ge)}return react_1$k.default.createElement("div",Object.assign({className:(0,clsx_1$5.default)("react-pdf__Document",c),ref:f,style:{"--scale-factor":"1"}},qe),Ze())}),isFunctionOrNode$1=prop_types_1$2.default.oneOfType([prop_types_1$2.default.func,prop_types_1$2.default.node]);Document.propTypes=Object.assign(Object.assign({},propTypes_js_1$2.eventProps),{children:prop_types_1$2.default.node,className:propTypes_js_1$2.isClassName,error:isFunctionOrNode$1,externalLinkRel:prop_types_1$2.default.string,externalLinkTarget:prop_types_1$2.default.oneOf(["_self","_blank","_parent","_top"]),file:propTypes_js_1$2.isFile,imageResourcesPath:prop_types_1$2.default.string,inputRef:propTypes_js_1$2.isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:prop_types_1$2.default.func,onLoadError:prop_types_1$2.default.func,onLoadProgress:prop_types_1$2.default.func,onLoadSuccess:prop_types_1$2.default.func,onPassword:prop_types_1$2.default.func,onSourceError:prop_types_1$2.default.func,onSourceSuccess:prop_types_1$2.default.func,options:prop_types_1$2.default.shape({canvasFactory:prop_types_1$2.default.any,canvasMaxAreaInBytes:prop_types_1$2.default.number,cMapPacked:prop_types_1$2.default.bool,CMapReaderFactory:prop_types_1$2.default.any,cMapUrl:prop_types_1$2.default.string,disableAutoFetch:prop_types_1$2.default.bool,disableFontFace:prop_types_1$2.default.bool,disableRange:prop_types_1$2.default.bool,disableStream:prop_types_1$2.default.bool,docBaseUrl:prop_types_1$2.default.string,enableXfa:prop_types_1$2.default.bool,filterFactory:prop_types_1$2.default.any,fontExtraProperties:prop_types_1$2.default.bool,httpHeaders:prop_types_1$2.default.object,isEvalSupported:prop_types_1$2.default.bool,isOffscreenCanvasSupported:prop_types_1$2.default.bool,length:prop_types_1$2.default.number,maxImageSize:prop_types_1$2.default.number,ownerDocument:prop_types_1$2.default.any,password:prop_types_1$2.default.string,pdfBug:prop_types_1$2.default.bool,rangeChunkSize:prop_types_1$2.default.number,StandardFontDataFactory:prop_types_1$2.default.any,standardFontDataUrl:prop_types_1$2.default.string,stopAtErrors:prop_types_1$2.default.bool,useSystemFonts:prop_types_1$2.default.bool,useWorkerFetch:prop_types_1$2.default.bool,verbosity:prop_types_1$2.default.number,withCredentials:prop_types_1$2.default.bool,worker:prop_types_1$2.default.any}),rotate:prop_types_1$2.default.number});Document$1.default=Document;var Outline$1={},OutlineContext={};Object.defineProperty(OutlineContext,"__esModule",{value:!0});const react_1$j=reactExports;OutlineContext.default=(0,react_1$j.createContext)(null);var OutlineItem$1={},Ref$1={};Object.defineProperty(Ref$1,"__esModule",{value:!0});class Ref{constructor({num:i,gen:a}){this.num=i,this.gen=a}toString(){let i=`${this.num}R`;return this.gen!==0&&(i+=this.gen),i}}Ref$1.default=Ref;var useCachedValue$1={};Object.defineProperty(useCachedValue$1,"__esModule",{value:!0});const react_1$i=reactExports,utils_js_1$9=utils;function useCachedValue(e){const i=(0,react_1$i.useRef)(),a=i.current;return(0,utils_js_1$9.isDefined)(a)?()=>a:()=>{const o=e();return i.current=o,o}}useCachedValue$1.default=useCachedValue;var useDocumentContext$1={},__importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useDocumentContext$1,"__esModule",{value:!0});const react_1$h=reactExports,DocumentContext_js_1=__importDefault$l(DocumentContext);function useDocumentContext(){return(0,react_1$h.useContext)(DocumentContext_js_1.default)}useDocumentContext$1.default=useDocumentContext;var useOutlineContext$1={},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useOutlineContext$1,"__esModule",{value:!0});const react_1$g=reactExports,OutlineContext_js_1$1=__importDefault$k(OutlineContext);function useOutlineContext(){return(0,react_1$g.useContext)(OutlineContext_js_1$1.default)}useOutlineContext$1.default=useOutlineContext;var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,a,o){function c(d){return d instanceof a?d:new a(function(h){h(d)})}return new(a||(a=Promise))(function(d,h){function _(g){try{f(o.next(g))}catch(he){h(he)}}function ee(g){try{f(o.throw(g))}catch(he){h(he)}}function f(g){g.done?d(g.value):c(g.value).then(_,ee)}f((o=o.apply(e,i||[])).next())})},__rest$4=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OutlineItem$1,"__esModule",{value:!0});const react_1$f=__importDefault$j(reactExports),tiny_invariant_1$8=__importDefault$j(require$$2),Ref_js_1=__importDefault$j(Ref$1),useCachedValue_js_1=__importDefault$j(useCachedValue$1),useDocumentContext_js_1$5=__importDefault$j(useDocumentContext$1),useOutlineContext_js_1$1=__importDefault$j(useOutlineContext$1);function OutlineItem(e){const i=(0,useDocumentContext_js_1$5.default)(),a=(0,useOutlineContext_js_1$1.default)();(0,tiny_invariant_1$8.default)(a,"Unable to find Outline context.");const o=Object.assign(Object.assign(Object.assign({},i),a),e),{item:c,linkService:d,onItemClick:h,pdf:_}=o,ee=__rest$4(o,["item","linkService","onItemClick","pdf"]);(0,tiny_invariant_1$8.default)(_,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const f=(0,useCachedValue_js_1.default)(()=>typeof c.dest=="string"?_.getDestination(c.dest):c.dest),g=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){const re=yield f();if(!re)throw new Error("Destination not found.");const[be]=re;return _.getPageIndex(new Ref_js_1.default(be))})),he=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){return(yield g())+1}));function ge(re){re.preventDefault(),(0,tiny_invariant_1$8.default)(h||d,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),h?Promise.all([f(),g(),he()]).then(([be,q,se])=>{h({dest:be,pageIndex:q,pageNumber:se})}):d&&d.goToDestination(c.dest)}function te(){if(!c.items||!c.items.length)return null;const{items:re}=c;return react_1$f.default.createElement("ul",null,re.map((be,q)=>react_1$f.default.createElement(OutlineItem,Object.assign({key:typeof be.dest=="string"?be.dest:q,item:be,pdf:_},ee))))}return react_1$f.default.createElement("li",null,react_1$f.default.createElement("a",{href:"#",onClick:ge},c.title),te())}OutlineItem$1.default=OutlineItem;var __createBinding$i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$i=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$i(i,e,a);return __setModuleDefault$i(i,e),i},__rest$3=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Outline$1,"__esModule",{value:!0});const react_1$e=__importStar$i(reactExports),prop_types_1$1=__importDefault$i(propTypesExports),make_cancellable_promise_1$5=__importDefault$i(cjs$2),make_event_props_1$1=__importDefault$i(cjs$3),clsx_1$4=__importDefault$i(require$$1),tiny_invariant_1$7=__importDefault$i(require$$2),warning_1$6=__importDefault$i(warning_1$8),OutlineContext_js_1=__importDefault$i(OutlineContext),OutlineItem_js_1=__importDefault$i(OutlineItem$1),utils_js_1$8=utils,useDocumentContext_js_1$4=__importDefault$i(useDocumentContext$1),useResolver_js_1$5=__importDefault$i(useResolver$1),propTypes_js_1$1=propTypes,Outline=function e(i){const a=(0,useDocumentContext_js_1$4.default)(),o=Object.assign(Object.assign({},a),i),{className:c,inputRef:d,onItemClick:h,onLoadError:_,onLoadSuccess:ee,pdf:f}=o,g=__rest$3(o,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,tiny_invariant_1$7.default)(f,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[he,ge]=(0,useResolver_js_1$5.default)(),{value:te,error:re}=he;function be(){typeof te>"u"||te===!1||ee&&ee(te)}function q(){re&&((0,warning_1$6.default)(!1,re.toString()),_&&_(re))}function se(){ge({type:"RESET"})}(0,react_1$e.useEffect)(se,[ge,f]);function me(){if(!f)return;const ie=(0,make_cancellable_promise_1$5.default)(f.getOutline()),we=ie;return ie.promise.then(de=>{ge({type:"RESOLVE",value:de})}).catch(de=>{ge({type:"REJECT",error:de})}),()=>(0,utils_js_1$8.cancelRunningTask)(we)}(0,react_1$e.useEffect)(me,[ge,f]),(0,react_1$e.useEffect)(()=>{if(te!==void 0){if(te===!1){q();return}be()}},[te]);const ue=(0,react_1$e.useMemo)(()=>({onItemClick:h}),[h]),ae=(0,react_1$e.useMemo)(()=>(0,make_event_props_1$1.default)(g,()=>te),[g,te]);if(!te)return null;function $(){return te?react_1$e.default.createElement("ul",null,te.map((ie,we)=>react_1$e.default.createElement(OutlineItem_js_1.default,{key:typeof ie.dest=="string"?ie.dest:we,item:ie,pdf:f}))):null}return react_1$e.default.createElement("div",Object.assign({className:(0,clsx_1$4.default)("react-pdf__Outline",c),ref:d},ae),react_1$e.default.createElement(OutlineContext_js_1.default.Provider,{value:ue},$()))};Outline.propTypes=Object.assign(Object.assign({},propTypes_js_1$1.eventProps),{className:propTypes_js_1$1.isClassName,inputRef:propTypes_js_1$1.isRef,onItemClick:prop_types_1$1.default.func,onLoadError:prop_types_1$1.default.func,onLoadSuccess:prop_types_1$1.default.func,pdf:propTypes_js_1$1.isPdf});Outline$1.default=Outline;var Page$1={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=e.filter(Boolean);if(a.length<=1){var o=a[0];return o||null}return function(d){a.forEach(function(h){typeof h=="function"?h(d):h&&(h.current=d)})}}cjs$1.default=mergeRefs;var PageContext={};Object.defineProperty(PageContext,"__esModule",{value:!0});const react_1$d=reactExports;PageContext.default=(0,react_1$d.createContext)(null);var PageCanvas$1={},StructTree$1={},StructTreeItem$1={},structTreeUtils={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.HEADING_PATTERN=constants.PDF_ROLE_TO_HTML_ROLE=void 0;constants.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};constants.HEADING_PATTERN=/^H(\d+)$/;Object.defineProperty(structTreeUtils,"__esModule",{value:!0});structTreeUtils.getAttributes=structTreeUtils.getBaseAttributes=structTreeUtils.getRoleAttributes=structTreeUtils.isStructTreeNodeWithOnlyContentChild=structTreeUtils.isStructTreeNode=structTreeUtils.isPdfRole=void 0;const constants_js_1=constants;function isPdfRole(e){return e in constants_js_1.PDF_ROLE_TO_HTML_ROLE}structTreeUtils.isPdfRole=isPdfRole;function isStructTreeNode(e){return"children"in e}structTreeUtils.isStructTreeNode=isStructTreeNode;function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}structTreeUtils.isStructTreeNodeWithOnlyContentChild=isStructTreeNodeWithOnlyContentChild;function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:a}=e,o=a.match(constants_js_1.HEADING_PATTERN);if(o)i.role="heading",i["aria-level"]=Number(o[1]);else if(isPdfRole(a)){const c=constants_js_1.PDF_ROLE_TO_HTML_ROLE[a];c&&(i.role=c)}}return i}structTreeUtils.getRoleAttributes=getRoleAttributes;function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[a]=e.children;if(a){const o=getBaseAttributes(a);return Object.assign(Object.assign({},i),o)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}structTreeUtils.getBaseAttributes=getBaseAttributes;function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}structTreeUtils.getAttributes=getAttributes;var __createBinding$h=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$h=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$h=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$h(i,e,a);return __setModuleDefault$h(i,e),i};Object.defineProperty(StructTreeItem$1,"__esModule",{value:!0});const react_1$c=__importStar$h(reactExports),structTreeUtils_js_1=structTreeUtils;function StructTreeItem({className:e,node:i}){const a=(0,react_1$c.useMemo)(()=>(0,structTreeUtils_js_1.getAttributes)(i),[i]),o=(0,react_1$c.useMemo)(()=>!(0,structTreeUtils_js_1.isStructTreeNode)(i)||(0,structTreeUtils_js_1.isStructTreeNodeWithOnlyContentChild)(i)?null:i.children.map((c,d)=>react_1$c.default.createElement(StructTreeItem,{key:d,node:c})),[i]);return react_1$c.default.createElement("span",Object.assign({className:e},a),o)}StructTreeItem$1.default=StructTreeItem;var usePageContext$1={},__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(usePageContext$1,"__esModule",{value:!0});const react_1$b=reactExports,PageContext_js_1$1=__importDefault$h(PageContext);function usePageContext(){return(0,react_1$b.useContext)(PageContext_js_1$1.default)}usePageContext$1.default=usePageContext;var __createBinding$g=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$g=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$g=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$g(i,e,a);return __setModuleDefault$g(i,e),i},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(StructTree$1,"__esModule",{value:!0});const react_1$a=__importStar$g(reactExports),make_cancellable_promise_1$4=__importDefault$g(cjs$2),tiny_invariant_1$6=__importDefault$g(require$$2),warning_1$5=__importDefault$g(warning_1$8),StructTreeItem_js_1=__importDefault$g(StructTreeItem$1),usePageContext_js_1$5=__importDefault$g(usePageContext$1),useResolver_js_1$4=__importDefault$g(useResolver$1),utils_js_1$7=utils;function StructTree(){const e=(0,usePageContext_js_1$5.default)();(0,tiny_invariant_1$6.default)(e,"Unable to find Page context.");const{onGetStructTreeError:i,onGetStructTreeSuccess:a}=e,[o,c]=(0,useResolver_js_1$4.default)(),{value:d,error:h}=o,{customTextRenderer:_,page:ee}=e;function f(){d&&a&&a(d)}function g(){h&&((0,warning_1$5.default)(!1,h.toString()),i&&i(h))}function he(){c({type:"RESET"})}(0,react_1$a.useEffect)(he,[c,ee]);function ge(){if(_||!ee)return;const te=(0,make_cancellable_promise_1$4.default)(ee.getStructTree()),re=te;return te.promise.then(be=>{c({type:"RESOLVE",value:be})}).catch(be=>{c({type:"REJECT",error:be})}),()=>(0,utils_js_1$7.cancelRunningTask)(re)}return(0,react_1$a.useEffect)(ge,[_,ee,c]),(0,react_1$a.useEffect)(()=>{if(d!==void 0){if(d===!1){g();return}f()}},[d]),d?react_1$a.default.createElement(StructTreeItem_js_1.default,{className:"react-pdf__Page__structTree structTree",node:d}):null}StructTree$1.default=StructTree;var __createBinding$f=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$f=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$f=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$f(i,e,a);return __setModuleDefault$f(i,e),i},__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageCanvas$1,"__esModule",{value:!0});const react_1$9=__importStar$f(reactExports),merge_refs_1$1=__importDefault$f(cjs$1),tiny_invariant_1$5=__importDefault$f(require$$2),warning_1$4=__importDefault$f(warning_1$8),pdfjs_js_1$4=__importDefault$f(pdfjs$1),StructTree_js_1=__importDefault$f(StructTree$1),usePageContext_js_1$4=__importDefault$f(usePageContext$1),utils_js_1$6=utils,ANNOTATION_MODE=pdfjs_js_1$4.default.AnnotationMode;function PageCanvas(e){const i=(0,usePageContext_js_1$4.default)();(0,tiny_invariant_1$5.default)(i,"Unable to find Page context.");const a=Object.assign(Object.assign({},i),e),{_className:o,canvasBackground:c,devicePixelRatio:d=(0,utils_js_1$6.getDevicePixelRatio)(),onRenderError:h,onRenderSuccess:_,page:ee,renderForms:f,renderTextLayer:g,rotate:he,scale:ge}=a,{canvasRef:te}=e;(0,tiny_invariant_1$5.default)(ee,"Attempted to render page canvas, but no page was specified.");const re=(0,react_1$9.useRef)(null);function be(){ee&&_&&_((0,utils_js_1$6.makePageCallback)(ee,ge))}function q($){(0,utils_js_1$6.isCancelException)($)||((0,warning_1$4.default)(!1,$.toString()),h&&h($))}const se=(0,react_1$9.useMemo)(()=>ee.getViewport({scale:ge*d,rotation:he}),[d,ee,he,ge]),me=(0,react_1$9.useMemo)(()=>ee.getViewport({scale:ge,rotation:he}),[ee,he,ge]);function ue(){if(!ee)return;ee.cleanup();const{current:$}=re;if(!$)return;$.width=se.width,$.height=se.height,$.style.width=`${Math.floor(me.width)}px`,$.style.height=`${Math.floor(me.height)}px`,$.style.visibility="hidden";const ie={annotationMode:f?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:$.getContext("2d",{alpha:!1}),viewport:se};c&&(ie.background=c);const we=ee.render(ie),de=we;return we.promise.then(()=>{$.style.visibility="",be()}).catch(q),()=>(0,utils_js_1$6.cancelRunningTask)(de)}(0,react_1$9.useEffect)(ue,[c,re,d,ee,f,se,me]);const ae=(0,react_1$9.useCallback)(()=>{const{current:$}=re;$&&($.width=0,$.height=0)},[re]);return(0,react_1$9.useEffect)(()=>ae,[ae]),react_1$9.default.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:(0,merge_refs_1$1.default)(te,re),style:{display:"block",userSelect:"none"}},g?react_1$9.default.createElement(StructTree_js_1.default,null):null)}PageCanvas$1.default=PageCanvas;var PageSVG$1={},__createBinding$e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$e=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$e(i,e,a);return __setModuleDefault$e(i,e),i},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageSVG$1,"__esModule",{value:!0});const react_1$8=__importStar$e(reactExports),make_cancellable_promise_1$3=__importDefault$e(cjs$2),tiny_invariant_1$4=__importDefault$e(require$$2),warning_1$3=__importDefault$e(warning_1$8),pdfjs_js_1$3=__importDefault$e(pdfjs$1),usePageContext_js_1$3=__importDefault$e(usePageContext$1),useResolver_js_1$3=__importDefault$e(useResolver$1),utils_js_1$5=utils;function PageSVG(){const e=(0,usePageContext_js_1$3.default)();(0,tiny_invariant_1$4.default)(e,"Unable to find Page context.");const{_className:i,onRenderSuccess:a,onRenderError:o,page:c,rotate:d,scale:h}=e;(0,tiny_invariant_1$4.default)(c,"Attempted to render page SVG, but no page was specified.");const[_,ee]=(0,useResolver_js_1$3.default)(),{value:f,error:g}=_;function he(){c&&a&&a((0,utils_js_1$5.makePageCallback)(c,h))}function ge(){g&&((0,utils_js_1$5.isCancelException)(g)||((0,warning_1$3.default)(!1,g.toString()),o&&o(g)))}const te=(0,react_1$8.useMemo)(()=>c.getViewport({scale:h,rotation:d}),[c,d,h]);function re(){ee({type:"RESET"})}(0,react_1$8.useEffect)(re,[c,ee,te]);function be(){if(!c)return;const ue=(0,make_cancellable_promise_1$3.default)(c.getOperatorList());return ue.promise.then(ae=>{new pdfjs_js_1$3.default.SVGGraphics(c.commonObjs,c.objs).getSVG(ae,te).then(ie=>{if(!(ie instanceof SVGElement))throw new Error("getSVG returned unexpected result.");ee({type:"RESOLVE",value:ie})}).catch(ie=>{ee({type:"REJECT",error:ie})})}).catch(ae=>{ee({type:"REJECT",error:ae})}),()=>(0,utils_js_1$5.cancelRunningTask)(ue)}(0,react_1$8.useEffect)(be,[c,ee,te]),(0,react_1$8.useEffect)(()=>{if(f!==void 0){if(f===!1){ge();return}he()}},[f]);function q(ue){if(!ue||!f)return;ue.firstElementChild||ue.appendChild(f);const{width:ae,height:$}=te;f.setAttribute("width",`${ae}`),f.setAttribute("height",`${$}`)}const{width:se,height:me}=te;return react_1$8.default.createElement("div",{className:`${i}__svg`,ref:ue=>q(ue),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:se,height:me,userSelect:"none"}})}PageSVG$1.default=PageSVG;var TextLayer$1={},__createBinding$d=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$d=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$d(i,e,a);return __setModuleDefault$d(i,e),i},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextLayer$1,"__esModule",{value:!0});const react_1$7=__importStar$d(reactExports),make_cancellable_promise_1$2=__importDefault$d(cjs$2),clsx_1$3=__importDefault$d(require$$1),tiny_invariant_1$3=__importDefault$d(require$$2),warning_1$2=__importDefault$d(warning_1$8),pdfjs_js_1$2=__importDefault$d(pdfjs$1),usePageContext_js_1$2=__importDefault$d(usePageContext$1),useResolver_js_1$2=__importDefault$d(useResolver$1),utils_js_1$4=utils;function isTextItem(e){return"str"in e}function TextLayer(){const e=(0,usePageContext_js_1$2.default)();(0,tiny_invariant_1$3.default)(e,"Unable to find Page context.");const{customTextRenderer:i,onGetTextError:a,onGetTextSuccess:o,onRenderTextLayerError:c,onRenderTextLayerSuccess:d,page:h,pageIndex:_,pageNumber:ee,rotate:f,scale:g}=e;(0,tiny_invariant_1$3.default)(h,"Attempted to load page text content, but no page was specified.");const[he,ge]=(0,useResolver_js_1$2.default)(),{value:te,error:re}=he,be=(0,react_1$7.useRef)(null),q=(0,react_1$7.useRef)();(0,warning_1$2.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function se(){te&&o&&o(te)}function me(){re&&((0,warning_1$2.default)(!1,re.toString()),a&&a(re))}function ue(){ge({type:"RESET"})}(0,react_1$7.useEffect)(ue,[h,ge]);function ae(){if(!h)return;const oe=(0,make_cancellable_promise_1$2.default)(h.getTextContent()),Se=oe;return oe.promise.then(Ee=>{ge({type:"RESOLVE",value:Ee})}).catch(Ee=>{ge({type:"REJECT",error:Ee})}),()=>(0,utils_js_1$4.cancelRunningTask)(Se)}(0,react_1$7.useEffect)(ae,[h,ge]),(0,react_1$7.useEffect)(()=>{if(te!==void 0){if(te===!1){me();return}se()}},[te]);const $=(0,react_1$7.useCallback)(()=>{d&&d()},[d]),ie=(0,react_1$7.useCallback)(oe=>{(0,warning_1$2.default)(!1,oe.toString()),c&&c(oe)},[c]);function we(){const oe=q.current;oe&&oe.classList.add("active")}function de(){const oe=q.current;oe&&oe.classList.remove("active")}const m=(0,react_1$7.useMemo)(()=>h.getViewport({scale:g,rotation:f}),[h,f,g]);function _e(){if(!h||!te)return;const{current:oe}=be;if(!oe)return;oe.innerHTML="";const Se=h.streamTextContent({includeMarkedContent:!0}),Ee={container:oe,textContentSource:Se,viewport:m},ye=pdfjs_js_1$2.default.renderTextLayer(Ee),je=ye;return ye.promise.then(()=>{const Le=document.createElement("div");Le.className="endOfContent",oe.append(Le),q.current=Le;const xe=oe.querySelectorAll('[role="presentation"]');if(i){let Te=0;te.items.forEach((Re,Fe)=>{if(!isTextItem(Re))return;const Ke=xe[Te];if(!Ke)return;const tt=i(Object.assign({pageIndex:_,pageNumber:ee,itemIndex:Fe},Re));Ke.innerHTML=tt,Te+=Re.str&&Re.hasEOL?2:1})}$()}).catch(ie),()=>(0,utils_js_1$4.cancelRunningTask)(je)}return(0,react_1$7.useLayoutEffect)(_e,[i,ie,$,h,_,ee,te,m]),react_1$7.default.createElement("div",{className:(0,clsx_1$3.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:de,onMouseDown:we,ref:be})}TextLayer$1.default=TextLayer;var AnnotationLayer$1={},__createBinding$c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$c=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$c(i,e,a);return __setModuleDefault$c(i,e),i},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AnnotationLayer$1,"__esModule",{value:!0});const react_1$6=__importStar$c(reactExports),make_cancellable_promise_1$1=__importDefault$c(cjs$2),clsx_1$2=__importDefault$c(require$$1),tiny_invariant_1$2=__importDefault$c(require$$2),warning_1$1=__importDefault$c(warning_1$8),pdfjs_js_1$1=__importDefault$c(pdfjs$1),useDocumentContext_js_1$3=__importDefault$c(useDocumentContext$1),usePageContext_js_1$1=__importDefault$c(usePageContext$1),useResolver_js_1$1=__importDefault$c(useResolver$1),utils_js_1$3=utils;function AnnotationLayer(){const e=(0,useDocumentContext_js_1$3.default)(),i=(0,usePageContext_js_1$1.default)();(0,tiny_invariant_1$2.default)(i,"Unable to find Page context.");const a=Object.assign(Object.assign({},e),i),{imageResourcesPath:o,linkService:c,onGetAnnotationsError:d,onGetAnnotationsSuccess:h,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:ee,page:f,pdf:g,renderForms:he,rotate:ge,scale:te=1}=a;(0,tiny_invariant_1$2.default)(g,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,tiny_invariant_1$2.default)(f,"Attempted to load page annotations, but no page was specified."),(0,tiny_invariant_1$2.default)(c,"Attempted to load page annotations, but no linkService was specified.");const[re,be]=(0,useResolver_js_1$1.default)(),{value:q,error:se}=re,me=(0,react_1$6.useRef)(null);(0,warning_1$1.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ue(){q&&h&&h(q)}function ae(){se&&((0,warning_1$1.default)(!1,se.toString()),d&&d(se))}function $(){be({type:"RESET"})}(0,react_1$6.useEffect)($,[be,f]);function ie(){if(!f)return;const oe=(0,make_cancellable_promise_1$1.default)(f.getAnnotations()),Se=oe;return oe.promise.then(Ee=>{be({type:"RESOLVE",value:Ee})}).catch(Ee=>{be({type:"REJECT",error:Ee})}),()=>{(0,utils_js_1$3.cancelRunningTask)(Se)}}(0,react_1$6.useEffect)(ie,[be,f,he]),(0,react_1$6.useEffect)(()=>{if(q!==void 0){if(q===!1){ae();return}ue()}},[q]);function we(){ee&&ee()}function de(oe){(0,warning_1$1.default)(!1,`${oe}`),_&&_(oe)}const m=(0,react_1$6.useMemo)(()=>f.getViewport({scale:te,rotation:ge}),[f,ge,te]);function _e(){if(!g||!f||!c||!q)return;const{current:oe}=me;if(!oe)return;const Se=m.clone({dontFlip:!0}),Ee={accessibilityManager:null,annotationCanvasMap:null,div:oe,l10n:null,page:f,viewport:Se},ye={annotations:q,annotationStorage:g.annotationStorage,div:oe,downloadManager:null,imageResourcesPath:o,linkService:c,page:f,renderForms:he,viewport:Se};oe.innerHTML="";try{new pdfjs_js_1$1.default.AnnotationLayer(Ee).render(ye),we()}catch(je){de(je)}return()=>{}}return(0,react_1$6.useEffect)(_e,[q,o,c,f,he,m]),react_1$6.default.createElement("div",{className:(0,clsx_1$2.default)("react-pdf__Page__annotations","annotationLayer"),ref:me})}AnnotationLayer$1.default=AnnotationLayer;var __createBinding$b=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$b=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$b=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$b(i,e,a);return __setModuleDefault$b(i,e),i},__rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Page$1,"__esModule",{value:!0});const react_1$5=__importStar$b(reactExports),prop_types_1=__importDefault$b(propTypesExports),make_cancellable_promise_1=__importDefault$b(cjs$2),make_event_props_1=__importDefault$b(cjs$3),clsx_1$1=__importDefault$b(require$$1),merge_refs_1=__importDefault$b(cjs$1),tiny_invariant_1$1=__importDefault$b(require$$2),warning_1=__importDefault$b(warning_1$8),PageContext_js_1=__importDefault$b(PageContext),Message_js_1=__importDefault$b(Message$1),PageCanvas_js_1=__importDefault$b(PageCanvas$1),PageSVG_js_1=__importDefault$b(PageSVG$1),TextLayer_js_1=__importDefault$b(TextLayer$1),AnnotationLayer_js_1=__importDefault$b(AnnotationLayer$1),utils_js_1$2=utils,useDocumentContext_js_1$2=__importDefault$b(useDocumentContext$1),useResolver_js_1=__importDefault$b(useResolver$1),propTypes_js_1=propTypes,defaultScale=1,Page=function e(i){const a=(0,useDocumentContext_js_1$2.default)(),o=Object.assign(Object.assign({},a),i),{_className:c="react-pdf__Page",_enableRegisterUnregisterPage:d=!0,canvasBackground:h,canvasRef:_,children:ee,className:f,customRenderer:g,customTextRenderer:he,devicePixelRatio:ge,error:te="Failed to load the page.",height:re,inputRef:be,loading:q="Loading page",noData:se="No page specified.",onGetAnnotationsError:me,onGetAnnotationsSuccess:ue,onGetStructTreeError:ae,onGetStructTreeSuccess:$,onGetTextError:ie,onGetTextSuccess:we,onLoadError:de,onLoadSuccess:m,onRenderAnnotationLayerError:_e,onRenderAnnotationLayerSuccess:oe,onRenderError:Se,onRenderSuccess:Ee,onRenderTextLayerError:ye,onRenderTextLayerSuccess:je,pageIndex:Le,pageNumber:xe,pdf:Te,registerPage:Re,renderAnnotationLayer:Fe=!0,renderForms:Ke=!1,renderMode:tt="canvas",renderTextLayer:Pe=!0,rotate:ne,scale:fe=defaultScale,unregisterPage:b,width:le}=o,ve=__rest$2(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ae,Ce]=(0,useResolver_js_1.default)(),{value:Oe,error:Ge}=Ae,qe=(0,react_1$5.useRef)(null);(0,tiny_invariant_1$1.default)(Te,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Ue=(0,utils_js_1$2.isProvided)(xe)?xe-1:Le??null,Ze=xe??((0,utils_js_1$2.isProvided)(Le)?Le+1:null),it=ne??(Oe?Oe.rotate:null),Je=(0,react_1$5.useMemo)(()=>{if(!Oe)return null;let Ct=1;const $t=fe??defaultScale;if(le||re){const Rt=Oe.getViewport({scale:1,rotation:it});le?Ct=le/Rt.width:re&&(Ct=re/Rt.height)}return $t*Ct},[re,Oe,it,fe,le]);function nt(){return()=>{(0,utils_js_1$2.isProvided)(Ue)&&d&&b&&b(Ue)}}(0,react_1$5.useEffect)(nt,[d,Te,Ue,b]);function ht(){if(m){if(!Oe||!Je)return;m((0,utils_js_1$2.makePageCallback)(Oe,Je))}if(d&&Re){if(!(0,utils_js_1$2.isProvided)(Ue)||!qe.current)return;Re(Ue,qe.current)}}function ot(){Ge&&((0,warning_1.default)(!1,Ge.toString()),de&&de(Ge))}function mt(){Ce({type:"RESET"})}(0,react_1$5.useEffect)(mt,[Ce,Te,Ue]);function st(){if(!Te||!Ze)return;const Ct=(0,make_cancellable_promise_1.default)(Te.getPage(Ze)),$t=Ct;return Ct.promise.then(Rt=>{Ce({type:"RESOLVE",value:Rt})}).catch(Rt=>{Ce({type:"REJECT",error:Rt})}),()=>(0,utils_js_1$2.cancelRunningTask)($t)}(0,react_1$5.useEffect)(st,[Ce,Te,Ue,Ze,Re]),(0,react_1$5.useEffect)(()=>{if(Oe!==void 0){if(Oe===!1){ot();return}ht()}},[Oe,Je]);const Ve=(0,react_1$5.useMemo)(()=>Oe&&(0,utils_js_1$2.isProvided)(Ue)&&Ze&&(0,utils_js_1$2.isProvided)(it)&&(0,utils_js_1$2.isProvided)(Je)?{_className:c,canvasBackground:h,customTextRenderer:he,devicePixelRatio:ge,onGetAnnotationsError:me,onGetAnnotationsSuccess:ue,onGetStructTreeError:ae,onGetStructTreeSuccess:$,onGetTextError:ie,onGetTextSuccess:we,onRenderAnnotationLayerError:_e,onRenderAnnotationLayerSuccess:oe,onRenderError:Se,onRenderSuccess:Ee,onRenderTextLayerError:ye,onRenderTextLayerSuccess:je,page:Oe,pageIndex:Ue,pageNumber:Ze,renderForms:Ke,renderTextLayer:Pe,rotate:it,scale:Je}:null,[c,h,he,ge,me,ue,ae,$,ie,we,_e,oe,Se,Ee,ye,je,Oe,Ue,Ze,Ke,Pe,it,Je]),We=(0,react_1$5.useMemo)(()=>(0,make_event_props_1.default)(ve,()=>Oe&&(Je?(0,utils_js_1$2.makePageCallback)(Oe,Je):void 0)),[ve,Oe,Je]),He=`${Ue}@${Je}/${it}`,at=`${Ue}/${it}`;function ft(){switch(tt){case"custom":return(0,tiny_invariant_1$1.default)(g,'renderMode was set to "custom", but no customRenderer was passed.'),react_1$5.default.createElement(g,{key:`${He}_custom`});case"none":return null;case"svg":return react_1$5.default.createElement(PageSVG_js_1.default,{key:`${at}_svg`});case"canvas":default:return react_1$5.default.createElement(PageCanvas_js_1.default,{key:`${He}_canvas`,canvasRef:_})}}function Pt(){return Pe?react_1$5.default.createElement(TextLayer_js_1.default,{key:`${He}_text`}):null}function Tt(){return Fe?react_1$5.default.createElement(AnnotationLayer_js_1.default,{key:`${He}_annotations`}):null}function Et(){return react_1$5.default.createElement(PageContext_js_1.default.Provider,{value:Ve},ft(),Pt(),Tt(),ee)}function jt(){return Ze?Te===null||Oe===void 0||Oe===null?react_1$5.default.createElement(Message_js_1.default,{type:"loading"},typeof q=="function"?q():q):Te===!1||Oe===!1?react_1$5.default.createElement(Message_js_1.default,{type:"error"},typeof te=="function"?te():te):Et():react_1$5.default.createElement(Message_js_1.default,{type:"no-data"},typeof se=="function"?se():se)}return react_1$5.default.createElement("div",Object.assign({className:(0,clsx_1$1.default)(c,f),"data-page-number":Ze,ref:(0,merge_refs_1.default)(be,qe),style:{"--scale-factor":`${Je}`,backgroundColor:h||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},We),jt())},isFunctionOrNode=prop_types_1.default.oneOfType([prop_types_1.default.func,prop_types_1.default.node]);Page.propTypes=Object.assign(Object.assign({},propTypes_js_1.eventProps),{canvasBackground:prop_types_1.default.string,canvasRef:propTypes_js_1.isRef,children:prop_types_1.default.node,className:propTypes_js_1.isClassName,customRenderer:prop_types_1.default.func,customTextRenderer:prop_types_1.default.func,devicePixelRatio:prop_types_1.default.number,error:isFunctionOrNode,height:prop_types_1.default.number,imageResourcesPath:prop_types_1.default.string,inputRef:propTypes_js_1.isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:prop_types_1.default.func,onGetTextSuccess:prop_types_1.default.func,onLoadError:prop_types_1.default.func,onLoadSuccess:prop_types_1.default.func,onRenderError:prop_types_1.default.func,onRenderSuccess:prop_types_1.default.func,onRenderTextLayerError:prop_types_1.default.func,onRenderTextLayerSuccess:prop_types_1.default.func,pageIndex:propTypes_js_1.isPageIndex,pageNumber:propTypes_js_1.isPageNumber,pdf:propTypes_js_1.isPdf,renderAnnotationLayer:prop_types_1.default.bool,renderForms:prop_types_1.default.bool,renderMode:propTypes_js_1.isRenderMode,renderTextLayer:prop_types_1.default.bool,rotate:propTypes_js_1.isRotate,scale:prop_types_1.default.number,width:prop_types_1.default.number});Page$1.default=Page;var Thumbnail$1={},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Thumbnail$1,"__esModule",{value:!0});const react_1$4=__importDefault$a(reactExports),clsx_1=__importDefault$a(require$$1),tiny_invariant_1=__importDefault$a(require$$2),Page_js_1$1=__importDefault$a(Page$1),utils_js_1$1=utils,useDocumentContext_js_1$1=__importDefault$a(useDocumentContext$1),Thumbnail=function e(i){const a=(0,useDocumentContext_js_1$1.default)(),o=Object.assign(Object.assign({},a),i),{className:c,linkService:d,onItemClick:h,pageIndex:_,pageNumber:ee,pdf:f}=o;(0,tiny_invariant_1.default)(f,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const g=(0,utils_js_1$1.isProvided)(ee)?ee-1:_??null,he=ee??((0,utils_js_1$1.isProvided)(_)?_+1:null);function ge(re){re.preventDefault(),!(!(0,utils_js_1$1.isProvided)(g)||!he)&&((0,tiny_invariant_1.default)(h||d,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),h?h({pageIndex:g,pageNumber:he}):d&&d.goToPage(he))}const te=__rest$1(i,["className","onItemClick"]);return react_1$4.default.createElement("a",{className:(0,clsx_1.default)("react-pdf__Thumbnail",c),href:he?"#":void 0,onClick:ge},react_1$4.default.createElement(Page_js_1$1.default,Object.assign({},te,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1})))};Thumbnail$1.default=Thumbnail;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$4,"__esModule",{value:!0});cjs$4.PasswordResponses=cjs$4.usePageContext=cjs$4.useOutlineContext=cjs$4.useDocumentContext=cjs$4.Thumbnail=cjs$4.Page=cjs$4.Outline=cjs$4.Document=cjs$4.pdfjs=void 0;const pdfjs_js_1=__importDefault$9(pdfjs$1);cjs$4.pdfjs=pdfjs_js_1.default;const Document_js_1=__importDefault$9(Document$1);cjs$4.Document=Document_js_1.default;const Outline_js_1=__importDefault$9(Outline$1);cjs$4.Outline=Outline_js_1.default;const Page_js_1=__importDefault$9(Page$1);cjs$4.Page=Page_js_1.default;const Thumbnail_js_1=__importDefault$9(Thumbnail$1);cjs$4.Thumbnail=Thumbnail_js_1.default;const useDocumentContext_js_1=__importDefault$9(useDocumentContext$1);cjs$4.useDocumentContext=useDocumentContext_js_1.default;const useOutlineContext_js_1=__importDefault$9(useOutlineContext$1);cjs$4.useOutlineContext=useOutlineContext_js_1.default;const usePageContext_js_1=__importDefault$9(usePageContext$1);cjs$4.usePageContext=usePageContext_js_1.default;const PasswordResponses_js_1=__importDefault$9(PasswordResponses$1);cjs$4.PasswordResponses=PasswordResponses_js_1.default;const utils_js_1=utils;(0,utils_js_1.displayWorkerWarning)();pdfjs_js_1.default.GlobalWorkerOptions.workerSrc="pdf.worker.js";(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(q,se){return Object.defineProperty?Object.defineProperty(q,"raw",{value:se}):q.raw=se,q},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(q){for(var se,me=1,ue=arguments.length;me<ue;me++){se=arguments[me];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(q[ae]=se[ae])}return q},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(q,se,me,ue){ue===void 0&&(ue=me);var ae=Object.getOwnPropertyDescriptor(se,me);(!ae||("get"in ae?!se.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return se[me]}}),Object.defineProperty(q,ue,ae)}:function(q,se,me,ue){ue===void 0&&(ue=me),q[ue]=se[me]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(q,se){Object.defineProperty(q,"default",{enumerable:!0,value:se})}:function(q,se){q.default=se}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(q){if(q&&q.__esModule)return q;var se={};if(q!=null)for(var me in q)me!=="default"&&Object.prototype.hasOwnProperty.call(q,me)&&o(se,q,me);return c(se,q),se};Object.defineProperty(e,"__esModule",{value:!0}),e.PdfPlayer=void 0;var h=jsxRuntimeExports,_=d(reactExports),ee=d(require$$6$1),f=cjs$4,g=requireLib(),he=require$$3,ge=(0,ee.default)("div")(re||(re=i([`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`],[`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`]))),te=function(q){var se=q.url,me=q.onLoad,ue=q.onTopicEnd,ae=q.documentConfig,$=ae===void 0?{}:ae,ie=q.pageConfig,we=ie===void 0?{}:ie,de=q.className,m=de===void 0?"":de,_e=_.useState(null),oe=_e[0],Se=_e[1],Ee=_.useState(1),ye=Ee[0],je=Ee[1],Le=_.useState(!1),xe=Le[0],Te=Le[1],Re=_.useState(!1),Fe=Re[0],Ke=Re[1],tt=(0,he.useTranslation)().t,Pe=function(){ue&&oe&&!(oe>ye+1)&&(Ke(!0),ue()),je(ye+1)},ne=function(){je(ye-1),Fe&&Ke(!1)};return _.useEffect(function(){return f.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(f.pdfjs.version,"/pdf.worker.js"),Te(!0),function(){return Te(!1)}},[]),_.useEffect(function(){ye===oe&&me&&me()},[oe,ye]),se?(0,h.jsxs)(ge,a({className:"wellms-component ".concat(m)},{children:[xe&&se&&(0,h.jsx)(f.Document,a({loading:tt("Loading"),onLoadSuccess:function(fe){var b=fe.numPages;return Se(b)},file:se},$,{children:(0,h.jsx)(f.Page,a({pageNumber:ye,renderAnnotationLayer:!1},we))})),oe&&oe>1&&(0,h.jsxs)("div",a({className:"pagination-area"},{children:[(0,h.jsxs)(g.Text,{children:[(0,h.jsx)("strong",{children:ye})," ",tt("PdfPlayer.of")," ",(0,h.jsx)("strong",{children:oe})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)(g.Button,a({mode:"secondary",disabled:!(ye>1),className:"nav-btn-modal",onClick:ne},{children:tt("Prev")})),(0,h.jsx)(g.Button,a({style:{marginLeft:"10px"},mode:"secondary",disabled:ue?Fe:!(oe>ye),className:"nav-btn-modal",onClick:Pe},{children:tt("Next")}))]})]}))]})):(0,h.jsx)("p",{children:tt("PdfPlayer.notFound")})};e.PdfPlayer=te,e.default=(0,ee.withTheme)((0,ee.default)(e.PdfPlayer)(be||(be=i([""],[""]))));var re,be})(PdfPlayer);var ImagePlayer={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(me,ue){return Object.defineProperty?Object.defineProperty(me,"raw",{value:ue}):me.raw=ue,me},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(me){for(var ue,ae=1,$=arguments.length;ae<$;ae++){ue=arguments[ae];for(var ie in ue)Object.prototype.hasOwnProperty.call(ue,ie)&&(me[ie]=ue[ie])}return me},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(me,ue,ae,$){$===void 0&&($=ae);var ie=Object.getOwnPropertyDescriptor(ue,ae);(!ie||("get"in ie?!ue.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return ue[ae]}}),Object.defineProperty(me,$,ie)}:function(me,ue,ae,$){$===void 0&&($=ae),me[$]=ue[ae]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(me,ue){Object.defineProperty(me,"default",{enumerable:!0,value:ue})}:function(me,ue){me.default=ue}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(me){if(me&&me.__esModule)return me;var ue={};if(me!=null)for(var ae in me)ae!=="default"&&Object.prototype.hasOwnProperty.call(me,ae)&&o(ue,me,ae);return c(ue,me),ue};Object.defineProperty(e,"__esModule",{value:!0}),e.ImagePlayer=void 0;var h=jsxRuntimeExports,_=reactExports,ee=require$$2$2,f=d(require$$6$1),g=utils$3,he=ResponsiveImage,ge=(0,f.default)("div")(be||(be=i([`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`],[`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`]))),te=(0,f.createGlobalStyle)(q||(q=i([`
`,`
`],[`
`,`
`])),g.SharedLightboxStyle),re=function(me){var ue=me.topic,ae=me.onLoad,$=me.className,ie=$===void 0?"":$,we=(0,_.useState)(""),de=we[0],m=we[1];return(0,_.useEffect)(function(){ae()},[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(ee.Gallery,a({options:{arrowPrev:!1,arrowNext:!1,imageClickAction:"zoom",initialZoomLevel:"fit",secondaryZoomLevel:2,maxZoomLevel:3}},{children:[(0,h.jsx)(te,{}),(0,h.jsx)(ge,a({className:"wellms-component ".concat(ie)},{children:(0,h.jsx)(ee.Item,a({original:de,width:ue.topicable.width,height:ue.topicable.height,alt:"LMS Image ".concat(ue.topicable.id)},{children:function(_e){var oe=_e.ref,Se=_e.open;return(0,h.jsx)(he.ResponsiveImage,{path:ue.topicable.value,onClick:Se,onLoad:function(Ee){return m(Ee.currentTarget.currentSrc)},ref:oe,srcSizes:[500,750,1e3]})}}))}))]}))})};e.ImagePlayer=re,e.default=(0,f.withTheme)((0,f.default)(e.ImagePlayer)(se||(se=i([""],[""]))));var be,q,se})(ImagePlayer);var H5Player={},lib={},context={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(f){for(var g,he=1,ge=arguments.length;he<ge;he++){g=arguments[he];for(var te in g)Object.prototype.hasOwnProperty.call(g,te)&&(f[te]=g[te])}return f},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,g,he,ge){ge===void 0&&(ge=he);var te=Object.getOwnPropertyDescriptor(g,he);(!te||("get"in te?!g.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return g[he]}}),Object.defineProperty(f,ge,te)}:function(f,g,he,ge){ge===void 0&&(ge=he),f[ge]=g[he]}),o=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var he in f)he!=="default"&&Object.prototype.hasOwnProperty.call(f,he)&&a(g,f,he);return o(g,f),g};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextProvider=e.EditorContext=void 0;var d=jsxRuntimeExports,h=c(reactExports),_={url:"http://localhost:1000/api/hh5p/",state:{value:"initial"}};e.EditorContext=h.default.createContext(_);var ee=function(f){var g=f.children,he=f.url,ge=f.defaultLang,te=ge===void 0?"en":ge,re=(0,h.useState)({value:"initial"}),be=re[0],q=re[1],se=(0,h.useState)(te),me=se[0],ue=se[1],ae=(0,h.useState)(new Headers({"Content-Type":"application/json",Accept:"application/json"})),$=ae[0],ie=ae[1],we=(0,h.useCallback)(function(oe){var Se=oe?"".concat(he,"/editor/").concat(oe):"".concat(he,"/editor");return Se=me?"".concat(Se,"?lang=").concat(me):Se,fetch(Se,{headers:$}).then(function(Ee){if(!Ee.ok)throw Error("response error status ".concat(Ee.status));return Ee.json()}).then(function(Ee){return q(function(ye){return i(i({},ye),{value:"loaded",settings:Ee.data})}),Ee}).catch(function(Ee){q(function(ye){return i(i({},ye),{value:"error",error:Ee.toString()})})})},[he,$,me]),de=(0,h.useCallback)(function(oe){oe&&q(function(Se){return i(i({},Se),{value:"loaded",settings:oe})})},[he,$]),m=(0,h.useCallback)(function(oe){return fetch(oe?"".concat(he,"/content/").concat(oe):"".concat(he,"/content"),{headers:$}).then(function(Se){if(!Se.ok)throw Error("response error status ".concat(Se.status));return Se.json()}).then(function(Se){return q(function(Ee){return i(i({},Ee),{value:"loaded",settings:Se.data})}),Se}).catch(function(Se){q(function(Ee){return i(i({},Ee),{value:"error",error:Se.toString()})})})},[he,$]),_e=(0,h.useCallback)(function(oe,Se){return fetch(Se?"".concat(he,"/content/").concat(Se):"".concat(he,"/content"),{method:"POST",body:JSON.stringify(oe),headers:$}).then(function(Ee){if(!Ee.ok)throw Error("response error status ".concat(Ee.status));return Ee.json()}).then(function(Ee){return Ee}).catch(function(Ee){q(function(ye){return i(i({},ye),{value:"error",error:Ee.toString()})})})},[he,$]);return(0,d.jsx)(e.EditorContext.Provider,i({value:{url:he,state:be,getEditorConfig:we,getContentConfig:m,submitContent:_e,seth5pObject:de,setLang:ue,setHeaders:ie}},{children:g}))};e.EditorContextProvider=ee})(context);var editor$1={},server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports;function l$2(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p$1=Object.prototype.hasOwnProperty,fa$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha$1={},ia$1={};function ja$1(e){return p$1.call(ia$1,e)?!0:p$1.call(ha$1,e)?!1:fa$1.test(e)?ia$1[e]=!0:(ha$1[e]=!0,!1)}function r(e,i,a,o,c,d,h){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=d,this.removeEmptyString=h}var t$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){t$1[e]=new r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];t$1[i]=new r(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){t$1[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){t$1[e]=new r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){t$1[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){t$1[e]=new r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){t$1[e]=new r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){t$1[e]=new r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){t$1[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)});var ka$1=/[\-:]([a-z])/g;function la$1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)});t$1.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)});var u$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma=["Webkit","ms","Moz","O"];Object.keys(u$1).forEach(function(e){ma.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),u$1[i]=u$1[e]})});var na=/["'&<>]/;function v(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=na.exec(e);if(i){var a="",o,c=0;for(o=i.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==o&&(a+=e.substring(c,o)),c=o+1,a+=i}e=c!==o?a+e.substring(c,o):a}return e}var oa$1=/([A-Z])/g,pa$1=/^ms-/,qa$1=Array.isArray;function w$1(e,i){return{insertionMode:e,selectedValue:i}}function ra$1(e,i,a){switch(i){case"select":return w$1(1,a.value!=null?a.value:a.defaultValue);case"svg":return w$1(2,null);case"math":return w$1(3,null);case"foreignObject":return w$1(1,null);case"table":return w$1(4,null);case"thead":case"tbody":case"tfoot":return w$1(5,null);case"colgroup":return w$1(7,null);case"tr":return w$1(6,null)}return 4<=e.insertionMode||e.insertionMode===0?w$1(1,null):e}var sa$1=new Map;function ta$1(e,i,a){if(typeof a!="object")throw Error(l$2(62));i=!0;for(var o in a)if(p$1.call(a,o)){var c=a[o];if(c!=null&&typeof c!="boolean"&&c!==""){if(o.indexOf("--")===0){var d=v(o);c=v((""+c).trim())}else{d=o;var h=sa$1.get(d);h!==void 0||(h=v(d.replace(oa$1,"-$1").toLowerCase().replace(pa$1,"-ms-")),sa$1.set(d,h)),d=h,c=typeof c=="number"?c===0||p$1.call(u$1,o)?""+c:c+"px":v((""+c).trim())}i?(i=!1,e.push(' style="',d,":",c)):e.push(";",d,":",c)}}i||e.push('"')}function x$1(e,i,a,o){switch(a){case"style":ta$1(e,i,o);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N"){if(i=t$1.hasOwnProperty(a)?t$1[a]:null,i!==null){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(a=i.attributeName,i.type){case 3:o&&e.push(" ",a,'=""');break;case 4:o===!0?e.push(" ",a,'=""'):o!==!1&&e.push(" ",a,'="',v(o),'"');break;case 5:isNaN(o)||e.push(" ",a,'="',v(o),'"');break;case 6:!isNaN(o)&&1<=o&&e.push(" ",a,'="',v(o),'"');break;default:i.sanitizeURL&&(o=""+o),e.push(" ",a,'="',v(o),'"')}}else if(ja$1(a)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(i=a.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(" ",a,'="',v(o),'"')}}}function y$1(e,i,a){if(i!=null){if(a!=null)throw Error(l$2(60));if(typeof i!="object"||!("__html"in i))throw Error(l$2(61));i=i.__html,i!=null&&e.push(""+i)}}function ua$1(e){var i="";return aa$1.Children.forEach(e,function(a){a!=null&&(i+=a)}),i}function va$1(e,i,a,o){e.push(A(a));var c=a=null,d;for(d in i)if(p$1.call(i,d)){var h=i[d];if(h!=null)switch(d){case"children":a=h;break;case"dangerouslySetInnerHTML":c=h;break;default:x$1(e,o,d,h)}}return e.push(">"),y$1(e,c,a),typeof a=="string"?(e.push(v(a)),null):a}var wa$1=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xa$1=new Map;function A(e){var i=xa$1.get(e);if(i===void 0){if(!wa$1.test(e))throw Error(l$2(65,e));i="<"+e,xa$1.set(e,i)}return i}function ya$1(e,i,a,o,c){switch(i){case"select":e.push(A("select"));var d=null,h=null;for(g in a)if(p$1.call(a,g)){var _=a[g];if(_!=null)switch(g){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"defaultValue":case"value":break;default:x$1(e,o,g,_)}}return e.push(">"),y$1(e,h,d),d;case"option":h=c.selectedValue,e.push(A("option"));var ee=_=null,f=null,g=null;for(d in a)if(p$1.call(a,d)){var he=a[d];if(he!=null)switch(d){case"children":_=he;break;case"selected":f=he;break;case"dangerouslySetInnerHTML":g=he;break;case"value":ee=he;default:x$1(e,o,d,he)}}if(h!=null)if(a=ee!==null?""+ee:ua$1(_),qa$1(h)){for(o=0;o<h.length;o++)if(""+h[o]===a){e.push(' selected=""');break}}else""+h===a&&e.push(' selected=""');else f&&e.push(' selected=""');return e.push(">"),y$1(e,g,_),_;case"textarea":e.push(A("textarea")),g=h=d=null;for(_ in a)if(p$1.call(a,_)&&(ee=a[_],ee!=null))switch(_){case"children":g=ee;break;case"value":d=ee;break;case"defaultValue":h=ee;break;case"dangerouslySetInnerHTML":throw Error(l$2(91));default:x$1(e,o,_,ee)}if(d===null&&h!==null&&(d=h),e.push(">"),g!=null){if(d!=null)throw Error(l$2(92));if(qa$1(g)&&1<g.length)throw Error(l$2(93));d=""+g}return typeof d=="string"&&d[0]===`
`&&e.push(`
`),d!==null&&e.push(v(""+d)),null;case"input":e.push(A("input")),ee=g=_=d=null;for(h in a)if(p$1.call(a,h)&&(f=a[h],f!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,"input"));case"defaultChecked":ee=f;break;case"defaultValue":_=f;break;case"checked":g=f;break;case"value":d=f;break;default:x$1(e,o,h,f)}return g!==null?x$1(e,o,"checked",g):ee!==null&&x$1(e,o,"checked",ee),d!==null?x$1(e,o,"value",d):_!==null&&x$1(e,o,"value",_),e.push("/>"),null;case"menuitem":e.push(A("menuitem"));for(var ge in a)if(p$1.call(a,ge)&&(d=a[ge],d!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(400));default:x$1(e,o,ge,d)}return e.push(">"),null;case"title":e.push(A("title")),d=null;for(he in a)if(p$1.call(a,he)&&(h=a[he],h!=null))switch(he){case"children":d=h;break;case"dangerouslySetInnerHTML":throw Error(l$2(434));default:x$1(e,o,he,h)}return e.push(">"),d;case"listing":case"pre":e.push(A(i)),h=d=null;for(ee in a)if(p$1.call(a,ee)&&(_=a[ee],_!=null))switch(ee){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;default:x$1(e,o,ee,_)}if(e.push(">"),h!=null){if(d!=null)throw Error(l$2(60));if(typeof h!="object"||!("__html"in h))throw Error(l$2(61));a=h.__html,a!=null&&(typeof a=="string"&&0<a.length&&a[0]===`
`?e.push(`
`,a):e.push(""+a))}return typeof d=="string"&&d[0]===`
`&&e.push(`
`),d;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(A(i));for(var te in a)if(p$1.call(a,te)&&(d=a[te],d!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,i));default:x$1(e,o,te,d)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return va$1(e,a,i,o);case"html":return c.insertionMode===0&&e.push("<!DOCTYPE html>"),va$1(e,a,i,o);default:if(i.indexOf("-")===-1&&typeof a.is!="string")return va$1(e,a,i,o);e.push(A(i)),h=d=null;for(f in a)if(p$1.call(a,f)&&(_=a[f],_!=null))switch(f){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"style":ta$1(e,o,_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ja$1(f)&&typeof _!="function"&&typeof _!="symbol"&&e.push(" ",f,'="',v(_),'"')}return e.push(">"),y$1(e,h,d),d}}function za$1(e,i,a){if(e.push('<!--$?--><template id="'),a===null)throw Error(l$2(395));return e.push(a),e.push('"></template>')}function Aa$1(e,i,a,o){switch(a.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 4:return e.push('<table hidden id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');default:throw Error(l$2(397))}}function Ba$1(e,i){switch(i.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(l$2(397))}}var Ca$1=/[<\u2028\u2029]/g;function Da$1(e){return JSON.stringify(e).replace(Ca$1,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ea$1(e,i){return i=i===void 0?"":i,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:i+"P:",segmentPrefix:i+"S:",boundaryPrefix:i+"B:",idPrefix:i,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Fa$1(e,i,a,o){return a.generateStaticMarkup?(e.push(v(i)),!1):(i===""?e=o:(o&&e.push("<!-- -->"),e.push(v(i)),e=!0),e)}var B$1=Object.assign,Ga$1=Symbol.for("react.element"),Ha$1=Symbol.for("react.portal"),Ia$1=Symbol.for("react.fragment"),Ja$1=Symbol.for("react.strict_mode"),Ka$1=Symbol.for("react.profiler"),La$1=Symbol.for("react.provider"),Ma$1=Symbol.for("react.context"),Na$1=Symbol.for("react.forward_ref"),Oa$1=Symbol.for("react.suspense"),Pa$1=Symbol.for("react.suspense_list"),Qa$1=Symbol.for("react.memo"),Ra$1=Symbol.for("react.lazy"),Sa$1=Symbol.for("react.scope"),Ta$1=Symbol.for("react.debug_trace_mode"),Ua$1=Symbol.for("react.legacy_hidden"),Va$1=Symbol.for("react.default_value"),Wa$1=Symbol.iterator;function Xa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia$1:return"Fragment";case Ha$1:return"Portal";case Ka$1:return"Profiler";case Ja$1:return"StrictMode";case Oa$1:return"Suspense";case Pa$1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ma$1:return(e.displayName||"Context")+".Consumer";case La$1:return(e._context.displayName||"Context")+".Provider";case Na$1:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa$1:return i=e.displayName||null,i!==null?i:Xa$1(e.type)||"Memo";case Ra$1:i=e._payload,e=e._init;try{return Xa$1(e(i))}catch{}}return null}var Ya$1={};function Za$1(e,i){if(e=e.contextTypes,!e)return Ya$1;var a={},o;for(o in e)a[o]=i[o];return a}var E$1=null;function F(e,i){if(e!==i){e.context._currentValue2=e.parentValue,e=e.parent;var a=i.parent;if(e===null){if(a!==null)throw Error(l$2(401))}else{if(a===null)throw Error(l$2(401));F(e,a)}i.context._currentValue2=i.value}}function $a$1(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&$a$1(e)}function ab$1(e){var i=e.parent;i!==null&&ab$1(i),e.context._currentValue2=e.value}function bb$1(e,i){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(l$2(402));e.depth===i.depth?F(e,i):bb$1(e,i)}function cb$1(e,i){var a=i.parent;if(a===null)throw Error(l$2(402));e.depth===a.depth?F(e,a):cb$1(e,a),i.context._currentValue2=i.value}function G(e){var i=E$1;i!==e&&(i===null?ab$1(e):e===null?$a$1(i):i.depth===e.depth?F(i,e):i.depth>e.depth?bb$1(i,e):cb$1(i,e),E$1=e)}var db$1={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function eb$1(e,i,a,o){var c=e.state!==void 0?e.state:null;e.updater=db$1,e.props=a,e.state=c;var d={queue:[],replace:!1};e._reactInternals=d;var h=i.contextType;if(e.context=typeof h=="object"&&h!==null?h._currentValue2:o,h=i.getDerivedStateFromProps,typeof h=="function"&&(h=h(a,c),c=h==null?c:B$1({},c,h),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&db$1.enqueueReplaceState(e,e.state,null),d.queue!==null&&0<d.queue.length)if(i=d.queue,h=d.replace,d.queue=null,d.replace=!1,h&&i.length===1)e.state=i[0];else{for(d=h?i[0]:e.state,c=!0,h=h?1:0;h<i.length;h++){var _=i[h];_=typeof _=="function"?_.call(e,d,a,o):_,_!=null&&(c?(c=!1,d=B$1({},d,_)):B$1(d,_))}e.state=d}else d.queue=null}var fb$1={id:1,overflow:""};function gb$1(e,i,a){var o=e.id;e=e.overflow;var c=32-H$1(o)-1;o&=~(1<<c),a+=1;var d=32-H$1(i)+c;if(30<d){var h=c-c%5;return d=(o&(1<<h)-1).toString(32),o>>=h,c-=h,{id:1<<32-H$1(i)+c|a<<c|o,overflow:d+e}}return{id:1<<d|a<<c|o,overflow:e}}var H$1=Math.clz32?Math.clz32:hb$1,ib$1=Math.log,jb$1=Math.LN2;function hb$1(e){return e>>>=0,e===0?32:31-(ib$1(e)/jb$1|0)|0}function kb$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var lb$1=typeof Object.is=="function"?Object.is:kb$1,I$1=null,ob$1=null,J$1=null,K$1=null,L$1=!1,M$1=!1,N$1=0,O$1=null,P$1=0;function Q$1(){if(I$1===null)throw Error(l$2(321));return I$1}function pb$1(){if(0<P$1)throw Error(l$2(312));return{memoizedState:null,queue:null,next:null}}function qb$1(){return K$1===null?J$1===null?(L$1=!1,J$1=K$1=pb$1()):(L$1=!0,K$1=J$1):K$1.next===null?(L$1=!1,K$1=K$1.next=pb$1()):(L$1=!0,K$1=K$1.next),K$1}function rb$1(){ob$1=I$1=null,M$1=!1,J$1=null,P$1=0,K$1=O$1=null}function sb$1(e,i){return typeof i=="function"?i(e):i}function tb$1(e,i,a){if(I$1=Q$1(),K$1=qb$1(),L$1){var o=K$1.queue;if(i=o.dispatch,O$1!==null&&(a=O$1.get(o),a!==void 0)){O$1.delete(o),o=K$1.memoizedState;do o=e(o,a.action),a=a.next;while(a!==null);return K$1.memoizedState=o,[o,i]}return[K$1.memoizedState,i]}return e=e===sb$1?typeof i=="function"?i():i:a!==void 0?a(i):i,K$1.memoizedState=e,e=K$1.queue={last:null,dispatch:null},e=e.dispatch=ub$1.bind(null,I$1,e),[K$1.memoizedState,e]}function vb$1(e,i){if(I$1=Q$1(),K$1=qb$1(),i=i===void 0?null:i,K$1!==null){var a=K$1.memoizedState;if(a!==null&&i!==null){var o=a[1];e:if(o===null)o=!1;else{for(var c=0;c<o.length&&c<i.length;c++)if(!lb$1(i[c],o[c])){o=!1;break e}o=!0}if(o)return a[0]}}return e=e(),K$1.memoizedState=[e,i],e}function ub$1(e,i,a){if(25<=P$1)throw Error(l$2(301));if(e===I$1)if(M$1=!0,e={action:a,next:null},O$1===null&&(O$1=new Map),a=O$1.get(i),a===void 0)O$1.set(i,e);else{for(i=a;i.next!==null;)i=i.next;i.next=e}}function wb$1(){throw Error(l$2(394))}function R$1(){}var xb$1={readContext:function(e){return e._currentValue2},useContext:function(e){return Q$1(),e._currentValue2},useMemo:vb$1,useReducer:tb$1,useRef:function(e){I$1=Q$1(),K$1=qb$1();var i=K$1.memoizedState;return i===null?(e={current:e},K$1.memoizedState=e):i},useState:function(e){return tb$1(sb$1,e)},useInsertionEffect:R$1,useLayoutEffect:function(){},useCallback:function(e,i){return vb$1(function(){return e},i)},useImperativeHandle:R$1,useEffect:R$1,useDebugValue:R$1,useDeferredValue:function(e){return Q$1(),e},useTransition:function(){return Q$1(),[!1,wb$1]},useId:function(){var e=ob$1.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-H$1(e)-1)).toString(32)+i;var a=S$1;if(a===null)throw Error(l$2(404));return i=N$1++,e=":"+a.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return Q$1(),i(e._source)},useSyncExternalStore:function(e,i,a){if(a===void 0)throw Error(l$2(407));return a()}},S$1=null,yb$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb$1(e){return console.error(e),null}function T$1(){}function Ab$1(e,i,a,o,c,d,h,_,ee){var f=[],g=new Set;return i={destination:null,responseState:i,progressiveChunkSize:o===void 0?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:f,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?zb$1:c,onAllReady:d===void 0?T$1:d,onShellReady:h===void 0?T$1:h,onShellError:_===void 0?T$1:_,onFatalError:ee===void 0?T$1:ee},a=U$1(i,0,null,a,!1,!1),a.parentFlushed=!0,e=Bb$1(i,e,null,a,g,Ya$1,null,fb$1),f.push(e),i}function Bb$1(e,i,a,o,c,d,h,_){e.allPendingTasks++,a===null?e.pendingRootTasks++:a.pendingTasks++;var ee={node:i,ping:function(){var f=e.pingedTasks;f.push(ee),f.length===1&&Cb$1(e)},blockedBoundary:a,blockedSegment:o,abortSet:c,legacyContext:d,context:h,treeContext:_};return c.add(ee),ee}function U$1(e,i,a,o,c,d){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:a,lastPushedText:c,textEmbedded:d}}function V$1(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function W$1(e,i){var a=e.onShellError;a(i),a=e.onFatalError,a(i),e.destination!==null?(e.status=2,e.destination.destroy(i)):(e.status=1,e.fatalError=i)}function Db$1(e,i,a,o,c){for(I$1={},ob$1=i,N$1=0,e=a(o,c);M$1;)M$1=!1,N$1=0,P$1+=1,K$1=null,e=a(o,c);return rb$1(),e}function Eb$1(e,i,a,o){var c=a.render(),d=o.childContextTypes;if(d!=null){var h=i.legacyContext;if(typeof a.getChildContext!="function")o=h;else{a=a.getChildContext();for(var _ in a)if(!(_ in d))throw Error(l$2(108,Xa$1(o)||"Unknown",_));o=B$1({},h,a)}i.legacyContext=o,X$1(e,i,c),i.legacyContext=h}else X$1(e,i,c)}function Fb(e,i){if(e&&e.defaultProps){i=B$1({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function Gb$1(e,i,a,o,c){if(typeof a=="function")if(a.prototype&&a.prototype.isReactComponent){c=Za$1(a,i.legacyContext);var d=a.contextType;d=new a(o,typeof d=="object"&&d!==null?d._currentValue2:c),eb$1(d,a,o,c),Eb$1(e,i,d,a)}else{d=Za$1(a,i.legacyContext),c=Db$1(e,i,a,o,d);var h=N$1!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)eb$1(c,a,o,d),Eb$1(e,i,c,a);else if(h){o=i.treeContext,i.treeContext=gb$1(o,1,0);try{X$1(e,i,c)}finally{i.treeContext=o}}else X$1(e,i,c)}else if(typeof a=="string"){switch(c=i.blockedSegment,d=ya$1(c.chunks,a,o,e.responseState,c.formatContext),c.lastPushedText=!1,h=c.formatContext,c.formatContext=ra$1(h,a,o),Hb$1(e,i,d),c.formatContext=h,a){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push("</",a,">")}c.lastPushedText=!1}else{switch(a){case Ua$1:case Ta$1:case Ja$1:case Ka$1:case Ia$1:X$1(e,i,o.children);return;case Pa$1:X$1(e,i,o.children);return;case Sa$1:throw Error(l$2(343));case Oa$1:e:{a=i.blockedBoundary,c=i.blockedSegment,d=o.fallback,o=o.children,h=new Set;var _={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:h,errorDigest:null},ee=U$1(e,c.chunks.length,_,c.formatContext,!1,!1);c.children.push(ee),c.lastPushedText=!1;var f=U$1(e,0,null,c.formatContext,!1,!1);f.parentFlushed=!0,i.blockedBoundary=_,i.blockedSegment=f;try{if(Hb$1(e,i,o),e.responseState.generateStaticMarkup||f.lastPushedText&&f.textEmbedded&&f.chunks.push("<!-- -->"),f.status=1,Y$1(_,f),_.pendingTasks===0)break e}catch(g){f.status=4,_.forceClientRender=!0,_.errorDigest=V$1(e,g)}finally{i.blockedBoundary=a,i.blockedSegment=c}i=Bb$1(e,d,a,ee,h,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Na$1:if(o=Db$1(e,i,a.render,o,c),N$1!==0){a=i.treeContext,i.treeContext=gb$1(a,1,0);try{X$1(e,i,o)}finally{i.treeContext=a}}else X$1(e,i,o);return;case Qa$1:a=a.type,o=Fb(a,o),Gb$1(e,i,a,o,c);return;case La$1:if(c=o.children,a=a._context,o=o.value,d=a._currentValue2,a._currentValue2=o,h=E$1,E$1=o={parent:h,depth:h===null?0:h.depth+1,context:a,parentValue:d,value:o},i.context=o,X$1(e,i,c),e=E$1,e===null)throw Error(l$2(403));o=e.parentValue,e.context._currentValue2=o===Va$1?e.context._defaultValue:o,e=E$1=e.parent,i.context=e;return;case Ma$1:o=o.children,o=o(a._currentValue2),X$1(e,i,o);return;case Ra$1:c=a._init,a=c(a._payload),o=Fb(a,o),Gb$1(e,i,a,o,void 0);return}throw Error(l$2(130,a==null?a:typeof a,""))}}function X$1(e,i,a){if(i.node=a,typeof a=="object"&&a!==null){switch(a.$$typeof){case Ga$1:Gb$1(e,i,a.type,a.props,a.ref);return;case Ha$1:throw Error(l$2(257));case Ra$1:var o=a._init;a=o(a._payload),X$1(e,i,a);return}if(qa$1(a)){Ib$1(e,i,a);return}if(a===null||typeof a!="object"?o=null:(o=Wa$1&&a[Wa$1]||a["@@iterator"],o=typeof o=="function"?o:null),o&&(o=o.call(a))){if(a=o.next(),!a.done){var c=[];do c.push(a.value),a=o.next();while(!a.done);Ib$1(e,i,c)}return}throw e=Object.prototype.toString.call(a),Error(l$2(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}typeof a=="string"?(o=i.blockedSegment,o.lastPushedText=Fa$1(i.blockedSegment.chunks,a,e.responseState,o.lastPushedText)):typeof a=="number"&&(o=i.blockedSegment,o.lastPushedText=Fa$1(i.blockedSegment.chunks,""+a,e.responseState,o.lastPushedText))}function Ib$1(e,i,a){for(var o=a.length,c=0;c<o;c++){var d=i.treeContext;i.treeContext=gb$1(d,o,c);try{Hb$1(e,i,a[c])}finally{i.treeContext=d}}}function Hb$1(e,i,a){var o=i.blockedSegment.formatContext,c=i.legacyContext,d=i.context;try{return X$1(e,i,a)}catch(ee){if(rb$1(),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"){a=ee;var h=i.blockedSegment,_=U$1(e,h.chunks.length,null,h.formatContext,h.lastPushedText,!0);h.children.push(_),h.lastPushedText=!1,e=Bb$1(e,i.node,i.blockedBoundary,_,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,a.then(e,e),i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,G(d)}else throw i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,G(d),ee}}function Jb$1(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,Kb$1(this,i,e)}function Lb$1(e,i,a){var o=e.blockedBoundary;e.blockedSegment.status=3,o===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.push(null))):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=a===void 0?Error(l$2(432)):a,o.errorDigest=i.onError(e),o.parentFlushed&&i.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach(function(c){return Lb$1(c,i,a)}),o.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(o=i.onAllReady,o()))}function Y$1(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var a=i.children[0];a.id=i.id,a.parentFlushed=!0,a.status===1&&Y$1(e,a)}else e.completedSegments.push(i)}function Kb$1(e,i,a){if(i===null){if(a.parentFlushed){if(e.completedRootSegment!==null)throw Error(l$2(389));e.completedRootSegment=a}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=T$1,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(a.parentFlushed&&a.status===1&&Y$1(i,a),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(Jb$1,e),i.fallbackAbortableTasks.clear()):a.parentFlushed&&a.status===1&&(Y$1(i,a),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Cb$1(e){if(e.status!==2){var i=E$1,a=yb$1.current;yb$1.current=xb$1;var o=S$1;S$1=e.responseState;try{var c=e.pingedTasks,d;for(d=0;d<c.length;d++){var h=c[d],_=e,ee=h.blockedSegment;if(ee.status===0){G(h.context);try{X$1(_,h,h.node),_.responseState.generateStaticMarkup||ee.lastPushedText&&ee.textEmbedded&&ee.chunks.push("<!-- -->"),h.abortSet.delete(h),ee.status=1,Kb$1(_,h.blockedBoundary,ee)}catch(re){if(rb$1(),typeof re=="object"&&re!==null&&typeof re.then=="function"){var f=h.ping;re.then(f,f)}else{h.abortSet.delete(h),ee.status=4;var g=h.blockedBoundary,he=re,ge=V$1(_,he);if(g===null?W$1(_,he):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=ge,g.parentFlushed&&_.clientRenderedBoundaries.push(g))),_.allPendingTasks--,_.allPendingTasks===0){var te=_.onAllReady;te()}}}finally{}}}c.splice(0,d),e.destination!==null&&Mb$1(e,e.destination)}catch(re){V$1(e,re),W$1(e,re)}finally{S$1=o,yb$1.current=a,a===xb$1&&G(i)}}}function Z$1(e,i,a){switch(a.parentFlushed=!0,a.status){case 0:var o=a.id=e.nextSegmentId++;return a.lastPushedText=!1,a.textEmbedded=!1,e=e.responseState,i.push('<template id="'),i.push(e.placeholderPrefix),e=o.toString(16),i.push(e),i.push('"></template>');case 1:a.status=2;var c=!0;o=a.chunks;var d=0;a=a.children;for(var h=0;h<a.length;h++){for(c=a[h];d<c.index;d++)i.push(o[d]);c=Nb$1(e,i,c)}for(;d<o.length-1;d++)i.push(o[d]);return d<o.length&&(c=i.push(o[d])),c;default:throw Error(l$2(390))}}function Nb$1(e,i,a){var o=a.boundary;if(o===null)return Z$1(e,i,a);if(o.parentFlushed=!0,o.forceClientRender)return e.responseState.generateStaticMarkup||(o=o.errorDigest,i.push("<!--$!-->"),i.push("<template"),o&&(i.push(' data-dgst="'),o=v(o),i.push(o),i.push('"')),i.push("></template>")),Z$1(e,i,a),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e;if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var c=e.responseState,d=c.nextSuspenseID++;return c=c.boundaryPrefix+d.toString(16),o=o.id=c,za$1(i,e.responseState,o),Z$1(e,i,a),i.push("<!--/$-->")}if(o.byteSize>e.progressiveChunkSize)return o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),za$1(i,e.responseState,o.id),Z$1(e,i,a),i.push("<!--/$-->");if(e.responseState.generateStaticMarkup||i.push("<!--$-->"),a=o.completedSegments,a.length!==1)throw Error(l$2(391));return Nb$1(e,i,a[0]),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e}function Ob$1(e,i,a){return Aa$1(i,e.responseState,a.formatContext,a.id),Nb$1(e,i,a),Ba$1(i,a.formatContext)}function Pb$1(e,i,a){for(var o=a.completedSegments,c=0;c<o.length;c++)Qb$1(e,i,a,o[c]);if(o.length=0,e=e.responseState,o=a.id,a=a.rootSegmentID,i.push(e.startInlineScript),e.sentCompleteBoundaryFunction?i.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,i.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),o===null)throw Error(l$2(395));return a=a.toString(16),i.push(o),i.push('","'),i.push(e.segmentPrefix),i.push(a),i.push('")<\/script>')}function Qb$1(e,i,a,o){if(o.status===2)return!0;var c=o.id;if(c===-1){if((o.id=a.rootSegmentID)===-1)throw Error(l$2(392));return Ob$1(e,i,o)}return Ob$1(e,i,o),e=e.responseState,i.push(e.startInlineScript),e.sentCompleteSegmentFunction?i.push('$RS("'):(e.sentCompleteSegmentFunction=!0,i.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),i.push(e.segmentPrefix),c=c.toString(16),i.push(c),i.push('","'),i.push(e.placeholderPrefix),i.push(c),i.push('")<\/script>')}function Mb$1(e,i){try{var a=e.completedRootSegment;if(a!==null&&e.pendingRootTasks===0){Nb$1(e,i,a),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(a=0;a<o.length-1;a++)i.push(o[a]);a<o.length&&i.push(o[a])}var c=e.clientRenderedBoundaries,d;for(d=0;d<c.length;d++){var h=c[d];o=i;var _=e.responseState,ee=h.id,f=h.errorDigest,g=h.errorMessage,he=h.errorComponentStack;if(o.push(_.startInlineScript),_.sentClientRenderFunction?o.push('$RX("'):(_.sentClientRenderFunction=!0,o.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),ee===null)throw Error(l$2(395));if(o.push(ee),o.push('"'),f||g||he){o.push(",");var ge=Da$1(f||"");o.push(ge)}if(g||he){o.push(",");var te=Da$1(g||"");o.push(te)}if(he){o.push(",");var re=Da$1(he);o.push(re)}if(!o.push(")<\/script>")){e.destination=null,d++,c.splice(0,d);return}}c.splice(0,d);var be=e.completedBoundaries;for(d=0;d<be.length;d++)if(!Pb$1(e,i,be[d])){e.destination=null,d++,be.splice(0,d);return}be.splice(0,d);var q=e.partialBoundaries;for(d=0;d<q.length;d++){var se=q[d];e:{c=e,h=i;var me=se.completedSegments;for(_=0;_<me.length;_++)if(!Qb$1(c,h,se,me[_])){_++,me.splice(0,_);var ue=!1;break e}me.splice(0,_),ue=!0}if(!ue){e.destination=null,d++,q.splice(0,d);return}}q.splice(0,d);var ae=e.completedBoundaries;for(d=0;d<ae.length;d++)if(!Pb$1(e,i,ae[d])){e.destination=null,d++,ae.splice(0,d);return}ae.splice(0,d)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.push(null)}}function Rb$1(e,i){try{var a=e.abortableTasks;a.forEach(function(o){return Lb$1(o,e,i)}),a.clear(),e.destination!==null&&Mb$1(e,e.destination)}catch(o){V$1(e,o),W$1(e,o)}}function Sb$1(){}function Tb$1(e,i,a,o){var c=!1,d=null,h="",_={push:function(f){return f!==null&&(h+=f),!0},destroy:function(f){c=!0,d=f}},ee=!1;if(e=Ab$1(e,Ea$1(a,i?i.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sb$1,void 0,function(){ee=!0},void 0,void 0),Cb$1(e),Rb$1(e,o),e.status===1)e.status=2,_.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=_;try{Mb$1(e,_)}catch(f){V$1(e,f),W$1(e,f)}}if(c)throw d;if(!ee)throw Error(l$2(426));return h}reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(l$2(207))};reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(e,i){return Tb$1(e,i,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(l$2(208))};reactDomServerLegacy_browser_production_min.renderToString=function(e,i){return Tb$1(e,i,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.version="18.2.0";var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports;function k(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l$1=null,n=0;function p(e,i){if(i.length!==0)if(512<i.length)0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=new Uint8Array(512),n=0),e.enqueue(i);else{var a=l$1.length-n;a<i.length&&(a===0?e.enqueue(l$1):(l$1.set(i.subarray(0,a),n),e.enqueue(l$1),i=i.subarray(a)),l$1=new Uint8Array(512),n=0),l$1.set(i,n),n+=i.length}}function t(e,i){return p(e,i),!0}function ba(e){l$1&&0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=null,n=0)}var ca$1=new TextEncoder;function u(e){return ca$1.encode(e)}function w(e){return ca$1.encode(e)}function da(e,i){typeof e.error=="function"?e.error(i):e.close()}var x=Object.prototype.hasOwnProperty,ea=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa={},ha={};function ia(e){return x.call(ha,e)?!0:x.call(fa,e)?!1:ea.test(e)?ha[e]=!0:(fa[e]=!0,!1)}function y(e,i,a,o,c,d,h){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=d,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new y(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new y(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new y(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new y(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new y(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new y(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(e){la.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),B[i]=B[e]})});var oa=/["'&<>]/;function C(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=oa.exec(e);if(i){var a="",o,c=0;for(o=i.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==o&&(a+=e.substring(c,o)),c=o+1,a+=i}e=c!==o?a+e.substring(c,o):a}return e}var pa=/([A-Z])/g,qa=/^ms-/,ra=Array.isArray,sa=w("<script>"),ta=w("<\/script>"),ua=w('<script src="'),va=w('<script type="module" src="'),wa=w('" async=""><\/script>'),xa=/(<\/|<)(s)(cript)/gi;function ya(e,i,a,o){return""+i+(a==="s"?"\\u0073":"\\u0053")+o}function za(e,i,a,o,c){e=e===void 0?"":e,i=i===void 0?sa:w('<script nonce="'+C(i)+'">');var d=[];if(a!==void 0&&d.push(i,u((""+a).replace(xa,ya)),ta),o!==void 0)for(a=0;a<o.length;a++)d.push(ua,u(C(o[a])),wa);if(c!==void 0)for(o=0;o<c.length;o++)d.push(va,u(C(c[o])),wa);return{bootstrapChunks:d,startInlineScript:i,placeholderPrefix:w(e+"P:"),segmentPrefix:w(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function D(e,i){return{insertionMode:e,selectedValue:i}}function Aa(e){return D(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ba(e,i,a){switch(i){case"select":return D(1,a.value!=null?a.value:a.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=e.insertionMode||e.insertionMode===0?D(1,null):e}var Ca=w("<!-- -->");function Da(e,i,a,o){return i===""?o:(o&&e.push(Ca),e.push(u(C(i))),!0)}var Ea=new Map,Fa=w(' style="'),Ga=w(":"),Ha=w(";");function Ia(e,i,a){if(typeof a!="object")throw Error(k(62));i=!0;for(var o in a)if(x.call(a,o)){var c=a[o];if(c!=null&&typeof c!="boolean"&&c!==""){if(o.indexOf("--")===0){var d=u(C(o));c=u(C((""+c).trim()))}else{d=o;var h=Ea.get(d);h!==void 0||(h=w(C(d.replace(pa,"-$1").toLowerCase().replace(qa,"-ms-"))),Ea.set(d,h)),d=h,c=typeof c=="number"?c===0||x.call(B,o)?u(""+c):u(c+"px"):u(C((""+c).trim()))}i?(i=!1,e.push(Fa,d,Ga,c)):e.push(Ha,d,Ga,c)}}i||e.push(E)}var H=w(" "),I=w('="'),E=w('"'),Ja=w('=""');function J(e,i,a,o){switch(a){case"style":Ia(e,i,o);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N"){if(i=z.hasOwnProperty(a)?z[a]:null,i!==null){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(a=u(i.attributeName),i.type){case 3:o&&e.push(H,a,Ja);break;case 4:o===!0?e.push(H,a,Ja):o!==!1&&e.push(H,a,I,u(C(o)),E);break;case 5:isNaN(o)||e.push(H,a,I,u(C(o)),E);break;case 6:!isNaN(o)&&1<=o&&e.push(H,a,I,u(C(o)),E);break;default:i.sanitizeURL&&(o=""+o),e.push(H,a,I,u(C(o)),E)}}else if(ia(a)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(i=a.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(H,u(a),I,u(C(o)),E)}}}var K=w(">"),Ka=w("/>");function L(e,i,a){if(i!=null){if(a!=null)throw Error(k(60));if(typeof i!="object"||!("__html"in i))throw Error(k(61));i=i.__html,i!=null&&e.push(u(""+i))}}function La(e){var i="";return aa.Children.forEach(e,function(a){a!=null&&(i+=a)}),i}var Ma=w(' selected=""');function Na(e,i,a,o){e.push(M(a));var c=a=null,d;for(d in i)if(x.call(i,d)){var h=i[d];if(h!=null)switch(d){case"children":a=h;break;case"dangerouslySetInnerHTML":c=h;break;default:J(e,o,d,h)}}return e.push(K),L(e,c,a),typeof a=="string"?(e.push(u(C(a))),null):a}var Oa=w(`
`),Pa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qa=new Map;function M(e){var i=Qa.get(e);if(i===void 0){if(!Pa.test(e))throw Error(k(65,e));i=w("<"+e),Qa.set(e,i)}return i}var Ra=w("<!DOCTYPE html>");function Sa(e,i,a,o,c){switch(i){case"select":e.push(M("select"));var d=null,h=null;for(g in a)if(x.call(a,g)){var _=a[g];if(_!=null)switch(g){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"defaultValue":case"value":break;default:J(e,o,g,_)}}return e.push(K),L(e,h,d),d;case"option":h=c.selectedValue,e.push(M("option"));var ee=_=null,f=null,g=null;for(d in a)if(x.call(a,d)){var he=a[d];if(he!=null)switch(d){case"children":_=he;break;case"selected":f=he;break;case"dangerouslySetInnerHTML":g=he;break;case"value":ee=he;default:J(e,o,d,he)}}if(h!=null)if(a=ee!==null?""+ee:La(_),ra(h)){for(o=0;o<h.length;o++)if(""+h[o]===a){e.push(Ma);break}}else""+h===a&&e.push(Ma);else f&&e.push(Ma);return e.push(K),L(e,g,_),_;case"textarea":e.push(M("textarea")),g=h=d=null;for(_ in a)if(x.call(a,_)&&(ee=a[_],ee!=null))switch(_){case"children":g=ee;break;case"value":d=ee;break;case"defaultValue":h=ee;break;case"dangerouslySetInnerHTML":throw Error(k(91));default:J(e,o,_,ee)}if(d===null&&h!==null&&(d=h),e.push(K),g!=null){if(d!=null)throw Error(k(92));if(ra(g)&&1<g.length)throw Error(k(93));d=""+g}return typeof d=="string"&&d[0]===`
`&&e.push(Oa),d!==null&&e.push(u(C(""+d))),null;case"input":e.push(M("input")),ee=g=_=d=null;for(h in a)if(x.call(a,h)&&(f=a[h],f!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,"input"));case"defaultChecked":ee=f;break;case"defaultValue":_=f;break;case"checked":g=f;break;case"value":d=f;break;default:J(e,o,h,f)}return g!==null?J(e,o,"checked",g):ee!==null&&J(e,o,"checked",ee),d!==null?J(e,o,"value",d):_!==null&&J(e,o,"value",_),e.push(Ka),null;case"menuitem":e.push(M("menuitem"));for(var ge in a)if(x.call(a,ge)&&(d=a[ge],d!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(k(400));default:J(e,o,ge,d)}return e.push(K),null;case"title":e.push(M("title")),d=null;for(he in a)if(x.call(a,he)&&(h=a[he],h!=null))switch(he){case"children":d=h;break;case"dangerouslySetInnerHTML":throw Error(k(434));default:J(e,o,he,h)}return e.push(K),d;case"listing":case"pre":e.push(M(i)),h=d=null;for(ee in a)if(x.call(a,ee)&&(_=a[ee],_!=null))switch(ee){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;default:J(e,o,ee,_)}if(e.push(K),h!=null){if(d!=null)throw Error(k(60));if(typeof h!="object"||!("__html"in h))throw Error(k(61));a=h.__html,a!=null&&(typeof a=="string"&&0<a.length&&a[0]===`
`?e.push(Oa,u(a)):e.push(u(""+a)))}return typeof d=="string"&&d[0]===`
`&&e.push(Oa),d;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(M(i));for(var te in a)if(x.call(a,te)&&(d=a[te],d!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,i));default:J(e,o,te,d)}return e.push(Ka),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Na(e,a,i,o);case"html":return c.insertionMode===0&&e.push(Ra),Na(e,a,i,o);default:if(i.indexOf("-")===-1&&typeof a.is!="string")return Na(e,a,i,o);e.push(M(i)),h=d=null;for(f in a)if(x.call(a,f)&&(_=a[f],_!=null))switch(f){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"style":Ia(e,o,_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ia(f)&&typeof _!="function"&&typeof _!="symbol"&&e.push(H,u(f),I,u(C(_)),E)}return e.push(K),L(e,h,d),d}}var Ta=w("</"),Ua=w(">"),Va=w('<template id="'),Wa=w('"></template>'),Xa=w("<!--$-->"),Ya=w('<!--$?--><template id="'),Za=w('"></template>'),$a=w("<!--$!-->"),ab=w("<!--/$-->"),bb=w("<template"),cb=w('"'),db=w(' data-dgst="');w(' data-msg="');w(' data-stck="');var eb=w("></template>");function fb(e,i,a){if(p(e,Ya),a===null)throw Error(k(395));return p(e,a),t(e,Za)}var gb=w('<div hidden id="'),hb=w('">'),ib=w("</div>"),jb=w('<svg aria-hidden="true" style="display:none" id="'),kb=w('">'),lb=w("</svg>"),mb=w('<math aria-hidden="true" style="display:none" id="'),nb=w('">'),ob=w("</math>"),pb=w('<table hidden id="'),qb=w('">'),rb=w("</table>"),sb=w('<table hidden><tbody id="'),tb=w('">'),ub=w("</tbody></table>"),vb=w('<table hidden><tr id="'),wb=w('">'),xb=w("</tr></table>"),yb=w('<table hidden><colgroup id="'),zb=w('">'),Ab=w("</colgroup></table>");function Bb(e,i,a,o){switch(a.insertionMode){case 0:case 1:return p(e,gb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,hb);case 2:return p(e,jb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,kb);case 3:return p(e,mb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,nb);case 4:return p(e,pb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,qb);case 5:return p(e,sb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,tb);case 6:return p(e,vb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,wb);case 7:return p(e,yb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,zb);default:throw Error(k(397))}}function Cb(e,i){switch(i.insertionMode){case 0:case 1:return t(e,ib);case 2:return t(e,lb);case 3:return t(e,ob);case 4:return t(e,rb);case 5:return t(e,ub);case 6:return t(e,xb);case 7:return t(e,Ab);default:throw Error(k(397))}}var Db=w('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Eb=w('$RS("'),Gb=w('","'),Hb=w('")<\/script>'),Ib=w('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jb=w('$RC("'),Kb=w('","'),Lb=w('")<\/script>'),Mb=w('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Nb=w('$RX("'),Ob=w('"'),Pb=w(")<\/script>"),Qb=w(","),Rb=/[<\u2028\u2029]/g;function Sb(e){return JSON.stringify(e).replace(Rb,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var N=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),hc=Symbol.for("react.default_value"),ic=Symbol.iterator;function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zb:return(e.displayName||"Context")+".Consumer";case Yb:return(e._context.displayName||"Context")+".Provider";case $b:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cc:return i=e.displayName||null,i!==null?i:jc(e.type)||"Memo";case dc:i=e._payload,e=e._init;try{return jc(e(i))}catch{}}return null}var kc={};function lc(e,i){if(e=e.contextTypes,!e)return kc;var a={},o;for(o in e)a[o]=i[o];return a}var O=null;function P(e,i){if(e!==i){e.context._currentValue=e.parentValue,e=e.parent;var a=i.parent;if(e===null){if(a!==null)throw Error(k(401))}else{if(a===null)throw Error(k(401));P(e,a)}i.context._currentValue=i.value}}function mc(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&mc(e)}function nc(e){var i=e.parent;i!==null&&nc(i),e.context._currentValue=e.value}function oc(e,i){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(k(402));e.depth===i.depth?P(e,i):oc(e,i)}function pc(e,i){var a=i.parent;if(a===null)throw Error(k(402));e.depth===a.depth?P(e,a):pc(e,a),i.context._currentValue=i.value}function Q(e){var i=O;i!==e&&(i===null?nc(e):e===null?mc(i):i.depth===e.depth?P(i,e):i.depth>e.depth?oc(i,e):pc(i,e),O=e)}var qc={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function rc(e,i,a,o){var c=e.state!==void 0?e.state:null;e.updater=qc,e.props=a,e.state=c;var d={queue:[],replace:!1};e._reactInternals=d;var h=i.contextType;if(e.context=typeof h=="object"&&h!==null?h._currentValue:o,h=i.getDerivedStateFromProps,typeof h=="function"&&(h=h(a,c),c=h==null?c:N({},c,h),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&qc.enqueueReplaceState(e,e.state,null),d.queue!==null&&0<d.queue.length)if(i=d.queue,h=d.replace,d.queue=null,d.replace=!1,h&&i.length===1)e.state=i[0];else{for(d=h?i[0]:e.state,c=!0,h=h?1:0;h<i.length;h++){var _=i[h];_=typeof _=="function"?_.call(e,d,a,o):_,_!=null&&(c?(c=!1,d=N({},d,_)):N(d,_))}e.state=d}else d.queue=null}var sc={id:1,overflow:""};function tc(e,i,a){var o=e.id;e=e.overflow;var c=32-uc(o)-1;o&=~(1<<c),a+=1;var d=32-uc(i)+c;if(30<d){var h=c-c%5;return d=(o&(1<<h)-1).toString(32),o>>=h,c-=h,{id:1<<32-uc(i)+c|a<<c|o,overflow:d+e}}return{id:1<<d|a<<c|o,overflow:e}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(e){return e>>>=0,e===0?32:31-(wc(e)/xc|0)|0}function yc(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zc=typeof Object.is=="function"?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(R===null)throw Error(k(321));return R}function Ec(){if(0<Dc)throw Error(k(312));return{memoizedState:null,queue:null,next:null}}function Fc(){return S===null?Bc===null?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):S.next===null?(T=!1,S=S.next=Ec()):(T=!0,S=S.next),S}function Gc(){Ac=R=null,Cc=!1,Bc=null,Dc=0,S=V=null}function Hc(e,i){return typeof i=="function"?i(e):i}function Ic(e,i,a){if(R=W(),S=Fc(),T){var o=S.queue;if(i=o.dispatch,V!==null&&(a=V.get(o),a!==void 0)){V.delete(o),o=S.memoizedState;do o=e(o,a.action),a=a.next;while(a!==null);return S.memoizedState=o,[o,i]}return[S.memoizedState,i]}return e=e===Hc?typeof i=="function"?i():i:a!==void 0?a(i):i,S.memoizedState=e,e=S.queue={last:null,dispatch:null},e=e.dispatch=Jc.bind(null,R,e),[S.memoizedState,e]}function Kc(e,i){if(R=W(),S=Fc(),i=i===void 0?null:i,S!==null){var a=S.memoizedState;if(a!==null&&i!==null){var o=a[1];e:if(o===null)o=!1;else{for(var c=0;c<o.length&&c<i.length;c++)if(!zc(i[c],o[c])){o=!1;break e}o=!0}if(o)return a[0]}}return e=e(),S.memoizedState=[e,i],e}function Jc(e,i,a){if(25<=Dc)throw Error(k(301));if(e===R)if(Cc=!0,e={action:a,next:null},V===null&&(V=new Map),a=V.get(i),a===void 0)V.set(i,e);else{for(i=a;i.next!==null;)i=i.next;i.next=e}}function Lc(){throw Error(k(394))}function Mc(){}var Oc={readContext:function(e){return e._currentValue},useContext:function(e){return W(),e._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(e){R=W(),S=Fc();var i=S.memoizedState;return i===null?(e={current:e},S.memoizedState=e):i},useState:function(e){return Ic(Hc,e)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(e,i){return Kc(function(){return e},i)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(e){return W(),e},useTransition:function(){return W(),[!1,Lc]},useId:function(){var e=Ac.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-uc(e)-1)).toString(32)+i;var a=Nc;if(a===null)throw Error(k(404));return i=U++,e=":"+a.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return W(),i(e._source)},useSyncExternalStore:function(e,i,a){if(a===void 0)throw Error(k(407));return a()}},Nc=null,Pc=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(e){return console.error(e),null}function X(){}function Rc(e,i,a,o,c,d,h,_,ee){var f=[],g=new Set;return i={destination:null,responseState:i,progressiveChunkSize:o===void 0?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:f,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?Qc:c,onAllReady:d===void 0?X:d,onShellReady:h===void 0?X:h,onShellError:_===void 0?X:_,onFatalError:ee===void 0?X:ee},a=Sc(i,0,null,a,!1,!1),a.parentFlushed=!0,e=Tc(i,e,null,a,g,kc,null,sc),f.push(e),i}function Tc(e,i,a,o,c,d,h,_){e.allPendingTasks++,a===null?e.pendingRootTasks++:a.pendingTasks++;var ee={node:i,ping:function(){var f=e.pingedTasks;f.push(ee),f.length===1&&Uc(e)},blockedBoundary:a,blockedSegment:o,abortSet:c,legacyContext:d,context:h,treeContext:_};return c.add(ee),ee}function Sc(e,i,a,o,c,d){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:a,lastPushedText:c,textEmbedded:d}}function Y(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Vc(e,i){var a=e.onShellError;a(i),a=e.onFatalError,a(i),e.destination!==null?(e.status=2,da(e.destination,i)):(e.status=1,e.fatalError=i)}function Wc(e,i,a,o,c){for(R={},Ac=i,U=0,e=a(o,c);Cc;)Cc=!1,U=0,Dc+=1,S=null,e=a(o,c);return Gc(),e}function Xc(e,i,a,o){var c=a.render(),d=o.childContextTypes;if(d!=null){var h=i.legacyContext;if(typeof a.getChildContext!="function")o=h;else{a=a.getChildContext();for(var _ in a)if(!(_ in d))throw Error(k(108,jc(o)||"Unknown",_));o=N({},h,a)}i.legacyContext=o,Z(e,i,c),i.legacyContext=h}else Z(e,i,c)}function Yc(e,i){if(e&&e.defaultProps){i=N({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function Zc(e,i,a,o,c){if(typeof a=="function")if(a.prototype&&a.prototype.isReactComponent){c=lc(a,i.legacyContext);var d=a.contextType;d=new a(o,typeof d=="object"&&d!==null?d._currentValue:c),rc(d,a,o,c),Xc(e,i,d,a)}else{d=lc(a,i.legacyContext),c=Wc(e,i,a,o,d);var h=U!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)rc(c,a,o,d),Xc(e,i,c,a);else if(h){o=i.treeContext,i.treeContext=tc(o,1,0);try{Z(e,i,c)}finally{i.treeContext=o}}else Z(e,i,c)}else if(typeof a=="string"){switch(c=i.blockedSegment,d=Sa(c.chunks,a,o,e.responseState,c.formatContext),c.lastPushedText=!1,h=c.formatContext,c.formatContext=Ba(h,a,o),$c(e,i,d),c.formatContext=h,a){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push(Ta,u(a),Ua)}c.lastPushedText=!1}else{switch(a){case gc:case fc:case Wb:case Xb:case Vb:Z(e,i,o.children);return;case bc:Z(e,i,o.children);return;case ec:throw Error(k(343));case ac:e:{a=i.blockedBoundary,c=i.blockedSegment,d=o.fallback,o=o.children,h=new Set;var _={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:h,errorDigest:null},ee=Sc(e,c.chunks.length,_,c.formatContext,!1,!1);c.children.push(ee),c.lastPushedText=!1;var f=Sc(e,0,null,c.formatContext,!1,!1);f.parentFlushed=!0,i.blockedBoundary=_,i.blockedSegment=f;try{if($c(e,i,o),f.lastPushedText&&f.textEmbedded&&f.chunks.push(Ca),f.status=1,ad(_,f),_.pendingTasks===0)break e}catch(g){f.status=4,_.forceClientRender=!0,_.errorDigest=Y(e,g)}finally{i.blockedBoundary=a,i.blockedSegment=c}i=Tc(e,d,a,ee,h,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $b:if(o=Wc(e,i,a.render,o,c),U!==0){a=i.treeContext,i.treeContext=tc(a,1,0);try{Z(e,i,o)}finally{i.treeContext=a}}else Z(e,i,o);return;case cc:a=a.type,o=Yc(a,o),Zc(e,i,a,o,c);return;case Yb:if(c=o.children,a=a._context,o=o.value,d=a._currentValue,a._currentValue=o,h=O,O=o={parent:h,depth:h===null?0:h.depth+1,context:a,parentValue:d,value:o},i.context=o,Z(e,i,c),e=O,e===null)throw Error(k(403));o=e.parentValue,e.context._currentValue=o===hc?e.context._defaultValue:o,e=O=e.parent,i.context=e;return;case Zb:o=o.children,o=o(a._currentValue),Z(e,i,o);return;case dc:c=a._init,a=c(a._payload),o=Yc(a,o),Zc(e,i,a,o,void 0);return}throw Error(k(130,a==null?a:typeof a,""))}}function Z(e,i,a){if(i.node=a,typeof a=="object"&&a!==null){switch(a.$$typeof){case Tb:Zc(e,i,a.type,a.props,a.ref);return;case Ub:throw Error(k(257));case dc:var o=a._init;a=o(a._payload),Z(e,i,a);return}if(ra(a)){bd(e,i,a);return}if(a===null||typeof a!="object"?o=null:(o=ic&&a[ic]||a["@@iterator"],o=typeof o=="function"?o:null),o&&(o=o.call(a))){if(a=o.next(),!a.done){var c=[];do c.push(a.value),a=o.next();while(!a.done);bd(e,i,c)}return}throw e=Object.prototype.toString.call(a),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}typeof a=="string"?(o=i.blockedSegment,o.lastPushedText=Da(i.blockedSegment.chunks,a,e.responseState,o.lastPushedText)):typeof a=="number"&&(o=i.blockedSegment,o.lastPushedText=Da(i.blockedSegment.chunks,""+a,e.responseState,o.lastPushedText))}function bd(e,i,a){for(var o=a.length,c=0;c<o;c++){var d=i.treeContext;i.treeContext=tc(d,o,c);try{$c(e,i,a[c])}finally{i.treeContext=d}}}function $c(e,i,a){var o=i.blockedSegment.formatContext,c=i.legacyContext,d=i.context;try{return Z(e,i,a)}catch(ee){if(Gc(),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"){a=ee;var h=i.blockedSegment,_=Sc(e,h.chunks.length,null,h.formatContext,h.lastPushedText,!0);h.children.push(_),h.lastPushedText=!1,e=Tc(e,i.node,i.blockedBoundary,_,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,a.then(e,e),i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,Q(d)}else throw i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,Q(d),ee}}function cd(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,dd(this,i,e)}function ed(e,i,a){var o=e.blockedBoundary;e.blockedSegment.status=3,o===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.close())):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=a===void 0?Error(k(432)):a,o.errorDigest=i.onError(e),o.parentFlushed&&i.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach(function(c){return ed(c,i,a)}),o.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(o=i.onAllReady,o()))}function ad(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var a=i.children[0];a.id=i.id,a.parentFlushed=!0,a.status===1&&ad(e,a)}else e.completedSegments.push(i)}function dd(e,i,a){if(i===null){if(a.parentFlushed){if(e.completedRootSegment!==null)throw Error(k(389));e.completedRootSegment=a}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=X,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(a.parentFlushed&&a.status===1&&ad(i,a),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(cd,e),i.fallbackAbortableTasks.clear()):a.parentFlushed&&a.status===1&&(ad(i,a),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Uc(e){if(e.status!==2){var i=O,a=Pc.current;Pc.current=Oc;var o=Nc;Nc=e.responseState;try{var c=e.pingedTasks,d;for(d=0;d<c.length;d++){var h=c[d],_=e,ee=h.blockedSegment;if(ee.status===0){Q(h.context);try{Z(_,h,h.node),ee.lastPushedText&&ee.textEmbedded&&ee.chunks.push(Ca),h.abortSet.delete(h),ee.status=1,dd(_,h.blockedBoundary,ee)}catch(re){if(Gc(),typeof re=="object"&&re!==null&&typeof re.then=="function"){var f=h.ping;re.then(f,f)}else{h.abortSet.delete(h),ee.status=4;var g=h.blockedBoundary,he=re,ge=Y(_,he);if(g===null?Vc(_,he):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=ge,g.parentFlushed&&_.clientRenderedBoundaries.push(g))),_.allPendingTasks--,_.allPendingTasks===0){var te=_.onAllReady;te()}}}finally{}}}c.splice(0,d),e.destination!==null&&fd(e,e.destination)}catch(re){Y(e,re),Vc(e,re)}finally{Nc=o,Pc.current=a,a===Oc&&Q(i)}}}function gd(e,i,a){switch(a.parentFlushed=!0,a.status){case 0:var o=a.id=e.nextSegmentId++;return a.lastPushedText=!1,a.textEmbedded=!1,e=e.responseState,p(i,Va),p(i,e.placeholderPrefix),e=u(o.toString(16)),p(i,e),t(i,Wa);case 1:a.status=2;var c=!0;o=a.chunks;var d=0;a=a.children;for(var h=0;h<a.length;h++){for(c=a[h];d<c.index;d++)p(i,o[d]);c=hd(e,i,c)}for(;d<o.length-1;d++)p(i,o[d]);return d<o.length&&(c=t(i,o[d])),c;default:throw Error(k(390))}}function hd(e,i,a){var o=a.boundary;if(o===null)return gd(e,i,a);if(o.parentFlushed=!0,o.forceClientRender)o=o.errorDigest,t(i,$a),p(i,bb),o&&(p(i,db),p(i,u(C(o))),p(i,cb)),t(i,eb),gd(e,i,a);else if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var c=e.responseState,d=c.nextSuspenseID++;c=w(c.boundaryPrefix+d.toString(16)),o=o.id=c,fb(i,e.responseState,o),gd(e,i,a)}else if(o.byteSize>e.progressiveChunkSize)o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),fb(i,e.responseState,o.id),gd(e,i,a);else{if(t(i,Xa),a=o.completedSegments,a.length!==1)throw Error(k(391));hd(e,i,a[0])}return t(i,ab)}function id(e,i,a){return Bb(i,e.responseState,a.formatContext,a.id),hd(e,i,a),Cb(i,a.formatContext)}function jd(e,i,a){for(var o=a.completedSegments,c=0;c<o.length;c++)kd(e,i,a,o[c]);if(o.length=0,e=e.responseState,o=a.id,a=a.rootSegmentID,p(i,e.startInlineScript),e.sentCompleteBoundaryFunction?p(i,Jb):(e.sentCompleteBoundaryFunction=!0,p(i,Ib)),o===null)throw Error(k(395));return a=u(a.toString(16)),p(i,o),p(i,Kb),p(i,e.segmentPrefix),p(i,a),t(i,Lb)}function kd(e,i,a,o){if(o.status===2)return!0;var c=o.id;if(c===-1){if((o.id=a.rootSegmentID)===-1)throw Error(k(392));return id(e,i,o)}return id(e,i,o),e=e.responseState,p(i,e.startInlineScript),e.sentCompleteSegmentFunction?p(i,Eb):(e.sentCompleteSegmentFunction=!0,p(i,Db)),p(i,e.segmentPrefix),c=u(c.toString(16)),p(i,c),p(i,Gb),p(i,e.placeholderPrefix),p(i,c),t(i,Hb)}function fd(e,i){l$1=new Uint8Array(512),n=0;try{var a=e.completedRootSegment;if(a!==null&&e.pendingRootTasks===0){hd(e,i,a),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(a=0;a<o.length-1;a++)p(i,o[a]);a<o.length&&t(i,o[a])}var c=e.clientRenderedBoundaries,d;for(d=0;d<c.length;d++){var h=c[d];o=i;var _=e.responseState,ee=h.id,f=h.errorDigest,g=h.errorMessage,he=h.errorComponentStack;if(p(o,_.startInlineScript),_.sentClientRenderFunction?p(o,Nb):(_.sentClientRenderFunction=!0,p(o,Mb)),ee===null)throw Error(k(395));p(o,ee),p(o,Ob),(f||g||he)&&(p(o,Qb),p(o,u(Sb(f||"")))),(g||he)&&(p(o,Qb),p(o,u(Sb(g||"")))),he&&(p(o,Qb),p(o,u(Sb(he)))),t(o,Pb)}c.splice(0,d);var ge=e.completedBoundaries;for(d=0;d<ge.length;d++)jd(e,i,ge[d]);ge.splice(0,d),ba(i),l$1=new Uint8Array(512),n=0;var te=e.partialBoundaries;for(d=0;d<te.length;d++){var re=te[d];e:{c=e,h=i;var be=re.completedSegments;for(_=0;_<be.length;_++)if(!kd(c,h,re,be[_])){_++,be.splice(0,_);var q=!1;break e}be.splice(0,_),q=!0}if(!q){e.destination=null,d++,te.splice(0,d);return}}te.splice(0,d);var se=e.completedBoundaries;for(d=0;d<se.length;d++)jd(e,i,se[d]);se.splice(0,d)}finally{ba(i),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.close()}}function ld(e,i){try{var a=e.abortableTasks;a.forEach(function(o){return ed(o,e,i)}),a.clear(),e.destination!==null&&fd(e,e.destination)}catch(o){Y(e,o),Vc(e,o)}}reactDomServer_browser_production_min.renderToReadableStream=function(e,i){return new Promise(function(a,o){var c,d,h=new Promise(function(g,he){d=g,c=he}),_=Rc(e,za(i?i.identifierPrefix:void 0,i?i.nonce:void 0,i?i.bootstrapScriptContent:void 0,i?i.bootstrapScripts:void 0,i?i.bootstrapModules:void 0),Aa(i?i.namespaceURI:void 0),i?i.progressiveChunkSize:void 0,i?i.onError:void 0,d,function(){var g=new ReadableStream({type:"bytes",pull:function(he){if(_.status===1)_.status=2,da(he,_.fatalError);else if(_.status!==2&&_.destination===null){_.destination=he;try{fd(_,he)}catch(ge){Y(_,ge),Vc(_,ge)}}},cancel:function(){ld(_)}},{highWaterMark:0});g.allReady=h,a(g)},function(g){h.catch(function(){}),o(g)},c);if(i&&i.signal){var ee=i.signal,f=function(){ld(_,ee.reason),ee.removeEventListener("abort",f)};ee.addEventListener("abort",f)}Uc(_)})};reactDomServer_browser_production_min.version="18.2.0";var l,s;l=reactDomServerLegacy_browser_production_min,s=reactDomServer_browser_production_min;server_browser.version=l.version;server_browser.renderToString=l.renderToString;server_browser.renderToStaticMarkup=l.renderToStaticMarkup;server_browser.renderToNodeStream=l.renderToNodeStream;server_browser.renderToStaticNodeStream=l.renderToStaticNodeStream;server_browser.renderToReadableStream=s.renderToReadableStream;var cjs={};const{replace}="",es=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,ca=/[&<>'"]/g,esca={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},pe=e=>esca[e],escape$1=e=>replace.call(e,ca,pe);cjs.escape=escape$1;const unes={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},cape=e=>unes[e],unescape$1=e=>replace.call(e,es,cape);cjs.unescape=unescape$1;var loader={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(d){for(var h,_=1,ee=arguments.length;_<ee;_++){h=arguments[_];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])}return d},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var a=jsxRuntimeExports,o={position:"absolute",width:"100%",height:"100",zIndex:"9999",background:"rgba(255, 255, 255, 0.4)",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",alignContent:"center"},c=function(){return(0,a.jsx)("div",i({className:"h5p-loader",style:o},{children:(0,a.jsxs)("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"101px",height:"101px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},{children:[(0,a.jsx)("g",i({transform:"rotate(0 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(30 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(60 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(90 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(120 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(150 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(180 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(210 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(240 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(270 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(300 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(330 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})}))}))]}))}))};e.Loader=c,e.default=e.Loader})(loader);(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(he){for(var ge,te=1,re=arguments.length;te<re;te++){ge=arguments[te];for(var be in ge)Object.prototype.hasOwnProperty.call(ge,be)&&(he[be]=ge[be])}return he},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var o=jsxRuntimeExports,c=reactExports,d=server_browser,h=cjs,_=a(loader),ee=context,f=function(he){return(0,h.unescape)(he)},g=function(he){var ge=he.id,te=he.onSubmit,re=(0,c.useState)(100),be=re[0],q=re[1],se=(0,c.useRef)(null),me=(0,c.useState)({state:"initial"}),ue=me[0],ae=me[1],$=(0,c.useContext)(ee.EditorContext),ie=$.state,we=$.getEditorConfig,de=$.submitContent;(0,c.useEffect)(function(){we&&we(ge)},[ge,we]),(0,c.useEffect)(function(){var _e=function(oe){if(oe.origin===window.location.origin&&(oe.data.iFrameHeight&&q(oe.data.iFrameHeight),oe.data.h5pEditorStatus)){var Se=oe.data;Se.h5pEditorStatus==="success"&&ie.value==="loaded"&&(ae({state:"loading"}),de&&de(i(i({},Se.data),{nonce:ie.settings.nonce}),ge).then(function(Ee){te&&Ee&&te(Ee),ae({state:"loaded"})}).catch(function(Ee){ae({state:"error",error:Ee.toString()})})),Se.h5pEditorStatus==="error"&&console.log(Se.error)}};return window&&window.addEventListener("message",_e),function(){window&&window.removeEventListener("message",_e)}},[se,de,ie,te,ge]);var m=(0,c.useMemo)(function(){var _e,oe,Se,Ee=ie.value==="loaded"&&ie.settings;if(!Ee)return"";var ye=ie.value==="loaded"&&(!((_e=ie.settings)===null||_e===void 0)&&_e.contents)?(oe=ie.settings)===null||oe===void 0?void 0:oe.contents[Object.keys((Se=ie.settings)===null||Se===void 0?void 0:Se.contents)[0]]:null,je=ye?ye.jsonContent:"";try{je&&JSON.parse(je)}catch(Fe){return ae({state:"error",error:Fe&&Fe.toString()}),null}var Le=ye?ye.library:"",xe=`
    (function ($) {
        const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
        const resizeObserver = new ResizeObserver((entries) =>
            postMessage({ iFrameHeight: entries[0].contentRect.height })
        );
        const params = `).concat("`").concat(je).concat("`",`.split("\\n").join('');
            
        ns.init = function () {
            ns.$ = H5P.jQuery;
            ns.basePath = H5PIntegration.editor.libraryUrl;
            ns.fileIcon = H5PIntegration.editor.fileIcon;
            ns.ajaxPath = H5PIntegration.editor.ajaxPath;
            ns.filesPath = H5PIntegration.editor.filesPath;
            ns.apiVersion = H5PIntegration.editor.apiVersion;
            ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
            ns.assets = H5PIntegration.editor.assets;
            ns.baseUrl = H5PIntegration.baseUrl;
            ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
            if (H5PIntegration.editor.nodeVersionId !== undefined) {
                ns.contentId = H5PIntegration.editor.nodeVersionId;
            }
            const h5peditor = new ns.Editor('`).concat(Le,`', params, document.getElementById("h5p-editor"));
            H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
            H5P.externalDispatcher.on("resize", (event) => postMessage(event));
            resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
            $("#h5p-editor-submit").click(() => {
                h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
            } );
        };
        ns.getAjaxUrl = function (action, parameters) {
            var url = H5PIntegration.editor.ajaxPath + action;
            url += action === "files" ? "/`).concat(Ee.nonce,`" : "";
            url += "`).concat(Ee.token?"?_token="+Ee.token:"",`";
            if (parameters !== undefined) {
                var separator = url.indexOf("?") === -1 ? "?" : "&";
                for (var property in parameters) {
                    if (parameters.hasOwnProperty(property)) {
                        url += separator + property + "=" + parameters[property];
                        separator = "&";
                    }
                }
            }
            return url;
        };
        $(document).ready(ns.init);
    })(H5P.jQuery);
    `),Te=(0,d.renderToStaticMarkup)((0,o.jsxs)("html",{children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,o.jsx)("script",{dangerouslySetInnerHTML:{__html:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Ee),"; ")}}),Ee.core.scripts.map(function(Fe){return(0,o.jsx)("script",{src:Fe},Fe)}),Ee.core.styles.map(function(Fe){return(0,o.jsx)("link",{type:"text/css",rel:"stylesheet",href:Fe},Fe)})]}),(0,o.jsx)("body",{children:(0,o.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,o.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:"loading"})),(0,o.jsx)("p",{}),(0,o.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:"submit data"})),(0,o.jsx)("script",{dangerouslySetInnerHTML:{__html:xe}})]}))})]})),Re=f(Te);return window.URL.createObjectURL(new Blob([Re],{type:"text/html"}))},[ie]);return(0,o.jsxs)("div",i({className:"h5p-editor",style:{height:be,position:"relative"}},{children:[ue.state==="loading"&&(0,o.jsx)(_.default,{}),ue.state==="error"&&(0,o.jsxs)("p",{children:[(0,o.jsx)("pre",{children:"Error:"})," ",ue.error]}),m&&(0,o.jsx)("iframe",{ref:se,title:"editor",src:m,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=g,e.default=e.Editor})(editor$1);var player$1={},FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,i,a){var o,c,d,h,_,ee,f=0,g=!1,he=!1,ge=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);i=toNumber(i)||0,isObject(a)&&(g=!!a.leading,he="maxWait"in a,d=he?nativeMax(toNumber(a.maxWait)||0,i):d,ge="trailing"in a?!!a.trailing:ge);function te(ie){var we=o,de=c;return o=c=void 0,f=ie,h=e.apply(de,we),h}function re(ie){return f=ie,_=setTimeout(se,i),g?te(ie):h}function be(ie){var we=ie-ee,de=ie-f,m=i-we;return he?nativeMin(m,d-de):m}function q(ie){var we=ie-ee,de=ie-f;return ee===void 0||we>=i||we<0||he&&de>=d}function se(){var ie=now();if(q(ie))return me(ie);_=setTimeout(se,be(ie))}function me(ie){return _=void 0,ge&&o?te(ie):(o=c=void 0,h)}function ue(){_!==void 0&&clearTimeout(_),f=0,o=ee=c=_=void 0}function ae(){return _===void 0?h:me(now())}function $(){var ie=now(),we=q(ie);if(o=arguments,c=this,ee=ie,we){if(_===void 0)return re(ee);if(he)return _=setTimeout(se,i),te(ee)}return _===void 0&&(_=setTimeout(se,i)),h}return $.cancel=ue,$.flush=ae,$}function throttle(e,i,a){var o=!0,c=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(a)&&(o="leading"in a?!!a.leading:o,c="trailing"in a?!!a.trailing:c),debounce(e,i,{leading:o,maxWait:i,trailing:c})}function isObject(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(reTrim,"");var a=reIsBinary.test(e);return a||reIsOctal.test(e)?freeParseInt(e.slice(2),a?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_throttle=throttle;(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(ge){for(var te,re=1,be=arguments.length;re<be;re++){te=arguments[re];for(var q in te)Object.prototype.hasOwnProperty.call(te,q)&&(ge[q]=te[q])}return ge},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__spreadArray||function(ge,te,re){if(re||arguments.length===2)for(var be=0,q=te.length,se;be<q;be++)(se||!(be in te))&&(se||(se=Array.prototype.slice.call(te,0,be)),se[be]=te[be]);return ge.concat(se||Array.prototype.slice.call(te))},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,d=reactExports,h=server_browser,_=cjs,ee=o(lodash_throttle),f=o(loader),g=context,he=function(ge){var te=ge.h5pObject,re=ge.id,be=ge.onXAPI,q=ge.styles,se=q===void 0?[]:q,me=(0,d.useState)(100),ue=me[0],ae=me[1],$=(0,d.useRef)(null),ie=(0,d.useState)(!0),we=ie[0],de=ie[1],m=(0,d.useContext)(g.EditorContext),_e=m.state,oe=m.seth5pObject;(0,d.useEffect)(function(){te&&oe&&(oe(te),de(!1))},[te]);var Se=(0,d.useCallback)((0,ee.default)(function(je){ae(je)},200,{leading:!1}),[]),Ee=(0,d.useCallback)(function(je){je.data.iFrameHeight&&Se(je.data.iFrameHeight),je.data.statement&&be&&be(je.data)},[be,te,re]);(0,d.useEffect)(function(){return window&&window.addEventListener("message",Ee),function(){window&&window.removeEventListener("message",Ee)}},[$,_e,be,re]);var ye=(0,d.useMemo)(function(){var je,Le,xe,Te=_e.value==="loaded"&&_e.settings;if(!Te)return"";var Re=_e.value==="loaded"&&(!((je=_e.settings)===null||je===void 0)&&je.contents)?(Le=_e.settings)===null||Le===void 0?void 0:Le.contents[Object.keys((xe=_e.settings)===null||xe===void 0?void 0:xe.contents)[0]]:null;Te.core.styles=Te.core.styles.concat(se);var Fe=Re==null?void 0:Re.content.library.embedTypes,Ke=(0,h.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
          body, html {margin:0; padding:0;}
          iframe { border:none; margin:0; padding:0; }
          `}),(0,c.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Te),"; ")}),a(a([],Te.core.scripts,!0),Te.loadedJs,!0).map(function(tt){return(0,c.jsx)("script",{src:tt},tt)}),a(a([],Te.core.styles,!0),Te.loadedCss,!0).map(function(tt){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:tt},tt)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[Fe&&Fe==="div"||Fe===""&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":re}),Fe&&Fe==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat(re),className:"h5p-iframe","data-content-id":re,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
            (function ($) {
                const replacerFunc = () => {
                    const visited = new WeakSet();
                    return (key, value) => {
                      if (value.nodeType) return;
                      if (typeof value === "object" && value !== null) {
                        if (visited.has(value)) {
                          return;
                        }
                        visited.add(value);
                      }
                      return value;
                    };
                  };
                const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                const resizeObserver = new ResizeObserver((entries) =>
                    postMessage({ iFrameHeight: entries[0].contentRect.height })
                );
                resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                H5P.externalDispatcher.on('xAPI', function (event) {
                    try {
                      postMessage(event.data, replacerFunc())
                    } catch(err) {
                      console.error(event, err)
                    }
                });
            })(H5P.jQuery);
            `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,_.unescape)(Ke).split("&#x27;").join("'")],{type:"text/html"}))},[_e,re,te]);return(0,c.jsxs)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:[we&&(0,c.jsx)(f.default,{}),!we&&(0,c.jsx)("iframe",{ref:$,title:"player",src:ye,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:ue}})]}))};e.Player=he,e.default=e.Player})(player$1);var editor={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(he){for(var ge,te=1,re=arguments.length;te<re;te++){ge=arguments[te];for(var be in ge)Object.prototype.hasOwnProperty.call(ge,be)&&(he[be]=ge[be])}return he},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var o=jsxRuntimeExports,c=reactExports,d=server_browser,h=cjs,_=a(loader),ee=function(he){return(0,h.unescape)(he)},f=function(he,ge){var te={pl:{loading:"wgrywam dane","submit data":"przelij dane"},en:{loading:"loading","submit data":"submit data"}},re=ge;return te[re]&&te[re][he]?te[re][he]:he},g=function(he){var ge=he.id,te=he.onSubmit,re=he.state,be=he.allowSameOrigin,q=be===void 0?!1:be,se=he.onError,me=he.loading,ue=me===void 0?!1:me,ae=he.lang,$=ae===void 0?"pl":ae,ie=he.iframeId,we=ie===void 0?"h5p-editor":ie,de=(0,c.useState)(100),m=de[0],_e=de[1],oe=(0,c.useRef)(null);(0,c.useEffect)(function(){var Ee=function(ye){if(!(ye.origin!==window.location.origin&&!q)&&(ye.data.iFrameHeight&&_e(ye.data.iFrameHeight),ye.data.h5pEditorStatus)){var je=ye.data;je.h5pEditorStatus==="success"&&te&&te(i(i({},je.data),{nonce:re.nonce}),ge),je.h5pEditorStatus==="error"&&se&&se(je.error)}};return window&&window.addEventListener("message",Ee),function(){window&&window.removeEventListener("message",Ee)}},[oe,re,te,ge]);var Se=(0,c.useMemo)(function(){var Ee=re;if(!Ee)return"";var ye=re.contents?re==null?void 0:re.contents[Object.keys(re.contents)[0]]:null,je=ye?ye.jsonContent:"";try{je&&JSON.parse(je)}catch(Fe){return se&&se(Fe&&Fe.toString()),null}var Le=ye?ye.library:"",xe=`
      (function ($) {
          const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
          const resizeObserver = new ResizeObserver((entries) =>
              postMessage({ iFrameHeight: entries[0].contentRect.height })
          );
          const params = `).concat("`").concat(je).concat("`",`.split("\\n").join('');
          let token = "`).concat(re.token,`";
          
          const onMessage = (e) => {
            if(e.data?.type === "TOKEN_CHANGED") {
              token = e.data?.token ?? null;
            }
          };
          
          window.addEventListener("message", onMessage);
              
          ns.init = function () {
              ns.$ = H5P.jQuery;
              ns.basePath = H5PIntegration.editor.libraryUrl;
              ns.fileIcon = H5PIntegration.editor.fileIcon;
              ns.ajaxPath = H5PIntegration.editor.ajaxPath;
              ns.filesPath = H5PIntegration.editor.filesPath;
              ns.apiVersion = H5PIntegration.editor.apiVersion;
              ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
              ns.assets = H5PIntegration.editor.assets;
              ns.baseUrl = H5PIntegration.baseUrl;
              ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
              if (H5PIntegration.editor.nodeVersionId !== undefined) {
                  ns.contentId = H5PIntegration.editor.nodeVersionId;
              }
              const h5peditor = new ns.Editor('`).concat(Le,`', params, document.getElementById("h5p-editor"));
              H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
              H5P.externalDispatcher.on("resize", (event) => postMessage(event));
              resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
              $("#h5p-editor-submit").click(() => {
                  h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
              } );
          };
          ns.getAjaxUrl = function (action, parameters) {
              var url = H5PIntegration.editor.ajaxPath + action;
              url += action === "files" ? "/`).concat(Ee.nonce,`" : "";
              url += token ? "?_token=" + token : "";
              url += "`).concat($?"&lang="+$:"",`";
              if (parameters !== undefined) {
                  var separator = url.indexOf("?") === -1 ? "?" : "&";
                  for (var property in parameters) {
                      if (parameters.hasOwnProperty(property)) {
                          url += separator + property + "=" + parameters[property];
                          separator = "&";
                      }
                  }
              }
              return url;
          };
          $(document).ready(ns.init);
      })(H5P.jQuery);
      `),Te=(0,d.renderToStaticMarkup)((0,o.jsxs)("html",{children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,o.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Ee),"; ")}),Ee.core.scripts.map(function(Fe){return(0,o.jsx)("script",{src:Fe},Fe)}),Ee.core.styles.map(function(Fe){return(0,o.jsx)("link",{type:"text/css",rel:"stylesheet",href:Fe},Fe)})]}),(0,o.jsx)("body",{children:(0,o.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,o.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:f("loading",$)})),(0,o.jsx)("p",{}),(0,o.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:f("submit data",$)})),(0,o.jsx)("script",{dangerouslySetInnerHTML:{__html:xe}})]}))})]})),Re=ee(Te);return window.URL.createObjectURL(new Blob([Re],{type:"text/html"}))},[re]);return(0,o.jsxs)("div",i({className:"h5p-editor",style:{height:m,position:"relative"}},{children:[ue&&(0,o.jsx)(_.default,{}),Se&&(0,o.jsx)("iframe",{ref:oe,title:"editor",src:Se,id:we,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=g,e.default=e.Editor})(editor);var player={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(ge){for(var te,re=1,be=arguments.length;re<be;re++){te=arguments[re];for(var q in te)Object.prototype.hasOwnProperty.call(te,q)&&(ge[q]=te[q])}return ge},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__spreadArray||function(ge,te,re){if(re||arguments.length===2)for(var be=0,q=te.length,se;be<q;be++)(se||!(be in te))&&(se||(se=Array.prototype.slice.call(te,0,be)),se[be]=te[be]);return ge.concat(se||Array.prototype.slice.call(te))},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,d=reactExports,h=server_browser,_=cjs,ee=o(lodash_throttle),f=function(ge){return ge.includes("://")};function g(ge){var te=Uint16Array.from({length:ge.length},function(q,se){return ge.charCodeAt(se)}),re=new Uint8Array(te.buffer),be="";return re.forEach(function(q){be+=String.fromCharCode(q)}),be}var he=function(ge){var te=ge.onXAPI,re=ge.state,be=ge.styles,q=be===void 0?[]:be;ge.lang;var se=(0,d.useState)(100),me=se[0],ue=se[1],ae=(0,d.useRef)(null),$=(0,d.useMemo)(function(){if(re!=null&&re.contents){var m=Number(Object.keys(re==null?void 0:re.contents)[0].split("-")[1]);return isNaN(m)?0:m}return 0},[re]),ie=(0,d.useCallback)((0,ee.default)(function(m){ue(m)},200,{leading:!1}),[]),we=(0,d.useCallback)(function(m){m.data.iFrameHeight&&ie(m.data.iFrameHeight),m.data.statement&&te&&te(m.data)},[te,re,ae]);(0,d.useEffect)(function(){return window&&window.addEventListener("message",we),function(){window&&window.removeEventListener("message",we)}},[ae,re,te]);var de=(0,d.useMemo)(function(){var m=re;if(!m)return"";m.core.styles=m.core.styles.concat(q);var _e=re!=null&&re.contents?re==null?void 0:re.contents[Object.keys(re==null?void 0:re.contents)[0]]:null,oe=m.loadedJs&&m.loadedJs.length>0?"div":"iframe";m.core.scripts=m.core.scripts.map(function(ye){return f(ye)?ye:f(m.baseUrl)?"".concat(m.baseUrl,"/").concat(ye,";"):ye});var Se=f(m.baseUrl)?m.baseUrl+"/":"",Ee=(0,h.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
            body, html {margin:0; padding:0;}
            iframe { border:none; margin:0; padding:0; }
            `}),(0,c.jsx)("script",{children:`
            window._aaa = '`.concat(btoa(g(JSON.stringify(m,null,2))),`';          
            function fromBinary(r){let e=Uint8Array.from({length:r.length},(e,n)=>r.charCodeAt(n)),n=new Uint16Array(e.buffer),o="";return n.forEach(r=>{o+=String.fromCharCode(r)}),o};
            const H5PIntegration = window.H5PIntegration = JSON.parse(fromBinary(atob('`).concat(btoa(g(JSON.stringify(m,null,2))),`')))
            `)}),a(a(a([],m.core.scripts?m.core.scripts:[],!0),m.loadedJs?m.loadedJs:[],!0),_e!=null&&_e.scripts?_e==null?void 0:_e.scripts:[],!0).map(function(ye){return(0,c.jsx)("script",{src:f(ye)?ye:Se+ye},ye)}),a(a(a([],m.core.styles?m.core.styles:[],!0),m.loadedCss?m.loadedCss:[],!0),_e!=null&&_e.styles?_e==null?void 0:_e.styles:[],!0).map(function(ye){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:f(ye)?ye:Se+ye},ye)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[oe&&oe==="div"&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":$}),oe&&oe==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat($),className:"h5p-iframe","data-content-id":$,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
              (function ($) {
                  const replacerFunc = () => {
                      const visited = new WeakSet();
                      return (key, value) => {
                        if (value.nodeType) return;
                        if (typeof value === "object" && value !== null) {
                          if (visited.has(value)) {
                            return;
                          }
                          visited.add(value);
                        }
                        return value;
                      };
                    };
                  const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                  const resizeObserver = new ResizeObserver((entries) =>
                      postMessage({ iFrameHeight: entries[0].contentRect.height })
                  );
                  resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                  H5P.externalDispatcher.on('xAPI', function (event) {
                      try {
                        postMessage(event.data, replacerFunc())
                      } catch(err) {
                        console.error(event, err)
                      }
                  });
              })(H5P.jQuery);
              `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,_.unescape)(Ee).split("&#x27;").join("'")],{type:"text/html"}))},[re]);return(0,c.jsx)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:(0,c.jsx)("iframe",{ref:ae,title:"player",src:de,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:me}})}))};e.Player=he,e.default=e.Player})(player);(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextlessPlayer=e.ContextlessEditor=e.Player=e.Editor=e.EditorContext=e.EditorContextProvider=void 0;var a=context;Object.defineProperty(e,"EditorContextProvider",{enumerable:!0,get:function(){return a.EditorContextProvider}}),Object.defineProperty(e,"EditorContext",{enumerable:!0,get:function(){return a.EditorContext}});var o=i(editor$1);e.Editor=o.default;var c=i(player$1);e.Player=c.default;var d=i(editor);e.ContextlessEditor=d.default;var h=i(player);e.ContextlessPlayer=h.default,e.default={EditorContextProvider:a.EditorContextProvider,EditorContext:a.EditorContext,Editor:o.default,Player:c.default,ContextlessEditor:d.default,ContextlessPlayer:h.default}})(lib);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(me,ue){return Object.defineProperty?Object.defineProperty(me,"raw",{value:ue}):me.raw=ue,me},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(me){for(var ue,ae=1,$=arguments.length;ae<$;ae++){ue=arguments[ae];for(var ie in ue)Object.prototype.hasOwnProperty.call(ue,ie)&&(me[ie]=ue[ie])}return me},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(me,ue,ae,$){$===void 0&&($=ae);var ie=Object.getOwnPropertyDescriptor(ue,ae);(!ie||("get"in ie?!ue.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return ue[ae]}}),Object.defineProperty(me,$,ie)}:function(me,ue,ae,$){$===void 0&&($=ae),me[$]=ue[ae]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(me,ue){Object.defineProperty(me,"default",{enumerable:!0,value:ue})}:function(me,ue){me.default=ue}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(me){if(me&&me.__esModule)return me;var ue={};if(me!=null)for(var ae in me)ae!=="default"&&Object.prototype.hasOwnProperty.call(me,ae)&&o(ue,me,ae);return c(ue,me),ue};Object.defineProperty(e,"__esModule",{value:!0}),e.H5Player=void 0;var h=jsxRuntimeExports,_=reactExports,ee=d(require$$6$1),f=lib,g=requireContext(),he=provider,ge=Spin,te=utils$3,re=(0,ee.default)("div")(q||(q=i([`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`],[`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`])),function(me){return me.theme.buttonRadius||0}),be=function(me){var ue=me.uuid,ae=me.onXAPI,$=me.onTopicEnd,ie=me.overwriteFileName,we=ie===void 0?"h5p_overwrite.css":ie,de=me.h5pObject,m=me.loading,_e=m===void 0?!1:m,oe=me.className,Se=oe===void 0?"":oe,Ee=me.hideActionButtons,ye=(0,_.useContext)(g.EscolaLMSContext),je=ye.fetchH5P,Le=ye.h5p;(0,_.useEffect)(function(){ue&&je(ue)},[ue,je]);var xe=(0,_.useContext)(ee.ThemeContext),Te=(0,te.getStylesBasedOnTheme)(xe.mode,xe.white,xe.black),Re=(0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__background,xe.background),Fe=(0,te.getStylesBasedOnTheme)(xe.mode,"transparent",xe.gray5),Ke=(0,te.getStylesBasedOnTheme)(xe.mode,xe.white,xe.gray1),tt=(0,_.useMemo)(function(){var Pe=`
    @import url("https://fonts.googleapis.com/css2?family=`.concat(xe.font,`:wght@400;500;700&display=swap");

    *:not([class^="h5p-icon"]) {
      font-family: `).concat((0,he.getFontFromTheme)(xe).fontFamily,`!important;
    }
    button {
      border-radius: `).concat(xe.buttonRadius,`px!important;
    }
    input, textarea {
      border-radius: `).concat(xe.inputRadius,`px!important;
    }
    .h5p-baq-intro-page {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__secondaryColor,xe.secondaryColor,xe.primaryColor),` !important;
      color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    }
    .h5p-joubelui-button.mq-control-button {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
      border-bottom: none!important;
      text-shadow: none!important;
      border-radius: `).concat(xe.buttonRadius,`px!important;
    }
    .h5p-joubelui-button {
      border-radius: `).concat(xe.buttonRadius,`px!important;
    }
    .h5p-baq-intro-page-title {
      text-shadow: none!important;
      color: `).concat(xe.white,` !important;
    }
    .h5p-baq {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    }
    .h5p-baq-countdown-text {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    }
    .h5p-baq-countdown-bg.fuel {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-joubelui-progressbar-background {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-baq-alternatives > .h5p-joubelui-button:active, .h5p-baq-alternatives > .h5p-joubelui-button:hover {
      background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
   .odometer-value {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
   }
   .h5p-question {
    background: `).concat(Re,` !important;
    color: `).concat(Te,`!important;
   }
   .h5peditor .ui-dialog .h5p-joubelui-button, .h5peditor .h5p-joubelui-button, .h5p-joubelui-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
   }
   .h5p-crossword-cell.h5p-crossword-cell-empty {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.gray2,xe.gray3),` !important;
   }
   .h5p-crossword-input-fields-group-input {
    background:`).concat(Fe,` !important;
    border: 1px solid `).concat(Ke,`!important;
    color: `).concat(Te,` !important;
   }
   .h5p-crossword .h5p-crossword-cell:not(.h5p-crossword-solution-correct):not(.h5p-crossword-solution-wrong):not(.h5p-crossword-solution-neutral).h5p-crossword-highlight-normal {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-crossword .h5p-crossword-input-fields-group-wrapper-clue.h5p-crossword-input-fields-group-clue-highlight-focus .h5p-crossword-input-fields-group-clue-id {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
    color: `).concat(xe.white,`!important;
   }
   .h5p-crossword .h5p-crossword-cell.h5p-crossword-highlight-normal .h5p-crossword-cell-canvas {
    color: `).concat(xe.white,`!important;
   }
   .h5p-dialogcards {
      background: `).concat(Re,` !important;
      color: `).concat(Te,`!important;
   }
   .h5p-dialogcards-card-content {
    background: `).concat(Re,` !important;
   }
   .h5p-dialogcards .h5p-audio-minimal-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-essay-input-field-textfield {
    background: `).concat(Fe,` !important;
    border: 1px solid `).concat(Ke,`!important;
    color: `).concat(Te,`!important;
   }
   .h5p-question-feedback-content-text {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-question-explanation-container {
    background: `).concat(Re,` !important;
   }
   .h5p-question-explanation-item {
    background: `).concat(Re,` !important;
   }
   .h5p-accordion .h5p-panel-content {
    color: `).concat(Te,`!important;
   }
   .h5p-accordion .h5p-panel-title {
    color: `).concat(Te,`!important;
   }
   .h5p-panel-content h5p-advanced-text {
    color: `).concat(Te,`!important;
   }
   .h5p-status dt {
    color: `).concat(Te,`!important;  
   }
   .h5p-status dd {
    color: `).concat(Te,`!important;  
   }
   .h5p-accordion .h5p-panel-title:before {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-accordion {
    background: `).concat(Re,` !important;
    color: `).concat(Te,`!important;
   }
   .h5p-panel-title {
    color: `).concat(Te,`!important;
   }
   .h5p-panel-expanded {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-questionnaire-element.h5p-questionnaire-required .h5p-subcontent-question {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
    color: `).concat(xe.white,`!important;
   }
   .h5p-questionnaire-required-symbol {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-questionnaire-progress-bar-current {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    filter: brightness(0.8) !important;
   }
   .h5p-questionnaire-footer {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.gray2,xe.gray4),` !important;
    border: none!important;
   }
   .h5p-questionnaire-button, .h5peditor .h5p-questionnaire-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    border: none!important;
   }
   .h5p-open-ended-question-input {
    background: `).concat(Fe,` !important;
    border: 1px solid `).concat(Ke,`!important;
    color: `).concat(Te,`!important;
    width: 100%!important;
    max-width: 100%!important;
   }
   .h5p-open-ended-question-content {
    background: `).concat(Re,` !important;
   }
   .h5p-open-ended-question-question:before {
    background: `).concat(Re,` !important;
   }
   .h5p-questionnaire-progress-bar {
    background: `).concat(xe.gray2,` !important;
   }
   .h5p-open-ended-question-question, 
   .h5p-simple-multiple-choice-question, 
   h5p-subcontent-question {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
   }
   .h5p-true-false-answer {
    background: `).concat(Re,`!important;
   }
   .h5p-true-false-answer[aria-checked=true] {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
    color: `).concat(xe.white,`!important;
    border: 1px solid `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-true-false-answer:focus {
    box-shadow: 0 0 0 1px `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-alternative-container {
    background: `).concat(Fe,` !important;
    border: 1px solid `).concat(Ke,`!important;
    box-shadow: none!important;
   }
   .h5p-multichoice .h5p-answer[aria-checked="true"] .h5p-alternative-container {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-answer .h5p-alternative-container:before {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.gray4,xe.gray2),`!important;
    border-radius: `).concat(xe.checkboxRadius,`!important;
   }
   .h5p-question-feedback {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   ul.h5p-sc-alternatives li.h5p-sc-alternative {
    background: `).concat(Fe,` !important;
    border: 1px solid `).concat(Ke,`!important;
    box-shadow: none!important;
   }
   li.h5p-sc-alternative .h5p-sc-progressbar {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
  
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:hover, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:active, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:focus {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,"lime","green"),`!important;
   }
   .h5p-image-hotspot-popup {
    background: `).concat(Re,` !important;
    color: `).concat(Te,`!important;
   }
   .h5p-image-hotspots {
    background-color: `).concat(Re,` !important;
   }
   .h5p-image-hotspot-popup-pointer {
    border-left: 0.6em solid `).concat(Re,`!important;
   }
   .h5p-image-sequencing {
    background: `).concat(Re,` !important;
    color: `).concat(Te,`!important;
   }
   .h5p-task-description {
    color: `).concat(Te,`!important;
   }
   .draggabled .image-desc .text {
    color: `).concat(Te,`!important;
   }
   .h5p-guess-answer {
    background: `).concat(Re,` !important;
   }
   .h5p-content {
    background: `).concat(Re,` !important;
   }
   .h5p-guess-answer-title {
    color: `).concat(Te,`!important;
   }
   .show-solution-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    color: `).concat(xe.white,`!important;
   }
   .solution-text {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-image-slider-progress-element {
    background: transparent !important;
    border: 1px solid `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
    border-radius: `).concat(xe.buttonRadius,`px!important;
    width: 9px!important;
    height: 9px!important;
   }
   .h5p-image-slider-current-progress-element {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
   }
   .h5p-memory-reset {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),` !important;
    color: "#fff"!important;
   }
   .h5p-feedback h5p-show {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-memory-game .h5p-memory-top {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.gray2,xe.gray4),` !important;
   }
   .h5p-memory-game .h5p-memory-pop {
    background: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.gray1,xe.gray3),` !important;
   }
   .h5p-memory-game .h5p-programatically-focusable {
    color: `).concat((0,te.getStylesBasedOnTheme)(xe.mode,xe.dm__primaryColor,xe.primaryColor,xe.primaryColor),`!important;
   }
   .h5p-content ul.h5p-actions {
    display: `).concat(Ee?"none":"block",`;
  }
  `);return"data:text/css;base64,".concat(btoa(Pe))},[xe,Ee]);return(0,h.jsxs)(re,a({className:"wellms-component ".concat(Se)},{children:[(Le&&Le.loading||_e)&&(0,h.jsx)("div",a({className:"h5p-loading"},{children:(0,h.jsx)(ge.Spin,{})})),(Le.value||de)&&(0,h.jsx)(f.ContextlessPlayer,{state:Le.value||de,onXAPI:function(Pe){var ne,fe;ae==null||ae(Pe),!((fe=(ne=Pe==null?void 0:Pe.statement)===null||ne===void 0?void 0:ne.result)===null||fe===void 0)&&fe.success&&($==null||$())},styles:["".concat(window.location.origin,"/").concat(we),tt]},tt)]}))};e.H5Player=be,e.default=(0,ee.withTheme)((0,ee.default)(e.H5Player)(se||(se=i([""],[""]))));var q,se})(H5Player);var quizzes={},gfit_quiz={},__assign$c=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$c=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$c.apply(this,arguments)},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,a,o){function c(d){return d instanceof a?d:new a(function(h){h(d)})}return new(a||(a=Promise))(function(d,h){function _(g){try{f(o.next(g))}catch(he){h(he)}}function ee(g){try{f(o.throw(g))}catch(he){h(he)}}function f(g){g.done?d(g.value):c(g.value).then(_,ee)}f((o=o.apply(e,i||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(e,i){var a={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function _(f){return function(g){return ee([f,g])}}function ee(f){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,c&&(d=f[0]&2?c.return:f[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,f[1])).done)return d;switch(c=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,c=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(d=a.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){a.label=f[1];break}if(f[0]===6&&a.label<d[1]){a.label=d[1],d=f;break}if(d&&a.label<d[2]){a.label=d[2],a.ops.push(f);break}d[2]&&a.ops.pop(),a.trys.pop();continue}f=i.call(e,a)}catch(g){f=[6,g],c=0}finally{o=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gfit_quiz,"__esModule",{value:!0});gfit_quiz.quizAttemptFinish=gfit_quiz.getQuizAttempt=gfit_quiz.getQuizAttempts=gfit_quiz.quizAnswer=gfit_quiz.quizAttempt=void 0;var umi_request_1=__importDefault$8(require$$0$1),utils_1$7=utils$4;function quizAttempt(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"POST",data:a,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.quizAttempt=quizAttempt;function quizAnswer(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-answers"),__assign$c({method:"POST",data:a,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.quizAnswer=quizAnswer;function getQuizAttempts(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"GET",params:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.getQuizAttempts=getQuizAttempts;function getQuizAttempt(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(a),__assign$c({method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.getQuizAttempt=getQuizAttempt;function quizAttemptFinish(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(a,"/end"),__assign$c({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.quizAttemptFinish=quizAttemptFinish;var GiftQuizPlayerContent={},MultipleChoice$1={},DefaultQuestionLayout$1={},__makeTemplateObject$a=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$b=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$b=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$b.apply(this,arguments)},__createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$a(i,e,a);return __setModuleDefault$a(i,e),i},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a};Object.defineProperty(DefaultQuestionLayout$1,"__esModule",{value:!0});var jsx_runtime_1$b=jsxRuntimeExports,react_1$3=reactExports,react_transition_group_1=require$$2$3,styled_components_1$a=__importStar$a(require$$6$1),__1$a=requireLib(),RelativeText=(0,styled_components_1$a.default)(__1$a.Text)(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  position: relative;
  width: max-content;
`],[`
  position: relative;
  width: max-content;
`]))),scoreBackgrounds=function(e,i){switch(e){case"positive":return i.positive;case"negative":return i.dm__errorColor;default:return i.primaryColor}},ScoreIndicator=styled_components_1$a.default.span(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$a([`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`],[`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`])),function(e){var i=e.theme,a=e.$scoreState;return scoreBackgrounds(a,i)}),LeftPaddingStack=(0,styled_components_1$a.default)(__1$a.Stack)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$a([`
  padding-left: 12px;
`],[`
  padding-left: 12px;
`])));function determineResultScoreState(e){if(e){if(e>0)return"positive";if(e<0)return"negative"}else return"neutral";return"neutral"}var resultScoreSign={positive:"+",neutral:"",negative:"-"},DefaultQuestionLayout=function(e){var i=e.title,a=e.question,o=e.children,c=e.showScore,d=e.resultScore,h=__rest(e,["title","question","children","showScore","resultScore"]),_=determineResultScoreState(d),ee=(0,react_1$3.useRef)(null);return(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({},h,{$gap:6},{children:[(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({$gap:2},{children:[i&&(0,jsx_runtime_1$b.jsx)(__1$a.Title,__assign$b({level:"2"},{children:i})),(0,jsx_runtime_1$b.jsxs)(RelativeText,{children:[a,(0,jsx_runtime_1$b.jsx)(react_transition_group_1.CSSTransition,__assign$b({in:c,nodeRef:ee,timeout:200,classNames:"fade",unmountOnExit:!0},{children:(0,jsx_runtime_1$b.jsx)(ScoreIndicator,__assign$b({ref:ee,$scoreState:_},{children:"".concat(resultScoreSign[_]).concat(d??0)}))}))]})]})),(0,jsx_runtime_1$b.jsx)(LeftPaddingStack,__assign$b({$gap:4},{children:o}))]}))};DefaultQuestionLayout$1.default=(0,styled_components_1$a.withTheme)((0,styled_components_1$a.default)(DefaultQuestionLayout)(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$a([""],[""]))));var templateObject_1$a,templateObject_2$3,templateObject_3$3,templateObject_4$1,__makeTemplateObject$9=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$a=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$a=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$a.apply(this,arguments)},__createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$9(i,e,a);return __setModuleDefault$9(i,e),i},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoice$1,"__esModule",{value:!0});var jsx_runtime_1$a=jsxRuntimeExports,__1$9=requireLib(),utils_1$6=utils$3,DefaultQuestionLayout_1$6=__importDefault$7(DefaultQuestionLayout$1),styled_components_1$9=__importStar$9(require$$6$1),MultipleChoice=function(e){var i=e.question,a=e.id,o=e.options,c=e.title,d=e.onChange,h=e.onBlur,_=e.value,ee=e.hasQuizEnded,f=e.resultScore;return(0,jsx_runtime_1$a.jsx)(DefaultQuestionLayout_1$6.default,__assign$a({"data-testid":"multiple-choice-".concat(i),title:c,question:i,resultScore:f,showScore:ee},{children:o==null?void 0:o.answers.map(function(g){return(0,jsx_runtime_1$a.jsx)(__1$9.Radio,{label:g,id:(0,utils_1$6.getUniqueId)(g),value:g,disabled:ee,name:"".concat(a),checked:_===g,onChange:d,onBlur:h},g)})}))};MultipleChoice$1.default=(0,styled_components_1$9.withTheme)((0,styled_components_1$9.default)(MultipleChoice)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([""],[""]))));var templateObject_1$9,MultipleChoiceWithMultipleRightAnswers$1={},__makeTemplateObject$8=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$9.apply(this,arguments)},__createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$8(i,e,a);return __setModuleDefault$8(i,e),i},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoiceWithMultipleRightAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$9=jsxRuntimeExports,__1$8=requireLib(),utils_1$5=utils$3,DefaultQuestionLayout_1$5=__importDefault$6(DefaultQuestionLayout$1),styled_components_1$8=__importStar$8(require$$6$1),MultipleChoiceWithMultipleRightAnswers=function(e){var i=e.id,a=e.question,o=e.title,c=e.options,d=e.onChange,h=e.onBlur,_=e.values,ee=e.hasQuizEnded,f=e.resultScore,g=function(he){var ge;return(ge=Object.entries(_).find(function(te){var re=te[0];return re===he}))===null||ge===void 0?void 0:ge[1]};return(0,jsx_runtime_1$9.jsx)(DefaultQuestionLayout_1$5.default,__assign$9({"data-testid":"multiple-choice-multiple-right-".concat(a),title:o,question:a,resultScore:f,showScore:ee},{children:c==null?void 0:c.answers.map(function(he){return(0,jsx_runtime_1$9.jsx)(__1$8.Checkbox,{label:he,disabled:ee,id:(0,utils_1$5.getUniqueId)(he),value:he,name:"".concat(i,".").concat(he),checked:g(he),onChange:d,onBlur:h},he)})}))};MultipleChoiceWithMultipleRightAnswers$1.default=(0,styled_components_1$8.withTheme)((0,styled_components_1$8.default)(MultipleChoiceWithMultipleRightAnswers)(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([""],[""]))));var templateObject_1$8,TrueFalse$1={},__makeTemplateObject$7=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$8.apply(this,arguments)},__createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$7(i,e,a);return __setModuleDefault$7(i,e),i},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TrueFalse$1,"__esModule",{value:!0});var jsx_runtime_1$8=jsxRuntimeExports,__1$7=requireLib(),utils_1$4=utils$3,DefaultQuestionLayout_1$4=__importDefault$5(DefaultQuestionLayout$1),styled_components_1$7=__importStar$7(require$$6$1),inputs=[{value:"true",label:"True"},{value:"false",label:"False"}],TrueFalse=function(e){var i=e.question,a=e.id,o=e.title,c=e.onChange,d=e.onBlur,h=e.value,_=e.hasQuizEnded,ee=e.resultScore;return(0,jsx_runtime_1$8.jsx)(DefaultQuestionLayout_1$4.default,__assign$8({"data-testid":"true-false-".concat(i),title:o,question:i,resultScore:ee,showScore:_},{children:inputs.map(function(f){return(0,jsx_runtime_1$8.jsx)(__1$7.Radio,{label:f.label,disabled:_,id:(0,utils_1$4.getUniqueId)(f.label),value:f.value,name:"".concat(a),checked:h===f.value,onChange:c,onBlur:d},f.value)})}))};TrueFalse$1.default=(0,styled_components_1$7.withTheme)((0,styled_components_1$7.default)(TrueFalse)(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([""],[""]))));var templateObject_1$7,ShortAnswers$1={},__makeTemplateObject$6=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$7.apply(this,arguments)},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$6(i,e,a);return __setModuleDefault$6(i,e),i},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ShortAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$7=jsxRuntimeExports,react_i18next_1$4=require$$3,__1$6=requireLib(),utils_1$3=utils$3,DefaultQuestionLayout_1$3=__importDefault$4(DefaultQuestionLayout$1),styled_components_1$6=__importStar$6(require$$6$1),ShortAnswers=function(e){var i=e.question,a=e.title,o=e.id,c=e.onChange,d=e.onBlur,h=e.value,_=e.hasQuizEnded,ee=e.resultScore,f=(0,react_i18next_1$4.useTranslation)().t;return(0,jsx_runtime_1$7.jsx)(DefaultQuestionLayout_1$3.default,__assign$7({"data-testid":"short-answers-".concat(i),title:a,question:i,resultScore:ee,showScore:_},{children:(0,jsx_runtime_1$7.jsx)(__1$6.Input,{placeholder:f("Quiz.TypeAnswer"),id:(0,utils_1$3.getUniqueId)("ShortAnswers-".concat(o)),name:"".concat(o),disabled:_,value:h,onChange:c,onBlur:d})}))};ShortAnswers$1.default=(0,styled_components_1$6.withTheme)((0,styled_components_1$6.default)(ShortAnswers)(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([""],[""]))));var templateObject_1$6,Matching$1={},bezierLine={},__assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$6.apply(this,arguments)};Object.defineProperty(bezierLine,"__esModule",{value:!0});bezierLine.BezierLine=void 0;var jsx_runtime_1$6=jsxRuntimeExports,BezierLine=function(e){var i=e.x1,a=e.y1,o=e.x2,c=e.y2,d=(a+c)/2,h=(i+o)/4,_="M ".concat(i," ").concat(a," Q ").concat(h," ").concat(a,", ").concat(2*h," ").concat(d," T ").concat(o," ").concat(c);return(0,jsx_runtime_1$6.jsx)("svg",__assign$6({fill:"none",style:{position:"absolute",width:"100%",height:"100%"}},{children:(0,jsx_runtime_1$6.jsx)("path",{d:_,stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}))};bezierLine.BezierLine=BezierLine;var __makeTemplateObject$5=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$5.apply(this,arguments)},__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$5(i,e,a);return __setModuleDefault$5(i,e),i},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Matching$1,"__esModule",{value:!0});var jsx_runtime_1$5=jsxRuntimeExports,react_1$2=reactExports,__1$5=requireLib(),styled_components_1$5=__importStar$5(require$$6$1),bezierLine_1=bezierLine,DefaultQuestionLayout_1$2=__importDefault$3(DefaultQuestionLayout$1),utils_1$2=utils$3,chroma_js_1=__importDefault$3(chromaExports),MatcherWrapper=styled_components_1$5.default.div(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  position: relative;
`],[`
  position: relative;
`]))),StyledRow=(0,styled_components_1$5.default)(__1$5.Row)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$5([`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`],[`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`])),function(e){var i=e.theme;return(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),circle=(0,styled_components_1$5.css)(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$5([`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`],[`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`])),function(e){var i=e.theme;return(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__cardBackgroundColor,i.cardBackgroundColor)}),StartCircle=styled_components_1$5.default.div(templateObject_4||(templateObject_4=__makeTemplateObject$5([`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,a=e.checked;return a?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),EndCircle=styled_components_1$5.default.div(templateObject_5||(templateObject_5=__makeTemplateObject$5([`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,a=e.checked;return a?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),OptionListItem=styled_components_1$5.default.li(templateObject_6||(templateObject_6=__makeTemplateObject$5([`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`],[`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`])),function(e){var i=e.theme,a=e.checked;return a?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()},function(e){var i=e.disabled;return i?"default":"pointer"},function(e){var i=e.disabled;return i?"none":"all"},function(e){var i=e.disabled;return i?"0.5":"1"}),getDefaultValues=function(e,i){var a;return(a=e??[])===null||a===void 0?void 0:a.map(function(o){return{startOption:{name:o,x:0,y:0},endOption:i[o]?{name:i[o],x:0,y:0}:null}})},createStartOptionObj=function(e){return e.reduce(function(i,a){var o;return __assign$5(__assign$5({},i),(o={},o[a.id]={name:a.id,x:a==null?void 0:a.offsetWidth,y:(a==null?void 0:a.offsetTop)+(a==null?void 0:a.offsetHeight)/2},o))},{})},createEndOptionObj=function(e,i){return e.reduce(function(a,o){var c;return __assign$5(__assign$5({},a),(c={},c[o.id]={name:o.id,x:i.offsetWidth-o.offsetWidth,y:o.offsetTop+o.offsetHeight/2},c))},{})},Matching=function(e){var i=e.question,a=e.options,o=e.onChange,c=e.title,d=e.values,h=e.hasQuizEnded,_=e.resultScore,ee=(0,react_1$2.useState)(null),f=ee[0],g=ee[1],he=(0,react_1$2.useState)(getDefaultValues(a==null?void 0:a.sub_questions,d)),ge=he[0],te=he[1],re=(0,react_1$2.useRef)(null),be=(0,react_1$2.useRef)(null),q=(0,react_1$2.useRef)(null),se=(0,react_1$2.useCallback)(function(ae){return function($){if(!h){var ie={name:ae,x:$.currentTarget.offsetWidth,y:$.currentTarget.offsetTop+$.currentTarget.offsetHeight/2};g(ie),te(function(we){return we.map(function(de){return de.startOption.name===ae?{startOption:ie,endOption:de.endOption}:de})})}}},[h]),me=(0,react_1$2.useCallback)(function(ae){return function($){if(re.current&&!h){var ie={name:ae,x:re.current.offsetWidth-$.currentTarget.offsetWidth,y:$.currentTarget.offsetTop+$.currentTarget.offsetHeight/2};te(function(we){return we.map(function(de){var m=de.startOption,_e=de.endOption;return m.name===(f==null?void 0:f.name)?{startOption:m,endOption:ie}:{startOption:m,endOption:_e}})}),g(null)}}},[h,f==null?void 0:f.name]),ue=(0,react_1$2.useCallback)(function(){if(be.current&&q.current&&re.current){var ae=Array.from(be.current.children),$=Array.from(q.current.children),ie=createStartOptionObj(ae),we=createEndOptionObj($,re.current);te(function(de){return de.map(function(m){var _e=m.startOption,oe=m.endOption;return{startOption:ie[_e.name],endOption:oe!=null&&oe.name?we[oe.name]:oe}})})}},[]);return(0,react_1$2.useEffect)(function(){o({matching:ge.reduce(function(ae,$){var ie,we,de;return __assign$5(__assign$5({},ae),(ie={},ie[$.startOption.name]=(de=(we=$.endOption)===null||we===void 0?void 0:we.name)!==null&&de!==void 0?de:"",ie))},{})})},[ge]),(0,react_1$2.useEffect)(function(){var ae=Object.values(d).length===0;ae&&te(getDefaultValues(a.sub_questions,d))},[a,d]),(0,react_1$2.useEffect)(function(){ue()},[ue]),(0,jsx_runtime_1$5.jsx)(DefaultQuestionLayout_1$2.default,__assign$5({"data-testid":"matching-".concat(i),title:c,question:i,resultScore:_,showScore:h},{children:(0,jsx_runtime_1$5.jsx)(MatcherWrapper,__assign$5({ref:re},{children:(0,jsx_runtime_1$5.jsxs)(StyledRow,__assign$5({$justifyContent:"space-between"},{children:[(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:be},{children:a==null?void 0:a.sub_questions.map(function(ae){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({className:ae,id:ae,disabled:h,onClick:se(ae),checked:(f==null?void 0:f.name)===ae},{children:[(0,jsx_runtime_1$5.jsx)(StartCircle,{checked:(f==null?void 0:f.name)===ae}),ae]}),ae)})})),ge.map(function(ae,$){return ae.endOption&&(0,jsx_runtime_1$5.jsx)(bezierLine_1.BezierLine,{x1:ae.startOption.x,x2:ae.endOption.x,y1:ae.startOption.y,y2:ae.endOption.y},$)}),(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:q},{children:a==null?void 0:a.sub_answers.map(function(ae){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({id:ae,className:ae,disabled:h,onClick:me(ae)},{children:[(0,jsx_runtime_1$5.jsx)(EndCircle,{}),ae]}),ae)})}))]}))}))}))};Matching$1.default=(0,styled_components_1$5.withTheme)((0,styled_components_1$5.default)(Matching)(templateObject_7||(templateObject_7=__makeTemplateObject$5([""],[""]))));var templateObject_1$5,templateObject_2$2,templateObject_3$2,templateObject_4,templateObject_5,templateObject_6,templateObject_7,NumericalQuestion$1={},__makeTemplateObject$4=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$4.apply(this,arguments)},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$4(i,e,a);return __setModuleDefault$4(i,e),i},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NumericalQuestion$1,"__esModule",{value:!0});var jsx_runtime_1$4=jsxRuntimeExports,react_i18next_1$3=require$$3,__1$4=requireLib(),utils_1$1=utils$3,DefaultQuestionLayout_1$1=__importDefault$2(DefaultQuestionLayout$1),styled_components_1$4=__importStar$4(require$$6$1),NumericalQuestion=function(e){var i=e.id,a=e.question,o=e.title,c=e.onBlur,d=e.onChange,h=e.value,_=e.hasQuizEnded,ee=e.resultScore,f=(0,react_i18next_1$3.useTranslation)().t;return(0,jsx_runtime_1$4.jsx)(DefaultQuestionLayout_1$1.default,__assign$4({"data-testid":"numerical-question-".concat(a),title:o,question:a,resultScore:ee,showScore:_},{children:(0,jsx_runtime_1$4.jsx)(__1$4.Input,{placeholder:f("Quiz.TypeNumber"),type:"number",name:"".concat(i),id:(0,utils_1$1.getUniqueId)("Numerical-".concat(i)),disabled:_,value:h,onChange:d,onBlur:c})}))};NumericalQuestion$1.default=(0,styled_components_1$4.withTheme)((0,styled_components_1$4.default)(NumericalQuestion)(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([""],[""]))));var templateObject_1$4,Essay$1={},__makeTemplateObject$3=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$3.apply(this,arguments)},__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$3(i,e,a);return __setModuleDefault$3(i,e),i},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Essay$1,"__esModule",{value:!0});var jsx_runtime_1$3=jsxRuntimeExports,react_i18next_1$2=require$$3,__1$3=requireLib(),utils_1=utils$3,DefaultQuestionLayout_1=__importDefault$1(DefaultQuestionLayout$1),styled_components_1$3=__importStar$3(require$$6$1),Essay=function(e){var i=e.id,a=e.title,o=e.question,c=e.onChange,d=e.onBlur,h=e.value,_=e.hasQuizEnded,ee=e.resultScore,f=(0,react_i18next_1$2.useTranslation)().t;return(0,jsx_runtime_1$3.jsx)(DefaultQuestionLayout_1.default,__assign$3({"data-testid":"essay-".concat(o),title:a,question:o,resultScore:ee,showScore:_},{children:(0,jsx_runtime_1$3.jsx)(__1$3.TextArea,{placeholder:f("Quiz.TypeAnswer"),name:"".concat(i),disabled:_,id:(0,utils_1.getUniqueId)("Essay-".concat(i)),value:h,onChange:c,onBlur:d})}))};Essay$1.default=(0,styled_components_1$3.withTheme)((0,styled_components_1$3.default)(Essay)(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([""],[""]))));var templateObject_1$3,Description$1={},__makeTemplateObject$2=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$2.apply(this,arguments)},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$2(i,e,a);return __setModuleDefault$2(i,e),i};Object.defineProperty(Description$1,"__esModule",{value:!0});var jsx_runtime_1$2=jsxRuntimeExports,__1$2=requireLib(),styled_components_1$2=__importStar$2(require$$6$1),Description=function(e){var i=e.title,a=e.question;return(0,jsx_runtime_1$2.jsxs)(__1$2.Stack,__assign$2({"data-testid":"description-".concat(a),$gap:2},{children:[i&&(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({weight:"bold",size:"lg"},{children:i})),(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({family:"secondary",weight:"semiBold"},{children:a}))]}))};Description$1.default=(0,styled_components_1$2.withTheme)((0,styled_components_1$2.default)(Description)(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([""],[""]))));var templateObject_1$2,GiftQuizScore$1={},__makeTemplateObject$1=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$1.apply(this,arguments)},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$1(i,e,a);return __setModuleDefault$1(i,e),i};Object.defineProperty(GiftQuizScore$1,"__esModule",{value:!0});var jsx_runtime_1$1=jsxRuntimeExports,react_1$1=reactExports,react_i18next_1$1=require$$3,styled_components_1$1=__importStar$1(require$$6$1),__1$1=requireLib(),Wrapper$1=(0,styled_components_1$1.default)(__1$1.Row)(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`],[`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`])),function(e){var i=e.theme;return i.primaryColor}),Progress=styled_components_1$1.default.span(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$1([`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`],[`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`])),function(e){var i=e.theme;return i.secondaryColor},function(e){var i=e.$percentage;return i*52},function(e){var i=e.theme;return i.primaryColor}),GiftQuizScore=function(e){var i=e.result,a=e.max,o=(0,react_i18next_1$1.useTranslation)().t,c=(0,react_1$1.useMemo)(function(){var d=(i??0)/(a??0);return Number.isNaN(d)?0:d},[a,i]);return(0,jsx_runtime_1$1.jsxs)(Wrapper$1,__assign$1({"data-testid":"gift-quiz-score",$gap:12,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(__1$1.Row,__assign$1({$gap:6,$alignItems:"center"},{children:(0,jsx_runtime_1$1.jsx)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:o("Quiz.YourScore")}))})),(0,jsx_runtime_1$1.jsxs)(__1$1.Row,__assign$1({$gap:8,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(Progress,{$percentage:c}),(0,jsx_runtime_1$1.jsxs)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:[i,"/",a]}))]}))]}))};GiftQuizScore$1.default=(0,styled_components_1$1.withTheme)((0,styled_components_1$1.default)(GiftQuizScore)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$1([""],[""]))));var templateObject_1$1,templateObject_2$1,templateObject_3$1;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(b,le){return Object.defineProperty?Object.defineProperty(b,"raw",{value:le}):b.raw=le,b},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(b){for(var le,ve=1,Ae=arguments.length;ve<Ae;ve++){le=arguments[ve];for(var Ce in le)Object.prototype.hasOwnProperty.call(le,Ce)&&(b[Ce]=le[Ce])}return b},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(b,le,ve,Ae){Ae===void 0&&(Ae=ve);var Ce=Object.getOwnPropertyDescriptor(le,ve);(!Ce||("get"in Ce?!le.__esModule:Ce.writable||Ce.configurable))&&(Ce={enumerable:!0,get:function(){return le[ve]}}),Object.defineProperty(b,Ae,Ce)}:function(b,le,ve,Ae){Ae===void 0&&(Ae=ve),b[Ae]=le[ve]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(b,le){Object.defineProperty(b,"default",{enumerable:!0,value:le})}:function(b,le){b.default=le}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(b){if(b&&b.__esModule)return b;var le={};if(b!=null)for(var ve in b)ve!=="default"&&Object.prototype.hasOwnProperty.call(b,ve)&&o(le,b,ve);return c(le,b),le},h=commonjsGlobal&&commonjsGlobal.__spreadArray||function(b,le,ve){if(ve||arguments.length===2)for(var Ae=0,Ce=le.length,Oe;Ae<Ce;Ae++)(Oe||!(Ae in le))&&(Oe||(Oe=Array.prototype.slice.call(le,0,Ae)),Oe[Ae]=le[Ae]);return b.concat(Oe||Array.prototype.slice.call(le))},_=commonjsGlobal&&commonjsGlobal.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.GiftQuizPlayerContent=void 0;var ee=reactExports,f=jsxRuntimeExports,g=d(reactExports),he=require$$3,ge=d(require$$6$1),te=require$$1$1,re=lib$3,be=react$1,q=gfit_quiz,se=requireLib(),me=_(MultipleChoice$1),ue=_(MultipleChoiceWithMultipleRightAnswers$1),ae=_(TrueFalse$1),$=_(ShortAnswers$1),ie=_(Matching$1),we=_(NumericalQuestion$1),de=_(Essay$1),m=_(Description$1),_e=_(GiftQuizScore$1),oe=ge.default.form(tt||(tt=i([`
  display: flex;
  flex-direction: column;
  gap: 16px;
`],[`
  display: flex;
  flex-direction: column;
  gap: 16px;
`]))),Se=(0,ge.default)(se.Row)(Pe||(Pe=i([`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`],[`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`])),function(b){var le=b.theme;return le.primaryColor}),Ee=(0,ge.default)(se.Button)(ne||(ne=i([`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`],[`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`])),function(b){var le=b.theme;return le.primaryColor},function(b){var le=b.theme;return le.secondaryColor});function ye(b){return typeof(b==null?void 0:b.text)=="string"}function je(b){return Array.isArray(b==null?void 0:b.multiple)}function Le(b){return typeof(b==null?void 0:b.numeric)=="number"}function xe(b){return typeof(b==null?void 0:b.bool)=="boolean"}function Te(b){return typeof(b==null?void 0:b.matching)=="object"}var Re=function(b,le){var ve=function(Ae){var Ce;return(Ce=le==null?void 0:le.find(function(Oe){return Oe.topic_gift_question_id===Ae}))===null||Ce===void 0?void 0:Ce.answer};return b.reduce(function(Ae,Ce){var Oe,Ge,qe,Ue,Ze,it=Ce.id,Je=Ce.type,nt=Ce.options,ht=ve(it);switch(Je){case re.API.QuestionType.ESSAY:case re.API.QuestionType.SHORT_ANSWERS:case re.API.QuestionType.MULTIPLE_CHOICE:var ot=ye(ht)?ht.text:"";return a(a({},Ae),(Oe={},Oe["".concat(it)]=ot,Oe));case re.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:var mt=je(ht)?ht.multiple:[];return a(a({},Ae),(Ge={},Ge["".concat(it)]=nt.answers.reduce(function(He,at){var ft;return a(a({},He),(ft={},ft[at]=mt.includes(at),ft))},{}),Ge));case re.API.QuestionType.NUMERICAL_QUESTION:var st=Le(ht)?"".concat(ht.numeric):"";return a(a({},Ae),(qe={},qe["".concat(it)]=st,qe));case re.API.QuestionType.TRUE_FALSE:var Ve=xe(ht)?ht.bool?"true":"false":"";return a(a({},Ae),(Ue={},Ue["".concat(it)]=Ve,Ue));case re.API.QuestionType.MATCHING:var We=Te(ht)?ht.matching:{};return a(a({},Ae),(Ze={},Ze["".concat(it)]=We,Ze));default:return Ae}},{})};function Fe(b){var le=(0,g.useContext)(be.EscolaLMSContext),ve=le.token,Ae=le.apiUrl,Ce=(0,g.useState)({loading:!1,count:0,tooltipOpen:!1}),Oe=Ce[0],Ge=Ce[1],qe=(0,g.useCallback)(function(){ve&&b&&(0,q.getQuizAttempts)(Ae,ve,{topic_gift_quiz_id:b}).then(function(Ue){Ue.success&&Ge(function(Ze){return a(a({},Ze),{count:Ue.meta.total,tooltipOpen:!0})})}).finally(function(){Ge(function(Ue){return a(a({},Ue),{loading:!1})})})},[Ae,b,ve]);return(0,g.useMemo)(function(){return{attempts:Oe,refreshAttemptsCount:qe,closeTooltip:function(){return Ge(function(Ue){return a(a({},Ue),{tooltipOpen:!1})})}}},[Oe,qe])}var Ke=function(b){var le=b.attempt,ve=b.startQuiz,Ae=b.endQuiz,Ce=b.sendAnswer,Oe=(0,he.useTranslation)().t,Ge=Fe(le.topic_gift_quiz_id),qe=Ge.attempts,Ue=Ge.refreshAttemptsCount,Ze=Ge.closeTooltip,it=(0,g.useMemo)(function(){return Re(le.questions,le.answers)},[le.questions,le.answers]),Je=(0,g.useCallback)(function(nt){var ht;return(ht=le.answers.find(function(ot){var mt=ot.topic_gift_question_id;return mt===nt}))===null||ht===void 0?void 0:ht.score},[le.answers]);return(0,f.jsx)(te.Formik,a({enableReinitialize:!0,initialValues:it,onSubmit:function(){Ae(le.id),Ue()}},{children:function(nt){var ht=nt.handleSubmit,ot=nt.handleChange,mt=nt.values,st=nt.handleBlur,Ve=nt.resetForm,We=nt.setFieldValue;return(0,f.jsxs)(oe,a({onSubmit:ht,"data-testid":"gift-quiz-player-content",className:"quiz__questions-form"},{children:[(0,f.jsxs)(se.Stack,a({$gap:8},{children:[(0,f.jsxs)(se.Row,a({$justifyContent:"space-between"},{children:[(0,f.jsx)(se.Title,a({className:"quiz__title"},{children:Oe("Quiz.Questions")})),(0,f.jsx)(se.Row,a({$gap:24,$alignItems:"center"},{children:le!=null&&le.is_ended?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_e.default,{result:le==null?void 0:le.result_score,max:le==null?void 0:le.max_score}),(0,f.jsx)(se.Button,a({type:"button",onClick:function(){ve(),Ve()}},{children:Oe("Quiz.Retry")}))]}):(0,f.jsxs)(f.Fragment,{children:[(le==null?void 0:le.end_at)&&(0,f.jsx)(se.Countdown,{targetDate:String(le==null?void 0:le.end_at),onCountdownEnd:function(){return Ae(le==null?void 0:le.id)}}),(0,f.jsx)(se.Button,a({type:"submit",mode:"primary"},{children:Oe("Quiz.Submit")}))]})}))]})),qe.tooltipOpen&&(0,f.jsxs)(Se,a({$alignItems:"center",$justifyContent:"space-between"},{children:[Oe("Quiz.YouHaveMade")," ".concat(qe.count," "),Oe("Quiz.Attempts"),(0,f.jsx)(Ee,{onClick:Ze})]}))]})),le.questions.map(function(He){switch(He.type){case re.API.QuestionType.MULTIPLE_CHOICE:return(0,ee.createElement)(me.default,a({},He,{key:He.type+He.id,onChange:function(at){ot(at),Ce(He.id,{text:at.target.value})},onBlur:st,value:mt["".concat(He.id)],hasQuizEnded:le==null?void 0:le.is_ended,resultScore:Je(He.id)}));case re.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:return(0,ee.createElement)(ue.default,a({},He,{key:He.type+He.id,onChange:function(at){ot(at);var ft=at.target.value,Pt=at.target.checked,Tt=Object.entries(mt["".concat(He.id)]).reduce(function(Et,jt){var Ct=jt[0],$t=jt[1];return Ct===ft?Pt?h(h([],Et,!0),[ft],!1):Et:$t?h(h([],Et,!0),[Ct],!1):Et},[]);Ce(He.id,{multiple:Tt})},onBlur:st,values:mt["".concat(He.id)],hasQuizEnded:le==null?void 0:le.is_ended,resultScore:Je(He.id)}));case re.API.QuestionType.TRUE_FALSE:return(0,ee.createElement)(ae.default,a({},He,{key:He.type+He.id,onChange:function(at){ot(at),Ce(He.id,{bool:at.target.value==="true"})},onBlur:st,value:mt["".concat(He.id)],hasQuizEnded:le==null?void 0:le.is_ended,resultScore:Je(He.id)}));case re.API.QuestionType.SHORT_ANSWERS:return(0,ee.createElement)($.default,a({},He,{key:He.type+He.id,onChange:function(at){ot(at),Ce(He.id,{text:at.target.value})},onBlur:st,value:mt["".concat(He.id)],resultScore:Je(He.id),hasQuizEnded:le==null?void 0:le.is_ended}));case re.API.QuestionType.MATCHING:return(0,ee.createElement)(ie.default,a({},He,{key:He.type+He.id,onChange:function(at){We("".concat(He.id),at),Ce(He.id,at)},values:mt["".concat(He.id)],resultScore:Je(He.id),hasQuizEnded:le==null?void 0:le.is_ended}));case re.API.QuestionType.NUMERICAL_QUESTION:return(0,ee.createElement)(we.default,a({},He,{key:He.type+He.id,onChange:function(at){ot(at),Ce(He.id,{numeric:+at.target.value})},onBlur:st,value:mt["".concat(He.id)],resultScore:Je(He.id),hasQuizEnded:le==null?void 0:le.is_ended}));case re.API.QuestionType.ESSAY:return(0,ee.createElement)(de.default,a({},He,{key:He.type+He.id,onChange:function(at){ot(at),Ce(He.id,{text:at.target.value})},onBlur:st,value:mt["".concat(He.id)],resultScore:Je(He.id),hasQuizEnded:le==null?void 0:le.is_ended}));case re.API.QuestionType.DESCRIPTION:return(0,ee.createElement)(m.default,a({},He,{key:He.type+He.id}));default:return(0,f.jsx)(g.default.Fragment,{})}})]}))}}))};e.GiftQuizPlayerContent=Ke,e.default=(0,ge.withTheme)((0,ge.default)(e.GiftQuizPlayerContent)(fe||(fe=i([""],[""]))));var tt,Pe,ne,fe})(GiftQuizPlayerContent);var __makeTemplateObject=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(i,e,a);return __setModuleDefault(i,e),i},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(quizzes,"__esModule",{value:!0});var jsx_runtime_1=jsxRuntimeExports,react_1=reactExports,react_i18next_1=require$$3,styled_components_1=__importStar(require$$6$1),gfit_quiz_1=gfit_quiz,react_2=react$1,__1=requireLib(),GiftQuizPlayerContent_1=__importDefault(GiftQuizPlayerContent),Wrapper=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  & > .spinner__overlay {
    min-height: 529px;
  }
`],[`
  & > .spinner__overlay {
    min-height: 529px;
  }
`]))),StartButtonWrapper=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`],[`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`])));function useQuiz(e,i){var a,o,c,d=(0,react_1.useState)({loading:!1}),h=d[0],_=d[1],ee=(0,react_1.useContext)(react_2.EscolaLMSContext),f=ee.token,g=ee.apiUrl,he=(0,react_1.useRef)(i),ge=(0,react_1.useCallback)(function(){e&&f&&(_(function(q){return __assign(__assign({},q),{loading:!0})}),(0,gfit_quiz_1.quizAttempt)(g,f,{topic_gift_quiz_id:e}).then(function(q){q.success?_(function(se){return __assign(__assign({},se),{value:q.data})}):_(function(se){return __assign(__assign({},se),{error:q})})}).catch(function(q){_(function(se){return __assign(__assign({},se),{error:q})})}).finally(function(){_(function(q){return __assign(__assign({},q),{loading:!1})})}))},[e,g,f]),te=(0,react_1.useCallback)(function(q){f&&(0,gfit_quiz_1.quizAttemptFinish)(g,f,q).then(function(se){var me;se.success&&(_(function(ue){return __assign(__assign({},ue),{value:se.data})}),(me=he.current)===null||me===void 0||me.call(he))})},[f,g]),re=(0,react_1.useCallback)(function(q,se){var me,ue;!((me=h==null?void 0:h.value)===null||me===void 0)&&me.id&&f&&!(!((ue=h==null?void 0:h.value)===null||ue===void 0)&&ue.is_ended)&&(0,gfit_quiz_1.quizAnswer)(g,f,{topic_gift_question_id:q,topic_gift_quiz_attempt_id:h.value.id,answer:se})},[f,g,(a=h==null?void 0:h.value)===null||a===void 0?void 0:a.id,(o=h==null?void 0:h.value)===null||o===void 0?void 0:o.is_ended]),be=(0,react_1.useCallback)(function(q){var se,me;return(me=(se=h.value)===null||se===void 0?void 0:se.answers)===null||me===void 0?void 0:me.find(function(ue){return(ue==null?void 0:ue.topic_gift_question_id)===q})},[(c=h.value)===null||c===void 0?void 0:c.answers]);return(0,react_1.useMemo)(function(){return{data:h,startQuiz:ge,sendAnswer:re,getQuestionAnswerObj:be,endQuiz:te}},[h,re,be,ge,te])}var GiftQuizPlayer=function(e){var i=e.topic,a=e.className,o=e.onTopicEnd,c=(0,react_i18next_1.useTranslation)().t,d=useQuiz(i.topicable.id,o),h=d.data,_=d.startQuiz,ee=d.sendAnswer,f=d.endQuiz;return(0,jsx_runtime_1.jsxs)(Wrapper,__assign({"data-testid":"gift-quiz-player",className:a},{children:[!h.value&&!h.loading&&(0,jsx_runtime_1.jsx)(StartButtonWrapper,{children:(0,jsx_runtime_1.jsx)(__1.Button,__assign({mode:"secondary",type:"button",onClick:_},{children:c("Quiz.Start")}))}),h.loading&&!h.value&&(0,jsx_runtime_1.jsx)(__1.Spin,{}),h.value&&(0,jsx_runtime_1.jsx)(GiftQuizPlayerContent_1.default,{attempt:h.value,startQuiz:_,sendAnswer:ee,endQuiz:f})]}))},_default=quizzes.default=(0,styled_components_1.withTheme)((0,styled_components_1.default)(GiftQuizPlayer)(templateObject_3||(templateObject_3=__makeTemplateObject([""],[""])))),templateObject_1,templateObject_2,templateObject_3;export{API_1 as A,H5Player as H,ImagePlayer as I,OEmbedPlayer as O,PdfPlayer as P,_default as _,AudioVideoPlayer as a,patterns as p,utils$1 as u};
