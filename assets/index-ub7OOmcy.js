import{D as L,n as d,r as c,m as h,f,h as F,j as s,v as R,C as E,o as p,i as g,F as l}from"./index-CZ-rWARv.js";import{A as j,R as w}from"./AuthWrapper-CxiDZw2z.js";var k=L();const b=()=>{const{search:t,state:i}=d(),{user:n,socialAuthorize:x}=c.useContext(h.EscolaLMSContext),[m,a]=c.useState("login"),{t:r}=f(),e=F(),o=t.split("?token=")[1],u=i&&i.referrer||t.split("?referrer=")[1]||"/";return o&&(x(o),setTimeout(()=>{e.push(u)},1e3)),!n.loading&&!o&&n.value&&e.push(u),s.jsx(R,{metaTitle:r("LoginAndRegister"),children:s.jsx(j,{children:s.jsx(E,{children:m==="login"?s.jsx(k.LoginForm,{onResetPasswordLink:()=>a("forgotPassword"),onRegisterLink:()=>e.push(p.register),mobile:g}):s.jsx(w.ResetPasswordForm,{mobile:g,backToLogin:()=>a("login"),onRegisterLink:()=>e.push(p.register),return_url:"#/reset-password",onFirstStepSuccess:()=>l(r("LoginPage.ForgotSuccess"),"success"),onFirstStepError:()=>l(r("UnexpectedError"),"error")})})})})};export{b as default};
