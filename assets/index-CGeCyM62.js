import{d as c,r as B,a6 as Z,a3 as nn,aG as en,aH as tn,a7 as rn,j as P,aI as on,a5 as an,a4 as ln,g as sn,A as cn,X as dn,f as un,n as pn,ax as gn}from"./index-qD7U5zMV.js";var R={};(function(b){var m=c&&c.__makeTemplateObject||function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},l=c&&c.__assign||function(){return l=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},l.apply(this,arguments)},T=c&&c.__createBinding||(Object.create?function(n,e,r,o){o===void 0&&(o=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,o,a)}:function(n,e,r,o){o===void 0&&(o=r),n[o]=e[r]}),y=c&&c.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),D=c&&c.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r in n)r!=="default"&&Object.prototype.hasOwnProperty.call(n,r)&&T(e,n,r);return y(e,n),e},A=c&&c.__spreadArray||function(n,e,r){if(r||arguments.length===2)for(var o=0,a=e.length,s;o<a;o++)(s||!(o in e))&&(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return n.concat(s||Array.prototype.slice.call(e))},$=c&&c.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(b,"__esModule",{value:!0}),b.Categories=void 0;var t=P,d=D(B),v=D(Z),E=B,q=on,I=an,k=nn(),G=$(en),W=ln,X=tn,O=rn,F=function(){return(0,t.jsx)("svg",l({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,t.jsx)("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},H=function(){return(0,t.jsx)("svg",l({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,t.jsx)("path",{d:"M7 1L1 7L7 13",stroke:"#4A4A4A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},J=(0,v.default)("div")(z||(z=m([`
  position: relative;
  min-width: 150px;
  color: `,`;
  border: `,`;
  background-color: `,`;
  border-radius: `,`;

  .categories-collapse {
    color: currentColor;
  }

  .categories-dropdown-button {
    position: relative;
    justify-content: space-between;
    padding: 7px 10px;
    display: flex;
    align-items: center;
    width: 100%;
    text-align: left;
    appearance: none;
    background-color: transparent;
    border: none;
    font-weight: normal;
    cursor: pointer;
    color: currentColor;
    font-size: 16px;
    font-family: `,`;

    svg {
      margin-left: 10px;
      transform: `,`;
      transition: opacity 0.2s ease-in-out;

      path {
        stroke: currentColor;
      }
    }

    &:hover svg {
      opacity: 0.6;
    }

    &:after {
      position: absolute;
      bottom: 0;
      left: 10px;
      right: 10px;
      height: 1px;
      display: `,`;
      background-color: currentColor;
      content: "";
    }
  }

  > .categories-dropdown-options {
    padding: 7px 10px;
    position: absolute;
    top: 100%;
    left: -1px;
    width: calc(100% + 2px);
    max-height: `,`;
    height: `,`;
    overflow-y: `,`;
    display: `,`;
    box-sizing: border-box;
    background-color: `,`;
    border: 1px solid currentColor;
    border-top: none;
    z-index: `,`;
    border-radius: `,`;
    div {
      position: relative;
    }

    input {
      color: currentColor;
    }

    span {
      word-break: break-word;
      color: `,`;
    }
  }

  .categories-dropdown-options .categories-dropdown-options {
    margin-left: 20px;
  }
`],[`
  position: relative;
  min-width: 150px;
  color: `,`;
  border: `,`;
  background-color: `,`;
  border-radius: `,`;

  .categories-collapse {
    color: currentColor;
  }

  .categories-dropdown-button {
    position: relative;
    justify-content: space-between;
    padding: 7px 10px;
    display: flex;
    align-items: center;
    width: 100%;
    text-align: left;
    appearance: none;
    background-color: transparent;
    border: none;
    font-weight: normal;
    cursor: pointer;
    color: currentColor;
    font-size: 16px;
    font-family: `,`;

    svg {
      margin-left: 10px;
      transform: `,`;
      transition: opacity 0.2s ease-in-out;

      path {
        stroke: currentColor;
      }
    }

    &:hover svg {
      opacity: 0.6;
    }

    &:after {
      position: absolute;
      bottom: 0;
      left: 10px;
      right: 10px;
      height: 1px;
      display: `,`;
      background-color: currentColor;
      content: "";
    }
  }

  > .categories-dropdown-options {
    padding: 7px 10px;
    position: absolute;
    top: 100%;
    left: -1px;
    width: calc(100% + 2px);
    max-height: `,`;
    height: `,`;
    overflow-y: `,`;
    display: `,`;
    box-sizing: border-box;
    background-color: `,`;
    border: 1px solid currentColor;
    border-top: none;
    z-index: `,`;
    border-radius: `,`;
    div {
      position: relative;
    }

    input {
      color: currentColor;
    }

    span {
      word-break: break-word;
      color: `,`;
    }
  }

  .categories-dropdown-options .categories-dropdown-options {
    margin-left: 20px;
  }
`])),function(n){return n.lightContrast?n.theme.gray4:n.theme.gray2},function(n){return"1px solid ".concat(n.open?"currentColor":"transparent")},function(n){return n.backgroundColor},function(n){var e=n.theme,r=n.open;return r?"".concat(e.inputRadius,"px ").concat(e.inputRadius,"px 0 0"):"".concat(e.inputRadius,"px")},function(n){return(0,X.getFontFromTheme)(n.theme).fontFamily},function(n){return n.open?"rotate(180deg)":"none"},function(n){return n.open?"block":"none"},function(n){return n.open?"200px":"auto"},function(n){return n.open?"auto":"0"},function(n){return n.open?"auto":"hidden"},function(n){return n.open?"block":"none"},function(n){return n.backgroundColor},function(n){return n.open?"1":"0"},function(n){var e=n.theme;return"0 0 ".concat(e.inputRadius,"px ").concat(e.inputRadius,"px")},function(n){return n.lightContrast?n.theme.gray4:n.theme.gray2}),K=(0,v.createGlobalStyle)(L||(L=m([`
  width: 100%;
  box-sizing: border-box;
  
  * {
    box-sizing: border-box;
  }
  
  .drawer-content-wrapper {
    left: 0;
    width: 100%;
  }
  
  .categories-drawer-list {
    > div {
      position: relative;
      margin-bottom: 4px;
    }
  
    .categories-drawer-list {
      margin-left: 20px;
    }
  }
  
  .drawer-content {
    display: flex;
    flex-direction: column;
  }
  
  .drawer-content-header {
    position: relative;
    padding: 22px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .drawer-content-btn {
    position: absolute;
    left: 22px;
    appearance: none;
    background-color: transparent;
    border: none;
    
    svg path {
      stroke: `,`;
    }
  }
  
  .drawer-content-inner {
    padding: 0 16px 32px 16px;
    flex: 1;
    overflow: auto;
  }
  
  .drawer-content-footer {
    padding: 16px;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .categories-collapse {
    color: `,`;
  }
  
  label {
    color: `,`;
  }
`],[`
  width: 100%;
  box-sizing: border-box;
  
  * {
    box-sizing: border-box;
  }
  
  .drawer-content-wrapper {
    left: 0;
    width: 100%;
  }
  
  .categories-drawer-list {
    > div {
      position: relative;
      margin-bottom: 4px;
    }
  
    .categories-drawer-list {
      margin-left: 20px;
    }
  }
  
  .drawer-content {
    display: flex;
    flex-direction: column;
  }
  
  .drawer-content-header {
    position: relative;
    padding: 22px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .drawer-content-btn {
    position: absolute;
    left: 22px;
    appearance: none;
    background-color: transparent;
    border: none;
    
    svg path {
      stroke: `,`;
    }
  }
  
  .drawer-content-inner {
    padding: 0 16px 32px 16px;
    flex: 1;
    overflow: auto;
  }
  
  .drawer-content-footer {
    padding: 16px;
    box-shadow: 0px -2px 15px 0px #0000001A;
  }
  
  .categories-collapse {
    color: `,`;
  }
  
  label {
    color: `,`;
  }
`])),function(n){var e=n.theme;return(0,O.getStylesBasedOnTheme)(e.mode,e.white,e.gray1)},function(n){var e=n.theme;return(0,O.getStylesBasedOnTheme)(e.mode,e.white,e.gray1)},function(n){var e=n.theme;return(0,O.getStylesBasedOnTheme)(e.mode,e.white,e.gray1)}),Q=(0,v.default)("div")(M||(M=m([`
  .categories-collapse {
    position: absolute;
    right: 0;
    top: 0;
    appearance: none;
    background-color: transparent;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease-in-out;

    &:hover {
      opacity: 0.8;
    }

    &.active {
      svg {
        transform: rotate(180deg);
      }
    }
  }
`],[`
  .categories-collapse {
    position: absolute;
    right: 0;
    top: 0;
    appearance: none;
    background-color: transparent;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease-in-out;

    &:hover {
      opacity: 0.8;
    }

    &.active {
      svg {
        transform: rotate(180deg);
      }
    }
  }
`]))),S=function(n){var e=n.categories,r=n.labelPrefix,o=n.selectedCategories,a=o===void 0?[]:o,s=n.label,u=n.handleChange,p=n.mobile,g=n.className,_=g===void 0?"":g,f=d.useState({}),h=f[0],w=f[1],C=function(i){var j;w(l(l({},h),(j={},j[i]=!h[i],j)))},x=d.useCallback(function(i){u&&u(a.includes(i)?a.filter(function(j){return j!==i}):A(A([],a,!0),[i],!1))},[a]);return(0,t.jsxs)(Q,l({className:"wellms-component ".concat(p?"categories-drawer-list":"categories-dropdown-options"," ").concat(_)},{children:[p&&s&&(0,t.jsx)(k.Title,l({level:5,style:{marginTop:"32px",marginBottom:"17px"}},{children:s})),e.map(function(i){return(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Checkbox,{value:i.id,label:r?"".concat(r).concat(i.name):i.name,checked:a.includes(i.id),onChange:function(){return x(i.id)}}),i&&i.subcategories&&i.subcategories.length>0&&(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)("button",l({type:"button",onClick:function(){return C(i.id)},className:"categories-collapse"},{children:(0,t.jsx)(F,{})})),h[i.id]&&(0,t.jsx)(S,{categories:i.subcategories,handleChange:u,selectedCategories:a,mobile:p})]})]},i.id)})]}))},U=function(n){var e=d.useContext(v.ThemeContext),r=n.categories,o=n.labelPrefix,a=n.label,s=n.selectedCategories,u=n.handleChange,p=n.backgroundColor,g=p===void 0?(0,O.getStylesBasedOnTheme)(e.mode,e.dm__background,e.background):p,_=d.useMemo(function(){return(0,I.contrast)("#fff",g)>=1.85},[g]),f=d.useState(!1),h=f[0],w=f[1],C=(0,E.useRef)(null),x=function(){w(function(i){return!i})};return(0,q.useOnClickOutside)(C,function(){return w(!1)}),(0,t.jsxs)(J,l({open:h,ref:C,className:"wellms-component",lightContrast:_,backgroundColor:g},{children:[(0,t.jsxs)("button",l({type:"button",className:"categories-dropdown-button",onClick:x},{children:[a," ",s&&s.length>0&&"(".concat(s.length,")"),(0,t.jsx)(F,{})]})),(0,t.jsx)(S,{categories:r,labelPrefix:o,selectedCategories:s,handleChange:u})]}))},V=function(n){var e=n.categories,r=n.labelPrefix,o=n.label,a=n.handleChange,s=n.handleDrawerButtonClick,u=n.selectedCategories,p=n.drawerButtonText,g=n.drawerTitle,_=n.mobile,f=d.useState(!1),h=f[0],w=f[1],C=(0,W.useTranslation)().t,x=function(){w(function(i){return!i})};return(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)(K,{}),(0,t.jsxs)(k.Button,l({type:"button",mode:"outline",onClick:x},{children:[C("Categories.Filter")," ",u&&u.length>0&&"(".concat(u.length,")")]})),(0,t.jsxs)(G.default,l({open:h,onClose:x},{children:[(0,t.jsxs)("div",l({className:"drawer-content-header"},{children:[(0,t.jsx)("button",l({type:"button",onClick:x,className:"drawer-content-btn"},{children:(0,t.jsx)(H,{})})),g&&(0,t.jsx)(d.Fragment,{children:g})]})),(0,t.jsx)("div",l({className:"drawer-content-inner"},{children:(0,t.jsx)(S,{categories:e,label:o,labelPrefix:r,selectedCategories:u,handleChange:a,mobile:_})})),p&&s&&(0,t.jsx)("div",l({className:"drawer-content-footer"},{children:(0,t.jsx)(k.Button,l({block:!0,mode:"secondary",onClick:function(){x(),s&&s()}},{children:p&&p}))}))]}))]})},Y=function(n){var e=n.mobile;return(0,t.jsx)(d.Fragment,{children:e?(0,t.jsx)(V,l({},n)):(0,t.jsx)(d.Fragment,{children:(0,t.jsx)(U,l({},n))})})};b.Categories=Y,b.default=(0,v.withTheme)((0,v.default)(b.Categories)(N||(N=m([""],[""]))));var z,L,M,N})(R);const fn=sn(R),bn=({selectedCategories:b,handleChange:m})=>{const{categoryTree:l}=B.useContext(cn.EscolaLMSContext),T=dn(),{t:y}=un();return P.jsx(fn,{mobile:pn,backgroundColor:T.primaryColor,categories:l.list||[],label:y("Filters.Category"),selectedCategories:b,drawerTitle:P.jsx(gn,{level:5,style:{fontSize:"14px"},children:y("Filters.Category")}),handleChange:m})};export{bn as C};
