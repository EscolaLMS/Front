import{J as L,n as d,r as g,m as h,f as E,h as f,j as s,w as R,C as w,o as t,i as l,E as F,A as P,D as j,K as p}from"./index-bnskEQCp.js";import{A as k,R as A}from"./AuthWrapper-Dgnam891.js";var S=L();const T=()=>{const{search:i,state:n}=d(),{user:a,socialAuthorize:x}=g.useContext(h.EscolaLMSContext),[m,u]=g.useState("login"),{t:r}=E(),e=f(),o=i.split("?token=")[1],c=n&&n.referrer||i.split("?referrer=")[1]||"/";return o&&(x(o),setTimeout(()=>{e.push(c)},1e3)),!a.loading&&!o&&a.value&&e.push(c),s.jsx(R,{metaTitle:r("LoginAndRegister"),children:s.jsx(k,{children:s.jsx(w,{children:m==="login"?s.jsx(S.LoginForm,{onResetPasswordLink:()=>u("forgotPassword"),onRegisterLink:()=>e.push(t.register),mobile:l,...F==="true"?{submitText:"Załóż darmowe konto"}:{}}):s.jsx(A.ResetPasswordForm,{mobile:l,backToLogin:()=>u("login"),onRegisterLink:()=>e.push(t.register),return_url:`${P}${j()}${t.reset}`,onFirstStepSuccess:()=>p(r("LoginPage.ForgotSuccess"),"success"),onFirstStepError:()=>p(r("UnexpectedError"),"error")})})})})};export{T as default};
