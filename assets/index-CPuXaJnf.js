const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/YouTube-CEuikiKW.js","assets/index-Dw0jMVas.js","assets/index-BpyvSpzf.css","assets/SoundCloud-B6eVe61m.js","assets/Vimeo-B6yqQltV.js","assets/Mux-COtLOjp7.js","assets/Facebook-CUqLXR2Q.js","assets/Streamable-BKr5xUvQ.js","assets/Wistia-ConP_t04.js","assets/Twitch-Dom9dDWL.js","assets/DailyMotion-BuZKxOcp.js","assets/Mixcloud-BEFYyl2s.js","assets/Vidyard-CA2HN-qo.js","assets/Kaltura-DWfM_dlr.js","assets/FilePlayer-BZ8ziZ_m.js","assets/Preview-s0L-5-SX.js"])))=>i.map(i=>d[i]);
var Fr=Object.defineProperty;var tr=e=>{throw TypeError(e)};var Lr=(e,i,a)=>i in e?Fr(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a;var Ft=(e,i,a)=>Lr(e,typeof i!="symbol"?i+"":i,a),vn=(e,i,a)=>i.has(e)||tr("Cannot "+a);var j=(e,i,a)=>(vn(e,i,"read from private field"),a?a.call(e):i.get(e)),We=(e,i,a)=>i.has(e)?tr("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,a),Ye=(e,i,a,o)=>(vn(e,i,"write to private field"),o?o.call(e,a):i.set(e,a),a),He=(e,i,a)=>(vn(e,i,"access private method"),a);var Kt=(e,i,a,o)=>({set _(c){Ye(e,i,c,a)},get _(){return j(e,i,o)}});import{e as commonjsGlobal,c4 as api,K as react$1,cq as require$$5,r as reactExports,a6 as require$$6$1,a3 as requireLib,j as jsxRuntimeExports,aN as __vitePreload,d as getAugmentedNamespace,cr as propTypesExports,cs as require$$5$1,a as reactDomExports,a4 as require$$3,ct as require$$9,cu as clsx,cv as tinyInvariant,a7 as utils$3,cw as require$$2$2,s as ResponsiveImage,cx as requireContext,c3 as provider,S as Spin,ck as require$$0$1,cl as utils$4,cy as require$$2$3,a5 as chromaExports,aa as require$$1$1}from"./index-Dw0jMVas.js";import{a as warning_1$8}from"./warning-CaCfmk4V.js";var lib$3={},__createBinding$l=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$l=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$l=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$l(i,e,a);return __setModuleDefault$l(i,e),i};Object.defineProperty(lib$3,"__esModule",{value:!0});lib$3.react=API_1=lib$3.API=void 0;var API=__importStar$l(api),API_1=lib$3.API=API,react=__importStar$l(react$1);lib$3.react=react;var OEmbedPlayer={},lib$2={exports:{}},concatMap,hasRequiredConcatMap;function requireConcatMap(){if(hasRequiredConcatMap)return concatMap;hasRequiredConcatMap=1,concatMap=function(i,a){for(var o=[],c=0;c<i.length;c++){var d=a(i[c],c);e(d)?o.push.apply(o,d):o.push(d)}return o};var e=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};return concatMap}var balancedMatch,hasRequiredBalancedMatch;function requireBalancedMatch(){if(hasRequiredBalancedMatch)return balancedMatch;hasRequiredBalancedMatch=1,balancedMatch=e;function e(o,c,d){o instanceof RegExp&&(o=i(o,d)),c instanceof RegExp&&(c=i(c,d));var h=a(o,c,d);return h&&{start:h[0],end:h[1],pre:d.slice(0,h[0]),body:d.slice(h[0]+o.length,h[1]),post:d.slice(h[1]+c.length)}}function i(o,c){var d=c.match(o);return d?d[0]:null}e.range=a;function a(o,c,d){var h,_,ne,f,g,he=d.indexOf(o),_e=d.indexOf(c,he+1),q=he;if(he>=0&&_e>0){if(o===c)return[he,_e];for(h=[],ne=d.length;q>=0&&!g;)q==he?(h.push(q),he=d.indexOf(o,q+1)):h.length==1?g=[h.pop(),_e]:(_=h.pop(),_<ne&&(ne=_,f=_e),_e=d.indexOf(c,q+1)),q=he<_e&&he>=0?he:_e;h.length&&(g=[ne,f])}return g}return balancedMatch}var braceExpansion,hasRequiredBraceExpansion;function requireBraceExpansion(){if(hasRequiredBraceExpansion)return braceExpansion;hasRequiredBraceExpansion=1;var e=requireConcatMap(),i=requireBalancedMatch();braceExpansion=he;var a="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",d="\0COMMA"+Math.random()+"\0",h="\0PERIOD"+Math.random()+"\0";function _(ee){return parseInt(ee,10)==ee?parseInt(ee,10):ee.charCodeAt(0)}function ne(ee){return ee.split("\\\\").join(a).split("\\{").join(o).split("\\}").join(c).split("\\,").join(d).split("\\.").join(h)}function f(ee){return ee.split(a).join("\\").split(o).join("{").split(c).join("}").split(d).join(",").split(h).join(".")}function g(ee){if(!ee)return[""];var ce=[],fe=i("{","}",ee);if(!fe)return ee.split(",");var ae=fe.pre,$=fe.body,oe=fe.post,se=ae.split(",");se[se.length-1]+="{"+$+"}";var te=g(oe);return oe.length&&(se[se.length-1]+=te.shift(),se.push.apply(se,te)),ce.push.apply(ce,se),ce}function he(ee){return ee?(ee.substr(0,2)==="{}"&&(ee="\\{\\}"+ee.substr(2)),ie(ne(ee),!0).map(f)):[]}function _e(ee){return"{"+ee+"}"}function q(ee){return/^-?0\d/.test(ee)}function re(ee,ce){return ee<=ce}function ve(ee,ce){return ee>=ce}function ie(ee,ce){var fe=[],ae=i("{","}",ee);if(!ae||/\$$/.test(ae.pre))return[ee];var $=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(ae.body),oe=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(ae.body),se=$||oe,te=ae.body.indexOf(",")>=0;if(!se&&!te)return ae.post.match(/,.*\}/)?(ee=ae.pre+"{"+ae.body+c+ae.post,ie(ee)):[ee];var b;if(se)b=ae.body.split(/\.\./);else if(b=g(ae.body),b.length===1&&(b=ie(b[0],!1).map(_e),b.length===1)){var m=ae.post.length?ie(ae.post,!1):[""];return m.map(function($e){return ae.pre+b[0]+$e})}var ge=ae.pre,m=ae.post.length?ie(ae.post,!1):[""],ue;if(se){var be=_(b[0]),je=_(b[1]),Oe=Math.max(b[0].length,b[1].length),Le=b.length==3?Math.abs(_(b[2])):1,me=re,Ie=je<be;Ie&&(Le*=-1,me=ve);var ye=b.some(q);ue=[];for(var Pe=be;me(Pe,je);Pe+=Le){var ke;if(oe)ke=String.fromCharCode(Pe),ke==="\\"&&(ke="");else if(ke=String(Pe),ye){var Ee=Oe-ke.length;if(Ee>0){var le=new Array(Ee+1).join("0");Pe<0?ke="-"+le+ke.slice(1):ke=le+ke}}ue.push(ke)}}else ue=e(b,function(we){return ie(we,!1)});for(var de=0;de<ue.length;de++)for(var xe=0;xe<m.length;xe++){var Ae=ge+ue[de]+m[xe];(!ce||se||Ae)&&fe.push(Ae)}return fe}return braceExpansion}var minimatch_1,hasRequiredMinimatch;function requireMinimatch(){if(hasRequiredMinimatch)return minimatch_1;hasRequiredMinimatch=1,minimatch_1=q,q.Minimatch=re;var e=function(){try{return require$$5}catch{}}()||{sep:"/"};q.sep=e.sep;var i=q.GLOBSTAR=re.GLOBSTAR={},a=requireBraceExpansion(),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",d=c+"*?",h="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_="(?:(?!(?:\\/|^)\\.).)*?",ne=f("().*{}+?[]^$\\!");function f(b){return b.split("").reduce(function(ge,m){return ge[m]=!0,ge},{})}var g=/\/+/;q.filter=he;function he(b,ge){return ge=ge||{},function(m,ue,be){return q(m,b,ge)}}function _e(b,ge){ge=ge||{};var m={};return Object.keys(b).forEach(function(ue){m[ue]=b[ue]}),Object.keys(ge).forEach(function(ue){m[ue]=ge[ue]}),m}q.defaults=function(b){if(!b||typeof b!="object"||!Object.keys(b).length)return q;var ge=q,m=function(be,je,Oe){return ge(be,je,_e(b,Oe))};return m.Minimatch=function(be,je){return new ge.Minimatch(be,_e(b,je))},m.Minimatch.defaults=function(be){return ge.defaults(_e(b,be)).Minimatch},m.filter=function(be,je){return ge.filter(be,_e(b,je))},m.defaults=function(be){return ge.defaults(_e(b,be))},m.makeRe=function(be,je){return ge.makeRe(be,_e(b,je))},m.braceExpand=function(be,je){return ge.braceExpand(be,_e(b,je))},m.match=function(ue,be,je){return ge.match(ue,be,_e(b,je))},m},re.defaults=function(b){return q.defaults(b).Minimatch};function q(b,ge,m){return fe(ge),m||(m={}),!m.nocomment&&ge.charAt(0)==="#"?!1:new re(ge,m).match(b)}function re(b,ge){if(!(this instanceof re))return new re(b,ge);fe(b),ge||(ge={}),b=b.trim(),!ge.allowWindowsEscape&&e.sep!=="/"&&(b=b.split(e.sep).join("/")),this.options=ge,this.set=[],this.pattern=b,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!ge.partial,this.make()}re.prototype.debug=function(){},re.prototype.make=ve;function ve(){var b=this.pattern,ge=this.options;if(!ge.nocomment&&b.charAt(0)==="#"){this.comment=!0;return}if(!b){this.empty=!0;return}this.parseNegate();var m=this.globSet=this.braceExpand();ge.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,m),m=this.globParts=m.map(function(ue){return ue.split(g)}),this.debug(this.pattern,m),m=m.map(function(ue,be,je){return ue.map(this.parse,this)},this),this.debug(this.pattern,m),m=m.filter(function(ue){return ue.indexOf(!1)===-1}),this.debug(this.pattern,m),this.set=m}re.prototype.parseNegate=ie;function ie(){var b=this.pattern,ge=!1,m=this.options,ue=0;if(!m.nonegate){for(var be=0,je=b.length;be<je&&b.charAt(be)==="!";be++)ge=!ge,ue++;ue&&(this.pattern=b.substr(ue)),this.negate=ge}}q.braceExpand=function(b,ge){return ee(b,ge)},re.prototype.braceExpand=ee;function ee(b,ge){return ge||(this instanceof re?ge=this.options:ge={}),b=typeof b>"u"?this.pattern:b,fe(b),ge.nobrace||!/\{(?:(?!\{).)*\}/.test(b)?[b]:a(b)}var ce=1024*64,fe=function(b){if(typeof b!="string")throw new TypeError("invalid pattern");if(b.length>ce)throw new TypeError("pattern is too long")};re.prototype.parse=$;var ae={};function $(b,ge){fe(b);var m=this.options;if(b==="**")if(m.noglobstar)b="*";else return i;if(b==="")return"";var ue="",be=!!m.nocase,je=!1,Oe=[],Le=[],me,Ie=!1,ye=-1,Pe=-1,ke=b.charAt(0)==="."?"":m.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",Ee=this;function le(){if(me){switch(me){case"*":ue+=d,be=!0;break;case"?":ue+=c,be=!0;break;default:ue+="\\"+me;break}Ee.debug("clearStateChar %j %j",me,ue),me=!1}}for(var de=0,xe=b.length,Ae;de<xe&&(Ae=b.charAt(de));de++){if(this.debug("%s	%s %s %j",b,de,ue,Ae),je&&ne[Ae]){ue+="\\"+Ae,je=!1;continue}switch(Ae){case"/":return!1;case"\\":le(),je=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",b,de,ue,Ae),Ie){this.debug("  in class"),Ae==="!"&&de===Pe+1&&(Ae="^"),ue+=Ae;continue}Ee.debug("call clearStateChar %j",me),le(),me=Ae,m.noext&&le();continue;case"(":if(Ie){ue+="(";continue}if(!me){ue+="\\(";continue}Oe.push({type:me,start:de-1,reStart:ue.length,open:o[me].open,close:o[me].close}),ue+=me==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",me,ue),me=!1;continue;case")":if(Ie||!Oe.length){ue+="\\)";continue}le(),be=!0;var we=Oe.pop();ue+=we.close,we.type==="!"&&Le.push(we),we.reEnd=ue.length;continue;case"|":if(Ie||!Oe.length||je){ue+="\\|",je=!1;continue}le(),ue+="|";continue;case"[":if(le(),Ie){ue+="\\"+Ae;continue}Ie=!0,Pe=de,ye=ue.length,ue+=Ae;continue;case"]":if(de===Pe+1||!Ie){ue+="\\"+Ae,je=!1;continue}var $e=b.substring(Pe+1,de);try{RegExp("["+$e+"]")}catch{var Me=this.parse($e,ae);ue=ue.substr(0,ye)+"\\["+Me[0]+"\\]",be=be||Me[1],Ie=!1;continue}be=!0,Ie=!1,ue+=Ae;continue;default:le(),je?je=!1:ne[Ae]&&!(Ae==="^"&&Ie)&&(ue+="\\"),ue+=Ae}}for(Ie&&($e=b.substr(Pe+1),Me=this.parse($e,ae),ue=ue.substr(0,ye)+"\\["+Me[0],be=be||Me[1]),we=Oe.pop();we;we=Oe.pop()){var Ne=ue.slice(we.reStart+we.open.length);this.debug("setting tail",ue,we),Ne=Ne.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Fe,ct,dt){return dt||(dt="\\"),ct+ct+dt+"|"}),this.debug(`tail=%j
   %s`,Ne,Ne,we,ue);var Ve=we.type==="*"?d:we.type==="?"?c:"\\"+we.type;be=!0,ue=ue.slice(0,we.reStart)+Ve+"\\("+Ne}le(),je&&(ue+="\\\\");var Je=!1;switch(ue.charAt(0)){case"[":case".":case"(":Je=!0}for(var nt=Le.length-1;nt>-1;nt--){var Qe=Le[nt],tt=ue.slice(0,Qe.reStart),Ge=ue.slice(Qe.reStart,Qe.reEnd-8),qe=ue.slice(Qe.reEnd-8,Qe.reEnd),Se=ue.slice(Qe.reEnd);qe+=Se;var Ce=tt.split("(").length-1,Be=Se;for(de=0;de<Ce;de++)Be=Be.replace(/\)[+*?]?/,"");Se=Be;var ze="";Se===""&&ge!==ae&&(ze="$");var et=tt+Ge+Se+ze+qe;ue=et}if(ue!==""&&be&&(ue="(?=.)"+ue),Je&&(ue=ke+ue),ge===ae)return[ue,be];if(!be)return se(b);var at=m.nocase?"i":"";try{var st=new RegExp("^"+ue+"$",at)}catch{return new RegExp("$.")}return st._glob=b,st._src=ue,st}q.makeRe=function(b,ge){return new re(b,ge||{}).makeRe()},re.prototype.makeRe=oe;function oe(){if(this.regexp||this.regexp===!1)return this.regexp;var b=this.set;if(!b.length)return this.regexp=!1,this.regexp;var ge=this.options,m=ge.noglobstar?d:ge.dot?h:_,ue=ge.nocase?"i":"",be=b.map(function(je){return je.map(function(Oe){return Oe===i?m:typeof Oe=="string"?te(Oe):Oe._src}).join("\\/")}).join("|");be="^(?:"+be+")$",this.negate&&(be="^(?!"+be+").*$");try{this.regexp=new RegExp(be,ue)}catch{this.regexp=!1}return this.regexp}q.match=function(b,ge,m){m=m||{};var ue=new re(ge,m);return b=b.filter(function(be){return ue.match(be)}),ue.options.nonull&&!b.length&&b.push(ge),b},re.prototype.match=function(ge,m){if(typeof m>"u"&&(m=this.partial),this.debug("match",ge,this.pattern),this.comment)return!1;if(this.empty)return ge==="";if(ge==="/"&&m)return!0;var ue=this.options;e.sep!=="/"&&(ge=ge.split(e.sep).join("/")),ge=ge.split(g),this.debug(this.pattern,"split",ge);var be=this.set;this.debug(this.pattern,"set",be);var je,Oe;for(Oe=ge.length-1;Oe>=0&&(je=ge[Oe],!je);Oe--);for(Oe=0;Oe<be.length;Oe++){var Le=be[Oe],me=ge;ue.matchBase&&Le.length===1&&(me=[je]);var Ie=this.matchOne(me,Le,m);if(Ie)return ue.flipNegate?!0:!this.negate}return ue.flipNegate?!1:this.negate},re.prototype.matchOne=function(b,ge,m){var ue=this.options;this.debug("matchOne",{this:this,file:b,pattern:ge}),this.debug("matchOne",b.length,ge.length);for(var be=0,je=0,Oe=b.length,Le=ge.length;be<Oe&&je<Le;be++,je++){this.debug("matchOne loop");var me=ge[je],Ie=b[be];if(this.debug(ge,me,Ie),me===!1)return!1;if(me===i){this.debug("GLOBSTAR",[ge,me,Ie]);var ye=be,Pe=je+1;if(Pe===Le){for(this.debug("** at the end");be<Oe;be++)if(b[be]==="."||b[be]===".."||!ue.dot&&b[be].charAt(0)===".")return!1;return!0}for(;ye<Oe;){var ke=b[ye];if(this.debug(`
globstar while`,b,ye,ge,Pe,ke),this.matchOne(b.slice(ye),ge.slice(Pe),m))return this.debug("globstar found match!",ye,Oe,ke),!0;if(ke==="."||ke===".."||!ue.dot&&ke.charAt(0)==="."){this.debug("dot detected!",b,ye,ge,Pe);break}this.debug("globstar swallow a segment, and continue"),ye++}return!!(m&&(this.debug(`
>>> no match, partial?`,b,ye,ge,Pe),ye===Oe))}var Ee;if(typeof me=="string"?(Ee=Ie===me,this.debug("string match",me,Ie,Ee)):(Ee=Ie.match(me),this.debug("pattern match",me,Ie,Ee)),!Ee)return!1}if(be===Oe&&je===Le)return!0;if(be===Oe)return m;if(je===Le)return be===Oe-1&&b[be]==="";throw new Error("wtf?")};function se(b){return b.replace(/\\(.)/g,"$1")}function te(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}return minimatch_1}var axios$1={exports:{}},bind,hasRequiredBind;function requireBind(){return hasRequiredBind||(hasRequiredBind=1,bind=function(i,a){return function(){for(var c=new Array(arguments.length),d=0;d<c.length;d++)c[d]=arguments[d];return i.apply(a,c)}}),bind}var utils$2,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var e=requireBind(),i=Object.prototype.toString;function a(te){return i.call(te)==="[object Array]"}function o(te){return typeof te>"u"}function c(te){return te!==null&&!o(te)&&te.constructor!==null&&!o(te.constructor)&&typeof te.constructor.isBuffer=="function"&&te.constructor.isBuffer(te)}function d(te){return i.call(te)==="[object ArrayBuffer]"}function h(te){return typeof FormData<"u"&&te instanceof FormData}function _(te){var b;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?b=ArrayBuffer.isView(te):b=te&&te.buffer&&te.buffer instanceof ArrayBuffer,b}function ne(te){return typeof te=="string"}function f(te){return typeof te=="number"}function g(te){return te!==null&&typeof te=="object"}function he(te){if(i.call(te)!=="[object Object]")return!1;var b=Object.getPrototypeOf(te);return b===null||b===Object.prototype}function _e(te){return i.call(te)==="[object Date]"}function q(te){return i.call(te)==="[object File]"}function re(te){return i.call(te)==="[object Blob]"}function ve(te){return i.call(te)==="[object Function]"}function ie(te){return g(te)&&ve(te.pipe)}function ee(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}function ce(te){return te.trim?te.trim():te.replace(/^\s+|\s+$/g,"")}function fe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ae(te,b){if(!(te===null||typeof te>"u"))if(typeof te!="object"&&(te=[te]),a(te))for(var ge=0,m=te.length;ge<m;ge++)b.call(null,te[ge],ge,te);else for(var ue in te)Object.prototype.hasOwnProperty.call(te,ue)&&b.call(null,te[ue],ue,te)}function $(){var te={};function b(ue,be){he(te[be])&&he(ue)?te[be]=$(te[be],ue):he(ue)?te[be]=$({},ue):a(ue)?te[be]=ue.slice():te[be]=ue}for(var ge=0,m=arguments.length;ge<m;ge++)ae(arguments[ge],b);return te}function oe(te,b,ge){return ae(b,function(ue,be){ge&&typeof ue=="function"?te[be]=e(ue,ge):te[be]=ue}),te}function se(te){return te.charCodeAt(0)===65279&&(te=te.slice(1)),te}return utils$2={isArray:a,isArrayBuffer:d,isBuffer:c,isFormData:h,isArrayBufferView:_,isString:ne,isNumber:f,isObject:g,isPlainObject:he,isUndefined:o,isDate:_e,isFile:q,isBlob:re,isFunction:ve,isStream:ie,isURLSearchParams:ee,isStandardBrowserEnv:fe,forEach:ae,merge:$,extend:oe,trim:ce,stripBOM:se},utils$2}var buildURL,hasRequiredBuildURL;function requireBuildURL(){if(hasRequiredBuildURL)return buildURL;hasRequiredBuildURL=1;var e=requireUtils();function i(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return buildURL=function(o,c,d){if(!c)return o;var h;if(d)h=d(c);else if(e.isURLSearchParams(c))h=c.toString();else{var _=[];e.forEach(c,function(g,he){g===null||typeof g>"u"||(e.isArray(g)?he=he+"[]":g=[g],e.forEach(g,function(q){e.isDate(q)?q=q.toISOString():e.isObject(q)&&(q=JSON.stringify(q)),_.push(i(he)+"="+i(q))}))}),h=_.join("&")}if(h){var ne=o.indexOf("#");ne!==-1&&(o=o.slice(0,ne)),o+=(o.indexOf("?")===-1?"?":"&")+h}return o},buildURL}var InterceptorManager_1,hasRequiredInterceptorManager;function requireInterceptorManager(){if(hasRequiredInterceptorManager)return InterceptorManager_1;hasRequiredInterceptorManager=1;var e=requireUtils();function i(){this.handlers=[]}return i.prototype.use=function(o,c,d){return this.handlers.push({fulfilled:o,rejected:c,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(o){this.handlers[o]&&(this.handlers[o]=null)},i.prototype.forEach=function(o){e.forEach(this.handlers,function(d){d!==null&&o(d)})},InterceptorManager_1=i,InterceptorManager_1}var normalizeHeaderName,hasRequiredNormalizeHeaderName;function requireNormalizeHeaderName(){if(hasRequiredNormalizeHeaderName)return normalizeHeaderName;hasRequiredNormalizeHeaderName=1;var e=requireUtils();return normalizeHeaderName=function(a,o){e.forEach(a,function(d,h){h!==o&&h.toUpperCase()===o.toUpperCase()&&(a[o]=d,delete a[h])})},normalizeHeaderName}var enhanceError,hasRequiredEnhanceError;function requireEnhanceError(){return hasRequiredEnhanceError||(hasRequiredEnhanceError=1,enhanceError=function(i,a,o,c,d){return i.config=a,o&&(i.code=o),i.request=c,i.response=d,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}),enhanceError}var createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=requireEnhanceError();return createError=function(a,o,c,d,h){var _=new Error(a);return e(_,o,c,d,h)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(a,o,c){var d=c.config.validateStatus;!c.status||!d||d(c.status)?a(c):o(e("Request failed with status code "+c.status,c.config,null,c.request,c))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=requireUtils();return cookies=e.isStandardBrowserEnv()?function(){return{write:function(o,c,d,h,_,ne){var f=[];f.push(o+"="+encodeURIComponent(c)),e.isNumber(d)&&f.push("expires="+new Date(d).toGMTString()),e.isString(h)&&f.push("path="+h),e.isString(_)&&f.push("domain="+_),ne===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(o){var c=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(i,a){return a?i.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):i}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),i=requireCombineURLs();return buildFullPath=function(o,c){return o&&!e(c)?i(o,c):c},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=requireUtils(),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(o){var c={},d,h,_;return o&&e.forEach(o.split(`
`),function(f){if(_=f.indexOf(":"),d=e.trim(f.substr(0,_)).toLowerCase(),h=e.trim(f.substr(_+1)),d){if(c[d]&&i.indexOf(d)>=0)return;d==="set-cookie"?c[d]=(c[d]?c[d]:[]).concat([h]):c[d]=c[d]?c[d]+", "+h:h}}),c},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=requireUtils();return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var a=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),c;function d(h){var _=h;return a&&(o.setAttribute("href",_),_=o.href),o.setAttribute("href",_),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return c=d(window.location.href),function(_){var ne=e.isString(_)?d(_):_;return ne.protocol===c.protocol&&ne.host===c.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=requireUtils(),i=requireSettle(),a=requireCookies(),o=requireBuildURL(),c=requireBuildFullPath(),d=requireParseHeaders(),h=requireIsURLSameOrigin(),_=requireCreateError();return xhr=function(f){return new Promise(function(he,_e){var q=f.data,re=f.headers,ve=f.responseType;e.isFormData(q)&&delete re["Content-Type"];var ie=new XMLHttpRequest;if(f.auth){var ee=f.auth.username||"",ce=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";re.Authorization="Basic "+btoa(ee+":"+ce)}var fe=c(f.baseURL,f.url);ie.open(f.method.toUpperCase(),o(fe,f.params,f.paramsSerializer),!0),ie.timeout=f.timeout;function ae(){if(ie){var oe="getAllResponseHeaders"in ie?d(ie.getAllResponseHeaders()):null,se=!ve||ve==="text"||ve==="json"?ie.responseText:ie.response,te={data:se,status:ie.status,statusText:ie.statusText,headers:oe,config:f,request:ie};i(he,_e,te),ie=null}}if("onloadend"in ie?ie.onloadend=ae:ie.onreadystatechange=function(){!ie||ie.readyState!==4||ie.status===0&&!(ie.responseURL&&ie.responseURL.indexOf("file:")===0)||setTimeout(ae)},ie.onabort=function(){ie&&(_e(_("Request aborted",f,"ECONNABORTED",ie)),ie=null)},ie.onerror=function(){_e(_("Network Error",f,null,ie)),ie=null},ie.ontimeout=function(){var se="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(se=f.timeoutErrorMessage),_e(_(se,f,f.transitional&&f.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",ie)),ie=null},e.isStandardBrowserEnv()){var $=(f.withCredentials||h(fe))&&f.xsrfCookieName?a.read(f.xsrfCookieName):void 0;$&&(re[f.xsrfHeaderName]=$)}"setRequestHeader"in ie&&e.forEach(re,function(se,te){typeof q>"u"&&te.toLowerCase()==="content-type"?delete re[te]:ie.setRequestHeader(te,se)}),e.isUndefined(f.withCredentials)||(ie.withCredentials=!!f.withCredentials),ve&&ve!=="json"&&(ie.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&ie.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&ie.upload&&ie.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(se){ie&&(ie.abort(),_e(se),ie=null)}),q||(q=null),ie.send(q)})},xhr}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=requireUtils(),i=requireNormalizeHeaderName(),a=requireEnhanceError(),o={"Content-Type":"application/x-www-form-urlencoded"};function c(ne,f){!e.isUndefined(ne)&&e.isUndefined(ne["Content-Type"])&&(ne["Content-Type"]=f)}function d(){var ne;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(ne=requireXhr()),ne}function h(ne,f,g){if(e.isString(ne))try{return(f||JSON.parse)(ne),e.trim(ne)}catch(he){if(he.name!=="SyntaxError")throw he}return(0,JSON.stringify)(ne)}var _={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:d(),transformRequest:[function(f,g){return i(g,"Accept"),i(g,"Content-Type"),e.isFormData(f)||e.isArrayBuffer(f)||e.isBuffer(f)||e.isStream(f)||e.isFile(f)||e.isBlob(f)?f:e.isArrayBufferView(f)?f.buffer:e.isURLSearchParams(f)?(c(g,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):e.isObject(f)||g&&g["Content-Type"]==="application/json"?(c(g,"application/json"),h(f)):f}],transformResponse:[function(f){var g=this.transitional,he=g&&g.silentJSONParsing,_e=g&&g.forcedJSONParsing,q=!he&&this.responseType==="json";if(q||_e&&e.isString(f)&&f.length)try{return JSON.parse(f)}catch(re){if(q)throw re.name==="SyntaxError"?a(re,this,"E_JSON_PARSE"):re}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300}};return _.headers={common:{Accept:"application/json, text/plain, */*"}},e.forEach(["delete","get","head"],function(f){_.headers[f]={}}),e.forEach(["post","put","patch"],function(f){_.headers[f]=e.merge(o)}),defaults_1=_,defaults_1}var transformData,hasRequiredTransformData;function requireTransformData(){if(hasRequiredTransformData)return transformData;hasRequiredTransformData=1;var e=requireUtils(),i=requireDefaults();return transformData=function(o,c,d){var h=this||i;return e.forEach(d,function(ne){o=ne.call(h,o,c)}),o},transformData}var isCancel,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel=function(i){return!!(i&&i.__CANCEL__)}),isCancel}var dispatchRequest,hasRequiredDispatchRequest;function requireDispatchRequest(){if(hasRequiredDispatchRequest)return dispatchRequest;hasRequiredDispatchRequest=1;var e=requireUtils(),i=requireTransformData(),a=requireIsCancel(),o=requireDefaults();function c(d){d.cancelToken&&d.cancelToken.throwIfRequested()}return dispatchRequest=function(h){c(h),h.headers=h.headers||{},h.data=i.call(h,h.data,h.headers,h.transformRequest),h.headers=e.merge(h.headers.common||{},h.headers[h.method]||{},h.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(f){delete h.headers[f]});var _=h.adapter||o.adapter;return _(h).then(function(f){return c(h),f.data=i.call(h,f.data,f.headers,h.transformResponse),f},function(f){return a(f)||(c(h),f&&f.response&&(f.response.data=i.call(h,f.response.data,f.response.headers,h.transformResponse))),Promise.reject(f)})},dispatchRequest}var mergeConfig,hasRequiredMergeConfig;function requireMergeConfig(){if(hasRequiredMergeConfig)return mergeConfig;hasRequiredMergeConfig=1;var e=requireUtils();return mergeConfig=function(a,o){o=o||{};var c={},d=["url","method","data"],h=["headers","auth","proxy","params"],_=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],ne=["validateStatus"];function f(q,re){return e.isPlainObject(q)&&e.isPlainObject(re)?e.merge(q,re):e.isPlainObject(re)?e.merge({},re):e.isArray(re)?re.slice():re}function g(q){e.isUndefined(o[q])?e.isUndefined(a[q])||(c[q]=f(void 0,a[q])):c[q]=f(a[q],o[q])}e.forEach(d,function(re){e.isUndefined(o[re])||(c[re]=f(void 0,o[re]))}),e.forEach(h,g),e.forEach(_,function(re){e.isUndefined(o[re])?e.isUndefined(a[re])||(c[re]=f(void 0,a[re])):c[re]=f(void 0,o[re])}),e.forEach(ne,function(re){re in o?c[re]=f(a[re],o[re]):re in a&&(c[re]=f(void 0,a[re]))});var he=d.concat(h).concat(_).concat(ne),_e=Object.keys(a).concat(Object.keys(o)).filter(function(re){return he.indexOf(re)===-1});return e.forEach(_e,g),c},mergeConfig}const name="axios",version="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}],require$$0={name,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize};var validator,hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1;var e=require$$0,i={};["object","boolean","number","function","string","symbol"].forEach(function(h,_){i[h]=function(f){return typeof f===h||"a"+(_<1?"n ":" ")+h}});var a={},o=e.version.split(".");function c(h,_){for(var ne=_?_.split("."):o,f=h.split("."),g=0;g<3;g++){if(ne[g]>f[g])return!0;if(ne[g]<f[g])return!1}return!1}i.transitional=function(_,ne,f){var g=ne&&c(ne);function he(_e,q){return"[Axios v"+e.version+"] Transitional option '"+_e+"'"+q+(f?". "+f:"")}return function(_e,q,re){if(_===!1)throw new Error(he(q," has been removed in "+ne));return g&&!a[q]&&(a[q]=!0,console.warn(he(q," has been deprecated since v"+ne+" and will be removed in the near future"))),_?_(_e,q,re):!0}};function d(h,_,ne){if(typeof h!="object")throw new TypeError("options must be an object");for(var f=Object.keys(h),g=f.length;g-- >0;){var he=f[g],_e=_[he];if(_e){var q=h[he],re=q===void 0||_e(q,he,h);if(re!==!0)throw new TypeError("option "+he+" must be "+re);continue}if(ne!==!0)throw Error("Unknown option "+he)}}return validator={isOlderVersion:c,assertOptions:d,validators:i},validator}var Axios_1,hasRequiredAxios$2;function requireAxios$2(){if(hasRequiredAxios$2)return Axios_1;hasRequiredAxios$2=1;var e=requireUtils(),i=requireBuildURL(),a=requireInterceptorManager(),o=requireDispatchRequest(),c=requireMergeConfig(),d=requireValidator(),h=d.validators;function _(ne){this.defaults=ne,this.interceptors={request:new a,response:new a}}return _.prototype.request=function(f){typeof f=="string"?(f=arguments[1]||{},f.url=arguments[0]):f=f||{},f=c(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var g=f.transitional;g!==void 0&&d.assertOptions(g,{silentJSONParsing:h.transitional(h.boolean,"1.0.0"),forcedJSONParsing:h.transitional(h.boolean,"1.0.0"),clarifyTimeoutError:h.transitional(h.boolean,"1.0.0")},!1);var he=[],_e=!0;this.interceptors.request.forEach(function(ae){typeof ae.runWhen=="function"&&ae.runWhen(f)===!1||(_e=_e&&ae.synchronous,he.unshift(ae.fulfilled,ae.rejected))});var q=[];this.interceptors.response.forEach(function(ae){q.push(ae.fulfilled,ae.rejected)});var re;if(!_e){var ve=[o,void 0];for(Array.prototype.unshift.apply(ve,he),ve=ve.concat(q),re=Promise.resolve(f);ve.length;)re=re.then(ve.shift(),ve.shift());return re}for(var ie=f;he.length;){var ee=he.shift(),ce=he.shift();try{ie=ee(ie)}catch(fe){ce(fe);break}}try{re=o(ie)}catch(fe){return Promise.reject(fe)}for(;q.length;)re=re.then(q.shift(),q.shift());return re},_.prototype.getUri=function(f){return f=c(this.defaults,f),i(f.url,f.params,f.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(f){_.prototype[f]=function(g,he){return this.request(c(he||{},{method:f,url:g,data:(he||{}).data}))}}),e.forEach(["post","put","patch"],function(f){_.prototype[f]=function(g,he,_e){return this.request(c(_e||{},{method:f,url:g,data:he}))}}),Axios_1=_,Axios_1}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function e(i){this.message=i}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function i(a){if(typeof a!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(h){o=h});var c=this;a(function(h){c.reason||(c.reason=new e(h),o(c.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var o,c=new i(function(h){o=h});return{token:c,cancel:o}},CancelToken_1=i,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(i){return function(o){return i.apply(null,o)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){return hasRequiredIsAxiosError||(hasRequiredIsAxiosError=1,isAxiosError=function(i){return typeof i=="object"&&i.isAxiosError===!0}),isAxiosError}var hasRequiredAxios$1;function requireAxios$1(){if(hasRequiredAxios$1)return axios$1.exports;hasRequiredAxios$1=1;var e=requireUtils(),i=requireBind(),a=requireAxios$2(),o=requireMergeConfig(),c=requireDefaults();function d(_){var ne=new a(_),f=i(a.prototype.request,ne);return e.extend(f,a.prototype,ne),e.extend(f,ne),f}var h=d(c);return h.Axios=a,h.create=function(ne){return d(o(h.defaults,ne))},h.Cancel=requireCancel(),h.CancelToken=requireCancelToken(),h.isCancel=requireIsCancel(),h.all=function(ne){return Promise.all(ne)},h.spread=requireSpread(),h.isAxiosError=requireIsAxiosError(),axios$1.exports=h,axios$1.exports.default=h,axios$1.exports}var axios,hasRequiredAxios;function requireAxios(){return hasRequiredAxios||(hasRequiredAxios=1,axios=requireAxios$1()),axios}(function(e,i){(function(a,o){o(i,reactExports,requireMinimatch(),requireAxios())})(commonjsGlobal,function(a,o,c,d){function h(ee){return ee&&typeof ee=="object"&&"default"in ee?ee:{default:ee}}var _=h(o),ne=h(c),f=h(d),g=function(){return(g=Object.assign||function(ee){for(var ce,fe=1,ae=arguments.length;fe<ae;fe++)for(var $ in ce=arguments[fe])Object.prototype.hasOwnProperty.call(ce,$)&&(ee[$]=ce[$]);return ee}).apply(this,arguments)};function he(ee,ce,fe,ae){return new(fe||(fe=Promise))(function($,oe){function se(ge){try{b(ae.next(ge))}catch(m){oe(m)}}function te(ge){try{b(ae.throw(ge))}catch(m){oe(m)}}function b(ge){var m;ge.done?$(ge.value):(m=ge.value,m instanceof fe?m:new fe(function(ue){ue(m)})).then(se,te)}b((ae=ae.apply(ee,[])).next())})}function _e(ee,ce){var fe,ae,$,oe,se={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return oe={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function te(b){return function(ge){return function(m){if(fe)throw new TypeError("Generator is already executing.");for(;se;)try{if(fe=1,ae&&($=2&m[0]?ae.return:m[0]?ae.throw||(($=ae.return)&&$.call(ae),0):ae.next)&&!($=$.call(ae,m[1])).done)return $;switch(ae=0,$&&(m=[2&m[0],$.value]),m[0]){case 0:case 1:$=m;break;case 4:return se.label++,{value:m[1],done:!1};case 5:se.label++,ae=m[1],m=[0];continue;case 7:m=se.ops.pop(),se.trys.pop();continue;default:if($=se.trys,!(($=$.length>0&&$[$.length-1])||m[0]!==6&&m[0]!==2)){se=0;continue}if(m[0]===3&&(!$||m[1]>$[0]&&m[1]<$[3])){se.label=m[1];break}if(m[0]===6&&se.label<$[1]){se.label=$[1],$=m;break}if($&&se.label<$[2]){se.label=$[2],se.ops.push(m);break}$[2]&&se.ops.pop(),se.trys.pop();continue}m=ce.call(ee,se)}catch(ue){m=[6,ue],ae=0}finally{fe=$=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([b,ge])}}}var q=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}];function re(ee,ce,fe){return he(this,void 0,void 0,function(){var ae,$,oe,se,te,b,ge;return _e(this,function(m){switch(m.label){case 0:if(ae=ve(fe.url,ce),$=ae.base_url,oe=ae.requestInterceptor,se=ae.responceInterceptor,te=ae.getResponce,!$)throw Error("Invalid url: cannot guess oembed endpoint");return $==="OVERRIDE"?[2,te==null?void 0:te(fe)]:(b=function(ue,be){ue.endsWith("/")&&(ue=ue.slice(0,-1));var je=/\{format\}/gi;if(ue.match(je)&&(ue=ue.replace(je,"json")),!be)return ue;var Oe=/\{url\}/gi,Le=/\{raw_url\}/gi;return be.match(Le)?be.replace(Le,ue):be.match(Oe)?(ue=encodeURIComponent(ue),be.replace(Oe,ue)):(be.endsWith("/")&&(be=be.slice(0,-1)),be+"/"+ue)}($,ee),ge=f.default.create(),oe&&ge.interceptors.request.use(oe),se&&ge.interceptors.response.use(se),[4,ge.get(b,{params:fe})]);case 1:return[2,m.sent().data]}})})}function ve(ee,ce){var fe,ae,$,oe;return(ce=ce||q).forEach(function(se){var te;se.endpoints.forEach(function(b){(function(ge,m){var ue=!!m.find(function(be){return ne.default(ge,be,{nocase:!0})});return ue||!!m.find(function(be){return ne.default(ge,be.replace(/\*/g,"**"),{nocase:!0})})})(ee,b.schemes)&&(te=b)}),te&&(fe=te.url,ae=se.requestInterceptor,$=se.responceInterceptor,oe=se.getResponce)}),{base_url:fe,requestInterceptor:ae,responceInterceptor:$,getResponce:oe}}function ie(ee,ce,fe){var ae=[];o.useEffect(function(){var $=document.createElement("div");return $.innerHTML=ee,$.querySelectorAll("script").forEach(function(oe){var se=document.createElement("script");Array.from(oe.attributes).forEach(function(te){te.nodeName!=="id"&&se.setAttribute(te.nodeName,te.nodeValue||"")}),se.innerHTML=oe.innerHTML,Object.entries(ce||{}).forEach(function(te){var b=te[0],ge=te[1];se.setAttribute(b,ge)}),document.body.appendChild(se),ae=ae.concat(se)}),function(){ae.forEach(function(oe){document.body.removeChild(oe)}),ae=[]}},fe||[ee])}a.default=function(ee){var ce=ee.url,fe=ee.proxy,ae=ee.style,$=ee.options,oe=ee.providers,se=ee.ImgComponent,te=ee.LinkComponent,b=ee.FallbackElement,ge=ee.LoadingFallbackElement,m=o.useState(void 0),ue=m[0],be=m[1],je=o.useState("idle"),Oe=je[0],Le=je[1],me=o.useState(""),Ie=me[0],ye=me[1];ie(Ie,{defer:""}),o.useEffect(function(){Oe==="idle"&&function(){he(this,void 0,void 0,function(){var Ee,le;return _e(this,function(de){switch(de.label){case 0:return de.trys.push([0,2,,3]),Le("loading"),[4,re(fe,oe,g(g({url:ce,maxwidth:700,maxheight:500,align:"center"},$),{format:"json"}))];case 1:if(!(Ee=de.sent()))throw Error("Nill embed responce");return Le("done"),be(Ee),Ee.html&&ye(Ee.html),[3,3];case 2:return le=de.sent(),console.error("Error",le),Le("error"),[3,3];case 3:return[2]}})})}()},[Oe]);var Pe,ke=_.default.createElement("a",{href:ce,target:"_blank",rel:"nofollow noreferrer noopener"},ce);return ue&&!ue.html&&(ue.type==="photo"?Pe=se?_.default.createElement(se,{responce:ue}):_.default.createElement("img",{alt:"",src:ue.url}):ue.type==="link"&&(Pe=te?_.default.createElement(te,{responce:ue}):_.default.createElement("a",{href:ce,target:"_blank",rel:"nofollow noreferrer noopener"},ce))),Oe==="loading"||Oe==="idle"?ge||ke:Oe==="error"?b||ke:_.default.createElement("span",{style:ae,className:"__embed __embed_column"},Pe,Ie&&_.default.createElement("span",{className:"__embed_column",dangerouslySetInnerHTML:{__html:Ie}}),_.default.createElement("style",null,`.__embed {
    margin: auto;
    width: 100%;
    max-width: 700px;
} 
.__embed iframe {
    width: 100%;
    margin: auto;
}
.__embed img, .__embed video {
    width: 100%;
    margin: 0;
}
.__embed blockquote {
    margin: 0;
}
.__embed span {
    border: 0;
} 
.__embed_column {
    width: 100%;
    display: flex;
    flex-direction: column;
}`))},a.defaultProviders=q,a.getEndpoint=ve,a.requestEmbed=re,a.useScript=ie,Object.defineProperty(a,"__esModule",{value:!0})})})(lib$2,lib$2.exports);var libExports=lib$2.exports;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ie,ee){return Object.defineProperty?Object.defineProperty(ie,"raw",{value:ee}):ie.raw=ee,ie},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(ie){for(var ee,ce=1,fe=arguments.length;ce<fe;ce++){ee=arguments[ce];for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&(ie[ae]=ee[ae])}return ie},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ie,ee,ce,fe){fe===void 0&&(fe=ce);var ae=Object.getOwnPropertyDescriptor(ee,ce);(!ae||("get"in ae?!ee.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return ee[ce]}}),Object.defineProperty(ie,fe,ae)}:function(ie,ee,ce,fe){fe===void 0&&(fe=ce),ie[fe]=ee[ce]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ie,ee){Object.defineProperty(ie,"default",{enumerable:!0,value:ee})}:function(ie,ee){ie.default=ee}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(ie){if(ie&&ie.__esModule)return ie;var ee={};if(ie!=null)for(var ce in ie)ce!=="default"&&Object.prototype.hasOwnProperty.call(ie,ce)&&o(ee,ie,ce);return c(ee,ie),ee},h=commonjsGlobal&&commonjsGlobal.__importDefault||function(ie){return ie&&ie.__esModule?ie:{default:ie}};Object.defineProperty(e,"__esModule",{value:!0}),e.OEmbedPlayer=void 0;var _=jsxRuntimeExports,ne=h(libExports),f=d(require$$6$1),g=requireLib(),he=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*","https://*.youtube.com/shorts/*","https://youtube.com/shorts/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}],_e=(0,f.default)("div")(re||(re=i([`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`],[`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`]))),q=function(ie){var ee=ie.ratio,ce=ee===void 0?9/16:ee,fe=ie.className,ae=fe===void 0?"":fe;return(0,_.jsx)(_e,a({className:"wellms-component ".concat(ae)},{children:(0,_.jsx)(g.RatioBox,a({ratio:ce},{children:(0,_.jsx)(ne.default,a({},ie,{providers:he}))}))}))};e.OEmbedPlayer=q,e.default=(0,f.withTheme)((0,f.default)(e.OEmbedPlayer)(ve||(ve=i([""],[""]))));var re,ve})(OEmbedPlayer);var AudioVideoPlayer={},loadScript=function(i,a,o){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof a=="function"&&(o=a,a={}),a=a||{},o=o||function(){},d.type=a.type||"text/javascript",d.charset=a.charset||"utf8",d.async="async"in a?!!a.async:!0,d.src=i,a.attrs&&setAttributes(d,a.attrs),a.text&&(d.text=""+a.text);var h="onload"in d?stdOnEnd:ieOnEnd;h(d,o),d.onload||stdOnEnd(d,o),c.appendChild(d)};function setAttributes(e,i){for(var a in i)e.setAttribute(a,i[a])}function stdOnEnd(e,i){e.onload=function(){this.onerror=this.onload=null,i(null,e)},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),e)}}function ieOnEnd(e,i){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,e))}}var isMergeableObject=function(i){return isNonNullObject(i)&&!isSpecial(i)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var i=Object.prototype.toString.call(e);return i==="[object RegExp]"||i==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,i){return i.clone!==!1&&i.isMergeableObject(e)?deepmerge(emptyTarget(e),e,i):e}function defaultArrayMerge(e,i,a){return e.concat(i).map(function(o){return cloneUnlessOtherwiseSpecified(o,a)})}function getMergeFunction(e,i){if(!i.customMerge)return deepmerge;var a=i.customMerge(e);return typeof a=="function"?a:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(i){return Object.propertyIsEnumerable.call(e,i)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,i){try{return i in e}catch{return!1}}function propertyIsUnsafe(e,i){return propertyIsOnObject(e,i)&&!(Object.hasOwnProperty.call(e,i)&&Object.propertyIsEnumerable.call(e,i))}function mergeObject(e,i,a){var o={};return a.isMergeableObject(e)&&getKeys(e).forEach(function(c){o[c]=cloneUnlessOtherwiseSpecified(e[c],a)}),getKeys(i).forEach(function(c){propertyIsUnsafe(e,c)||(propertyIsOnObject(e,c)&&a.isMergeableObject(i[c])?o[c]=getMergeFunction(c,a)(e[c],i[c],a):o[c]=cloneUnlessOtherwiseSpecified(i[c],a))}),o}function deepmerge(e,i,a){a=a||{},a.arrayMerge=a.arrayMerge||defaultArrayMerge,a.isMergeableObject=a.isMergeableObject||isMergeableObject,a.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var o=Array.isArray(i),c=Array.isArray(e),d=o===c;return d?o?a.arrayMerge(e,i,a):mergeObject(e,i,a):cloneUnlessOtherwiseSpecified(i,a)}deepmerge.all=function(i,a){if(!Array.isArray(i))throw new Error("first argument should be an array");return i.reduce(function(o,c){return deepmerge(o,c,a)},{})};var deepmerge_1=deepmerge,cjs$5=deepmerge_1,__create$4=Object.create,__defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__getProtoOf$4=Object.getPrototypeOf,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$6=(e,i)=>{for(var a in i)__defProp$6(e,a,{get:i[a],enumerable:!0})},__copyProps$6=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$6(i))!__hasOwnProp$6.call(e,c)&&c!==a&&__defProp$6(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$6(i,c))||o.enumerable});return e},__toESM$4=(e,i,a)=>(a=e!=null?__create$4(__getProtoOf$4(e)):{},__copyProps$6(!e||!e.__esModule?__defProp$6(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$6=e=>__copyProps$6(__defProp$6({},"__esModule",{value:!0}),e),utils_exports={};__export$6(utils_exports,{callPlayer:()=>callPlayer,getConfig:()=>getConfig,getSDK:()=>getSDK,isBlobUrl:()=>isBlobUrl,isMediaStream:()=>isMediaStream,lazy:()=>lazy,omit:()=>omit,parseEndTime:()=>parseEndTime,parseStartTime:()=>parseStartTime,queryString:()=>queryString,randomString:()=>randomString,supportsWebKitPresentationMode:()=>supportsWebKitPresentationMode});var utils$1=__toCommonJS$6(utils_exports),import_react$2=__toESM$4(reactExports),import_load_script=__toESM$4(loadScript),import_deepmerge$1=__toESM$4(cjs$5);const lazy=e=>import_react$2.default.lazy(async()=>{const i=await e();return typeof i.default=="function"?i:i.default}),MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(e,i){if(e instanceof Array)return;const a=e.match(i);if(a){const o=a[1];if(o.match(MATCH_START_STAMP))return parseTimeString(o);if(MATCH_NUMERIC.test(o))return parseInt(o)}}function parseTimeString(e){let i=0,a=MATCH_START_STAMP.exec(e);for(;a!==null;){const[,o,c]=a;c==="h"&&(i+=parseInt(o,10)*60*60),c==="m"&&(i+=parseInt(o,10)*60),c==="s"&&(i+=parseInt(o,10)),a=MATCH_START_STAMP.exec(e)}return i}function parseStartTime(e){return parseTimeParam(e,MATCH_START_QUERY)}function parseEndTime(e){return parseTimeParam(e,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(e){return Object.keys(e).map(i=>`${i}=${e[i]}`).join("&")}function getGlobal(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const requests={},getSDK=function(i,a,o=null,c=()=>!0,d=import_load_script.default){const h=getGlobal(a);return h&&c(h)?Promise.resolve(h):new Promise((_,ne)=>{if(requests[i]){requests[i].push({resolve:_,reject:ne});return}requests[i]=[{resolve:_,reject:ne}];const f=g=>{requests[i].forEach(he=>he.resolve(g))};if(o){const g=window[o];window[o]=function(){g&&g(),f(getGlobal(a))}}d(i,g=>{g?(requests[i].forEach(he=>he.reject(g)),requests[i]=null):o||f(getGlobal(a))})})};function getConfig(e,i){return(0,import_deepmerge$1.default)(i.config,e.config)}function omit(e,...i){const a=[].concat(...i),o={},c=Object.keys(e);for(const d of c)a.indexOf(d)===-1&&(o[d]=e[d]);return o}function callPlayer(e,...i){if(!this.player||!this.player[e]){let a=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c  `;return this.player?this.player[e]||(a+="The method was not available"):a+="The player was not available",console.warn(a,"font-weight: bold",""),null}return this.player[e](...i)}function isMediaStream(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function isBlobUrl(e){return/^blob:/.test(e)}function supportsWebKitPresentationMode(e=document.createElement("video")){const i=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&i}function enableStubOn(e){return e}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$5=(e,i)=>{for(var a in i)__defProp$5(e,a,{get:i[a],enumerable:!0})},__copyProps$5=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$5(i))!__hasOwnProp$5.call(e,c)&&c!==a&&__defProp$5(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$5(i,c))||o.enumerable});return e},__toCommonJS$5=e=>__copyProps$5(__defProp$5({},"__esModule",{value:!0}),e),patterns_exports={};__export$5(patterns_exports,{AUDIO_EXTENSIONS:()=>AUDIO_EXTENSIONS,DASH_EXTENSIONS:()=>DASH_EXTENSIONS,FLV_EXTENSIONS:()=>FLV_EXTENSIONS,HLS_EXTENSIONS:()=>HLS_EXTENSIONS,MATCH_URL_DAILYMOTION:()=>MATCH_URL_DAILYMOTION,MATCH_URL_FACEBOOK:()=>MATCH_URL_FACEBOOK,MATCH_URL_FACEBOOK_WATCH:()=>MATCH_URL_FACEBOOK_WATCH,MATCH_URL_KALTURA:()=>MATCH_URL_KALTURA,MATCH_URL_MIXCLOUD:()=>MATCH_URL_MIXCLOUD,MATCH_URL_MUX:()=>MATCH_URL_MUX,MATCH_URL_SOUNDCLOUD:()=>MATCH_URL_SOUNDCLOUD,MATCH_URL_STREAMABLE:()=>MATCH_URL_STREAMABLE,MATCH_URL_TWITCH_CHANNEL:()=>MATCH_URL_TWITCH_CHANNEL,MATCH_URL_TWITCH_VIDEO:()=>MATCH_URL_TWITCH_VIDEO,MATCH_URL_VIDYARD:()=>MATCH_URL_VIDYARD,MATCH_URL_VIMEO:()=>MATCH_URL_VIMEO,MATCH_URL_WISTIA:()=>MATCH_URL_WISTIA,MATCH_URL_YOUTUBE:()=>MATCH_URL_YOUTUBE,VIDEO_EXTENSIONS:()=>VIDEO_EXTENSIONS,canPlay:()=>canPlay});var patterns=__toCommonJS$5(patterns_exports),import_utils$3=utils$1;const MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/,MATCH_URL_MUX=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/,MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/,MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/,MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,HLS_EXTENSIONS=/\.(m3u8)($|\?)/i,DASH_EXTENSIONS=/\.(mpd)($|\?)/i,FLV_EXTENSIONS=/\.(flv)($|\?)/i,canPlayFile=e=>{if(e instanceof Array){for(const i of e)if(typeof i=="string"&&canPlayFile(i)||canPlayFile(i.src))return!0;return!1}return(0,import_utils$3.isMediaStream)(e)||(0,import_utils$3.isBlobUrl)(e)?!0:AUDIO_EXTENSIONS.test(e)||VIDEO_EXTENSIONS.test(e)||HLS_EXTENSIONS.test(e)||DASH_EXTENSIONS.test(e)||FLV_EXTENSIONS.test(e)},canPlay={youtube:e=>e instanceof Array?e.every(i=>MATCH_URL_YOUTUBE.test(i)):MATCH_URL_YOUTUBE.test(e),soundcloud:e=>MATCH_URL_SOUNDCLOUD.test(e)&&!AUDIO_EXTENSIONS.test(e),vimeo:e=>MATCH_URL_VIMEO.test(e)&&!VIDEO_EXTENSIONS.test(e)&&!HLS_EXTENSIONS.test(e),mux:e=>MATCH_URL_MUX.test(e),facebook:e=>MATCH_URL_FACEBOOK.test(e)||MATCH_URL_FACEBOOK_WATCH.test(e),streamable:e=>MATCH_URL_STREAMABLE.test(e),wistia:e=>MATCH_URL_WISTIA.test(e),twitch:e=>MATCH_URL_TWITCH_VIDEO.test(e)||MATCH_URL_TWITCH_CHANNEL.test(e),dailymotion:e=>MATCH_URL_DAILYMOTION.test(e),mixcloud:e=>MATCH_URL_MIXCLOUD.test(e),vidyard:e=>MATCH_URL_VIDYARD.test(e),kaltura:e=>MATCH_URL_KALTURA.test(e),file:canPlayFile};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$4=(e,i)=>{for(var a in i)__defProp$4(e,a,{get:i[a],enumerable:!0})},__copyProps$4=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$4(i))!__hasOwnProp$4.call(e,c)&&c!==a&&__defProp$4(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$4(i,c))||o.enumerable});return e},__toCommonJS$4=e=>__copyProps$4(__defProp$4({},"__esModule",{value:!0}),e),players_exports={};__export$4(players_exports,{default:()=>players_default});var players=__toCommonJS$4(players_exports),import_utils$2=utils$1,import_patterns=patterns,players_default=[{key:"youtube",name:"YouTube",canPlay:import_patterns.canPlay.youtube,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./YouTube-CEuikiKW.js").then(e=>e.Y),__vite__mapDeps([0,1,2])))},{key:"soundcloud",name:"SoundCloud",canPlay:import_patterns.canPlay.soundcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./SoundCloud-B6eVe61m.js").then(e=>e.S),__vite__mapDeps([3,1,2])))},{key:"vimeo",name:"Vimeo",canPlay:import_patterns.canPlay.vimeo,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vimeo-B6yqQltV.js").then(e=>e.V),__vite__mapDeps([4,1,2])))},{key:"mux",name:"Mux",canPlay:import_patterns.canPlay.mux,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mux-COtLOjp7.js").then(e=>e.M),__vite__mapDeps([5,1,2])))},{key:"facebook",name:"Facebook",canPlay:import_patterns.canPlay.facebook,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Facebook-CUqLXR2Q.js").then(e=>e.F),__vite__mapDeps([6,1,2])))},{key:"streamable",name:"Streamable",canPlay:import_patterns.canPlay.streamable,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Streamable-BKr5xUvQ.js").then(e=>e.S),__vite__mapDeps([7,1,2])))},{key:"wistia",name:"Wistia",canPlay:import_patterns.canPlay.wistia,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Wistia-ConP_t04.js").then(e=>e.W),__vite__mapDeps([8,1,2])))},{key:"twitch",name:"Twitch",canPlay:import_patterns.canPlay.twitch,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Twitch-Dom9dDWL.js").then(e=>e.T),__vite__mapDeps([9,1,2])))},{key:"dailymotion",name:"DailyMotion",canPlay:import_patterns.canPlay.dailymotion,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./DailyMotion-BuZKxOcp.js").then(e=>e.D),__vite__mapDeps([10,1,2])))},{key:"mixcloud",name:"Mixcloud",canPlay:import_patterns.canPlay.mixcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mixcloud-BEFYyl2s.js").then(e=>e.M),__vite__mapDeps([11,1,2])))},{key:"vidyard",name:"Vidyard",canPlay:import_patterns.canPlay.vidyard,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vidyard-CA2HN-qo.js").then(e=>e.V),__vite__mapDeps([12,1,2])))},{key:"kaltura",name:"Kaltura",canPlay:import_patterns.canPlay.kaltura,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Kaltura-DWfM_dlr.js").then(e=>e.K),__vite__mapDeps([13,1,2])))},{key:"file",name:"FilePlayer",canPlay:import_patterns.canPlay.file,canEnablePIP:e=>import_patterns.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,import_utils$2.supportsWebKitPresentationMode)())&&!import_patterns.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./FilePlayer-BZ8ziZ_m.js").then(e=>e.F),__vite__mapDeps([14,1,2])))}],safeIsNaN=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function isEqual(e,i){return!!(e===i||safeIsNaN(e)&&safeIsNaN(i))}function areInputsEqual(e,i){if(e.length!==i.length)return!1;for(var a=0;a<e.length;a++)if(!isEqual(e[a],i[a]))return!1;return!0}function memoizeOne(e,i){i===void 0&&(i=areInputsEqual);var a,o=[],c,d=!1;function h(){for(var _=[],ne=0;ne<arguments.length;ne++)_[ne]=arguments[ne];return d&&a===this&&i(_,o)||(c=e.apply(this,_),d=!0,a=this,o=_),c}return h}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var a,o,c;if(Array.isArray(e)){if(a=e.length,a!=i.length)return!1;for(o=a;o--!==0;)if(!equal(e[o],i[o]))return!1;return!0}var d;if(hasMap&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(d=e.entries();!(o=d.next()).done;)if(!i.has(o.value[0]))return!1;for(d=e.entries();!(o=d.next()).done;)if(!equal(o.value[1],i.get(o.value[0])))return!1;return!0}if(hasSet&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(d=e.entries();!(o=d.next()).done;)if(!i.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if(a=e.length,a!=i.length)return!1;for(o=a;o--!==0;)if(e[o]!==i[o])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof i.valueOf=="function")return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof i.toString=="function")return e.toString()===i.toString();if(c=Object.keys(e),a=c.length,a!==Object.keys(i).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[o]))return!1;if(hasElementType&&e instanceof Element)return!1;for(o=a;o--!==0;)if(!((c[o]==="_owner"||c[o]==="__v"||c[o]==="__o")&&e.$$typeof)&&!equal(e[c[o]],i[c[o]]))return!1;return!0}return e!==e&&i!==i}var reactFastCompare=function(i,a){try{return equal(i,a)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}},__create$3=Object.create,__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__getProtoOf$3=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$3=(e,i)=>{for(var a in i)__defProp$3(e,a,{get:i[a],enumerable:!0})},__copyProps$3=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$3(i))!__hasOwnProp$3.call(e,c)&&c!==a&&__defProp$3(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$3(i,c))||o.enumerable});return e},__toESM$3=(e,i,a)=>(a=e!=null?__create$3(__getProtoOf$3(e)):{},__copyProps$3(!e||!e.__esModule?__defProp$3(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$3=e=>__copyProps$3(__defProp$3({},"__esModule",{value:!0}),e),props_exports={};__export$3(props_exports,{defaultProps:()=>defaultProps,propTypes:()=>propTypes$1});var props=__toCommonJS$3(props_exports),import_prop_types=__toESM$3(propTypesExports);const{string,bool,number,array,oneOfType,shape,object,func,node}=import_prop_types.default,propTypes$1={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,previewAriaLabel:string,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),mux:shape({attributes:object,version:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDisableHls:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onPlaybackQualityChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func},noop=()=>{},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop,onStart:noop,onPlay:noop,onPause:noop,onBuffer:noop,onBufferEnd:noop,onEnded:noop,onError:noop,onDuration:noop,onSeek:noop,onPlaybackRateChange:noop,onPlaybackQualityChange:noop,onProgress:noop,onClickPreview:noop,onEnablePIP:noop,onDisablePIP:noop};var __create$2=Object.create,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__getProtoOf$2=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__defNormalProp$1=(e,i,a)=>i in e?__defProp$2(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,__export$2=(e,i)=>{for(var a in i)__defProp$2(e,a,{get:i[a],enumerable:!0})},__copyProps$2=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$2(i))!__hasOwnProp$2.call(e,c)&&c!==a&&__defProp$2(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$2(i,c))||o.enumerable});return e},__toESM$2=(e,i,a)=>(a=e!=null?__create$2(__getProtoOf$2(e)):{},__copyProps$2(!e||!e.__esModule?__defProp$2(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$2=e=>__copyProps$2(__defProp$2({},"__esModule",{value:!0}),e),__publicField$1=(e,i,a)=>(__defNormalProp$1(e,typeof i!="symbol"?i+"":i,a),a),Player_exports={};__export$2(Player_exports,{default:()=>Player});var Player_1=__toCommonJS$2(Player_exports),import_react$1=__toESM$2(reactExports),import_react_fast_compare$1=__toESM$2(reactFastCompare),import_props$1=props,import_utils$1=utils$1;const SEEK_ON_PLAY_EXPIRY=5e3;class Player extends import_react$1.Component{constructor(){super(...arguments),__publicField$1(this,"mounted",!1),__publicField$1(this,"isReady",!1),__publicField$1(this,"isPlaying",!1),__publicField$1(this,"isLoading",!0),__publicField$1(this,"loadOnReady",null),__publicField$1(this,"startOnPlay",!0),__publicField$1(this,"seekOnPlay",null),__publicField$1(this,"onDurationCalled",!1),__publicField$1(this,"handlePlayerMount",i=>{if(this.player){this.progress();return}this.player=i,this.player.load(this.props.url),this.progress()}),__publicField$1(this,"getInternalPlayer",i=>this.player?this.player[i]:null),__publicField$1(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const i=this.getCurrentTime()||0,a=this.getSecondsLoaded(),o=this.getDuration();if(o){const c={playedSeconds:i,played:i/o};a!==null&&(c.loadedSeconds=a,c.loaded=a/o),(c.playedSeconds!==this.prevPlayed||c.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(c),this.prevPlayed=c.playedSeconds,this.prevLoaded=c.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),__publicField$1(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:i,playing:a,volume:o,muted:c}=this.props;i(),!c&&o!==null&&this.player.setVolume(o),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):a&&this.player.play(),this.handleDurationCheck()}),__publicField$1(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:i,onPlay:a,playbackRate:o}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&o!==1&&this.player.setPlaybackRate(o),i(),this.startOnPlay=!1),a(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),__publicField$1(this,"handlePause",i=>{this.isPlaying=!1,this.isLoading||this.props.onPause(i)}),__publicField$1(this,"handleEnded",()=>{const{activePlayer:i,loop:a,onEnded:o}=this.props;i.loopOnEnded&&a&&this.seekTo(0),a||(this.isPlaying=!1,o())}),__publicField$1(this,"handleError",(...i)=>{this.isLoading=!1,this.props.onError(...i)}),__publicField$1(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const i=this.getDuration();i?this.onDurationCalled||(this.props.onDuration(i),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),__publicField$1(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(i){if(!this.player)return;const{url:a,playing:o,volume:c,muted:d,playbackRate:h,pip:_,loop:ne,activePlayer:f,disableDeferredLoading:g}=this.props;if(!(0,import_react_fast_compare$1.default)(i.url,a)){if(this.isLoading&&!f.forceLoad&&!g&&!(0,import_utils$1.isMediaStream)(a)){console.warn(`ReactPlayer: the attempt to load ${a} is being deferred until the player has loaded`),this.loadOnReady=a;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(a,this.isReady)}!i.playing&&o&&!this.isPlaying&&this.player.play(),i.playing&&!o&&this.isPlaying&&this.player.pause(),!i.pip&&_&&this.player.enablePIP&&this.player.enablePIP(),i.pip&&!_&&this.player.disablePIP&&this.player.disablePIP(),i.volume!==c&&c!==null&&this.player.setVolume(c),i.muted!==d&&(d?this.player.mute():(this.player.unmute(),c!==null&&setTimeout(()=>this.player.setVolume(c)))),i.playbackRate!==h&&this.player.setPlaybackRate&&this.player.setPlaybackRate(h),i.loop!==ne&&this.player.setLoop&&this.player.setLoop(ne)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(i,a,o){if(!this.isReady){i!==0&&(this.seekOnPlay=i,setTimeout(()=>{this.seekOnPlay=null},SEEK_ON_PLAY_EXPIRY));return}if(a?a==="fraction":i>0&&i<1){const d=this.player.getDuration();if(!d){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(d*i,o);return}this.player.seekTo(i,o)}render(){const i=this.props.activePlayer;return i?import_react$1.default.createElement(i,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}__publicField$1(Player,"displayName","Player");__publicField$1(Player,"propTypes",import_props$1.propTypes);__publicField$1(Player,"defaultProps",import_props$1.defaultProps);var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__defNormalProp=(e,i,a)=>i in e?__defProp$1(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,__export$1=(e,i)=>{for(var a in i)__defProp$1(e,a,{get:i[a],enumerable:!0})},__copyProps$1=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$1(i))!__hasOwnProp$1.call(e,c)&&c!==a&&__defProp$1(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc$1(i,c))||o.enumerable});return e},__toESM$1=(e,i,a)=>(a=e!=null?__create$1(__getProtoOf$1(e)):{},__copyProps$1(!e||!e.__esModule?__defProp$1(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS$1=e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),e),__publicField=(e,i,a)=>(__defNormalProp(e,typeof i!="symbol"?i+"":i,a),a),ReactPlayer_exports={};__export$1(ReactPlayer_exports,{createReactPlayer:()=>createReactPlayer});var ReactPlayer=__toCommonJS$1(ReactPlayer_exports),import_react=__toESM$1(reactExports),import_deepmerge=__toESM$1(cjs$5),import_memoize_one=__toESM$1(require$$2$1),import_react_fast_compare=__toESM$1(reactFastCompare),import_props=props,import_utils=utils$1,import_Player=__toESM$1(Player_1);const Preview=(0,import_utils.lazy)(()=>__vitePreload(()=>import("./Preview-s0L-5-SX.js").then(e=>e.P),__vite__mapDeps([15,1,2]))),IS_BROWSER=typeof window<"u"&&window.document&&typeof document<"u",IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(import_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?import_react.Suspense:()=>null,customPlayers=[],createReactPlayer=(e,i)=>{var a;return a=class extends import_react.Component{constructor(){super(...arguments),__publicField(this,"state",{showPreview:!!this.props.light}),__publicField(this,"references",{wrapper:o=>{this.wrapper=o},player:o=>{this.player=o}}),__publicField(this,"handleClickPreview",o=>{this.setState({showPreview:!1}),this.props.onClickPreview(o)}),__publicField(this,"showPreview",()=>{this.setState({showPreview:!0})}),__publicField(this,"getDuration",()=>this.player?this.player.getDuration():null),__publicField(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),__publicField(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),__publicField(this,"getInternalPlayer",(o="player")=>this.player?this.player.getInternalPlayer(o):null),__publicField(this,"seekTo",(o,c,d)=>{if(!this.player)return null;this.player.seekTo(o,c,d)}),__publicField(this,"handleReady",()=>{this.props.onReady(this)}),__publicField(this,"getActivePlayer",(0,import_memoize_one.default)(o=>{for(const c of[...customPlayers,...e])if(c.canPlay(o))return c;return i||null})),__publicField(this,"getConfig",(0,import_memoize_one.default)((o,c)=>{const{config:d}=this.props;return import_deepmerge.default.all([import_props.defaultProps.config,import_props.defaultProps.config[c]||{},d,d[c]||{}])})),__publicField(this,"getAttributes",(0,import_memoize_one.default)(o=>(0,import_utils.omit)(this.props,SUPPORTED_PROPS))),__publicField(this,"renderActivePlayer",o=>{if(!o)return null;const c=this.getActivePlayer(o);if(!c)return null;const d=this.getConfig(o,c.key);return import_react.default.createElement(import_Player.default,{...this.props,key:c.key,ref:this.references.player,config:d,activePlayer:c.lazyPlayer||c,onReady:this.handleReady})})}shouldComponentUpdate(o,c){return!(0,import_react_fast_compare.default)(this.props,o)||!(0,import_react_fast_compare.default)(this.state,c)}componentDidUpdate(o){const{light:c}=this.props;!o.light&&c&&this.setState({showPreview:!0}),o.light&&!c&&this.setState({showPreview:!1})}renderPreview(o){if(!o)return null;const{light:c,playIcon:d,previewTabIndex:h,oEmbedUrl:_,previewAriaLabel:ne}=this.props;return import_react.default.createElement(Preview,{url:o,light:c,playIcon:d,previewTabIndex:h,previewAriaLabel:ne,oEmbedUrl:_,onClick:this.handleClickPreview})}render(){const{url:o,style:c,width:d,height:h,fallback:_,wrapper:ne}=this.props,{showPreview:f}=this.state,g=this.getAttributes(o),he=typeof ne=="string"?this.references.wrapper:void 0;return import_react.default.createElement(ne,{ref:he,style:{...c,width:d,height:h},...g},import_react.default.createElement(UniversalSuspense,{fallback:_},f?this.renderPreview(o):this.renderActivePlayer(o)))}},__publicField(a,"displayName","ReactPlayer"),__publicField(a,"propTypes",import_props.propTypes),__publicField(a,"defaultProps",import_props.defaultProps),__publicField(a,"addCustomPlayer",o=>{customPlayers.push(o)}),__publicField(a,"removeCustomPlayers",()=>{customPlayers.length=0}),__publicField(a,"canPlay",o=>{for(const c of[...customPlayers,...e])if(c.canPlay(o))return!0;return!1}),__publicField(a,"canEnablePIP",o=>{for(const c of[...customPlayers,...e])if(c.canEnablePIP&&c.canEnablePIP(o))return!0;return!1}),a};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,i)=>{for(var a in i)__defProp(e,a,{get:i[a],enumerable:!0})},__copyProps=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames(i))!__hasOwnProp.call(e,c)&&c!==a&&__defProp(e,c,{get:()=>i[c],enumerable:!(o=__getOwnPropDesc(i,c))||o.enumerable});return e},__toESM=(e,i,a)=>(a=e!=null?__create(__getProtoOf(e)):{},__copyProps(!e||!e.__esModule?__defProp(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{default:()=>src_default});var lib$1=__toCommonJS(src_exports),import_players=__toESM(players),import_ReactPlayer=ReactPlayer;const fallback=import_players.default[import_players.default.length-1];var src_default=(0,import_ReactPlayer.createReactPlayer)(import_players.default,fallback);const methodMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],nativeAPI=(()=>{const e=methodMap[0],i={};for(const a of methodMap)if((a==null?void 0:a[1])in document){for(const[c,d]of a.entries())i[e[c]]=d;return i}return!1})(),eventNameMap={change:nativeAPI.fullscreenchange,error:nativeAPI.fullscreenerror};let screenfull={request(e=document.documentElement,i){return new Promise((a,o)=>{const c=()=>{screenfull.off("change",c),a()};screenfull.on("change",c);const d=e[nativeAPI.requestFullscreen](i);d instanceof Promise&&d.then(c).catch(o)})},exit(){return new Promise((e,i)=>{if(!screenfull.isFullscreen){e();return}const a=()=>{screenfull.off("change",a),e()};screenfull.on("change",a);const o=document[nativeAPI.exitFullscreen]();o instanceof Promise&&o.then(a).catch(i)})},toggle(e,i){return screenfull.isFullscreen?screenfull.exit():screenfull.request(e,i)},onchange(e){screenfull.on("change",e)},onerror(e){screenfull.on("error",e)},on(e,i){const a=eventNameMap[e];a&&document.addEventListener(a,i,!1)},off(e,i){const a=eventNameMap[e];a&&document.removeEventListener(a,i,!1)},raw:nativeAPI};Object.defineProperties(screenfull,{isFullscreen:{get:()=>!!document[nativeAPI.fullscreenElement]},element:{enumerable:!0,get:()=>document[nativeAPI.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[nativeAPI.fullscreenEnabled]}});nativeAPI||(screenfull={isEnabled:!1});const screenfull$1=screenfull,screenfull$2=Object.freeze(Object.defineProperty({__proto__:null,default:screenfull$1},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(screenfull$2);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ye,Pe){return Object.defineProperty?Object.defineProperty(ye,"raw",{value:Pe}):ye.raw=Pe,ye},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(ye){for(var Pe,ke=1,Ee=arguments.length;ke<Ee;ke++){Pe=arguments[ke];for(var le in Pe)Object.prototype.hasOwnProperty.call(Pe,le)&&(ye[le]=Pe[le])}return ye},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ye,Pe,ke,Ee){Ee===void 0&&(Ee=ke);var le=Object.getOwnPropertyDescriptor(Pe,ke);(!le||("get"in le?!Pe.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return Pe[ke]}}),Object.defineProperty(ye,Ee,le)}:function(ye,Pe,ke,Ee){Ee===void 0&&(Ee=ke),ye[Ee]=Pe[ke]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ye,Pe){Object.defineProperty(ye,"default",{enumerable:!0,value:Pe})}:function(ye,Pe){ye.default=Pe}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(ye){if(ye&&ye.__esModule)return ye;var Pe={};if(ye!=null)for(var ke in ye)ke!=="default"&&Object.prototype.hasOwnProperty.call(ye,ke)&&o(Pe,ye,ke);return c(Pe,ye),Pe},h=commonjsGlobal&&commonjsGlobal.__importDefault||function(ye){return ye&&ye.__esModule?ye:{default:ye}};Object.defineProperty(e,"__esModule",{value:!0}),e.AudioVideoPlayer=void 0;var _=jsxRuntimeExports,ne=d(reactExports),f=d(require$$6$1),g=h(lib$1),he=requireLib(),_e=h(require$$5$1),q=h(require$$6),re=reactDomExports,ve=require$$3,ie=require$$9,ee={ready:!1,playing:!0,progress:{played:0,playedSeconds:0,loaded:0,loadedSeconds:0},duration:0,volume:.8,controls:!1,playbackRate:1,level:0,quality:0,error:!1,muted:!0},ce=(0,f.default)("div")(Le||(Le=i([`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`],[`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`])),function(ye){return ye.audio&&ye.light&&"url(".concat(ye.light,") no-repeat center / cover")},function(ye){return!ye.audio&&`
  &:hover {
    .video-player-controls {
      opacity: 1;
    }
  }`},function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.controls?"120px":"20px"},function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.controls?"0":""},function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.controls?"0":""},function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.controls?"rgba(0, 0, 0, 0.5)":"transparent"},function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.ready?"opacity 0.3s":"none"},function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.playing?ye.audio?1:0:1},function(ye){var Pe=ye.theme;return Pe.white}),fe=(0,f.default)("div")(me||(me=i([`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`],[`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`])),function(ye){var Pe;return!((Pe=ye.state)===null||Pe===void 0)&&Pe.playing?ye.audio?1:0:1},function(ye){var Pe=ye.theme;return"linear-gradient(".concat(Pe.primaryColor,", ").concat(Pe.primaryColor,")")},function(ye){var Pe=ye.theme;return Pe.white},function(ye){var Pe=ye.theme;return Pe.white},function(ye){var Pe=ye.theme;return Pe.white},function(ye){var Pe=ye.theme;return Pe.white}),ae=function(){return(0,_.jsxs)("svg",a({width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M33 65C50.6731 65 65 50.6731 65 33C65 15.3269 50.6731 1 33 1C15.3269 1 1 15.3269 1 33C1 50.6731 15.3269 65 33 65Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M26.6016 20.2L45.8016 33L26.6016 45.8V20.2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},$=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsxs)("g",a({clipPath:"url(#clip0_379_22702)"},{children:[(0,_.jsx)("path",{d:"M1.04688 4V10H7.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M3.55687 15.0004C4.20527 16.8408 5.43421 18.4206 7.05853 19.5018C8.68285 20.583 10.6146 21.107 12.5626 20.9949C14.5106 20.8828 16.3695 20.1406 17.859 18.8802C19.3486 17.6198 20.3881 15.9094 20.8211 14.0068C21.2541 12.1042 21.057 10.1124 20.2595 8.33154C19.462 6.55068 18.1074 5.07723 16.3997 4.1332C14.692 3.18917 12.7238 2.8257 10.7916 3.09755C8.85933 3.36941 7.06779 4.26186 5.68687 5.64044L1.04688 10.0004",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",a({id:"clip0_379_22702"},{children:(0,_.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},oe=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M10.0469 4H6.04688V20H10.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M18.0469 4H14.0469V20H18.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},se=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M12.0469 22C17.5697 22 22.0469 17.5228 22.0469 12C22.0469 6.47715 17.5697 2 12.0469 2C6.52403 2 2.04688 6.47715 2.04688 12C2.04688 17.5228 6.52403 22 12.0469 22Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M10.0469 8L16.0469 12L10.0469 16V8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},te=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsxs)("g",a({clipPath:"url(#clip0_379_22706)"},{children:[(0,_.jsx)("path",{d:"M23.0469 4V10H17.0469",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M20.5368 15C19.8867 16.8399 18.6563 18.4187 17.0309 19.4985C15.4055 20.5783 13.4732 21.1006 11.5252 20.9866C9.57714 20.8726 7.71891 20.1286 6.23051 18.8667C4.74211 17.6047 3.70418 15.8932 3.27312 13.9901C2.84206 12.0869 3.04123 10.0952 3.84062 8.31508C4.64 6.53496 5.99629 5.06288 7.70511 4.12065C9.41392 3.17843 11.3827 2.81711 13.3147 3.09116C15.2467 3.3652 17.0374 4.25975 18.4168 5.64001L23.0468 10",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",a({id:"clip0_379_22706"},{children:(0,_.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},b=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M19.1159 4.92969C20.9906 6.80496 22.0438 9.34805 22.0438 11.9997C22.0438 14.6513 20.9906 17.1944 19.1159 19.0697M15.5859 8.45969C16.5233 9.39733 17.0499 10.6689 17.0499 11.9947C17.0499 13.3205 16.5233 14.592 15.5859 15.5297",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},ge=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsxs)("g",a({clipPath:"url(#clip0_379_22723)"},{children:[(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M23.0469 9L17.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M17.0469 9L23.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",a({id:"clip0_379_22723"},{children:(0,_.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},m=function(){return(0,_.jsxs)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M15.5859 8.45996C16.5233 9.3976 17.0499 10.6691 17.0499 11.995C17.0499 13.3208 16.5233 14.5923 15.5859 15.53",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},ue=function(){return(0,_.jsx)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,_.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},be=function(){return(0,_.jsx)("svg",a({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,_.jsx)("path",{d:"M8.04688 3H5.04688C4.51644 3 4.00773 3.21071 3.63266 3.58579C3.25759 3.96086 3.04688 4.46957 3.04688 5V8M21.0469 8V5C21.0469 4.46957 20.8362 3.96086 20.4611 3.58579C20.086 3.21071 19.5773 3 19.0469 3H16.0469M16.0469 21H19.0469C19.5773 21 20.086 20.7893 20.4611 20.4142C20.8362 20.0391 21.0469 19.5304 21.0469 19V16M3.04688 16V19C3.04688 19.5304 3.25759 20.0391 3.63266 20.4142C4.00773 20.7893 4.51644 21 5.04688 21H8.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},je=function(ye){var Pe=ye.state,ke=Pe===void 0?ee:Pe,Ee=ye.onSeek,le=ye.onToggle,de=ye.onVolume,xe=ye.onFullscreen,Ae=function(Me,Ne){return{backgroundSize:"".concat(Me*100/Ne,"% 100%")}},we=function(){return ke.volume===0?(0,_.jsx)(ge,{}):ke.volume<.3?(0,_.jsx)(ue,{}):ke.volume<.6?(0,_.jsx)(m,{}):(0,_.jsx)(b,{})},$e=function(){de&&de(ke.volume===0?ee.volume:0)};return(0,_.jsx)(fe,a({},ye,{className:"video-player-controls"},{children:(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{"aria-label":(0,ie.t)("VideoPlayer.Progress"),onChange:function(Me){return Ee&&Ee(Me.target.valueAsNumber)},type:"range",className:"input-seek",min:0,max:ke.duration,value:ke.progress.playedSeconds,style:Ae(ke.progress.playedSeconds,ke.duration)}),(0,_.jsxs)("div",a({className:"controls-group"},{children:[(0,_.jsxs)("div",a({className:"controls-left"},{children:[(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsxs)("button",a({type:"button",title:(0,ie.t)("VideoPlayer.SeekBackward"),onClick:function(){var Me=ke.progress.playedSeconds-10;Me<=ke.duration&&Ee&&Ee(Me)}},{children:[(0,_.jsx)($,{}),(0,_.jsx)(he.Text,a({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsx)("button",a({type:"button",title:(0,ie.t)(ke.playing?"VideoPlayer.Pause":"VideoPlayer.Play"),onClick:function(){return le&&le()}},{children:ke.playing?(0,_.jsx)(oe,{}):(0,_.jsx)(se,{})}))})),(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsxs)("button",a({title:(0,ie.t)("VideoPlayer.SeekForward"),type:"button",onClick:function(){var Me=ke.progress.playedSeconds+10;Me<=ke.duration&&Ee&&Ee(Me)}},{children:[(0,_.jsx)(te,{}),(0,_.jsx)(he.Text,a({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,_.jsxs)("div",a({className:"control-button control-button-volume"},{children:[(0,_.jsx)("button",a({type:"button",title:(0,ie.t)(ke.volume===0?"VideoPlayer.Unmute":"VideoPlayer.Mute"),onClick:function(){return $e()}},{children:we()})),(0,_.jsx)("input",{onChange:function(Me){return de&&de(Me.target.valueAsNumber)},"aria-label":(0,ie.t)("VideoPlayer.Progress"),type:"range",min:0,max:.999999,value:ke.volume,step:"any",className:"input-volume",style:Ae(ke.volume,.999999)}),(0,_.jsxs)(he.Text,a({noMargin:!0,size:14,style:{color:"white"}},{children:[(0,_e.default)(ke.progress.playedSeconds*1e3,"mm:ss")," /"," ",(0,_e.default)(ke.duration*1e3,"mm:ss")]}))]}))]})),(0,_.jsxs)("div",a({className:"controls-right"},{children:[(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsx)(he.Dropdown,{options:[{label:"1x",value:"1.0"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2.0"}],placeholder:"".concat(ke.playbackRate,"x"),onChange:function(Me){return ke.playbackRate=Number(Me.value)},placement:"top",className:"dropdown-playback-rate",styles:{minWidth:"40px"}})})),ke.quality>0&&(0,_.jsxs)(he.Text,a({style:{margin:"0px 10px",color:"white",borderRadius:"4px",border:"2px solid white",padding:"0 4px"},size:"12",noMargin:!0},{children:[ke.quality,"p"]})),(0,_.jsx)("div",a({className:"control-button"},{children:(0,_.jsx)("button",a({type:"button",title:(0,ie.t)("VideoPlayer.Fullscreen"),onClick:function(){return xe&&xe()}},{children:(0,_.jsx)(be,{})}))}))]}))]}))]})}))},Oe=function(ye){var Pe=ye.children,ke=ye.mobile,Ee=ye.audio,le=Ee===void 0?!1:Ee,de=ye.light,xe=de===void 0?!0:de,Ae=ye.ratio,we=Ae===void 0?9/16:Ae,$e=ye.className,Me=$e===void 0?"":$e,Ne=ye.onTopicEnd,Ve=ne.useRef(null),Je=ne.useRef(null),nt=ne.useState(ee),Qe=nt[0],tt=nt[1],Ge=(0,ve.useTranslation)().t,qe=ne.useCallback(function(Se){if(Se!=null&&Se.getInternalPlayer("hls")){var Ce=Se==null?void 0:Se.getInternalPlayer("hls");Ce&&Ce.on("hlsLevelSwitched",function(Be,ze){var et=Ce.levels[ze.level].height;tt(function(at){return a(a({},at),{quality:et})})})}},[]);return ne.useEffect(function(){var Se=document.querySelectorAll(".react-player__preview");Se&&Se.forEach(function(Ce){return Ce.click()})},[]),(0,_.jsxs)(ce,a({className:"wellms-component ".concat(Me),state:Qe,ref:Je,audio:le,light:xe},{children:[(0,_.jsx)(he.RatioBox,a({ratio:we},{children:(0,_.jsx)(g.default,a({},ye,{light:xe,ref:Ve,width:"100%",height:"100%",controls:!!ke,playIcon:ae(),playing:Qe.playing,volume:Qe.volume,playbackRate:Qe.playbackRate,muted:Qe.muted,onReady:function(){tt(function(Se){return a(a({},Se),{ready:!0})}),!le&&qe(Ve.current)},onDuration:function(Se){return tt(function(Ce){return a(a({},Ce),{duration:Se})})},onStart:function(){setTimeout(function(){tt(function(Se){return a(a({},Se),{playing:!1})}),Ve.current&&Ve.current.seekTo(0)},500),setTimeout(function(){tt(function(Se){return a(a({},Se),{muted:!1})})},600)},onProgress:function(Se){tt(function(Ce){return a(a({},Ce),{progress:Se})})},onEnded:function(){var Se;tt(function(Ce){return a(a({},Ce),{controls:!1,playing:!1})}),(Se=Ve.current)===null||Se===void 0||Se.showPreview(),Ne&&Ne()},onError:function(){tt(function(Se){return a(a({},Se),{error:!0})})},onClickPreview:function(){return tt(function(Se){return a(a({},Se),{controls:!0,playing:!0})})}}))})),!ke&&Qe.controls&&!Qe.error&&(0,_.jsx)(je,{audio:le,state:Qe,onVolume:function(Se){tt(function(Ce){return a(a({},Ce),{volume:Se})})},onToggle:function(){tt(function(Se){return a(a({},Se),{playing:!Se.playing})})},onSeek:function(Se){var Ce;return(Ce=Ve.current)===null||Ce===void 0?void 0:Ce.seekTo(Se)},onFullscreen:function(){Je.current&&q.default.toggle((0,re.findDOMNode)(Je.current))}}),!ke&&!Qe.error&&(0,_.jsx)("div",a({onClick:function(){return Qe.ready&&tt(function(Se){return a(a({},Se),{playing:!Se.playing})})},title:"play/pause","aria-labelledby":"labeldiv",tabIndex:0,role:"button",onKeyDown:function(){return!0}},{children:Pe})),Qe.error&&(0,_.jsx)("div",a({className:"video-player-error"},{children:(0,_.jsx)(he.Text,a({size:"16"},{children:Ge("VideoPlayer.Error")}))}))]}))};e.AudioVideoPlayer=Oe,e.default=(0,f.withTheme)((0,f.default)(e.AudioVideoPlayer)(Ie||(Ie=i([""],[""]))));var Le,me,Ie})(AudioVideoPlayer);var PdfPlayer={},cjs$4={},pdfjs$1={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};(function(module,exports){(function(i,a){module.exports=i.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var kt;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=ye,i.bytesToString=Ve,i.createValidAbsoluteUrl=ke,i.getModificationDate=dt,i.getUuid=gt,i.getVerbosityLevel=Oe,i.info=Le,i.isArrayBuffer=Fe,i.isArrayEqual=ct,i.isNodeJS=void 0,i.normalizeUnicode=mt,i.objectFromMap=tt,i.objectSize=Qe,i.setVerbosityLevel=je,i.shadow=Ee,i.string32=nt,i.stringToBytes=Je,i.stringToPDFString=et,i.stringToUTF8String=at,i.unreachable=Ie,i.utf8StringToString=st,i.warn=me;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=a;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const d=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=d;const h=1.35;i.LINE_FACTOR=h;const _=.35;i.LINE_DESCENT_FACTOR=_;const ne=_/h;i.BASELINE_FACTOR=ne;const f={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=f;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=g;const he="pdfjs_internal_editor_";i.AnnotationEditorPrefix=he;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=_e;const q={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=q;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=re;const ve={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=ve;const ie={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=ie;const ee={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=ee;const ce={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ce;const fe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=fe;const ae={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=ae;const $={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=$;const oe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=oe;const se={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=se;const te={O:"PageOpen",C:"PageClose"};i.PageActionEventType=te;const b={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=b;const ge={NONE:0,BINARY:1};i.CMapCompressionType=ge;const m={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=m;const ue={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=ue;let be=b.WARNINGS;function je(lt){Number.isInteger(lt)&&(be=lt)}function Oe(){return be}function Le(lt){be>=b.INFOS&&console.log(`Info: ${lt}`)}function me(lt){be>=b.WARNINGS&&console.log(`Warning: ${lt}`)}function Ie(lt){throw new Error(lt)}function ye(lt,Xe){lt||Ie(Xe)}function Pe(lt){switch(lt==null?void 0:lt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ke(lt,Xe=null,Ke=null){if(!lt)return null;try{if(Ke&&typeof lt=="string"){if(Ke.addDefaultProtocol&&lt.startsWith("www.")){const Rt=lt.match(/\./g);(Rt==null?void 0:Rt.length)>=2&&(lt=`http://${lt}`)}if(Ke.tryConvertEncoding)try{lt=at(lt)}catch{}}const _t=Xe?new URL(lt,Xe):new URL(lt);if(Pe(_t))return _t}catch{}return null}function Ee(lt,Xe,Ke,_t=!1){return Object.defineProperty(lt,Xe,{value:Ke,enumerable:!_t,configurable:!0,writable:!1}),Ke}const le=function(){function Xe(Ke,_t){this.constructor===Xe&&Ie("Cannot initialize BaseException."),this.message=Ke,this.name=_t}return Xe.prototype=new Error,Xe.constructor=Xe,Xe}();i.BaseException=le;class de extends le{constructor(Xe,Ke){super(Xe,"PasswordException"),this.code=Ke}}i.PasswordException=de;class xe extends le{constructor(Xe,Ke){super(Xe,"UnknownErrorException"),this.details=Ke}}i.UnknownErrorException=xe;class Ae extends le{constructor(Xe){super(Xe,"InvalidPDFException")}}i.InvalidPDFException=Ae;class we extends le{constructor(Xe){super(Xe,"MissingPDFException")}}i.MissingPDFException=we;class $e extends le{constructor(Xe,Ke){super(Xe,"UnexpectedResponseException"),this.status=Ke}}i.UnexpectedResponseException=$e;class Me extends le{constructor(Xe){super(Xe,"FormatError")}}i.FormatError=Me;class Ne extends le{constructor(Xe){super(Xe,"AbortException")}}i.AbortException=Ne;function Ve(lt){(typeof lt!="object"||(lt==null?void 0:lt.length)===void 0)&&Ie("Invalid argument for bytesToString");const Xe=lt.length,Ke=8192;if(Xe<Ke)return String.fromCharCode.apply(null,lt);const _t=[];for(let Rt=0;Rt<Xe;Rt+=Ke){const jt=Math.min(Rt+Ke,Xe),De=lt.subarray(Rt,jt);_t.push(String.fromCharCode.apply(null,De))}return _t.join("")}function Je(lt){typeof lt!="string"&&Ie("Invalid argument for stringToBytes");const Xe=lt.length,Ke=new Uint8Array(Xe);for(let _t=0;_t<Xe;++_t)Ke[_t]=lt.charCodeAt(_t)&255;return Ke}function nt(lt){return String.fromCharCode(lt>>24&255,lt>>16&255,lt>>8&255,lt&255)}function Qe(lt){return Object.keys(lt).length}function tt(lt){const Xe=Object.create(null);for(const[Ke,_t]of lt)Xe[Ke]=_t;return Xe}function Ge(){const lt=new Uint8Array(4);return lt[0]=1,new Uint32Array(lt.buffer,0,1)[0]===1}function qe(){try{return new Function(""),!0}catch{return!1}}class Se{static get isLittleEndian(){return Ee(this,"isLittleEndian",Ge())}static get isEvalSupported(){return Ee(this,"isEvalSupported",qe())}static get isOffscreenCanvasSupported(){return Ee(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ee(this,"platform",{isWin:!1,isMac:!1}):Ee(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Xe,Ke;return Ee(this,"isCSSRoundSupported",(Ke=(Xe=globalThis.CSS)==null?void 0:Xe.supports)==null?void 0:Ke.call(Xe,"width: round(1.5px, 1px)"))}}i.FeatureTest=Se;const Ce=[...Array(256).keys()].map(lt=>lt.toString(16).padStart(2,"0"));class Be{static makeHexColor(Xe,Ke,_t){return`#${Ce[Xe]}${Ce[Ke]}${Ce[_t]}`}static scaleMinMax(Xe,Ke){let _t;Xe[0]?(Xe[0]<0&&(_t=Ke[0],Ke[0]=Ke[1],Ke[1]=_t),Ke[0]*=Xe[0],Ke[1]*=Xe[0],Xe[3]<0&&(_t=Ke[2],Ke[2]=Ke[3],Ke[3]=_t),Ke[2]*=Xe[3],Ke[3]*=Xe[3]):(_t=Ke[0],Ke[0]=Ke[2],Ke[2]=_t,_t=Ke[1],Ke[1]=Ke[3],Ke[3]=_t,Xe[1]<0&&(_t=Ke[2],Ke[2]=Ke[3],Ke[3]=_t),Ke[2]*=Xe[1],Ke[3]*=Xe[1],Xe[2]<0&&(_t=Ke[0],Ke[0]=Ke[1],Ke[1]=_t),Ke[0]*=Xe[2],Ke[1]*=Xe[2]),Ke[0]+=Xe[4],Ke[1]+=Xe[4],Ke[2]+=Xe[5],Ke[3]+=Xe[5]}static transform(Xe,Ke){return[Xe[0]*Ke[0]+Xe[2]*Ke[1],Xe[1]*Ke[0]+Xe[3]*Ke[1],Xe[0]*Ke[2]+Xe[2]*Ke[3],Xe[1]*Ke[2]+Xe[3]*Ke[3],Xe[0]*Ke[4]+Xe[2]*Ke[5]+Xe[4],Xe[1]*Ke[4]+Xe[3]*Ke[5]+Xe[5]]}static applyTransform(Xe,Ke){const _t=Xe[0]*Ke[0]+Xe[1]*Ke[2]+Ke[4],Rt=Xe[0]*Ke[1]+Xe[1]*Ke[3]+Ke[5];return[_t,Rt]}static applyInverseTransform(Xe,Ke){const _t=Ke[0]*Ke[3]-Ke[1]*Ke[2],Rt=(Xe[0]*Ke[3]-Xe[1]*Ke[2]+Ke[2]*Ke[5]-Ke[4]*Ke[3])/_t,jt=(-Xe[0]*Ke[1]+Xe[1]*Ke[0]+Ke[4]*Ke[1]-Ke[5]*Ke[0])/_t;return[Rt,jt]}static getAxialAlignedBoundingBox(Xe,Ke){const _t=this.applyTransform(Xe,Ke),Rt=this.applyTransform(Xe.slice(2,4),Ke),jt=this.applyTransform([Xe[0],Xe[3]],Ke),De=this.applyTransform([Xe[2],Xe[1]],Ke);return[Math.min(_t[0],Rt[0],jt[0],De[0]),Math.min(_t[1],Rt[1],jt[1],De[1]),Math.max(_t[0],Rt[0],jt[0],De[0]),Math.max(_t[1],Rt[1],jt[1],De[1])]}static inverseTransform(Xe){const Ke=Xe[0]*Xe[3]-Xe[1]*Xe[2];return[Xe[3]/Ke,-Xe[1]/Ke,-Xe[2]/Ke,Xe[0]/Ke,(Xe[2]*Xe[5]-Xe[4]*Xe[3])/Ke,(Xe[4]*Xe[1]-Xe[5]*Xe[0])/Ke]}static singularValueDecompose2dScale(Xe){const Ke=[Xe[0],Xe[2],Xe[1],Xe[3]],_t=Xe[0]*Ke[0]+Xe[1]*Ke[2],Rt=Xe[0]*Ke[1]+Xe[1]*Ke[3],jt=Xe[2]*Ke[0]+Xe[3]*Ke[2],De=Xe[2]*Ke[1]+Xe[3]*Ke[3],it=(_t+De)/2,ht=Math.sqrt((_t+De)**2-4*(_t*De-jt*Rt))/2,yt=it+ht||1,xt=it-ht||1;return[Math.sqrt(yt),Math.sqrt(xt)]}static normalizeRect(Xe){const Ke=Xe.slice(0);return Xe[0]>Xe[2]&&(Ke[0]=Xe[2],Ke[2]=Xe[0]),Xe[1]>Xe[3]&&(Ke[1]=Xe[3],Ke[3]=Xe[1]),Ke}static intersect(Xe,Ke){const _t=Math.max(Math.min(Xe[0],Xe[2]),Math.min(Ke[0],Ke[2])),Rt=Math.min(Math.max(Xe[0],Xe[2]),Math.max(Ke[0],Ke[2]));if(_t>Rt)return null;const jt=Math.max(Math.min(Xe[1],Xe[3]),Math.min(Ke[1],Ke[3])),De=Math.min(Math.max(Xe[1],Xe[3]),Math.max(Ke[1],Ke[3]));return jt>De?null:[_t,jt,Rt,De]}static bezierBoundingBox(Xe,Ke,_t,Rt,jt,De,it,ht){const yt=[],xt=[[],[]];let pt,Re,Te,Ue,Ze,rt,ot,ut;for(let $t=0;$t<2;++$t){if($t===0?(Re=6*Xe-12*_t+6*jt,pt=-3*Xe+9*_t-9*jt+3*it,Te=3*_t-3*Xe):(Re=6*Ke-12*Rt+6*De,pt=-3*Ke+9*Rt-9*De+3*ht,Te=3*Rt-3*Ke),Math.abs(pt)<1e-12){if(Math.abs(Re)<1e-12)continue;Ue=-Te/Re,0<Ue&&Ue<1&&yt.push(Ue);continue}ot=Re*Re-4*Te*pt,ut=Math.sqrt(ot),!(ot<0)&&(Ze=(-Re+ut)/(2*pt),0<Ze&&Ze<1&&yt.push(Ze),rt=(-Re-ut)/(2*pt),0<rt&&rt<1&&yt.push(rt))}let St=yt.length,bt;const ft=St;for(;St--;)Ue=yt[St],bt=1-Ue,xt[0][St]=bt*bt*bt*Xe+3*bt*bt*Ue*_t+3*bt*Ue*Ue*jt+Ue*Ue*Ue*it,xt[1][St]=bt*bt*bt*Ke+3*bt*bt*Ue*Rt+3*bt*Ue*Ue*De+Ue*Ue*Ue*ht;return xt[0][ft]=Xe,xt[1][ft]=Ke,xt[0][ft+1]=it,xt[1][ft+1]=ht,xt[0].length=xt[1].length=ft+2,[Math.min(...xt[0]),Math.min(...xt[1]),Math.max(...xt[0]),Math.max(...xt[1])]}}i.Util=Be;const ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function et(lt){if(lt[0]>=""){let Ke;if(lt[0]===""&&lt[1]===""?Ke="utf-16be":lt[0]===""&&lt[1]===""?Ke="utf-16le":lt[0]===""&&lt[1]===""&&lt[2]===""&&(Ke="utf-8"),Ke)try{const _t=new TextDecoder(Ke,{fatal:!0}),Rt=Je(lt);return _t.decode(Rt)}catch(_t){me(`stringToPDFString: "${_t}".`)}}const Xe=[];for(let Ke=0,_t=lt.length;Ke<_t;Ke++){const Rt=ze[lt.charCodeAt(Ke)];Xe.push(Rt?String.fromCharCode(Rt):lt.charAt(Ke))}return Xe.join("")}function at(lt){return decodeURIComponent(escape(lt))}function st(lt){return unescape(encodeURIComponent(lt))}function Fe(lt){return typeof lt=="object"&&(lt==null?void 0:lt.byteLength)!==void 0}function ct(lt,Xe){if(lt.length!==Xe.length)return!1;for(let Ke=0,_t=lt.length;Ke<_t;Ke++)if(lt[Ke]!==Xe[Ke])return!1;return!0}function dt(lt=new Date){return[lt.getUTCFullYear().toString(),(lt.getUTCMonth()+1).toString().padStart(2,"0"),lt.getUTCDate().toString().padStart(2,"0"),lt.getUTCHours().toString().padStart(2,"0"),lt.getUTCMinutes().toString().padStart(2,"0"),lt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Pt{constructor(){We(this,kt,!1);this.promise=new Promise((Xe,Ke)=>{this.resolve=_t=>{Ye(this,kt,!0),Xe(_t)},this.reject=_t=>{Ye(this,kt,!0),Ke(_t)}})}get settled(){return j(this,kt)}}kt=new WeakMap,i.PromiseCapability=Pt;let At=null,Ct=null;function mt(lt){return At||(At=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ct=new Map([["","t"]])),lt.replaceAll(At,(Xe,Ke,_t)=>Ke?Ke.normalize("NFKC"):Ct.get(_t))}function gt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const lt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(lt);else for(let Xe=0;Xe<32;Xe++)lt[Xe]=Math.floor(Math.random()*255);return Ve(lt)}const Tt="pdfjs_internal_id_";i.AnnotationPrefix=Tt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,a,o,c,zt,sn,_,ne,f,g,he,_e,q,re,ve,an,ee,ce,yn,ae,$;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(se){if(typeof se=="string"||se instanceof URL?se={url:se}:(0,_util.isArrayBuffer)(se)&&(se={data:se}),typeof se!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!se.url&&!se.data&&!se.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const te=new PDFDocumentLoadingTask,{docId:b}=te,ge=se.url?getUrlProp(se.url):null,m=se.data?getDataProp(se.data):null,ue=se.httpHeaders||null,be=se.withCredentials===!0,je=se.password??null,Oe=se.range instanceof PDFDataRangeTransport?se.range:null,Le=Number.isInteger(se.rangeChunkSize)&&se.rangeChunkSize>0?se.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let me=se.worker instanceof PDFWorker?se.worker:null;const Ie=se.verbosity,ye=typeof se.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(se.docBaseUrl)?se.docBaseUrl:null,Pe=typeof se.cMapUrl=="string"?se.cMapUrl:null,ke=se.cMapPacked!==!1,Ee=se.CMapReaderFactory||DefaultCMapReaderFactory,le=typeof se.standardFontDataUrl=="string"?se.standardFontDataUrl:null,de=se.StandardFontDataFactory||DefaultStandardFontDataFactory,xe=se.stopAtErrors!==!0,Ae=Number.isInteger(se.maxImageSize)&&se.maxImageSize>-1?se.maxImageSize:-1,we=se.isEvalSupported!==!1,$e=typeof se.isOffscreenCanvasSupported=="boolean"?se.isOffscreenCanvasSupported:!_util.isNodeJS,Me=Number.isInteger(se.canvasMaxAreaInBytes)?se.canvasMaxAreaInBytes:-1,Ne=typeof se.disableFontFace=="boolean"?se.disableFontFace:_util.isNodeJS,Ve=se.fontExtraProperties===!0,Je=se.enableXfa===!0,nt=se.ownerDocument||globalThis.document,Qe=se.disableRange===!0,tt=se.disableStream===!0,Ge=se.disableAutoFetch===!0,qe=se.pdfBug===!0,Se=Oe?Oe.length:se.length??NaN,Ce=typeof se.useSystemFonts=="boolean"?se.useSystemFonts:!_util.isNodeJS&&!Ne,Be=typeof se.useWorkerFetch=="boolean"?se.useWorkerFetch:Ee===_display_utils.DOMCMapReaderFactory&&de===_display_utils.DOMStandardFontDataFactory&&Pe&&le&&(0,_display_utils.isValidFetchUrl)(Pe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(le,document.baseURI),ze=se.canvasFactory||new DefaultCanvasFactory({ownerDocument:nt}),et=se.filterFactory||new DefaultFilterFactory({docId:b,ownerDocument:nt}),at=null;(0,_util.setVerbosityLevel)(Ie);const st={canvasFactory:ze,filterFactory:et};if(Be||(st.cMapReaderFactory=new Ee({baseUrl:Pe,isCompressed:ke}),st.standardFontDataFactory=new de({baseUrl:le})),!me){const dt={verbosity:Ie,port:_worker_options.GlobalWorkerOptions.workerPort};me=dt.port?PDFWorker.fromPort(dt):new PDFWorker(dt),te._worker=me}const Fe={docId:b,apiVersion:"3.11.174",data:m,password:je,disableAutoFetch:Ge,rangeChunkSize:Le,length:Se,docBaseUrl:ye,enableXfa:Je,evaluatorOptions:{maxImageSize:Ae,disableFontFace:Ne,ignoreErrors:xe,isEvalSupported:we,isOffscreenCanvasSupported:$e,canvasMaxAreaInBytes:Me,fontExtraProperties:Ve,useSystemFonts:Ce,cMapUrl:Be?Pe:null,standardFontDataUrl:Be?le:null}},ct={ignoreErrors:xe,isEvalSupported:we,disableFontFace:Ne,fontExtraProperties:Ve,enableXfa:Je,ownerDocument:nt,disableAutoFetch:Ge,pdfBug:qe,styleElement:at};return me.promise.then(function(){if(te.destroyed)throw new Error("Loading aborted");const dt=_fetchDocument(me,Fe),Pt=new Promise(function(At){let Ct;Oe?Ct=new _transport_stream.PDFDataTransportStream({length:Se,initialData:Oe.initialData,progressiveDone:Oe.progressiveDone,contentDispositionFilename:Oe.contentDispositionFilename,disableRange:Qe,disableStream:tt},Oe):m||(Ct=(gt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(gt):(0,_display_utils.isValidFetchUrl)(gt.url)?new _displayFetch_stream.PDFFetchStream(gt):new _displayNetwork.PDFNetworkStream(gt))({url:ge,length:Se,httpHeaders:ue,withCredentials:be,rangeChunkSize:Le,disableRange:Qe,disableStream:tt})),At(Ct)});return Promise.all([dt,Pt]).then(function([At,Ct]){if(te.destroyed)throw new Error("Loading aborted");const mt=new _message_handler.MessageHandler(b,At,me.port),gt=new WorkerTransport(mt,te,Ct,ct,st);te._transport=gt,mt.send("Ready",null)})}).catch(te._capability.reject),te}async function _fetchDocument(se,te){if(se.destroyed)throw new Error("Worker was destroyed");const b=await se.messageHandler.sendWithPromise("GetDocRequest",te,te.data?[te.data.buffer]:null);if(se.destroyed)throw new Error("Worker was destroyed");return b}function getUrlProp(se){if(se instanceof URL)return se.href;try{return new URL(se,window.location).href}catch{if(_util.isNodeJS&&typeof se=="string")return se}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(se){if(_util.isNodeJS&&typeof Buffer<"u"&&se instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(se instanceof Uint8Array&&se.byteLength===se.buffer.byteLength)return se;if(typeof se=="string")return(0,_util.stringToBytes)(se);if(typeof se=="object"&&!isNaN(se==null?void 0:se.length)||(0,_util.isArrayBuffer)(se))return new Uint8Array(se);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Kt(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var te,b,ge;this.destroyed=!0;try{(te=this._worker)!=null&&te.port&&(this._worker._pendingDestroy=!0),await((b=this._transport)==null?void 0:b.destroy())}catch(m){throw(ge=this._worker)!=null&&ge.port&&delete this._worker._pendingDestroy,m}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,We(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(te,b,ge=!1,m=null){this.length=te,this.initialData=b,this.progressiveDone=ge,this.contentDispositionFilename=m,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(te){this._rangeListeners.push(te)}addProgressListener(te){this._progressListeners.push(te)}addProgressiveReadListener(te){this._progressiveReadListeners.push(te)}addProgressiveDoneListener(te){this._progressiveDoneListeners.push(te)}onDataRange(te,b){for(const ge of this._rangeListeners)ge(te,b)}onDataProgress(te,b){this._readyCapability.promise.then(()=>{for(const ge of this._progressListeners)ge(te,b)})}onDataProgressiveRead(te){this._readyCapability.promise.then(()=>{for(const b of this._progressiveReadListeners)b(te)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const te of this._progressiveDoneListeners)te()})}transportReady(){this._readyCapability.resolve()}requestDataRange(te,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(te,b){this._pdfInfo=te,this._transport=b,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ge=>{if(!ge)return ge;const m=[];for(const ue in ge)m.push(...ge[ue]);return m}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(te){return this._transport.getPage(te)}getPageIndex(te){return this._transport.getPageIndex(te)}getDestinations(){return this._transport.getDestinations()}getDestination(te){return this._transport.getDestination(te)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(te=!1){return this._transport.startCleanup(te||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(te,b,ge,m=!1){We(this,c);We(this,a,null);We(this,o,!1);this._pageIndex=te,this._pageInfo=b,this._transport=ge,this._stats=m?new _display_utils.StatTimer:null,this._pdfBug=m,this.commonObjs=ge.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:te,rotation:b=this.rotate,offsetX:ge=0,offsetY:m=0,dontFlip:ue=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:te,rotation:b,offsetX:ge,offsetY:m,dontFlip:ue})}getAnnotations({intent:te="display"}={}){const b=this._transport.getRenderingIntent(te);return this._transport.getAnnotations(this._pageIndex,b.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var te;return((te=this._transport._htmlForXfa)==null?void 0:te.children[this._pageIndex])||null}render({canvasContext:te,viewport:b,intent:ge="display",annotationMode:m=_util.AnnotationMode.ENABLE,transform:ue=null,background:be=null,optionalContentConfigPromise:je=null,annotationCanvasMap:Oe=null,pageColors:Le=null,printAnnotationStorage:me=null}){var de,xe;(de=this._stats)==null||de.time("Overall");const Ie=this._transport.getRenderingIntent(ge,m,me);Ye(this,o,!1),He(this,c,sn).call(this),je||(je=this._transport.getOptionalContentConfig());let ye=this._intentStates.get(Ie.cacheKey);ye||(ye=Object.create(null),this._intentStates.set(Ie.cacheKey,ye)),ye.streamReaderCancelTimeout&&(clearTimeout(ye.streamReaderCancelTimeout),ye.streamReaderCancelTimeout=null);const Pe=!!(Ie.renderingIntent&_util.RenderingIntentFlag.PRINT);ye.displayReadyCapability||(ye.displayReadyCapability=new _util.PromiseCapability,ye.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(xe=this._stats)==null||xe.time("Page Request"),this._pumpOperatorList(Ie));const ke=Ae=>{var we,$e;ye.renderTasks.delete(Ee),(this._maybeCleanupAfterRender||Pe)&&Ye(this,o,!0),He(this,c,zt).call(this,!Pe),Ae?(Ee.capability.reject(Ae),this._abortOperatorList({intentState:ye,reason:Ae instanceof Error?Ae:new Error(Ae)})):Ee.capability.resolve(),(we=this._stats)==null||we.timeEnd("Rendering"),($e=this._stats)==null||$e.timeEnd("Overall")},Ee=new InternalRenderTask({callback:ke,params:{canvasContext:te,viewport:b,transform:ue,background:be},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Oe,operatorList:ye.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Pe,pdfBug:this._pdfBug,pageColors:Le});(ye.renderTasks||(ye.renderTasks=new Set)).add(Ee);const le=Ee.task;return Promise.all([ye.displayReadyCapability.promise,je]).then(([Ae,we])=>{var $e;if(this.destroyed){ke();return}($e=this._stats)==null||$e.time("Rendering"),Ee.initializeGraphics({transparency:Ae,optionalContentConfig:we}),Ee.operatorListChanged()}).catch(ke),le}getOperatorList({intent:te="display",annotationMode:b=_util.AnnotationMode.ENABLE,printAnnotationStorage:ge=null}={}){var Oe;function m(){be.operatorList.lastChunk&&(be.opListReadCapability.resolve(be.operatorList),be.renderTasks.delete(je))}const ue=this._transport.getRenderingIntent(te,b,ge,!0);let be=this._intentStates.get(ue.cacheKey);be||(be=Object.create(null),this._intentStates.set(ue.cacheKey,be));let je;return be.opListReadCapability||(je=Object.create(null),je.operatorListChanged=m,be.opListReadCapability=new _util.PromiseCapability,(be.renderTasks||(be.renderTasks=new Set)).add(je),be.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Oe=this._stats)==null||Oe.time("Page Request"),this._pumpOperatorList(ue)),be.opListReadCapability.promise}streamTextContent({includeMarkedContent:te=!1,disableNormalization:b=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:te===!0,disableNormalization:b===!0},{highWaterMark:100,size(m){return m.items.length}})}getTextContent(te={}){if(this._transport._htmlForXfa)return this.getXfa().then(ge=>_xfa_text.XfaText.textContent(ge));const b=this.streamTextContent(te);return new Promise(function(ge,m){function ue(){be.read().then(function({value:Oe,done:Le}){if(Le){ge(je);return}Object.assign(je.styles,Oe.styles),je.items.push(...Oe.items),ue()},m)}const be=b.getReader(),je={items:[],styles:Object.create(null)};ue()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const te=[];for(const b of this._intentStates.values())if(this._abortOperatorList({intentState:b,reason:new Error("Page was destroyed."),force:!0}),!b.opListReadCapability)for(const ge of b.renderTasks)te.push(ge.completed),ge.cancel();return this.objs.clear(),Ye(this,o,!1),He(this,c,sn).call(this),Promise.all(te)}cleanup(te=!1){Ye(this,o,!0);const b=He(this,c,zt).call(this,!1);return te&&b&&this._stats&&(this._stats=new _display_utils.StatTimer),b}_startRenderPage(te,b){var m,ue;const ge=this._intentStates.get(b);ge&&((m=this._stats)==null||m.timeEnd("Page Request"),(ue=ge.displayReadyCapability)==null||ue.resolve(te))}_renderPageChunk(te,b){for(let ge=0,m=te.length;ge<m;ge++)b.operatorList.fnArray.push(te.fnArray[ge]),b.operatorList.argsArray.push(te.argsArray[ge]);b.operatorList.lastChunk=te.lastChunk,b.operatorList.separateAnnots=te.separateAnnots;for(const ge of b.renderTasks)ge.operatorListChanged();te.lastChunk&&He(this,c,zt).call(this,!0)}_pumpOperatorList({renderingIntent:te,cacheKey:b,annotationStorageSerializable:ge}){const{map:m,transfers:ue}=ge,je=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:te,cacheKey:b,annotationStorage:m},ue).getReader(),Oe=this._intentStates.get(b);Oe.streamReader=je;const Le=()=>{je.read().then(({value:me,done:Ie})=>{if(Ie){Oe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(me,Oe),Le())},me=>{if(Oe.streamReader=null,!this._transport.destroyed){if(Oe.operatorList){Oe.operatorList.lastChunk=!0;for(const Ie of Oe.renderTasks)Ie.operatorListChanged();He(this,c,zt).call(this,!0)}if(Oe.displayReadyCapability)Oe.displayReadyCapability.reject(me);else if(Oe.opListReadCapability)Oe.opListReadCapability.reject(me);else throw me}})};Le()}_abortOperatorList({intentState:te,reason:b,force:ge=!1}){if(te.streamReader){if(te.streamReaderCancelTimeout&&(clearTimeout(te.streamReaderCancelTimeout),te.streamReaderCancelTimeout=null),!ge){if(te.renderTasks.size>0)return;if(b instanceof _display_utils.RenderingCancelledException){let m=RENDERING_CANCELLED_TIMEOUT;b.extraDelay>0&&b.extraDelay<1e3&&(m+=b.extraDelay),te.streamReaderCancelTimeout=setTimeout(()=>{te.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:te,reason:b,force:!0})},m);return}}if(te.streamReader.cancel(new _util.AbortException(b.message)).catch(()=>{}),te.streamReader=null,!this._transport.destroyed){for(const[m,ue]of this._intentStates)if(ue===te){this._intentStates.delete(m);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,o=new WeakMap,c=new WeakSet,zt=function(te=!1){if(He(this,c,sn).call(this),!j(this,o)||this.destroyed)return!1;if(te)return Ye(this,a,setTimeout(()=>{Ye(this,a,null),He(this,c,zt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:b,operatorList:ge}of this._intentStates.values())if(b.size>0||!ge.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ye(this,o,!1),!0},sn=function(){j(this,a)&&(clearTimeout(j(this,a)),Ye(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){We(this,_,new Set);We(this,ne,Promise.resolve())}postMessage(te,b){const ge={data:structuredClone(te,b?{transfer:b}:null)};j(this,ne).then(()=>{for(const m of j(this,_))m.call(this,ge)})}addEventListener(te,b){j(this,_).add(b)}removeEventListener(te,b){j(this,_).delete(b)}terminate(){j(this,_).clear()}}_=new WeakMap,ne=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const se=(f=document==null?void 0:document.currentScript)==null?void 0:f.src;se&&(PDFWorkerUtil.fallbackWorkerSrc=se.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(se,te){let b;try{if(b=new URL(se),!b.origin||b.origin==="null")return!1}catch{return!1}const ge=new URL(te,b);return b.origin===ge.origin},PDFWorkerUtil.createCDNWrapper=function(se){const te=`importScripts("${se}");`;return URL.createObjectURL(new Blob([te]))}}const _PDFWorker=class _PDFWorker{constructor({name:se=null,port:te=null,verbosity:b=(0,_util.getVerbosityLevel)()}={}){var ge;if(this.name=se,this.destroyed=!1,this.verbosity=b,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,te){if((ge=j(_PDFWorker,g))!=null&&ge.has(te))throw new Error("Cannot use more than one PDFWorker per port.");(j(_PDFWorker,g)||Ye(_PDFWorker,g,new WeakMap)).set(te,this),this._initializeFromPort(te);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(se){this._port=se,this._messageHandler=new _message_handler.MessageHandler("main","worker",se),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:se}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,se)||(se=PDFWorkerUtil.createCDNWrapper(new URL(se,window.location).href));const te=new Worker(se),b=new _message_handler.MessageHandler("main","worker",te),ge=()=>{te.removeEventListener("error",m),b.destroy(),te.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},m=()=>{this._webWorker||ge()};te.addEventListener("error",m),b.on("test",be=>{if(te.removeEventListener("error",m),this.destroyed){ge();return}be?(this._messageHandler=b,this._port=te,this._webWorker=te,this._readyCapability.resolve(),b.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),b.destroy(),te.terminate())}),b.on("ready",be=>{if(te.removeEventListener("error",m),this.destroyed){ge();return}try{ue()}catch{this._setupFakeWorker()}});const ue=()=>{const be=new Uint8Array;b.send("test",be,[be.buffer])};ue();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(se=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const te=new LoopbackPort;this._port=te;const b=`fake${PDFWorkerUtil.fakeWorkerId++}`,ge=new _message_handler.MessageHandler(b+"_worker",b,te);se.setup(ge,te);const m=new _message_handler.MessageHandler(b,b+"_worker",te);this._messageHandler=m,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})}).catch(se=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${se.message}".`))})}destroy(){var se;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(se=j(_PDFWorker,g))==null||se.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(se){var b;if(!(se!=null&&se.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const te=(b=j(this,g))==null?void 0:b.get(se.port);if(te){if(te._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return te}return new _PDFWorker(se)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var se;try{return((se=globalThis.pdfjsWorker)==null?void 0:se.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};g=new WeakMap,We(_PDFWorker,g);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(te,b,ge,m,ue){We(this,ve);We(this,he,new Map);We(this,_e,new Map);We(this,q,new Map);We(this,re,null);this.messageHandler=te,this.loadingTask=b,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:m.ownerDocument,styleElement:m.styleElement}),this._params=m,this.canvasFactory=ue.canvasFactory,this.filterFactory=ue.filterFactory,this.cMapReaderFactory=ue.cMapReaderFactory,this.standardFontDataFactory=ue.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ge,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(te,b=_util.AnnotationMode.ENABLE,ge=null,m=!1){let ue=_util.RenderingIntentFlag.DISPLAY,be=_annotation_storage.SerializableEmpty;switch(te){case"any":ue=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ue=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${te}`)}switch(b){case _util.AnnotationMode.DISABLE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ue+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,be=(ue&_util.RenderingIntentFlag.PRINT&&ge instanceof _annotation_storage.PrintAnnotationStorage?ge:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${b}`)}return m&&(ue+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ue,cacheKey:`${ue}_${be.hash}`,annotationStorageSerializable:be}}destroy(){var ge;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(ge=j(this,re))==null||ge.reject(new Error("Worker was destroyed during onPassword callback"));const te=[];for(const m of j(this,_e).values())te.push(m._destroy());j(this,_e).clear(),j(this,q).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const b=this.messageHandler.sendWithPromise("Terminate",null);return te.push(b),Promise.all(te).then(()=>{var m;this.commonObjs.clear(),this.fontLoader.clear(),j(this,he).clear(),this.filterFactory.destroy(),(m=this._networkStream)==null||m.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:te,loadingTask:b}=this;te.on("GetReader",(ge,m)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ue=>{this._lastProgress={loaded:ue.loaded,total:ue.total}},m.onPull=()=>{this._fullReader.read().then(function({value:ue,done:be}){if(be){m.close();return}(0,_util.assert)(ue instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),m.enqueue(new Uint8Array(ue),1,[ue])}).catch(ue=>{m.error(ue)})},m.onCancel=ue=>{this._fullReader.cancel(ue),m.ready.catch(be=>{if(!this.destroyed)throw be})}}),te.on("ReaderHeadersReady",ge=>{const m=new _util.PromiseCapability,ue=this._fullReader;return ue.headersReady.then(()=>{var be;(!ue.isStreamingSupported||!ue.isRangeSupported)&&(this._lastProgress&&((be=b.onProgress)==null||be.call(b,this._lastProgress)),ue.onProgress=je=>{var Oe;(Oe=b.onProgress)==null||Oe.call(b,{loaded:je.loaded,total:je.total})}),m.resolve({isStreamingSupported:ue.isStreamingSupported,isRangeSupported:ue.isRangeSupported,contentLength:ue.contentLength})},m.reject),m.promise}),te.on("GetRangeReader",(ge,m)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ue=this._networkStream.getRangeReader(ge.begin,ge.end);if(!ue){m.close();return}m.onPull=()=>{ue.read().then(function({value:be,done:je}){if(je){m.close();return}(0,_util.assert)(be instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),m.enqueue(new Uint8Array(be),1,[be])}).catch(be=>{m.error(be)})},m.onCancel=be=>{ue.cancel(be),m.ready.catch(je=>{if(!this.destroyed)throw je})}}),te.on("GetDoc",({pdfInfo:ge})=>{this._numPages=ge.numPages,this._htmlForXfa=ge.htmlForXfa,delete ge.htmlForXfa,b._capability.resolve(new PDFDocumentProxy(ge,this))}),te.on("DocException",function(ge){let m;switch(ge.name){case"PasswordException":m=new _util.PasswordException(ge.message,ge.code);break;case"InvalidPDFException":m=new _util.InvalidPDFException(ge.message);break;case"MissingPDFException":m=new _util.MissingPDFException(ge.message);break;case"UnexpectedResponseException":m=new _util.UnexpectedResponseException(ge.message,ge.status);break;case"UnknownErrorException":m=new _util.UnknownErrorException(ge.message,ge.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}b._capability.reject(m)}),te.on("PasswordRequest",ge=>{if(Ye(this,re,new _util.PromiseCapability),b.onPassword){const m=ue=>{ue instanceof Error?j(this,re).reject(ue):j(this,re).resolve({password:ue})};try{b.onPassword(m,ge.code)}catch(ue){j(this,re).reject(ue)}}else j(this,re).reject(new _util.PasswordException(ge.message,ge.code));return j(this,re).promise}),te.on("DataLoaded",ge=>{var m;(m=b.onProgress)==null||m.call(b,{loaded:ge.length,total:ge.length}),this.downloadInfoCapability.resolve(ge)}),te.on("StartRenderPage",ge=>{if(this.destroyed)return;j(this,_e).get(ge.pageIndex)._startRenderPage(ge.transparency,ge.cacheKey)}),te.on("commonobj",([ge,m,ue])=>{var be;if(!this.destroyed&&!this.commonObjs.has(ge))switch(m){case"Font":const je=this._params;if("error"in ue){const me=ue.error;(0,_util.warn)(`Error during font loading: ${me}`),this.commonObjs.resolve(ge,me);break}const Oe=je.pdfBug&&((be=globalThis.FontInspector)!=null&&be.enabled)?(me,Ie)=>globalThis.FontInspector.fontAdded(me,Ie):null,Le=new _font_loader.FontFaceObject(ue,{isEvalSupported:je.isEvalSupported,disableFontFace:je.disableFontFace,ignoreErrors:je.ignoreErrors,inspectFont:Oe});this.fontLoader.bind(Le).catch(me=>te.sendWithPromise("FontFallback",{id:ge})).finally(()=>{!je.fontExtraProperties&&Le.data&&(Le.data=null),this.commonObjs.resolve(ge,Le)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ge,ue);break;default:throw new Error(`Got unknown common object type ${m}`)}}),te.on("obj",([ge,m,ue,be])=>{var Oe;if(this.destroyed)return;const je=j(this,_e).get(m);if(!je.objs.has(ge))switch(ue){case"Image":if(je.objs.resolve(ge,be),be){let Le;if(be.bitmap){const{width:me,height:Ie}=be;Le=me*Ie*4}else Le=((Oe=be.data)==null?void 0:Oe.length)||0;Le>_util.MAX_IMAGE_SIZE_TO_CACHE&&(je._maybeCleanupAfterRender=!0)}break;case"Pattern":je.objs.resolve(ge,be);break;default:throw new Error(`Got unknown object type ${ue}`)}}),te.on("DocProgress",ge=>{var m;this.destroyed||(m=b.onProgress)==null||m.call(b,{loaded:ge.loaded,total:ge.total})}),te.on("FetchBuiltInCMap",ge=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ge):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),te.on("FetchStandardFontData",ge=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ge):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ge;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:te,transfers:b}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:te,filename:((ge=this._fullReader)==null?void 0:ge.filename)??null},b).finally(()=>{this.annotationStorage.resetModified()})}getPage(te){if(!Number.isInteger(te)||te<=0||te>this._numPages)return Promise.reject(new Error("Invalid page request."));const b=te-1,ge=j(this,q).get(b);if(ge)return ge;const m=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(ue=>{if(this.destroyed)throw new Error("Transport destroyed");const be=new PDFPageProxy(b,ue,this,this._params.pdfBug);return j(this,_e).set(b,be),be});return j(this,q).set(b,m),m}getPageIndex(te){return typeof te!="object"||te===null||!Number.isInteger(te.num)||te.num<0||!Number.isInteger(te.gen)||te.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:te.num,gen:te.gen})}getAnnotations(te,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:te,intent:b})}getFieldObjects(){return He(this,ve,an).call(this,"GetFieldObjects")}hasJSActions(){return He(this,ve,an).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(te){return typeof te!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:te})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return He(this,ve,an).call(this,"GetDocJSActions")}getPageJSActions(te){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:te})}getStructTree(te){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:te})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(te=>new _optional_content_config.OptionalContentConfig(te))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const te="GetMetadata",b=j(this,he).get(te);if(b)return b;const ge=this.messageHandler.sendWithPromise(te,null).then(m=>{var ue,be;return{info:m[0],metadata:m[1]?new _metadata.Metadata(m[1]):null,contentDispositionFilename:((ue=this._fullReader)==null?void 0:ue.filename)??null,contentLength:((be=this._fullReader)==null?void 0:be.contentLength)??null}});return j(this,he).set(te,ge),ge}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(te=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const b of j(this,_e).values())if(!b.cleanup())throw new Error(`startCleanup: Page ${b.pageNumber} is currently rendering.`);this.commonObjs.clear(),te||this.fontLoader.clear(),j(this,he).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:te,enableXfa:b}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:te,enableXfa:b})}}he=new WeakMap,_e=new WeakMap,q=new WeakMap,re=new WeakMap,ve=new WeakSet,an=function(te,b=null){const ge=j(this,he).get(te);if(ge)return ge;const m=this.messageHandler.sendWithPromise(te,b);return j(this,he).set(te,m),m};class PDFObjects{constructor(){We(this,ce);We(this,ee,Object.create(null))}get(te,b=null){if(b){const m=He(this,ce,yn).call(this,te);return m.capability.promise.then(()=>b(m.data)),null}const ge=j(this,ee)[te];if(!(ge!=null&&ge.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${te}.`);return ge.data}has(te){const b=j(this,ee)[te];return(b==null?void 0:b.capability.settled)||!1}resolve(te,b=null){const ge=He(this,ce,yn).call(this,te);ge.data=b,ge.capability.resolve()}clear(){var te;for(const b in j(this,ee)){const{data:ge}=j(this,ee)[b];(te=ge==null?void 0:ge.bitmap)==null||te.close()}Ye(this,ee,Object.create(null))}}ee=new WeakMap,ce=new WeakSet,yn=function(te){var b;return(b=j(this,ee))[te]||(b[te]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(te){We(this,ae,null);Ye(this,ae,te),this.onContinue=null}get promise(){return j(this,ae).capability.promise}cancel(te=0){j(this,ae).cancel(null,te)}get separateAnnots(){const{separateAnnots:te}=j(this,ae).operatorList;if(!te)return!1;const{annotationCanvasMap:b}=j(this,ae);return te.form||te.canvas&&(b==null?void 0:b.size)>0}}ae=new WeakMap,exports.RenderTask=RenderTask;const oe=class oe{constructor({callback:te,params:b,objs:ge,commonObjs:m,annotationCanvasMap:ue,operatorList:be,pageIndex:je,canvasFactory:Oe,filterFactory:Le,useRequestAnimationFrame:me=!1,pdfBug:Ie=!1,pageColors:ye=null}){this.callback=te,this.params=b,this.objs=ge,this.commonObjs=m,this.annotationCanvasMap=ue,this.operatorListIdx=null,this.operatorList=be,this._pageIndex=je,this.canvasFactory=Oe,this.filterFactory=Le,this._pdfBug=Ie,this.pageColors=ye,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=me===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:te=!1,optionalContentConfig:b}){var je,Oe;if(this.cancelled)return;if(this._canvas){if(j(oe,$).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");j(oe,$).add(this._canvas)}this._pdfBug&&((je=globalThis.StepperManager)!=null&&je.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ge,viewport:m,transform:ue,background:be}=this.params;this.gfx=new _canvas.CanvasGraphics(ge,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:b},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ue,viewport:m,transparency:te,background:be}),this.operatorListIdx=0,this.graphicsReady=!0,(Oe=this.graphicsReadyCallback)==null||Oe.call(this)}cancel(te=null,b=0){var ge;this.running=!1,this.cancelled=!0,(ge=this.gfx)==null||ge.endDrawing(),j(oe,$).delete(this._canvas),this.callback(te||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,b))}operatorListChanged(){var te;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(te=this.stepper)==null||te.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),j(oe,$).delete(this._canvas),this.callback())))}};$=new WeakMap,We(oe,$,new WeakSet);let InternalRenderTask=oe;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,a)=>{var f,g,he,nr,q;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=a(1),c=a(4),d=a(8);const h=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=h;class _{constructor(){We(this,he);We(this,f,!1);We(this,g,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ve,ie){const ee=j(this,g).get(ve);return ee===void 0?ie:Object.assign(ie,ee)}getRawValue(ve){return j(this,g).get(ve)}remove(ve){if(j(this,g).delete(ve),j(this,g).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ie of j(this,g).values())if(ie instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ve,ie){const ee=j(this,g).get(ve);let ce=!1;if(ee!==void 0)for(const[fe,ae]of Object.entries(ie))ee[fe]!==ae&&(ce=!0,ee[fe]=ae);else ce=!0,j(this,g).set(ve,ie);ce&&He(this,he,nr).call(this),ie instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ie.constructor._type)}has(ve){return j(this,g).has(ve)}getAll(){return j(this,g).size>0?(0,o.objectFromMap)(j(this,g)):null}setAll(ve){for(const[ie,ee]of Object.entries(ve))this.setValue(ie,ee)}get size(){return j(this,g).size}resetModified(){j(this,f)&&(Ye(this,f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ne(this)}get serializable(){if(j(this,g).size===0)return h;const ve=new Map,ie=new d.MurmurHash3_64,ee=[],ce=Object.create(null);let fe=!1;for(const[ae,$]of j(this,g)){const oe=$ instanceof c.AnnotationEditor?$.serialize(!1,ce):$;oe&&(ve.set(ae,oe),ie.update(`${ae}:${JSON.stringify(oe)}`),fe||(fe=!!oe.bitmap))}if(fe)for(const ae of ve.values())ae.bitmap&&ee.push(ae.bitmap);return ve.size>0?{map:ve,hash:ie.hexdigest(),transfers:ee}:h}}f=new WeakMap,g=new WeakMap,he=new WeakSet,nr=function(){j(this,f)||(Ye(this,f,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=_;class ne extends _{constructor(ie){super();We(this,q);const{map:ee,hash:ce,transfers:fe}=ie.serializable,ae=structuredClone(ee,fe?{transfer:fe}:null);Ye(this,q,{map:ae,hash:ce,transfers:fe})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return j(this,q)}}q=new WeakMap,i.PrintAnnotationStorage=ne},(e,i,a)=>{var ne,f,g,he,_e,q,re,ve,ie,ee,ce,fe,ae,$,oe,Sn,wn,b,xn,An,rr,ir,sr,En,ar;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=a(5),c=a(1),d=a(6);const me=class me{constructor(ye){We(this,oe);We(this,ne,"");We(this,f,!1);We(this,g,null);We(this,he,null);We(this,_e,null);We(this,q,!1);We(this,re,null);We(this,ve,this.focusin.bind(this));We(this,ie,this.focusout.bind(this));We(this,ee,!1);We(this,ce,!1);We(this,fe,!1);Ft(this,"_initialOptions",Object.create(null));Ft(this,"_uiManager",null);Ft(this,"_focusEventsAllowed",!0);Ft(this,"_l10nPromise",null);We(this,ae,!1);We(this,$,me._zIndex++);this.constructor===me&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ye.parent,this.id=ye.id,this.width=this.height=null,this.pageIndex=ye.parent.pageIndex,this.name=ye.name,this.div=null,this._uiManager=ye.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ye.isCentered,this._structTreeParentId=null;const{rotation:Pe,rawDims:{pageWidth:ke,pageHeight:Ee,pageX:le,pageY:de}}=this.parent.viewport;this.rotation=Pe,this.pageRotation=(360+Pe-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ke,Ee],this.pageTranslation=[le,de];const[xe,Ae]=this.parentDimensions;this.x=ye.x/xe,this.y=ye.y/Ae,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ye){const Pe=new _({id:ye.parent.getNextId(),parent:ye.parent,uiManager:ye._uiManager});Pe.annotationElementId=ye.annotationElementId,Pe.deleted=!0,Pe._uiManager.addToAnnotationStorage(Pe)}static initialize(ye,Pe=null){if(me._l10nPromise||(me._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ee=>[Ee,ye.get(Ee)]))),Pe!=null&&Pe.strings)for(const Ee of Pe.strings)me._l10nPromise.set(Ee,ye.get(Ee));if(me._borderLineWidth!==-1)return;const ke=getComputedStyle(document.documentElement);me._borderLineWidth=parseFloat(ke.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ye,Pe){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ye){return!1}static paste(ye,Pe){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return j(this,ae)}set _isDraggable(ye){var Pe;Ye(this,ae,ye),(Pe=this.div)==null||Pe.classList.toggle("draggable",ye)}center(){const[ye,Pe]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Pe/(ye*2),this.y+=this.width*ye/(Pe*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Pe/(ye*2),this.y-=this.width*ye/(Pe*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ye){this._uiManager.addCommands(ye)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=j(this,$)}setParent(ye){ye!==null&&(this.pageIndex=ye.pageIndex,this.pageDimensions=ye.pageDimensions),this.parent=ye}focusin(ye){this._focusEventsAllowed&&(j(this,ee)?Ye(this,ee,!1):this.parent.setSelected(this))}focusout(ye){var ke;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Pe=ye.relatedTarget;Pe!=null&&Pe.closest(`#${this.id}`)||(ye.preventDefault(),(ke=this.parent)!=null&&ke.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ye,Pe,ke,Ee){const[le,de]=this.parentDimensions;[ke,Ee]=this.screenToPageTranslation(ke,Ee),this.x=(ye+ke)/le,this.y=(Pe+Ee)/de,this.fixAndSetPosition()}translate(ye,Pe){He(this,oe,Sn).call(this,this.parentDimensions,ye,Pe)}translateInPage(ye,Pe){He(this,oe,Sn).call(this,this.pageDimensions,ye,Pe),this.div.scrollIntoView({block:"nearest"})}drag(ye,Pe){const[ke,Ee]=this.parentDimensions;if(this.x+=ye/ke,this.y+=Pe/Ee,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:we,y:$e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,we,$e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:le,y:de}=this;const[xe,Ae]=He(this,oe,wn).call(this);le+=xe,de+=Ae,this.div.style.left=`${(100*le).toFixed(2)}%`,this.div.style.top=`${(100*de).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[ye,Pe]=this.pageDimensions;let{x:ke,y:Ee,width:le,height:de}=this;switch(le*=ye,de*=Pe,ke*=ye,Ee*=Pe,this.rotation){case 0:ke=Math.max(0,Math.min(ye-le,ke)),Ee=Math.max(0,Math.min(Pe-de,Ee));break;case 90:ke=Math.max(0,Math.min(ye-de,ke)),Ee=Math.min(Pe,Math.max(le,Ee));break;case 180:ke=Math.min(ye,Math.max(le,ke)),Ee=Math.min(Pe,Math.max(de,Ee));break;case 270:ke=Math.min(ye,Math.max(de,ke)),Ee=Math.max(0,Math.min(Pe-le,Ee));break}this.x=ke/=ye,this.y=Ee/=Pe;const[xe,Ae]=He(this,oe,wn).call(this);ke+=xe,Ee+=Ae;const{style:we}=this.div;we.left=`${(100*ke).toFixed(2)}%`,we.top=`${(100*Ee).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ye,Pe){var ke;return He(ke=me,b,xn).call(ke,ye,Pe,this.parentRotation)}pageTranslationToScreen(ye,Pe){var ke;return He(ke=me,b,xn).call(ke,ye,Pe,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ye,pageDimensions:[Pe,ke]}=this,Ee=Pe*ye,le=ke*ye;return c.FeatureTest.isCSSRoundSupported?[Math.round(Ee),Math.round(le)]:[Ee,le]}setDims(ye,Pe){var le;const[ke,Ee]=this.parentDimensions;this.div.style.width=`${(100*ye/ke).toFixed(2)}%`,j(this,q)||(this.div.style.height=`${(100*Pe/Ee).toFixed(2)}%`),(le=j(this,g))==null||le.classList.toggle("small",ye<me.SMALL_EDITOR_SIZE||Pe<me.SMALL_EDITOR_SIZE)}fixDims(){const{style:ye}=this.div,{height:Pe,width:ke}=ye,Ee=ke.endsWith("%"),le=!j(this,q)&&Pe.endsWith("%");if(Ee&&le)return;const[de,xe]=this.parentDimensions;Ee||(ye.width=`${(100*parseFloat(ke)/de).toFixed(2)}%`),!j(this,q)&&!le&&(ye.height=`${(100*parseFloat(Pe)/xe).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(j(this,g))return;const ye=Ye(this,g,document.createElement("button"));ye.className="altText";const Pe=await me._l10nPromise.get("editor_alt_text_button_label");ye.textContent=Pe,ye.setAttribute("aria-label",Pe),ye.tabIndex="0",ye.addEventListener("contextmenu",d.noContextMenu),ye.addEventListener("pointerdown",ke=>ke.stopPropagation()),ye.addEventListener("click",ke=>{ke.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),ye.addEventListener("keydown",ke=>{ke.target===ye&&ke.key==="Enter"&&(ke.preventDefault(),this._uiManager.editAltText(this))}),He(this,oe,En).call(this),this.div.append(ye),me.SMALL_EDITOR_SIZE||(me.SMALL_EDITOR_SIZE=Math.min(128,Math.round(ye.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:j(this,ne),decorative:j(this,f)}}set altTextData({altText:ye,decorative:Pe}){j(this,ne)===ye&&j(this,f)===Pe||(Ye(this,ne,ye),Ye(this,f,Pe),He(this,oe,En).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",j(this,ve)),this.div.addEventListener("focusout",j(this,ie));const[ye,Pe]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Pe/ye).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ye/Pe).toFixed(2)}%`);const[ke,Ee]=this.getInitialTranslation();return this.translate(ke,Ee),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(ye){const{isMac:Pe}=c.FeatureTest.platform;if(ye.button!==0||ye.ctrlKey&&Pe){ye.preventDefault();return}Ye(this,ee,!0),He(this,oe,ar).call(this,ye)}moveInDOM(){var ye;(ye=this.parent)==null||ye.moveEditorInDOM(this)}_setParentAndPosition(ye,Pe,ke){ye.changeParent(this),this.x=Pe,this.y=ke,this.fixAndSetPosition()}getRect(ye,Pe){const ke=this.parentScale,[Ee,le]=this.pageDimensions,[de,xe]=this.pageTranslation,Ae=ye/ke,we=Pe/ke,$e=this.x*Ee,Me=this.y*le,Ne=this.width*Ee,Ve=this.height*le;switch(this.rotation){case 0:return[$e+Ae+de,le-Me-we-Ve+xe,$e+Ae+Ne+de,le-Me-we+xe];case 90:return[$e+we+de,le-Me+Ae+xe,$e+we+Ve+de,le-Me+Ae+Ne+xe];case 180:return[$e-Ae-Ne+de,le-Me+we+xe,$e-Ae+de,le-Me+we+Ve+xe];case 270:return[$e-we-Ve+de,le-Me-Ae-Ne+xe,$e-we+de,le-Me-Ae+xe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ye,Pe){const[ke,Ee,le,de]=ye,xe=le-ke,Ae=de-Ee;switch(this.rotation){case 0:return[ke,Pe-de,xe,Ae];case 90:return[ke,Pe-Ee,Ae,xe];case 180:return[le,Pe-Ee,xe,Ae];case 270:return[le,Pe-de,Ae,xe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ye(this,fe,!0)}disableEditMode(){Ye(this,fe,!1)}isInEditMode(){return j(this,fe)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ye,Pe;(ye=this.div)==null||ye.addEventListener("focusin",j(this,ve)),(Pe=this.div)==null||Pe.addEventListener("focusout",j(this,ie))}serialize(ye=!1,Pe=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(ye,Pe,ke){const Ee=new this.prototype.constructor({parent:Pe,id:Pe.getNextId(),uiManager:ke});Ee.rotation=ye.rotation;const[le,de]=Ee.pageDimensions,[xe,Ae,we,$e]=Ee.getRectInCurrentCoords(ye.rect,de);return Ee.x=xe/le,Ee.y=Ae/de,Ee.width=we/le,Ee.height=$e/de,Ee}remove(){var ye;this.div.removeEventListener("focusin",j(this,ve)),this.div.removeEventListener("focusout",j(this,ie)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(ye=j(this,g))==null||ye.remove(),Ye(this,g,null),Ye(this,he,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(He(this,oe,rr).call(this),j(this,re).classList.remove("hidden"))}select(){var ye;this.makeResizable(),(ye=this.div)==null||ye.classList.add("selectedEditor")}unselect(){var ye,Pe,ke;(ye=j(this,re))==null||ye.classList.add("hidden"),(Pe=this.div)==null||Pe.classList.remove("selectedEditor"),(ke=this.div)!=null&&ke.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(ye,Pe){}disableEditing(){j(this,g)&&(j(this,g).hidden=!0)}enableEditing(){j(this,g)&&(j(this,g).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return j(this,ce)}set isEditing(ye){Ye(this,ce,ye),this.parent&&(ye?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ye,Pe){Ye(this,q,!0);const ke=ye/Pe,{style:Ee}=this.div;Ee.aspectRatio=ke,Ee.height="auto"}static get MIN_SIZE(){return 16}};ne=new WeakMap,f=new WeakMap,g=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakMap,re=new WeakMap,ve=new WeakMap,ie=new WeakMap,ee=new WeakMap,ce=new WeakMap,fe=new WeakMap,ae=new WeakMap,$=new WeakMap,oe=new WeakSet,Sn=function([ye,Pe],ke,Ee){[ke,Ee]=this.screenToPageTranslation(ke,Ee),this.x+=ke/ye,this.y+=Ee/Pe,this.fixAndSetPosition()},wn=function(){const[ye,Pe]=this.parentDimensions,{_borderLineWidth:ke}=me,Ee=ke/ye,le=ke/Pe;switch(this.rotation){case 90:return[-Ee,le];case 180:return[Ee,le];case 270:return[Ee,-le];default:return[-Ee,-le]}},b=new WeakSet,xn=function(ye,Pe,ke){switch(ke){case 90:return[Pe,-ye];case 180:return[-ye,-Pe];case 270:return[-Pe,ye];default:return[ye,Pe]}},An=function(ye){switch(ye){case 90:{const[Pe,ke]=this.pageDimensions;return[0,-Pe/ke,ke/Pe,0]}case 180:return[-1,0,0,-1];case 270:{const[Pe,ke]=this.pageDimensions;return[0,Pe/ke,-ke/Pe,0]}default:return[1,0,0,1]}},rr=function(){if(j(this,re))return;Ye(this,re,document.createElement("div")),j(this,re).classList.add("resizers");const ye=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||ye.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Pe of ye){const ke=document.createElement("div");j(this,re).append(ke),ke.classList.add("resizer",Pe),ke.addEventListener("pointerdown",He(this,oe,ir).bind(this,Pe)),ke.addEventListener("contextmenu",d.noContextMenu)}this.div.prepend(j(this,re))},ir=function(ye,Pe){Pe.preventDefault();const{isMac:ke}=c.FeatureTest.platform;if(Pe.button!==0||Pe.ctrlKey&&ke)return;const Ee=He(this,oe,sr).bind(this,ye),le=this._isDraggable;this._isDraggable=!1;const de={passive:!0,capture:!0};window.addEventListener("pointermove",Ee,de);const xe=this.x,Ae=this.y,we=this.width,$e=this.height,Me=this.parent.div.style.cursor,Ne=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Pe.target).cursor;const Ve=()=>{this._isDraggable=le,window.removeEventListener("pointerup",Ve),window.removeEventListener("blur",Ve),window.removeEventListener("pointermove",Ee,de),this.parent.div.style.cursor=Me,this.div.style.cursor=Ne;const Je=this.x,nt=this.y,Qe=this.width,tt=this.height;Je===xe&&nt===Ae&&Qe===we&&tt===$e||this.addCommands({cmd:()=>{this.width=Qe,this.height=tt,this.x=Je,this.y=nt;const[Ge,qe]=this.parentDimensions;this.setDims(Ge*Qe,qe*tt),this.fixAndSetPosition()},undo:()=>{this.width=we,this.height=$e,this.x=xe,this.y=Ae;const[Ge,qe]=this.parentDimensions;this.setDims(Ge*we,qe*$e),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ve),window.addEventListener("blur",Ve)},sr=function(ye,Pe){const[ke,Ee]=this.parentDimensions,le=this.x,de=this.y,xe=this.width,Ae=this.height,we=me.MIN_SIZE/ke,$e=me.MIN_SIZE/Ee,Me=mt=>Math.round(mt*1e4)/1e4,Ne=He(this,oe,An).call(this,this.rotation),Ve=(mt,gt)=>[Ne[0]*mt+Ne[2]*gt,Ne[1]*mt+Ne[3]*gt],Je=He(this,oe,An).call(this,360-this.rotation),nt=(mt,gt)=>[Je[0]*mt+Je[2]*gt,Je[1]*mt+Je[3]*gt];let Qe,tt,Ge=!1,qe=!1;switch(ye){case"topLeft":Ge=!0,Qe=(mt,gt)=>[0,0],tt=(mt,gt)=>[mt,gt];break;case"topMiddle":Qe=(mt,gt)=>[mt/2,0],tt=(mt,gt)=>[mt/2,gt];break;case"topRight":Ge=!0,Qe=(mt,gt)=>[mt,0],tt=(mt,gt)=>[0,gt];break;case"middleRight":qe=!0,Qe=(mt,gt)=>[mt,gt/2],tt=(mt,gt)=>[0,gt/2];break;case"bottomRight":Ge=!0,Qe=(mt,gt)=>[mt,gt],tt=(mt,gt)=>[0,0];break;case"bottomMiddle":Qe=(mt,gt)=>[mt/2,gt],tt=(mt,gt)=>[mt/2,0];break;case"bottomLeft":Ge=!0,Qe=(mt,gt)=>[0,gt],tt=(mt,gt)=>[mt,0];break;case"middleLeft":qe=!0,Qe=(mt,gt)=>[0,gt/2],tt=(mt,gt)=>[mt,gt/2];break}const Se=Qe(xe,Ae),Ce=tt(xe,Ae);let Be=Ve(...Ce);const ze=Me(le+Be[0]),et=Me(de+Be[1]);let at=1,st=1,[Fe,ct]=this.screenToPageTranslation(Pe.movementX,Pe.movementY);if([Fe,ct]=nt(Fe/ke,ct/Ee),Ge){const mt=Math.hypot(xe,Ae);at=st=Math.max(Math.min(Math.hypot(Ce[0]-Se[0]-Fe,Ce[1]-Se[1]-ct)/mt,1/xe,1/Ae),we/xe,$e/Ae)}else qe?at=Math.max(we,Math.min(1,Math.abs(Ce[0]-Se[0]-Fe)))/xe:st=Math.max($e,Math.min(1,Math.abs(Ce[1]-Se[1]-ct)))/Ae;const dt=Me(xe*at),Pt=Me(Ae*st);Be=Ve(...tt(dt,Pt));const At=ze-Be[0],Ct=et-Be[1];this.width=dt,this.height=Pt,this.x=At,this.y=Ct,this.setDims(ke*dt,Ee*Pt),this.fixAndSetPosition()},En=async function(){var ke;const ye=j(this,g);if(!ye)return;if(!j(this,ne)&&!j(this,f)){ye.classList.remove("done"),(ke=j(this,he))==null||ke.remove();return}me._l10nPromise.get("editor_alt_text_edit_button_label").then(Ee=>{ye.setAttribute("aria-label",Ee)});let Pe=j(this,he);if(!Pe){Ye(this,he,Pe=document.createElement("span")),Pe.className="tooltip",Pe.setAttribute("role","tooltip");const Ee=Pe.id=`alt-text-tooltip-${this.id}`;ye.setAttribute("aria-describedby",Ee);const le=100;ye.addEventListener("mouseenter",()=>{Ye(this,_e,setTimeout(()=>{Ye(this,_e,null),j(this,he).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},le))}),ye.addEventListener("mouseleave",()=>{var de;clearTimeout(j(this,_e)),Ye(this,_e,null),(de=j(this,he))==null||de.classList.remove("show")})}ye.classList.add("done"),Pe.innerText=j(this,f)?await me._l10nPromise.get("editor_alt_text_decorative_tooltip"):j(this,ne),Pe.parentNode||ye.append(Pe)},ar=function(ye){if(!this._isDraggable)return;const Pe=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ke,Ee;Pe&&(ke={passive:!0,capture:!0},Ee=de=>{const[xe,Ae]=this.screenToPageTranslation(de.movementX,de.movementY);this._uiManager.dragSelectedEditors(xe,Ae)},window.addEventListener("pointermove",Ee,ke));const le=()=>{if(window.removeEventListener("pointerup",le),window.removeEventListener("blur",le),Pe&&window.removeEventListener("pointermove",Ee,ke),Ye(this,ee,!1),!this._uiManager.endDragSession()){const{isMac:de}=c.FeatureTest.platform;ye.ctrlKey&&!de||ye.shiftKey||ye.metaKey&&de?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",le),window.addEventListener("blur",le)},We(me,b),Ft(me,"_borderLineWidth",-1),Ft(me,"_colorManager",new o.ColorManager),Ft(me,"_zIndex",1),Ft(me,"SMALL_EDITOR_SIZE",0);let h=me;i.AnnotationEditor=h;class _ extends h{constructor(ye){super(ye),this.annotationElementId=ye.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,a)=>{var q,re,ve,ie,ee,Pn,ae,$,oe,se,te,or,m,ue,be,je,Oe,Le,me,Ie,ye,Pe,ke,Ee,le,de,xe,Ae,we,$e,Me,Ne,Ve,Je,nt,Qe,tt,Ge,qe,Se,Ce,Be,ze,et,at,st,Fe,lr,$n,Cn,on,Tn,On,Nt,Qt,cr,ur,jn,Jt,Rn;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=d,i.opacityToHex=h;var o=a(1),c=a(6);function d(jt,De,it){for(const ht of it)De.addEventListener(ht,jt[ht].bind(jt))}function h(jt){return Math.round(Math.min(255,Math.max(1,255*jt))).toString(16).padStart(2,"0")}class _{constructor(){We(this,q,0)}getId(){return`${o.AnnotationEditorPrefix}${Kt(this,q)._++}`}}q=new WeakMap;const fe=class fe{constructor(){We(this,ee);We(this,re,(0,o.getUuid)());We(this,ve,0);We(this,ie,null)}static get _isSVGFittingCanvas(){const De='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ht=new OffscreenCanvas(1,3).getContext("2d"),yt=new Image;yt.src=De;const xt=yt.decode().then(()=>(ht.drawImage(yt,0,0,1,1,0,0,1,3),new Uint32Array(ht.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",xt)}async getFromFile(De){const{lastModified:it,name:ht,size:yt,type:xt}=De;return He(this,ee,Pn).call(this,`${it}_${ht}_${yt}_${xt}`,De)}async getFromUrl(De){return He(this,ee,Pn).call(this,De,De)}async getFromId(De){j(this,ie)||Ye(this,ie,new Map);const it=j(this,ie).get(De);return it?it.bitmap?(it.refCounter+=1,it):it.file?this.getFromFile(it.file):this.getFromUrl(it.url):null}getSvgUrl(De){const it=j(this,ie).get(De);return it!=null&&it.isSvg?it.svgUrl:null}deleteId(De){j(this,ie)||Ye(this,ie,new Map);const it=j(this,ie).get(De);it&&(it.refCounter-=1,it.refCounter===0&&(it.bitmap=null))}isValidId(De){return De.startsWith(`image_${j(this,re)}_`)}};re=new WeakMap,ve=new WeakMap,ie=new WeakMap,ee=new WeakSet,Pn=async function(De,it){j(this,ie)||Ye(this,ie,new Map);let ht=j(this,ie).get(De);if(ht===null)return null;if(ht!=null&&ht.bitmap)return ht.refCounter+=1,ht;try{ht||(ht={bitmap:null,id:`image_${j(this,re)}_${Kt(this,ve)._++}`,refCounter:0,isSvg:!1});let yt;if(typeof it=="string"){ht.url=it;const xt=await fetch(it);if(!xt.ok)throw new Error(xt.statusText);yt=await xt.blob()}else yt=ht.file=it;if(yt.type==="image/svg+xml"){const xt=fe._isSVGFittingCanvas,pt=new FileReader,Re=new Image,Te=new Promise((Ue,Ze)=>{Re.onload=()=>{ht.bitmap=Re,ht.isSvg=!0,Ue()},pt.onload=async()=>{const rt=ht.svgUrl=pt.result;Re.src=await xt?`${rt}#svgView(preserveAspectRatio(none))`:rt},Re.onerror=pt.onerror=Ze});pt.readAsDataURL(yt),await Te}else ht.bitmap=await createImageBitmap(yt);ht.refCounter=1}catch(yt){console.error(yt),ht=null}return j(this,ie).set(De,ht),ht&&j(this,ie).set(ht.id,ht),ht};let ne=fe;class f{constructor(De=128){We(this,ae,[]);We(this,$,!1);We(this,oe);We(this,se,-1);Ye(this,oe,De)}add({cmd:De,undo:it,mustExec:ht,type:yt=NaN,overwriteIfSameType:xt=!1,keepUndo:pt=!1}){if(ht&&De(),j(this,$))return;const Re={cmd:De,undo:it,type:yt};if(j(this,se)===-1){j(this,ae).length>0&&(j(this,ae).length=0),Ye(this,se,0),j(this,ae).push(Re);return}if(xt&&j(this,ae)[j(this,se)].type===yt){pt&&(Re.undo=j(this,ae)[j(this,se)].undo),j(this,ae)[j(this,se)]=Re;return}const Te=j(this,se)+1;Te===j(this,oe)?j(this,ae).splice(0,1):(Ye(this,se,Te),Te<j(this,ae).length&&j(this,ae).splice(Te)),j(this,ae).push(Re)}undo(){j(this,se)!==-1&&(Ye(this,$,!0),j(this,ae)[j(this,se)].undo(),Ye(this,$,!1),Ye(this,se,j(this,se)-1))}redo(){j(this,se)<j(this,ae).length-1&&(Ye(this,se,j(this,se)+1),Ye(this,$,!0),j(this,ae)[j(this,se)].cmd(),Ye(this,$,!1))}hasSomethingToUndo(){return j(this,se)!==-1}hasSomethingToRedo(){return j(this,se)<j(this,ae).length-1}destroy(){Ye(this,ae,null)}}ae=new WeakMap,$=new WeakMap,oe=new WeakMap,se=new WeakMap,i.CommandManager=f;class g{constructor(De){We(this,te);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:it}=o.FeatureTest.platform;for(const[ht,yt,xt={}]of De)for(const pt of ht){const Re=pt.startsWith("mac+");it&&Re?(this.callbacks.set(pt.slice(4),{callback:yt,options:xt}),this.allKeys.add(pt.split("+").at(-1))):!it&&!Re&&(this.callbacks.set(pt,{callback:yt,options:xt}),this.allKeys.add(pt.split("+").at(-1)))}}exec(De,it){if(!this.allKeys.has(it.key))return;const ht=this.callbacks.get(He(this,te,or).call(this,it));if(!ht)return;const{callback:yt,options:{bubbles:xt=!1,args:pt=[],checker:Re=null}}=ht;Re&&!Re(De,it)||(yt.bind(De,...pt)(),xt||(it.stopPropagation(),it.preventDefault()))}}te=new WeakSet,or=function(De){De.altKey&&this.buffer.push("alt"),De.ctrlKey&&this.buffer.push("ctrl"),De.metaKey&&this.buffer.push("meta"),De.shiftKey&&this.buffer.push("shift"),this.buffer.push(De.key);const it=this.buffer.join("+");return this.buffer.length=0,it},i.KeyboardManager=g;const ge=class ge{get _colors(){const De=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(De),(0,o.shadow)(this,"_colors",De)}convert(De){const it=(0,c.getRGB)(De);if(!window.matchMedia("(forced-colors: active)").matches)return it;for(const[ht,yt]of this._colors)if(yt.every((xt,pt)=>xt===it[pt]))return ge._colorsMapping.get(ht);return it}getHexCode(De){const it=this._colors.get(De);return it?o.Util.makeHexColor(...it):De}};Ft(ge,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let he=ge;i.ColorManager=he;const Rt=class Rt{constructor(De,it,ht,yt,xt,pt){We(this,Fe);We(this,m,null);We(this,ue,new Map);We(this,be,new Map);We(this,je,null);We(this,Oe,null);We(this,Le,new f);We(this,me,0);We(this,Ie,new Set);We(this,ye,null);We(this,Pe,null);We(this,ke,new Set);We(this,Ee,null);We(this,le,new _);We(this,de,!1);We(this,xe,!1);We(this,Ae,null);We(this,we,o.AnnotationEditorType.NONE);We(this,$e,new Set);We(this,Me,null);We(this,Ne,this.blur.bind(this));We(this,Ve,this.focus.bind(this));We(this,Je,this.copy.bind(this));We(this,nt,this.cut.bind(this));We(this,Qe,this.paste.bind(this));We(this,tt,this.keydown.bind(this));We(this,Ge,this.onEditingAction.bind(this));We(this,qe,this.onPageChanging.bind(this));We(this,Se,this.onScaleChanging.bind(this));We(this,Ce,this.onRotationChanging.bind(this));We(this,Be,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});We(this,ze,[0,0]);We(this,et,null);We(this,at,null);We(this,st,null);Ye(this,at,De),Ye(this,st,it),Ye(this,je,ht),this._eventBus=yt,this._eventBus._on("editingaction",j(this,Ge)),this._eventBus._on("pagechanging",j(this,qe)),this._eventBus._on("scalechanging",j(this,Se)),this._eventBus._on("rotationchanging",j(this,Ce)),Ye(this,Oe,xt.annotationStorage),Ye(this,Ee,xt.filterFactory),Ye(this,Me,pt),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const De=Rt.prototype,it=xt=>{const{activeElement:pt}=document;return pt&&j(xt,at).contains(pt)&&xt.hasSomethingToControl()},ht=this.TRANSLATE_SMALL,yt=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],De.selectAll],[["ctrl+z","mac+meta+z"],De.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],De.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],De.delete],[["Escape","mac+Escape"],De.unselectAll],[["ArrowLeft","mac+ArrowLeft"],De.translateSelectedEditors,{args:[-ht,0],checker:it}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],De.translateSelectedEditors,{args:[-yt,0],checker:it}],[["ArrowRight","mac+ArrowRight"],De.translateSelectedEditors,{args:[ht,0],checker:it}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],De.translateSelectedEditors,{args:[yt,0],checker:it}],[["ArrowUp","mac+ArrowUp"],De.translateSelectedEditors,{args:[0,-ht],checker:it}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],De.translateSelectedEditors,{args:[0,-yt],checker:it}],[["ArrowDown","mac+ArrowDown"],De.translateSelectedEditors,{args:[0,ht],checker:it}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],De.translateSelectedEditors,{args:[0,yt],checker:it}]]))}destroy(){He(this,Fe,on).call(this),He(this,Fe,$n).call(this),this._eventBus._off("editingaction",j(this,Ge)),this._eventBus._off("pagechanging",j(this,qe)),this._eventBus._off("scalechanging",j(this,Se)),this._eventBus._off("rotationchanging",j(this,Ce));for(const De of j(this,be).values())De.destroy();j(this,be).clear(),j(this,ue).clear(),j(this,ke).clear(),Ye(this,m,null),j(this,$e).clear(),j(this,Le).destroy(),j(this,je).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",j(this,Me)?j(this,Ee).addHCMFilter(j(this,Me).foreground,j(this,Me).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(j(this,at)).direction)}editAltText(De){var it;(it=j(this,je))==null||it.editAltText(this,De)}onPageChanging({pageNumber:De}){Ye(this,me,De-1)}focusMainContainer(){j(this,at).focus()}findParent(De,it){for(const ht of j(this,be).values()){const{x:yt,y:xt,width:pt,height:Re}=ht.div.getBoundingClientRect();if(De>=yt&&De<=yt+pt&&it>=xt&&it<=xt+Re)return ht}return null}disableUserSelect(De=!1){j(this,st).classList.toggle("noUserSelect",De)}addShouldRescale(De){j(this,ke).add(De)}removeShouldRescale(De){j(this,ke).delete(De)}onScaleChanging({scale:De}){this.commitOrRemove(),this.viewParameters.realScale=De*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const it of j(this,ke))it.onScaleChanging()}onRotationChanging({pagesRotation:De}){this.commitOrRemove(),this.viewParameters.rotation=De}addToAnnotationStorage(De){!De.isEmpty()&&j(this,Oe)&&!j(this,Oe).has(De.id)&&j(this,Oe).setValue(De.id,De)}blur(){if(!this.hasSelection)return;const{activeElement:De}=document;for(const it of j(this,$e))if(it.div.contains(De)){Ye(this,Ae,[it,De]),it._focusEventsAllowed=!1;break}}focus(){if(!j(this,Ae))return;const[De,it]=j(this,Ae);Ye(this,Ae,null),it.addEventListener("focusin",()=>{De._focusEventsAllowed=!0},{once:!0}),it.focus()}addEditListeners(){He(this,Fe,Cn).call(this),He(this,Fe,Tn).call(this)}removeEditListeners(){He(this,Fe,on).call(this),He(this,Fe,On).call(this)}copy(De){var ht;if(De.preventDefault(),(ht=j(this,m))==null||ht.commitOrRemove(),!this.hasSelection)return;const it=[];for(const yt of j(this,$e)){const xt=yt.serialize(!0);xt&&it.push(xt)}it.length!==0&&De.clipboardData.setData("application/pdfjs",JSON.stringify(it))}cut(De){this.copy(De),this.delete()}paste(De){De.preventDefault();const{clipboardData:it}=De;for(const xt of it.items)for(const pt of j(this,Pe))if(pt.isHandlingMimeForPasting(xt.type)){pt.paste(xt,this.currentLayer);return}let ht=it.getData("application/pdfjs");if(!ht)return;try{ht=JSON.parse(ht)}catch(xt){(0,o.warn)(`paste: "${xt.message}".`);return}if(!Array.isArray(ht))return;this.unselectAll();const yt=this.currentLayer;try{const xt=[];for(const Te of ht){const Ue=yt.deserialize(Te);if(!Ue)return;xt.push(Ue)}const pt=()=>{for(const Te of xt)He(this,Fe,jn).call(this,Te);He(this,Fe,Rn).call(this,xt)},Re=()=>{for(const Te of xt)Te.remove()};this.addCommands({cmd:pt,undo:Re,mustExec:!0})}catch(xt){(0,o.warn)(`paste: "${xt.message}".`)}}keydown(De){var it;(it=this.getActive())!=null&&it.shouldGetKeyboardEvents()||Rt._keyboardManager.exec(this,De)}onEditingAction(De){["undo","redo","delete","selectAll"].includes(De.name)&&this[De.name]()}setEditingState(De){De?(He(this,Fe,lr).call(this),He(this,Fe,Cn).call(this),He(this,Fe,Tn).call(this),He(this,Fe,Nt).call(this,{isEditing:j(this,we)!==o.AnnotationEditorType.NONE,isEmpty:He(this,Fe,Jt).call(this),hasSomethingToUndo:j(this,Le).hasSomethingToUndo(),hasSomethingToRedo:j(this,Le).hasSomethingToRedo(),hasSelectedEditor:!1})):(He(this,Fe,$n).call(this),He(this,Fe,on).call(this),He(this,Fe,On).call(this),He(this,Fe,Nt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(De){if(!j(this,Pe)){Ye(this,Pe,De);for(const it of j(this,Pe))He(this,Fe,Qt).call(this,it.defaultPropertiesToUpdate)}}getId(){return j(this,le).getId()}get currentLayer(){return j(this,be).get(j(this,me))}getLayer(De){return j(this,be).get(De)}get currentPageIndex(){return j(this,me)}addLayer(De){j(this,be).set(De.pageIndex,De),j(this,de)?De.enable():De.disable()}removeLayer(De){j(this,be).delete(De.pageIndex)}updateMode(De,it=null){if(j(this,we)!==De){if(Ye(this,we,De),De===o.AnnotationEditorType.NONE){this.setEditingState(!1),He(this,Fe,ur).call(this);return}this.setEditingState(!0),He(this,Fe,cr).call(this),this.unselectAll();for(const ht of j(this,be).values())ht.updateMode(De);if(it){for(const ht of j(this,ue).values())if(ht.annotationElementId===it){this.setSelected(ht),ht.enterInEditMode();break}}}}updateToolbar(De){De!==j(this,we)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:De})}updateParams(De,it){if(j(this,Pe)){if(De===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(De);return}for(const ht of j(this,$e))ht.updateParams(De,it);for(const ht of j(this,Pe))ht.updateDefaultParams(De,it)}}enableWaiting(De=!1){if(j(this,xe)!==De){Ye(this,xe,De);for(const it of j(this,be).values())De?it.disableClick():it.enableClick(),it.div.classList.toggle("waiting",De)}}getEditors(De){const it=[];for(const ht of j(this,ue).values())ht.pageIndex===De&&it.push(ht);return it}getEditor(De){return j(this,ue).get(De)}addEditor(De){j(this,ue).set(De.id,De)}removeEditor(De){var it;j(this,ue).delete(De.id),this.unselect(De),(!De.annotationElementId||!j(this,Ie).has(De.annotationElementId))&&((it=j(this,Oe))==null||it.remove(De.id))}addDeletedAnnotationElement(De){j(this,Ie).add(De.annotationElementId),De.deleted=!0}isDeletedAnnotationElement(De){return j(this,Ie).has(De)}removeDeletedAnnotationElement(De){j(this,Ie).delete(De.annotationElementId),De.deleted=!1}setActiveEditor(De){j(this,m)!==De&&(Ye(this,m,De),De&&He(this,Fe,Qt).call(this,De.propertiesToUpdate))}toggleSelected(De){if(j(this,$e).has(De)){j(this,$e).delete(De),De.unselect(),He(this,Fe,Nt).call(this,{hasSelectedEditor:this.hasSelection});return}j(this,$e).add(De),De.select(),He(this,Fe,Qt).call(this,De.propertiesToUpdate),He(this,Fe,Nt).call(this,{hasSelectedEditor:!0})}setSelected(De){for(const it of j(this,$e))it!==De&&it.unselect();j(this,$e).clear(),j(this,$e).add(De),De.select(),He(this,Fe,Qt).call(this,De.propertiesToUpdate),He(this,Fe,Nt).call(this,{hasSelectedEditor:!0})}isSelected(De){return j(this,$e).has(De)}unselect(De){De.unselect(),j(this,$e).delete(De),He(this,Fe,Nt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return j(this,$e).size!==0}undo(){j(this,Le).undo(),He(this,Fe,Nt).call(this,{hasSomethingToUndo:j(this,Le).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:He(this,Fe,Jt).call(this)})}redo(){j(this,Le).redo(),He(this,Fe,Nt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:j(this,Le).hasSomethingToRedo(),isEmpty:He(this,Fe,Jt).call(this)})}addCommands(De){j(this,Le).add(De),He(this,Fe,Nt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:He(this,Fe,Jt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const De=[...j(this,$e)],it=()=>{for(const yt of De)yt.remove()},ht=()=>{for(const yt of De)He(this,Fe,jn).call(this,yt)};this.addCommands({cmd:it,undo:ht,mustExec:!0})}commitOrRemove(){var De;(De=j(this,m))==null||De.commitOrRemove()}hasSomethingToControl(){return j(this,m)||this.hasSelection}selectAll(){for(const De of j(this,$e))De.commit();He(this,Fe,Rn).call(this,j(this,ue).values())}unselectAll(){if(j(this,m)){j(this,m).commitOrRemove();return}if(this.hasSelection){for(const De of j(this,$e))De.unselect();j(this,$e).clear(),He(this,Fe,Nt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(De,it,ht=!1){if(ht||this.commitOrRemove(),!this.hasSelection)return;j(this,ze)[0]+=De,j(this,ze)[1]+=it;const[yt,xt]=j(this,ze),pt=[...j(this,$e)],Re=1e3;j(this,et)&&clearTimeout(j(this,et)),Ye(this,et,setTimeout(()=>{Ye(this,et,null),j(this,ze)[0]=j(this,ze)[1]=0,this.addCommands({cmd:()=>{for(const Te of pt)j(this,ue).has(Te.id)&&Te.translateInPage(yt,xt)},undo:()=>{for(const Te of pt)j(this,ue).has(Te.id)&&Te.translateInPage(-yt,-xt)},mustExec:!1})},Re));for(const Te of pt)Te.translateInPage(De,it)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ye(this,ye,new Map);for(const De of j(this,$e))j(this,ye).set(De,{savedX:De.x,savedY:De.y,savedPageIndex:De.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!j(this,ye))return!1;this.disableUserSelect(!1);const De=j(this,ye);Ye(this,ye,null);let it=!1;for(const[{x:yt,y:xt,pageIndex:pt},Re]of De)Re.newX=yt,Re.newY=xt,Re.newPageIndex=pt,it||(it=yt!==Re.savedX||xt!==Re.savedY||pt!==Re.savedPageIndex);if(!it)return!1;const ht=(yt,xt,pt,Re)=>{if(j(this,ue).has(yt.id)){const Te=j(this,be).get(Re);Te?yt._setParentAndPosition(Te,xt,pt):(yt.pageIndex=Re,yt.x=xt,yt.y=pt)}};return this.addCommands({cmd:()=>{for(const[yt,{newX:xt,newY:pt,newPageIndex:Re}]of De)ht(yt,xt,pt,Re)},undo:()=>{for(const[yt,{savedX:xt,savedY:pt,savedPageIndex:Re}]of De)ht(yt,xt,pt,Re)},mustExec:!0}),!0}dragSelectedEditors(De,it){if(j(this,ye))for(const ht of j(this,ye).keys())ht.drag(De,it)}rebuild(De){if(De.parent===null){const it=this.getLayer(De.pageIndex);it?(it.changeParent(De),it.addOrRebuild(De)):(this.addEditor(De),this.addToAnnotationStorage(De),De.rebuild())}else De.parent.addOrRebuild(De)}isActive(De){return j(this,m)===De}getActive(){return j(this,m)}getMode(){return j(this,we)}get imageManager(){return(0,o.shadow)(this,"imageManager",new ne)}};m=new WeakMap,ue=new WeakMap,be=new WeakMap,je=new WeakMap,Oe=new WeakMap,Le=new WeakMap,me=new WeakMap,Ie=new WeakMap,ye=new WeakMap,Pe=new WeakMap,ke=new WeakMap,Ee=new WeakMap,le=new WeakMap,de=new WeakMap,xe=new WeakMap,Ae=new WeakMap,we=new WeakMap,$e=new WeakMap,Me=new WeakMap,Ne=new WeakMap,Ve=new WeakMap,Je=new WeakMap,nt=new WeakMap,Qe=new WeakMap,tt=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Se=new WeakMap,Ce=new WeakMap,Be=new WeakMap,ze=new WeakMap,et=new WeakMap,at=new WeakMap,st=new WeakMap,Fe=new WeakSet,lr=function(){window.addEventListener("focus",j(this,Ve)),window.addEventListener("blur",j(this,Ne))},$n=function(){window.removeEventListener("focus",j(this,Ve)),window.removeEventListener("blur",j(this,Ne))},Cn=function(){window.addEventListener("keydown",j(this,tt),{capture:!0})},on=function(){window.removeEventListener("keydown",j(this,tt),{capture:!0})},Tn=function(){document.addEventListener("copy",j(this,Je)),document.addEventListener("cut",j(this,nt)),document.addEventListener("paste",j(this,Qe))},On=function(){document.removeEventListener("copy",j(this,Je)),document.removeEventListener("cut",j(this,nt)),document.removeEventListener("paste",j(this,Qe))},Nt=function(De){Object.entries(De).some(([ht,yt])=>j(this,Be)[ht]!==yt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(j(this,Be),De)})},Qt=function(De){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:De})},cr=function(){if(!j(this,de)){Ye(this,de,!0);for(const De of j(this,be).values())De.enable()}},ur=function(){if(this.unselectAll(),j(this,de)){Ye(this,de,!1);for(const De of j(this,be).values())De.disable()}},jn=function(De){const it=j(this,be).get(De.pageIndex);it?it.addOrRebuild(De):this.addEditor(De)},Jt=function(){if(j(this,ue).size===0)return!0;if(j(this,ue).size===1)for(const De of j(this,ue).values())return De.isEmpty();return!1},Rn=function(De){j(this,$e).clear();for(const it of De)it.isEmpty()||(j(this,$e).add(it),it.select());He(this,Fe,Nt).call(this,{hasSelectedEditor:!0})},Ft(Rt,"TRANSLATE_SMALL",1),Ft(Rt,"TRANSLATE_BIG",10);let _e=Rt;i.AnnotationEditorUIManager=_e},(e,i,a)=>{var me,Ie,ye,Pe,ke,Ee,le,de,xe,Ae,we,$e,Vt,Wt,kn,ln,cn,Zt,en;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=se,i.getColorValues=ue,i.getCurrentTransform=be,i.getCurrentTransformInverse=je,i.getFilenameFromUrl=ee,i.getPdfFilenameFromUrl=ce,i.getRGB=m,i.getXfaPageViewport=ge,i.isDataScheme=ve,i.isPdfFile=ie,i.isValidFetchUrl=ae,i.loadScript=oe,i.noContextMenu=$,i.setLayerDimensions=Oe;var o=a(7),c=a(1);const d="http://www.w3.org/2000/svg",Le=class Le{};Ft(Le,"CSS",96),Ft(Le,"PDF",72),Ft(Le,"PDF_TO_CSS_UNITS",Le.CSS/Le.PDF);let h=Le;i.PixelsPerInch=h;class _ extends o.BaseFilterFactory{constructor({docId:Se,ownerDocument:Ce=globalThis.document}={}){super();We(this,$e);We(this,me);We(this,Ie);We(this,ye);We(this,Pe);We(this,ke);We(this,Ee);We(this,le);We(this,de);We(this,xe);We(this,Ae);We(this,we,0);Ye(this,ye,Se),Ye(this,Pe,Ce)}addFilter(Se){if(!Se)return"none";let Ce=j(this,$e,Vt).get(Se);if(Ce)return Ce;let Be,ze,et,at;if(Se.length===1){const dt=Se[0],Pt=new Array(256);for(let At=0;At<256;At++)Pt[At]=dt[At]/255;at=Be=ze=et=Pt.join(",")}else{const[dt,Pt,At]=Se,Ct=new Array(256),mt=new Array(256),gt=new Array(256);for(let Tt=0;Tt<256;Tt++)Ct[Tt]=dt[Tt]/255,mt[Tt]=Pt[Tt]/255,gt[Tt]=At[Tt]/255;Be=Ct.join(","),ze=mt.join(","),et=gt.join(","),at=`${Be}${ze}${et}`}if(Ce=j(this,$e,Vt).get(at),Ce)return j(this,$e,Vt).set(Se,Ce),Ce;const st=`g_${j(this,ye)}_transfer_map_${Kt(this,we)._++}`,Fe=`url(#${st})`;j(this,$e,Vt).set(Se,Fe),j(this,$e,Vt).set(at,Fe);const ct=He(this,$e,ln).call(this,st);return He(this,$e,Zt).call(this,Be,ze,et,ct),Fe}addHCMFilter(Se,Ce){var Pt;const Be=`${Se}-${Ce}`;if(j(this,Ee)===Be)return j(this,le);if(Ye(this,Ee,Be),Ye(this,le,"none"),(Pt=j(this,ke))==null||Pt.remove(),!Se||!Ce)return j(this,le);const ze=He(this,$e,en).call(this,Se);Se=c.Util.makeHexColor(...ze);const et=He(this,$e,en).call(this,Ce);if(Ce=c.Util.makeHexColor(...et),j(this,$e,Wt).style.color="",Se==="#000000"&&Ce==="#ffffff"||Se===Ce)return j(this,le);const at=new Array(256);for(let At=0;At<=255;At++){const Ct=At/255;at[At]=Ct<=.03928?Ct/12.92:((Ct+.055)/1.055)**2.4}const st=at.join(","),Fe=`g_${j(this,ye)}_hcm_filter`,ct=Ye(this,de,He(this,$e,ln).call(this,Fe));He(this,$e,Zt).call(this,st,st,st,ct),He(this,$e,kn).call(this,ct);const dt=(At,Ct)=>{const mt=ze[At]/255,gt=et[At]/255,Tt=new Array(Ct+1);for(let kt=0;kt<=Ct;kt++)Tt[kt]=mt+kt/Ct*(gt-mt);return Tt.join(",")};return He(this,$e,Zt).call(this,dt(0,5),dt(1,5),dt(2,5),ct),Ye(this,le,`url(#${Fe})`),j(this,le)}addHighlightHCMFilter(Se,Ce,Be,ze){var gt;const et=`${Se}-${Ce}-${Be}-${ze}`;if(j(this,xe)===et)return j(this,Ae);if(Ye(this,xe,et),Ye(this,Ae,"none"),(gt=j(this,de))==null||gt.remove(),!Se||!Ce)return j(this,Ae);const[at,st]=[Se,Ce].map(He(this,$e,en).bind(this));let Fe=Math.round(.2126*at[0]+.7152*at[1]+.0722*at[2]),ct=Math.round(.2126*st[0]+.7152*st[1]+.0722*st[2]),[dt,Pt]=[Be,ze].map(He(this,$e,en).bind(this));ct<Fe&&([Fe,ct,dt,Pt]=[ct,Fe,Pt,dt]),j(this,$e,Wt).style.color="";const At=(Tt,kt,lt)=>{const Xe=new Array(256),Ke=(ct-Fe)/lt,_t=Tt/255,Rt=(kt-Tt)/(255*lt);let jt=0;for(let De=0;De<=lt;De++){const it=Math.round(Fe+De*Ke),ht=_t+De*Rt;for(let yt=jt;yt<=it;yt++)Xe[yt]=ht;jt=it+1}for(let De=jt;De<256;De++)Xe[De]=Xe[jt-1];return Xe.join(",")},Ct=`g_${j(this,ye)}_hcm_highlight_filter`,mt=Ye(this,de,He(this,$e,ln).call(this,Ct));return He(this,$e,kn).call(this,mt),He(this,$e,Zt).call(this,At(dt[0],Pt[0],5),At(dt[1],Pt[1],5),At(dt[2],Pt[2],5),mt),Ye(this,Ae,`url(#${Ct})`),j(this,Ae)}destroy(Se=!1){Se&&(j(this,le)||j(this,Ae))||(j(this,Ie)&&(j(this,Ie).parentNode.parentNode.remove(),Ye(this,Ie,null)),j(this,me)&&(j(this,me).clear(),Ye(this,me,null)),Ye(this,we,0))}}me=new WeakMap,Ie=new WeakMap,ye=new WeakMap,Pe=new WeakMap,ke=new WeakMap,Ee=new WeakMap,le=new WeakMap,de=new WeakMap,xe=new WeakMap,Ae=new WeakMap,we=new WeakMap,$e=new WeakSet,Vt=function(){return j(this,me)||Ye(this,me,new Map)},Wt=function(){if(!j(this,Ie)){const Se=j(this,Pe).createElement("div"),{style:Ce}=Se;Ce.visibility="hidden",Ce.contain="strict",Ce.width=Ce.height=0,Ce.position="absolute",Ce.top=Ce.left=0,Ce.zIndex=-1;const Be=j(this,Pe).createElementNS(d,"svg");Be.setAttribute("width",0),Be.setAttribute("height",0),Ye(this,Ie,j(this,Pe).createElementNS(d,"defs")),Se.append(Be),Be.append(j(this,Ie)),j(this,Pe).body.append(Se)}return j(this,Ie)},kn=function(Se){const Ce=j(this,Pe).createElementNS(d,"feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Se.append(Ce)},ln=function(Se){const Ce=j(this,Pe).createElementNS(d,"filter");return Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("id",Se),j(this,$e,Wt).append(Ce),Ce},cn=function(Se,Ce,Be){const ze=j(this,Pe).createElementNS(d,Ce);ze.setAttribute("type","discrete"),ze.setAttribute("tableValues",Be),Se.append(ze)},Zt=function(Se,Ce,Be,ze){const et=j(this,Pe).createElementNS(d,"feComponentTransfer");ze.append(et),He(this,$e,cn).call(this,et,"feFuncR",Se),He(this,$e,cn).call(this,et,"feFuncG",Ce),He(this,$e,cn).call(this,et,"feFuncB",Be)},en=function(Se){return j(this,$e,Wt).style.color=Se,m(getComputedStyle(j(this,$e,Wt)).getPropertyValue("color"))},i.DOMFilterFactory=_;class ne extends o.BaseCanvasFactory{constructor({ownerDocument:qe=globalThis.document}={}){super(),this._document=qe}_createCanvas(qe,Se){const Ce=this._document.createElement("canvas");return Ce.width=qe,Ce.height=Se,Ce}}i.DOMCanvasFactory=ne;async function f(Ge,qe=!1){if(ae(Ge,document.baseURI)){const Se=await fetch(Ge);if(!Se.ok)throw new Error(Se.statusText);return qe?new Uint8Array(await Se.arrayBuffer()):(0,c.stringToBytes)(await Se.text())}return new Promise((Se,Ce)=>{const Be=new XMLHttpRequest;Be.open("GET",Ge,!0),qe&&(Be.responseType="arraybuffer"),Be.onreadystatechange=()=>{if(Be.readyState===XMLHttpRequest.DONE){if(Be.status===200||Be.status===0){let ze;if(qe&&Be.response?ze=new Uint8Array(Be.response):!qe&&Be.responseText&&(ze=(0,c.stringToBytes)(Be.responseText)),ze){Se(ze);return}}Ce(new Error(Be.statusText))}},Be.send(null)})}class g extends o.BaseCMapReaderFactory{_fetchData(qe,Se){return f(qe,this.isCompressed).then(Ce=>({cMapData:Ce,compressionType:Se}))}}i.DOMCMapReaderFactory=g;class he extends o.BaseStandardFontDataFactory{_fetchData(qe){return f(qe,!0)}}i.DOMStandardFontDataFactory=he;class _e extends o.BaseSVGFactory{_createSVG(qe){return document.createElementNS(d,qe)}}i.DOMSVGFactory=_e;class q{constructor({viewBox:qe,scale:Se,rotation:Ce,offsetX:Be=0,offsetY:ze=0,dontFlip:et=!1}){this.viewBox=qe,this.scale=Se,this.rotation=Ce,this.offsetX=Be,this.offsetY=ze;const at=(qe[2]+qe[0])/2,st=(qe[3]+qe[1])/2;let Fe,ct,dt,Pt;switch(Ce%=360,Ce<0&&(Ce+=360),Ce){case 180:Fe=-1,ct=0,dt=0,Pt=1;break;case 90:Fe=0,ct=1,dt=1,Pt=0;break;case 270:Fe=0,ct=-1,dt=-1,Pt=0;break;case 0:Fe=1,ct=0,dt=0,Pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}et&&(dt=-dt,Pt=-Pt);let At,Ct,mt,gt;Fe===0?(At=Math.abs(st-qe[1])*Se+Be,Ct=Math.abs(at-qe[0])*Se+ze,mt=(qe[3]-qe[1])*Se,gt=(qe[2]-qe[0])*Se):(At=Math.abs(at-qe[0])*Se+Be,Ct=Math.abs(st-qe[1])*Se+ze,mt=(qe[2]-qe[0])*Se,gt=(qe[3]-qe[1])*Se),this.transform=[Fe*Se,ct*Se,dt*Se,Pt*Se,At-Fe*Se*at-dt*Se*st,Ct-ct*Se*at-Pt*Se*st],this.width=mt,this.height=gt}get rawDims(){const{viewBox:qe}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:qe[2]-qe[0],pageHeight:qe[3]-qe[1],pageX:qe[0],pageY:qe[1]})}clone({scale:qe=this.scale,rotation:Se=this.rotation,offsetX:Ce=this.offsetX,offsetY:Be=this.offsetY,dontFlip:ze=!1}={}){return new q({viewBox:this.viewBox.slice(),scale:qe,rotation:Se,offsetX:Ce,offsetY:Be,dontFlip:ze})}convertToViewportPoint(qe,Se){return c.Util.applyTransform([qe,Se],this.transform)}convertToViewportRectangle(qe){const Se=c.Util.applyTransform([qe[0],qe[1]],this.transform),Ce=c.Util.applyTransform([qe[2],qe[3]],this.transform);return[Se[0],Se[1],Ce[0],Ce[1]]}convertToPdfPoint(qe,Se){return c.Util.applyInverseTransform([qe,Se],this.transform)}}i.PageViewport=q;class re extends c.BaseException{constructor(qe,Se=0){super(qe,"RenderingCancelledException"),this.extraDelay=Se}}i.RenderingCancelledException=re;function ve(Ge){const qe=Ge.length;let Se=0;for(;Se<qe&&Ge[Se].trim()==="";)Se++;return Ge.substring(Se,Se+5).toLowerCase()==="data:"}function ie(Ge){return typeof Ge=="string"&&/\.pdf$/i.test(Ge)}function ee(Ge,qe=!1){return qe||([Ge]=Ge.split(/[#?]/,1)),Ge.substring(Ge.lastIndexOf("/")+1)}function ce(Ge,qe="document.pdf"){if(typeof Ge!="string")return qe;if(ve(Ge))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),qe;const Se=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Be=Se.exec(Ge);let ze=Ce.exec(Be[1])||Ce.exec(Be[2])||Ce.exec(Be[3]);if(ze&&(ze=ze[0],ze.includes("%")))try{ze=Ce.exec(decodeURIComponent(ze))[0]}catch{}return ze||qe}class fe{constructor(){Ft(this,"started",Object.create(null));Ft(this,"times",[])}time(qe){qe in this.started&&(0,c.warn)(`Timer is already running for ${qe}`),this.started[qe]=Date.now()}timeEnd(qe){qe in this.started||(0,c.warn)(`Timer has not been started for ${qe}`),this.times.push({name:qe,start:this.started[qe],end:Date.now()}),delete this.started[qe]}toString(){const qe=[];let Se=0;for(const{name:Ce}of this.times)Se=Math.max(Ce.length,Se);for(const{name:Ce,start:Be,end:ze}of this.times)qe.push(`${Ce.padEnd(Se)} ${ze-Be}ms
`);return qe.join("")}}i.StatTimer=fe;function ae(Ge,qe){try{const{protocol:Se}=qe?new URL(Ge,qe):new URL(Ge);return Se==="http:"||Se==="https:"}catch{return!1}}function $(Ge){Ge.preventDefault()}function oe(Ge,qe=!1){return new Promise((Se,Ce)=>{const Be=document.createElement("script");Be.src=Ge,Be.onload=function(ze){qe&&Be.remove(),Se(ze)},Be.onerror=function(){Ce(new Error(`Cannot load script at: ${Be.src}`))},(document.head||document.documentElement).append(Be)})}function se(Ge){console.log("Deprecated API usage: "+Ge)}let te;class b{static toDateObject(qe){if(!qe||typeof qe!="string")return null;te||(te=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Se=te.exec(qe);if(!Se)return null;const Ce=parseInt(Se[1],10);let Be=parseInt(Se[2],10);Be=Be>=1&&Be<=12?Be-1:0;let ze=parseInt(Se[3],10);ze=ze>=1&&ze<=31?ze:1;let et=parseInt(Se[4],10);et=et>=0&&et<=23?et:0;let at=parseInt(Se[5],10);at=at>=0&&at<=59?at:0;let st=parseInt(Se[6],10);st=st>=0&&st<=59?st:0;const Fe=Se[7]||"Z";let ct=parseInt(Se[8],10);ct=ct>=0&&ct<=23?ct:0;let dt=parseInt(Se[9],10)||0;return dt=dt>=0&&dt<=59?dt:0,Fe==="-"?(et+=ct,at+=dt):Fe==="+"&&(et-=ct,at-=dt),new Date(Date.UTC(Ce,Be,ze,et,at,st))}}i.PDFDateString=b;function ge(Ge,{scale:qe=1,rotation:Se=0}){const{width:Ce,height:Be}=Ge.attributes.style,ze=[0,0,parseInt(Ce),parseInt(Be)];return new q({viewBox:ze,scale:qe,rotation:Se})}function m(Ge){if(Ge.startsWith("#")){const qe=parseInt(Ge.slice(1),16);return[(qe&16711680)>>16,(qe&65280)>>8,qe&255]}return Ge.startsWith("rgb(")?Ge.slice(4,-1).split(",").map(qe=>parseInt(qe)):Ge.startsWith("rgba(")?Ge.slice(5,-1).split(",").map(qe=>parseInt(qe)).slice(0,3):((0,c.warn)(`Not a valid color format: "${Ge}"`),[0,0,0])}function ue(Ge){const qe=document.createElement("span");qe.style.visibility="hidden",document.body.append(qe);for(const Se of Ge.keys()){qe.style.color=Se;const Ce=window.getComputedStyle(qe).color;Ge.set(Se,m(Ce))}qe.remove()}function be(Ge){const{a:qe,b:Se,c:Ce,d:Be,e:ze,f:et}=Ge.getTransform();return[qe,Se,Ce,Be,ze,et]}function je(Ge){const{a:qe,b:Se,c:Ce,d:Be,e:ze,f:et}=Ge.getTransform().invertSelf();return[qe,Se,Ce,Be,ze,et]}function Oe(Ge,qe,Se=!1,Ce=!0){if(qe instanceof q){const{pageWidth:Be,pageHeight:ze}=qe.rawDims,{style:et}=Ge,at=c.FeatureTest.isCSSRoundSupported,st=`var(--scale-factor) * ${Be}px`,Fe=`var(--scale-factor) * ${ze}px`,ct=at?`round(${st}, 1px)`:`calc(${st})`,dt=at?`round(${Fe}, 1px)`:`calc(${Fe})`;!Se||qe.rotation%180===0?(et.width=ct,et.height=dt):(et.width=dt,et.height=ct)}Ce&&Ge.setAttribute("data-main-rotation",qe.rotation)}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=a(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,he){return"none"}addHighlightHCMFilter(g,he,_e,q){return"none"}destroy(g=!1){}}i.BaseFilterFactory=c;class d{constructor(){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,he){if(g<=0||he<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas(g,he);return{canvas:_e,context:_e.getContext("2d")}}reset(g,he,_e){if(!g.canvas)throw new Error("Canvas is not specified");if(he<=0||_e<=0)throw new Error("Invalid canvas size");g.canvas.width=he,g.canvas.height=_e}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,he){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=d;class h{constructor({baseUrl:g=null,isCompressed:he=!0}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=he}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const he=this.baseUrl+g+(this.isCompressed?".bcmap":""),_e=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(he,_e).catch(q=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${he}`)})}_fetchData(g,he){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=h;class _{constructor({baseUrl:g=null}){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const he=`${this.baseUrl}${g}`;return this._fetchData(he).catch(_e=>{throw new Error(`Unable to load font data at: ${he}`)})}_fetchData(g){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=_;class ne{constructor(){this.constructor===ne&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,he,_e=!1){if(g<=0||he<=0)throw new Error("Invalid SVG dimensions");const q=this._createSVG("svg:svg");return q.setAttribute("version","1.1"),_e||(q.setAttribute("width",`${g}px`),q.setAttribute("height",`${he}px`)),q.setAttribute("preserveAspectRatio","none"),q.setAttribute("viewBox",`0 0 ${g} ${he}`),q}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=ne},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=a(1);const c=3285377520,d=4294901760,h=65535;class _{constructor(f){this.h1=f?f&4294967295:c,this.h2=f?f&4294967295:c}update(f){let g,he;if(typeof f=="string"){g=new Uint8Array(f.length*2),he=0;for(let se=0,te=f.length;se<te;se++){const b=f.charCodeAt(se);b<=255?g[he++]=b:(g[he++]=b>>>8,g[he++]=b&255)}}else if((0,o.isArrayBuffer)(f))g=f.slice(),he=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=he>>2,q=he-_e*4,re=new Uint32Array(g.buffer,0,_e);let ve=0,ie=0,ee=this.h1,ce=this.h2;const fe=3432918353,ae=461845907,$=fe&h,oe=ae&h;for(let se=0;se<_e;se++)se&1?(ve=re[se],ve=ve*fe&d|ve*$&h,ve=ve<<15|ve>>>17,ve=ve*ae&d|ve*oe&h,ee^=ve,ee=ee<<13|ee>>>19,ee=ee*5+3864292196):(ie=re[se],ie=ie*fe&d|ie*$&h,ie=ie<<15|ie>>>17,ie=ie*ae&d|ie*oe&h,ce^=ie,ce=ce<<13|ce>>>19,ce=ce*5+3864292196);switch(ve=0,q){case 3:ve^=g[_e*4+2]<<16;case 2:ve^=g[_e*4+1]<<8;case 1:ve^=g[_e*4],ve=ve*fe&d|ve*$&h,ve=ve<<15|ve>>>17,ve=ve*ae&d|ve*oe&h,_e&1?ee^=ve:ce^=ve}this.h1=ee,this.h2=ce}hexdigest(){let f=this.h1,g=this.h2;return f^=g>>>1,f=f*3981806797&d|f*36045&h,g=g*4283543511&d|((g<<16|f>>>16)*2950163797&d)>>>16,f^=g>>>1,f=f*444984403&d|f*60499&h,g=g*3301882366&d|((g<<16|f>>>16)*3120437893&d)>>>16,f^=g>>>1,(f>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=_},(e,i,a)=>{var h;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=a(1);class c{constructor({ownerDocument:ne=globalThis.document,styleElement:f=null}){We(this,h,new Set);this._document=ne,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ne){this.nativeFontFaces.add(ne),this._document.fonts.add(ne)}removeNativeFontFace(ne){this.nativeFontFaces.delete(ne),this._document.fonts.delete(ne)}insertRule(ne){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const f=this.styleElement.sheet;f.insertRule(ne,f.cssRules.length)}clear(){for(const ne of this.nativeFontFaces)this._document.fonts.delete(ne);this.nativeFontFaces.clear(),j(this,h).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ne){if(!(!ne||j(this,h).has(ne.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:f,src:g,style:he}=ne,_e=new FontFace(f,g,he);this.addNativeFontFace(_e);try{await _e.load(),j(this,h).add(f)}catch{(0,o.warn)(`Cannot load system font: ${ne.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ne){if(ne.attached||ne.missingFile&&!ne.systemFontInfo)return;if(ne.attached=!0,ne.systemFontInfo){await this.loadSystemFont(ne.systemFontInfo);return}if(this.isFontLoadingAPISupported){const g=ne.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(he){throw(0,o.warn)(`Failed to load font '${g.family}': '${he}'.`),ne.disableFontFace=!0,he}}return}const f=ne.createFontFaceRule();if(f){if(this.insertRule(f),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const he=this._queueLoadingCallback(g);this._prepareFontLoadEvent(ne,he)})}}get isFontLoadingAPISupported(){var f;const ne=!!((f=this._document)!=null&&f.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",ne)}get isSyncFontLoadingSupported(){let ne=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ne=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",ne)}_queueLoadingCallback(ne){function f(){for((0,o.assert)(!he.done,"completeRequest() cannot be called twice."),he.done=!0;g.length>0&&g[0].done;){const _e=g.shift();setTimeout(_e.callback,0)}}const{loadingRequests:g}=this,he={done:!1,complete:f,callback:ne};return g.push(he),he}get _loadTestFont(){const ne=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",ne)}_prepareFontLoadEvent(ne,f){function g(m,ue){return m.charCodeAt(ue)<<24|m.charCodeAt(ue+1)<<16|m.charCodeAt(ue+2)<<8|m.charCodeAt(ue+3)&255}function he(m,ue,be,je){const Oe=m.substring(0,ue),Le=m.substring(ue+be);return Oe+je+Le}let _e,q;const re=this._document.createElement("canvas");re.width=1,re.height=1;const ve=re.getContext("2d");let ie=0;function ee(m,ue){if(++ie>30){(0,o.warn)("Load test font never loaded."),ue();return}if(ve.font="30px "+m,ve.fillText(".",0,20),ve.getImageData(0,0,1,1).data[3]>0){ue();return}setTimeout(ee.bind(null,m,ue))}const ce=`lt${Date.now()}${this.loadTestFontId++}`;let fe=this._loadTestFont;fe=he(fe,976,ce.length,ce);const $=16,oe=1482184792;let se=g(fe,$);for(_e=0,q=ce.length-3;_e<q;_e+=4)se=se-oe+g(ce,_e)|0;_e<ce.length&&(se=se-oe+g(ce+"XXX",_e)|0),fe=he(fe,$,4,(0,o.string32)(se));const te=`url(data:font/opentype;base64,${btoa(fe)});`,b=`@font-face {font-family:"${ce}";src:${te}}`;this.insertRule(b);const ge=this._document.createElement("div");ge.style.visibility="hidden",ge.style.width=ge.style.height="10px",ge.style.position="absolute",ge.style.top=ge.style.left="0px";for(const m of[ne.loadedName,ce]){const ue=this._document.createElement("span");ue.textContent="Hi",ue.style.fontFamily=m,ge.append(ue)}this._document.body.append(ge),ee(ce,()=>{ge.remove(),f.complete()})}}h=new WeakMap,i.FontLoader=c;class d{constructor(ne,{isEvalSupported:f=!0,disableFontFace:g=!1,ignoreErrors:he=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const q in ne)this[q]=ne[q];this.isEvalSupported=f!==!1,this.disableFontFace=g===!0,this.ignoreErrors=he===!0,this._inspectFont=_e}createNativeFontFace(){var f;if(!this.data||this.disableFontFace)return null;let ne;if(!this.cssFontInfo)ne=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ne=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(f=this._inspectFont)==null||f.call(this,this),ne}createFontFaceRule(){var he;if(!this.data||this.disableFontFace)return null;const ne=(0,o.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(ne)});`;let g;if(!this.cssFontInfo)g=`@font-face {font-family:"${this.loadedName}";src:${f}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),g=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${f}}`}return(he=this._inspectFont)==null||he.call(this,this,f),g}getPathGenerator(ne,f){if(this.compiledGlyphs[f]!==void 0)return this.compiledGlyphs[f];let g;try{g=ne.get(this.loadedName+"_path_"+f)}catch(he){if(!this.ignoreErrors)throw he;return(0,o.warn)(`getPathGenerator - ignoring character: "${he}".`),this.compiledGlyphs[f]=function(_e,q){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const he=[];for(const _e of g){const q=_e.args!==void 0?_e.args.join(","):"";he.push("c.",_e.cmd,"(",q,`);
`)}return this.compiledGlyphs[f]=new Function("c","size",he.join(""))}return this.compiledGlyphs[f]=function(he,_e){for(const q of g)q.cmd==="scale"&&(q.args=[_e,-_e]),he[q.cmd].apply(he,q.args)}}}i.FontFaceObject=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=a(7);a(1);const c=function(f){return new Promise((g,he)=>{require$$5.readFile(f,(q,re)=>{if(q||!re){he(new Error(q));return}g(new Uint8Array(re))})})};class d extends o.BaseFilterFactory{}i.NodeFilterFactory=d;class h extends o.BaseCanvasFactory{_createCanvas(g,he){return require$$5.createCanvas(g,he)}}i.NodeCanvasFactory=h;class _ extends o.BaseCMapReaderFactory{_fetchData(g,he){return c(g).then(_e=>({cMapData:_e,compressionType:he}))}}i.NodeCMapReaderFactory=_;class ne extends o.BaseStandardFontDataFactory{_fetchData(g){return c(g)}}i.NodeStandardFontDataFactory=ne},(e,i,a)=>{var Ie,Mn,Dn;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=a(1),c=a(6),d=a(12),h=a(13);const _=16,ne=100,f=4096,g=15,he=10,_e=1e3,q=16;function re(Ee,le){if(Ee._removeMirroring)throw new Error("Context is already forwarding operations.");Ee.__originalSave=Ee.save,Ee.__originalRestore=Ee.restore,Ee.__originalRotate=Ee.rotate,Ee.__originalScale=Ee.scale,Ee.__originalTranslate=Ee.translate,Ee.__originalTransform=Ee.transform,Ee.__originalSetTransform=Ee.setTransform,Ee.__originalResetTransform=Ee.resetTransform,Ee.__originalClip=Ee.clip,Ee.__originalMoveTo=Ee.moveTo,Ee.__originalLineTo=Ee.lineTo,Ee.__originalBezierCurveTo=Ee.bezierCurveTo,Ee.__originalRect=Ee.rect,Ee.__originalClosePath=Ee.closePath,Ee.__originalBeginPath=Ee.beginPath,Ee._removeMirroring=()=>{Ee.save=Ee.__originalSave,Ee.restore=Ee.__originalRestore,Ee.rotate=Ee.__originalRotate,Ee.scale=Ee.__originalScale,Ee.translate=Ee.__originalTranslate,Ee.transform=Ee.__originalTransform,Ee.setTransform=Ee.__originalSetTransform,Ee.resetTransform=Ee.__originalResetTransform,Ee.clip=Ee.__originalClip,Ee.moveTo=Ee.__originalMoveTo,Ee.lineTo=Ee.__originalLineTo,Ee.bezierCurveTo=Ee.__originalBezierCurveTo,Ee.rect=Ee.__originalRect,Ee.closePath=Ee.__originalClosePath,Ee.beginPath=Ee.__originalBeginPath,delete Ee._removeMirroring},Ee.save=function(){le.save(),this.__originalSave()},Ee.restore=function(){le.restore(),this.__originalRestore()},Ee.translate=function(xe,Ae){le.translate(xe,Ae),this.__originalTranslate(xe,Ae)},Ee.scale=function(xe,Ae){le.scale(xe,Ae),this.__originalScale(xe,Ae)},Ee.transform=function(xe,Ae,we,$e,Me,Ne){le.transform(xe,Ae,we,$e,Me,Ne),this.__originalTransform(xe,Ae,we,$e,Me,Ne)},Ee.setTransform=function(xe,Ae,we,$e,Me,Ne){le.setTransform(xe,Ae,we,$e,Me,Ne),this.__originalSetTransform(xe,Ae,we,$e,Me,Ne)},Ee.resetTransform=function(){le.resetTransform(),this.__originalResetTransform()},Ee.rotate=function(xe){le.rotate(xe),this.__originalRotate(xe)},Ee.clip=function(xe){le.clip(xe),this.__originalClip(xe)},Ee.moveTo=function(de,xe){le.moveTo(de,xe),this.__originalMoveTo(de,xe)},Ee.lineTo=function(de,xe){le.lineTo(de,xe),this.__originalLineTo(de,xe)},Ee.bezierCurveTo=function(de,xe,Ae,we,$e,Me){le.bezierCurveTo(de,xe,Ae,we,$e,Me),this.__originalBezierCurveTo(de,xe,Ae,we,$e,Me)},Ee.rect=function(de,xe,Ae,we){le.rect(de,xe,Ae,we),this.__originalRect(de,xe,Ae,we)},Ee.closePath=function(){le.closePath(),this.__originalClosePath()},Ee.beginPath=function(){le.beginPath(),this.__originalBeginPath()}}class ve{constructor(le){this.canvasFactory=le,this.cache=Object.create(null)}getCanvas(le,de,xe){let Ae;return this.cache[le]!==void 0?(Ae=this.cache[le],this.canvasFactory.reset(Ae,de,xe)):(Ae=this.canvasFactory.create(de,xe),this.cache[le]=Ae),Ae}delete(le){delete this.cache[le]}clear(){for(const le in this.cache){const de=this.cache[le];this.canvasFactory.destroy(de),delete this.cache[le]}}}function ie(Ee,le,de,xe,Ae,we,$e,Me,Ne,Ve){const[Je,nt,Qe,tt,Ge,qe]=(0,c.getCurrentTransform)(Ee);if(nt===0&&Qe===0){const Be=$e*Je+Ge,ze=Math.round(Be),et=Me*tt+qe,at=Math.round(et),st=($e+Ne)*Je+Ge,Fe=Math.abs(Math.round(st)-ze)||1,ct=(Me+Ve)*tt+qe,dt=Math.abs(Math.round(ct)-at)||1;return Ee.setTransform(Math.sign(Je),0,0,Math.sign(tt),ze,at),Ee.drawImage(le,de,xe,Ae,we,0,0,Fe,dt),Ee.setTransform(Je,nt,Qe,tt,Ge,qe),[Fe,dt]}if(Je===0&&tt===0){const Be=Me*Qe+Ge,ze=Math.round(Be),et=$e*nt+qe,at=Math.round(et),st=(Me+Ve)*Qe+Ge,Fe=Math.abs(Math.round(st)-ze)||1,ct=($e+Ne)*nt+qe,dt=Math.abs(Math.round(ct)-at)||1;return Ee.setTransform(0,Math.sign(nt),Math.sign(Qe),0,ze,at),Ee.drawImage(le,de,xe,Ae,we,0,0,dt,Fe),Ee.setTransform(Je,nt,Qe,tt,Ge,qe),[dt,Fe]}Ee.drawImage(le,de,xe,Ae,we,$e,Me,Ne,Ve);const Se=Math.hypot(Je,nt),Ce=Math.hypot(Qe,tt);return[Se*Ne,Ce*Ve]}function ee(Ee){const{width:le,height:de}=Ee;if(le>_e||de>_e)return null;const xe=1e3,Ae=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),we=le+1;let $e=new Uint8Array(we*(de+1)),Me,Ne,Ve;const Je=le+7&-8;let nt=new Uint8Array(Je*de),Qe=0;for(const Ce of Ee.data){let Be=128;for(;Be>0;)nt[Qe++]=Ce&Be?0:255,Be>>=1}let tt=0;for(Qe=0,nt[Qe]!==0&&($e[0]=1,++tt),Ne=1;Ne<le;Ne++)nt[Qe]!==nt[Qe+1]&&($e[Ne]=nt[Qe]?2:1,++tt),Qe++;for(nt[Qe]!==0&&($e[Ne]=2,++tt),Me=1;Me<de;Me++){Qe=Me*Je,Ve=Me*we,nt[Qe-Je]!==nt[Qe]&&($e[Ve]=nt[Qe]?1:8,++tt);let Ce=(nt[Qe]?4:0)+(nt[Qe-Je]?8:0);for(Ne=1;Ne<le;Ne++)Ce=(Ce>>2)+(nt[Qe+1]?4:0)+(nt[Qe-Je+1]?8:0),Ae[Ce]&&($e[Ve+Ne]=Ae[Ce],++tt),Qe++;if(nt[Qe-Je]!==nt[Qe]&&($e[Ve+Ne]=nt[Qe]?2:4,++tt),tt>xe)return null}for(Qe=Je*(de-1),Ve=Me*we,nt[Qe]!==0&&($e[Ve]=8,++tt),Ne=1;Ne<le;Ne++)nt[Qe]!==nt[Qe+1]&&($e[Ve+Ne]=nt[Qe]?4:8,++tt),Qe++;if(nt[Qe]!==0&&($e[Ve+Ne]=4,++tt),tt>xe)return null;const Ge=new Int32Array([0,we,-1,0,-we,0,0,0,1]),qe=new Path2D;for(Me=0;tt&&Me<=de;Me++){let Ce=Me*we;const Be=Ce+le;for(;Ce<Be&&!$e[Ce];)Ce++;if(Ce===Be)continue;qe.moveTo(Ce%we,Me);const ze=Ce;let et=$e[Ce];do{const at=Ge[et];do Ce+=at;while(!$e[Ce]);const st=$e[Ce];st!==5&&st!==10?(et=st,$e[Ce]=0):(et=st&51*et>>4,$e[Ce]&=et>>2|et<<2),qe.lineTo(Ce%we,Ce/we|0),$e[Ce]||--tt}while(ze!==Ce);--Me}return nt=null,$e=null,function(Ce){Ce.save(),Ce.scale(1/le,-1/de),Ce.translate(0,-de),Ce.fill(qe),Ce.beginPath(),Ce.restore()}}class ce{constructor(le,de){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,le,de])}clone(){const le=Object.create(this);return le.clipBox=this.clipBox.slice(),le}setCurrentPoint(le,de){this.x=le,this.y=de}updatePathMinMax(le,de,xe){[de,xe]=o.Util.applyTransform([de,xe],le),this.minX=Math.min(this.minX,de),this.minY=Math.min(this.minY,xe),this.maxX=Math.max(this.maxX,de),this.maxY=Math.max(this.maxY,xe)}updateRectMinMax(le,de){const xe=o.Util.applyTransform(de,le),Ae=o.Util.applyTransform(de.slice(2),le);this.minX=Math.min(this.minX,xe[0],Ae[0]),this.minY=Math.min(this.minY,xe[1],Ae[1]),this.maxX=Math.max(this.maxX,xe[0],Ae[0]),this.maxY=Math.max(this.maxY,xe[1],Ae[1])}updateScalingPathMinMax(le,de){o.Util.scaleMinMax(le,de),this.minX=Math.min(this.minX,de[0]),this.maxX=Math.max(this.maxX,de[1]),this.minY=Math.min(this.minY,de[2]),this.maxY=Math.max(this.maxY,de[3])}updateCurvePathMinMax(le,de,xe,Ae,we,$e,Me,Ne,Ve,Je){const nt=o.Util.bezierBoundingBox(de,xe,Ae,we,$e,Me,Ne,Ve);if(Je){Je[0]=Math.min(Je[0],nt[0],nt[2]),Je[1]=Math.max(Je[1],nt[0],nt[2]),Je[2]=Math.min(Je[2],nt[1],nt[3]),Je[3]=Math.max(Je[3],nt[1],nt[3]);return}this.updateRectMinMax(le,nt)}getPathBoundingBox(le=d.PathType.FILL,de=null){const xe=[this.minX,this.minY,this.maxX,this.maxY];if(le===d.PathType.STROKE){de||(0,o.unreachable)("Stroke bounding box must include transform.");const Ae=o.Util.singularValueDecompose2dScale(de),we=Ae[0]*this.lineWidth/2,$e=Ae[1]*this.lineWidth/2;xe[0]-=we,xe[1]-=$e,xe[2]+=we,xe[3]+=$e}return xe}updateClipFromPath(){const le=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(le||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(le){this.clipBox=le,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(le=d.PathType.FILL,de=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(le,de))}}function fe(Ee,le){if(typeof ImageData<"u"&&le instanceof ImageData){Ee.putImageData(le,0,0);return}const de=le.height,xe=le.width,Ae=de%q,we=(de-Ae)/q,$e=Ae===0?we:we+1,Me=Ee.createImageData(xe,q);let Ne=0,Ve;const Je=le.data,nt=Me.data;let Qe,tt,Ge,qe;if(le.kind===o.ImageKind.GRAYSCALE_1BPP){const Se=Je.byteLength,Ce=new Uint32Array(nt.buffer,0,nt.byteLength>>2),Be=Ce.length,ze=xe+7>>3,et=4294967295,at=o.FeatureTest.isLittleEndian?4278190080:255;for(Qe=0;Qe<$e;Qe++){for(Ge=Qe<we?q:Ae,Ve=0,tt=0;tt<Ge;tt++){const st=Se-Ne;let Fe=0;const ct=st>ze?xe:st*8-7,dt=ct&-8;let Pt=0,At=0;for(;Fe<dt;Fe+=8)At=Je[Ne++],Ce[Ve++]=At&128?et:at,Ce[Ve++]=At&64?et:at,Ce[Ve++]=At&32?et:at,Ce[Ve++]=At&16?et:at,Ce[Ve++]=At&8?et:at,Ce[Ve++]=At&4?et:at,Ce[Ve++]=At&2?et:at,Ce[Ve++]=At&1?et:at;for(;Fe<ct;Fe++)Pt===0&&(At=Je[Ne++],Pt=128),Ce[Ve++]=At&Pt?et:at,Pt>>=1}for(;Ve<Be;)Ce[Ve++]=0;Ee.putImageData(Me,0,Qe*q)}}else if(le.kind===o.ImageKind.RGBA_32BPP){for(tt=0,qe=xe*q*4,Qe=0;Qe<we;Qe++)nt.set(Je.subarray(Ne,Ne+qe)),Ne+=qe,Ee.putImageData(Me,0,tt),tt+=q;Qe<$e&&(qe=xe*Ae*4,nt.set(Je.subarray(Ne,Ne+qe)),Ee.putImageData(Me,0,tt))}else if(le.kind===o.ImageKind.RGB_24BPP)for(Ge=q,qe=xe*Ge,Qe=0;Qe<$e;Qe++){for(Qe>=we&&(Ge=Ae,qe=xe*Ge),Ve=0,tt=qe;tt--;)nt[Ve++]=Je[Ne++],nt[Ve++]=Je[Ne++],nt[Ve++]=Je[Ne++],nt[Ve++]=255;Ee.putImageData(Me,0,Qe*q)}else throw new Error(`bad image kind: ${le.kind}`)}function ae(Ee,le){if(le.bitmap){Ee.drawImage(le.bitmap,0,0);return}const de=le.height,xe=le.width,Ae=de%q,we=(de-Ae)/q,$e=Ae===0?we:we+1,Me=Ee.createImageData(xe,q);let Ne=0;const Ve=le.data,Je=Me.data;for(let nt=0;nt<$e;nt++){const Qe=nt<we?q:Ae;({srcPos:Ne}=(0,h.convertBlackAndWhiteToRGBA)({src:Ve,srcPos:Ne,dest:Je,width:xe,height:Qe,nonBlackColor:0})),Ee.putImageData(Me,0,nt*q)}}function $(Ee,le){const de=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const xe of de)Ee[xe]!==void 0&&(le[xe]=Ee[xe]);Ee.setLineDash!==void 0&&(le.setLineDash(Ee.getLineDash()),le.lineDashOffset=Ee.lineDashOffset)}function oe(Ee){if(Ee.strokeStyle=Ee.fillStyle="#000000",Ee.fillRule="nonzero",Ee.globalAlpha=1,Ee.lineWidth=1,Ee.lineCap="butt",Ee.lineJoin="miter",Ee.miterLimit=10,Ee.globalCompositeOperation="source-over",Ee.font="10px sans-serif",Ee.setLineDash!==void 0&&(Ee.setLineDash([]),Ee.lineDashOffset=0),!o.isNodeJS){const{filter:le}=Ee;le!=="none"&&le!==""&&(Ee.filter="none")}}function se(Ee,le,de,xe){const Ae=Ee.length;for(let we=3;we<Ae;we+=4){const $e=Ee[we];if($e===0)Ee[we-3]=le,Ee[we-2]=de,Ee[we-1]=xe;else if($e<255){const Me=255-$e;Ee[we-3]=Ee[we-3]*$e+le*Me>>8,Ee[we-2]=Ee[we-2]*$e+de*Me>>8,Ee[we-1]=Ee[we-1]*$e+xe*Me>>8}}}function te(Ee,le,de){const xe=Ee.length,Ae=1/255;for(let we=3;we<xe;we+=4){const $e=de?de[Ee[we]]:Ee[we];le[we]=le[we]*$e*Ae|0}}function b(Ee,le,de){const xe=Ee.length;for(let Ae=3;Ae<xe;Ae+=4){const we=Ee[Ae-3]*77+Ee[Ae-2]*152+Ee[Ae-1]*28;le[Ae]=de?le[Ae]*de[we>>8]>>8:le[Ae]*we>>16}}function ge(Ee,le,de,xe,Ae,we,$e,Me,Ne,Ve,Je){const nt=!!we,Qe=nt?we[0]:0,tt=nt?we[1]:0,Ge=nt?we[2]:0,qe=Ae==="Luminosity"?b:te,Ce=Math.min(xe,Math.ceil(1048576/de));for(let Be=0;Be<xe;Be+=Ce){const ze=Math.min(Ce,xe-Be),et=Ee.getImageData(Me-Ve,Be+(Ne-Je),de,ze),at=le.getImageData(Me,Be+Ne,de,ze);nt&&se(et.data,Qe,tt,Ge),qe(et.data,at.data,$e),le.putImageData(at,Me,Be+Ne)}}function m(Ee,le,de,xe){const Ae=xe[0],we=xe[1],$e=xe[2]-Ae,Me=xe[3]-we;$e===0||Me===0||(ge(le.context,de,$e,Me,le.subtype,le.backdrop,le.transferMap,Ae,we,le.offsetX,le.offsetY),Ee.save(),Ee.globalAlpha=1,Ee.globalCompositeOperation="source-over",Ee.setTransform(1,0,0,1,0,0),Ee.drawImage(de.canvas,0,0),Ee.restore())}function ue(Ee,le){const de=o.Util.singularValueDecompose2dScale(Ee);de[0]=Math.fround(de[0]),de[1]=Math.fround(de[1]);const xe=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return le!==void 0?le:de[0]<=xe||de[1]<=xe}const be=["butt","round","square"],je=["miter","round","bevel"],Oe={},Le={},ke=class ke{constructor(le,de,xe,Ae,we,{optionalContentConfig:$e,markedContentStack:Me=null},Ne,Ve){We(this,Ie);this.ctx=le,this.current=new ce(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=de,this.objs=xe,this.canvasFactory=Ae,this.filterFactory=we,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Me||[],this.optionalContentConfig=$e,this.cachedCanvases=new ve(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ne,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ve,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(le,de=null){return typeof le=="string"?le.startsWith("g_")?this.commonObjs.get(le):this.objs.get(le):de}beginDrawing({transform:le,viewport:de,transparency:xe=!1,background:Ae=null}){const we=this.ctx.canvas.width,$e=this.ctx.canvas.height,Me=this.ctx.fillStyle;if(this.ctx.fillStyle=Ae||"#ffffff",this.ctx.fillRect(0,0,we,$e),this.ctx.fillStyle=Me,xe){const Ne=this.cachedCanvases.getCanvas("transparent",we,$e);this.compositeCtx=this.ctx,this.transparentCanvas=Ne.canvas,this.ctx=Ne.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),oe(this.ctx),le&&(this.ctx.transform(...le),this.outputScaleX=le[0],this.outputScaleY=le[0]),this.ctx.transform(...de.transform),this.viewportScale=de.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(le,de,xe,Ae){const we=le.argsArray,$e=le.fnArray;let Me=de||0;const Ne=we.length;if(Ne===Me)return Me;const Ve=Ne-Me>he&&typeof xe=="function",Je=Ve?Date.now()+g:0;let nt=0;const Qe=this.commonObjs,tt=this.objs;let Ge;for(;;){if(Ae!==void 0&&Me===Ae.nextBreakPoint)return Ae.breakIt(Me,xe),Me;if(Ge=$e[Me],Ge!==o.OPS.dependency)this[Ge].apply(this,we[Me]);else for(const qe of we[Me]){const Se=qe.startsWith("g_")?Qe:tt;if(!Se.has(qe))return Se.get(qe,xe),Me}if(Me++,Me===Ne)return Me;if(Ve&&++nt>he){if(Date.now()>Je)return xe(),Me;nt=0}}}endDrawing(){He(this,Ie,Mn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const le of this._cachedBitmapsMap.values()){for(const de of le.values())typeof HTMLCanvasElement<"u"&&de instanceof HTMLCanvasElement&&(de.width=de.height=0);le.clear()}this._cachedBitmapsMap.clear(),He(this,Ie,Dn).call(this)}_scaleImage(le,de){const xe=le.width,Ae=le.height;let we=Math.max(Math.hypot(de[0],de[1]),1),$e=Math.max(Math.hypot(de[2],de[3]),1),Me=xe,Ne=Ae,Ve="prescale1",Je,nt;for(;we>2&&Me>1||$e>2&&Ne>1;){let Qe=Me,tt=Ne;we>2&&Me>1&&(Qe=Me>=16384?Math.floor(Me/2)-1||1:Math.ceil(Me/2),we/=Me/Qe),$e>2&&Ne>1&&(tt=Ne>=16384?Math.floor(Ne/2)-1||1:Math.ceil(Ne)/2,$e/=Ne/tt),Je=this.cachedCanvases.getCanvas(Ve,Qe,tt),nt=Je.context,nt.clearRect(0,0,Qe,tt),nt.drawImage(le,0,0,Me,Ne,0,0,Qe,tt),le=Je.canvas,Me=Qe,Ne=tt,Ve=Ve==="prescale1"?"prescale2":"prescale1"}return{img:le,paintWidth:Me,paintHeight:Ne}}_createMaskCanvas(le){const de=this.ctx,{width:xe,height:Ae}=le,we=this.current.fillColor,$e=this.current.patternFill,Me=(0,c.getCurrentTransform)(de);let Ne,Ve,Je,nt;if((le.bitmap||le.data)&&le.count>1){const Fe=le.bitmap||le.data.buffer;Ve=JSON.stringify($e?Me:[Me.slice(0,4),we]),Ne=this._cachedBitmapsMap.get(Fe),Ne||(Ne=new Map,this._cachedBitmapsMap.set(Fe,Ne));const ct=Ne.get(Ve);if(ct&&!$e){const dt=Math.round(Math.min(Me[0],Me[2])+Me[4]),Pt=Math.round(Math.min(Me[1],Me[3])+Me[5]);return{canvas:ct,offsetX:dt,offsetY:Pt}}Je=ct}Je||(nt=this.cachedCanvases.getCanvas("maskCanvas",xe,Ae),ae(nt.context,le));let Qe=o.Util.transform(Me,[1/xe,0,0,-1/Ae,0,0]);Qe=o.Util.transform(Qe,[1,0,0,1,0,-Ae]);const tt=o.Util.applyTransform([0,0],Qe),Ge=o.Util.applyTransform([xe,Ae],Qe),qe=o.Util.normalizeRect([tt[0],tt[1],Ge[0],Ge[1]]),Se=Math.round(qe[2]-qe[0])||1,Ce=Math.round(qe[3]-qe[1])||1,Be=this.cachedCanvases.getCanvas("fillCanvas",Se,Ce),ze=Be.context,et=Math.min(tt[0],Ge[0]),at=Math.min(tt[1],Ge[1]);ze.translate(-et,-at),ze.transform(...Qe),Je||(Je=this._scaleImage(nt.canvas,(0,c.getCurrentTransformInverse)(ze)),Je=Je.img,Ne&&$e&&Ne.set(Ve,Je)),ze.imageSmoothingEnabled=ue((0,c.getCurrentTransform)(ze),le.interpolate),ie(ze,Je,0,0,Je.width,Je.height,0,0,xe,Ae),ze.globalCompositeOperation="source-in";const st=o.Util.transform((0,c.getCurrentTransformInverse)(ze),[1,0,0,1,-et,-at]);return ze.fillStyle=$e?we.getPattern(de,this,st,d.PathType.FILL):we,ze.fillRect(0,0,xe,Ae),Ne&&!$e&&(this.cachedCanvases.delete("fillCanvas"),Ne.set(Ve,Be.canvas)),{canvas:Be.canvas,offsetX:Math.round(et),offsetY:Math.round(at)}}setLineWidth(le){le!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=le,this.ctx.lineWidth=le}setLineCap(le){this.ctx.lineCap=be[le]}setLineJoin(le){this.ctx.lineJoin=je[le]}setMiterLimit(le){this.ctx.miterLimit=le}setDash(le,de){const xe=this.ctx;xe.setLineDash!==void 0&&(xe.setLineDash(le),xe.lineDashOffset=de)}setRenderingIntent(le){}setFlatness(le){}setGState(le){for(const[de,xe]of le)switch(de){case"LW":this.setLineWidth(xe);break;case"LC":this.setLineCap(xe);break;case"LJ":this.setLineJoin(xe);break;case"ML":this.setMiterLimit(xe);break;case"D":this.setDash(xe[0],xe[1]);break;case"RI":this.setRenderingIntent(xe);break;case"FL":this.setFlatness(xe);break;case"Font":this.setFont(xe[0],xe[1]);break;case"CA":this.current.strokeAlpha=xe;break;case"ca":this.current.fillAlpha=xe,this.ctx.globalAlpha=xe;break;case"BM":this.ctx.globalCompositeOperation=xe;break;case"SMask":this.current.activeSMask=xe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(xe);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const le=this.inSMaskMode;this.current.activeSMask&&!le?this.beginSMaskMode():!this.current.activeSMask&&le&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const le=this.ctx.canvas.width,de=this.ctx.canvas.height,xe="smaskGroupAt"+this.groupLevel,Ae=this.cachedCanvases.getCanvas(xe,le,de);this.suspendedCtx=this.ctx,this.ctx=Ae.context;const we=this.ctx;we.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),$(this.suspendedCtx,we),re(we,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(le){if(!this.current.activeSMask)return;le?(le[0]=Math.floor(le[0]),le[1]=Math.floor(le[1]),le[2]=Math.ceil(le[2]),le[3]=Math.ceil(le[3])):le=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const de=this.current.activeSMask,xe=this.suspendedCtx;m(xe,de,this.ctx,le),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?($(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const le=this.current;this.stateStack.push(le),this.current=le.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(le,de,xe,Ae,we,$e){this.ctx.transform(le,de,xe,Ae,we,$e),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(le,de,xe){const Ae=this.ctx,we=this.current;let $e=we.x,Me=we.y,Ne,Ve;const Je=(0,c.getCurrentTransform)(Ae),nt=Je[0]===0&&Je[3]===0||Je[1]===0&&Je[2]===0,Qe=nt?xe.slice(0):null;for(let tt=0,Ge=0,qe=le.length;tt<qe;tt++)switch(le[tt]|0){case o.OPS.rectangle:$e=de[Ge++],Me=de[Ge++];const Se=de[Ge++],Ce=de[Ge++],Be=$e+Se,ze=Me+Ce;Ae.moveTo($e,Me),Se===0||Ce===0?Ae.lineTo(Be,ze):(Ae.lineTo(Be,Me),Ae.lineTo(Be,ze),Ae.lineTo($e,ze)),nt||we.updateRectMinMax(Je,[$e,Me,Be,ze]),Ae.closePath();break;case o.OPS.moveTo:$e=de[Ge++],Me=de[Ge++],Ae.moveTo($e,Me),nt||we.updatePathMinMax(Je,$e,Me);break;case o.OPS.lineTo:$e=de[Ge++],Me=de[Ge++],Ae.lineTo($e,Me),nt||we.updatePathMinMax(Je,$e,Me);break;case o.OPS.curveTo:Ne=$e,Ve=Me,$e=de[Ge+4],Me=de[Ge+5],Ae.bezierCurveTo(de[Ge],de[Ge+1],de[Ge+2],de[Ge+3],$e,Me),we.updateCurvePathMinMax(Je,Ne,Ve,de[Ge],de[Ge+1],de[Ge+2],de[Ge+3],$e,Me,Qe),Ge+=6;break;case o.OPS.curveTo2:Ne=$e,Ve=Me,Ae.bezierCurveTo($e,Me,de[Ge],de[Ge+1],de[Ge+2],de[Ge+3]),we.updateCurvePathMinMax(Je,Ne,Ve,$e,Me,de[Ge],de[Ge+1],de[Ge+2],de[Ge+3],Qe),$e=de[Ge+2],Me=de[Ge+3],Ge+=4;break;case o.OPS.curveTo3:Ne=$e,Ve=Me,$e=de[Ge+2],Me=de[Ge+3],Ae.bezierCurveTo(de[Ge],de[Ge+1],$e,Me,$e,Me),we.updateCurvePathMinMax(Je,Ne,Ve,de[Ge],de[Ge+1],$e,Me,$e,Me,Qe),Ge+=4;break;case o.OPS.closePath:Ae.closePath();break}nt&&we.updateScalingPathMinMax(Je,Qe),we.setCurrentPoint($e,Me)}closePath(){this.ctx.closePath()}stroke(le=!0){const de=this.ctx,xe=this.current.strokeColor;de.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof xe=="object"&&(xe!=null&&xe.getPattern)?(de.save(),de.strokeStyle=xe.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),d.PathType.STROKE),this.rescaleAndStroke(!1),de.restore()):this.rescaleAndStroke(!0)),le&&this.consumePath(this.current.getClippedPathBoundingBox()),de.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(le=!0){const de=this.ctx,xe=this.current.fillColor,Ae=this.current.patternFill;let we=!1;Ae&&(de.save(),de.fillStyle=xe.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),d.PathType.FILL),we=!0);const $e=this.current.getClippedPathBoundingBox();this.contentVisible&&$e!==null&&(this.pendingEOFill?(de.fill("evenodd"),this.pendingEOFill=!1):de.fill()),we&&de.restore(),le&&this.consumePath($e)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Oe}eoClip(){this.pendingClip=Le}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const le=this.pendingTextPaths,de=this.ctx;if(le===void 0){de.beginPath();return}de.save(),de.beginPath();for(const xe of le)de.setTransform(...xe.transform),de.translate(xe.x,xe.y),xe.addToPath(de,xe.fontSize);de.restore(),de.clip(),de.beginPath(),delete this.pendingTextPaths}setCharSpacing(le){this.current.charSpacing=le}setWordSpacing(le){this.current.wordSpacing=le}setHScale(le){this.current.textHScale=le/100}setLeading(le){this.current.leading=-le}setFont(le,de){var Je;const xe=this.commonObjs.get(le),Ae=this.current;if(!xe)throw new Error(`Can't find font for ${le}`);if(Ae.fontMatrix=xe.fontMatrix||o.FONT_IDENTITY_MATRIX,(Ae.fontMatrix[0]===0||Ae.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+le),de<0?(de=-de,Ae.fontDirection=-1):Ae.fontDirection=1,this.current.font=xe,this.current.fontSize=de,xe.isType3Font)return;const we=xe.loadedName||"sans-serif",$e=((Je=xe.systemFontInfo)==null?void 0:Je.css)||`"${we}", ${xe.fallbackName}`;let Me="normal";xe.black?Me="900":xe.bold&&(Me="bold");const Ne=xe.italic?"italic":"normal";let Ve=de;de<_?Ve=_:de>ne&&(Ve=ne),this.current.fontSizeScale=de/Ve,this.ctx.font=`${Ne} ${Me} ${Ve}px ${$e}`}setTextRenderingMode(le){this.current.textRenderingMode=le}setTextRise(le){this.current.textRise=le}moveText(le,de){this.current.x=this.current.lineX+=le,this.current.y=this.current.lineY+=de}setLeadingMoveText(le,de){this.setLeading(-de),this.moveText(le,de)}setTextMatrix(le,de,xe,Ae,we,$e){this.current.textMatrix=[le,de,xe,Ae,we,$e],this.current.textMatrixScale=Math.hypot(le,de),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(le,de,xe,Ae){const we=this.ctx,$e=this.current,Me=$e.font,Ne=$e.textRenderingMode,Ve=$e.fontSize/$e.fontSizeScale,Je=Ne&o.TextRenderingMode.FILL_STROKE_MASK,nt=!!(Ne&o.TextRenderingMode.ADD_TO_PATH_FLAG),Qe=$e.patternFill&&!Me.missingFile;let tt;(Me.disableFontFace||nt||Qe)&&(tt=Me.getPathGenerator(this.commonObjs,le)),Me.disableFontFace||Qe?(we.save(),we.translate(de,xe),we.beginPath(),tt(we,Ve),Ae&&we.setTransform(...Ae),(Je===o.TextRenderingMode.FILL||Je===o.TextRenderingMode.FILL_STROKE)&&we.fill(),(Je===o.TextRenderingMode.STROKE||Je===o.TextRenderingMode.FILL_STROKE)&&we.stroke(),we.restore()):((Je===o.TextRenderingMode.FILL||Je===o.TextRenderingMode.FILL_STROKE)&&we.fillText(le,de,xe),(Je===o.TextRenderingMode.STROKE||Je===o.TextRenderingMode.FILL_STROKE)&&we.strokeText(le,de,xe)),nt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(we),x:de,y:xe,fontSize:Ve,addToPath:tt})}get isFontSubpixelAAEnabled(){const{context:le}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);le.scale(1.5,1),le.fillText("I",0,10);const de=le.getImageData(0,0,10,10).data;let xe=!1;for(let Ae=3;Ae<de.length;Ae+=4)if(de[Ae]>0&&de[Ae]<255){xe=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",xe)}showText(le){const de=this.current,xe=de.font;if(xe.isType3Font)return this.showType3Text(le);const Ae=de.fontSize;if(Ae===0)return;const we=this.ctx,$e=de.fontSizeScale,Me=de.charSpacing,Ne=de.wordSpacing,Ve=de.fontDirection,Je=de.textHScale*Ve,nt=le.length,Qe=xe.vertical,tt=Qe?1:-1,Ge=xe.defaultVMetrics,qe=Ae*de.fontMatrix[0],Se=de.textRenderingMode===o.TextRenderingMode.FILL&&!xe.disableFontFace&&!de.patternFill;we.save(),we.transform(...de.textMatrix),we.translate(de.x,de.y+de.textRise),Ve>0?we.scale(Je,-1):we.scale(Je,1);let Ce;if(de.patternFill){we.save();const st=de.fillColor.getPattern(we,this,(0,c.getCurrentTransformInverse)(we),d.PathType.FILL);Ce=(0,c.getCurrentTransform)(we),we.restore(),we.fillStyle=st}let Be=de.lineWidth;const ze=de.textMatrixScale;if(ze===0||Be===0){const st=de.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(st===o.TextRenderingMode.STROKE||st===o.TextRenderingMode.FILL_STROKE)&&(Be=this.getSinglePixelWidth())}else Be/=ze;if($e!==1&&(we.scale($e,$e),Be/=$e),we.lineWidth=Be,xe.isInvalidPDFjsFont){const st=[];let Fe=0;for(const ct of le)st.push(ct.unicode),Fe+=ct.width;we.fillText(st.join(""),0,0),de.x+=Fe*qe*Je,we.restore(),this.compose();return}let et=0,at;for(at=0;at<nt;++at){const st=le[at];if(typeof st=="number"){et+=tt*st*Ae/1e3;continue}let Fe=!1;const ct=(st.isSpace?Ne:0)+Me,dt=st.fontChar,Pt=st.accent;let At,Ct,mt=st.width;if(Qe){const Tt=st.vmetric||Ge,kt=-(st.vmetric?Tt[1]:mt*.5)*qe,lt=Tt[2]*qe;mt=Tt?-Tt[0]:mt,At=kt/$e,Ct=(et+lt)/$e}else At=et/$e,Ct=0;if(xe.remeasure&&mt>0){const Tt=we.measureText(dt).width*1e3/Ae*$e;if(mt<Tt&&this.isFontSubpixelAAEnabled){const kt=mt/Tt;Fe=!0,we.save(),we.scale(kt,1),At/=kt}else mt!==Tt&&(At+=(mt-Tt)/2e3*Ae/$e)}if(this.contentVisible&&(st.isInFont||xe.missingFile)){if(Se&&!Pt)we.fillText(dt,At,Ct);else if(this.paintChar(dt,At,Ct,Ce),Pt){const Tt=At+Ae*Pt.offset.x/$e,kt=Ct-Ae*Pt.offset.y/$e;this.paintChar(Pt.fontChar,Tt,kt,Ce)}}const gt=Qe?mt*qe-ct*Ve:mt*qe+ct*Ve;et+=gt,Fe&&we.restore()}Qe?de.y-=et:de.x+=et*Je,we.restore(),this.compose()}showType3Text(le){const de=this.ctx,xe=this.current,Ae=xe.font,we=xe.fontSize,$e=xe.fontDirection,Me=Ae.vertical?1:-1,Ne=xe.charSpacing,Ve=xe.wordSpacing,Je=xe.textHScale*$e,nt=xe.fontMatrix||o.FONT_IDENTITY_MATRIX,Qe=le.length,tt=xe.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Ge,qe,Se,Ce;if(!(tt||we===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,de.save(),de.transform(...xe.textMatrix),de.translate(xe.x,xe.y),de.scale(Je,$e),Ge=0;Ge<Qe;++Ge){if(qe=le[Ge],typeof qe=="number"){Ce=Me*qe*we/1e3,this.ctx.translate(Ce,0),xe.x+=Ce*Je;continue}const Be=(qe.isSpace?Ve:0)+Ne,ze=Ae.charProcOperatorList[qe.operatorListId];if(!ze){(0,o.warn)(`Type3 character "${qe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=qe,this.save(),de.scale(we,we),de.transform(...nt),this.executeOperatorList(ze),this.restore()),Se=o.Util.applyTransform([qe.width,0],nt)[0]*we+Be,de.translate(Se,0),xe.x+=Se*Je}de.restore(),this.processingType3=null}}setCharWidth(le,de){}setCharWidthAndBounds(le,de,xe,Ae,we,$e){this.ctx.rect(xe,Ae,we-xe,$e-Ae),this.ctx.clip(),this.endPath()}getColorN_Pattern(le){let de;if(le[0]==="TilingPattern"){const xe=le[1],Ae=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),we={createCanvasGraphics:$e=>new ke($e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};de=new d.TilingPattern(le,xe,this.ctx,we,Ae)}else de=this._getPattern(le[1],le[2]);return de}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(le,de,xe){const Ae=o.Util.makeHexColor(le,de,xe);this.ctx.strokeStyle=Ae,this.current.strokeColor=Ae}setFillRGBColor(le,de,xe){const Ae=o.Util.makeHexColor(le,de,xe);this.ctx.fillStyle=Ae,this.current.fillColor=Ae,this.current.patternFill=!1}_getPattern(le,de=null){let xe;return this.cachedPatterns.has(le)?xe=this.cachedPatterns.get(le):(xe=(0,d.getShadingPattern)(this.getObject(le)),this.cachedPatterns.set(le,xe)),de&&(xe.matrix=de),xe}shadingFill(le){if(!this.contentVisible)return;const de=this.ctx;this.save();const xe=this._getPattern(le);de.fillStyle=xe.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),d.PathType.SHADING);const Ae=(0,c.getCurrentTransformInverse)(de);if(Ae){const{width:we,height:$e}=de.canvas,[Me,Ne,Ve,Je]=o.Util.getAxialAlignedBoundingBox([0,0,we,$e],Ae);this.ctx.fillRect(Me,Ne,Ve-Me,Je-Ne)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(le,de){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(le)&&le.length===6&&this.transform(...le),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),de)){const xe=de[2]-de[0],Ae=de[3]-de[1];this.ctx.rect(de[0],de[1],xe,Ae),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),de),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(le){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const de=this.ctx;le.isolated||(0,o.info)("TODO: Support non-isolated groups."),le.knockout&&(0,o.warn)("Knockout groups not supported.");const xe=(0,c.getCurrentTransform)(de);if(le.matrix&&de.transform(...le.matrix),!le.bbox)throw new Error("Bounding box is required.");let Ae=o.Util.getAxialAlignedBoundingBox(le.bbox,(0,c.getCurrentTransform)(de));const we=[0,0,de.canvas.width,de.canvas.height];Ae=o.Util.intersect(Ae,we)||[0,0,0,0];const $e=Math.floor(Ae[0]),Me=Math.floor(Ae[1]);let Ne=Math.max(Math.ceil(Ae[2])-$e,1),Ve=Math.max(Math.ceil(Ae[3])-Me,1),Je=1,nt=1;Ne>f&&(Je=Ne/f,Ne=f),Ve>f&&(nt=Ve/f,Ve=f),this.current.startNewPathAndClipBox([0,0,Ne,Ve]);let Qe="groupAt"+this.groupLevel;le.smask&&(Qe+="_smask_"+this.smaskCounter++%2);const tt=this.cachedCanvases.getCanvas(Qe,Ne,Ve),Ge=tt.context;Ge.scale(1/Je,1/nt),Ge.translate(-$e,-Me),Ge.transform(...xe),le.smask?this.smaskStack.push({canvas:tt.canvas,context:Ge,offsetX:$e,offsetY:Me,scaleX:Je,scaleY:nt,subtype:le.smask.subtype,backdrop:le.smask.backdrop,transferMap:le.smask.transferMap||null,startTransformInverse:null}):(de.setTransform(1,0,0,1,0,0),de.translate($e,Me),de.scale(Je,nt),de.save()),$(de,Ge),this.ctx=Ge,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(de),this.groupLevel++}endGroup(le){if(!this.contentVisible)return;this.groupLevel--;const de=this.ctx,xe=this.groupStack.pop();if(this.ctx=xe,this.ctx.imageSmoothingEnabled=!1,le.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ae=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ae);const we=o.Util.getAxialAlignedBoundingBox([0,0,de.canvas.width,de.canvas.height],Ae);this.ctx.drawImage(de.canvas,0,0),this.ctx.restore(),this.compose(we)}}beginAnnotation(le,de,xe,Ae,we){if(He(this,Ie,Mn).call(this),oe(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(de)&&de.length===4){const $e=de[2]-de[0],Me=de[3]-de[1];if(we&&this.annotationCanvasMap){xe=xe.slice(),xe[4]-=de[0],xe[5]-=de[1],de=de.slice(),de[0]=de[1]=0,de[2]=$e,de[3]=Me;const[Ne,Ve]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:Je}=this,nt=Math.ceil($e*this.outputScaleX*Je),Qe=Math.ceil(Me*this.outputScaleY*Je);this.annotationCanvas=this.canvasFactory.create(nt,Qe);const{canvas:tt,context:Ge}=this.annotationCanvas;this.annotationCanvasMap.set(le,tt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ge,this.ctx.save(),this.ctx.setTransform(Ne,0,0,-Ve,0,Me*Ve),oe(this.ctx)}else oe(this.ctx),this.ctx.rect(de[0],de[1],$e,Me),this.ctx.clip(),this.endPath()}this.current=new ce(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...xe),this.transform(...Ae)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),He(this,Ie,Dn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(le){if(!this.contentVisible)return;const de=le.count;le=this.getObject(le.data,le),le.count=de;const xe=this.ctx,Ae=this.processingType3;if(Ae&&(Ae.compiled===void 0&&(Ae.compiled=ee(le)),Ae.compiled)){Ae.compiled(xe);return}const we=this._createMaskCanvas(le),$e=we.canvas;xe.save(),xe.setTransform(1,0,0,1,0,0),xe.drawImage($e,we.offsetX,we.offsetY),xe.restore(),this.compose()}paintImageMaskXObjectRepeat(le,de,xe=0,Ae=0,we,$e){if(!this.contentVisible)return;le=this.getObject(le.data,le);const Me=this.ctx;Me.save();const Ne=(0,c.getCurrentTransform)(Me);Me.transform(de,xe,Ae,we,0,0);const Ve=this._createMaskCanvas(le);Me.setTransform(1,0,0,1,Ve.offsetX-Ne[4],Ve.offsetY-Ne[5]);for(let Je=0,nt=$e.length;Je<nt;Je+=2){const Qe=o.Util.transform(Ne,[de,xe,Ae,we,$e[Je],$e[Je+1]]),[tt,Ge]=o.Util.applyTransform([0,0],Qe);Me.drawImage(Ve.canvas,tt,Ge)}Me.restore(),this.compose()}paintImageMaskXObjectGroup(le){if(!this.contentVisible)return;const de=this.ctx,xe=this.current.fillColor,Ae=this.current.patternFill;for(const we of le){const{data:$e,width:Me,height:Ne,transform:Ve}=we,Je=this.cachedCanvases.getCanvas("maskCanvas",Me,Ne),nt=Je.context;nt.save();const Qe=this.getObject($e,we);ae(nt,Qe),nt.globalCompositeOperation="source-in",nt.fillStyle=Ae?xe.getPattern(nt,this,(0,c.getCurrentTransformInverse)(de),d.PathType.FILL):xe,nt.fillRect(0,0,Me,Ne),nt.restore(),de.save(),de.transform(...Ve),de.scale(1,-1),ie(de,Je.canvas,0,0,Me,Ne,0,-1,1,1),de.restore()}this.compose()}paintImageXObject(le){if(!this.contentVisible)return;const de=this.getObject(le);if(!de){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(de)}paintImageXObjectRepeat(le,de,xe,Ae){if(!this.contentVisible)return;const we=this.getObject(le);if(!we){(0,o.warn)("Dependent image isn't ready yet");return}const $e=we.width,Me=we.height,Ne=[];for(let Ve=0,Je=Ae.length;Ve<Je;Ve+=2)Ne.push({transform:[de,0,0,xe,Ae[Ve],Ae[Ve+1]],x:0,y:0,w:$e,h:Me});this.paintInlineImageXObjectGroup(we,Ne)}applyTransferMapsToCanvas(le){return this.current.transferMaps!=="none"&&(le.filter=this.current.transferMaps,le.drawImage(le.canvas,0,0),le.filter="none"),le.canvas}applyTransferMapsToBitmap(le){if(this.current.transferMaps==="none")return le.bitmap;const{bitmap:de,width:xe,height:Ae}=le,we=this.cachedCanvases.getCanvas("inlineImage",xe,Ae),$e=we.context;return $e.filter=this.current.transferMaps,$e.drawImage(de,0,0),$e.filter="none",we.canvas}paintInlineImageXObject(le){if(!this.contentVisible)return;const de=le.width,xe=le.height,Ae=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Me}=Ae;Me!=="none"&&Me!==""&&(Ae.filter="none")}Ae.scale(1/de,-1/xe);let we;if(le.bitmap)we=this.applyTransferMapsToBitmap(le);else if(typeof HTMLElement=="function"&&le instanceof HTMLElement||!le.data)we=le;else{const Ne=this.cachedCanvases.getCanvas("inlineImage",de,xe).context;fe(Ne,le),we=this.applyTransferMapsToCanvas(Ne)}const $e=this._scaleImage(we,(0,c.getCurrentTransformInverse)(Ae));Ae.imageSmoothingEnabled=ue((0,c.getCurrentTransform)(Ae),le.interpolate),ie(Ae,$e.img,0,0,$e.paintWidth,$e.paintHeight,0,-xe,de,xe),this.compose(),this.restore()}paintInlineImageXObjectGroup(le,de){if(!this.contentVisible)return;const xe=this.ctx;let Ae;if(le.bitmap)Ae=le.bitmap;else{const we=le.width,$e=le.height,Ne=this.cachedCanvases.getCanvas("inlineImage",we,$e).context;fe(Ne,le),Ae=this.applyTransferMapsToCanvas(Ne)}for(const we of de)xe.save(),xe.transform(...we.transform),xe.scale(1,-1),ie(xe,Ae,we.x,we.y,we.w,we.h,0,-1,1,1),xe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(le){}markPointProps(le,de){}beginMarkedContent(le){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(le,de){le==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(de)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(le){const de=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(le);const xe=this.ctx;this.pendingClip&&(de||(this.pendingClip===Le?xe.clip("evenodd"):xe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),xe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const le=(0,c.getCurrentTransform)(this.ctx);if(le[1]===0&&le[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(le[0]),Math.abs(le[3]));else{const de=Math.abs(le[0]*le[3]-le[2]*le[1]),xe=Math.hypot(le[0],le[2]),Ae=Math.hypot(le[1],le[3]);this._cachedGetSinglePixelWidth=Math.max(xe,Ae)/de}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:le}=this.current,{a:de,b:xe,c:Ae,d:we}=this.ctx.getTransform();let $e,Me;if(xe===0&&Ae===0){const Ne=Math.abs(de),Ve=Math.abs(we);if(Ne===Ve)if(le===0)$e=Me=1/Ne;else{const Je=Ne*le;$e=Me=Je<1?1/Je:1}else if(le===0)$e=1/Ne,Me=1/Ve;else{const Je=Ne*le,nt=Ve*le;$e=Je<1?1/Je:1,Me=nt<1?1/nt:1}}else{const Ne=Math.abs(de*we-xe*Ae),Ve=Math.hypot(de,xe),Je=Math.hypot(Ae,we);if(le===0)$e=Je/Ne,Me=Ve/Ne;else{const nt=le*Ne;$e=Je>nt?Je/nt:1,Me=Ve>nt?Ve/nt:1}}this._cachedScaleForStroking[0]=$e,this._cachedScaleForStroking[1]=Me}return this._cachedScaleForStroking}rescaleAndStroke(le){const{ctx:de}=this,{lineWidth:xe}=this.current,[Ae,we]=this.getScaleForStroking();if(de.lineWidth=xe||1,Ae===1&&we===1){de.stroke();return}const $e=de.getLineDash();if(le&&de.save(),de.scale(Ae,we),$e.length>0){const Me=Math.max(Ae,we);de.setLineDash($e.map(Ne=>Ne/Me)),de.lineDashOffset/=Me}de.stroke(),le&&de.restore()}isContentVisible(){for(let le=this.markedContentStack.length-1;le>=0;le--)if(!this.markedContentStack[le].visible)return!1;return!0}};Ie=new WeakSet,Mn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Dn=function(){if(this.pageColors){const le=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(le!=="none"){const de=this.ctx.filter;this.ctx.filter=le,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=de}}};let me=ke;i.CanvasGraphics=me;for(const Ee in o.OPS)me.prototype[Ee]!==void 0&&(me.prototype[o.OPS[Ee]]=me.prototype[Ee])},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=q;var o=a(1),c=a(6);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=d;function h(ee,ce){if(!ce)return;const fe=ce[2]-ce[0],ae=ce[3]-ce[1],$=new Path2D;$.rect(ce[0],ce[1],fe,ae),ee.clip($)}class _{constructor(){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class ne extends _{constructor(ce){super(),this._type=ce[1],this._bbox=ce[2],this._colorStops=ce[3],this._p0=ce[4],this._p1=ce[5],this._r0=ce[6],this._r1=ce[7],this.matrix=null}_createGradient(ce){let fe;this._type==="axial"?fe=ce.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(fe=ce.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ae of this._colorStops)fe.addColorStop(ae[0],ae[1]);return fe}getPattern(ce,fe,ae,$){let oe;if($===d.STROKE||$===d.FILL){const se=fe.current.getClippedPathBoundingBox($,(0,c.getCurrentTransform)(ce))||[0,0,0,0],te=Math.ceil(se[2]-se[0])||1,b=Math.ceil(se[3]-se[1])||1,ge=fe.cachedCanvases.getCanvas("pattern",te,b,!0),m=ge.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-se[0],-se[1]),ae=o.Util.transform(ae,[1,0,0,1,se[0],se[1]]),m.transform(...fe.baseTransform),this.matrix&&m.transform(...this.matrix),h(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),oe=ce.createPattern(ge.canvas,"no-repeat");const ue=new DOMMatrix(ae);oe.setTransform(ue)}else h(ce,this._bbox),oe=this._createGradient(ce);return oe}}function f(ee,ce,fe,ae,$,oe,se,te){const b=ce.coords,ge=ce.colors,m=ee.data,ue=ee.width*4;let be;b[fe+1]>b[ae+1]&&(be=fe,fe=ae,ae=be,be=oe,oe=se,se=be),b[ae+1]>b[$+1]&&(be=ae,ae=$,$=be,be=se,se=te,te=be),b[fe+1]>b[ae+1]&&(be=fe,fe=ae,ae=be,be=oe,oe=se,se=be);const je=(b[fe]+ce.offsetX)*ce.scaleX,Oe=(b[fe+1]+ce.offsetY)*ce.scaleY,Le=(b[ae]+ce.offsetX)*ce.scaleX,me=(b[ae+1]+ce.offsetY)*ce.scaleY,Ie=(b[$]+ce.offsetX)*ce.scaleX,ye=(b[$+1]+ce.offsetY)*ce.scaleY;if(Oe>=ye)return;const Pe=ge[oe],ke=ge[oe+1],Ee=ge[oe+2],le=ge[se],de=ge[se+1],xe=ge[se+2],Ae=ge[te],we=ge[te+1],$e=ge[te+2],Me=Math.round(Oe),Ne=Math.round(ye);let Ve,Je,nt,Qe,tt,Ge,qe,Se;for(let Ce=Me;Ce<=Ne;Ce++){if(Ce<me){const st=Ce<Oe?0:(Oe-Ce)/(Oe-me);Ve=je-(je-Le)*st,Je=Pe-(Pe-le)*st,nt=ke-(ke-de)*st,Qe=Ee-(Ee-xe)*st}else{let st;Ce>ye?st=1:me===ye?st=0:st=(me-Ce)/(me-ye),Ve=Le-(Le-Ie)*st,Je=le-(le-Ae)*st,nt=de-(de-we)*st,Qe=xe-(xe-$e)*st}let Be;Ce<Oe?Be=0:Ce>ye?Be=1:Be=(Oe-Ce)/(Oe-ye),tt=je-(je-Ie)*Be,Ge=Pe-(Pe-Ae)*Be,qe=ke-(ke-we)*Be,Se=Ee-(Ee-$e)*Be;const ze=Math.round(Math.min(Ve,tt)),et=Math.round(Math.max(Ve,tt));let at=ue*Ce+ze*4;for(let st=ze;st<=et;st++)Be=(Ve-st)/(Ve-tt),Be<0?Be=0:Be>1&&(Be=1),m[at++]=Je-(Je-Ge)*Be|0,m[at++]=nt-(nt-qe)*Be|0,m[at++]=Qe-(Qe-Se)*Be|0,m[at++]=255}}function g(ee,ce,fe){const ae=ce.coords,$=ce.colors;let oe,se;switch(ce.type){case"lattice":const te=ce.verticesPerRow,b=Math.floor(ae.length/te)-1,ge=te-1;for(oe=0;oe<b;oe++){let m=oe*te;for(let ue=0;ue<ge;ue++,m++)f(ee,fe,ae[m],ae[m+1],ae[m+te],$[m],$[m+1],$[m+te]),f(ee,fe,ae[m+te+1],ae[m+1],ae[m+te],$[m+te+1],$[m+1],$[m+te])}break;case"triangles":for(oe=0,se=ae.length;oe<se;oe+=3)f(ee,fe,ae[oe],ae[oe+1],ae[oe+2],$[oe],$[oe+1],$[oe+2]);break;default:throw new Error("illegal figure")}}class he extends _{constructor(ce){super(),this._coords=ce[2],this._colors=ce[3],this._figures=ce[4],this._bounds=ce[5],this._bbox=ce[7],this._background=ce[8],this.matrix=null}_createMeshCanvas(ce,fe,ae){const te=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),ge=Math.ceil(this._bounds[2])-te,m=Math.ceil(this._bounds[3])-b,ue=Math.min(Math.ceil(Math.abs(ge*ce[0]*1.1)),3e3),be=Math.min(Math.ceil(Math.abs(m*ce[1]*1.1)),3e3),je=ge/ue,Oe=m/be,Le={coords:this._coords,colors:this._colors,offsetX:-te,offsetY:-b,scaleX:1/je,scaleY:1/Oe},me=ue+2*2,Ie=be+2*2,ye=ae.getCanvas("mesh",me,Ie,!1),Pe=ye.context,ke=Pe.createImageData(ue,be);if(fe){const le=ke.data;for(let de=0,xe=le.length;de<xe;de+=4)le[de]=fe[0],le[de+1]=fe[1],le[de+2]=fe[2],le[de+3]=255}for(const le of this._figures)g(ke,le,Le);return Pe.putImageData(ke,2,2),{canvas:ye.canvas,offsetX:te-2*je,offsetY:b-2*Oe,scaleX:je,scaleY:Oe}}getPattern(ce,fe,ae,$){h(ce,this._bbox);let oe;if($===d.SHADING)oe=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(ce));else if(oe=o.Util.singularValueDecompose2dScale(fe.baseTransform),this.matrix){const te=o.Util.singularValueDecompose2dScale(this.matrix);oe=[oe[0]*te[0],oe[1]*te[1]]}const se=this._createMeshCanvas(oe,$===d.SHADING?null:this._background,fe.cachedCanvases);return $!==d.SHADING&&(ce.setTransform(...fe.baseTransform),this.matrix&&ce.transform(...this.matrix)),ce.translate(se.offsetX,se.offsetY),ce.scale(se.scaleX,se.scaleY),ce.createPattern(se.canvas,"no-repeat")}}class _e extends _{getPattern(){return"hotpink"}}function q(ee){switch(ee[0]){case"RadialAxial":return new ne(ee);case"Mesh":return new he(ee);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${ee[0]}`)}const re={COLORED:1,UNCOLORED:2},ie=class ie{constructor(ce,fe,ae,$,oe){this.operatorList=ce[2],this.matrix=ce[3]||[1,0,0,1,0,0],this.bbox=ce[4],this.xstep=ce[5],this.ystep=ce[6],this.paintType=ce[7],this.tilingType=ce[8],this.color=fe,this.ctx=ae,this.canvasGraphicsFactory=$,this.baseTransform=oe}createPatternCanvas(ce){const fe=this.operatorList,ae=this.bbox,$=this.xstep,oe=this.ystep,se=this.paintType,te=this.tilingType,b=this.color,ge=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+te);const m=ae[0],ue=ae[1],be=ae[2],je=ae[3],Oe=o.Util.singularValueDecompose2dScale(this.matrix),Le=o.Util.singularValueDecompose2dScale(this.baseTransform),me=[Oe[0]*Le[0],Oe[1]*Le[1]],Ie=this.getSizeAndScale($,this.ctx.canvas.width,me[0]),ye=this.getSizeAndScale(oe,this.ctx.canvas.height,me[1]),Pe=ce.cachedCanvases.getCanvas("pattern",Ie.size,ye.size,!0),ke=Pe.context,Ee=ge.createCanvasGraphics(ke);Ee.groupLevel=ce.groupLevel,this.setFillAndStrokeStyleToContext(Ee,se,b);let le=m,de=ue,xe=be,Ae=je;return m<0&&(le=0,xe+=Math.abs(m)),ue<0&&(de=0,Ae+=Math.abs(ue)),ke.translate(-(Ie.scale*le),-(ye.scale*de)),Ee.transform(Ie.scale,0,0,ye.scale,0,0),ke.save(),this.clipBbox(Ee,le,de,xe,Ae),Ee.baseTransform=(0,c.getCurrentTransform)(Ee.ctx),Ee.executeOperatorList(fe),Ee.endDrawing(),{canvas:Pe.canvas,scaleX:Ie.scale,scaleY:ye.scale,offsetX:le,offsetY:de}}getSizeAndScale(ce,fe,ae){ce=Math.abs(ce);const $=Math.max(ie.MAX_PATTERN_SIZE,fe);let oe=Math.ceil(ce*ae);return oe>=$?oe=$:ae=oe/ce,{scale:ae,size:oe}}clipBbox(ce,fe,ae,$,oe){const se=$-fe,te=oe-ae;ce.ctx.rect(fe,ae,se,te),ce.current.updateRectMinMax((0,c.getCurrentTransform)(ce.ctx),[fe,ae,$,oe]),ce.clip(),ce.endPath()}setFillAndStrokeStyleToContext(ce,fe,ae){const $=ce.ctx,oe=ce.current;switch(fe){case re.COLORED:const se=this.ctx;$.fillStyle=se.fillStyle,$.strokeStyle=se.strokeStyle,oe.fillColor=se.fillStyle,oe.strokeColor=se.strokeStyle;break;case re.UNCOLORED:const te=o.Util.makeHexColor(ae[0],ae[1],ae[2]);$.fillStyle=te,$.strokeStyle=te,oe.fillColor=te,oe.strokeColor=te;break;default:throw new o.FormatError(`Unsupported paint type: ${fe}`)}}getPattern(ce,fe,ae,$){let oe=ae;$!==d.SHADING&&(oe=o.Util.transform(oe,fe.baseTransform),this.matrix&&(oe=o.Util.transform(oe,this.matrix)));const se=this.createPatternCanvas(fe);let te=new DOMMatrix(oe);te=te.translate(se.offsetX,se.offsetY),te=te.scale(1/se.scaleX,1/se.scaleY);const b=ce.createPattern(se.canvas,"repeat");return b.setTransform(te),b}};Ft(ie,"MAX_PATTERN_SIZE",3e3);let ve=ie;i.TilingPattern=ve},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=d,i.convertToRGBA=c,i.grayToRGBA=_;var o=a(1);function c(ne){switch(ne.kind){case o.ImageKind.GRAYSCALE_1BPP:return d(ne);case o.ImageKind.RGB_24BPP:return h(ne)}return null}function d({src:ne,srcPos:f=0,dest:g,width:he,height:_e,nonBlackColor:q=4294967295,inverseDecode:re=!1}){const ve=o.FeatureTest.isLittleEndian?4278190080:255,[ie,ee]=re?[q,ve]:[ve,q],ce=he>>3,fe=he&7,ae=ne.length;g=new Uint32Array(g.buffer);let $=0;for(let oe=0;oe<_e;oe++){for(const te=f+ce;f<te;f++){const b=f<ae?ne[f]:255;g[$++]=b&128?ee:ie,g[$++]=b&64?ee:ie,g[$++]=b&32?ee:ie,g[$++]=b&16?ee:ie,g[$++]=b&8?ee:ie,g[$++]=b&4?ee:ie,g[$++]=b&2?ee:ie,g[$++]=b&1?ee:ie}if(fe===0)continue;const se=f<ae?ne[f++]:255;for(let te=0;te<fe;te++)g[$++]=se&1<<7-te?ee:ie}return{srcPos:f,destPos:$}}function h({src:ne,srcPos:f=0,dest:g,destPos:he=0,width:_e,height:q}){let re=0;const ve=ne.length>>2,ie=new Uint32Array(ne.buffer,f,ve);if(o.FeatureTest.isLittleEndian){for(;re<ve-2;re+=3,he+=4){const ee=ie[re],ce=ie[re+1],fe=ie[re+2];g[he]=ee|4278190080,g[he+1]=ee>>>24|ce<<8|4278190080,g[he+2]=ce>>>16|fe<<16|4278190080,g[he+3]=fe>>>8|4278190080}for(let ee=re*4,ce=ne.length;ee<ce;ee+=3)g[he++]=ne[ee]|ne[ee+1]<<8|ne[ee+2]<<16|4278190080}else{for(;re<ve-2;re+=3,he+=4){const ee=ie[re],ce=ie[re+1],fe=ie[re+2];g[he]=ee|255,g[he+1]=ee<<24|ce>>>8|255,g[he+2]=ce<<16|fe>>>16|255,g[he+3]=fe<<8|255}for(let ee=re*4,ce=ne.length;ee<ce;ee+=3)g[he++]=ne[ee]<<24|ne[ee+1]<<16|ne[ee+2]<<8|255}return{srcPos:f,destPos:he}}function _(ne,f){if(o.FeatureTest.isLittleEndian)for(let g=0,he=ne.length;g<he;g++)f[g]=ne[g]*65793|4278190080;else for(let g=0,he=ne.length;g<he;g++)f[g]=ne[g]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const a=Object.create(null);i.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(e,i,a)=>{var ne,dr,hr,un;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=a(1);const c={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function h(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new o.AbortException(_e.message);case"MissingPDFException":return new o.MissingPDFException(_e.message);case"PasswordException":return new o.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new o.UnknownErrorException(_e.message,_e.details);default:return new o.UnknownErrorException(_e.message,_e.toString())}}class _{constructor(q,re,ve){We(this,ne);this.sourceName=q,this.targetName=re,this.comObj=ve,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ie=>{const ee=ie.data;if(ee.targetName!==this.sourceName)return;if(ee.stream){He(this,ne,hr).call(this,ee);return}if(ee.callback){const fe=ee.callbackId,ae=this.callbackCapabilities[fe];if(!ae)throw new Error(`Cannot resolve callback ${fe}`);if(delete this.callbackCapabilities[fe],ee.callback===c.DATA)ae.resolve(ee.data);else if(ee.callback===c.ERROR)ae.reject(h(ee.reason));else throw new Error("Unexpected callback case");return}const ce=this.actionHandler[ee.action];if(!ce)throw new Error(`Unknown action from worker: ${ee.action}`);if(ee.callbackId){const fe=this.sourceName,ae=ee.sourceName;new Promise(function($){$(ce(ee.data))}).then(function($){ve.postMessage({sourceName:fe,targetName:ae,callback:c.DATA,callbackId:ee.callbackId,data:$})},function($){ve.postMessage({sourceName:fe,targetName:ae,callback:c.ERROR,callbackId:ee.callbackId,reason:h($)})});return}if(ee.streamId){He(this,ne,dr).call(this,ee);return}ce(ee.data)},ve.addEventListener("message",this._onComObjOnMessage)}on(q,re){const ve=this.actionHandler;if(ve[q])throw new Error(`There is already an actionName called "${q}"`);ve[q]=re}send(q,re,ve){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:q,data:re},ve)}sendWithPromise(q,re,ve){const ie=this.callbackId++,ee=new o.PromiseCapability;this.callbackCapabilities[ie]=ee;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:q,callbackId:ie,data:re},ve)}catch(ce){ee.reject(ce)}return ee.promise}sendWithStream(q,re,ve,ie){const ee=this.streamId++,ce=this.sourceName,fe=this.targetName,ae=this.comObj;return new ReadableStream({start:$=>{const oe=new o.PromiseCapability;return this.streamControllers[ee]={controller:$,startCall:oe,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:ce,targetName:fe,action:q,streamId:ee,data:re,desiredSize:$.desiredSize},ie),oe.promise},pull:$=>{const oe=new o.PromiseCapability;return this.streamControllers[ee].pullCall=oe,ae.postMessage({sourceName:ce,targetName:fe,stream:d.PULL,streamId:ee,desiredSize:$.desiredSize}),oe.promise},cancel:$=>{(0,o.assert)($ instanceof Error,"cancel must have a valid reason");const oe=new o.PromiseCapability;return this.streamControllers[ee].cancelCall=oe,this.streamControllers[ee].isClosed=!0,ae.postMessage({sourceName:ce,targetName:fe,stream:d.CANCEL,streamId:ee,reason:h($)}),oe.promise}},ve)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ne=new WeakSet,dr=function(q){const re=q.streamId,ve=this.sourceName,ie=q.sourceName,ee=this.comObj,ce=this,fe=this.actionHandler[q.action],ae={enqueue($,oe=1,se){if(this.isCancelled)return;const te=this.desiredSize;this.desiredSize-=oe,te>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),ee.postMessage({sourceName:ve,targetName:ie,stream:d.ENQUEUE,streamId:re,chunk:$},se)},close(){this.isCancelled||(this.isCancelled=!0,ee.postMessage({sourceName:ve,targetName:ie,stream:d.CLOSE,streamId:re}),delete ce.streamSinks[re])},error($){(0,o.assert)($ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ee.postMessage({sourceName:ve,targetName:ie,stream:d.ERROR,streamId:re,reason:h($)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:q.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[re]=ae,new Promise(function($){$(fe(q.data,ae))}).then(function(){ee.postMessage({sourceName:ve,targetName:ie,stream:d.START_COMPLETE,streamId:re,success:!0})},function($){ee.postMessage({sourceName:ve,targetName:ie,stream:d.START_COMPLETE,streamId:re,reason:h($)})})},hr=function(q){const re=q.streamId,ve=this.sourceName,ie=q.sourceName,ee=this.comObj,ce=this.streamControllers[re],fe=this.streamSinks[re];switch(q.stream){case d.START_COMPLETE:q.success?ce.startCall.resolve():ce.startCall.reject(h(q.reason));break;case d.PULL_COMPLETE:q.success?ce.pullCall.resolve():ce.pullCall.reject(h(q.reason));break;case d.PULL:if(!fe){ee.postMessage({sourceName:ve,targetName:ie,stream:d.PULL_COMPLETE,streamId:re,success:!0});break}fe.desiredSize<=0&&q.desiredSize>0&&fe.sinkCapability.resolve(),fe.desiredSize=q.desiredSize,new Promise(function(ae){var $;ae(($=fe.onPull)==null?void 0:$.call(fe))}).then(function(){ee.postMessage({sourceName:ve,targetName:ie,stream:d.PULL_COMPLETE,streamId:re,success:!0})},function(ae){ee.postMessage({sourceName:ve,targetName:ie,stream:d.PULL_COMPLETE,streamId:re,reason:h(ae)})});break;case d.ENQUEUE:if((0,o.assert)(ce,"enqueue should have stream controller"),ce.isClosed)break;ce.controller.enqueue(q.chunk);break;case d.CLOSE:if((0,o.assert)(ce,"close should have stream controller"),ce.isClosed)break;ce.isClosed=!0,ce.controller.close(),He(this,ne,un).call(this,ce,re);break;case d.ERROR:(0,o.assert)(ce,"error should have stream controller"),ce.controller.error(h(q.reason)),He(this,ne,un).call(this,ce,re);break;case d.CANCEL_COMPLETE:q.success?ce.cancelCall.resolve():ce.cancelCall.reject(h(q.reason)),He(this,ne,un).call(this,ce,re);break;case d.CANCEL:if(!fe)break;new Promise(function(ae){var $;ae(($=fe.onCancel)==null?void 0:$.call(fe,h(q.reason)))}).then(function(){ee.postMessage({sourceName:ve,targetName:ie,stream:d.CANCEL_COMPLETE,streamId:re,success:!0})},function(ae){ee.postMessage({sourceName:ve,targetName:ie,stream:d.CANCEL_COMPLETE,streamId:re,reason:h(ae)})}),fe.sinkCapability.reject(h(q.reason)),fe.isCancelled=!0,delete this.streamSinks[re];break;default:throw new Error("Unexpected stream case")}},un=async function(q,re){var ve,ie,ee;await Promise.allSettled([(ve=q.startCall)==null?void 0:ve.promise,(ie=q.pullCall)==null?void 0:ie.promise,(ee=q.cancelCall)==null?void 0:ee.promise]),delete this.streamControllers[re]},i.MessageHandler=_},(e,i,a)=>{var d,h;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=a(1);class c{constructor({parsedData:ne,rawData:f}){We(this,d);We(this,h);Ye(this,d,ne),Ye(this,h,f)}getRaw(){return j(this,h)}get(ne){return j(this,d).get(ne)??null}getAll(){return(0,o.objectFromMap)(j(this,d))}has(ne){return j(this,d).has(ne)}}d=new WeakMap,h=new WeakMap,i.Metadata=c},(e,i,a)=>{var ne,f,g,he,_e,q,Fn;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=a(1),c=a(8);const d=Symbol("INTERNAL");class h{constructor(ie,ee){We(this,ne,!0);this.name=ie,this.intent=ee}get visible(){return j(this,ne)}_setVisible(ie,ee){ie!==d&&(0,o.unreachable)("Internal method `_setVisible` called."),Ye(this,ne,ee)}}ne=new WeakMap;class _{constructor(ie){We(this,q);We(this,f,null);We(this,g,new Map);We(this,he,null);We(this,_e,null);if(this.name=null,this.creator=null,ie!==null){this.name=ie.name,this.creator=ie.creator,Ye(this,_e,ie.order);for(const ee of ie.groups)j(this,g).set(ee.id,new h(ee.name,ee.intent));if(ie.baseState==="OFF")for(const ee of j(this,g).values())ee._setVisible(d,!1);for(const ee of ie.on)j(this,g).get(ee)._setVisible(d,!0);for(const ee of ie.off)j(this,g).get(ee)._setVisible(d,!1);Ye(this,he,this.getHash())}}isVisible(ie){if(j(this,g).size===0)return!0;if(!ie)return(0,o.warn)("Optional content group not defined."),!0;if(ie.type==="OCG")return j(this,g).has(ie.id)?j(this,g).get(ie.id).visible:((0,o.warn)(`Optional content group not found: ${ie.id}`),!0);if(ie.type==="OCMD"){if(ie.expression)return He(this,q,Fn).call(this,ie.expression);if(!ie.policy||ie.policy==="AnyOn"){for(const ee of ie.ids){if(!j(this,g).has(ee))return(0,o.warn)(`Optional content group not found: ${ee}`),!0;if(j(this,g).get(ee).visible)return!0}return!1}else if(ie.policy==="AllOn"){for(const ee of ie.ids){if(!j(this,g).has(ee))return(0,o.warn)(`Optional content group not found: ${ee}`),!0;if(!j(this,g).get(ee).visible)return!1}return!0}else if(ie.policy==="AnyOff"){for(const ee of ie.ids){if(!j(this,g).has(ee))return(0,o.warn)(`Optional content group not found: ${ee}`),!0;if(!j(this,g).get(ee).visible)return!0}return!1}else if(ie.policy==="AllOff"){for(const ee of ie.ids){if(!j(this,g).has(ee))return(0,o.warn)(`Optional content group not found: ${ee}`),!0;if(j(this,g).get(ee).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${ie.policy}.`),!0}return(0,o.warn)(`Unknown group type ${ie.type}.`),!0}setVisibility(ie,ee=!0){if(!j(this,g).has(ie)){(0,o.warn)(`Optional content group not found: ${ie}`);return}j(this,g).get(ie)._setVisible(d,!!ee),Ye(this,f,null)}get hasInitialVisibility(){return j(this,he)===null||this.getHash()===j(this,he)}getOrder(){return j(this,g).size?j(this,_e)?j(this,_e).slice():[...j(this,g).keys()]:null}getGroups(){return j(this,g).size>0?(0,o.objectFromMap)(j(this,g)):null}getGroup(ie){return j(this,g).get(ie)||null}getHash(){if(j(this,f)!==null)return j(this,f);const ie=new c.MurmurHash3_64;for(const[ee,ce]of j(this,g))ie.update(`${ee}:${ce.visible}`);return Ye(this,f,ie.hexdigest())}}f=new WeakMap,g=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakSet,Fn=function(ie){const ee=ie.length;if(ee<2)return!0;const ce=ie[0];for(let fe=1;fe<ee;fe++){const ae=ie[fe];let $;if(Array.isArray(ae))$=He(this,q,Fn).call(this,ae);else if(j(this,g).has(ae))$=j(this,g).get(ae).visible;else return(0,o.warn)(`Optional content group not found: ${ae}`),!0;switch(ce){case"And":if(!$)return!1;break;case"Or":if($)return!0;break;case"Not":return!$;default:return!0}}return ce==="And"},i.OptionalContentConfig=_},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=a(1),c=a(6);class d{constructor({length:f,initialData:g,progressiveDone:he=!1,contentDispositionFilename:_e=null,disableRange:q=!1,disableStream:re=!1},ve){if((0,o.assert)(ve,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=he,this._contentDispositionFilename=_e,(g==null?void 0:g.length)>0){const ie=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(ie)}this._pdfDataRangeTransport=ve,this._isStreamingSupported=!re,this._isRangeSupported=!q,this._contentLength=f,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ie,ee)=>{this._onReceiveData({begin:ie,chunk:ee})}),this._pdfDataRangeTransport.addProgressListener((ie,ee)=>{this._onProgress({loaded:ie,total:ee})}),this._pdfDataRangeTransport.addProgressiveReadListener(ie=>{this._onReceiveData({chunk:ie})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:f,chunk:g}){const he=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(f===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(he):this._queuedChunks.push(he);else{const _e=this._rangeReaders.some(function(q){return q._begin!==f?!1:(q._enqueue(he),!0)});(0,o.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var f;return((f=this._fullRequestReader)==null?void 0:f._loaded)??0}_onProgress(f){var g,he,_e,q;f.total===void 0?(he=(g=this._rangeReaders[0])==null?void 0:g.onProgress)==null||he.call(g,{loaded:f.loaded}):(q=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||q.call(_e,{loaded:f.loaded,total:f.total})}_onProgressiveDone(){var f;(f=this._fullRequestReader)==null||f.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const g=this._rangeReaders.indexOf(f);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new h(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,g){if(g<=this._progressiveDataLength)return null;const he=new _(this,f,g);return this._pdfDataRangeTransport.requestDataRange(f,g),this._rangeReaders.push(he),he}cancelAllRequests(f){var g;(g=this._fullRequestReader)==null||g.cancel(f);for(const he of this._rangeReaders.slice(0))he.cancel(f);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=d;class h{constructor(f,g,he=!1,_e=null){this._stream=f,this._done=he||!1,this._filename=(0,c.isPdfFile)(_e)?_e:null,this._queuedChunks=g||[],this._loaded=0;for(const q of this._queuedChunks)this._loaded+=q.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=new o.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _{constructor(f,g,he){this._stream=f,this._begin=g,this._end=he,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(this._requests.length===0)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const f=new o.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=a(1),c=a(20);function d(he,_e,q){return{method:"GET",headers:he,signal:q.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function h(he){const _e=new Headers;for(const q in he){const re=he[q];re!==void 0&&_e.append(q,re)}return _e}function _(he){return he instanceof Uint8Array?he.buffer:he instanceof ArrayBuffer?he:((0,o.warn)(`getArrayBuffer - unexpected data format: ${he}`),new Uint8Array(he).buffer)}class ne{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(_e,q){if(q<=this._progressiveDataLength)return null;const re=new g(this,_e,q);return this._rangeRequestReaders.push(re),re}cancelAllRequests(_e){var q;(q=this._fullRequestReader)==null||q.cancel(_e);for(const re of this._rangeRequestReaders.slice(0))re.cancel(_e)}}i.PDFFetchStream=ne;class f{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const q=_e.source;this._withCredentials=q.withCredentials||!1,this._contentLength=q.length,this._headersCapability=new o.PromiseCapability,this._disableRange=q.disableRange||!1,this._rangeChunkSize=q.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!q.disableStream,this._isRangeSupported=!q.disableRange,this._headers=h(this._stream.httpHeaders);const re=q.url;fetch(re,d(this._headers,this._withCredentials,this._abortController)).then(ve=>{if(!(0,c.validateResponseStatus)(ve.status))throw(0,c.createResponseStatusError)(ve.status,re);this._reader=ve.body.getReader(),this._headersCapability.resolve();const ie=fe=>ve.headers.get(fe),{allowRangeRequests:ee,suggestedLength:ce}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:ie,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ee,this._contentLength=ce||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(ie),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:_e,done:q}=await this._reader.read();return q?{value:_e,done:q}:(this._loaded+=_e.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_(_e),done:!1})}cancel(_e){var q;(q=this._reader)==null||q.cancel(_e),this._abortController.abort()}}class g{constructor(_e,q,re){this._stream=_e,this._reader=null,this._loaded=0;const ve=_e.source;this._withCredentials=ve.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!ve.disableStream,this._abortController=new AbortController,this._headers=h(this._stream.httpHeaders),this._headers.append("Range",`bytes=${q}-${re-1}`);const ie=ve.url;fetch(ie,d(this._headers,this._withCredentials,this._abortController)).then(ee=>{if(!(0,c.validateResponseStatus)(ee.status))throw(0,c.createResponseStatusError)(ee.status,ie);this._readCapability.resolve(),this._reader=ee.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:_e,done:q}=await this._reader.read();return q?{value:_e,done:q}:(this._loaded+=_e.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:_(_e),done:!1})}cancel(_e){var q;(q=this._reader)==null||q.cancel(_e),this._abortController.abort()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=ne,i.extractFilenameFromHeader=_,i.validateRangeRequestCapabilities=h,i.validateResponseStatus=f;var o=a(1),c=a(21),d=a(6);function h({getResponseHeader:g,isHttp:he,rangeChunkSize:_e,disableRange:q}){const re={allowRangeRequests:!1,suggestedLength:void 0},ve=parseInt(g("Content-Length"),10);return!Number.isInteger(ve)||(re.suggestedLength=ve,ve<=2*_e)||q||!he||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function _(g){const he=g("Content-Disposition");if(he){let _e=(0,c.getFilenameFromContentDispositionHeader)(he);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,d.isPdfFile)(_e))return _e}return null}function ne(g,he){return g===404||g===0&&he.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+he+'".'):new o.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${he}".`,g)}function f(g){return g===200||g===206}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var o=a(1);function c(d){let h=!0,_=ne("filename\\*","i").exec(d);if(_){_=_[1];let ve=_e(_);return ve=unescape(ve),ve=q(ve),ve=re(ve),g(ve)}if(_=he(d),_){const ve=re(_);return g(ve)}if(_=ne("filename","i").exec(d),_){_=_[1];let ve=_e(_);return ve=re(ve),g(ve)}function ne(ve,ie){return new RegExp("(?:^|;)\\s*"+ve+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ie)}function f(ve,ie){if(ve){if(!/^[\x00-\xFF]+$/.test(ie))return ie;try{const ee=new TextDecoder(ve,{fatal:!0}),ce=(0,o.stringToBytes)(ie);ie=ee.decode(ce),h=!1}catch{}}return ie}function g(ve){return h&&/[\x80-\xff]/.test(ve)&&(ve=f("utf-8",ve),h&&(ve=f("iso-8859-1",ve))),ve}function he(ve){const ie=[];let ee;const ce=ne("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ee=ce.exec(ve))!==null;){let[,ae,$,oe]=ee;if(ae=parseInt(ae,10),ae in ie){if(ae===0)break;continue}ie[ae]=[$,oe]}const fe=[];for(let ae=0;ae<ie.length&&ae in ie;++ae){let[$,oe]=ie[ae];oe=_e(oe),$&&(oe=unescape(oe),ae===0&&(oe=q(oe))),fe.push(oe)}return fe.join("")}function _e(ve){if(ve.startsWith('"')){const ie=ve.slice(1).split('\\"');for(let ee=0;ee<ie.length;++ee){const ce=ie[ee].indexOf('"');ce!==-1&&(ie[ee]=ie[ee].slice(0,ce),ie.length=ee+1),ie[ee]=ie[ee].replaceAll(/\\(.)/g,"$1")}ve=ie.join('"')}return ve}function q(ve){const ie=ve.indexOf("'");if(ie===-1)return ve;const ee=ve.slice(0,ie),fe=ve.slice(ie+1).replace(/^[^']*'/,"");return f(ee,fe)}function re(ve){return!ve.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ve)?ve:ve.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ie,ee,ce,fe){if(ce==="q"||ce==="Q")return fe=fe.replaceAll("_"," "),fe=fe.replaceAll(/=([0-9a-fA-F]{2})/g,function(ae,$){return String.fromCharCode(parseInt($,16))}),f(ee,fe);try{fe=atob(fe)}catch{}return f(ee,fe)})}return""}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=a(1),c=a(20);const d=200,h=206;function _(_e){const q=_e.response;return typeof q!="string"?q:(0,o.stringToBytes)(q).buffer}class ne{constructor(q,re={}){this.url=q,this.isHttp=/^https?:/i.test(q),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(q,re,ve){const ie={begin:q,end:re};for(const ee in ve)ie[ee]=ve[ee];return this.request(ie)}requestFull(q){return this.request(q)}request(q){const re=new XMLHttpRequest,ve=this.currXhrId++,ie=this.pendingRequests[ve]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const ee in this.httpHeaders){const ce=this.httpHeaders[ee];ce!==void 0&&re.setRequestHeader(ee,ce)}return this.isHttp&&"begin"in q&&"end"in q?(re.setRequestHeader("Range",`bytes=${q.begin}-${q.end-1}`),ie.expectedStatus=h):ie.expectedStatus=d,re.responseType="arraybuffer",q.onError&&(re.onerror=function(ee){q.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,ve),re.onprogress=this.onProgress.bind(this,ve),ie.onHeadersReceived=q.onHeadersReceived,ie.onDone=q.onDone,ie.onError=q.onError,ie.onProgress=q.onProgress,re.send(null),ve}onProgress(q,re){var ie;const ve=this.pendingRequests[q];ve&&((ie=ve.onProgress)==null||ie.call(ve,re))}onStateChange(q,re){var ae,$,oe;const ve=this.pendingRequests[q];if(!ve)return;const ie=ve.xhr;if(ie.readyState>=2&&ve.onHeadersReceived&&(ve.onHeadersReceived(),delete ve.onHeadersReceived),ie.readyState!==4||!(q in this.pendingRequests))return;if(delete this.pendingRequests[q],ie.status===0&&this.isHttp){(ae=ve.onError)==null||ae.call(ve,ie.status);return}const ee=ie.status||d;if(!(ee===d&&ve.expectedStatus===h)&&ee!==ve.expectedStatus){($=ve.onError)==null||$.call(ve,ie.status);return}const fe=_(ie);if(ee===h){const se=ie.getResponseHeader("Content-Range"),te=/bytes (\d+)-(\d+)\/(\d+)/.exec(se);ve.onDone({begin:parseInt(te[1],10),chunk:fe})}else fe?ve.onDone({begin:0,chunk:fe}):(oe=ve.onError)==null||oe.call(ve,ie.status)}getRequestXhr(q){return this.pendingRequests[q].xhr}isPendingRequest(q){return q in this.pendingRequests}abortRequest(q){const re=this.pendingRequests[q].xhr;delete this.pendingRequests[q],re.abort()}}class f{constructor(q){this._source=q,this._manager=new ne(q.url,{httpHeaders:q.httpHeaders,withCredentials:q.withCredentials}),this._rangeChunkSize=q.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(q){const re=this._rangeRequestReaders.indexOf(q);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(q,re){const ve=new he(this._manager,q,re);return ve.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ve),ve}cancelAllRequests(q){var re;(re=this._fullRequestReader)==null||re.cancel(q);for(const ve of this._rangeRequestReaders.slice(0))ve.cancel(q)}}i.PDFNetworkStream=f;class g{constructor(q,re){this._manager=q;const ve={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=q.requestFull(ve),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const q=this._fullRequestId,re=this._manager.getRequestXhr(q),ve=ce=>re.getResponseHeader(ce),{allowRangeRequests:ie,suggestedLength:ee}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:ve,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ie&&(this._isRangeSupported=!0),this._contentLength=ee||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(ve),this._isRangeSupported&&this._manager.abortRequest(q),this._headersReceivedCapability.resolve()}_onDone(q){if(q&&(this._requests.length>0?this._requests.shift().resolve({value:q.chunk,done:!1}):this._cachedChunks.push(q.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(q){this._storedError=(0,c.createResponseStatusError)(q,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(q){var re;(re=this.onProgress)==null||re.call(this,{loaded:q.loaded,total:q.lengthComputable?q.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const q=new o.PromiseCapability;return this._requests.push(q),q.promise}cancel(q){this._done=!0,this._headersReceivedCapability.reject(q);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class he{constructor(q,re,ve){this._manager=q;const ie={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=q.url,this._requestId=q.requestRange(re,ve,ie),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var q;(q=this.onClosed)==null||q.call(this,this)}_onDone(q){const re=q.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const ve of this._requests)ve.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(q){this._storedError=(0,c.createResponseStatusError)(q,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(q){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:q.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const q=new o.PromiseCapability;return this._requests.push(q),q.promise}cancel(q){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=a(1),c=a(20);const d=/^file:\/\/\/[a-zA-Z]:\//;function h(ve){const ie=require$$5,ee=ie.parse(ve);return ee.protocol==="file:"||ee.host?ee:/^[a-z]:[/\\]/i.test(ve)?ie.parse(`file:///${ve}`):(ee.host||(ee.protocol="file:"),ee)}class _{constructor(ie){this.source=ie,this.url=h(ie.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ie;return((ie=this._fullRequestReader)==null?void 0:ie._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new q(this):new he(this),this._fullRequestReader}getRangeReader(ie,ee){if(ee<=this._progressiveDataLength)return null;const ce=this.isFsUrl?new re(this,ie,ee):new _e(this,ie,ee);return this._rangeRequestReaders.push(ce),ce}cancelAllRequests(ie){var ee;(ee=this._fullRequestReader)==null||ee.cancel(ie);for(const ce of this._rangeRequestReaders.slice(0))ce.cancel(ie)}}i.PDFNodeStream=_;class ne{constructor(ie){this._url=ie.url,this._done=!1,this._storedError=null,this.onProgress=null;const ee=ie.source;this._contentLength=ee.length,this._loaded=0,this._filename=null,this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ce;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ie=this._readableStream.read();return ie===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ie.length,(ce=this.onProgress)==null||ce.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ie).buffer,done:!1})}cancel(ie){if(!this._readableStream){this._error(ie);return}this._readableStream.destroy(ie)}_error(ie){this._storedError=ie,this._readCapability.resolve()}_setReadableStream(ie){this._readableStream=ie,ie.on("readable",()=>{this._readCapability.resolve()}),ie.on("end",()=>{ie.destroy(),this._done=!0,this._readCapability.resolve()}),ie.on("error",ee=>{this._error(ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(ie){this._url=ie.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const ee=ie.source;this._isStreamingSupported=!ee.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ce;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ie=this._readableStream.read();return ie===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ie.length,(ce=this.onProgress)==null||ce.call(this,{loaded:this._loaded}),{value:new Uint8Array(ie).buffer,done:!1})}cancel(ie){if(!this._readableStream){this._error(ie);return}this._readableStream.destroy(ie)}_error(ie){this._storedError=ie,this._readCapability.resolve()}_setReadableStream(ie){this._readableStream=ie,ie.on("readable",()=>{this._readCapability.resolve()}),ie.on("end",()=>{ie.destroy(),this._done=!0,this._readCapability.resolve()}),ie.on("error",ee=>{this._error(ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function g(ve,ie){return{protocol:ve.protocol,auth:ve.auth,host:ve.hostname,port:ve.port,path:ve.path,method:"GET",headers:ie}}class he extends ne{constructor(ie){super(ie);const ee=ce=>{if(ce.statusCode===404){const oe=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=oe,this._headersCapability.reject(oe);return}this._headersCapability.resolve(),this._setReadableStream(ce);const fe=oe=>this._readableStream.headers[oe.toLowerCase()],{allowRangeRequests:ae,suggestedLength:$}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:fe,isHttp:ie.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=$||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(fe)};if(this._request=null,this._url.protocol==="http:"){const ce=require$$5;this._request=ce.request(g(this._url,ie.httpHeaders),ee)}else{const ce=require$$5;this._request=ce.request(g(this._url,ie.httpHeaders),ee)}this._request.on("error",ce=>{this._storedError=ce,this._headersCapability.reject(ce)}),this._request.end()}}class _e extends f{constructor(ie,ee,ce){super(ie),this._httpHeaders={};for(const ae in ie.httpHeaders){const $=ie.httpHeaders[ae];$!==void 0&&(this._httpHeaders[ae]=$)}this._httpHeaders.Range=`bytes=${ee}-${ce-1}`;const fe=ae=>{if(ae.statusCode===404){const $=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$;return}this._setReadableStream(ae)};if(this._request=null,this._url.protocol==="http:"){const ae=require$$5;this._request=ae.request(g(this._url,this._httpHeaders),fe)}else{const ae=require$$5;this._request=ae.request(g(this._url,this._httpHeaders),fe)}this._request.on("error",ae=>{this._storedError=ae}),this._request.end()}}class q extends ne{constructor(ie){super(ie);let ee=decodeURIComponent(this._url.path);d.test(this._url.href)&&(ee=ee.replace(/^\//,""));const ce=require$$5;ce.lstat(ee,(fe,ae)=>{if(fe){fe.code==="ENOENT"&&(fe=new o.MissingPDFException(`Missing PDF "${ee}".`)),this._storedError=fe,this._headersCapability.reject(fe);return}this._contentLength=ae.size,this._setReadableStream(ce.createReadStream(ee)),this._headersCapability.resolve()})}}class re extends f{constructor(ie,ee,ce){super(ie);let fe=decodeURIComponent(this._url.path);d.test(this._url.href)&&(fe=fe.replace(/^\//,""));const ae=require$$5;this._setReadableStream(ae.createReadStream(fe,{start:ee,end:ce-1}))}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=a(6),c=a(1);const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",ne=["butt","round","square"],f=["miter","round","bevel"],g=function(ae,$="",oe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!oe)return URL.createObjectURL(new Blob([ae],{type:$}));const se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let te=`data:${$};base64,`;for(let b=0,ge=ae.length;b<ge;b+=3){const m=ae[b]&255,ue=ae[b+1]&255,be=ae[b+2]&255,je=m>>2,Oe=(m&3)<<4|ue>>4,Le=b+1<ge?(ue&15)<<2|be>>6:64,me=b+2<ge?be&63:64;te+=se[je]+se[Oe]+se[Le]+se[me]}return te},he=function(){const ae=new Uint8Array([137,80,78,71,13,10,26,10]),$=12,oe=new Int32Array(256);for(let be=0;be<256;be++){let je=be;for(let Oe=0;Oe<8;Oe++)je=je&1?3988292384^je>>1&2147483647:je>>1&2147483647;oe[be]=je}function se(be,je,Oe){let Le=-1;for(let me=je;me<Oe;me++){const Ie=(Le^be[me])&255,ye=oe[Ie];Le=Le>>>8^ye}return Le^-1}function te(be,je,Oe,Le){let me=Le;const Ie=je.length;Oe[me]=Ie>>24&255,Oe[me+1]=Ie>>16&255,Oe[me+2]=Ie>>8&255,Oe[me+3]=Ie&255,me+=4,Oe[me]=be.charCodeAt(0)&255,Oe[me+1]=be.charCodeAt(1)&255,Oe[me+2]=be.charCodeAt(2)&255,Oe[me+3]=be.charCodeAt(3)&255,me+=4,Oe.set(je,me),me+=je.length;const ye=se(Oe,Le+4,me);Oe[me]=ye>>24&255,Oe[me+1]=ye>>16&255,Oe[me+2]=ye>>8&255,Oe[me+3]=ye&255}function b(be,je,Oe){let Le=1,me=0;for(let Ie=je;Ie<Oe;++Ie)Le=(Le+(be[Ie]&255))%65521,me=(me+Le)%65521;return me<<16|Le}function ge(be){if(!c.isNodeJS)return m(be);try{const je=parseInt(process.versions.node)>=8?be:Buffer.from(be),Oe=require$$5.deflateSync(je,{level:9});return Oe instanceof Uint8Array?Oe:new Uint8Array(Oe)}catch(je){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+je)}return m(be)}function m(be){let je=be.length;const Oe=65535,Le=Math.ceil(je/Oe),me=new Uint8Array(2+je+Le*5+4);let Ie=0;me[Ie++]=120,me[Ie++]=156;let ye=0;for(;je>Oe;)me[Ie++]=0,me[Ie++]=255,me[Ie++]=255,me[Ie++]=0,me[Ie++]=0,me.set(be.subarray(ye,ye+Oe),Ie),Ie+=Oe,ye+=Oe,je-=Oe;me[Ie++]=1,me[Ie++]=je&255,me[Ie++]=je>>8&255,me[Ie++]=~je&65535&255,me[Ie++]=(~je&65535)>>8&255,me.set(be.subarray(ye),Ie),Ie+=be.length-ye;const Pe=b(be,0,be.length);return me[Ie++]=Pe>>24&255,me[Ie++]=Pe>>16&255,me[Ie++]=Pe>>8&255,me[Ie++]=Pe&255,me}function ue(be,je,Oe,Le){const me=be.width,Ie=be.height;let ye,Pe,ke;const Ee=be.data;switch(je){case c.ImageKind.GRAYSCALE_1BPP:Pe=0,ye=1,ke=me+7>>3;break;case c.ImageKind.RGB_24BPP:Pe=2,ye=8,ke=me*3;break;case c.ImageKind.RGBA_32BPP:Pe=6,ye=8,ke=me*4;break;default:throw new Error("invalid format")}const le=new Uint8Array((1+ke)*Ie);let de=0,xe=0;for(let Ve=0;Ve<Ie;++Ve)le[de++]=0,le.set(Ee.subarray(xe,xe+ke),de),xe+=ke,de+=ke;if(je===c.ImageKind.GRAYSCALE_1BPP&&Le){de=0;for(let Ve=0;Ve<Ie;Ve++){de++;for(let Je=0;Je<ke;Je++)le[de++]^=255}}const Ae=new Uint8Array([me>>24&255,me>>16&255,me>>8&255,me&255,Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255,ye,Pe,0,0,0]),we=ge(le),$e=ae.length+$*3+Ae.length+we.length,Me=new Uint8Array($e);let Ne=0;return Me.set(ae,Ne),Ne+=ae.length,te("IHDR",Ae,Me,Ne),Ne+=$+Ae.length,te("IDATA",we,Me,Ne),Ne+=$+we.length,te("IEND",new Uint8Array(0),Me,Ne),g(Me,"image/png",Oe)}return function(je,Oe,Le){const me=je.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:je.kind;return ue(je,me,Oe,Le)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint($,oe){this.x=$,this.y=oe}}function q(ae){let $=[];const oe=[];for(const se of ae){if(se.fn==="save"){$.push({fnId:92,fn:"group",items:[]}),oe.push($),$=$.at(-1).items;continue}se.fn==="restore"?$=oe.pop():$.push(se)}return $}function re(ae){if(Number.isInteger(ae))return ae.toString();const $=ae.toFixed(10);let oe=$.length-1;if($[oe]!=="0")return $;do oe--;while($[oe]==="0");return $.substring(0,$[oe]==="."?oe:oe+1)}function ve(ae){if(ae[4]===0&&ae[5]===0){if(ae[1]===0&&ae[2]===0)return ae[0]===1&&ae[3]===1?"":`scale(${re(ae[0])} ${re(ae[3])})`;if(ae[0]===ae[3]&&ae[1]===-ae[2]){const $=Math.acos(ae[0])*180/Math.PI;return`rotate(${re($)})`}}else if(ae[0]===1&&ae[1]===0&&ae[2]===0&&ae[3]===1)return`translate(${re(ae[4])} ${re(ae[5])})`;return`matrix(${re(ae[0])} ${re(ae[1])} ${re(ae[2])} ${re(ae[3])} ${re(ae[4])} ${re(ae[5])})`}let ie=0,ee=0,ce=0;class fe{constructor($,oe,se=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new _e,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=$,this.objs=oe,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!se,this._operatorIdMapping=[];for(const te in c.OPS)this._operatorIdMapping[c.OPS[te]]=te}getObject($,oe=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):oe}save(){this.transformStack.push(this.transformMatrix);const $=this.current;this.extraStack.push($),this.current=$.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group($){this.save(),this.executeOpTree($),this.restore()}loadDependencies($){const oe=$.fnArray,se=$.argsArray;for(let te=0,b=oe.length;te<b;te++)if(oe[te]===c.OPS.dependency)for(const ge of se[te]){const m=ge.startsWith("g_")?this.commonObjs:this.objs,ue=new Promise(be=>{m.get(ge,be)});this.current.dependencies.push(ue)}return Promise.all(this.current.dependencies)}transform($,oe,se,te,b,ge){const m=[$,oe,se,te,b,ge];this.transformMatrix=c.Util.transform(this.transformMatrix,m),this.tgrp=null}getSVG($,oe){this.viewport=oe;const se=this._initialize(oe);return this.loadDependencies($).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList($)),se))}convertOpList($){const oe=this._operatorIdMapping,se=$.argsArray,te=$.fnArray,b=[];for(let ge=0,m=te.length;ge<m;ge++){const ue=te[ge];b.push({fnId:ue,fn:oe[ue],args:se[ge]})}return q(b)}executeOpTree($){for(const oe of $){const se=oe.fn,te=oe.fnId,b=oe.args;switch(te|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(b);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(b[0],b[1]);break;case c.OPS.setFont:this.setFont(b);break;case c.OPS.showText:this.showText(b[0]);break;case c.OPS.showSpacedText:this.showText(b[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(b[0],b[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(b[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(b[0]);break;case c.OPS.setHScale:this.setHScale(b[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(b[0],b[1],b[2],b[3],b[4],b[5]);break;case c.OPS.setTextRise:this.setTextRise(b[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(b[0]);break;case c.OPS.setLineWidth:this.setLineWidth(b[0]);break;case c.OPS.setLineJoin:this.setLineJoin(b[0]);break;case c.OPS.setLineCap:this.setLineCap(b[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(b[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(b[0],b[1],b[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(b[0],b[1],b[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(b);break;case c.OPS.setFillColorN:this.setFillColorN(b);break;case c.OPS.shadingFill:this.shadingFill(b[0]);break;case c.OPS.setDash:this.setDash(b[0],b[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(b[0]);break;case c.OPS.setFlatness:this.setFlatness(b[0]);break;case c.OPS.setGState:this.setGState(b[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(b[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(b[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(b[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(b[0],b[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);break;case c.OPS.constructPath:this.constructPath(b[0],b[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(oe.items);break;default:(0,c.warn)(`Unimplemented operator ${se}`);break}}}setWordSpacing($){this.current.wordSpacing=$}setCharSpacing($){this.current.charSpacing=$}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix($,oe,se,te,b,ge){const m=this.current;m.textMatrix=m.lineMatrix=[$,oe,se,te,b,ge],m.textMatrixScale=Math.hypot($,oe),m.x=m.lineX=0,m.y=m.lineY=0,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${re(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",re(-m.y)),m.txtElement=this.svgFactory.createElement("svg:text"),m.txtElement.append(m.tspan)}beginText(){const $=this.current;$.x=$.lineX=0,$.y=$.lineY=0,$.textMatrix=c.IDENTITY_MATRIX,$.lineMatrix=c.IDENTITY_MATRIX,$.textMatrixScale=1,$.tspan=this.svgFactory.createElement("svg:tspan"),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtgrp=this.svgFactory.createElement("svg:g"),$.xcoords=[],$.ycoords=[]}moveText($,oe){const se=this.current;se.x=se.lineX+=$,se.y=se.lineY+=oe,se.xcoords=[],se.ycoords=[],se.tspan=this.svgFactory.createElement("svg:tspan"),se.tspan.setAttributeNS(null,"font-family",se.fontFamily),se.tspan.setAttributeNS(null,"font-size",`${re(se.fontSize)}px`),se.tspan.setAttributeNS(null,"y",re(-se.y))}showText($){const oe=this.current,se=oe.font,te=oe.fontSize;if(te===0)return;const b=oe.fontSizeScale,ge=oe.charSpacing,m=oe.wordSpacing,ue=oe.fontDirection,be=oe.textHScale*ue,je=se.vertical,Oe=je?1:-1,Le=se.defaultVMetrics,me=te*oe.fontMatrix[0];let Ie=0;for(const ke of $){if(ke===null){Ie+=ue*m;continue}else if(typeof ke=="number"){Ie+=Oe*ke*te/1e3;continue}const Ee=(ke.isSpace?m:0)+ge,le=ke.fontChar;let de,xe,Ae=ke.width;if(je){let $e;const Me=ke.vmetric||Le;$e=ke.vmetric?Me[1]:Ae*.5,$e=-$e*me;const Ne=Me[2]*me;Ae=Me?-Me[0]:Ae,de=$e/b,xe=(Ie+Ne)/b}else de=Ie/b,xe=0;(ke.isInFont||se.missingFile)&&(oe.xcoords.push(oe.x+de),je&&oe.ycoords.push(-oe.y+xe),oe.tspan.textContent+=le);const we=je?Ae*me-Ee*ue:Ae*me+Ee*ue;Ie+=we}oe.tspan.setAttributeNS(null,"x",oe.xcoords.map(re).join(" ")),je?oe.tspan.setAttributeNS(null,"y",oe.ycoords.map(re).join(" ")):oe.tspan.setAttributeNS(null,"y",re(-oe.y)),je?oe.y-=Ie:oe.x+=Ie*be,oe.tspan.setAttributeNS(null,"font-family",oe.fontFamily),oe.tspan.setAttributeNS(null,"font-size",`${re(oe.fontSize)}px`),oe.fontStyle!==d.fontStyle&&oe.tspan.setAttributeNS(null,"font-style",oe.fontStyle),oe.fontWeight!==d.fontWeight&&oe.tspan.setAttributeNS(null,"font-weight",oe.fontWeight);const ye=oe.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(ye===c.TextRenderingMode.FILL||ye===c.TextRenderingMode.FILL_STROKE?(oe.fillColor!==d.fillColor&&oe.tspan.setAttributeNS(null,"fill",oe.fillColor),oe.fillAlpha<1&&oe.tspan.setAttributeNS(null,"fill-opacity",oe.fillAlpha)):oe.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?oe.tspan.setAttributeNS(null,"fill","transparent"):oe.tspan.setAttributeNS(null,"fill","none"),ye===c.TextRenderingMode.STROKE||ye===c.TextRenderingMode.FILL_STROKE){const ke=1/(oe.textMatrixScale||1);this._setStrokeAttributes(oe.tspan,ke)}let Pe=oe.textMatrix;oe.textRise!==0&&(Pe=Pe.slice(),Pe[5]+=oe.textRise),oe.txtElement.setAttributeNS(null,"transform",`${ve(Pe)} scale(${re(be)}, -1)`),oe.txtElement.setAttributeNS(h,"xml:space","preserve"),oe.txtElement.append(oe.tspan),oe.txtgrp.append(oe.txtElement),this._ensureTransformGroup().append(oe.txtElement)}setLeadingMoveText($,oe){this.setLeading(-oe),this.moveText($,oe)}addFontStyle($){if(!$.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const oe=g($.data,$.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${$.loadedName}"; src: url(${oe}); }
`}setFont($){const oe=this.current,se=this.commonObjs.get($[0]);let te=$[1];oe.font=se,this.embedFonts&&!se.missingFile&&!this.embeddedFonts[se.loadedName]&&(this.addFontStyle(se),this.embeddedFonts[se.loadedName]=se),oe.fontMatrix=se.fontMatrix||c.FONT_IDENTITY_MATRIX;let b="normal";se.black?b="900":se.bold&&(b="bold");const ge=se.italic?"italic":"normal";te<0?(te=-te,oe.fontDirection=-1):oe.fontDirection=1,oe.fontSize=te,oe.fontFamily=se.loadedName,oe.fontWeight=b,oe.fontStyle=ge,oe.tspan=this.svgFactory.createElement("svg:tspan"),oe.tspan.setAttributeNS(null,"y",re(-oe.y)),oe.xcoords=[],oe.ycoords=[]}endText(){var oe;const $=this.current;$.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((oe=$.txtElement)!=null&&oe.hasChildNodes())&&($.element=$.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth($){$>0&&(this.current.lineWidth=$)}setLineCap($){this.current.lineCap=ne[$]}setLineJoin($){this.current.lineJoin=f[$]}setMiterLimit($){this.current.miterLimit=$}setStrokeAlpha($){this.current.strokeAlpha=$}setStrokeRGBColor($,oe,se){this.current.strokeColor=c.Util.makeHexColor($,oe,se)}setFillAlpha($){this.current.fillAlpha=$}setFillRGBColor($,oe,se){this.current.fillColor=c.Util.makeHexColor($,oe,se),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN($){this.current.strokeColor=this._makeColorN_Pattern($)}setFillColorN($){this.current.fillColor=this._makeColorN_Pattern($)}shadingFill($){const{width:oe,height:se}=this.viewport,te=c.Util.inverseTransform(this.transformMatrix),[b,ge,m,ue]=c.Util.getAxialAlignedBoundingBox([0,0,oe,se],te),be=this.svgFactory.createElement("svg:rect");be.setAttributeNS(null,"x",b),be.setAttributeNS(null,"y",ge),be.setAttributeNS(null,"width",m-b),be.setAttributeNS(null,"height",ue-ge),be.setAttributeNS(null,"fill",this._makeShadingPattern($)),this.current.fillAlpha<1&&be.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(be)}_makeColorN_Pattern($){return $[0]==="TilingPattern"?this._makeTilingPattern($):this._makeShadingPattern($)}_makeTilingPattern($){const oe=$[1],se=$[2],te=$[3]||c.IDENTITY_MATRIX,[b,ge,m,ue]=$[4],be=$[5],je=$[6],Oe=$[7],Le=`shading${ce++}`,[me,Ie,ye,Pe]=c.Util.normalizeRect([...c.Util.applyTransform([b,ge],te),...c.Util.applyTransform([m,ue],te)]),[ke,Ee]=c.Util.singularValueDecompose2dScale(te),le=be*ke,de=je*Ee,xe=this.svgFactory.createElement("svg:pattern");xe.setAttributeNS(null,"id",Le),xe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),xe.setAttributeNS(null,"width",le),xe.setAttributeNS(null,"height",de),xe.setAttributeNS(null,"x",`${me}`),xe.setAttributeNS(null,"y",`${Ie}`);const Ae=this.svg,we=this.transformMatrix,$e=this.current.fillColor,Me=this.current.strokeColor,Ne=this.svgFactory.create(ye-me,Pe-Ie);if(this.svg=Ne,this.transformMatrix=te,Oe===2){const Ve=c.Util.makeHexColor(...oe);this.current.fillColor=Ve,this.current.strokeColor=Ve}return this.executeOpTree(this.convertOpList(se)),this.svg=Ae,this.transformMatrix=we,this.current.fillColor=$e,this.current.strokeColor=Me,xe.append(Ne.childNodes[0]),this.defs.append(xe),`url(#${Le})`}_makeShadingPattern($){switch(typeof $=="string"&&($=this.objs.get($)),$[0]){case"RadialAxial":const oe=`shading${ce++}`,se=$[3];let te;switch($[1]){case"axial":const b=$[4],ge=$[5];te=this.svgFactory.createElement("svg:linearGradient"),te.setAttributeNS(null,"id",oe),te.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),te.setAttributeNS(null,"x1",b[0]),te.setAttributeNS(null,"y1",b[1]),te.setAttributeNS(null,"x2",ge[0]),te.setAttributeNS(null,"y2",ge[1]);break;case"radial":const m=$[4],ue=$[5],be=$[6],je=$[7];te=this.svgFactory.createElement("svg:radialGradient"),te.setAttributeNS(null,"id",oe),te.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),te.setAttributeNS(null,"cx",ue[0]),te.setAttributeNS(null,"cy",ue[1]),te.setAttributeNS(null,"r",je),te.setAttributeNS(null,"fx",m[0]),te.setAttributeNS(null,"fy",m[1]),te.setAttributeNS(null,"fr",be);break;default:throw new Error(`Unknown RadialAxial type: ${$[1]}`)}for(const b of se){const ge=this.svgFactory.createElement("svg:stop");ge.setAttributeNS(null,"offset",b[0]),ge.setAttributeNS(null,"stop-color",b[1]),te.append(ge)}return this.defs.append(te),`url(#${oe})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${$[0]}`)}}setDash($,oe){this.current.dashArray=$,this.current.dashPhase=oe}constructPath($,oe){const se=this.current;let te=se.x,b=se.y,ge=[],m=0;for(const ue of $)switch(ue|0){case c.OPS.rectangle:te=oe[m++],b=oe[m++];const be=oe[m++],je=oe[m++],Oe=te+be,Le=b+je;ge.push("M",re(te),re(b),"L",re(Oe),re(b),"L",re(Oe),re(Le),"L",re(te),re(Le),"Z");break;case c.OPS.moveTo:te=oe[m++],b=oe[m++],ge.push("M",re(te),re(b));break;case c.OPS.lineTo:te=oe[m++],b=oe[m++],ge.push("L",re(te),re(b));break;case c.OPS.curveTo:te=oe[m+4],b=oe[m+5],ge.push("C",re(oe[m]),re(oe[m+1]),re(oe[m+2]),re(oe[m+3]),re(te),re(b)),m+=6;break;case c.OPS.curveTo2:ge.push("C",re(te),re(b),re(oe[m]),re(oe[m+1]),re(oe[m+2]),re(oe[m+3])),te=oe[m+2],b=oe[m+3],m+=4;break;case c.OPS.curveTo3:te=oe[m+2],b=oe[m+3],ge.push("C",re(oe[m]),re(oe[m+1]),re(te),re(b),re(te),re(b)),m+=4;break;case c.OPS.closePath:ge.push("Z");break}ge=ge.join(" "),se.path&&$.length>0&&$[0]!==c.OPS.rectangle&&$[0]!==c.OPS.moveTo?ge=se.path.getAttributeNS(null,"d")+ge:(se.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(se.path)),se.path.setAttributeNS(null,"d",ge),se.path.setAttributeNS(null,"fill","none"),se.element=se.path,se.setCurrentPoint(te,b)}endPath(){const $=this.current;if($.path=null,!this.pendingClip)return;if(!$.element){this.pendingClip=null;return}const oe=`clippath${ie++}`,se=this.svgFactory.createElement("svg:clipPath");se.setAttributeNS(null,"id",oe),se.setAttributeNS(null,"transform",ve(this.transformMatrix));const te=$.element.cloneNode(!0);if(this.pendingClip==="evenodd"?te.setAttributeNS(null,"clip-rule","evenodd"):te.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,se.append(te),this.defs.append(se),$.activeClipUrl){$.clipGroup=null;for(const b of this.extraStack)b.clipGroup=null;se.setAttributeNS(null,"clip-path",$.activeClipUrl)}$.activeClipUrl=`url(#${oe})`,this.tgrp=null}clip($){this.pendingClip=$}closePath(){const $=this.current;if($.path){const oe=`${$.path.getAttributeNS(null,"d")}Z`;$.path.setAttributeNS(null,"d",oe)}}setLeading($){this.current.leading=-$}setTextRise($){this.current.textRise=$}setTextRenderingMode($){this.current.textRenderingMode=$}setHScale($){this.current.textHScale=$/100}setRenderingIntent($){}setFlatness($){}setGState($){for(const[oe,se]of $)switch(oe){case"LW":this.setLineWidth(se);break;case"LC":this.setLineCap(se);break;case"LJ":this.setLineJoin(se);break;case"ML":this.setMiterLimit(se);break;case"D":this.setDash(se[0],se[1]);break;case"RI":this.setRenderingIntent(se);break;case"FL":this.setFlatness(se);break;case"Font":this.setFont(se);break;case"CA":this.setStrokeAlpha(se);break;case"ca":this.setFillAlpha(se);break;default:(0,c.warn)(`Unimplemented graphic state operator ${oe}`);break}}fill(){const $=this.current;$.element&&($.element.setAttributeNS(null,"fill",$.fillColor),$.element.setAttributeNS(null,"fill-opacity",$.fillAlpha),this.endPath())}stroke(){const $=this.current;$.element&&(this._setStrokeAttributes($.element),$.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes($,oe=1){const se=this.current;let te=se.dashArray;oe!==1&&te.length>0&&(te=te.map(function(b){return oe*b})),$.setAttributeNS(null,"stroke",se.strokeColor),$.setAttributeNS(null,"stroke-opacity",se.strokeAlpha),$.setAttributeNS(null,"stroke-miterlimit",re(se.miterLimit)),$.setAttributeNS(null,"stroke-linecap",se.lineCap),$.setAttributeNS(null,"stroke-linejoin",se.lineJoin),$.setAttributeNS(null,"stroke-width",re(oe*se.lineWidth)+"px"),$.setAttributeNS(null,"stroke-dasharray",te.map(re).join(" ")),$.setAttributeNS(null,"stroke-dashoffset",re(oe*se.dashPhase)+"px")}eoFill(){var $;($=this.current.element)==null||$.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var $;($=this.current.element)==null||$.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width","1px"),$.setAttributeNS(null,"height","1px"),$.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append($)}paintImageXObject($){const oe=this.getObject($);if(!oe){(0,c.warn)(`Dependent image with object ID ${$} is not ready yet`);return}this.paintInlineImageXObject(oe)}paintInlineImageXObject($,oe){const se=$.width,te=$.height,b=he($,this.forceDataSchema,!!oe),ge=this.svgFactory.createElement("svg:rect");ge.setAttributeNS(null,"x","0"),ge.setAttributeNS(null,"y","0"),ge.setAttributeNS(null,"width",re(se)),ge.setAttributeNS(null,"height",re(te)),this.current.element=ge,this.clip("nonzero");const m=this.svgFactory.createElement("svg:image");m.setAttributeNS(_,"xlink:href",b),m.setAttributeNS(null,"x","0"),m.setAttributeNS(null,"y",re(-te)),m.setAttributeNS(null,"width",re(se)+"px"),m.setAttributeNS(null,"height",re(te)+"px"),m.setAttributeNS(null,"transform",`scale(${re(1/se)} ${re(-1/te)})`),oe?oe.append(m):this._ensureTransformGroup().append(m)}paintImageMaskXObject($){const oe=this.getObject($.data,$);if(oe.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const se=this.current,te=oe.width,b=oe.height,ge=se.fillColor;se.maskId=`mask${ee++}`;const m=this.svgFactory.createElement("svg:mask");m.setAttributeNS(null,"id",se.maskId);const ue=this.svgFactory.createElement("svg:rect");ue.setAttributeNS(null,"x","0"),ue.setAttributeNS(null,"y","0"),ue.setAttributeNS(null,"width",re(te)),ue.setAttributeNS(null,"height",re(b)),ue.setAttributeNS(null,"fill",ge),ue.setAttributeNS(null,"mask",`url(#${se.maskId})`),this.defs.append(m),this._ensureTransformGroup().append(ue),this.paintInlineImageXObject(oe,m)}paintFormXObjectBegin($,oe){if(Array.isArray($)&&$.length===6&&this.transform($[0],$[1],$[2],$[3],$[4],$[5]),oe){const se=oe[2]-oe[0],te=oe[3]-oe[1],b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x",oe[0]),b.setAttributeNS(null,"y",oe[1]),b.setAttributeNS(null,"width",re(se)),b.setAttributeNS(null,"height",re(te)),this.current.element=b,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize($){const oe=this.svgFactory.create($.width,$.height),se=this.svgFactory.createElement("svg:defs");oe.append(se),this.defs=se;const te=this.svgFactory.createElement("svg:g");return te.setAttributeNS(null,"transform",ve($.transform)),oe.append(te),this.svg=te,oe}_ensureClipGroup(){if(!this.current.clipGroup){const $=this.svgFactory.createElement("svg:g");$.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append($),this.current.clipGroup=$}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ve(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=fe},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class a{static textContent(c){const d=[],h={items:d,styles:Object.create(null)};function _(ne){var he;if(!ne)return;let f=null;const g=ne.name;if(g==="#text")f=ne.value;else if(a.shouldBuildText(g))(he=ne==null?void 0:ne.attributes)!=null&&he.textContent?f=ne.attributes.textContent:ne.value&&(f=ne.value);else return;if(f!==null&&d.push({str:f}),!!ne.children)for(const _e of ne.children)_(_e)}return _(c),h}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=a},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=ve,i.updateTextLayer=ie;var o=a(1),c=a(6);const d=1e5,h=30,_=.8,ne=new Map;function f(ee,ce){let fe;if(ce&&o.FeatureTest.isOffscreenCanvasSupported)fe=new OffscreenCanvas(ee,ee).getContext("2d",{alpha:!1});else{const ae=document.createElement("canvas");ae.width=ae.height=ee,fe=ae.getContext("2d",{alpha:!1})}return fe}function g(ee,ce){const fe=ne.get(ee);if(fe)return fe;const ae=f(h,ce);ae.font=`${h}px ${ee}`;const $=ae.measureText("");let oe=$.fontBoundingBoxAscent,se=Math.abs($.fontBoundingBoxDescent);if(oe){const b=oe/(oe+se);return ne.set(ee,b),ae.canvas.width=ae.canvas.height=0,b}ae.strokeStyle="red",ae.clearRect(0,0,h,h),ae.strokeText("g",0,0);let te=ae.getImageData(0,0,h,h).data;se=0;for(let b=te.length-1-3;b>=0;b-=4)if(te[b]>0){se=Math.ceil(b/4/h);break}ae.clearRect(0,0,h,h),ae.strokeText("A",0,h),te=ae.getImageData(0,0,h,h).data,oe=0;for(let b=0,ge=te.length;b<ge;b+=4)if(te[b]>0){oe=h-Math.floor(b/4/h);break}if(ae.canvas.width=ae.canvas.height=0,oe){const b=oe/(oe+se);return ne.set(ee,b),b}return ne.set(ee,_),_}function he(ee,ce,fe){const ae=document.createElement("span"),$={angle:0,canvasWidth:0,hasText:ce.str!=="",hasEOL:ce.hasEOL,fontSize:0};ee._textDivs.push(ae);const oe=o.Util.transform(ee._transform,ce.transform);let se=Math.atan2(oe[1],oe[0]);const te=fe[ce.fontName];te.vertical&&(se+=Math.PI/2);const b=Math.hypot(oe[2],oe[3]),ge=b*g(te.fontFamily,ee._isOffscreenCanvasSupported);let m,ue;se===0?(m=oe[4],ue=oe[5]-ge):(m=oe[4]+ge*Math.sin(se),ue=oe[5]-ge*Math.cos(se));const be="calc(var(--scale-factor)*",je=ae.style;ee._container===ee._rootContainer?(je.left=`${(100*m/ee._pageWidth).toFixed(2)}%`,je.top=`${(100*ue/ee._pageHeight).toFixed(2)}%`):(je.left=`${be}${m.toFixed(2)}px)`,je.top=`${be}${ue.toFixed(2)}px)`),je.fontSize=`${be}${b.toFixed(2)}px)`,je.fontFamily=te.fontFamily,$.fontSize=b,ae.setAttribute("role","presentation"),ae.textContent=ce.str,ae.dir=ce.dir,ee._fontInspectorEnabled&&(ae.dataset.fontName=ce.fontName),se!==0&&($.angle=se*(180/Math.PI));let Oe=!1;if(ce.str.length>1)Oe=!0;else if(ce.str!==" "&&ce.transform[0]!==ce.transform[3]){const Le=Math.abs(ce.transform[0]),me=Math.abs(ce.transform[3]);Le!==me&&Math.max(Le,me)/Math.min(Le,me)>1.5&&(Oe=!0)}Oe&&($.canvasWidth=te.vertical?ce.height:ce.width),ee._textDivProperties.set(ae,$),ee._isReadableStream&&ee._layoutText(ae)}function _e(ee){const{div:ce,scale:fe,properties:ae,ctx:$,prevFontSize:oe,prevFontFamily:se}=ee,{style:te}=ce;let b="";if(ae.canvasWidth!==0&&ae.hasText){const{fontFamily:ge}=te,{canvasWidth:m,fontSize:ue}=ae;(oe!==ue||se!==ge)&&($.font=`${ue*fe}px ${ge}`,ee.prevFontSize=ue,ee.prevFontFamily=ge);const{width:be}=$.measureText(ce.textContent);be>0&&(b=`scaleX(${m*fe/be})`)}ae.angle!==0&&(b=`rotate(${ae.angle}deg) ${b}`),b.length>0&&(te.transform=b)}function q(ee){if(ee._canceled)return;const ce=ee._textDivs,fe=ee._capability;if(ce.length>d){fe.resolve();return}if(!ee._isReadableStream)for(const $ of ce)ee._layoutText($);fe.resolve()}class re{constructor({textContentSource:ce,container:fe,viewport:ae,textDivs:$,textDivProperties:oe,textContentItemsStr:se,isOffscreenCanvasSupported:te}){var be;this._textContentSource=ce,this._isReadableStream=ce instanceof ReadableStream,this._container=this._rootContainer=fe,this._textDivs=$||[],this._textContentItemsStr=se||[],this._isOffscreenCanvasSupported=te,this._fontInspectorEnabled=!!((be=globalThis.FontInspector)!=null&&be.enabled),this._reader=null,this._textDivProperties=oe||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ae.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:f(0,te)};const{pageWidth:b,pageHeight:ge,pageX:m,pageY:ue}=ae.rawDims;this._transform=[1,0,0,-1,-m,ue+ge],this._pageWidth=b,this._pageHeight=ge,(0,c.setLayerDimensions)(fe,ae),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(ce,fe){for(const ae of ce){if(ae.str===void 0){if(ae.type==="beginMarkedContentProps"||ae.type==="beginMarkedContent"){const $=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ae.id!==null&&this._container.setAttribute("id",`${ae.id}`),$.append(this._container)}else ae.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ae.str),he(this,ae,fe)}}_layoutText(ce){const fe=this._layoutTextParams.properties=this._textDivProperties.get(ce);if(this._layoutTextParams.div=ce,_e(this._layoutTextParams),fe.hasText&&this._container.append(ce),fe.hasEOL){const ae=document.createElement("br");ae.setAttribute("role","presentation"),this._container.append(ae)}}_render(){const ce=new o.PromiseCapability;let fe=Object.create(null);if(this._isReadableStream){const ae=()=>{this._reader.read().then(({value:$,done:oe})=>{if(oe){ce.resolve();return}Object.assign(fe,$.styles),this._processItems($.items,fe),ae()},ce.reject)};this._reader=this._textContentSource.getReader(),ae()}else if(this._textContentSource){const{items:ae,styles:$}=this._textContentSource;this._processItems(ae,$),ce.resolve()}else throw new Error('No "textContentSource" parameter specified.');ce.promise.then(()=>{fe=null,q(this)},this._capability.reject)}}i.TextLayerRenderTask=re;function ve(ee){!ee.textContentSource&&(ee.textContent||ee.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ee.textContentSource=ee.textContent||ee.textContentStream);const{container:ce,viewport:fe}=ee,ae=getComputedStyle(ce),$=ae.getPropertyValue("visibility"),oe=parseFloat(ae.getPropertyValue("--scale-factor"));$==="visible"&&(!oe||Math.abs(oe-fe.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const se=new re(ee);return se._render(),se}function ie({container:ee,viewport:ce,textDivs:fe,textDivProperties:ae,isOffscreenCanvasSupported:$,mustRotate:oe=!0,mustRescale:se=!0}){if(oe&&(0,c.setLayerDimensions)(ee,{rotation:ce.rotation}),se){const te=f(0,$),ge={prevFontSize:null,prevFontFamily:null,div:null,scale:ce.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:te};for(const m of fe)ge.properties=ae.get(m),ge.div=m,_e(ge)}}},(e,i,a)=>{var g,he,_e,q,re,ve,ie,ee,ce,fe,ae,Ln,dn,In,Nn;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=a(1),c=a(4),d=a(28),h=a(33),_=a(6),ne=a(34);const b=class b{constructor({uiManager:m,pageIndex:ue,div:be,accessibilityManager:je,annotationLayer:Oe,viewport:Le,l10n:me}){We(this,ae);We(this,g);We(this,he,!1);We(this,_e,null);We(this,q,this.pointerup.bind(this));We(this,re,this.pointerdown.bind(this));We(this,ve,new Map);We(this,ie,!1);We(this,ee,!1);We(this,ce,!1);We(this,fe);const Ie=[d.FreeTextEditor,h.InkEditor,ne.StampEditor];if(!b._initialized){b._initialized=!0;for(const ye of Ie)ye.initialize(me)}m.registerEditorTypes(Ie),Ye(this,fe,m),this.pageIndex=ue,this.div=be,Ye(this,g,je),Ye(this,_e,Oe),this.viewport=Le,j(this,fe).addLayer(this)}get isEmpty(){return j(this,ve).size===0}updateToolbar(m){j(this,fe).updateToolbar(m)}updateMode(m=j(this,fe).getMode()){He(this,ae,Nn).call(this),m===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),m!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",m===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",m===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",m===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(m){if(!m&&j(this,fe).getMode()!==o.AnnotationEditorType.INK)return;if(!m){for(const be of j(this,ve).values())if(be.isEmpty()){be.setInBackground();return}}He(this,ae,dn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(m){j(this,fe).setEditingState(m)}addCommands(m){j(this,fe).addCommands(m)}enable(){this.div.style.pointerEvents="auto";const m=new Set;for(const be of j(this,ve).values())be.enableEditing(),be.annotationElementId&&m.add(be.annotationElementId);if(!j(this,_e))return;const ue=j(this,_e).getEditableAnnotations();for(const be of ue){if(be.hide(),j(this,fe).isDeletedAnnotationElement(be.data.id)||m.has(be.data.id))continue;const je=this.deserialize(be);je&&(this.addOrRebuild(je),je.enableEditing())}}disable(){var ue;Ye(this,ce,!0),this.div.style.pointerEvents="none";const m=new Set;for(const be of j(this,ve).values()){if(be.disableEditing(),!be.annotationElementId||be.serialize()!==null){m.add(be.annotationElementId);continue}(ue=this.getEditableAnnotation(be.annotationElementId))==null||ue.show(),be.remove()}if(j(this,_e)){const be=j(this,_e).getEditableAnnotations();for(const je of be){const{id:Oe}=je.data;m.has(Oe)||j(this,fe).isDeletedAnnotationElement(Oe)||je.show()}}He(this,ae,Nn).call(this),this.isEmpty&&(this.div.hidden=!0),Ye(this,ce,!1)}getEditableAnnotation(m){var ue;return((ue=j(this,_e))==null?void 0:ue.getEditableAnnotation(m))||null}setActiveEditor(m){j(this,fe).getActive()!==m&&j(this,fe).setActiveEditor(m)}enableClick(){this.div.addEventListener("pointerdown",j(this,re)),this.div.addEventListener("pointerup",j(this,q))}disableClick(){this.div.removeEventListener("pointerdown",j(this,re)),this.div.removeEventListener("pointerup",j(this,q))}attach(m){j(this,ve).set(m.id,m);const{annotationElementId:ue}=m;ue&&j(this,fe).isDeletedAnnotationElement(ue)&&j(this,fe).removeDeletedAnnotationElement(m)}detach(m){var ue;j(this,ve).delete(m.id),(ue=j(this,g))==null||ue.removePointerInTextLayer(m.contentDiv),!j(this,ce)&&m.annotationElementId&&j(this,fe).addDeletedAnnotationElement(m)}remove(m){this.detach(m),j(this,fe).removeEditor(m),m.div.contains(document.activeElement)&&setTimeout(()=>{j(this,fe).focusMainContainer()},0),m.div.remove(),m.isAttachedToDOM=!1,j(this,ee)||this.addInkEditorIfNeeded(!1)}changeParent(m){var ue;m.parent!==this&&(m.annotationElementId&&(j(this,fe).addDeletedAnnotationElement(m.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(m),m.annotationElementId=null),this.attach(m),(ue=m.parent)==null||ue.detach(m),m.setParent(this),m.div&&m.isAttachedToDOM&&(m.div.remove(),this.div.append(m.div)))}add(m){if(this.changeParent(m),j(this,fe).addEditor(m),this.attach(m),!m.isAttachedToDOM){const ue=m.render();this.div.append(ue),m.isAttachedToDOM=!0}m.fixAndSetPosition(),m.onceAdded(),j(this,fe).addToAnnotationStorage(m)}moveEditorInDOM(m){var be;if(!m.isAttachedToDOM)return;const{activeElement:ue}=document;m.div.contains(ue)&&(m._focusEventsAllowed=!1,setTimeout(()=>{m.div.contains(document.activeElement)?m._focusEventsAllowed=!0:(m.div.addEventListener("focusin",()=>{m._focusEventsAllowed=!0},{once:!0}),ue.focus())},0)),m._structTreeParentId=(be=j(this,g))==null?void 0:be.moveElementInDOM(this.div,m.div,m.contentDiv,!0)}addOrRebuild(m){m.needsToBeRebuilt()?m.rebuild():this.add(m)}addUndoableEditor(m){const ue=()=>m._uiManager.rebuild(m),be=()=>{m.remove()};this.addCommands({cmd:ue,undo:be,mustExec:!1})}getNextId(){return j(this,fe).getId()}pasteEditor(m,ue){j(this,fe).updateToolbar(m),j(this,fe).updateMode(m);const{offsetX:be,offsetY:je}=He(this,ae,In).call(this),Oe=this.getNextId(),Le=He(this,ae,Ln).call(this,{parent:this,id:Oe,x:be,y:je,uiManager:j(this,fe),isCentered:!0,...ue});Le&&this.add(Le)}deserialize(m){switch(m.annotationType??m.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(m,this,j(this,fe));case o.AnnotationEditorType.INK:return h.InkEditor.deserialize(m,this,j(this,fe));case o.AnnotationEditorType.STAMP:return ne.StampEditor.deserialize(m,this,j(this,fe))}return null}addNewEditor(){He(this,ae,dn).call(this,He(this,ae,In).call(this),!0)}setSelected(m){j(this,fe).setSelected(m)}toggleSelected(m){j(this,fe).toggleSelected(m)}isSelected(m){return j(this,fe).isSelected(m)}unselect(m){j(this,fe).unselect(m)}pointerup(m){const{isMac:ue}=o.FeatureTest.platform;if(!(m.button!==0||m.ctrlKey&&ue)&&m.target===this.div&&j(this,ie)){if(Ye(this,ie,!1),!j(this,he)){Ye(this,he,!0);return}if(j(this,fe).getMode()===o.AnnotationEditorType.STAMP){j(this,fe).unselectAll();return}He(this,ae,dn).call(this,m,!1)}}pointerdown(m){if(j(this,ie)){Ye(this,ie,!1);return}const{isMac:ue}=o.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&ue||m.target!==this.div)return;Ye(this,ie,!0);const be=j(this,fe).getActive();Ye(this,he,!be||be.isEmpty())}findNewParent(m,ue,be){const je=j(this,fe).findParent(ue,be);return je===null||je===this?!1:(je.changeParent(m),!0)}destroy(){var m,ue;((m=j(this,fe).getActive())==null?void 0:m.parent)===this&&(j(this,fe).commitOrRemove(),j(this,fe).setActiveEditor(null));for(const be of j(this,ve).values())(ue=j(this,g))==null||ue.removePointerInTextLayer(be.contentDiv),be.setParent(null),be.isAttachedToDOM=!1,be.div.remove();this.div=null,j(this,ve).clear(),j(this,fe).removeLayer(this)}render({viewport:m}){this.viewport=m,(0,_.setLayerDimensions)(this.div,m);for(const ue of j(this,fe).getEditors(this.pageIndex))this.add(ue);this.updateMode()}update({viewport:m}){j(this,fe).commitOrRemove(),this.viewport=m,(0,_.setLayerDimensions)(this.div,{rotation:m.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:m,pageHeight:ue}=this.viewport.rawDims;return[m,ue]}};g=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakMap,re=new WeakMap,ve=new WeakMap,ie=new WeakMap,ee=new WeakMap,ce=new WeakMap,fe=new WeakMap,ae=new WeakSet,Ln=function(m){switch(j(this,fe).getMode()){case o.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(m);case o.AnnotationEditorType.INK:return new h.InkEditor(m);case o.AnnotationEditorType.STAMP:return new ne.StampEditor(m)}return null},dn=function(m,ue){const be=this.getNextId(),je=He(this,ae,Ln).call(this,{parent:this,id:be,x:m.offsetX,y:m.offsetY,uiManager:j(this,fe),isCentered:ue});return je&&this.add(je),je},In=function(){const{x:m,y:ue,width:be,height:je}=this.div.getBoundingClientRect(),Oe=Math.max(0,m),Le=Math.max(0,ue),me=Math.min(window.innerWidth,m+be),Ie=Math.min(window.innerHeight,ue+je),ye=(Oe+me)/2-m,Pe=(Le+Ie)/2-ue,[ke,Ee]=this.viewport.rotation%180===0?[ye,Pe]:[Pe,ye];return{offsetX:ke,offsetY:Ee}},Nn=function(){Ye(this,ee,!0);for(const m of j(this,ve).values())m.isEmpty()&&m.remove();Ye(this,ee,!1)},Ft(b,"_initialized",!1);let f=b;i.AnnotationEditorLayer=f},(e,i,a)=>{var ne,f,g,he,_e,q,re,ve,ie,ee,fr,pr,mr,tn,Bn,_r,Un;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=a(1),c=a(5),d=a(4),h=a(29);const b=class b extends d.AnnotationEditor{constructor(ue){super({...ue,name:"freeTextEditor"});We(this,ee);We(this,ne,this.editorDivBlur.bind(this));We(this,f,this.editorDivFocus.bind(this));We(this,g,this.editorDivInput.bind(this));We(this,he,this.editorDivKeydown.bind(this));We(this,_e);We(this,q,"");We(this,re,`${this.id}-editor`);We(this,ve);We(this,ie,null);Ye(this,_e,ue.color||b._defaultColor||d.AnnotationEditor._defaultLineColor),Ye(this,ve,ue.fontSize||b._defaultFontSize)}static get _keyboardManager(){const ue=b.prototype,be=Le=>Le.isEmpty(),je=c.AnnotationEditorUIManager.TRANSLATE_SMALL,Oe=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ue.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ue.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ue._translateEmpty,{args:[-je,0],checker:be}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ue._translateEmpty,{args:[-Oe,0],checker:be}],[["ArrowRight","mac+ArrowRight"],ue._translateEmpty,{args:[je,0],checker:be}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ue._translateEmpty,{args:[Oe,0],checker:be}],[["ArrowUp","mac+ArrowUp"],ue._translateEmpty,{args:[0,-je],checker:be}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ue._translateEmpty,{args:[0,-Oe],checker:be}],[["ArrowDown","mac+ArrowDown"],ue._translateEmpty,{args:[0,je],checker:be}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ue._translateEmpty,{args:[0,Oe],checker:be}]]))}static initialize(ue){d.AnnotationEditor.initialize(ue,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const be=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(be.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ue,be){switch(ue){case o.AnnotationEditorParamsType.FREETEXT_SIZE:b._defaultFontSize=be;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:b._defaultColor=be;break}}updateParams(ue,be){switch(ue){case o.AnnotationEditorParamsType.FREETEXT_SIZE:He(this,ee,fr).call(this,be);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:He(this,ee,pr).call(this,be);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,b._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,b._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,j(this,ve)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,j(this,_e)]]}_translateEmpty(ue,be){this._uiManager.translateSelectedEditors(ue,be,!0)}getInitialTranslation(){const ue=this.parentScale;return[-b._internalPadding*ue,-(b._internalPadding+j(this,ve))*ue]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",j(this,he)),this.editorDiv.addEventListener("focus",j(this,f)),this.editorDiv.addEventListener("blur",j(this,ne)),this.editorDiv.addEventListener("input",j(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",j(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",j(this,he)),this.editorDiv.removeEventListener("focus",j(this,f)),this.editorDiv.removeEventListener("blur",j(this,ne)),this.editorDiv.removeEventListener("input",j(this,g)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ue){this._focusEventsAllowed&&(super.focusin(ue),ue.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ue;if(this.width){He(this,ee,Un).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ue=this._initialOptions)!=null&&ue.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ue=j(this,q),be=Ye(this,q,He(this,ee,mr).call(this).trimEnd());if(ue===be)return;const je=Oe=>{if(Ye(this,q,Oe),!Oe){this.remove();return}He(this,ee,Bn).call(this),this._uiManager.rebuild(this),He(this,ee,tn).call(this)};this.addCommands({cmd:()=>{je(be)},undo:()=>{je(ue)},mustExec:!1}),He(this,ee,tn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ue){this.enterInEditMode()}keydown(ue){ue.target===this.div&&ue.key==="Enter"&&(this.enterInEditMode(),ue.preventDefault())}editorDivKeydown(ue){b._keyboardManager.exec(this,ue)}editorDivFocus(ue){this.isEditing=!0}editorDivBlur(ue){this.isEditing=!1}editorDivInput(ue){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ue,be;this.width&&(ue=this.x,be=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",j(this,re)),this.enableEditing(),d.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Oe=>{var Le;return(Le=this.editorDiv)==null?void 0:Le.setAttribute("aria-label",Oe)}),d.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Oe=>{var Le;return(Le=this.editorDiv)==null?void 0:Le.setAttribute("default-content",Oe)}),this.editorDiv.contentEditable=!0;const{style:je}=this.editorDiv;if(je.fontSize=`calc(${j(this,ve)}px * var(--scale-factor))`,je.color=j(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Oe,Le]=this.parentDimensions;if(this.annotationElementId){const{position:me}=j(this,ie);let[Ie,ye]=this.getInitialTranslation();[Ie,ye]=this.pageTranslationToScreen(Ie,ye);const[Pe,ke]=this.pageDimensions,[Ee,le]=this.pageTranslation;let de,xe;switch(this.rotation){case 0:de=ue+(me[0]-Ee)/Pe,xe=be+this.height-(me[1]-le)/ke;break;case 90:de=ue+(me[0]-Ee)/Pe,xe=be-(me[1]-le)/ke,[Ie,ye]=[ye,-Ie];break;case 180:de=ue-this.width+(me[0]-Ee)/Pe,xe=be-(me[1]-le)/ke,[Ie,ye]=[-Ie,-ye];break;case 270:de=ue+(me[0]-Ee-this.height*ke)/Pe,xe=be+(me[1]-le-this.width*Pe)/ke,[Ie,ye]=[-ye,Ie];break}this.setAt(de*Oe,xe*Le,Ie,ye)}else this.setAt(ue*Oe,be*Le,this.width*Oe,this.height*Le);He(this,ee,Bn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ue,be,je){let Oe=null;if(ue instanceof h.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:me,fontColor:Ie},rect:ye,rotation:Pe,id:ke},textContent:Ee,textPosition:le,parent:{page:{pageNumber:de}}}=ue;if(!Ee||Ee.length===0)return null;Oe=ue={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Ie),fontSize:me,value:Ee.join(`
`),position:le,pageIndex:de-1,rect:ye,rotation:Pe,id:ke,deleted:!1}}const Le=super.deserialize(ue,be,je);return Ye(Le,ve,ue.fontSize),Ye(Le,_e,o.Util.makeHexColor(...ue.color)),Ye(Le,q,ue.value),Le.annotationElementId=ue.id||null,Ye(Le,ie,Oe),Le}serialize(ue=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const be=b._internalPadding*this.parentScale,je=this.getRect(be,be),Oe=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:j(this,_e)),Le={annotationType:o.AnnotationEditorType.FREETEXT,color:Oe,fontSize:j(this,ve),value:j(this,q),pageIndex:this.pageIndex,rect:je,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ue?Le:this.annotationElementId&&!He(this,ee,_r).call(this,Le)?null:(Le.id=this.annotationElementId,Le)}};ne=new WeakMap,f=new WeakMap,g=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakMap,re=new WeakMap,ve=new WeakMap,ie=new WeakMap,ee=new WeakSet,fr=function(ue){const be=Oe=>{this.editorDiv.style.fontSize=`calc(${Oe}px * var(--scale-factor))`,this.translate(0,-(Oe-j(this,ve))*this.parentScale),Ye(this,ve,Oe),He(this,ee,tn).call(this)},je=j(this,ve);this.addCommands({cmd:()=>{be(ue)},undo:()=>{be(je)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pr=function(ue){const be=j(this,_e);this.addCommands({cmd:()=>{Ye(this,_e,this.editorDiv.style.color=ue)},undo:()=>{Ye(this,_e,this.editorDiv.style.color=be)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},mr=function(){const ue=this.editorDiv.getElementsByTagName("div");if(ue.length===0)return this.editorDiv.innerText;const be=[];for(const je of ue)be.push(je.innerText.replace(/\r\n?|\n/,""));return be.join(`
`)},tn=function(){const[ue,be]=this.parentDimensions;let je;if(this.isAttachedToDOM)je=this.div.getBoundingClientRect();else{const{currentLayer:Oe,div:Le}=this,me=Le.style.display;Le.style.display="hidden",Oe.div.append(this.div),je=Le.getBoundingClientRect(),Le.remove(),Le.style.display=me}this.rotation%180===this.parentRotation%180?(this.width=je.width/ue,this.height=je.height/be):(this.width=je.height/ue,this.height=je.width/be),this.fixAndSetPosition()},Bn=function(){if(this.editorDiv.replaceChildren(),!!j(this,q))for(const ue of j(this,q).split(`
`)){const be=document.createElement("div");be.append(ue?document.createTextNode(ue):document.createElement("br")),this.editorDiv.append(be)}},_r=function(ue){const{value:be,fontSize:je,color:Oe,rect:Le,pageIndex:me}=j(this,ie);return ue.value!==be||ue.fontSize!==je||ue.rect.some((Ie,ye)=>Math.abs(Ie-Le[ye])>=1)||ue.color.some((Ie,ye)=>Ie!==Oe[ye])||ue.pageIndex!==me},Un=function(ue=!1){if(!this.annotationElementId)return;if(He(this,ee,tn).call(this),!ue&&(this.width===0||this.height===0)){setTimeout(()=>He(this,ee,Un).call(this,!0),0);return}const be=b._internalPadding*this.parentScale;j(this,ie).rect=this.getRect(be,be)},Ft(b,"_freeTextDefaultContent",""),Ft(b,"_internalPadding",0),Ft(b,"_defaultColor",null),Ft(b,"_defaultFontSize",10),Ft(b,"_type","freetext");let _=b;i.FreeTextEditor=_},(e,i,a)=>{var xe,we,Ht,gr,Ne,Ve,Je,nt,Qe,tt,Ge,qe,Se,Ce,Be,ze,et,at,st,Fe,ct,dt,br,hn,Gn,qn,gt,Tt,kt,lt,Xe,Ke,_t,Hn,jt,De,it,ht,vr,zn;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=a(1),c=a(6),d=a(3),h=a(30),_=a(31),ne=a(32);const f=1e3,g=9,he=new WeakSet;function _e(pt){return{width:pt[2]-pt[0],height:pt[3]-pt[1]}}class q{static create(Re){switch(Re.data.annotationType){case o.AnnotationType.LINK:return new ve(Re);case o.AnnotationType.TEXT:return new ie(Re);case o.AnnotationType.WIDGET:switch(Re.data.fieldType){case"Tx":return new ce(Re);case"Btn":return Re.data.radioButton?new $(Re):Re.data.checkBox?new ae(Re):new oe(Re);case"Ch":return new se(Re);case"Sig":return new fe(Re)}return new ee(Re);case o.AnnotationType.POPUP:return new te(Re);case o.AnnotationType.FREETEXT:return new ge(Re);case o.AnnotationType.LINE:return new m(Re);case o.AnnotationType.SQUARE:return new ue(Re);case o.AnnotationType.CIRCLE:return new be(Re);case o.AnnotationType.POLYLINE:return new je(Re);case o.AnnotationType.CARET:return new Le(Re);case o.AnnotationType.INK:return new me(Re);case o.AnnotationType.POLYGON:return new Oe(Re);case o.AnnotationType.HIGHLIGHT:return new Ie(Re);case o.AnnotationType.UNDERLINE:return new ye(Re);case o.AnnotationType.SQUIGGLY:return new Pe(Re);case o.AnnotationType.STRIKEOUT:return new ke(Re);case o.AnnotationType.STAMP:return new Ee(Re);case o.AnnotationType.FILEATTACHMENT:return new le(Re);default:return new re(Re)}}}const Ae=class Ae{constructor(Re,{isRenderable:Te=!1,ignoreBorder:Ue=!1,createQuadrilaterals:Ze=!1}={}){We(this,xe,!1);this.isRenderable=Te,this.data=Re.data,this.layer=Re.layer,this.linkService=Re.linkService,this.downloadManager=Re.downloadManager,this.imageResourcesPath=Re.imageResourcesPath,this.renderForms=Re.renderForms,this.svgFactory=Re.svgFactory,this.annotationStorage=Re.annotationStorage,this.enableScripting=Re.enableScripting,this.hasJSActions=Re.hasJSActions,this._fieldObjects=Re.fieldObjects,this.parent=Re.parent,Te&&(this.container=this._createContainer(Ue)),Ze&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Re,contentsObj:Te,richText:Ue}){return!!(Re!=null&&Re.str||Te!=null&&Te.str||Ue!=null&&Ue.str)}get hasPopupData(){return Ae._hasPopupData(this.data)}_createContainer(Re){const{data:Te,parent:{page:Ue,viewport:Ze}}=this,rt=document.createElement("section");rt.setAttribute("data-annotation-id",Te.id),this instanceof ee||(rt.tabIndex=f),rt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&rt.setAttribute("aria-haspopup","dialog"),Te.noRotate&&rt.classList.add("norotate");const{pageWidth:ot,pageHeight:ut,pageX:St,pageY:bt}=Ze.rawDims;if(!Te.rect||this instanceof te){const{rotation:Et}=Te;return!Te.hasOwnCanvas&&Et!==0&&this.setRotation(Et,rt),rt}const{width:ft,height:$t}=_e(Te.rect),vt=o.Util.normalizeRect([Te.rect[0],Ue.view[3]-Te.rect[1]+Ue.view[1],Te.rect[2],Ue.view[3]-Te.rect[3]+Ue.view[1]]);if(!Re&&Te.borderStyle.width>0){rt.style.borderWidth=`${Te.borderStyle.width}px`;const Et=Te.borderStyle.horizontalCornerRadius,Ot=Te.borderStyle.verticalCornerRadius;if(Et>0||Ot>0){const Dt=`calc(${Et}px * var(--scale-factor)) / calc(${Ot}px * var(--scale-factor))`;rt.style.borderRadius=Dt}else if(this instanceof $){const Dt=`calc(${ft}px * var(--scale-factor)) / calc(${$t}px * var(--scale-factor))`;rt.style.borderRadius=Dt}switch(Te.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:rt.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:rt.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:rt.style.borderBottomStyle="solid";break}const Mt=Te.borderColor||null;Mt?(Ye(this,xe,!0),rt.style.borderColor=o.Util.makeHexColor(Mt[0]|0,Mt[1]|0,Mt[2]|0)):rt.style.borderWidth=0}rt.style.left=`${100*(vt[0]-St)/ot}%`,rt.style.top=`${100*(vt[1]-bt)/ut}%`;const{rotation:wt}=Te;return Te.hasOwnCanvas||wt===0?(rt.style.width=`${100*ft/ot}%`,rt.style.height=`${100*$t/ut}%`):this.setRotation(wt,rt),rt}setRotation(Re,Te=this.container){if(!this.data.rect)return;const{pageWidth:Ue,pageHeight:Ze}=this.parent.viewport.rawDims,{width:rt,height:ot}=_e(this.data.rect);let ut,St;Re%180===0?(ut=100*rt/Ue,St=100*ot/Ze):(ut=100*ot/Ue,St=100*rt/Ze),Te.style.width=`${ut}%`,Te.style.height=`${St}%`,Te.setAttribute("data-main-rotation",(360-Re)%360)}get _commonActions(){const Re=(Te,Ue,Ze)=>{const rt=Ze.detail[Te],ot=rt[0],ut=rt.slice(1);Ze.target.style[Ue]=h.ColorConverters[`${ot}_HTML`](ut),this.annotationStorage.setValue(this.data.id,{[Ue]:h.ColorConverters[`${ot}_rgb`](ut)})};return(0,o.shadow)(this,"_commonActions",{display:Te=>{const{display:Ue}=Te.detail,Ze=Ue%2===1;this.container.style.visibility=Ze?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ze,noPrint:Ue===1||Ue===2})},print:Te=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Te.detail.print})},hidden:Te=>{const{hidden:Ue}=Te.detail;this.container.style.visibility=Ue?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ue,noView:Ue})},focus:Te=>{setTimeout(()=>Te.target.focus({preventScroll:!1}),0)},userName:Te=>{Te.target.title=Te.detail.userName},readonly:Te=>{Te.target.disabled=Te.detail.readonly},required:Te=>{this._setRequired(Te.target,Te.detail.required)},bgColor:Te=>{Re("bgColor","backgroundColor",Te)},fillColor:Te=>{Re("fillColor","backgroundColor",Te)},fgColor:Te=>{Re("fgColor","color",Te)},textColor:Te=>{Re("textColor","color",Te)},borderColor:Te=>{Re("borderColor","borderColor",Te)},strokeColor:Te=>{Re("strokeColor","borderColor",Te)},rotation:Te=>{const Ue=Te.detail.rotation;this.setRotation(Ue),this.annotationStorage.setValue(this.data.id,{rotation:Ue})}})}_dispatchEventFromSandbox(Re,Te){const Ue=this._commonActions;for(const Ze of Object.keys(Te.detail)){const rt=Re[Ze]||Ue[Ze];rt==null||rt(Te)}}_setDefaultPropertiesFromJS(Re){if(!this.enableScripting)return;const Te=this.annotationStorage.getRawValue(this.data.id);if(!Te)return;const Ue=this._commonActions;for(const[Ze,rt]of Object.entries(Te)){const ot=Ue[Ze];if(ot){const ut={detail:{[Ze]:rt},target:Re};ot(ut),delete Te[Ze]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Re}=this.data;if(!Re)return;const[Te,Ue,Ze,rt]=this.data.rect;if(Re.length===1){const[,{x:Ot,y:Mt},{x:Dt,y:It}]=Re[0];if(Ze===Ot&&rt===Mt&&Te===Dt&&Ue===It)return}const{style:ot}=this.container;let ut;if(j(this,xe)){const{borderColor:Ot,borderWidth:Mt}=ot;ot.borderWidth=0,ut=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ot}" stroke-width="${Mt}">`],this.container.classList.add("hasBorder")}const St=Ze-Te,bt=rt-Ue,{svgFactory:ft}=this,$t=ft.createElement("svg");$t.classList.add("quadrilateralsContainer"),$t.setAttribute("width",0),$t.setAttribute("height",0);const vt=ft.createElement("defs");$t.append(vt);const wt=ft.createElement("clipPath"),Et=`clippath_${this.data.id}`;wt.setAttribute("id",Et),wt.setAttribute("clipPathUnits","objectBoundingBox"),vt.append(wt);for(const[,{x:Ot,y:Mt},{x:Dt,y:It}]of Re){const Lt=ft.createElement("rect"),Bt=(Dt-Te)/St,Gt=(rt-Mt)/bt,qt=(Ot-Dt)/St,er=(Mt-It)/bt;Lt.setAttribute("x",Bt),Lt.setAttribute("y",Gt),Lt.setAttribute("width",qt),Lt.setAttribute("height",er),wt.append(Lt),ut==null||ut.push(`<rect vector-effect="non-scaling-stroke" x="${Bt}" y="${Gt}" width="${qt}" height="${er}"/>`)}j(this,xe)&&(ut.push("</g></svg>')"),ot.backgroundImage=ut.join("")),this.container.append($t),this.container.style.clipPath=`url(#${Et})`}_createPopup(){const{container:Re,data:Te}=this;Re.setAttribute("aria-haspopup","dialog");const Ue=new te({data:{color:Te.color,titleObj:Te.titleObj,modificationDate:Te.modificationDate,contentsObj:Te.contentsObj,richText:Te.richText,parentRect:Te.rect,borderStyle:0,id:`popup_${Te.id}`,rotation:Te.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ue.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Re,Te=null){const Ue=[];if(this._fieldObjects){const Ze=this._fieldObjects[Re];if(Ze)for(const{page:rt,id:ot,exportValues:ut}of Ze){if(rt===-1||ot===Te)continue;const St=typeof ut=="string"?ut:null,bt=document.querySelector(`[data-element-id="${ot}"]`);if(bt&&!he.has(bt)){(0,o.warn)(`_getElementsByName - element not allowed: ${ot}`);continue}Ue.push({id:ot,exportValue:St,domElement:bt})}return Ue}for(const Ze of document.getElementsByName(Re)){const{exportValue:rt}=Ze,ot=Ze.getAttribute("data-element-id");ot!==Te&&he.has(Ze)&&Ue.push({id:ot,exportValue:rt,domElement:Ze})}return Ue}show(){var Re;this.container&&(this.container.hidden=!1),(Re=this.popup)==null||Re.maybeShow()}hide(){var Re;this.container&&(this.container.hidden=!0),(Re=this.popup)==null||Re.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Re=this.getElementsToTriggerPopup();if(Array.isArray(Re))for(const Te of Re)Te.classList.add("highlightArea");else Re.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Re,data:{id:Te}}=this;this.container.addEventListener("dblclick",()=>{var Ue;(Ue=this.linkService.eventBus)==null||Ue.dispatch("switchannotationeditormode",{source:this,mode:Re,editId:Te})})}};xe=new WeakMap;let re=Ae;class ve extends re{constructor(Te,Ue=null){super(Te,{isRenderable:!0,ignoreBorder:!!(Ue!=null&&Ue.ignoreBorder),createQuadrilaterals:!0});We(this,we);this.isTooltipOnly=Te.data.isTooltipOnly}render(){const{data:Te,linkService:Ue}=this,Ze=document.createElement("a");Ze.setAttribute("data-element-id",Te.id);let rt=!1;return Te.url?(Ue.addLinkAttributes(Ze,Te.url,Te.newWindow),rt=!0):Te.action?(this._bindNamedAction(Ze,Te.action),rt=!0):Te.attachment?(this._bindAttachment(Ze,Te.attachment),rt=!0):Te.setOCGState?(He(this,we,gr).call(this,Ze,Te.setOCGState),rt=!0):Te.dest?(this._bindLink(Ze,Te.dest),rt=!0):(Te.actions&&(Te.actions.Action||Te.actions["Mouse Up"]||Te.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ze,Te),rt=!0),Te.resetForm?(this._bindResetFormAction(Ze,Te.resetForm),rt=!0):this.isTooltipOnly&&!rt&&(this._bindLink(Ze,""),rt=!0)),this.container.classList.add("linkAnnotation"),rt&&this.container.append(Ze),this.container}_bindLink(Te,Ue){Te.href=this.linkService.getDestinationHash(Ue),Te.onclick=()=>(Ue&&this.linkService.goToDestination(Ue),!1),(Ue||Ue==="")&&He(this,we,Ht).call(this)}_bindNamedAction(Te,Ue){Te.href=this.linkService.getAnchorUrl(""),Te.onclick=()=>(this.linkService.executeNamedAction(Ue),!1),He(this,we,Ht).call(this)}_bindAttachment(Te,Ue){Te.href=this.linkService.getAnchorUrl(""),Te.onclick=()=>{var Ze;return(Ze=this.downloadManager)==null||Ze.openOrDownloadData(this.container,Ue.content,Ue.filename),!1},He(this,we,Ht).call(this)}_bindJSAction(Te,Ue){Te.href=this.linkService.getAnchorUrl("");const Ze=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const rt of Object.keys(Ue.actions)){const ot=Ze.get(rt);ot&&(Te[ot]=()=>{var ut;return(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue.id,name:rt}}),!1})}Te.onclick||(Te.onclick=()=>!1),He(this,we,Ht).call(this)}_bindResetFormAction(Te,Ue){const Ze=Te.onclick;if(Ze||(Te.href=this.linkService.getAnchorUrl("")),He(this,we,Ht).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ze||(Te.onclick=()=>!1);return}Te.onclick=()=>{var $t;Ze==null||Ze();const{fields:rt,refs:ot,include:ut}=Ue,St=[];if(rt.length!==0||ot.length!==0){const vt=new Set(ot);for(const wt of rt){const Et=this._fieldObjects[wt]||[];for(const{id:Ot}of Et)vt.add(Ot)}for(const wt of Object.values(this._fieldObjects))for(const Et of wt)vt.has(Et.id)===ut&&St.push(Et)}else for(const vt of Object.values(this._fieldObjects))St.push(...vt);const bt=this.annotationStorage,ft=[];for(const vt of St){const{id:wt}=vt;switch(ft.push(wt),vt.type){case"text":{const Ot=vt.defaultValue||"";bt.setValue(wt,{value:Ot});break}case"checkbox":case"radiobutton":{const Ot=vt.defaultValue===vt.exportValues;bt.setValue(wt,{value:Ot});break}case"combobox":case"listbox":{const Ot=vt.defaultValue||"";bt.setValue(wt,{value:Ot});break}default:continue}const Et=document.querySelector(`[data-element-id="${wt}"]`);if(Et){if(!he.has(Et)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${wt}`);continue}}else continue;Et.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ft,name:"ResetForm"}})),!1}}}we=new WeakSet,Ht=function(){this.container.setAttribute("data-internal-link","")},gr=function(Te,Ue){Te.href=this.linkService.getAnchorUrl(""),Te.onclick=()=>(this.linkService.executeSetOCGState(Ue),!1),He(this,we,Ht).call(this)};class ie extends re{constructor(Re){super(Re,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Re=document.createElement("img");return Re.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Re.alt="[{{type}} Annotation]",Re.dataset.l10nId="text_annotation_type",Re.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Re),this.container}}class ee extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Re){var Te;this.data.hasOwnCanvas&&(((Te=Re.previousSibling)==null?void 0:Te.nodeName)==="CANVAS"&&(Re.previousSibling.hidden=!0),Re.hidden=!1)}_getKeyModifier(Re){const{isWin:Te,isMac:Ue}=o.FeatureTest.platform;return Te&&Re.ctrlKey||Ue&&Re.metaKey}_setEventListener(Re,Te,Ue,Ze,rt){Ue.includes("mouse")?Re.addEventListener(Ue,ot=>{var ut;(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ze,value:rt(ot),shift:ot.shiftKey,modifier:this._getKeyModifier(ot)}})}):Re.addEventListener(Ue,ot=>{var ut;if(Ue==="blur"){if(!Te.focused||!ot.relatedTarget)return;Te.focused=!1}else if(Ue==="focus"){if(Te.focused)return;Te.focused=!0}rt&&((ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ze,value:rt(ot)}}))})}_setEventListeners(Re,Te,Ue,Ze){var rt,ot,ut;for(const[St,bt]of Ue)(bt==="Action"||(rt=this.data.actions)!=null&&rt[bt])&&((bt==="Focus"||bt==="Blur")&&(Te||(Te={focused:!1})),this._setEventListener(Re,Te,St,bt,Ze),bt==="Focus"&&!((ot=this.data.actions)!=null&&ot.Blur)?this._setEventListener(Re,Te,"blur","Blur",null):bt==="Blur"&&!((ut=this.data.actions)!=null&&ut.Focus)&&this._setEventListener(Re,Te,"focus","Focus",null))}_setBackgroundColor(Re){const Te=this.data.backgroundColor||null;Re.style.backgroundColor=Te===null?"transparent":o.Util.makeHexColor(Te[0],Te[1],Te[2])}_setTextStyle(Re){const Te=["left","center","right"],{fontColor:Ue}=this.data.defaultAppearanceData,Ze=this.data.defaultAppearanceData.fontSize||g,rt=Re.style;let ot;const ut=2,St=bt=>Math.round(10*bt)/10;if(this.data.multiLine){const bt=Math.abs(this.data.rect[3]-this.data.rect[1]-ut),ft=Math.round(bt/(o.LINE_FACTOR*Ze))||1,$t=bt/ft;ot=Math.min(Ze,St($t/o.LINE_FACTOR))}else{const bt=Math.abs(this.data.rect[3]-this.data.rect[1]-ut);ot=Math.min(Ze,St(bt/o.LINE_FACTOR))}rt.fontSize=`calc(${ot}px * var(--scale-factor))`,rt.color=o.Util.makeHexColor(Ue[0],Ue[1],Ue[2]),this.data.textAlignment!==null&&(rt.textAlign=Te[this.data.textAlignment])}_setRequired(Re,Te){Te?Re.setAttribute("required",!0):Re.removeAttribute("required"),Re.setAttribute("aria-required",Te)}}class ce extends ee{constructor(Re){const Te=Re.renderForms||!Re.data.hasAppearance&&!!Re.data.fieldValue;super(Re,{isRenderable:Te})}setPropertyOnSiblings(Re,Te,Ue,Ze){const rt=this.annotationStorage;for(const ot of this._getElementsByName(Re.name,Re.id))ot.domElement&&(ot.domElement[Te]=Ue),rt.setValue(ot.id,{[Ze]:Ue})}render(){var Ze,rt;const Re=this.annotationStorage,Te=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ue=null;if(this.renderForms){const ot=Re.getValue(Te,{value:this.data.fieldValue});let ut=ot.value||"";const St=Re.getValue(Te,{charLimit:this.data.maxLen}).charLimit;St&&ut.length>St&&(ut=ut.slice(0,St));let bt=ot.formattedValue||((Ze=this.data.textContent)==null?void 0:Ze.join(`
`))||null;bt&&this.data.comb&&(bt=bt.replaceAll(/\s+/g,""));const ft={userValue:ut,formattedValue:bt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ue=document.createElement("textarea"),Ue.textContent=bt??ut,this.data.doNotScroll&&(Ue.style.overflowY="hidden")):(Ue=document.createElement("input"),Ue.type="text",Ue.setAttribute("value",bt??ut),this.data.doNotScroll&&(Ue.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ue.hidden=!0),he.add(Ue),Ue.setAttribute("data-element-id",Te),Ue.disabled=this.data.readOnly,Ue.name=this.data.fieldName,Ue.tabIndex=f,this._setRequired(Ue,this.data.required),St&&(Ue.maxLength=St),Ue.addEventListener("input",vt=>{Re.setValue(Te,{value:vt.target.value}),this.setPropertyOnSiblings(Ue,"value",vt.target.value,"value"),ft.formattedValue=null}),Ue.addEventListener("resetform",vt=>{const wt=this.data.defaultFieldValue??"";Ue.value=ft.userValue=wt,ft.formattedValue=null});let $t=vt=>{const{formattedValue:wt}=ft;wt!=null&&(vt.target.value=wt),vt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ue.addEventListener("focus",wt=>{if(ft.focused)return;const{target:Et}=wt;ft.userValue&&(Et.value=ft.userValue),ft.lastCommittedValue=Et.value,ft.commitKey=1,ft.focused=!0}),Ue.addEventListener("updatefromsandbox",wt=>{this.showElementAndHideCanvas(wt.target);const Et={value(Ot){ft.userValue=Ot.detail.value??"",Re.setValue(Te,{value:ft.userValue.toString()}),Ot.target.value=ft.userValue},formattedValue(Ot){const{formattedValue:Mt}=Ot.detail;ft.formattedValue=Mt,Mt!=null&&Ot.target!==document.activeElement&&(Ot.target.value=Mt),Re.setValue(Te,{formattedValue:Mt})},selRange(Ot){Ot.target.setSelectionRange(...Ot.detail.selRange)},charLimit:Ot=>{var Lt;const{charLimit:Mt}=Ot.detail,{target:Dt}=Ot;if(Mt===0){Dt.removeAttribute("maxLength");return}Dt.setAttribute("maxLength",Mt);let It=ft.userValue;!It||It.length<=Mt||(It=It.slice(0,Mt),Dt.value=ft.userValue=It,Re.setValue(Te,{value:It}),(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te,name:"Keystroke",value:It,willCommit:!0,commitKey:1,selStart:Dt.selectionStart,selEnd:Dt.selectionEnd}}))}};this._dispatchEventFromSandbox(Et,wt)}),Ue.addEventListener("keydown",wt=>{var Mt;ft.commitKey=1;let Et=-1;if(wt.key==="Escape"?Et=0:wt.key==="Enter"&&!this.data.multiLine?Et=2:wt.key==="Tab"&&(ft.commitKey=3),Et===-1)return;const{value:Ot}=wt.target;ft.lastCommittedValue!==Ot&&(ft.lastCommittedValue=Ot,ft.userValue=Ot,(Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te,name:"Keystroke",value:Ot,willCommit:!0,commitKey:Et,selStart:wt.target.selectionStart,selEnd:wt.target.selectionEnd}}))});const vt=$t;$t=null,Ue.addEventListener("blur",wt=>{var Ot;if(!ft.focused||!wt.relatedTarget)return;ft.focused=!1;const{value:Et}=wt.target;ft.userValue=Et,ft.lastCommittedValue!==Et&&((Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te,name:"Keystroke",value:Et,willCommit:!0,commitKey:ft.commitKey,selStart:wt.target.selectionStart,selEnd:wt.target.selectionEnd}})),vt(wt)}),(rt=this.data.actions)!=null&&rt.Keystroke&&Ue.addEventListener("beforeinput",wt=>{var Gt;ft.lastCommittedValue=null;const{data:Et,target:Ot}=wt,{value:Mt,selectionStart:Dt,selectionEnd:It}=Ot;let Lt=Dt,Bt=It;switch(wt.inputType){case"deleteWordBackward":{const qt=Mt.substring(0,Dt).match(/\w*[^\w]*$/);qt&&(Lt-=qt[0].length);break}case"deleteWordForward":{const qt=Mt.substring(Dt).match(/^[^\w]*\w*/);qt&&(Bt+=qt[0].length);break}case"deleteContentBackward":Dt===It&&(Lt-=1);break;case"deleteContentForward":Dt===It&&(Bt+=1);break}wt.preventDefault(),(Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te,name:"Keystroke",value:Mt,change:Et||"",willCommit:!1,selStart:Lt,selEnd:Bt}})}),this._setEventListeners(Ue,ft,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wt=>wt.target.value)}if($t&&Ue.addEventListener("blur",$t),this.data.comb){const wt=(this.data.rect[2]-this.data.rect[0])/St;Ue.classList.add("comb"),Ue.style.letterSpacing=`calc(${wt}px * var(--scale-factor) - 1ch)`}}else Ue=document.createElement("div"),Ue.textContent=this.data.fieldValue,Ue.style.verticalAlign="middle",Ue.style.display="table-cell";return this._setTextStyle(Ue),this._setBackgroundColor(Ue),this._setDefaultPropertiesFromJS(Ue),this.container.append(Ue),this.container}}class fe extends ee{constructor(Re){super(Re,{isRenderable:!!Re.data.hasOwnCanvas})}}class ae extends ee{constructor(Re){super(Re,{isRenderable:Re.renderForms})}render(){const Re=this.annotationStorage,Te=this.data,Ue=Te.id;let Ze=Re.getValue(Ue,{value:Te.exportValue===Te.fieldValue}).value;typeof Ze=="string"&&(Ze=Ze!=="Off",Re.setValue(Ue,{value:Ze})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const rt=document.createElement("input");return he.add(rt),rt.setAttribute("data-element-id",Ue),rt.disabled=Te.readOnly,this._setRequired(rt,this.data.required),rt.type="checkbox",rt.name=Te.fieldName,Ze&&rt.setAttribute("checked",!0),rt.setAttribute("exportValue",Te.exportValue),rt.tabIndex=f,rt.addEventListener("change",ot=>{const{name:ut,checked:St}=ot.target;for(const bt of this._getElementsByName(ut,Ue)){const ft=St&&bt.exportValue===Te.exportValue;bt.domElement&&(bt.domElement.checked=ft),Re.setValue(bt.id,{value:ft})}Re.setValue(Ue,{value:St})}),rt.addEventListener("resetform",ot=>{const ut=Te.defaultFieldValue||"Off";ot.target.checked=ut===Te.exportValue}),this.enableScripting&&this.hasJSActions&&(rt.addEventListener("updatefromsandbox",ot=>{const ut={value(St){St.target.checked=St.detail.value!=="Off",Re.setValue(Ue,{value:St.target.checked})}};this._dispatchEventFromSandbox(ut,ot)}),this._setEventListeners(rt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ot=>ot.target.checked)),this._setBackgroundColor(rt),this._setDefaultPropertiesFromJS(rt),this.container.append(rt),this.container}}class $ extends ee{constructor(Re){super(Re,{isRenderable:Re.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Re=this.annotationStorage,Te=this.data,Ue=Te.id;let Ze=Re.getValue(Ue,{value:Te.fieldValue===Te.buttonValue}).value;typeof Ze=="string"&&(Ze=Ze!==Te.buttonValue,Re.setValue(Ue,{value:Ze}));const rt=document.createElement("input");if(he.add(rt),rt.setAttribute("data-element-id",Ue),rt.disabled=Te.readOnly,this._setRequired(rt,this.data.required),rt.type="radio",rt.name=Te.fieldName,Ze&&rt.setAttribute("checked",!0),rt.tabIndex=f,rt.addEventListener("change",ot=>{const{name:ut,checked:St}=ot.target;for(const bt of this._getElementsByName(ut,Ue))Re.setValue(bt.id,{value:!1});Re.setValue(Ue,{value:St})}),rt.addEventListener("resetform",ot=>{const ut=Te.defaultFieldValue;ot.target.checked=ut!=null&&ut===Te.buttonValue}),this.enableScripting&&this.hasJSActions){const ot=Te.buttonValue;rt.addEventListener("updatefromsandbox",ut=>{const St={value:bt=>{const ft=ot===bt.detail.value;for(const $t of this._getElementsByName(bt.target.name)){const vt=ft&&$t.id===Ue;$t.domElement&&($t.domElement.checked=vt),Re.setValue($t.id,{value:vt})}}};this._dispatchEventFromSandbox(St,ut)}),this._setEventListeners(rt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ut=>ut.target.checked)}return this._setBackgroundColor(rt),this._setDefaultPropertiesFromJS(rt),this.container.append(rt),this.container}}class oe extends ve{constructor(Re){super(Re,{ignoreBorder:Re.data.hasAppearance})}render(){const Re=super.render();Re.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Re.title=this.data.alternativeText);const Te=Re.lastChild;return this.enableScripting&&this.hasJSActions&&Te&&(this._setDefaultPropertiesFromJS(Te),Te.addEventListener("updatefromsandbox",Ue=>{this._dispatchEventFromSandbox({},Ue)})),Re}}class se extends ee{constructor(Re){super(Re,{isRenderable:Re.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Re=this.annotationStorage,Te=this.data.id,Ue=Re.getValue(Te,{value:this.data.fieldValue}),Ze=document.createElement("select");he.add(Ze),Ze.setAttribute("data-element-id",Te),Ze.disabled=this.data.readOnly,this._setRequired(Ze,this.data.required),Ze.name=this.data.fieldName,Ze.tabIndex=f;let rt=this.data.combo&&this.data.options.length>0;this.data.combo||(Ze.size=this.data.options.length,this.data.multiSelect&&(Ze.multiple=!0)),Ze.addEventListener("resetform",ft=>{const $t=this.data.defaultFieldValue;for(const vt of Ze.options)vt.selected=vt.value===$t});for(const ft of this.data.options){const $t=document.createElement("option");$t.textContent=ft.displayValue,$t.value=ft.exportValue,Ue.value.includes(ft.exportValue)&&($t.setAttribute("selected",!0),rt=!1),Ze.append($t)}let ot=null;if(rt){const ft=document.createElement("option");ft.value=" ",ft.setAttribute("hidden",!0),ft.setAttribute("selected",!0),Ze.prepend(ft),ot=()=>{ft.remove(),Ze.removeEventListener("input",ot),ot=null},Ze.addEventListener("input",ot)}const ut=ft=>{const $t=ft?"value":"textContent",{options:vt,multiple:wt}=Ze;return wt?Array.prototype.filter.call(vt,Et=>Et.selected).map(Et=>Et[$t]):vt.selectedIndex===-1?null:vt[vt.selectedIndex][$t]};let St=ut(!1);const bt=ft=>{const $t=ft.target.options;return Array.prototype.map.call($t,vt=>({displayValue:vt.textContent,exportValue:vt.value}))};return this.enableScripting&&this.hasJSActions?(Ze.addEventListener("updatefromsandbox",ft=>{const $t={value(vt){ot==null||ot();const wt=vt.detail.value,Et=new Set(Array.isArray(wt)?wt:[wt]);for(const Ot of Ze.options)Ot.selected=Et.has(Ot.value);Re.setValue(Te,{value:ut(!0)}),St=ut(!1)},multipleSelection(vt){Ze.multiple=!0},remove(vt){const wt=Ze.options,Et=vt.detail.remove;wt[Et].selected=!1,Ze.remove(Et),wt.length>0&&Array.prototype.findIndex.call(wt,Mt=>Mt.selected)===-1&&(wt[0].selected=!0),Re.setValue(Te,{value:ut(!0),items:bt(vt)}),St=ut(!1)},clear(vt){for(;Ze.length!==0;)Ze.remove(0);Re.setValue(Te,{value:null,items:[]}),St=ut(!1)},insert(vt){const{index:wt,displayValue:Et,exportValue:Ot}=vt.detail.insert,Mt=Ze.children[wt],Dt=document.createElement("option");Dt.textContent=Et,Dt.value=Ot,Mt?Mt.before(Dt):Ze.append(Dt),Re.setValue(Te,{value:ut(!0),items:bt(vt)}),St=ut(!1)},items(vt){const{items:wt}=vt.detail;for(;Ze.length!==0;)Ze.remove(0);for(const Et of wt){const{displayValue:Ot,exportValue:Mt}=Et,Dt=document.createElement("option");Dt.textContent=Ot,Dt.value=Mt,Ze.append(Dt)}Ze.options.length>0&&(Ze.options[0].selected=!0),Re.setValue(Te,{value:ut(!0),items:bt(vt)}),St=ut(!1)},indices(vt){const wt=new Set(vt.detail.indices);for(const Et of vt.target.options)Et.selected=wt.has(Et.index);Re.setValue(Te,{value:ut(!0)}),St=ut(!1)},editable(vt){vt.target.disabled=!vt.detail.editable}};this._dispatchEventFromSandbox($t,ft)}),Ze.addEventListener("input",ft=>{var vt;const $t=ut(!0);Re.setValue(Te,{value:$t}),ft.preventDefault(),(vt=this.linkService.eventBus)==null||vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te,name:"Keystroke",value:St,changeEx:$t,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ze,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ft=>ft.target.value)):Ze.addEventListener("input",function(ft){Re.setValue(Te,{value:ut(!0)})}),this.data.combo&&this._setTextStyle(Ze),this._setBackgroundColor(Ze),this._setDefaultPropertiesFromJS(Ze),this.container.append(Ze),this.container}}class te extends re{constructor(Re){const{data:Te,elements:Ue}=Re;super(Re,{isRenderable:re._hasPopupData(Te)}),this.elements=Ue}render(){this.container.classList.add("popupAnnotation");const Re=new b({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Te=[];for(const Ue of this.elements)Ue.popup=Re,Te.push(Ue.data.id),Ue.addHighlightArea();return this.container.setAttribute("aria-controls",Te.map(Ue=>`${o.AnnotationPrefix}${Ue}`).join(",")),this.container}}class b{constructor({container:Re,color:Te,elements:Ue,titleObj:Ze,modificationDate:rt,contentsObj:ot,richText:ut,parent:St,rect:bt,parentRect:ft,open:$t}){We(this,dt);We(this,Ne,null);We(this,Ve,He(this,dt,br).bind(this));We(this,Je,He(this,dt,qn).bind(this));We(this,nt,He(this,dt,Gn).bind(this));We(this,Qe,He(this,dt,hn).bind(this));We(this,tt,null);We(this,Ge,null);We(this,qe,null);We(this,Se,null);We(this,Ce,null);We(this,Be,null);We(this,ze,!1);We(this,et,null);We(this,at,null);We(this,st,null);We(this,Fe,null);We(this,ct,!1);var wt;Ye(this,Ge,Re),Ye(this,Fe,Ze),Ye(this,qe,ot),Ye(this,st,ut),Ye(this,Ce,St),Ye(this,tt,Te),Ye(this,at,bt),Ye(this,Be,ft),Ye(this,Se,Ue);const vt=c.PDFDateString.toDateObject(rt);vt&&Ye(this,Ne,St.l10n.get("annotation_date_string",{date:vt.toLocaleDateString(),time:vt.toLocaleTimeString()})),this.trigger=Ue.flatMap(Et=>Et.getElementsToTriggerPopup());for(const Et of this.trigger)Et.addEventListener("click",j(this,Qe)),Et.addEventListener("mouseenter",j(this,nt)),Et.addEventListener("mouseleave",j(this,Je)),Et.classList.add("popupTriggerArea");for(const Et of Ue)(wt=Et.container)==null||wt.addEventListener("keydown",j(this,Ve));j(this,Ge).hidden=!0,$t&&He(this,dt,hn).call(this)}render(){if(j(this,et))return;const{page:{view:Re},viewport:{rawDims:{pageWidth:Te,pageHeight:Ue,pageX:Ze,pageY:rt}}}=j(this,Ce),ot=Ye(this,et,document.createElement("div"));if(ot.className="popup",j(this,tt)){const Lt=ot.style.outlineColor=o.Util.makeHexColor(...j(this,tt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ot.style.backgroundColor=`color-mix(in srgb, ${Lt} 30%, white)`:ot.style.backgroundColor=o.Util.makeHexColor(...j(this,tt).map(Gt=>Math.floor(.7*(255-Gt)+Gt)))}const ut=document.createElement("span");ut.className="header";const St=document.createElement("h1");if(ut.append(St),{dir:St.dir,str:St.textContent}=j(this,Fe),ot.append(ut),j(this,Ne)){const Lt=document.createElement("span");Lt.classList.add("popupDate"),j(this,Ne).then(Bt=>{Lt.textContent=Bt}),ut.append(Lt)}const bt=j(this,qe),ft=j(this,st);if(ft!=null&&ft.str&&(!(bt!=null&&bt.str)||bt.str===ft.str))ne.XfaLayer.render({xfaHtml:ft.html,intent:"richText",div:ot}),ot.lastChild.classList.add("richText","popupContent");else{const Lt=this._formatContents(bt);ot.append(Lt)}let $t=!!j(this,Be),vt=$t?j(this,Be):j(this,at);for(const Lt of j(this,Se))if(!vt||o.Util.intersect(Lt.data.rect,vt)!==null){vt=Lt.data.rect,$t=!0;break}const wt=o.Util.normalizeRect([vt[0],Re[3]-vt[1]+Re[1],vt[2],Re[3]-vt[3]+Re[1]]),Ot=$t?vt[2]-vt[0]+5:0,Mt=wt[0]+Ot,Dt=wt[1],{style:It}=j(this,Ge);It.left=`${100*(Mt-Ze)/Te}%`,It.top=`${100*(Dt-rt)/Ue}%`,j(this,Ge).append(ot)}_formatContents({str:Re,dir:Te}){const Ue=document.createElement("p");Ue.classList.add("popupContent"),Ue.dir=Te;const Ze=Re.split(/(?:\r\n?|\n)/);for(let rt=0,ot=Ze.length;rt<ot;++rt){const ut=Ze[rt];Ue.append(document.createTextNode(ut)),rt<ot-1&&Ue.append(document.createElement("br"))}return Ue}forceHide(){Ye(this,ct,this.isVisible),j(this,ct)&&(j(this,Ge).hidden=!0)}maybeShow(){j(this,ct)&&(Ye(this,ct,!1),j(this,Ge).hidden=!1)}get isVisible(){return j(this,Ge).hidden===!1}}Ne=new WeakMap,Ve=new WeakMap,Je=new WeakMap,nt=new WeakMap,Qe=new WeakMap,tt=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Se=new WeakMap,Ce=new WeakMap,Be=new WeakMap,ze=new WeakMap,et=new WeakMap,at=new WeakMap,st=new WeakMap,Fe=new WeakMap,ct=new WeakMap,dt=new WeakSet,br=function(Re){Re.altKey||Re.shiftKey||Re.ctrlKey||Re.metaKey||(Re.key==="Enter"||Re.key==="Escape"&&j(this,ze))&&He(this,dt,hn).call(this)},hn=function(){Ye(this,ze,!j(this,ze)),j(this,ze)?(He(this,dt,Gn).call(this),j(this,Ge).addEventListener("click",j(this,Qe)),j(this,Ge).addEventListener("keydown",j(this,Ve))):(He(this,dt,qn).call(this),j(this,Ge).removeEventListener("click",j(this,Qe)),j(this,Ge).removeEventListener("keydown",j(this,Ve)))},Gn=function(){j(this,et)||this.render(),this.isVisible?j(this,ze)&&j(this,Ge).classList.add("focused"):(j(this,Ge).hidden=!1,j(this,Ge).style.zIndex=parseInt(j(this,Ge).style.zIndex)+1e3)},qn=function(){j(this,Ge).classList.remove("focused"),!(j(this,ze)||!this.isVisible)&&(j(this,Ge).hidden=!0,j(this,Ge).style.zIndex=parseInt(j(this,Ge).style.zIndex)-1e3)};class ge extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Re.data.textContent,this.textPosition=Re.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Re=document.createElement("div");Re.classList.add("annotationTextContent"),Re.setAttribute("role","comment");for(const Te of this.textContent){const Ue=document.createElement("span");Ue.textContent=Te,Re.append(Ue)}this.container.append(Re)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=ge;class m extends re{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0});We(this,gt,null)}render(){this.container.classList.add("lineAnnotation");const Te=this.data,{width:Ue,height:Ze}=_e(Te.rect),rt=this.svgFactory.create(Ue,Ze,!0),ot=Ye(this,gt,this.svgFactory.createElement("svg:line"));return ot.setAttribute("x1",Te.rect[2]-Te.lineCoordinates[0]),ot.setAttribute("y1",Te.rect[3]-Te.lineCoordinates[1]),ot.setAttribute("x2",Te.rect[2]-Te.lineCoordinates[2]),ot.setAttribute("y2",Te.rect[3]-Te.lineCoordinates[3]),ot.setAttribute("stroke-width",Te.borderStyle.width||1),ot.setAttribute("stroke","transparent"),ot.setAttribute("fill","transparent"),rt.append(ot),this.container.append(rt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,gt)}addHighlightArea(){this.container.classList.add("highlightArea")}}gt=new WeakMap;class ue extends re{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0});We(this,Tt,null)}render(){this.container.classList.add("squareAnnotation");const Te=this.data,{width:Ue,height:Ze}=_e(Te.rect),rt=this.svgFactory.create(Ue,Ze,!0),ot=Te.borderStyle.width,ut=Ye(this,Tt,this.svgFactory.createElement("svg:rect"));return ut.setAttribute("x",ot/2),ut.setAttribute("y",ot/2),ut.setAttribute("width",Ue-ot),ut.setAttribute("height",Ze-ot),ut.setAttribute("stroke-width",ot||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,Tt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tt=new WeakMap;class be extends re{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0});We(this,kt,null)}render(){this.container.classList.add("circleAnnotation");const Te=this.data,{width:Ue,height:Ze}=_e(Te.rect),rt=this.svgFactory.create(Ue,Ze,!0),ot=Te.borderStyle.width,ut=Ye(this,kt,this.svgFactory.createElement("svg:ellipse"));return ut.setAttribute("cx",Ue/2),ut.setAttribute("cy",Ze/2),ut.setAttribute("rx",Ue/2-ot/2),ut.setAttribute("ry",Ze/2-ot/2),ut.setAttribute("stroke-width",ot||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}kt=new WeakMap;class je extends re{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0});We(this,lt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Te=this.data,{width:Ue,height:Ze}=_e(Te.rect),rt=this.svgFactory.create(Ue,Ze,!0);let ot=[];for(const St of Te.vertices){const bt=St.x-Te.rect[0],ft=Te.rect[3]-St.y;ot.push(bt+","+ft)}ot=ot.join(" ");const ut=Ye(this,lt,this.svgFactory.createElement(this.svgElementName));return ut.setAttribute("points",ot),ut.setAttribute("stroke-width",Te.borderStyle.width||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return j(this,lt)}addHighlightArea(){this.container.classList.add("highlightArea")}}lt=new WeakMap;class Oe extends je{constructor(Re){super(Re),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Le extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class me extends re{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0});We(this,Xe,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Te=this.data,{width:Ue,height:Ze}=_e(Te.rect),rt=this.svgFactory.create(Ue,Ze,!0);for(const ot of Te.inkLists){let ut=[];for(const bt of ot){const ft=bt.x-Te.rect[0],$t=Te.rect[3]-bt.y;ut.push(`${ft},${$t}`)}ut=ut.join(" ");const St=this.svgFactory.createElement(this.svgElementName);j(this,Xe).push(St),St.setAttribute("points",ut),St.setAttribute("stroke-width",Te.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),!Te.popupRef&&this.hasPopupData&&this._createPopup(),rt.append(St)}return this.container.append(rt),this.container}getElementsToTriggerPopup(){return j(this,Xe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xe=new WeakMap,i.InkAnnotationElement=me;class Ie extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ye extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Pe extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ke extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ee extends re{constructor(Re){super(Re,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=Ee;class le extends re{constructor(Te){var rt;super(Te,{isRenderable:!0});We(this,_t);We(this,Ke,null);const{filename:Ue,content:Ze}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(Ue,!0),this.content=Ze,(rt=this.linkService.eventBus)==null||rt.dispatch("fileattachmentannotation",{source:this,filename:Ue,content:Ze})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Te,data:Ue}=this;let Ze;Ue.hasAppearance||Ue.fillAlpha===0?Ze=document.createElement("div"):(Ze=document.createElement("img"),Ze.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ue.name)?"paperclip":"pushpin"}.svg`,Ue.fillAlpha&&Ue.fillAlpha<1&&(Ze.style=`filter: opacity(${Math.round(Ue.fillAlpha*100)}%);`)),Ze.addEventListener("dblclick",He(this,_t,Hn).bind(this)),Ye(this,Ke,Ze);const{isMac:rt}=o.FeatureTest.platform;return Te.addEventListener("keydown",ot=>{ot.key==="Enter"&&(rt?ot.metaKey:ot.ctrlKey)&&He(this,_t,Hn).call(this)}),!Ue.popupRef&&this.hasPopupData?this._createPopup():Ze.classList.add("popupTriggerArea"),Te.append(Ze),Te}getElementsToTriggerPopup(){return j(this,Ke)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ke=new WeakMap,_t=new WeakSet,Hn=function(){var Te;(Te=this.downloadManager)==null||Te.openOrDownloadData(this.container,this.content,this.filename)};class de{constructor({div:Re,accessibilityManager:Te,annotationCanvasMap:Ue,l10n:Ze,page:rt,viewport:ot}){We(this,ht);We(this,jt,null);We(this,De,null);We(this,it,new Map);this.div=Re,Ye(this,jt,Te),Ye(this,De,Ue),this.l10n=Ze,this.page=rt,this.viewport=ot,this.zIndex=0,this.l10n||(this.l10n=_.NullL10n)}async render(Re){const{annotations:Te}=Re,Ue=this.div;(0,c.setLayerDimensions)(Ue,this.viewport);const Ze=new Map,rt={data:null,layer:Ue,linkService:Re.linkService,downloadManager:Re.downloadManager,imageResourcesPath:Re.imageResourcesPath||"",renderForms:Re.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:Re.annotationStorage||new d.AnnotationStorage,enableScripting:Re.enableScripting===!0,hasJSActions:Re.hasJSActions,fieldObjects:Re.fieldObjects,parent:this,elements:null};for(const ot of Te){if(ot.noHTML)continue;const ut=ot.annotationType===o.AnnotationType.POPUP;if(ut){const ft=Ze.get(ot.id);if(!ft)continue;rt.elements=ft}else{const{width:ft,height:$t}=_e(ot.rect);if(ft<=0||$t<=0)continue}rt.data=ot;const St=q.create(rt);if(!St.isRenderable)continue;if(!ut&&ot.popupRef){const ft=Ze.get(ot.popupRef);ft?ft.push(St):Ze.set(ot.popupRef,[St])}St.annotationEditorType>0&&j(this,it).set(St.data.id,St);const bt=St.render();ot.hidden&&(bt.style.visibility="hidden"),He(this,ht,vr).call(this,bt,ot.id)}He(this,ht,zn).call(this),await this.l10n.translate(Ue)}update({viewport:Re}){const Te=this.div;this.viewport=Re,(0,c.setLayerDimensions)(Te,{rotation:Re.rotation}),He(this,ht,zn).call(this),Te.hidden=!1}getEditableAnnotations(){return Array.from(j(this,it).values())}getEditableAnnotation(Re){return j(this,it).get(Re)}}jt=new WeakMap,De=new WeakMap,it=new WeakMap,ht=new WeakSet,vr=function(Re,Te){var Ze;const Ue=Re.firstChild||Re;Ue.id=`${o.AnnotationPrefix}${Te}`,this.div.append(Re),(Ze=j(this,jt))==null||Ze.moveElementInDOM(this.div,Re,Ue,!1)},zn=function(){if(!j(this,De))return;const Re=this.div;for(const[Te,Ue]of j(this,De)){const Ze=Re.querySelector(`[data-annotation-id="${Te}"]`);if(!Ze)continue;const{firstChild:rt}=Ze;rt?rt.nodeName==="CANVAS"?rt.replaceWith(Ue):rt.before(Ue):Ze.append(Ue)}j(this,De).clear()},i.AnnotationLayer=de},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function a(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function o(d){return Math.max(0,Math.min(255,255*d))}class c{static CMYK_G([h,_,ne,f]){return["G",1-Math.min(1,.3*h+.59*ne+.11*_+f)]}static G_CMYK([h]){return["CMYK",0,0,0,1-h]}static G_RGB([h]){return["RGB",h,h,h]}static G_rgb([h]){return h=o(h),[h,h,h]}static G_HTML([h]){const _=a(h);return`#${_}${_}${_}`}static RGB_G([h,_,ne]){return["G",.3*h+.59*_+.11*ne]}static RGB_rgb(h){return h.map(o)}static RGB_HTML(h){return`#${h.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([h,_,ne,f]){return["RGB",1-Math.min(1,h+f),1-Math.min(1,ne+f),1-Math.min(1,_+f)]}static CMYK_rgb([h,_,ne,f]){return[o(1-Math.min(1,h+f)),o(1-Math.min(1,ne+f)),o(1-Math.min(1,_+f))]}static CMYK_HTML(h){const _=this.CMYK_RGB(h).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([h,_,ne]){const f=1-h,g=1-_,he=1-ne,_e=Math.min(f,g,he);return["CMYK",f,g,he,_e]}}i.ColorConverters=c},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function o(h,_){switch(h){case"find_match_count":h=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":h=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return a[h]||""}function c(h,_){return _?h.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ne,f)=>f in _?_[f]:"{{"+f+"}}"):h}const d={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(h,_=null,ne=o(h,_)){return c(ne,_)},async translate(h){}};i.NullL10n=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=a(25);class c{static setupStorage(h,_,ne,f,g){const he=f.getValue(_,{value:null});switch(ne.name){case"textarea":if(he.value!==null&&(h.textContent=he.value),g==="print")break;h.addEventListener("input",_e=>{f.setValue(_,{value:_e.target.value})});break;case"input":if(ne.attributes.type==="radio"||ne.attributes.type==="checkbox"){if(he.value===ne.attributes.xfaOn?h.setAttribute("checked",!0):he.value===ne.attributes.xfaOff&&h.removeAttribute("checked"),g==="print")break;h.addEventListener("change",_e=>{f.setValue(_,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if(he.value!==null&&h.setAttribute("value",he.value),g==="print")break;h.addEventListener("input",_e=>{f.setValue(_,{value:_e.target.value})})}break;case"select":if(he.value!==null){h.setAttribute("value",he.value);for(const _e of ne.children)_e.attributes.value===he.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}h.addEventListener("input",_e=>{const q=_e.target.options,re=q.selectedIndex===-1?"":q[q.selectedIndex].value;f.setValue(_,{value:re})});break}}static setAttributes({html:h,element:_,storage:ne=null,intent:f,linkService:g}){const{attributes:he}=_,_e=h instanceof HTMLAnchorElement;he.type==="radio"&&(he.name=`${he.name}-${f}`);for(const[q,re]of Object.entries(he))if(re!=null)switch(q){case"class":re.length&&h.setAttribute(q,re.join(" "));break;case"dataId":break;case"id":h.setAttribute("data-element-id",re);break;case"style":Object.assign(h.style,re);break;case"textContent":h.textContent=re;break;default:(!_e||q!=="href"&&q!=="newWindow")&&h.setAttribute(q,re)}_e&&g.addLinkAttributes(h,he.href,he.newWindow),ne&&he.dataId&&this.setupStorage(h,he.dataId,_,ne)}static render(h){var ve;const _=h.annotationStorage,ne=h.linkService,f=h.xfaHtml,g=h.intent||"display",he=document.createElement(f.name);f.attributes&&this.setAttributes({html:he,element:f,intent:g,linkService:ne});const _e=[[f,-1,he]],q=h.div;if(q.append(he),h.viewport){const ie=`matrix(${h.viewport.transform.join(",")})`;q.style.transform=ie}g!=="richText"&&q.setAttribute("class","xfaLayer xfaFont");const re=[];for(;_e.length>0;){const[ie,ee,ce]=_e.at(-1);if(ee+1===ie.children.length){_e.pop();continue}const fe=ie.children[++_e.at(-1)[1]];if(fe===null)continue;const{name:ae}=fe;if(ae==="#text"){const oe=document.createTextNode(fe.value);re.push(oe),ce.append(oe);continue}const $=(ve=fe==null?void 0:fe.attributes)!=null&&ve.xmlns?document.createElementNS(fe.attributes.xmlns,ae):document.createElement(ae);if(ce.append($),fe.attributes&&this.setAttributes({html:$,element:fe,storage:_,intent:g,linkService:ne}),fe.children&&fe.children.length>0)_e.push([fe,-1,$]);else if(fe.value){const oe=document.createTextNode(fe.value);o.XfaText.shouldBuildText(ae)&&re.push(oe),$.append(oe)}}for(const ie of q.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ie.setAttribute("readOnly",!0);return{textDivs:re}}static update(h){const _=`matrix(${h.viewport.transform.join(",")})`;h.div.style.transform=_,h.div.hidden=!1}}i.XfaLayer=c},(e,i,a)=>{var f,g,he,_e,q,re,ve,ie,ee,ce,fe,ae,$,oe,se,yr,Sr,wr,xr,Vn,Ar,Wn,Er,Pr,$r,Cr,Tr,Ut,Xn,fn,pn,Xt,Yn,mn,we,Or,Kn,jr,Rr,Qn,_n,Yt;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=a(1),c=a(4),d=a(29),h=a(6),_=a(5);const tt=class tt extends c.AnnotationEditor{constructor(Se){super({...Se,name:"inkEditor"});We(this,se);We(this,f,0);We(this,g,0);We(this,he,this.canvasPointermove.bind(this));We(this,_e,this.canvasPointerleave.bind(this));We(this,q,this.canvasPointerup.bind(this));We(this,re,this.canvasPointerdown.bind(this));We(this,ve,new Path2D);We(this,ie,!1);We(this,ee,!1);We(this,ce,!1);We(this,fe,null);We(this,ae,0);We(this,$,0);We(this,oe,null);this.color=Se.color||null,this.thickness=Se.thickness||null,this.opacity=Se.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Se){c.AnnotationEditor.initialize(Se,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Se,Ce){switch(Se){case o.AnnotationEditorParamsType.INK_THICKNESS:tt._defaultThickness=Ce;break;case o.AnnotationEditorParamsType.INK_COLOR:tt._defaultColor=Ce;break;case o.AnnotationEditorParamsType.INK_OPACITY:tt._defaultOpacity=Ce/100;break}}updateParams(Se,Ce){switch(Se){case o.AnnotationEditorParamsType.INK_THICKNESS:He(this,se,yr).call(this,Ce);break;case o.AnnotationEditorParamsType.INK_COLOR:He(this,se,Sr).call(this,Ce);break;case o.AnnotationEditorParamsType.INK_OPACITY:He(this,se,wr).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,tt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,tt._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(tt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||tt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||tt._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??tt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(He(this,se,fn).call(this),He(this,se,pn).call(this)),this.isAttachedToDOM||(this.parent.add(this),He(this,se,Xt).call(this)),He(this,se,Yt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,j(this,fe).disconnect(),Ye(this,fe,null),super.remove())}setParent(Se){!this.parent&&Se?this._uiManager.removeShouldRescale(this):this.parent&&Se===null&&this._uiManager.addShouldRescale(this),super.setParent(Se)}onScaleChanging(){const[Se,Ce]=this.parentDimensions,Be=this.width*Se,ze=this.height*Ce;this.setDimensions(Be,ze)}enableEditMode(){j(this,ie)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",j(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",j(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){j(this,ie)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ye(this,ie,!0),this.div.classList.add("disabled"),He(this,se,Yt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Se){this._focusEventsAllowed&&(super.focusin(Se),this.enableEditMode())}canvasPointerdown(Se){Se.button!==0||!this.isInEditMode()||j(this,ie)||(this.setInForeground(),Se.preventDefault(),Se.type!=="mouse"&&this.div.focus(),He(this,se,Ar).call(this,Se.offsetX,Se.offsetY))}canvasPointermove(Se){Se.preventDefault(),He(this,se,Wn).call(this,Se.offsetX,Se.offsetY)}canvasPointerup(Se){Se.preventDefault(),He(this,se,Xn).call(this,Se)}canvasPointerleave(Se){He(this,se,Xn).call(this,Se)}get isResizable(){return!this.isEmpty()&&j(this,ie)}render(){if(this.div)return this.div;let Se,Ce;this.width&&(Se=this.x,Ce=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(st=>{var Fe;return(Fe=this.div)==null?void 0:Fe.setAttribute("aria-label",st)});const[Be,ze,et,at]=He(this,se,xr).call(this);if(this.setAt(Be,ze,0,0),this.setDims(et,at),He(this,se,fn).call(this),this.width){const[st,Fe]=this.parentDimensions;this.setAspectRatio(this.width*st,this.height*Fe),this.setAt(Se*st,Ce*Fe,this.width*st,this.height*Fe),Ye(this,ce,!0),He(this,se,Xt).call(this),this.setDims(this.width*st,this.height*Fe),He(this,se,Ut).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return He(this,se,pn).call(this),this.div}setDimensions(Se,Ce){const Be=Math.round(Se),ze=Math.round(Ce);if(j(this,ae)===Be&&j(this,$)===ze)return;Ye(this,ae,Be),Ye(this,$,ze),this.canvas.style.visibility="hidden";const[et,at]=this.parentDimensions;this.width=Se/et,this.height=Ce/at,this.fixAndSetPosition(),j(this,ie)&&He(this,se,Yn).call(this,Se,Ce),He(this,se,Xt).call(this),He(this,se,Ut).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Se,Ce,Be){var gt,Tt,kt;if(Se instanceof d.InkAnnotationElement)return null;const ze=super.deserialize(Se,Ce,Be);ze.thickness=Se.thickness,ze.color=o.Util.makeHexColor(...Se.color),ze.opacity=Se.opacity;const[et,at]=ze.pageDimensions,st=ze.width*et,Fe=ze.height*at,ct=ze.parentScale,dt=Se.thickness/2;Ye(ze,ie,!0),Ye(ze,ae,Math.round(st)),Ye(ze,$,Math.round(Fe));const{paths:Pt,rect:At,rotation:Ct}=Se;for(let{bezier:lt}of Pt){lt=He(gt=tt,we,jr).call(gt,lt,At,Ct);const Xe=[];ze.paths.push(Xe);let Ke=ct*(lt[0]-dt),_t=ct*(lt[1]-dt);for(let jt=2,De=lt.length;jt<De;jt+=6){const it=ct*(lt[jt]-dt),ht=ct*(lt[jt+1]-dt),yt=ct*(lt[jt+2]-dt),xt=ct*(lt[jt+3]-dt),pt=ct*(lt[jt+4]-dt),Re=ct*(lt[jt+5]-dt);Xe.push([[Ke,_t],[it,ht],[yt,xt],[pt,Re]]),Ke=pt,_t=Re}const Rt=He(this,we,Or).call(this,Xe);ze.bezierPath2D.push(Rt)}const mt=He(Tt=ze,se,Qn).call(Tt);return Ye(ze,g,Math.max(c.AnnotationEditor.MIN_SIZE,mt[2]-mt[0])),Ye(ze,f,Math.max(c.AnnotationEditor.MIN_SIZE,mt[3]-mt[1])),He(kt=ze,se,Yn).call(kt,st,Fe),ze}serialize(){if(this.isEmpty())return null;const Se=this.getRect(0,0),Ce=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Ce,thickness:this.thickness,opacity:this.opacity,paths:He(this,se,Rr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Se),pageIndex:this.pageIndex,rect:Se,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};f=new WeakMap,g=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakMap,re=new WeakMap,ve=new WeakMap,ie=new WeakMap,ee=new WeakMap,ce=new WeakMap,fe=new WeakMap,ae=new WeakMap,$=new WeakMap,oe=new WeakMap,se=new WeakSet,yr=function(Se){const Ce=this.thickness;this.addCommands({cmd:()=>{this.thickness=Se,He(this,se,Yt).call(this)},undo:()=>{this.thickness=Ce,He(this,se,Yt).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Sr=function(Se){const Ce=this.color;this.addCommands({cmd:()=>{this.color=Se,He(this,se,Ut).call(this)},undo:()=>{this.color=Ce,He(this,se,Ut).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wr=function(Se){Se/=100;const Ce=this.opacity;this.addCommands({cmd:()=>{this.opacity=Se,He(this,se,Ut).call(this)},undo:()=>{this.opacity=Ce,He(this,se,Ut).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xr=function(){const{parentRotation:Se,parentDimensions:[Ce,Be]}=this;switch(Se){case 90:return[0,Be,Be,Ce];case 180:return[Ce,Be,Ce,Be];case 270:return[Ce,0,Be,Ce];default:return[0,0,Ce,Be]}},Vn=function(){const{ctx:Se,color:Ce,opacity:Be,thickness:ze,parentScale:et,scaleFactor:at}=this;Se.lineWidth=ze*et/at,Se.lineCap="round",Se.lineJoin="round",Se.miterLimit=10,Se.strokeStyle=`${Ce}${(0,_.opacityToHex)(Be)}`},Ar=function(Se,Ce){this.canvas.addEventListener("contextmenu",h.noContextMenu),this.canvas.addEventListener("pointerleave",j(this,_e)),this.canvas.addEventListener("pointermove",j(this,he)),this.canvas.addEventListener("pointerup",j(this,q)),this.canvas.removeEventListener("pointerdown",j(this,re)),this.isEditing=!0,j(this,ce)||(Ye(this,ce,!0),He(this,se,Xt).call(this),this.thickness||(this.thickness=tt._defaultThickness),this.color||(this.color=tt._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=tt._defaultOpacity)),this.currentPath.push([Se,Ce]),Ye(this,ee,!1),He(this,se,Vn).call(this),Ye(this,oe,()=>{He(this,se,$r).call(this),j(this,oe)&&window.requestAnimationFrame(j(this,oe))}),window.requestAnimationFrame(j(this,oe))},Wn=function(Se,Ce){const[Be,ze]=this.currentPath.at(-1);if(this.currentPath.length>1&&Se===Be&&Ce===ze)return;const et=this.currentPath;let at=j(this,ve);if(et.push([Se,Ce]),Ye(this,ee,!0),et.length<=2){at.moveTo(...et[0]),at.lineTo(Se,Ce);return}et.length===3&&(Ye(this,ve,at=new Path2D),at.moveTo(...et[0])),He(this,se,Cr).call(this,at,...et.at(-3),...et.at(-2),Se,Ce)},Er=function(){if(this.currentPath.length===0)return;const Se=this.currentPath.at(-1);j(this,ve).lineTo(...Se)},Pr=function(Se,Ce){Ye(this,oe,null),Se=Math.min(Math.max(Se,0),this.canvas.width),Ce=Math.min(Math.max(Ce,0),this.canvas.height),He(this,se,Wn).call(this,Se,Ce),He(this,se,Er).call(this);let Be;if(this.currentPath.length!==1)Be=He(this,se,Tr).call(this);else{const Fe=[Se,Ce];Be=[[Fe,Fe.slice(),Fe.slice(),Fe]]}const ze=j(this,ve),et=this.currentPath;this.currentPath=[],Ye(this,ve,new Path2D);const at=()=>{this.allRawPaths.push(et),this.paths.push(Be),this.bezierPath2D.push(ze),this.rebuild()},st=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(He(this,se,fn).call(this),He(this,se,pn).call(this)),He(this,se,Yt).call(this))};this.addCommands({cmd:at,undo:st,mustExec:!0})},$r=function(){if(!j(this,ee))return;Ye(this,ee,!1);const Se=Math.ceil(this.thickness*this.parentScale),Ce=this.currentPath.slice(-3),Be=Ce.map(at=>at[0]),ze=Ce.map(at=>at[1]);Math.min(...Be)-Se,Math.max(...Be)+Se,Math.min(...ze)-Se,Math.max(...ze)+Se;const{ctx:et}=this;et.save(),et.clearRect(0,0,this.canvas.width,this.canvas.height);for(const at of this.bezierPath2D)et.stroke(at);et.stroke(j(this,ve)),et.restore()},Cr=function(Se,Ce,Be,ze,et,at,st){const Fe=(Ce+ze)/2,ct=(Be+et)/2,dt=(ze+at)/2,Pt=(et+st)/2;Se.bezierCurveTo(Fe+2*(ze-Fe)/3,ct+2*(et-ct)/3,dt+2*(ze-dt)/3,Pt+2*(et-Pt)/3,dt,Pt)},Tr=function(){const Se=this.currentPath;if(Se.length<=2)return[[Se[0],Se[0],Se.at(-1),Se.at(-1)]];const Ce=[];let Be,[ze,et]=Se[0];for(Be=1;Be<Se.length-2;Be++){const[At,Ct]=Se[Be],[mt,gt]=Se[Be+1],Tt=(At+mt)/2,kt=(Ct+gt)/2,lt=[ze+2*(At-ze)/3,et+2*(Ct-et)/3],Xe=[Tt+2*(At-Tt)/3,kt+2*(Ct-kt)/3];Ce.push([[ze,et],lt,Xe,[Tt,kt]]),[ze,et]=[Tt,kt]}const[at,st]=Se[Be],[Fe,ct]=Se[Be+1],dt=[ze+2*(at-ze)/3,et+2*(st-et)/3],Pt=[Fe+2*(at-Fe)/3,ct+2*(st-ct)/3];return Ce.push([[ze,et],dt,Pt,[Fe,ct]]),Ce},Ut=function(){if(this.isEmpty()){He(this,se,mn).call(this);return}He(this,se,Vn).call(this);const{canvas:Se,ctx:Ce}=this;Ce.setTransform(1,0,0,1,0,0),Ce.clearRect(0,0,Se.width,Se.height),He(this,se,mn).call(this);for(const Be of this.bezierPath2D)Ce.stroke(Be)},Xn=function(Se){this.canvas.removeEventListener("pointerleave",j(this,_e)),this.canvas.removeEventListener("pointermove",j(this,he)),this.canvas.removeEventListener("pointerup",j(this,q)),this.canvas.addEventListener("pointerdown",j(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",h.noContextMenu)},10),He(this,se,Pr).call(this,Se.offsetX,Se.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Se=>{var Ce;return(Ce=this.canvas)==null?void 0:Ce.setAttribute("aria-label",Se)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pn=function(){Ye(this,fe,new ResizeObserver(Se=>{const Ce=Se[0].contentRect;Ce.width&&Ce.height&&this.setDimensions(Ce.width,Ce.height)})),j(this,fe).observe(this.div)},Xt=function(){if(!j(this,ce))return;const[Se,Ce]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Se),this.canvas.height=Math.ceil(this.height*Ce),He(this,se,mn).call(this)},Yn=function(Se,Ce){const Be=He(this,se,_n).call(this),ze=(Se-Be)/j(this,g),et=(Ce-Be)/j(this,f);this.scaleFactor=Math.min(ze,et)},mn=function(){const Se=He(this,se,_n).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Se,this.translationY*this.scaleFactor+Se)},we=new WeakSet,Or=function(Se){const Ce=new Path2D;for(let Be=0,ze=Se.length;Be<ze;Be++){const[et,at,st,Fe]=Se[Be];Be===0&&Ce.moveTo(...et),Ce.bezierCurveTo(at[0],at[1],st[0],st[1],Fe[0],Fe[1])}return Ce},Kn=function(Se,Ce,Be){const[ze,et,at,st]=Ce;switch(Be){case 0:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2)Se[Fe]+=ze,Se[Fe+1]=st-Se[Fe+1];break;case 90:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2){const dt=Se[Fe];Se[Fe]=Se[Fe+1]+ze,Se[Fe+1]=dt+et}break;case 180:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2)Se[Fe]=at-Se[Fe],Se[Fe+1]+=et;break;case 270:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2){const dt=Se[Fe];Se[Fe]=at-Se[Fe+1],Se[Fe+1]=st-dt}break;default:throw new Error("Invalid rotation")}return Se},jr=function(Se,Ce,Be){const[ze,et,at,st]=Ce;switch(Be){case 0:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2)Se[Fe]-=ze,Se[Fe+1]=st-Se[Fe+1];break;case 90:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2){const dt=Se[Fe];Se[Fe]=Se[Fe+1]-et,Se[Fe+1]=dt-ze}break;case 180:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2)Se[Fe]=at-Se[Fe],Se[Fe+1]-=et;break;case 270:for(let Fe=0,ct=Se.length;Fe<ct;Fe+=2){const dt=Se[Fe];Se[Fe]=st-Se[Fe+1],Se[Fe+1]=at-dt}break;default:throw new Error("Invalid rotation")}return Se},Rr=function(Se,Ce,Be,ze){var ct,dt;const et=[],at=this.thickness/2,st=Se*Ce+at,Fe=Se*Be+at;for(const Pt of this.paths){const At=[],Ct=[];for(let mt=0,gt=Pt.length;mt<gt;mt++){const[Tt,kt,lt,Xe]=Pt[mt],Ke=Se*Tt[0]+st,_t=Se*Tt[1]+Fe,Rt=Se*kt[0]+st,jt=Se*kt[1]+Fe,De=Se*lt[0]+st,it=Se*lt[1]+Fe,ht=Se*Xe[0]+st,yt=Se*Xe[1]+Fe;mt===0&&(At.push(Ke,_t),Ct.push(Ke,_t)),At.push(Rt,jt,De,it,ht,yt),Ct.push(Rt,jt),mt===gt-1&&Ct.push(ht,yt)}et.push({bezier:He(ct=tt,we,Kn).call(ct,At,ze,this.rotation),points:He(dt=tt,we,Kn).call(dt,Ct,ze,this.rotation)})}return et},Qn=function(){let Se=1/0,Ce=-1/0,Be=1/0,ze=-1/0;for(const et of this.paths)for(const[at,st,Fe,ct]of et){const dt=o.Util.bezierBoundingBox(...at,...st,...Fe,...ct);Se=Math.min(Se,dt[0]),Be=Math.min(Be,dt[1]),Ce=Math.max(Ce,dt[2]),ze=Math.max(ze,dt[3])}return[Se,Be,Ce,ze]},_n=function(){return j(this,ie)?Math.ceil(this.thickness*this.parentScale):0},Yt=function(Se=!1){if(this.isEmpty())return;if(!j(this,ie)){He(this,se,Ut).call(this);return}const Ce=He(this,se,Qn).call(this),Be=He(this,se,_n).call(this);Ye(this,g,Math.max(c.AnnotationEditor.MIN_SIZE,Ce[2]-Ce[0])),Ye(this,f,Math.max(c.AnnotationEditor.MIN_SIZE,Ce[3]-Ce[1]));const ze=Math.ceil(Be+j(this,g)*this.scaleFactor),et=Math.ceil(Be+j(this,f)*this.scaleFactor),[at,st]=this.parentDimensions;this.width=ze/at,this.height=et/st,this.setAspectRatio(ze,et);const Fe=this.translationX,ct=this.translationY;this.translationX=-Ce[0],this.translationY=-Ce[1],He(this,se,Xt).call(this),He(this,se,Ut).call(this),Ye(this,ae,ze),Ye(this,$,et),this.setDims(ze,et);const dt=Se?Be/this.scaleFactor/2:0;this.translate(Fe-this.translationX-dt,ct-this.translationY-dt)},We(tt,we),Ft(tt,"_defaultColor",null),Ft(tt,"_defaultOpacity",1),Ft(tt,"_defaultThickness",1),Ft(tt,"_type","ink");let ne=tt;i.InkEditor=ne},(e,i,a)=>{var ne,f,g,he,_e,q,re,ve,ie,ee,ce,nn,rn,gn,Jn,kr,Mr,Zn,bn,Dr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=a(1),c=a(4),d=a(6),h=a(29);const ue=class ue extends c.AnnotationEditor{constructor(Oe){super({...Oe,name:"stampEditor"});We(this,ce);We(this,ne,null);We(this,f,null);We(this,g,null);We(this,he,null);We(this,_e,null);We(this,q,null);We(this,re,null);We(this,ve,null);We(this,ie,!1);We(this,ee,!1);Ye(this,he,Oe.bitmapUrl),Ye(this,_e,Oe.bitmapFile)}static initialize(Oe){c.AnnotationEditor.initialize(Oe)}static get supportedTypes(){const Oe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Oe.map(Le=>`image/${Le}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Oe){return this.supportedTypes.includes(Oe)}static paste(Oe,Le){Le.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Oe.getAsFile()})}remove(){var Oe,Le;j(this,f)&&(Ye(this,ne,null),this._uiManager.imageManager.deleteId(j(this,f)),(Oe=j(this,q))==null||Oe.remove(),Ye(this,q,null),(Le=j(this,re))==null||Le.disconnect(),Ye(this,re,null)),super.remove()}rebuild(){if(!this.parent){j(this,f)&&He(this,ce,gn).call(this);return}super.rebuild(),this.div!==null&&(j(this,f)&&He(this,ce,gn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(j(this,g)||j(this,ne)||j(this,he)||j(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Oe,Le;if(this.width&&(Oe=this.x,Le=this.y),super.render(),this.div.hidden=!0,j(this,ne)?He(this,ce,Jn).call(this):He(this,ce,gn).call(this),this.width){const[me,Ie]=this.parentDimensions;this.setAt(Oe*me,Le*Ie,this.width*me,this.height*Ie)}return this.div}static deserialize(Oe,Le,me){if(Oe instanceof h.StampAnnotationElement)return null;const Ie=super.deserialize(Oe,Le,me),{rect:ye,bitmapUrl:Pe,bitmapId:ke,isSvg:Ee,accessibilityData:le}=Oe;ke&&me.imageManager.isValidId(ke)?Ye(Ie,f,ke):Ye(Ie,he,Pe),Ye(Ie,ie,Ee);const[de,xe]=Ie.pageDimensions;return Ie.width=(ye[2]-ye[0])/de,Ie.height=(ye[3]-ye[1])/xe,le&&(Ie.altTextData=le),Ie}serialize(Oe=!1,Le=null){if(this.isEmpty())return null;const me={annotationType:o.AnnotationEditorType.STAMP,bitmapId:j(this,f),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:j(this,ie),structTreeParentId:this._structTreeParentId};if(Oe)return me.bitmapUrl=He(this,ce,bn).call(this,!0),me.accessibilityData=this.altTextData,me;const{decorative:Ie,altText:ye}=this.altTextData;if(!Ie&&ye&&(me.accessibilityData={type:"Figure",alt:ye}),Le===null)return me;Le.stamps||(Le.stamps=new Map);const Pe=j(this,ie)?(me.rect[2]-me.rect[0])*(me.rect[3]-me.rect[1]):null;if(!Le.stamps.has(j(this,f)))Le.stamps.set(j(this,f),{area:Pe,serialized:me}),me.bitmap=He(this,ce,bn).call(this,!1);else if(j(this,ie)){const ke=Le.stamps.get(j(this,f));Pe>ke.area&&(ke.area=Pe,ke.serialized.bitmap.close(),ke.serialized.bitmap=He(this,ce,bn).call(this,!1))}return me}};ne=new WeakMap,f=new WeakMap,g=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakMap,re=new WeakMap,ve=new WeakMap,ie=new WeakMap,ee=new WeakMap,ce=new WeakSet,nn=function(Oe,Le=!1){if(!Oe){this.remove();return}Ye(this,ne,Oe.bitmap),Le||(Ye(this,f,Oe.id),Ye(this,ie,Oe.isSvg)),He(this,ce,Jn).call(this)},rn=function(){Ye(this,g,null),this._uiManager.enableWaiting(!1),j(this,q)&&this.div.focus()},gn=function(){if(j(this,f)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(j(this,f)).then(Le=>He(this,ce,nn).call(this,Le,!0)).finally(()=>He(this,ce,rn).call(this));return}if(j(this,he)){const Le=j(this,he);Ye(this,he,null),this._uiManager.enableWaiting(!0),Ye(this,g,this._uiManager.imageManager.getFromUrl(Le).then(me=>He(this,ce,nn).call(this,me)).finally(()=>He(this,ce,rn).call(this)));return}if(j(this,_e)){const Le=j(this,_e);Ye(this,_e,null),this._uiManager.enableWaiting(!0),Ye(this,g,this._uiManager.imageManager.getFromFile(Le).then(me=>He(this,ce,nn).call(this,me)).finally(()=>He(this,ce,rn).call(this)));return}const Oe=document.createElement("input");Oe.type="file",Oe.accept=ue.supportedTypesStr,Ye(this,g,new Promise(Le=>{Oe.addEventListener("change",async()=>{if(!Oe.files||Oe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const me=await this._uiManager.imageManager.getFromFile(Oe.files[0]);He(this,ce,nn).call(this,me)}Le()}),Oe.addEventListener("cancel",()=>{this.remove(),Le()})}).finally(()=>He(this,ce,rn).call(this))),Oe.click()},Jn=function(){const{div:Oe}=this;let{width:Le,height:me}=j(this,ne);const[Ie,ye]=this.pageDimensions,Pe=.75;if(this.width)Le=this.width*Ie,me=this.height*ye;else if(Le>Pe*Ie||me>Pe*ye){const de=Math.min(Pe*Ie/Le,Pe*ye/me);Le*=de,me*=de}const[ke,Ee]=this.parentDimensions;this.setDims(Le*ke/Ie,me*Ee/ye),this._uiManager.enableWaiting(!1);const le=Ye(this,q,document.createElement("canvas"));Oe.append(le),Oe.hidden=!1,He(this,ce,Zn).call(this,Le,me),He(this,ce,Dr).call(this),j(this,ee)||(this.parent.addUndoableEditor(this),Ye(this,ee,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},kr=function(Oe,Le){var Pe;const[me,Ie]=this.parentDimensions;this.width=Oe/me,this.height=Le/Ie,this.setDims(Oe,Le),(Pe=this._initialOptions)!=null&&Pe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,j(this,ve)!==null&&clearTimeout(j(this,ve)),Ye(this,ve,setTimeout(()=>{Ye(this,ve,null),He(this,ce,Zn).call(this,Oe,Le)},200))},Mr=function(Oe,Le){const{width:me,height:Ie}=j(this,ne);let ye=me,Pe=Ie,ke=j(this,ne);for(;ye>2*Oe||Pe>2*Le;){const Ee=ye,le=Pe;ye>2*Oe&&(ye=ye>=16384?Math.floor(ye/2)-1:Math.ceil(ye/2)),Pe>2*Le&&(Pe=Pe>=16384?Math.floor(Pe/2)-1:Math.ceil(Pe/2));const de=new OffscreenCanvas(ye,Pe);de.getContext("2d").drawImage(ke,0,0,Ee,le,0,0,ye,Pe),ke=de.transferToImageBitmap()}return ke},Zn=function(Oe,Le){Oe=Math.ceil(Oe),Le=Math.ceil(Le);const me=j(this,q);if(!me||me.width===Oe&&me.height===Le)return;me.width=Oe,me.height=Le;const Ie=j(this,ie)?j(this,ne):He(this,ce,Mr).call(this,Oe,Le),ye=me.getContext("2d");ye.filter=this._uiManager.hcmFilter,ye.drawImage(Ie,0,0,Ie.width,Ie.height,0,0,Oe,Le)},bn=function(Oe){if(Oe){if(j(this,ie)){const Ie=this._uiManager.imageManager.getSvgUrl(j(this,f));if(Ie)return Ie}const Le=document.createElement("canvas");return{width:Le.width,height:Le.height}=j(this,ne),Le.getContext("2d").drawImage(j(this,ne),0,0),Le.toDataURL()}if(j(this,ie)){const[Le,me]=this.pageDimensions,Ie=Math.round(this.width*Le*d.PixelsPerInch.PDF_TO_CSS_UNITS),ye=Math.round(this.height*me*d.PixelsPerInch.PDF_TO_CSS_UNITS),Pe=new OffscreenCanvas(Ie,ye);return Pe.getContext("2d").drawImage(j(this,ne),0,0,j(this,ne).width,j(this,ne).height,0,0,Ie,ye),Pe.transferToImageBitmap()}return structuredClone(j(this,ne))},Dr=function(){Ye(this,re,new ResizeObserver(Oe=>{const Le=Oe[0].contentRect;Le.width&&Le.height&&He(this,ce,kr).call(this,Le.width,Le.height)})),j(this,re).observe(this.div)},Ft(ue,"_type","stamp");let _=ue;i.StampEditor=_}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return h.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ne.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return a.version}});var i=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),d=__w_pdfjs_require__(27),h=__w_pdfjs_require__(5),_=__w_pdfjs_require__(29),ne=__w_pdfjs_require__(14),f=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,__createBinding$k=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$k=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$k=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$k(i,e,a);return __setModuleDefault$k(i,e),i};Object.defineProperty(pdfjs$1,"__esModule",{value:!0});const pdfjsModule=__importStar$k(pdfExports),pdfjs="default"in pdfjsModule?pdfjsModule.default:pdfjsModule;pdfjs$1.default=pdfjs;var Document$1={},cjs$3={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__spreadArray||function(o,c,d){if(d||arguments.length===2)for(var h=0,_=c.length,ne;h<_;h++)(ne||!(h in c))&&(ne||(ne=Array.prototype.slice.call(c,0,h)),ne[h]=c[h]);return o.concat(ne||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.allEvents=e.changeEvents=e.otherEvents=e.transitionEvents=e.animationEvents=e.wheelEvents=e.uiEvents=e.pointerEvents=e.touchEvents=e.selectionEvents=e.dragEvents=e.mouseEvents=e.mediaEvents=e.keyboardEvents=e.imageEvents=e.formEvents=e.focusEvents=e.compositionEvents=e.clipboardEvents=void 0,e.clipboardEvents=["onCopy","onCut","onPaste"],e.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],e.focusEvents=["onFocus","onBlur"],e.formEvents=["onInput","onInvalid","onReset","onSubmit"],e.imageEvents=["onLoad","onError"],e.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],e.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],e.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],e.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],e.selectionEvents=["onSelect"],e.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],e.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],e.uiEvents=["onScroll"],e.wheelEvents=["onWheel"],e.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],e.transitionEvents=["onTransitionEnd"],e.otherEvents=["onToggle"],e.changeEvents=["onChange"],e.allEvents=i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i([],e.clipboardEvents,!0),e.compositionEvents,!0),e.focusEvents,!0),e.formEvents,!0),e.imageEvents,!0),e.keyboardEvents,!0),e.mediaEvents,!0),e.mouseEvents,!0),e.dragEvents,!0),e.selectionEvents,!0),e.touchEvents,!0),e.pointerEvents,!0),e.uiEvents,!0),e.wheelEvents,!0),e.animationEvents,!0),e.transitionEvents,!0),e.changeEvents,!0),e.otherEvents,!0);function a(o,c){var d={};return e.allEvents.forEach(function(h){var _=o[h];_&&(c?d[h]=function(ne){return _(ne,c(h))}:d[h]=_)}),d}e.default=a})(cjs$3);var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});function makeCancellablePromise(e){var i=!1,a=new Promise(function(o,c){e.then(function(d){return!i&&o(d)}).catch(function(d){return!i&&c(d)})});return{promise:a,cancel:function(){i=!0}}}cjs$2.default=makeCancellablePromise;const require$$1=getAugmentedNamespace(clsx),require$$2=getAugmentedNamespace(tinyInvariant);var dist={},has=Object.prototype.hasOwnProperty;function find(e,i,a){for(a of e.keys())if(dequal(a,i))return a}function dequal(e,i){var a,o,c;if(e===i)return!0;if(e&&i&&(a=e.constructor)===i.constructor){if(a===Date)return e.getTime()===i.getTime();if(a===RegExp)return e.toString()===i.toString();if(a===Array){if((o=e.length)===i.length)for(;o--&&dequal(e[o],i[o]););return o===-1}if(a===Set){if(e.size!==i.size)return!1;for(o of e)if(c=o,c&&typeof c=="object"&&(c=find(i,c),!c)||!i.has(c))return!1;return!0}if(a===Map){if(e.size!==i.size)return!1;for(o of e)if(c=o[0],c&&typeof c=="object"&&(c=find(i,c),!c)||!dequal(o[1],i.get(c)))return!1;return!0}if(a===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(a===DataView){if((o=e.byteLength)===i.byteLength)for(;o--&&e.getInt8(o)===i.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===i.byteLength)for(;o--&&e[o]===i[o];);return o===-1}if(!a||typeof e=="object"){o=0;for(a in e)if(has.call(e,a)&&++o&&!has.call(i,a)||!(a in i)||!dequal(e[a],i[a]))return!1;return Object.keys(i).length===o}}return e!==e&&i!==i}dist.dequal=dequal;var DocumentContext={};Object.defineProperty(DocumentContext,"__esModule",{value:!0});const react_1$n=reactExports;DocumentContext.default=(0,react_1$n.createContext)(null);var Message$1={},__importDefault$p=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Message$1,"__esModule",{value:!0});const react_1$m=__importDefault$p(reactExports);function Message({children:e,type:i}){return react_1$m.default.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}Message$1.default=Message;var LinkService$1={},__importDefault$o=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LinkService$1,"__esModule",{value:!0});const tiny_invariant_1$a=__importDefault$o(require$$2),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(i){(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(a=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),(0,tiny_invariant_1$a.default)(i,"Destination is not specified."),typeof i=="string"?this.pdfDocument.getDestination(i).then(a):Array.isArray(i)?a(i):i.then(a)}).then(a=>{(0,tiny_invariant_1$a.default)(Array.isArray(a),`"${a}" is not a valid destination array.`);const o=a[0];new Promise(c=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),o instanceof Object?this.pdfDocument.getPageIndex(o).then(d=>{c(d)}).catch(()=>{(0,tiny_invariant_1$a.default)(!1,`"${o}" is not a valid page reference.`)}):typeof o=="number"?c(o):(0,tiny_invariant_1$a.default)(!1,`"${o}" is not a valid destination reference.`)}).then(c=>{const d=c+1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(d>=1&&d<=this.pagesCount,`"${d}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:a,pageIndex:c,pageNumber:d})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const a=i-1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(i>=1&&i<=this.pagesCount,`"${i}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:a,pageNumber:i})}addLinkAttributes(i,a,o){i.href=a,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}LinkService$1.default=LinkService;var PasswordResponses$1={};Object.defineProperty(PasswordResponses$1,"__esModule",{value:!0});const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};PasswordResponses$1.default=PasswordResponses;var utils={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(fe){return fe&&fe.__esModule?fe:{default:fe}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadFromFile=e.isCancelException=e.makePageCallback=e.cancelRunningTask=e.displayWorkerWarning=e.displayCORSWarning=e.getDevicePixelRatio=e.dataURItoByteString=e.isDataURI=e.isBlob=e.isArrayBuffer=e.isString=e.isProvided=e.isDefined=e.isLocalFileSystem=e.isBrowser=void 0;const a=i(require$$2),o=i(warning_1$8);e.isBrowser=typeof document<"u",e.isLocalFileSystem=e.isBrowser&&window.location.protocol==="file:";function c(fe){return typeof fe<"u"}e.isDefined=c;function d(fe){return c(fe)&&fe!==null}e.isProvided=d;function h(fe){return typeof fe=="string"}e.isString=h;function _(fe){return fe instanceof ArrayBuffer}e.isArrayBuffer=_;function ne(fe){return(0,a.default)(e.isBrowser,"isBlob can only be used in a browser environment"),fe instanceof Blob}e.isBlob=ne;function f(fe){return h(fe)&&/^data:/.test(fe)}e.isDataURI=f;function g(fe){(0,a.default)(f(fe),"Invalid data URI.");const[ae="",$=""]=fe.split(",");return ae.split(";").indexOf("base64")!==-1?atob($):unescape($)}e.dataURItoByteString=g;function he(){return e.isBrowser&&window.devicePixelRatio||1}e.getDevicePixelRatio=he;const _e="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function q(){(0,o.default)(!e.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${_e}`)}e.displayCORSWarning=q;function re(){(0,o.default)(!e.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${_e}`)}e.displayWorkerWarning=re;function ve(fe){fe&&fe.cancel&&fe.cancel()}e.cancelRunningTask=ve;function ie(fe,ae){return Object.defineProperty(fe,"width",{get(){return this.view[2]*ae},configurable:!0}),Object.defineProperty(fe,"height",{get(){return this.view[3]*ae},configurable:!0}),Object.defineProperty(fe,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(fe,"originalHeight",{get(){return this.view[3]},configurable:!0}),fe}e.makePageCallback=ie;function ee(fe){return fe.name==="RenderingCancelledException"}e.isCancelException=ee;function ce(fe){return new Promise((ae,$)=>{const oe=new FileReader;oe.onload=()=>{if(!oe.result)return $(new Error("Error while reading a file."));ae(oe.result)},oe.onerror=se=>{if(!se.target)return $(new Error("Error while reading a file."));const{error:te}=se.target;if(!te)return $(new Error("Error while reading a file."));switch(te.code){case te.NOT_FOUND_ERR:return $(new Error("Error while reading a file: File not found."));case te.SECURITY_ERR:return $(new Error("Error while reading a file: Security error."));case te.ABORT_ERR:return $(new Error("Error while reading a file: Aborted."));default:return $(new Error("Error while reading a file."))}},oe.readAsArrayBuffer(fe)})}e.loadFromFile=ce})(utils);var useResolver$1={};Object.defineProperty(useResolver$1,"__esModule",{value:!0});const react_1$l=reactExports;function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return(0,react_1$l.useReducer)(reducer,{value:void 0,error:void 0})}useResolver$1.default=useResolver;var propTypes={},__importDefault$n=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(propTypes,"__esModule",{value:!0});propTypes.isRotate=propTypes.isRenderMode=propTypes.isRef=propTypes.isPdf=propTypes.isPageNumber=propTypes.isPageIndex=propTypes.isPage=propTypes.isLinkTarget=propTypes.isLinkService=propTypes.isFile=propTypes.isClassName=propTypes.eventProps=void 0;const prop_types_1$3=__importDefault$n(propTypesExports),make_event_props_1$3=cjs$3,pdfjs_js_1$6=__importDefault$n(pdfjs$1),utils_js_1$b=utils,LinkService_js_1$1=__importDefault$n(LinkService$1),{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs_js_1$6.default;propTypes.eventProps=(()=>{const e={};return make_event_props_1$3.allEvents.forEach(i=>{e[i]=prop_types_1$3.default.func}),e})();const isTypedArray=prop_types_1$3.default.oneOfType([prop_types_1$3.default.instanceOf(Int8Array),prop_types_1$3.default.instanceOf(Uint8Array),prop_types_1$3.default.instanceOf(Uint8ClampedArray),prop_types_1$3.default.instanceOf(Int16Array),prop_types_1$3.default.instanceOf(Uint16Array),prop_types_1$3.default.instanceOf(Int32Array),prop_types_1$3.default.instanceOf(Uint32Array),prop_types_1$3.default.instanceOf(Float32Array),prop_types_1$3.default.instanceOf(Float64Array)]),fileTypes=[prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.shape({data:prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.arrayOf(prop_types_1$3.default.number.isRequired),isTypedArray]).isRequired}),prop_types_1$3.default.shape({range:prop_types_1$3.default.instanceOf(PDFDataRangeTransport$1).isRequired}),prop_types_1$3.default.shape({url:prop_types_1$3.default.string.isRequired})];typeof Blob<"u"&&fileTypes.push(prop_types_1$3.default.instanceOf(Blob));propTypes.isClassName=prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.arrayOf(prop_types_1$3.default.string)]);propTypes.isFile=prop_types_1$3.default.oneOfType(fileTypes);propTypes.isLinkService=prop_types_1$3.default.instanceOf(LinkService_js_1$1.default);propTypes.isLinkTarget=prop_types_1$3.default.oneOf(["_self","_blank","_parent","_top"]);propTypes.isPage=prop_types_1$3.default.shape({commonObjs:prop_types_1$3.default.shape({}).isRequired,getAnnotations:prop_types_1$3.default.func.isRequired,getTextContent:prop_types_1$3.default.func.isRequired,getViewport:prop_types_1$3.default.func.isRequired,render:prop_types_1$3.default.func.isRequired});const isPageIndex=function e(i,a,o){const{[a]:c,pageNumber:d,pdf:h}=i;if(!(0,utils_js_1$b.isDefined)(h))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${a}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<0)return new Error(`Expected \`${a}\` to be greater or equal to 0.`);const{numPages:_}=h;if(c+1>_)return new Error(`Expected \`${a}\` to be less or equal to ${_-1}.`)}else if(!(0,utils_js_1$b.isDefined)(d))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null};propTypes.isPageIndex=isPageIndex;const isPageNumber=function e(i,a,o){const{[a]:c,pageIndex:d,pdf:h}=i;if(!(0,utils_js_1$b.isDefined)(h))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${a}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<1)return new Error(`Expected \`${a}\` to be greater or equal to 1.`);const{numPages:_}=h;if(c>_)return new Error(`Expected \`${a}\` to be less or equal to ${_}.`)}else if(!(0,utils_js_1$b.isDefined)(d))return new Error(`\`${a}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null};propTypes.isPageNumber=isPageNumber;propTypes.isPdf=prop_types_1$3.default.oneOfType([prop_types_1$3.default.any,prop_types_1$3.default.oneOf([!1])]);propTypes.isRef=prop_types_1$3.default.oneOfType([prop_types_1$3.default.func,prop_types_1$3.default.exact({current:prop_types_1$3.default.any})]);propTypes.isRenderMode=prop_types_1$3.default.oneOf(["canvas","custom","none","svg"]);propTypes.isRotate=prop_types_1$3.default.oneOf([0,90,180,270]);var __createBinding$j=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$j=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$j=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$j(i,e,a);return __setModuleDefault$j(i,e),i},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,a,o){function c(d){return d instanceof a?d:new a(function(h){h(d)})}return new(a||(a=Promise))(function(d,h){function _(g){try{f(o.next(g))}catch(he){h(he)}}function ne(g){try{f(o.throw(g))}catch(he){h(he)}}function f(g){g.done?d(g.value):c(g.value).then(_,ne)}f((o=o.apply(e,i||[])).next())})},__rest$5=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Document$1,"__esModule",{value:!0});const react_1$k=__importStar$j(reactExports),prop_types_1$2=__importDefault$m(propTypesExports),make_event_props_1$2=__importDefault$m(cjs$3),make_cancellable_promise_1$6=__importDefault$m(cjs$2),clsx_1$5=__importDefault$m(require$$1),tiny_invariant_1$9=__importDefault$m(require$$2),warning_1$7=__importDefault$m(warning_1$8),dequal_1=dist,pdfjs_js_1$5=__importDefault$m(pdfjs$1),DocumentContext_js_1$1=__importDefault$m(DocumentContext),Message_js_1$1=__importDefault$m(Message$1),LinkService_js_1=__importDefault$m(LinkService$1),PasswordResponses_js_1$1=__importDefault$m(PasswordResponses$1),utils_js_1$a=utils,useResolver_js_1$6=__importDefault$m(useResolver$1),propTypes_js_1$2=propTypes,{PDFDataRangeTransport}=pdfjs_js_1$5.default,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses_js_1$1.default.NEED_PASSWORD:{const a=prompt("Enter the password to open this PDF file.");e(a);break}case PasswordResponses_js_1$1.default.INCORRECT_PASSWORD:{const a=prompt("Invalid password. Please try again.");e(a);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=(0,react_1$k.forwardRef)(function e(i,a){var{children:o,className:c,error:d="Failed to load PDF file.",externalLinkRel:h,externalLinkTarget:_,file:ne,inputRef:f,imageResourcesPath:g,loading:he="Loading PDF",noData:_e="No PDF file specified.",onItemClick:q,onLoadError:re,onLoadProgress:ve,onLoadSuccess:ie,onPassword:ee=defaultOnPassword,onSourceError:ce,onSourceSuccess:fe,options:ae,renderMode:$,rotate:oe}=i,se=__rest$5(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[te,b]=(0,useResolver_js_1$6.default)(),{value:ge,error:m}=te,[ue,be]=(0,useResolver_js_1$6.default)(),{value:je,error:Oe}=ue,Le=(0,react_1$k.useRef)(new LinkService_js_1.default),me=(0,react_1$k.useRef)([]),Ie=(0,react_1$k.useRef)(),ye=(0,react_1$k.useRef)();(0,react_1$k.useEffect)(()=>{ne&&ne!==Ie.current&&isParameterObject(ne)&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(ne,Ie.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Ie.current=ne)},[ne]),(0,react_1$k.useEffect)(()=>{ae&&ae!==ye.current&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(ae,ye.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ye.current=ae)},[ae]);const Pe=(0,react_1$k.useRef)({scrollPageIntoView:Ge=>{const{dest:qe,pageNumber:Se,pageIndex:Ce=Se-1}=Ge;if(q){q({dest:qe,pageIndex:Ce,pageNumber:Se});return}const Be=me.current[Ce];if(Be){Be.scrollIntoView();return}(0,warning_1$7.default)(!1,`An internal link leading to page ${Se} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,react_1$k.useImperativeHandle)(a,()=>({linkService:Le,pages:me,viewer:Pe}),[]);function ke(){fe&&fe()}function Ee(){m&&((0,warning_1$7.default)(!1,m.toString()),ce&&ce(m))}function le(){b({type:"RESET"})}(0,react_1$k.useEffect)(le,[ne,b]);const de=(0,react_1$k.useCallback)(()=>__awaiter$2(this,void 0,void 0,function*(){if(!ne)return null;if(typeof ne=="string")return(0,utils_js_1$a.isDataURI)(ne)?{data:(0,utils_js_1$a.dataURItoByteString)(ne)}:((0,utils_js_1$a.displayCORSWarning)(),{url:ne});if(ne instanceof PDFDataRangeTransport)return{range:ne};if((0,utils_js_1$a.isArrayBuffer)(ne))return{data:ne};if(utils_js_1$a.isBrowser&&(0,utils_js_1$a.isBlob)(ne))return{data:yield(0,utils_js_1$a.loadFromFile)(ne)};if((0,tiny_invariant_1$9.default)(typeof ne=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,tiny_invariant_1$9.default)(isParameterObject(ne),"Invalid parameter object: need either .data, .range or .url"),"url"in ne&&typeof ne.url=="string"){if((0,utils_js_1$a.isDataURI)(ne.url)){const{url:Ge}=ne,qe=__rest$5(ne,["url"]),Se=(0,utils_js_1$a.dataURItoByteString)(Ge);return Object.assign({data:Se},qe)}(0,utils_js_1$a.displayCORSWarning)()}return ne}),[ne]);(0,react_1$k.useEffect)(()=>{const Ge=(0,make_cancellable_promise_1$6.default)(de());return Ge.promise.then(qe=>{b({type:"RESOLVE",value:qe})}).catch(qe=>{b({type:"REJECT",error:qe})}),()=>{(0,utils_js_1$a.cancelRunningTask)(Ge)}},[de,b]),(0,react_1$k.useEffect)(()=>{if(!(typeof ge>"u")){if(ge===!1){Ee();return}ke()}},[ge]);function xe(){je&&(ie&&ie(je),me.current=new Array(je.numPages),Le.current.setDocument(je))}function Ae(){Oe&&((0,warning_1$7.default)(!1,Oe.toString()),re&&re(Oe))}function we(){be({type:"RESET"})}(0,react_1$k.useEffect)(we,[be,ge]);function $e(){if(!ge)return;const Ge=Object.assign(Object.assign({},ae),{isEvalSupported:!1}),qe=Object.assign(Object.assign({},ge),Ge),Se=pdfjs_js_1$5.default.getDocument(qe);ve&&(Se.onProgress=ve),ee&&(Se.onPassword=ee);const Ce=Se;return Ce.promise.then(Be=>{be({type:"RESOLVE",value:Be})}).catch(Be=>{Ce.destroyed||be({type:"REJECT",error:Be})}),()=>{Ce.destroy()}}(0,react_1$k.useEffect)($e,[ae,be,ge]),(0,react_1$k.useEffect)(()=>{if(!(typeof je>"u")){if(je===!1){Ae();return}xe()}},[je]);function Me(){Le.current.setViewer(Pe.current),Le.current.setExternalLinkRel(h),Le.current.setExternalLinkTarget(_)}(0,react_1$k.useEffect)(Me,[h,_]);function Ne(Ge,qe){me.current[Ge]=qe}function Ve(Ge){delete me.current[Ge]}const Je=(0,react_1$k.useMemo)(()=>({imageResourcesPath:g,linkService:Le.current,onItemClick:q,pdf:je,registerPage:Ne,renderMode:$,rotate:oe,unregisterPage:Ve}),[g,q,je,$,oe]),nt=(0,react_1$k.useMemo)(()=>(0,make_event_props_1$2.default)(se,()=>je),[se,je]);function Qe(){return react_1$k.default.createElement(DocumentContext_js_1$1.default.Provider,{value:Je},o)}function tt(){return ne?je==null?react_1$k.default.createElement(Message_js_1$1.default,{type:"loading"},typeof he=="function"?he():he):je===!1?react_1$k.default.createElement(Message_js_1$1.default,{type:"error"},typeof d=="function"?d():d):Qe():react_1$k.default.createElement(Message_js_1$1.default,{type:"no-data"},typeof _e=="function"?_e():_e)}return react_1$k.default.createElement("div",Object.assign({className:(0,clsx_1$5.default)("react-pdf__Document",c),ref:f,style:{"--scale-factor":"1"}},nt),tt())}),isFunctionOrNode$1=prop_types_1$2.default.oneOfType([prop_types_1$2.default.func,prop_types_1$2.default.node]);Document.propTypes=Object.assign(Object.assign({},propTypes_js_1$2.eventProps),{children:prop_types_1$2.default.node,className:propTypes_js_1$2.isClassName,error:isFunctionOrNode$1,externalLinkRel:prop_types_1$2.default.string,externalLinkTarget:prop_types_1$2.default.oneOf(["_self","_blank","_parent","_top"]),file:propTypes_js_1$2.isFile,imageResourcesPath:prop_types_1$2.default.string,inputRef:propTypes_js_1$2.isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:prop_types_1$2.default.func,onLoadError:prop_types_1$2.default.func,onLoadProgress:prop_types_1$2.default.func,onLoadSuccess:prop_types_1$2.default.func,onPassword:prop_types_1$2.default.func,onSourceError:prop_types_1$2.default.func,onSourceSuccess:prop_types_1$2.default.func,options:prop_types_1$2.default.shape({canvasFactory:prop_types_1$2.default.any,canvasMaxAreaInBytes:prop_types_1$2.default.number,cMapPacked:prop_types_1$2.default.bool,CMapReaderFactory:prop_types_1$2.default.any,cMapUrl:prop_types_1$2.default.string,disableAutoFetch:prop_types_1$2.default.bool,disableFontFace:prop_types_1$2.default.bool,disableRange:prop_types_1$2.default.bool,disableStream:prop_types_1$2.default.bool,docBaseUrl:prop_types_1$2.default.string,enableXfa:prop_types_1$2.default.bool,filterFactory:prop_types_1$2.default.any,fontExtraProperties:prop_types_1$2.default.bool,httpHeaders:prop_types_1$2.default.object,isEvalSupported:prop_types_1$2.default.bool,isOffscreenCanvasSupported:prop_types_1$2.default.bool,length:prop_types_1$2.default.number,maxImageSize:prop_types_1$2.default.number,ownerDocument:prop_types_1$2.default.any,password:prop_types_1$2.default.string,pdfBug:prop_types_1$2.default.bool,rangeChunkSize:prop_types_1$2.default.number,StandardFontDataFactory:prop_types_1$2.default.any,standardFontDataUrl:prop_types_1$2.default.string,stopAtErrors:prop_types_1$2.default.bool,useSystemFonts:prop_types_1$2.default.bool,useWorkerFetch:prop_types_1$2.default.bool,verbosity:prop_types_1$2.default.number,withCredentials:prop_types_1$2.default.bool,worker:prop_types_1$2.default.any}),rotate:prop_types_1$2.default.number});Document$1.default=Document;var Outline$1={},OutlineContext={};Object.defineProperty(OutlineContext,"__esModule",{value:!0});const react_1$j=reactExports;OutlineContext.default=(0,react_1$j.createContext)(null);var OutlineItem$1={},Ref$1={};Object.defineProperty(Ref$1,"__esModule",{value:!0});class Ref{constructor({num:i,gen:a}){this.num=i,this.gen=a}toString(){let i=`${this.num}R`;return this.gen!==0&&(i+=this.gen),i}}Ref$1.default=Ref;var useCachedValue$1={};Object.defineProperty(useCachedValue$1,"__esModule",{value:!0});const react_1$i=reactExports,utils_js_1$9=utils;function useCachedValue(e){const i=(0,react_1$i.useRef)(),a=i.current;return(0,utils_js_1$9.isDefined)(a)?()=>a:()=>{const o=e();return i.current=o,o}}useCachedValue$1.default=useCachedValue;var useDocumentContext$1={},__importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useDocumentContext$1,"__esModule",{value:!0});const react_1$h=reactExports,DocumentContext_js_1=__importDefault$l(DocumentContext);function useDocumentContext(){return(0,react_1$h.useContext)(DocumentContext_js_1.default)}useDocumentContext$1.default=useDocumentContext;var useOutlineContext$1={},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useOutlineContext$1,"__esModule",{value:!0});const react_1$g=reactExports,OutlineContext_js_1$1=__importDefault$k(OutlineContext);function useOutlineContext(){return(0,react_1$g.useContext)(OutlineContext_js_1$1.default)}useOutlineContext$1.default=useOutlineContext;var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,a,o){function c(d){return d instanceof a?d:new a(function(h){h(d)})}return new(a||(a=Promise))(function(d,h){function _(g){try{f(o.next(g))}catch(he){h(he)}}function ne(g){try{f(o.throw(g))}catch(he){h(he)}}function f(g){g.done?d(g.value):c(g.value).then(_,ne)}f((o=o.apply(e,i||[])).next())})},__rest$4=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OutlineItem$1,"__esModule",{value:!0});const react_1$f=__importDefault$j(reactExports),tiny_invariant_1$8=__importDefault$j(require$$2),Ref_js_1=__importDefault$j(Ref$1),useCachedValue_js_1=__importDefault$j(useCachedValue$1),useDocumentContext_js_1$5=__importDefault$j(useDocumentContext$1),useOutlineContext_js_1$1=__importDefault$j(useOutlineContext$1);function OutlineItem(e){const i=(0,useDocumentContext_js_1$5.default)(),a=(0,useOutlineContext_js_1$1.default)();(0,tiny_invariant_1$8.default)(a,"Unable to find Outline context.");const o=Object.assign(Object.assign(Object.assign({},i),a),e),{item:c,linkService:d,onItemClick:h,pdf:_}=o,ne=__rest$4(o,["item","linkService","onItemClick","pdf"]);(0,tiny_invariant_1$8.default)(_,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const f=(0,useCachedValue_js_1.default)(()=>typeof c.dest=="string"?_.getDestination(c.dest):c.dest),g=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){const re=yield f();if(!re)throw new Error("Destination not found.");const[ve]=re;return _.getPageIndex(new Ref_js_1.default(ve))})),he=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){return(yield g())+1}));function _e(re){re.preventDefault(),(0,tiny_invariant_1$8.default)(h||d,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),h?Promise.all([f(),g(),he()]).then(([ve,ie,ee])=>{h({dest:ve,pageIndex:ie,pageNumber:ee})}):d&&d.goToDestination(c.dest)}function q(){if(!c.items||!c.items.length)return null;const{items:re}=c;return react_1$f.default.createElement("ul",null,re.map((ve,ie)=>react_1$f.default.createElement(OutlineItem,Object.assign({key:typeof ve.dest=="string"?ve.dest:ie,item:ve,pdf:_},ne))))}return react_1$f.default.createElement("li",null,react_1$f.default.createElement("a",{href:"#",onClick:_e},c.title),q())}OutlineItem$1.default=OutlineItem;var __createBinding$i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$i=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$i(i,e,a);return __setModuleDefault$i(i,e),i},__rest$3=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Outline$1,"__esModule",{value:!0});const react_1$e=__importStar$i(reactExports),prop_types_1$1=__importDefault$i(propTypesExports),make_cancellable_promise_1$5=__importDefault$i(cjs$2),make_event_props_1$1=__importDefault$i(cjs$3),clsx_1$4=__importDefault$i(require$$1),tiny_invariant_1$7=__importDefault$i(require$$2),warning_1$6=__importDefault$i(warning_1$8),OutlineContext_js_1=__importDefault$i(OutlineContext),OutlineItem_js_1=__importDefault$i(OutlineItem$1),utils_js_1$8=utils,useDocumentContext_js_1$4=__importDefault$i(useDocumentContext$1),useResolver_js_1$5=__importDefault$i(useResolver$1),propTypes_js_1$1=propTypes,Outline=function e(i){const a=(0,useDocumentContext_js_1$4.default)(),o=Object.assign(Object.assign({},a),i),{className:c,inputRef:d,onItemClick:h,onLoadError:_,onLoadSuccess:ne,pdf:f}=o,g=__rest$3(o,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,tiny_invariant_1$7.default)(f,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[he,_e]=(0,useResolver_js_1$5.default)(),{value:q,error:re}=he;function ve(){typeof q>"u"||q===!1||ne&&ne(q)}function ie(){re&&((0,warning_1$6.default)(!1,re.toString()),_&&_(re))}function ee(){_e({type:"RESET"})}(0,react_1$e.useEffect)(ee,[_e,f]);function ce(){if(!f)return;const oe=(0,make_cancellable_promise_1$5.default)(f.getOutline()),se=oe;return oe.promise.then(te=>{_e({type:"RESOLVE",value:te})}).catch(te=>{_e({type:"REJECT",error:te})}),()=>(0,utils_js_1$8.cancelRunningTask)(se)}(0,react_1$e.useEffect)(ce,[_e,f]),(0,react_1$e.useEffect)(()=>{if(q!==void 0){if(q===!1){ie();return}ve()}},[q]);const fe=(0,react_1$e.useMemo)(()=>({onItemClick:h}),[h]),ae=(0,react_1$e.useMemo)(()=>(0,make_event_props_1$1.default)(g,()=>q),[g,q]);if(!q)return null;function $(){return q?react_1$e.default.createElement("ul",null,q.map((oe,se)=>react_1$e.default.createElement(OutlineItem_js_1.default,{key:typeof oe.dest=="string"?oe.dest:se,item:oe,pdf:f}))):null}return react_1$e.default.createElement("div",Object.assign({className:(0,clsx_1$4.default)("react-pdf__Outline",c),ref:d},ae),react_1$e.default.createElement(OutlineContext_js_1.default.Provider,{value:fe},$()))};Outline.propTypes=Object.assign(Object.assign({},propTypes_js_1$1.eventProps),{className:propTypes_js_1$1.isClassName,inputRef:propTypes_js_1$1.isRef,onItemClick:prop_types_1$1.default.func,onLoadError:prop_types_1$1.default.func,onLoadSuccess:prop_types_1$1.default.func,pdf:propTypes_js_1$1.isPdf});Outline$1.default=Outline;var Page$1={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=e.filter(Boolean);if(a.length<=1){var o=a[0];return o||null}return function(d){a.forEach(function(h){typeof h=="function"?h(d):h&&(h.current=d)})}}cjs$1.default=mergeRefs;var PageContext={};Object.defineProperty(PageContext,"__esModule",{value:!0});const react_1$d=reactExports;PageContext.default=(0,react_1$d.createContext)(null);var PageCanvas$1={},StructTree$1={},StructTreeItem$1={},structTreeUtils={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.HEADING_PATTERN=constants.PDF_ROLE_TO_HTML_ROLE=void 0;constants.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};constants.HEADING_PATTERN=/^H(\d+)$/;Object.defineProperty(structTreeUtils,"__esModule",{value:!0});structTreeUtils.getAttributes=structTreeUtils.getBaseAttributes=structTreeUtils.getRoleAttributes=structTreeUtils.isStructTreeNodeWithOnlyContentChild=structTreeUtils.isStructTreeNode=structTreeUtils.isPdfRole=void 0;const constants_js_1=constants;function isPdfRole(e){return e in constants_js_1.PDF_ROLE_TO_HTML_ROLE}structTreeUtils.isPdfRole=isPdfRole;function isStructTreeNode(e){return"children"in e}structTreeUtils.isStructTreeNode=isStructTreeNode;function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}structTreeUtils.isStructTreeNodeWithOnlyContentChild=isStructTreeNodeWithOnlyContentChild;function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:a}=e,o=a.match(constants_js_1.HEADING_PATTERN);if(o)i.role="heading",i["aria-level"]=Number(o[1]);else if(isPdfRole(a)){const c=constants_js_1.PDF_ROLE_TO_HTML_ROLE[a];c&&(i.role=c)}}return i}structTreeUtils.getRoleAttributes=getRoleAttributes;function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[a]=e.children;if(a){const o=getBaseAttributes(a);return Object.assign(Object.assign({},i),o)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}structTreeUtils.getBaseAttributes=getBaseAttributes;function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}structTreeUtils.getAttributes=getAttributes;var __createBinding$h=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$h=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$h=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$h(i,e,a);return __setModuleDefault$h(i,e),i};Object.defineProperty(StructTreeItem$1,"__esModule",{value:!0});const react_1$c=__importStar$h(reactExports),structTreeUtils_js_1=structTreeUtils;function StructTreeItem({className:e,node:i}){const a=(0,react_1$c.useMemo)(()=>(0,structTreeUtils_js_1.getAttributes)(i),[i]),o=(0,react_1$c.useMemo)(()=>!(0,structTreeUtils_js_1.isStructTreeNode)(i)||(0,structTreeUtils_js_1.isStructTreeNodeWithOnlyContentChild)(i)?null:i.children.map((c,d)=>react_1$c.default.createElement(StructTreeItem,{key:d,node:c})),[i]);return react_1$c.default.createElement("span",Object.assign({className:e},a),o)}StructTreeItem$1.default=StructTreeItem;var usePageContext$1={},__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(usePageContext$1,"__esModule",{value:!0});const react_1$b=reactExports,PageContext_js_1$1=__importDefault$h(PageContext);function usePageContext(){return(0,react_1$b.useContext)(PageContext_js_1$1.default)}usePageContext$1.default=usePageContext;var __createBinding$g=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$g=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$g=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$g(i,e,a);return __setModuleDefault$g(i,e),i},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(StructTree$1,"__esModule",{value:!0});const react_1$a=__importStar$g(reactExports),make_cancellable_promise_1$4=__importDefault$g(cjs$2),tiny_invariant_1$6=__importDefault$g(require$$2),warning_1$5=__importDefault$g(warning_1$8),StructTreeItem_js_1=__importDefault$g(StructTreeItem$1),usePageContext_js_1$5=__importDefault$g(usePageContext$1),useResolver_js_1$4=__importDefault$g(useResolver$1),utils_js_1$7=utils;function StructTree(){const e=(0,usePageContext_js_1$5.default)();(0,tiny_invariant_1$6.default)(e,"Unable to find Page context.");const{onGetStructTreeError:i,onGetStructTreeSuccess:a}=e,[o,c]=(0,useResolver_js_1$4.default)(),{value:d,error:h}=o,{customTextRenderer:_,page:ne}=e;function f(){d&&a&&a(d)}function g(){h&&((0,warning_1$5.default)(!1,h.toString()),i&&i(h))}function he(){c({type:"RESET"})}(0,react_1$a.useEffect)(he,[c,ne]);function _e(){if(_||!ne)return;const q=(0,make_cancellable_promise_1$4.default)(ne.getStructTree()),re=q;return q.promise.then(ve=>{c({type:"RESOLVE",value:ve})}).catch(ve=>{c({type:"REJECT",error:ve})}),()=>(0,utils_js_1$7.cancelRunningTask)(re)}return(0,react_1$a.useEffect)(_e,[_,ne,c]),(0,react_1$a.useEffect)(()=>{if(d!==void 0){if(d===!1){g();return}f()}},[d]),d?react_1$a.default.createElement(StructTreeItem_js_1.default,{className:"react-pdf__Page__structTree structTree",node:d}):null}StructTree$1.default=StructTree;var __createBinding$f=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$f=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$f=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$f(i,e,a);return __setModuleDefault$f(i,e),i},__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageCanvas$1,"__esModule",{value:!0});const react_1$9=__importStar$f(reactExports),merge_refs_1$1=__importDefault$f(cjs$1),tiny_invariant_1$5=__importDefault$f(require$$2),warning_1$4=__importDefault$f(warning_1$8),pdfjs_js_1$4=__importDefault$f(pdfjs$1),StructTree_js_1=__importDefault$f(StructTree$1),usePageContext_js_1$4=__importDefault$f(usePageContext$1),utils_js_1$6=utils,ANNOTATION_MODE=pdfjs_js_1$4.default.AnnotationMode;function PageCanvas(e){const i=(0,usePageContext_js_1$4.default)();(0,tiny_invariant_1$5.default)(i,"Unable to find Page context.");const a=Object.assign(Object.assign({},i),e),{_className:o,canvasBackground:c,devicePixelRatio:d=(0,utils_js_1$6.getDevicePixelRatio)(),onRenderError:h,onRenderSuccess:_,page:ne,renderForms:f,renderTextLayer:g,rotate:he,scale:_e}=a,{canvasRef:q}=e;(0,tiny_invariant_1$5.default)(ne,"Attempted to render page canvas, but no page was specified.");const re=(0,react_1$9.useRef)(null);function ve(){ne&&_&&_((0,utils_js_1$6.makePageCallback)(ne,_e))}function ie($){(0,utils_js_1$6.isCancelException)($)||((0,warning_1$4.default)(!1,$.toString()),h&&h($))}const ee=(0,react_1$9.useMemo)(()=>ne.getViewport({scale:_e*d,rotation:he}),[d,ne,he,_e]),ce=(0,react_1$9.useMemo)(()=>ne.getViewport({scale:_e,rotation:he}),[ne,he,_e]);function fe(){if(!ne)return;ne.cleanup();const{current:$}=re;if(!$)return;$.width=ee.width,$.height=ee.height,$.style.width=`${Math.floor(ce.width)}px`,$.style.height=`${Math.floor(ce.height)}px`,$.style.visibility="hidden";const oe={annotationMode:f?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:$.getContext("2d",{alpha:!1}),viewport:ee};c&&(oe.background=c);const se=ne.render(oe),te=se;return se.promise.then(()=>{$.style.visibility="",ve()}).catch(ie),()=>(0,utils_js_1$6.cancelRunningTask)(te)}(0,react_1$9.useEffect)(fe,[c,re,d,ne,f,ee,ce]);const ae=(0,react_1$9.useCallback)(()=>{const{current:$}=re;$&&($.width=0,$.height=0)},[re]);return(0,react_1$9.useEffect)(()=>ae,[ae]),react_1$9.default.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:(0,merge_refs_1$1.default)(q,re),style:{display:"block",userSelect:"none"}},g?react_1$9.default.createElement(StructTree_js_1.default,null):null)}PageCanvas$1.default=PageCanvas;var PageSVG$1={},__createBinding$e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$e=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$e(i,e,a);return __setModuleDefault$e(i,e),i},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageSVG$1,"__esModule",{value:!0});const react_1$8=__importStar$e(reactExports),make_cancellable_promise_1$3=__importDefault$e(cjs$2),tiny_invariant_1$4=__importDefault$e(require$$2),warning_1$3=__importDefault$e(warning_1$8),pdfjs_js_1$3=__importDefault$e(pdfjs$1),usePageContext_js_1$3=__importDefault$e(usePageContext$1),useResolver_js_1$3=__importDefault$e(useResolver$1),utils_js_1$5=utils;function PageSVG(){const e=(0,usePageContext_js_1$3.default)();(0,tiny_invariant_1$4.default)(e,"Unable to find Page context.");const{_className:i,onRenderSuccess:a,onRenderError:o,page:c,rotate:d,scale:h}=e;(0,tiny_invariant_1$4.default)(c,"Attempted to render page SVG, but no page was specified.");const[_,ne]=(0,useResolver_js_1$3.default)(),{value:f,error:g}=_;function he(){c&&a&&a((0,utils_js_1$5.makePageCallback)(c,h))}function _e(){g&&((0,utils_js_1$5.isCancelException)(g)||((0,warning_1$3.default)(!1,g.toString()),o&&o(g)))}const q=(0,react_1$8.useMemo)(()=>c.getViewport({scale:h,rotation:d}),[c,d,h]);function re(){ne({type:"RESET"})}(0,react_1$8.useEffect)(re,[c,ne,q]);function ve(){if(!c)return;const fe=(0,make_cancellable_promise_1$3.default)(c.getOperatorList());return fe.promise.then(ae=>{new pdfjs_js_1$3.default.SVGGraphics(c.commonObjs,c.objs).getSVG(ae,q).then(oe=>{if(!(oe instanceof SVGElement))throw new Error("getSVG returned unexpected result.");ne({type:"RESOLVE",value:oe})}).catch(oe=>{ne({type:"REJECT",error:oe})})}).catch(ae=>{ne({type:"REJECT",error:ae})}),()=>(0,utils_js_1$5.cancelRunningTask)(fe)}(0,react_1$8.useEffect)(ve,[c,ne,q]),(0,react_1$8.useEffect)(()=>{if(f!==void 0){if(f===!1){_e();return}he()}},[f]);function ie(fe){if(!fe||!f)return;fe.firstElementChild||fe.appendChild(f);const{width:ae,height:$}=q;f.setAttribute("width",`${ae}`),f.setAttribute("height",`${$}`)}const{width:ee,height:ce}=q;return react_1$8.default.createElement("div",{className:`${i}__svg`,ref:fe=>ie(fe),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:ee,height:ce,userSelect:"none"}})}PageSVG$1.default=PageSVG;var TextLayer$1={},__createBinding$d=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$d=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$d(i,e,a);return __setModuleDefault$d(i,e),i},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextLayer$1,"__esModule",{value:!0});const react_1$7=__importStar$d(reactExports),make_cancellable_promise_1$2=__importDefault$d(cjs$2),clsx_1$3=__importDefault$d(require$$1),tiny_invariant_1$3=__importDefault$d(require$$2),warning_1$2=__importDefault$d(warning_1$8),pdfjs_js_1$2=__importDefault$d(pdfjs$1),usePageContext_js_1$2=__importDefault$d(usePageContext$1),useResolver_js_1$2=__importDefault$d(useResolver$1),utils_js_1$4=utils;function isTextItem(e){return"str"in e}function TextLayer(){const e=(0,usePageContext_js_1$2.default)();(0,tiny_invariant_1$3.default)(e,"Unable to find Page context.");const{customTextRenderer:i,onGetTextError:a,onGetTextSuccess:o,onRenderTextLayerError:c,onRenderTextLayerSuccess:d,page:h,pageIndex:_,pageNumber:ne,rotate:f,scale:g}=e;(0,tiny_invariant_1$3.default)(h,"Attempted to load page text content, but no page was specified.");const[he,_e]=(0,useResolver_js_1$2.default)(),{value:q,error:re}=he,ve=(0,react_1$7.useRef)(null),ie=(0,react_1$7.useRef)();(0,warning_1$2.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function ee(){q&&o&&o(q)}function ce(){re&&((0,warning_1$2.default)(!1,re.toString()),a&&a(re))}function fe(){_e({type:"RESET"})}(0,react_1$7.useEffect)(fe,[h,_e]);function ae(){if(!h)return;const m=(0,make_cancellable_promise_1$2.default)(h.getTextContent()),ue=m;return m.promise.then(be=>{_e({type:"RESOLVE",value:be})}).catch(be=>{_e({type:"REJECT",error:be})}),()=>(0,utils_js_1$4.cancelRunningTask)(ue)}(0,react_1$7.useEffect)(ae,[h,_e]),(0,react_1$7.useEffect)(()=>{if(q!==void 0){if(q===!1){ce();return}ee()}},[q]);const $=(0,react_1$7.useCallback)(()=>{d&&d()},[d]),oe=(0,react_1$7.useCallback)(m=>{(0,warning_1$2.default)(!1,m.toString()),c&&c(m)},[c]);function se(){const m=ie.current;m&&m.classList.add("active")}function te(){const m=ie.current;m&&m.classList.remove("active")}const b=(0,react_1$7.useMemo)(()=>h.getViewport({scale:g,rotation:f}),[h,f,g]);function ge(){if(!h||!q)return;const{current:m}=ve;if(!m)return;m.innerHTML="";const ue=h.streamTextContent({includeMarkedContent:!0}),be={container:m,textContentSource:ue,viewport:b},je=pdfjs_js_1$2.default.renderTextLayer(be),Oe=je;return je.promise.then(()=>{const Le=document.createElement("div");Le.className="endOfContent",m.append(Le),ie.current=Le;const me=m.querySelectorAll('[role="presentation"]');if(i){let Ie=0;q.items.forEach((ye,Pe)=>{if(!isTextItem(ye))return;const ke=me[Ie];if(!ke)return;const Ee=i(Object.assign({pageIndex:_,pageNumber:ne,itemIndex:Pe},ye));ke.innerHTML=Ee,Ie+=ye.str&&ye.hasEOL?2:1})}$()}).catch(oe),()=>(0,utils_js_1$4.cancelRunningTask)(Oe)}return(0,react_1$7.useLayoutEffect)(ge,[i,oe,$,h,_,ne,q,b]),react_1$7.default.createElement("div",{className:(0,clsx_1$3.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:te,onMouseDown:se,ref:ve})}TextLayer$1.default=TextLayer;var AnnotationLayer$1={},__createBinding$c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$c=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$c(i,e,a);return __setModuleDefault$c(i,e),i},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AnnotationLayer$1,"__esModule",{value:!0});const react_1$6=__importStar$c(reactExports),make_cancellable_promise_1$1=__importDefault$c(cjs$2),clsx_1$2=__importDefault$c(require$$1),tiny_invariant_1$2=__importDefault$c(require$$2),warning_1$1=__importDefault$c(warning_1$8),pdfjs_js_1$1=__importDefault$c(pdfjs$1),useDocumentContext_js_1$3=__importDefault$c(useDocumentContext$1),usePageContext_js_1$1=__importDefault$c(usePageContext$1),useResolver_js_1$1=__importDefault$c(useResolver$1),utils_js_1$3=utils;function AnnotationLayer(){const e=(0,useDocumentContext_js_1$3.default)(),i=(0,usePageContext_js_1$1.default)();(0,tiny_invariant_1$2.default)(i,"Unable to find Page context.");const a=Object.assign(Object.assign({},e),i),{imageResourcesPath:o,linkService:c,onGetAnnotationsError:d,onGetAnnotationsSuccess:h,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:ne,page:f,pdf:g,renderForms:he,rotate:_e,scale:q=1}=a;(0,tiny_invariant_1$2.default)(g,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,tiny_invariant_1$2.default)(f,"Attempted to load page annotations, but no page was specified."),(0,tiny_invariant_1$2.default)(c,"Attempted to load page annotations, but no linkService was specified.");const[re,ve]=(0,useResolver_js_1$1.default)(),{value:ie,error:ee}=re,ce=(0,react_1$6.useRef)(null);(0,warning_1$1.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function fe(){ie&&h&&h(ie)}function ae(){ee&&((0,warning_1$1.default)(!1,ee.toString()),d&&d(ee))}function $(){ve({type:"RESET"})}(0,react_1$6.useEffect)($,[ve,f]);function oe(){if(!f)return;const m=(0,make_cancellable_promise_1$1.default)(f.getAnnotations()),ue=m;return m.promise.then(be=>{ve({type:"RESOLVE",value:be})}).catch(be=>{ve({type:"REJECT",error:be})}),()=>{(0,utils_js_1$3.cancelRunningTask)(ue)}}(0,react_1$6.useEffect)(oe,[ve,f,he]),(0,react_1$6.useEffect)(()=>{if(ie!==void 0){if(ie===!1){ae();return}fe()}},[ie]);function se(){ne&&ne()}function te(m){(0,warning_1$1.default)(!1,`${m}`),_&&_(m)}const b=(0,react_1$6.useMemo)(()=>f.getViewport({scale:q,rotation:_e}),[f,_e,q]);function ge(){if(!g||!f||!c||!ie)return;const{current:m}=ce;if(!m)return;const ue=b.clone({dontFlip:!0}),be={accessibilityManager:null,annotationCanvasMap:null,div:m,l10n:null,page:f,viewport:ue},je={annotations:ie,annotationStorage:g.annotationStorage,div:m,downloadManager:null,imageResourcesPath:o,linkService:c,page:f,renderForms:he,viewport:ue};m.innerHTML="";try{new pdfjs_js_1$1.default.AnnotationLayer(be).render(je),se()}catch(Oe){te(Oe)}return()=>{}}return(0,react_1$6.useEffect)(ge,[ie,o,c,f,he,b]),react_1$6.default.createElement("div",{className:(0,clsx_1$2.default)("react-pdf__Page__annotations","annotationLayer"),ref:ce})}AnnotationLayer$1.default=AnnotationLayer;var __createBinding$b=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$b=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$b=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$b(i,e,a);return __setModuleDefault$b(i,e),i},__rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Page$1,"__esModule",{value:!0});const react_1$5=__importStar$b(reactExports),prop_types_1=__importDefault$b(propTypesExports),make_cancellable_promise_1=__importDefault$b(cjs$2),make_event_props_1=__importDefault$b(cjs$3),clsx_1$1=__importDefault$b(require$$1),merge_refs_1=__importDefault$b(cjs$1),tiny_invariant_1$1=__importDefault$b(require$$2),warning_1=__importDefault$b(warning_1$8),PageContext_js_1=__importDefault$b(PageContext),Message_js_1=__importDefault$b(Message$1),PageCanvas_js_1=__importDefault$b(PageCanvas$1),PageSVG_js_1=__importDefault$b(PageSVG$1),TextLayer_js_1=__importDefault$b(TextLayer$1),AnnotationLayer_js_1=__importDefault$b(AnnotationLayer$1),utils_js_1$2=utils,useDocumentContext_js_1$2=__importDefault$b(useDocumentContext$1),useResolver_js_1=__importDefault$b(useResolver$1),propTypes_js_1=propTypes,defaultScale=1,Page=function e(i){const a=(0,useDocumentContext_js_1$2.default)(),o=Object.assign(Object.assign({},a),i),{_className:c="react-pdf__Page",_enableRegisterUnregisterPage:d=!0,canvasBackground:h,canvasRef:_,children:ne,className:f,customRenderer:g,customTextRenderer:he,devicePixelRatio:_e,error:q="Failed to load the page.",height:re,inputRef:ve,loading:ie="Loading page",noData:ee="No page specified.",onGetAnnotationsError:ce,onGetAnnotationsSuccess:fe,onGetStructTreeError:ae,onGetStructTreeSuccess:$,onGetTextError:oe,onGetTextSuccess:se,onLoadError:te,onLoadSuccess:b,onRenderAnnotationLayerError:ge,onRenderAnnotationLayerSuccess:m,onRenderError:ue,onRenderSuccess:be,onRenderTextLayerError:je,onRenderTextLayerSuccess:Oe,pageIndex:Le,pageNumber:me,pdf:Ie,registerPage:ye,renderAnnotationLayer:Pe=!0,renderForms:ke=!1,renderMode:Ee="canvas",renderTextLayer:le=!0,rotate:de,scale:xe=defaultScale,unregisterPage:Ae,width:we}=o,$e=__rest$2(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Me,Ne]=(0,useResolver_js_1.default)(),{value:Ve,error:Je}=Me,nt=(0,react_1$5.useRef)(null);(0,tiny_invariant_1$1.default)(Ie,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Qe=(0,utils_js_1$2.isProvided)(me)?me-1:Le??null,tt=me??((0,utils_js_1$2.isProvided)(Le)?Le+1:null),Ge=de??(Ve?Ve.rotate:null),qe=(0,react_1$5.useMemo)(()=>{if(!Ve)return null;let gt=1;const Tt=xe??defaultScale;if(we||re){const kt=Ve.getViewport({scale:1,rotation:Ge});we?gt=we/kt.width:re&&(gt=re/kt.height)}return Tt*gt},[re,Ve,Ge,xe,we]);function Se(){return()=>{(0,utils_js_1$2.isProvided)(Qe)&&d&&Ae&&Ae(Qe)}}(0,react_1$5.useEffect)(Se,[d,Ie,Qe,Ae]);function Ce(){if(b){if(!Ve||!qe)return;b((0,utils_js_1$2.makePageCallback)(Ve,qe))}if(d&&ye){if(!(0,utils_js_1$2.isProvided)(Qe)||!nt.current)return;ye(Qe,nt.current)}}function Be(){Je&&((0,warning_1.default)(!1,Je.toString()),te&&te(Je))}function ze(){Ne({type:"RESET"})}(0,react_1$5.useEffect)(ze,[Ne,Ie,Qe]);function et(){if(!Ie||!tt)return;const gt=(0,make_cancellable_promise_1.default)(Ie.getPage(tt)),Tt=gt;return gt.promise.then(kt=>{Ne({type:"RESOLVE",value:kt})}).catch(kt=>{Ne({type:"REJECT",error:kt})}),()=>(0,utils_js_1$2.cancelRunningTask)(Tt)}(0,react_1$5.useEffect)(et,[Ne,Ie,Qe,tt,ye]),(0,react_1$5.useEffect)(()=>{if(Ve!==void 0){if(Ve===!1){Be();return}Ce()}},[Ve,qe]);const at=(0,react_1$5.useMemo)(()=>Ve&&(0,utils_js_1$2.isProvided)(Qe)&&tt&&(0,utils_js_1$2.isProvided)(Ge)&&(0,utils_js_1$2.isProvided)(qe)?{_className:c,canvasBackground:h,customTextRenderer:he,devicePixelRatio:_e,onGetAnnotationsError:ce,onGetAnnotationsSuccess:fe,onGetStructTreeError:ae,onGetStructTreeSuccess:$,onGetTextError:oe,onGetTextSuccess:se,onRenderAnnotationLayerError:ge,onRenderAnnotationLayerSuccess:m,onRenderError:ue,onRenderSuccess:be,onRenderTextLayerError:je,onRenderTextLayerSuccess:Oe,page:Ve,pageIndex:Qe,pageNumber:tt,renderForms:ke,renderTextLayer:le,rotate:Ge,scale:qe}:null,[c,h,he,_e,ce,fe,ae,$,oe,se,ge,m,ue,be,je,Oe,Ve,Qe,tt,ke,le,Ge,qe]),st=(0,react_1$5.useMemo)(()=>(0,make_event_props_1.default)($e,()=>Ve&&(qe?(0,utils_js_1$2.makePageCallback)(Ve,qe):void 0)),[$e,Ve,qe]),Fe=`${Qe}@${qe}/${Ge}`,ct=`${Qe}/${Ge}`;function dt(){switch(Ee){case"custom":return(0,tiny_invariant_1$1.default)(g,'renderMode was set to "custom", but no customRenderer was passed.'),react_1$5.default.createElement(g,{key:`${Fe}_custom`});case"none":return null;case"svg":return react_1$5.default.createElement(PageSVG_js_1.default,{key:`${ct}_svg`});case"canvas":default:return react_1$5.default.createElement(PageCanvas_js_1.default,{key:`${Fe}_canvas`,canvasRef:_})}}function Pt(){return le?react_1$5.default.createElement(TextLayer_js_1.default,{key:`${Fe}_text`}):null}function At(){return Pe?react_1$5.default.createElement(AnnotationLayer_js_1.default,{key:`${Fe}_annotations`}):null}function Ct(){return react_1$5.default.createElement(PageContext_js_1.default.Provider,{value:at},dt(),Pt(),At(),ne)}function mt(){return tt?Ie===null||Ve===void 0||Ve===null?react_1$5.default.createElement(Message_js_1.default,{type:"loading"},typeof ie=="function"?ie():ie):Ie===!1||Ve===!1?react_1$5.default.createElement(Message_js_1.default,{type:"error"},typeof q=="function"?q():q):Ct():react_1$5.default.createElement(Message_js_1.default,{type:"no-data"},typeof ee=="function"?ee():ee)}return react_1$5.default.createElement("div",Object.assign({className:(0,clsx_1$1.default)(c,f),"data-page-number":tt,ref:(0,merge_refs_1.default)(ve,nt),style:{"--scale-factor":`${qe}`,backgroundColor:h||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},st),mt())},isFunctionOrNode=prop_types_1.default.oneOfType([prop_types_1.default.func,prop_types_1.default.node]);Page.propTypes=Object.assign(Object.assign({},propTypes_js_1.eventProps),{canvasBackground:prop_types_1.default.string,canvasRef:propTypes_js_1.isRef,children:prop_types_1.default.node,className:propTypes_js_1.isClassName,customRenderer:prop_types_1.default.func,customTextRenderer:prop_types_1.default.func,devicePixelRatio:prop_types_1.default.number,error:isFunctionOrNode,height:prop_types_1.default.number,imageResourcesPath:prop_types_1.default.string,inputRef:propTypes_js_1.isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:prop_types_1.default.func,onGetTextSuccess:prop_types_1.default.func,onLoadError:prop_types_1.default.func,onLoadSuccess:prop_types_1.default.func,onRenderError:prop_types_1.default.func,onRenderSuccess:prop_types_1.default.func,onRenderTextLayerError:prop_types_1.default.func,onRenderTextLayerSuccess:prop_types_1.default.func,pageIndex:propTypes_js_1.isPageIndex,pageNumber:propTypes_js_1.isPageNumber,pdf:propTypes_js_1.isPdf,renderAnnotationLayer:prop_types_1.default.bool,renderForms:prop_types_1.default.bool,renderMode:propTypes_js_1.isRenderMode,renderTextLayer:prop_types_1.default.bool,rotate:propTypes_js_1.isRotate,scale:prop_types_1.default.number,width:prop_types_1.default.number});Page$1.default=Page;var Thumbnail$1={},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Thumbnail$1,"__esModule",{value:!0});const react_1$4=__importDefault$a(reactExports),clsx_1=__importDefault$a(require$$1),tiny_invariant_1=__importDefault$a(require$$2),Page_js_1$1=__importDefault$a(Page$1),utils_js_1$1=utils,useDocumentContext_js_1$1=__importDefault$a(useDocumentContext$1),Thumbnail=function e(i){const a=(0,useDocumentContext_js_1$1.default)(),o=Object.assign(Object.assign({},a),i),{className:c,linkService:d,onItemClick:h,pageIndex:_,pageNumber:ne,pdf:f}=o;(0,tiny_invariant_1.default)(f,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const g=(0,utils_js_1$1.isProvided)(ne)?ne-1:_??null,he=ne??((0,utils_js_1$1.isProvided)(_)?_+1:null);function _e(re){re.preventDefault(),!(!(0,utils_js_1$1.isProvided)(g)||!he)&&((0,tiny_invariant_1.default)(h||d,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),h?h({pageIndex:g,pageNumber:he}):d&&d.goToPage(he))}const q=__rest$1(i,["className","onItemClick"]);return react_1$4.default.createElement("a",{className:(0,clsx_1.default)("react-pdf__Thumbnail",c),href:he?"#":void 0,onClick:_e},react_1$4.default.createElement(Page_js_1$1.default,Object.assign({},q,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1})))};Thumbnail$1.default=Thumbnail;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$4,"__esModule",{value:!0});cjs$4.PasswordResponses=cjs$4.usePageContext=cjs$4.useOutlineContext=cjs$4.useDocumentContext=cjs$4.Thumbnail=cjs$4.Page=cjs$4.Outline=cjs$4.Document=cjs$4.pdfjs=void 0;const pdfjs_js_1=__importDefault$9(pdfjs$1);cjs$4.pdfjs=pdfjs_js_1.default;const Document_js_1=__importDefault$9(Document$1);cjs$4.Document=Document_js_1.default;const Outline_js_1=__importDefault$9(Outline$1);cjs$4.Outline=Outline_js_1.default;const Page_js_1=__importDefault$9(Page$1);cjs$4.Page=Page_js_1.default;const Thumbnail_js_1=__importDefault$9(Thumbnail$1);cjs$4.Thumbnail=Thumbnail_js_1.default;const useDocumentContext_js_1=__importDefault$9(useDocumentContext$1);cjs$4.useDocumentContext=useDocumentContext_js_1.default;const useOutlineContext_js_1=__importDefault$9(useOutlineContext$1);cjs$4.useOutlineContext=useOutlineContext_js_1.default;const usePageContext_js_1=__importDefault$9(usePageContext$1);cjs$4.usePageContext=usePageContext_js_1.default;const PasswordResponses_js_1=__importDefault$9(PasswordResponses$1);cjs$4.PasswordResponses=PasswordResponses_js_1.default;const utils_js_1=utils;(0,utils_js_1.displayWorkerWarning)();pdfjs_js_1.default.GlobalWorkerOptions.workerSrc="pdf.worker.js";(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ie,ee){return Object.defineProperty?Object.defineProperty(ie,"raw",{value:ee}):ie.raw=ee,ie},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(ie){for(var ee,ce=1,fe=arguments.length;ce<fe;ce++){ee=arguments[ce];for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&(ie[ae]=ee[ae])}return ie},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ie,ee,ce,fe){fe===void 0&&(fe=ce);var ae=Object.getOwnPropertyDescriptor(ee,ce);(!ae||("get"in ae?!ee.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return ee[ce]}}),Object.defineProperty(ie,fe,ae)}:function(ie,ee,ce,fe){fe===void 0&&(fe=ce),ie[fe]=ee[ce]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ie,ee){Object.defineProperty(ie,"default",{enumerable:!0,value:ee})}:function(ie,ee){ie.default=ee}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(ie){if(ie&&ie.__esModule)return ie;var ee={};if(ie!=null)for(var ce in ie)ce!=="default"&&Object.prototype.hasOwnProperty.call(ie,ce)&&o(ee,ie,ce);return c(ee,ie),ee};Object.defineProperty(e,"__esModule",{value:!0}),e.PdfPlayer=void 0;var h=jsxRuntimeExports,_=d(reactExports),ne=d(require$$6$1),f=cjs$4,g=requireLib(),he=require$$3,_e=(0,ne.default)("div")(re||(re=i([`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`],[`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`]))),q=function(ie){var ee=ie.url,ce=ie.onLoad,fe=ie.onTopicEnd,ae=ie.documentConfig,$=ae===void 0?{}:ae,oe=ie.pageConfig,se=oe===void 0?{}:oe,te=ie.className,b=te===void 0?"":te,ge=_.useState(null),m=ge[0],ue=ge[1],be=_.useState(1),je=be[0],Oe=be[1],Le=_.useState(!1),me=Le[0],Ie=Le[1],ye=_.useState(!1),Pe=ye[0],ke=ye[1],Ee=(0,he.useTranslation)().t,le=function(){fe&&m&&!(m>je+1)&&(ke(!0),fe()),Oe(je+1)},de=function(){Oe(je-1),Pe&&ke(!1)};return _.useEffect(function(){return f.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(f.pdfjs.version,"/pdf.worker.js"),Ie(!0),function(){return Ie(!1)}},[]),_.useEffect(function(){je===m&&ce&&ce()},[m,je]),ee?(0,h.jsxs)(_e,a({className:"wellms-component ".concat(b)},{children:[me&&ee&&(0,h.jsx)(f.Document,a({loading:Ee("Loading"),onLoadSuccess:function(xe){var Ae=xe.numPages;return ue(Ae)},file:ee},$,{children:(0,h.jsx)(f.Page,a({pageNumber:je,renderAnnotationLayer:!1},se))})),m&&m>1&&(0,h.jsxs)("div",a({className:"pagination-area"},{children:[(0,h.jsxs)(g.Text,{children:[(0,h.jsx)("strong",{children:je})," ",Ee("PdfPlayer.of")," ",(0,h.jsx)("strong",{children:m})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)(g.Button,a({mode:"secondary",disabled:!(je>1),className:"nav-btn-modal",onClick:de},{children:Ee("Prev")})),(0,h.jsx)(g.Button,a({style:{marginLeft:"10px"},mode:"secondary",disabled:fe?Pe:!(m>je),className:"nav-btn-modal",onClick:le},{children:Ee("Next")}))]})]}))]})):(0,h.jsx)("p",{children:Ee("PdfPlayer.notFound")})};e.PdfPlayer=q,e.default=(0,ne.withTheme)((0,ne.default)(e.PdfPlayer)(ve||(ve=i([""],[""]))));var re,ve})(PdfPlayer);var ImagePlayer={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ce,fe){return Object.defineProperty?Object.defineProperty(ce,"raw",{value:fe}):ce.raw=fe,ce},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(ce){for(var fe,ae=1,$=arguments.length;ae<$;ae++){fe=arguments[ae];for(var oe in fe)Object.prototype.hasOwnProperty.call(fe,oe)&&(ce[oe]=fe[oe])}return ce},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ce,fe,ae,$){$===void 0&&($=ae);var oe=Object.getOwnPropertyDescriptor(fe,ae);(!oe||("get"in oe?!fe.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return fe[ae]}}),Object.defineProperty(ce,$,oe)}:function(ce,fe,ae,$){$===void 0&&($=ae),ce[$]=fe[ae]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ce,fe){Object.defineProperty(ce,"default",{enumerable:!0,value:fe})}:function(ce,fe){ce.default=fe}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(ce){if(ce&&ce.__esModule)return ce;var fe={};if(ce!=null)for(var ae in ce)ae!=="default"&&Object.prototype.hasOwnProperty.call(ce,ae)&&o(fe,ce,ae);return c(fe,ce),fe};Object.defineProperty(e,"__esModule",{value:!0}),e.ImagePlayer=void 0;var h=jsxRuntimeExports,_=reactExports,ne=require$$2$2,f=d(require$$6$1),g=utils$3,he=ResponsiveImage,_e=(0,f.default)("div")(ve||(ve=i([`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`],[`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`]))),q=(0,f.createGlobalStyle)(ie||(ie=i([`
`,`
`],[`
`,`
`])),g.SharedLightboxStyle),re=function(ce){var fe=ce.topic,ae=ce.onLoad,$=ce.className,oe=$===void 0?"":$,se=(0,_.useState)(""),te=se[0],b=se[1];return(0,_.useEffect)(function(){ae()},[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(ne.Gallery,a({options:{arrowPrev:!1,arrowNext:!1,imageClickAction:"zoom",initialZoomLevel:"fit",secondaryZoomLevel:2,maxZoomLevel:3}},{children:[(0,h.jsx)(q,{}),(0,h.jsx)(_e,a({className:"wellms-component ".concat(oe)},{children:(0,h.jsx)(ne.Item,a({original:te,width:fe.topicable.width,height:fe.topicable.height,alt:"LMS Image ".concat(fe.topicable.id)},{children:function(ge){var m=ge.ref,ue=ge.open;return(0,h.jsx)(he.ResponsiveImage,{path:fe.topicable.value,onClick:ue,onLoad:function(be){return b(be.currentTarget.currentSrc)},ref:m,srcSizes:[500,750,1e3]})}}))}))]}))})};e.ImagePlayer=re,e.default=(0,f.withTheme)((0,f.default)(e.ImagePlayer)(ee||(ee=i([""],[""]))));var ve,ie,ee})(ImagePlayer);var H5Player={},lib={},context={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(f){for(var g,he=1,_e=arguments.length;he<_e;he++){g=arguments[he];for(var q in g)Object.prototype.hasOwnProperty.call(g,q)&&(f[q]=g[q])}return f},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,g,he,_e){_e===void 0&&(_e=he);var q=Object.getOwnPropertyDescriptor(g,he);(!q||("get"in q?!g.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return g[he]}}),Object.defineProperty(f,_e,q)}:function(f,g,he,_e){_e===void 0&&(_e=he),f[_e]=g[he]}),o=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var he in f)he!=="default"&&Object.prototype.hasOwnProperty.call(f,he)&&a(g,f,he);return o(g,f),g};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextProvider=e.EditorContext=void 0;var d=jsxRuntimeExports,h=c(reactExports),_={url:"http://localhost:1000/api/hh5p/",state:{value:"initial"}};e.EditorContext=h.default.createContext(_);var ne=function(f){var g=f.children,he=f.url,_e=f.defaultLang,q=_e===void 0?"en":_e,re=(0,h.useState)({value:"initial"}),ve=re[0],ie=re[1],ee=(0,h.useState)(q),ce=ee[0],fe=ee[1],ae=(0,h.useState)(new Headers({"Content-Type":"application/json",Accept:"application/json"})),$=ae[0],oe=ae[1],se=(0,h.useCallback)(function(m){var ue=m?"".concat(he,"/editor/").concat(m):"".concat(he,"/editor");return ue=ce?"".concat(ue,"?lang=").concat(ce):ue,fetch(ue,{headers:$}).then(function(be){if(!be.ok)throw Error("response error status ".concat(be.status));return be.json()}).then(function(be){return ie(function(je){return i(i({},je),{value:"loaded",settings:be.data})}),be}).catch(function(be){ie(function(je){return i(i({},je),{value:"error",error:be.toString()})})})},[he,$,ce]),te=(0,h.useCallback)(function(m){m&&ie(function(ue){return i(i({},ue),{value:"loaded",settings:m})})},[he,$]),b=(0,h.useCallback)(function(m){return fetch(m?"".concat(he,"/content/").concat(m):"".concat(he,"/content"),{headers:$}).then(function(ue){if(!ue.ok)throw Error("response error status ".concat(ue.status));return ue.json()}).then(function(ue){return ie(function(be){return i(i({},be),{value:"loaded",settings:ue.data})}),ue}).catch(function(ue){ie(function(be){return i(i({},be),{value:"error",error:ue.toString()})})})},[he,$]),ge=(0,h.useCallback)(function(m,ue){return fetch(ue?"".concat(he,"/content/").concat(ue):"".concat(he,"/content"),{method:"POST",body:JSON.stringify(m),headers:$}).then(function(be){if(!be.ok)throw Error("response error status ".concat(be.status));return be.json()}).then(function(be){return be}).catch(function(be){ie(function(je){return i(i({},je),{value:"error",error:be.toString()})})})},[he,$]);return(0,d.jsx)(e.EditorContext.Provider,i({value:{url:he,state:ve,getEditorConfig:se,getContentConfig:b,submitContent:ge,seth5pObject:te,setLang:fe,setHeaders:oe}},{children:g}))};e.EditorContextProvider=ne})(context);var editor$1={},server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports;function l$2(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p$1=Object.prototype.hasOwnProperty,fa$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha$1={},ia$1={};function ja$1(e){return p$1.call(ia$1,e)?!0:p$1.call(ha$1,e)?!1:fa$1.test(e)?ia$1[e]=!0:(ha$1[e]=!0,!1)}function r(e,i,a,o,c,d,h){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=d,this.removeEmptyString=h}var t$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){t$1[e]=new r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];t$1[i]=new r(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){t$1[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){t$1[e]=new r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){t$1[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){t$1[e]=new r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){t$1[e]=new r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){t$1[e]=new r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){t$1[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)});var ka$1=/[\-:]([a-z])/g;function la$1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)});t$1.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)});var u$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma=["Webkit","ms","Moz","O"];Object.keys(u$1).forEach(function(e){ma.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),u$1[i]=u$1[e]})});var na=/["'&<>]/;function v(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=na.exec(e);if(i){var a="",o,c=0;for(o=i.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==o&&(a+=e.substring(c,o)),c=o+1,a+=i}e=c!==o?a+e.substring(c,o):a}return e}var oa$1=/([A-Z])/g,pa$1=/^ms-/,qa$1=Array.isArray;function w$1(e,i){return{insertionMode:e,selectedValue:i}}function ra$1(e,i,a){switch(i){case"select":return w$1(1,a.value!=null?a.value:a.defaultValue);case"svg":return w$1(2,null);case"math":return w$1(3,null);case"foreignObject":return w$1(1,null);case"table":return w$1(4,null);case"thead":case"tbody":case"tfoot":return w$1(5,null);case"colgroup":return w$1(7,null);case"tr":return w$1(6,null)}return 4<=e.insertionMode||e.insertionMode===0?w$1(1,null):e}var sa$1=new Map;function ta$1(e,i,a){if(typeof a!="object")throw Error(l$2(62));i=!0;for(var o in a)if(p$1.call(a,o)){var c=a[o];if(c!=null&&typeof c!="boolean"&&c!==""){if(o.indexOf("--")===0){var d=v(o);c=v((""+c).trim())}else{d=o;var h=sa$1.get(d);h!==void 0||(h=v(d.replace(oa$1,"-$1").toLowerCase().replace(pa$1,"-ms-")),sa$1.set(d,h)),d=h,c=typeof c=="number"?c===0||p$1.call(u$1,o)?""+c:c+"px":v((""+c).trim())}i?(i=!1,e.push(' style="',d,":",c)):e.push(";",d,":",c)}}i||e.push('"')}function x$1(e,i,a,o){switch(a){case"style":ta$1(e,i,o);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N"){if(i=t$1.hasOwnProperty(a)?t$1[a]:null,i!==null){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(a=i.attributeName,i.type){case 3:o&&e.push(" ",a,'=""');break;case 4:o===!0?e.push(" ",a,'=""'):o!==!1&&e.push(" ",a,'="',v(o),'"');break;case 5:isNaN(o)||e.push(" ",a,'="',v(o),'"');break;case 6:!isNaN(o)&&1<=o&&e.push(" ",a,'="',v(o),'"');break;default:i.sanitizeURL&&(o=""+o),e.push(" ",a,'="',v(o),'"')}}else if(ja$1(a)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(i=a.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(" ",a,'="',v(o),'"')}}}function y$1(e,i,a){if(i!=null){if(a!=null)throw Error(l$2(60));if(typeof i!="object"||!("__html"in i))throw Error(l$2(61));i=i.__html,i!=null&&e.push(""+i)}}function ua$1(e){var i="";return aa$1.Children.forEach(e,function(a){a!=null&&(i+=a)}),i}function va$1(e,i,a,o){e.push(A(a));var c=a=null,d;for(d in i)if(p$1.call(i,d)){var h=i[d];if(h!=null)switch(d){case"children":a=h;break;case"dangerouslySetInnerHTML":c=h;break;default:x$1(e,o,d,h)}}return e.push(">"),y$1(e,c,a),typeof a=="string"?(e.push(v(a)),null):a}var wa$1=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xa$1=new Map;function A(e){var i=xa$1.get(e);if(i===void 0){if(!wa$1.test(e))throw Error(l$2(65,e));i="<"+e,xa$1.set(e,i)}return i}function ya$1(e,i,a,o,c){switch(i){case"select":e.push(A("select"));var d=null,h=null;for(g in a)if(p$1.call(a,g)){var _=a[g];if(_!=null)switch(g){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"defaultValue":case"value":break;default:x$1(e,o,g,_)}}return e.push(">"),y$1(e,h,d),d;case"option":h=c.selectedValue,e.push(A("option"));var ne=_=null,f=null,g=null;for(d in a)if(p$1.call(a,d)){var he=a[d];if(he!=null)switch(d){case"children":_=he;break;case"selected":f=he;break;case"dangerouslySetInnerHTML":g=he;break;case"value":ne=he;default:x$1(e,o,d,he)}}if(h!=null)if(a=ne!==null?""+ne:ua$1(_),qa$1(h)){for(o=0;o<h.length;o++)if(""+h[o]===a){e.push(' selected=""');break}}else""+h===a&&e.push(' selected=""');else f&&e.push(' selected=""');return e.push(">"),y$1(e,g,_),_;case"textarea":e.push(A("textarea")),g=h=d=null;for(_ in a)if(p$1.call(a,_)&&(ne=a[_],ne!=null))switch(_){case"children":g=ne;break;case"value":d=ne;break;case"defaultValue":h=ne;break;case"dangerouslySetInnerHTML":throw Error(l$2(91));default:x$1(e,o,_,ne)}if(d===null&&h!==null&&(d=h),e.push(">"),g!=null){if(d!=null)throw Error(l$2(92));if(qa$1(g)&&1<g.length)throw Error(l$2(93));d=""+g}return typeof d=="string"&&d[0]===`
`&&e.push(`
`),d!==null&&e.push(v(""+d)),null;case"input":e.push(A("input")),ne=g=_=d=null;for(h in a)if(p$1.call(a,h)&&(f=a[h],f!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,"input"));case"defaultChecked":ne=f;break;case"defaultValue":_=f;break;case"checked":g=f;break;case"value":d=f;break;default:x$1(e,o,h,f)}return g!==null?x$1(e,o,"checked",g):ne!==null&&x$1(e,o,"checked",ne),d!==null?x$1(e,o,"value",d):_!==null&&x$1(e,o,"value",_),e.push("/>"),null;case"menuitem":e.push(A("menuitem"));for(var _e in a)if(p$1.call(a,_e)&&(d=a[_e],d!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(400));default:x$1(e,o,_e,d)}return e.push(">"),null;case"title":e.push(A("title")),d=null;for(he in a)if(p$1.call(a,he)&&(h=a[he],h!=null))switch(he){case"children":d=h;break;case"dangerouslySetInnerHTML":throw Error(l$2(434));default:x$1(e,o,he,h)}return e.push(">"),d;case"listing":case"pre":e.push(A(i)),h=d=null;for(ne in a)if(p$1.call(a,ne)&&(_=a[ne],_!=null))switch(ne){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;default:x$1(e,o,ne,_)}if(e.push(">"),h!=null){if(d!=null)throw Error(l$2(60));if(typeof h!="object"||!("__html"in h))throw Error(l$2(61));a=h.__html,a!=null&&(typeof a=="string"&&0<a.length&&a[0]===`
`?e.push(`
`,a):e.push(""+a))}return typeof d=="string"&&d[0]===`
`&&e.push(`
`),d;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(A(i));for(var q in a)if(p$1.call(a,q)&&(d=a[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,i));default:x$1(e,o,q,d)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return va$1(e,a,i,o);case"html":return c.insertionMode===0&&e.push("<!DOCTYPE html>"),va$1(e,a,i,o);default:if(i.indexOf("-")===-1&&typeof a.is!="string")return va$1(e,a,i,o);e.push(A(i)),h=d=null;for(f in a)if(p$1.call(a,f)&&(_=a[f],_!=null))switch(f){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"style":ta$1(e,o,_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ja$1(f)&&typeof _!="function"&&typeof _!="symbol"&&e.push(" ",f,'="',v(_),'"')}return e.push(">"),y$1(e,h,d),d}}function za$1(e,i,a){if(e.push('<!--$?--><template id="'),a===null)throw Error(l$2(395));return e.push(a),e.push('"></template>')}function Aa$1(e,i,a,o){switch(a.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 4:return e.push('<table hidden id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(i.segmentPrefix),i=o.toString(16),e.push(i),e.push('">');default:throw Error(l$2(397))}}function Ba$1(e,i){switch(i.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(l$2(397))}}var Ca$1=/[<\u2028\u2029]/g;function Da$1(e){return JSON.stringify(e).replace(Ca$1,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ea$1(e,i){return i=i===void 0?"":i,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:i+"P:",segmentPrefix:i+"S:",boundaryPrefix:i+"B:",idPrefix:i,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Fa$1(e,i,a,o){return a.generateStaticMarkup?(e.push(v(i)),!1):(i===""?e=o:(o&&e.push("<!-- -->"),e.push(v(i)),e=!0),e)}var B$1=Object.assign,Ga$1=Symbol.for("react.element"),Ha$1=Symbol.for("react.portal"),Ia$1=Symbol.for("react.fragment"),Ja$1=Symbol.for("react.strict_mode"),Ka$1=Symbol.for("react.profiler"),La$1=Symbol.for("react.provider"),Ma$1=Symbol.for("react.context"),Na$1=Symbol.for("react.forward_ref"),Oa$1=Symbol.for("react.suspense"),Pa$1=Symbol.for("react.suspense_list"),Qa$1=Symbol.for("react.memo"),Ra$1=Symbol.for("react.lazy"),Sa$1=Symbol.for("react.scope"),Ta$1=Symbol.for("react.debug_trace_mode"),Ua$1=Symbol.for("react.legacy_hidden"),Va$1=Symbol.for("react.default_value"),Wa$1=Symbol.iterator;function Xa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia$1:return"Fragment";case Ha$1:return"Portal";case Ka$1:return"Profiler";case Ja$1:return"StrictMode";case Oa$1:return"Suspense";case Pa$1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ma$1:return(e.displayName||"Context")+".Consumer";case La$1:return(e._context.displayName||"Context")+".Provider";case Na$1:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa$1:return i=e.displayName||null,i!==null?i:Xa$1(e.type)||"Memo";case Ra$1:i=e._payload,e=e._init;try{return Xa$1(e(i))}catch{}}return null}var Ya$1={};function Za$1(e,i){if(e=e.contextTypes,!e)return Ya$1;var a={},o;for(o in e)a[o]=i[o];return a}var E$1=null;function F(e,i){if(e!==i){e.context._currentValue2=e.parentValue,e=e.parent;var a=i.parent;if(e===null){if(a!==null)throw Error(l$2(401))}else{if(a===null)throw Error(l$2(401));F(e,a)}i.context._currentValue2=i.value}}function $a$1(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&$a$1(e)}function ab$1(e){var i=e.parent;i!==null&&ab$1(i),e.context._currentValue2=e.value}function bb$1(e,i){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(l$2(402));e.depth===i.depth?F(e,i):bb$1(e,i)}function cb$1(e,i){var a=i.parent;if(a===null)throw Error(l$2(402));e.depth===a.depth?F(e,a):cb$1(e,a),i.context._currentValue2=i.value}function G(e){var i=E$1;i!==e&&(i===null?ab$1(e):e===null?$a$1(i):i.depth===e.depth?F(i,e):i.depth>e.depth?bb$1(i,e):cb$1(i,e),E$1=e)}var db$1={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function eb$1(e,i,a,o){var c=e.state!==void 0?e.state:null;e.updater=db$1,e.props=a,e.state=c;var d={queue:[],replace:!1};e._reactInternals=d;var h=i.contextType;if(e.context=typeof h=="object"&&h!==null?h._currentValue2:o,h=i.getDerivedStateFromProps,typeof h=="function"&&(h=h(a,c),c=h==null?c:B$1({},c,h),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&db$1.enqueueReplaceState(e,e.state,null),d.queue!==null&&0<d.queue.length)if(i=d.queue,h=d.replace,d.queue=null,d.replace=!1,h&&i.length===1)e.state=i[0];else{for(d=h?i[0]:e.state,c=!0,h=h?1:0;h<i.length;h++){var _=i[h];_=typeof _=="function"?_.call(e,d,a,o):_,_!=null&&(c?(c=!1,d=B$1({},d,_)):B$1(d,_))}e.state=d}else d.queue=null}var fb$1={id:1,overflow:""};function gb$1(e,i,a){var o=e.id;e=e.overflow;var c=32-H$1(o)-1;o&=~(1<<c),a+=1;var d=32-H$1(i)+c;if(30<d){var h=c-c%5;return d=(o&(1<<h)-1).toString(32),o>>=h,c-=h,{id:1<<32-H$1(i)+c|a<<c|o,overflow:d+e}}return{id:1<<d|a<<c|o,overflow:e}}var H$1=Math.clz32?Math.clz32:hb$1,ib$1=Math.log,jb$1=Math.LN2;function hb$1(e){return e>>>=0,e===0?32:31-(ib$1(e)/jb$1|0)|0}function kb$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var lb$1=typeof Object.is=="function"?Object.is:kb$1,I$1=null,ob$1=null,J$1=null,K$1=null,L$1=!1,M$1=!1,N$1=0,O$1=null,P$1=0;function Q$1(){if(I$1===null)throw Error(l$2(321));return I$1}function pb$1(){if(0<P$1)throw Error(l$2(312));return{memoizedState:null,queue:null,next:null}}function qb$1(){return K$1===null?J$1===null?(L$1=!1,J$1=K$1=pb$1()):(L$1=!0,K$1=J$1):K$1.next===null?(L$1=!1,K$1=K$1.next=pb$1()):(L$1=!0,K$1=K$1.next),K$1}function rb$1(){ob$1=I$1=null,M$1=!1,J$1=null,P$1=0,K$1=O$1=null}function sb$1(e,i){return typeof i=="function"?i(e):i}function tb$1(e,i,a){if(I$1=Q$1(),K$1=qb$1(),L$1){var o=K$1.queue;if(i=o.dispatch,O$1!==null&&(a=O$1.get(o),a!==void 0)){O$1.delete(o),o=K$1.memoizedState;do o=e(o,a.action),a=a.next;while(a!==null);return K$1.memoizedState=o,[o,i]}return[K$1.memoizedState,i]}return e=e===sb$1?typeof i=="function"?i():i:a!==void 0?a(i):i,K$1.memoizedState=e,e=K$1.queue={last:null,dispatch:null},e=e.dispatch=ub$1.bind(null,I$1,e),[K$1.memoizedState,e]}function vb$1(e,i){if(I$1=Q$1(),K$1=qb$1(),i=i===void 0?null:i,K$1!==null){var a=K$1.memoizedState;if(a!==null&&i!==null){var o=a[1];e:if(o===null)o=!1;else{for(var c=0;c<o.length&&c<i.length;c++)if(!lb$1(i[c],o[c])){o=!1;break e}o=!0}if(o)return a[0]}}return e=e(),K$1.memoizedState=[e,i],e}function ub$1(e,i,a){if(25<=P$1)throw Error(l$2(301));if(e===I$1)if(M$1=!0,e={action:a,next:null},O$1===null&&(O$1=new Map),a=O$1.get(i),a===void 0)O$1.set(i,e);else{for(i=a;i.next!==null;)i=i.next;i.next=e}}function wb$1(){throw Error(l$2(394))}function R$1(){}var xb$1={readContext:function(e){return e._currentValue2},useContext:function(e){return Q$1(),e._currentValue2},useMemo:vb$1,useReducer:tb$1,useRef:function(e){I$1=Q$1(),K$1=qb$1();var i=K$1.memoizedState;return i===null?(e={current:e},K$1.memoizedState=e):i},useState:function(e){return tb$1(sb$1,e)},useInsertionEffect:R$1,useLayoutEffect:function(){},useCallback:function(e,i){return vb$1(function(){return e},i)},useImperativeHandle:R$1,useEffect:R$1,useDebugValue:R$1,useDeferredValue:function(e){return Q$1(),e},useTransition:function(){return Q$1(),[!1,wb$1]},useId:function(){var e=ob$1.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-H$1(e)-1)).toString(32)+i;var a=S$1;if(a===null)throw Error(l$2(404));return i=N$1++,e=":"+a.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return Q$1(),i(e._source)},useSyncExternalStore:function(e,i,a){if(a===void 0)throw Error(l$2(407));return a()}},S$1=null,yb$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb$1(e){return console.error(e),null}function T$1(){}function Ab$1(e,i,a,o,c,d,h,_,ne){var f=[],g=new Set;return i={destination:null,responseState:i,progressiveChunkSize:o===void 0?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:f,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?zb$1:c,onAllReady:T$1,onShellReady:h===void 0?T$1:h,onShellError:T$1,onFatalError:T$1},a=U$1(i,0,null,a,!1,!1),a.parentFlushed=!0,e=Bb$1(i,e,null,a,g,Ya$1,null,fb$1),f.push(e),i}function Bb$1(e,i,a,o,c,d,h,_){e.allPendingTasks++,a===null?e.pendingRootTasks++:a.pendingTasks++;var ne={node:i,ping:function(){var f=e.pingedTasks;f.push(ne),f.length===1&&Cb$1(e)},blockedBoundary:a,blockedSegment:o,abortSet:c,legacyContext:d,context:h,treeContext:_};return c.add(ne),ne}function U$1(e,i,a,o,c,d){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:a,lastPushedText:c,textEmbedded:d}}function V$1(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function W$1(e,i){var a=e.onShellError;a(i),a=e.onFatalError,a(i),e.destination!==null?(e.status=2,e.destination.destroy(i)):(e.status=1,e.fatalError=i)}function Db$1(e,i,a,o,c){for(I$1={},ob$1=i,N$1=0,e=a(o,c);M$1;)M$1=!1,N$1=0,P$1+=1,K$1=null,e=a(o,c);return rb$1(),e}function Eb$1(e,i,a,o){var c=a.render(),d=o.childContextTypes;if(d!=null){var h=i.legacyContext;if(typeof a.getChildContext!="function")o=h;else{a=a.getChildContext();for(var _ in a)if(!(_ in d))throw Error(l$2(108,Xa$1(o)||"Unknown",_));o=B$1({},h,a)}i.legacyContext=o,X$1(e,i,c),i.legacyContext=h}else X$1(e,i,c)}function Fb(e,i){if(e&&e.defaultProps){i=B$1({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function Gb$1(e,i,a,o,c){if(typeof a=="function")if(a.prototype&&a.prototype.isReactComponent){c=Za$1(a,i.legacyContext);var d=a.contextType;d=new a(o,typeof d=="object"&&d!==null?d._currentValue2:c),eb$1(d,a,o,c),Eb$1(e,i,d,a)}else{d=Za$1(a,i.legacyContext),c=Db$1(e,i,a,o,d);var h=N$1!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)eb$1(c,a,o,d),Eb$1(e,i,c,a);else if(h){o=i.treeContext,i.treeContext=gb$1(o,1,0);try{X$1(e,i,c)}finally{i.treeContext=o}}else X$1(e,i,c)}else if(typeof a=="string"){switch(c=i.blockedSegment,d=ya$1(c.chunks,a,o,e.responseState,c.formatContext),c.lastPushedText=!1,h=c.formatContext,c.formatContext=ra$1(h,a,o),Hb$1(e,i,d),c.formatContext=h,a){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push("</",a,">")}c.lastPushedText=!1}else{switch(a){case Ua$1:case Ta$1:case Ja$1:case Ka$1:case Ia$1:X$1(e,i,o.children);return;case Pa$1:X$1(e,i,o.children);return;case Sa$1:throw Error(l$2(343));case Oa$1:e:{a=i.blockedBoundary,c=i.blockedSegment,d=o.fallback,o=o.children,h=new Set;var _={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:h,errorDigest:null},ne=U$1(e,c.chunks.length,_,c.formatContext,!1,!1);c.children.push(ne),c.lastPushedText=!1;var f=U$1(e,0,null,c.formatContext,!1,!1);f.parentFlushed=!0,i.blockedBoundary=_,i.blockedSegment=f;try{if(Hb$1(e,i,o),e.responseState.generateStaticMarkup||f.lastPushedText&&f.textEmbedded&&f.chunks.push("<!-- -->"),f.status=1,Y$1(_,f),_.pendingTasks===0)break e}catch(g){f.status=4,_.forceClientRender=!0,_.errorDigest=V$1(e,g)}finally{i.blockedBoundary=a,i.blockedSegment=c}i=Bb$1(e,d,a,ne,h,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Na$1:if(o=Db$1(e,i,a.render,o,c),N$1!==0){a=i.treeContext,i.treeContext=gb$1(a,1,0);try{X$1(e,i,o)}finally{i.treeContext=a}}else X$1(e,i,o);return;case Qa$1:a=a.type,o=Fb(a,o),Gb$1(e,i,a,o,c);return;case La$1:if(c=o.children,a=a._context,o=o.value,d=a._currentValue2,a._currentValue2=o,h=E$1,E$1=o={parent:h,depth:h===null?0:h.depth+1,context:a,parentValue:d,value:o},i.context=o,X$1(e,i,c),e=E$1,e===null)throw Error(l$2(403));o=e.parentValue,e.context._currentValue2=o===Va$1?e.context._defaultValue:o,e=E$1=e.parent,i.context=e;return;case Ma$1:o=o.children,o=o(a._currentValue2),X$1(e,i,o);return;case Ra$1:c=a._init,a=c(a._payload),o=Fb(a,o),Gb$1(e,i,a,o,void 0);return}throw Error(l$2(130,a==null?a:typeof a,""))}}function X$1(e,i,a){if(i.node=a,typeof a=="object"&&a!==null){switch(a.$$typeof){case Ga$1:Gb$1(e,i,a.type,a.props,a.ref);return;case Ha$1:throw Error(l$2(257));case Ra$1:var o=a._init;a=o(a._payload),X$1(e,i,a);return}if(qa$1(a)){Ib$1(e,i,a);return}if(a===null||typeof a!="object"?o=null:(o=Wa$1&&a[Wa$1]||a["@@iterator"],o=typeof o=="function"?o:null),o&&(o=o.call(a))){if(a=o.next(),!a.done){var c=[];do c.push(a.value),a=o.next();while(!a.done);Ib$1(e,i,c)}return}throw e=Object.prototype.toString.call(a),Error(l$2(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}typeof a=="string"?(o=i.blockedSegment,o.lastPushedText=Fa$1(i.blockedSegment.chunks,a,e.responseState,o.lastPushedText)):typeof a=="number"&&(o=i.blockedSegment,o.lastPushedText=Fa$1(i.blockedSegment.chunks,""+a,e.responseState,o.lastPushedText))}function Ib$1(e,i,a){for(var o=a.length,c=0;c<o;c++){var d=i.treeContext;i.treeContext=gb$1(d,o,c);try{Hb$1(e,i,a[c])}finally{i.treeContext=d}}}function Hb$1(e,i,a){var o=i.blockedSegment.formatContext,c=i.legacyContext,d=i.context;try{return X$1(e,i,a)}catch(ne){if(rb$1(),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"){a=ne;var h=i.blockedSegment,_=U$1(e,h.chunks.length,null,h.formatContext,h.lastPushedText,!0);h.children.push(_),h.lastPushedText=!1,e=Bb$1(e,i.node,i.blockedBoundary,_,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,a.then(e,e),i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,G(d)}else throw i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,G(d),ne}}function Jb$1(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,Kb$1(this,i,e)}function Lb$1(e,i,a){var o=e.blockedBoundary;e.blockedSegment.status=3,o===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.push(null))):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=a===void 0?Error(l$2(432)):a,o.errorDigest=i.onError(e),o.parentFlushed&&i.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach(function(c){return Lb$1(c,i,a)}),o.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(o=i.onAllReady,o()))}function Y$1(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var a=i.children[0];a.id=i.id,a.parentFlushed=!0,a.status===1&&Y$1(e,a)}else e.completedSegments.push(i)}function Kb$1(e,i,a){if(i===null){if(a.parentFlushed){if(e.completedRootSegment!==null)throw Error(l$2(389));e.completedRootSegment=a}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=T$1,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(a.parentFlushed&&a.status===1&&Y$1(i,a),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(Jb$1,e),i.fallbackAbortableTasks.clear()):a.parentFlushed&&a.status===1&&(Y$1(i,a),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Cb$1(e){if(e.status!==2){var i=E$1,a=yb$1.current;yb$1.current=xb$1;var o=S$1;S$1=e.responseState;try{var c=e.pingedTasks,d;for(d=0;d<c.length;d++){var h=c[d],_=e,ne=h.blockedSegment;if(ne.status===0){G(h.context);try{X$1(_,h,h.node),_.responseState.generateStaticMarkup||ne.lastPushedText&&ne.textEmbedded&&ne.chunks.push("<!-- -->"),h.abortSet.delete(h),ne.status=1,Kb$1(_,h.blockedBoundary,ne)}catch(re){if(rb$1(),typeof re=="object"&&re!==null&&typeof re.then=="function"){var f=h.ping;re.then(f,f)}else{h.abortSet.delete(h),ne.status=4;var g=h.blockedBoundary,he=re,_e=V$1(_,he);if(g===null?W$1(_,he):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=_e,g.parentFlushed&&_.clientRenderedBoundaries.push(g))),_.allPendingTasks--,_.allPendingTasks===0){var q=_.onAllReady;q()}}}finally{}}}c.splice(0,d),e.destination!==null&&Mb$1(e,e.destination)}catch(re){V$1(e,re),W$1(e,re)}finally{S$1=o,yb$1.current=a,a===xb$1&&G(i)}}}function Z$1(e,i,a){switch(a.parentFlushed=!0,a.status){case 0:var o=a.id=e.nextSegmentId++;return a.lastPushedText=!1,a.textEmbedded=!1,e=e.responseState,i.push('<template id="'),i.push(e.placeholderPrefix),e=o.toString(16),i.push(e),i.push('"></template>');case 1:a.status=2;var c=!0;o=a.chunks;var d=0;a=a.children;for(var h=0;h<a.length;h++){for(c=a[h];d<c.index;d++)i.push(o[d]);c=Nb$1(e,i,c)}for(;d<o.length-1;d++)i.push(o[d]);return d<o.length&&(c=i.push(o[d])),c;default:throw Error(l$2(390))}}function Nb$1(e,i,a){var o=a.boundary;if(o===null)return Z$1(e,i,a);if(o.parentFlushed=!0,o.forceClientRender)return e.responseState.generateStaticMarkup||(o=o.errorDigest,i.push("<!--$!-->"),i.push("<template"),o&&(i.push(' data-dgst="'),o=v(o),i.push(o),i.push('"')),i.push("></template>")),Z$1(e,i,a),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e;if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var c=e.responseState,d=c.nextSuspenseID++;return c=c.boundaryPrefix+d.toString(16),o=o.id=c,za$1(i,e.responseState,o),Z$1(e,i,a),i.push("<!--/$-->")}if(o.byteSize>e.progressiveChunkSize)return o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),za$1(i,e.responseState,o.id),Z$1(e,i,a),i.push("<!--/$-->");if(e.responseState.generateStaticMarkup||i.push("<!--$-->"),a=o.completedSegments,a.length!==1)throw Error(l$2(391));return Nb$1(e,i,a[0]),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e}function Ob$1(e,i,a){return Aa$1(i,e.responseState,a.formatContext,a.id),Nb$1(e,i,a),Ba$1(i,a.formatContext)}function Pb$1(e,i,a){for(var o=a.completedSegments,c=0;c<o.length;c++)Qb$1(e,i,a,o[c]);if(o.length=0,e=e.responseState,o=a.id,a=a.rootSegmentID,i.push(e.startInlineScript),e.sentCompleteBoundaryFunction?i.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,i.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),o===null)throw Error(l$2(395));return a=a.toString(16),i.push(o),i.push('","'),i.push(e.segmentPrefix),i.push(a),i.push('")<\/script>')}function Qb$1(e,i,a,o){if(o.status===2)return!0;var c=o.id;if(c===-1){if((o.id=a.rootSegmentID)===-1)throw Error(l$2(392));return Ob$1(e,i,o)}return Ob$1(e,i,o),e=e.responseState,i.push(e.startInlineScript),e.sentCompleteSegmentFunction?i.push('$RS("'):(e.sentCompleteSegmentFunction=!0,i.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),i.push(e.segmentPrefix),c=c.toString(16),i.push(c),i.push('","'),i.push(e.placeholderPrefix),i.push(c),i.push('")<\/script>')}function Mb$1(e,i){try{var a=e.completedRootSegment;if(a!==null&&e.pendingRootTasks===0){Nb$1(e,i,a),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(a=0;a<o.length-1;a++)i.push(o[a]);a<o.length&&i.push(o[a])}var c=e.clientRenderedBoundaries,d;for(d=0;d<c.length;d++){var h=c[d];o=i;var _=e.responseState,ne=h.id,f=h.errorDigest,g=h.errorMessage,he=h.errorComponentStack;if(o.push(_.startInlineScript),_.sentClientRenderFunction?o.push('$RX("'):(_.sentClientRenderFunction=!0,o.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),ne===null)throw Error(l$2(395));if(o.push(ne),o.push('"'),f||g||he){o.push(",");var _e=Da$1(f||"");o.push(_e)}if(g||he){o.push(",");var q=Da$1(g||"");o.push(q)}if(he){o.push(",");var re=Da$1(he);o.push(re)}if(!o.push(")<\/script>")){e.destination=null,d++,c.splice(0,d);return}}c.splice(0,d);var ve=e.completedBoundaries;for(d=0;d<ve.length;d++)if(!Pb$1(e,i,ve[d])){e.destination=null,d++,ve.splice(0,d);return}ve.splice(0,d);var ie=e.partialBoundaries;for(d=0;d<ie.length;d++){var ee=ie[d];e:{c=e,h=i;var ce=ee.completedSegments;for(_=0;_<ce.length;_++)if(!Qb$1(c,h,ee,ce[_])){_++,ce.splice(0,_);var fe=!1;break e}ce.splice(0,_),fe=!0}if(!fe){e.destination=null,d++,ie.splice(0,d);return}}ie.splice(0,d);var ae=e.completedBoundaries;for(d=0;d<ae.length;d++)if(!Pb$1(e,i,ae[d])){e.destination=null,d++,ae.splice(0,d);return}ae.splice(0,d)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.push(null)}}function Rb$1(e,i){try{var a=e.abortableTasks;a.forEach(function(o){return Lb$1(o,e,i)}),a.clear(),e.destination!==null&&Mb$1(e,e.destination)}catch(o){V$1(e,o),W$1(e,o)}}function Sb$1(){}function Tb$1(e,i,a,o){var c=!1,d=null,h="",_={push:function(f){return f!==null&&(h+=f),!0},destroy:function(f){c=!0,d=f}},ne=!1;if(e=Ab$1(e,Ea$1(a,i?i.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sb$1,void 0,function(){ne=!0}),Cb$1(e),Rb$1(e,o),e.status===1)e.status=2,_.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=_;try{Mb$1(e,_)}catch(f){V$1(e,f),W$1(e,f)}}if(c)throw d;if(!ne)throw Error(l$2(426));return h}reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(l$2(207))};reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(e,i){return Tb$1(e,i,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(l$2(208))};reactDomServerLegacy_browser_production_min.renderToString=function(e,i){return Tb$1(e,i,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.version="18.3.1";var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports;function k(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l$1=null,n=0;function p(e,i){if(i.length!==0)if(512<i.length)0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=new Uint8Array(512),n=0),e.enqueue(i);else{var a=l$1.length-n;a<i.length&&(a===0?e.enqueue(l$1):(l$1.set(i.subarray(0,a),n),e.enqueue(l$1),i=i.subarray(a)),l$1=new Uint8Array(512),n=0),l$1.set(i,n),n+=i.length}}function t(e,i){return p(e,i),!0}function ba(e){l$1&&0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=null,n=0)}var ca$1=new TextEncoder;function u(e){return ca$1.encode(e)}function w(e){return ca$1.encode(e)}function da(e,i){typeof e.error=="function"?e.error(i):e.close()}var x=Object.prototype.hasOwnProperty,ea=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa={},ha={};function ia(e){return x.call(ha,e)?!0:x.call(fa,e)?!1:ea.test(e)?ha[e]=!0:(fa[e]=!0,!1)}function y(e,i,a,o,c,d,h){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=d,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new y(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new y(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new y(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new y(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new y(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new y(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(e){la.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),B[i]=B[e]})});var oa=/["'&<>]/;function C(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=oa.exec(e);if(i){var a="",o,c=0;for(o=i.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==o&&(a+=e.substring(c,o)),c=o+1,a+=i}e=c!==o?a+e.substring(c,o):a}return e}var pa=/([A-Z])/g,qa=/^ms-/,ra=Array.isArray,sa=w("<script>"),ta=w("<\/script>"),ua=w('<script src="'),va=w('<script type="module" src="'),wa=w('" async=""><\/script>'),xa=/(<\/|<)(s)(cript)/gi;function ya(e,i,a,o){return""+i+(a==="s"?"\\u0073":"\\u0053")+o}function za(e,i,a,o,c){e=e===void 0?"":e,i=i===void 0?sa:w('<script nonce="'+C(i)+'">');var d=[];if(a!==void 0&&d.push(i,u((""+a).replace(xa,ya)),ta),o!==void 0)for(a=0;a<o.length;a++)d.push(ua,u(C(o[a])),wa);if(c!==void 0)for(o=0;o<c.length;o++)d.push(va,u(C(c[o])),wa);return{bootstrapChunks:d,startInlineScript:i,placeholderPrefix:w(e+"P:"),segmentPrefix:w(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function D(e,i){return{insertionMode:e,selectedValue:i}}function Aa(e){return D(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ba(e,i,a){switch(i){case"select":return D(1,a.value!=null?a.value:a.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=e.insertionMode||e.insertionMode===0?D(1,null):e}var Ca=w("<!-- -->");function Da(e,i,a,o){return i===""?o:(o&&e.push(Ca),e.push(u(C(i))),!0)}var Ea=new Map,Fa=w(' style="'),Ga=w(":"),Ha=w(";");function Ia(e,i,a){if(typeof a!="object")throw Error(k(62));i=!0;for(var o in a)if(x.call(a,o)){var c=a[o];if(c!=null&&typeof c!="boolean"&&c!==""){if(o.indexOf("--")===0){var d=u(C(o));c=u(C((""+c).trim()))}else{d=o;var h=Ea.get(d);h!==void 0||(h=w(C(d.replace(pa,"-$1").toLowerCase().replace(qa,"-ms-"))),Ea.set(d,h)),d=h,c=typeof c=="number"?c===0||x.call(B,o)?u(""+c):u(c+"px"):u(C((""+c).trim()))}i?(i=!1,e.push(Fa,d,Ga,c)):e.push(Ha,d,Ga,c)}}i||e.push(E)}var H=w(" "),I=w('="'),E=w('"'),Ja=w('=""');function J(e,i,a,o){switch(a){case"style":Ia(e,i,o);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N"){if(i=z.hasOwnProperty(a)?z[a]:null,i!==null){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(a=u(i.attributeName),i.type){case 3:o&&e.push(H,a,Ja);break;case 4:o===!0?e.push(H,a,Ja):o!==!1&&e.push(H,a,I,u(C(o)),E);break;case 5:isNaN(o)||e.push(H,a,I,u(C(o)),E);break;case 6:!isNaN(o)&&1<=o&&e.push(H,a,I,u(C(o)),E);break;default:i.sanitizeURL&&(o=""+o),e.push(H,a,I,u(C(o)),E)}}else if(ia(a)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(i=a.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(H,u(a),I,u(C(o)),E)}}}var K=w(">"),Ka=w("/>");function L(e,i,a){if(i!=null){if(a!=null)throw Error(k(60));if(typeof i!="object"||!("__html"in i))throw Error(k(61));i=i.__html,i!=null&&e.push(u(""+i))}}function La(e){var i="";return aa.Children.forEach(e,function(a){a!=null&&(i+=a)}),i}var Ma=w(' selected=""');function Na(e,i,a,o){e.push(M(a));var c=a=null,d;for(d in i)if(x.call(i,d)){var h=i[d];if(h!=null)switch(d){case"children":a=h;break;case"dangerouslySetInnerHTML":c=h;break;default:J(e,o,d,h)}}return e.push(K),L(e,c,a),typeof a=="string"?(e.push(u(C(a))),null):a}var Oa=w(`
`),Pa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qa=new Map;function M(e){var i=Qa.get(e);if(i===void 0){if(!Pa.test(e))throw Error(k(65,e));i=w("<"+e),Qa.set(e,i)}return i}var Ra=w("<!DOCTYPE html>");function Sa(e,i,a,o,c){switch(i){case"select":e.push(M("select"));var d=null,h=null;for(g in a)if(x.call(a,g)){var _=a[g];if(_!=null)switch(g){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"defaultValue":case"value":break;default:J(e,o,g,_)}}return e.push(K),L(e,h,d),d;case"option":h=c.selectedValue,e.push(M("option"));var ne=_=null,f=null,g=null;for(d in a)if(x.call(a,d)){var he=a[d];if(he!=null)switch(d){case"children":_=he;break;case"selected":f=he;break;case"dangerouslySetInnerHTML":g=he;break;case"value":ne=he;default:J(e,o,d,he)}}if(h!=null)if(a=ne!==null?""+ne:La(_),ra(h)){for(o=0;o<h.length;o++)if(""+h[o]===a){e.push(Ma);break}}else""+h===a&&e.push(Ma);else f&&e.push(Ma);return e.push(K),L(e,g,_),_;case"textarea":e.push(M("textarea")),g=h=d=null;for(_ in a)if(x.call(a,_)&&(ne=a[_],ne!=null))switch(_){case"children":g=ne;break;case"value":d=ne;break;case"defaultValue":h=ne;break;case"dangerouslySetInnerHTML":throw Error(k(91));default:J(e,o,_,ne)}if(d===null&&h!==null&&(d=h),e.push(K),g!=null){if(d!=null)throw Error(k(92));if(ra(g)&&1<g.length)throw Error(k(93));d=""+g}return typeof d=="string"&&d[0]===`
`&&e.push(Oa),d!==null&&e.push(u(C(""+d))),null;case"input":e.push(M("input")),ne=g=_=d=null;for(h in a)if(x.call(a,h)&&(f=a[h],f!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,"input"));case"defaultChecked":ne=f;break;case"defaultValue":_=f;break;case"checked":g=f;break;case"value":d=f;break;default:J(e,o,h,f)}return g!==null?J(e,o,"checked",g):ne!==null&&J(e,o,"checked",ne),d!==null?J(e,o,"value",d):_!==null&&J(e,o,"value",_),e.push(Ka),null;case"menuitem":e.push(M("menuitem"));for(var _e in a)if(x.call(a,_e)&&(d=a[_e],d!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(k(400));default:J(e,o,_e,d)}return e.push(K),null;case"title":e.push(M("title")),d=null;for(he in a)if(x.call(a,he)&&(h=a[he],h!=null))switch(he){case"children":d=h;break;case"dangerouslySetInnerHTML":throw Error(k(434));default:J(e,o,he,h)}return e.push(K),d;case"listing":case"pre":e.push(M(i)),h=d=null;for(ne in a)if(x.call(a,ne)&&(_=a[ne],_!=null))switch(ne){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;default:J(e,o,ne,_)}if(e.push(K),h!=null){if(d!=null)throw Error(k(60));if(typeof h!="object"||!("__html"in h))throw Error(k(61));a=h.__html,a!=null&&(typeof a=="string"&&0<a.length&&a[0]===`
`?e.push(Oa,u(a)):e.push(u(""+a)))}return typeof d=="string"&&d[0]===`
`&&e.push(Oa),d;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(M(i));for(var q in a)if(x.call(a,q)&&(d=a[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,i));default:J(e,o,q,d)}return e.push(Ka),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Na(e,a,i,o);case"html":return c.insertionMode===0&&e.push(Ra),Na(e,a,i,o);default:if(i.indexOf("-")===-1&&typeof a.is!="string")return Na(e,a,i,o);e.push(M(i)),h=d=null;for(f in a)if(x.call(a,f)&&(_=a[f],_!=null))switch(f){case"children":d=_;break;case"dangerouslySetInnerHTML":h=_;break;case"style":Ia(e,o,_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ia(f)&&typeof _!="function"&&typeof _!="symbol"&&e.push(H,u(f),I,u(C(_)),E)}return e.push(K),L(e,h,d),d}}var Ta=w("</"),Ua=w(">"),Va=w('<template id="'),Wa=w('"></template>'),Xa=w("<!--$-->"),Ya=w('<!--$?--><template id="'),Za=w('"></template>'),$a=w("<!--$!-->"),ab=w("<!--/$-->"),bb=w("<template"),cb=w('"'),db=w(' data-dgst="');w(' data-msg="');w(' data-stck="');var eb=w("></template>");function fb(e,i,a){if(p(e,Ya),a===null)throw Error(k(395));return p(e,a),t(e,Za)}var gb=w('<div hidden id="'),hb=w('">'),ib=w("</div>"),jb=w('<svg aria-hidden="true" style="display:none" id="'),kb=w('">'),lb=w("</svg>"),mb=w('<math aria-hidden="true" style="display:none" id="'),nb=w('">'),ob=w("</math>"),pb=w('<table hidden id="'),qb=w('">'),rb=w("</table>"),sb=w('<table hidden><tbody id="'),tb=w('">'),ub=w("</tbody></table>"),vb=w('<table hidden><tr id="'),wb=w('">'),xb=w("</tr></table>"),yb=w('<table hidden><colgroup id="'),zb=w('">'),Ab=w("</colgroup></table>");function Bb(e,i,a,o){switch(a.insertionMode){case 0:case 1:return p(e,gb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,hb);case 2:return p(e,jb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,kb);case 3:return p(e,mb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,nb);case 4:return p(e,pb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,qb);case 5:return p(e,sb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,tb);case 6:return p(e,vb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,wb);case 7:return p(e,yb),p(e,i.segmentPrefix),p(e,u(o.toString(16))),t(e,zb);default:throw Error(k(397))}}function Cb(e,i){switch(i.insertionMode){case 0:case 1:return t(e,ib);case 2:return t(e,lb);case 3:return t(e,ob);case 4:return t(e,rb);case 5:return t(e,ub);case 6:return t(e,xb);case 7:return t(e,Ab);default:throw Error(k(397))}}var Db=w('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Eb=w('$RS("'),Gb=w('","'),Hb=w('")<\/script>'),Ib=w('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jb=w('$RC("'),Kb=w('","'),Lb=w('")<\/script>'),Mb=w('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Nb=w('$RX("'),Ob=w('"'),Pb=w(")<\/script>"),Qb=w(","),Rb=/[<\u2028\u2029]/g;function Sb(e){return JSON.stringify(e).replace(Rb,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var N=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),hc=Symbol.for("react.default_value"),ic=Symbol.iterator;function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zb:return(e.displayName||"Context")+".Consumer";case Yb:return(e._context.displayName||"Context")+".Provider";case $b:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cc:return i=e.displayName||null,i!==null?i:jc(e.type)||"Memo";case dc:i=e._payload,e=e._init;try{return jc(e(i))}catch{}}return null}var kc={};function lc(e,i){if(e=e.contextTypes,!e)return kc;var a={},o;for(o in e)a[o]=i[o];return a}var O=null;function P(e,i){if(e!==i){e.context._currentValue=e.parentValue,e=e.parent;var a=i.parent;if(e===null){if(a!==null)throw Error(k(401))}else{if(a===null)throw Error(k(401));P(e,a)}i.context._currentValue=i.value}}function mc(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&mc(e)}function nc(e){var i=e.parent;i!==null&&nc(i),e.context._currentValue=e.value}function oc(e,i){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(k(402));e.depth===i.depth?P(e,i):oc(e,i)}function pc(e,i){var a=i.parent;if(a===null)throw Error(k(402));e.depth===a.depth?P(e,a):pc(e,a),i.context._currentValue=i.value}function Q(e){var i=O;i!==e&&(i===null?nc(e):e===null?mc(i):i.depth===e.depth?P(i,e):i.depth>e.depth?oc(i,e):pc(i,e),O=e)}var qc={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function rc(e,i,a,o){var c=e.state!==void 0?e.state:null;e.updater=qc,e.props=a,e.state=c;var d={queue:[],replace:!1};e._reactInternals=d;var h=i.contextType;if(e.context=typeof h=="object"&&h!==null?h._currentValue:o,h=i.getDerivedStateFromProps,typeof h=="function"&&(h=h(a,c),c=h==null?c:N({},c,h),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&qc.enqueueReplaceState(e,e.state,null),d.queue!==null&&0<d.queue.length)if(i=d.queue,h=d.replace,d.queue=null,d.replace=!1,h&&i.length===1)e.state=i[0];else{for(d=h?i[0]:e.state,c=!0,h=h?1:0;h<i.length;h++){var _=i[h];_=typeof _=="function"?_.call(e,d,a,o):_,_!=null&&(c?(c=!1,d=N({},d,_)):N(d,_))}e.state=d}else d.queue=null}var sc={id:1,overflow:""};function tc(e,i,a){var o=e.id;e=e.overflow;var c=32-uc(o)-1;o&=~(1<<c),a+=1;var d=32-uc(i)+c;if(30<d){var h=c-c%5;return d=(o&(1<<h)-1).toString(32),o>>=h,c-=h,{id:1<<32-uc(i)+c|a<<c|o,overflow:d+e}}return{id:1<<d|a<<c|o,overflow:e}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(e){return e>>>=0,e===0?32:31-(wc(e)/xc|0)|0}function yc(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zc=typeof Object.is=="function"?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(R===null)throw Error(k(321));return R}function Ec(){if(0<Dc)throw Error(k(312));return{memoizedState:null,queue:null,next:null}}function Fc(){return S===null?Bc===null?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):S.next===null?(T=!1,S=S.next=Ec()):(T=!0,S=S.next),S}function Gc(){Ac=R=null,Cc=!1,Bc=null,Dc=0,S=V=null}function Hc(e,i){return typeof i=="function"?i(e):i}function Ic(e,i,a){if(R=W(),S=Fc(),T){var o=S.queue;if(i=o.dispatch,V!==null&&(a=V.get(o),a!==void 0)){V.delete(o),o=S.memoizedState;do o=e(o,a.action),a=a.next;while(a!==null);return S.memoizedState=o,[o,i]}return[S.memoizedState,i]}return e=e===Hc?typeof i=="function"?i():i:a!==void 0?a(i):i,S.memoizedState=e,e=S.queue={last:null,dispatch:null},e=e.dispatch=Jc.bind(null,R,e),[S.memoizedState,e]}function Kc(e,i){if(R=W(),S=Fc(),i=i===void 0?null:i,S!==null){var a=S.memoizedState;if(a!==null&&i!==null){var o=a[1];e:if(o===null)o=!1;else{for(var c=0;c<o.length&&c<i.length;c++)if(!zc(i[c],o[c])){o=!1;break e}o=!0}if(o)return a[0]}}return e=e(),S.memoizedState=[e,i],e}function Jc(e,i,a){if(25<=Dc)throw Error(k(301));if(e===R)if(Cc=!0,e={action:a,next:null},V===null&&(V=new Map),a=V.get(i),a===void 0)V.set(i,e);else{for(i=a;i.next!==null;)i=i.next;i.next=e}}function Lc(){throw Error(k(394))}function Mc(){}var Oc={readContext:function(e){return e._currentValue},useContext:function(e){return W(),e._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(e){R=W(),S=Fc();var i=S.memoizedState;return i===null?(e={current:e},S.memoizedState=e):i},useState:function(e){return Ic(Hc,e)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(e,i){return Kc(function(){return e},i)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(e){return W(),e},useTransition:function(){return W(),[!1,Lc]},useId:function(){var e=Ac.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-uc(e)-1)).toString(32)+i;var a=Nc;if(a===null)throw Error(k(404));return i=U++,e=":"+a.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return W(),i(e._source)},useSyncExternalStore:function(e,i,a){if(a===void 0)throw Error(k(407));return a()}},Nc=null,Pc=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(e){return console.error(e),null}function X(){}function Rc(e,i,a,o,c,d,h,_,ne){var f=[],g=new Set;return i={destination:null,responseState:i,progressiveChunkSize:o===void 0?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:f,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?Qc:c,onAllReady:d===void 0?X:d,onShellReady:h===void 0?X:h,onShellError:_===void 0?X:_,onFatalError:ne===void 0?X:ne},a=Sc(i,0,null,a,!1,!1),a.parentFlushed=!0,e=Tc(i,e,null,a,g,kc,null,sc),f.push(e),i}function Tc(e,i,a,o,c,d,h,_){e.allPendingTasks++,a===null?e.pendingRootTasks++:a.pendingTasks++;var ne={node:i,ping:function(){var f=e.pingedTasks;f.push(ne),f.length===1&&Uc(e)},blockedBoundary:a,blockedSegment:o,abortSet:c,legacyContext:d,context:h,treeContext:_};return c.add(ne),ne}function Sc(e,i,a,o,c,d){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:a,lastPushedText:c,textEmbedded:d}}function Y(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Vc(e,i){var a=e.onShellError;a(i),a=e.onFatalError,a(i),e.destination!==null?(e.status=2,da(e.destination,i)):(e.status=1,e.fatalError=i)}function Wc(e,i,a,o,c){for(R={},Ac=i,U=0,e=a(o,c);Cc;)Cc=!1,U=0,Dc+=1,S=null,e=a(o,c);return Gc(),e}function Xc(e,i,a,o){var c=a.render(),d=o.childContextTypes;if(d!=null){var h=i.legacyContext;if(typeof a.getChildContext!="function")o=h;else{a=a.getChildContext();for(var _ in a)if(!(_ in d))throw Error(k(108,jc(o)||"Unknown",_));o=N({},h,a)}i.legacyContext=o,Z(e,i,c),i.legacyContext=h}else Z(e,i,c)}function Yc(e,i){if(e&&e.defaultProps){i=N({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function Zc(e,i,a,o,c){if(typeof a=="function")if(a.prototype&&a.prototype.isReactComponent){c=lc(a,i.legacyContext);var d=a.contextType;d=new a(o,typeof d=="object"&&d!==null?d._currentValue:c),rc(d,a,o,c),Xc(e,i,d,a)}else{d=lc(a,i.legacyContext),c=Wc(e,i,a,o,d);var h=U!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)rc(c,a,o,d),Xc(e,i,c,a);else if(h){o=i.treeContext,i.treeContext=tc(o,1,0);try{Z(e,i,c)}finally{i.treeContext=o}}else Z(e,i,c)}else if(typeof a=="string"){switch(c=i.blockedSegment,d=Sa(c.chunks,a,o,e.responseState,c.formatContext),c.lastPushedText=!1,h=c.formatContext,c.formatContext=Ba(h,a,o),$c(e,i,d),c.formatContext=h,a){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push(Ta,u(a),Ua)}c.lastPushedText=!1}else{switch(a){case gc:case fc:case Wb:case Xb:case Vb:Z(e,i,o.children);return;case bc:Z(e,i,o.children);return;case ec:throw Error(k(343));case ac:e:{a=i.blockedBoundary,c=i.blockedSegment,d=o.fallback,o=o.children,h=new Set;var _={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:h,errorDigest:null},ne=Sc(e,c.chunks.length,_,c.formatContext,!1,!1);c.children.push(ne),c.lastPushedText=!1;var f=Sc(e,0,null,c.formatContext,!1,!1);f.parentFlushed=!0,i.blockedBoundary=_,i.blockedSegment=f;try{if($c(e,i,o),f.lastPushedText&&f.textEmbedded&&f.chunks.push(Ca),f.status=1,ad(_,f),_.pendingTasks===0)break e}catch(g){f.status=4,_.forceClientRender=!0,_.errorDigest=Y(e,g)}finally{i.blockedBoundary=a,i.blockedSegment=c}i=Tc(e,d,a,ne,h,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $b:if(o=Wc(e,i,a.render,o,c),U!==0){a=i.treeContext,i.treeContext=tc(a,1,0);try{Z(e,i,o)}finally{i.treeContext=a}}else Z(e,i,o);return;case cc:a=a.type,o=Yc(a,o),Zc(e,i,a,o,c);return;case Yb:if(c=o.children,a=a._context,o=o.value,d=a._currentValue,a._currentValue=o,h=O,O=o={parent:h,depth:h===null?0:h.depth+1,context:a,parentValue:d,value:o},i.context=o,Z(e,i,c),e=O,e===null)throw Error(k(403));o=e.parentValue,e.context._currentValue=o===hc?e.context._defaultValue:o,e=O=e.parent,i.context=e;return;case Zb:o=o.children,o=o(a._currentValue),Z(e,i,o);return;case dc:c=a._init,a=c(a._payload),o=Yc(a,o),Zc(e,i,a,o,void 0);return}throw Error(k(130,a==null?a:typeof a,""))}}function Z(e,i,a){if(i.node=a,typeof a=="object"&&a!==null){switch(a.$$typeof){case Tb:Zc(e,i,a.type,a.props,a.ref);return;case Ub:throw Error(k(257));case dc:var o=a._init;a=o(a._payload),Z(e,i,a);return}if(ra(a)){bd(e,i,a);return}if(a===null||typeof a!="object"?o=null:(o=ic&&a[ic]||a["@@iterator"],o=typeof o=="function"?o:null),o&&(o=o.call(a))){if(a=o.next(),!a.done){var c=[];do c.push(a.value),a=o.next();while(!a.done);bd(e,i,c)}return}throw e=Object.prototype.toString.call(a),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}typeof a=="string"?(o=i.blockedSegment,o.lastPushedText=Da(i.blockedSegment.chunks,a,e.responseState,o.lastPushedText)):typeof a=="number"&&(o=i.blockedSegment,o.lastPushedText=Da(i.blockedSegment.chunks,""+a,e.responseState,o.lastPushedText))}function bd(e,i,a){for(var o=a.length,c=0;c<o;c++){var d=i.treeContext;i.treeContext=tc(d,o,c);try{$c(e,i,a[c])}finally{i.treeContext=d}}}function $c(e,i,a){var o=i.blockedSegment.formatContext,c=i.legacyContext,d=i.context;try{return Z(e,i,a)}catch(ne){if(Gc(),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"){a=ne;var h=i.blockedSegment,_=Sc(e,h.chunks.length,null,h.formatContext,h.lastPushedText,!0);h.children.push(_),h.lastPushedText=!1,e=Tc(e,i.node,i.blockedBoundary,_,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,a.then(e,e),i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,Q(d)}else throw i.blockedSegment.formatContext=o,i.legacyContext=c,i.context=d,Q(d),ne}}function cd(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,dd(this,i,e)}function ed(e,i,a){var o=e.blockedBoundary;e.blockedSegment.status=3,o===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.close())):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=a===void 0?Error(k(432)):a,o.errorDigest=i.onError(e),o.parentFlushed&&i.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach(function(c){return ed(c,i,a)}),o.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(o=i.onAllReady,o()))}function ad(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var a=i.children[0];a.id=i.id,a.parentFlushed=!0,a.status===1&&ad(e,a)}else e.completedSegments.push(i)}function dd(e,i,a){if(i===null){if(a.parentFlushed){if(e.completedRootSegment!==null)throw Error(k(389));e.completedRootSegment=a}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=X,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(a.parentFlushed&&a.status===1&&ad(i,a),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(cd,e),i.fallbackAbortableTasks.clear()):a.parentFlushed&&a.status===1&&(ad(i,a),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Uc(e){if(e.status!==2){var i=O,a=Pc.current;Pc.current=Oc;var o=Nc;Nc=e.responseState;try{var c=e.pingedTasks,d;for(d=0;d<c.length;d++){var h=c[d],_=e,ne=h.blockedSegment;if(ne.status===0){Q(h.context);try{Z(_,h,h.node),ne.lastPushedText&&ne.textEmbedded&&ne.chunks.push(Ca),h.abortSet.delete(h),ne.status=1,dd(_,h.blockedBoundary,ne)}catch(re){if(Gc(),typeof re=="object"&&re!==null&&typeof re.then=="function"){var f=h.ping;re.then(f,f)}else{h.abortSet.delete(h),ne.status=4;var g=h.blockedBoundary,he=re,_e=Y(_,he);if(g===null?Vc(_,he):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=_e,g.parentFlushed&&_.clientRenderedBoundaries.push(g))),_.allPendingTasks--,_.allPendingTasks===0){var q=_.onAllReady;q()}}}finally{}}}c.splice(0,d),e.destination!==null&&fd(e,e.destination)}catch(re){Y(e,re),Vc(e,re)}finally{Nc=o,Pc.current=a,a===Oc&&Q(i)}}}function gd(e,i,a){switch(a.parentFlushed=!0,a.status){case 0:var o=a.id=e.nextSegmentId++;return a.lastPushedText=!1,a.textEmbedded=!1,e=e.responseState,p(i,Va),p(i,e.placeholderPrefix),e=u(o.toString(16)),p(i,e),t(i,Wa);case 1:a.status=2;var c=!0;o=a.chunks;var d=0;a=a.children;for(var h=0;h<a.length;h++){for(c=a[h];d<c.index;d++)p(i,o[d]);c=hd(e,i,c)}for(;d<o.length-1;d++)p(i,o[d]);return d<o.length&&(c=t(i,o[d])),c;default:throw Error(k(390))}}function hd(e,i,a){var o=a.boundary;if(o===null)return gd(e,i,a);if(o.parentFlushed=!0,o.forceClientRender)o=o.errorDigest,t(i,$a),p(i,bb),o&&(p(i,db),p(i,u(C(o))),p(i,cb)),t(i,eb),gd(e,i,a);else if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var c=e.responseState,d=c.nextSuspenseID++;c=w(c.boundaryPrefix+d.toString(16)),o=o.id=c,fb(i,e.responseState,o),gd(e,i,a)}else if(o.byteSize>e.progressiveChunkSize)o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),fb(i,e.responseState,o.id),gd(e,i,a);else{if(t(i,Xa),a=o.completedSegments,a.length!==1)throw Error(k(391));hd(e,i,a[0])}return t(i,ab)}function id(e,i,a){return Bb(i,e.responseState,a.formatContext,a.id),hd(e,i,a),Cb(i,a.formatContext)}function jd(e,i,a){for(var o=a.completedSegments,c=0;c<o.length;c++)kd(e,i,a,o[c]);if(o.length=0,e=e.responseState,o=a.id,a=a.rootSegmentID,p(i,e.startInlineScript),e.sentCompleteBoundaryFunction?p(i,Jb):(e.sentCompleteBoundaryFunction=!0,p(i,Ib)),o===null)throw Error(k(395));return a=u(a.toString(16)),p(i,o),p(i,Kb),p(i,e.segmentPrefix),p(i,a),t(i,Lb)}function kd(e,i,a,o){if(o.status===2)return!0;var c=o.id;if(c===-1){if((o.id=a.rootSegmentID)===-1)throw Error(k(392));return id(e,i,o)}return id(e,i,o),e=e.responseState,p(i,e.startInlineScript),e.sentCompleteSegmentFunction?p(i,Eb):(e.sentCompleteSegmentFunction=!0,p(i,Db)),p(i,e.segmentPrefix),c=u(c.toString(16)),p(i,c),p(i,Gb),p(i,e.placeholderPrefix),p(i,c),t(i,Hb)}function fd(e,i){l$1=new Uint8Array(512),n=0;try{var a=e.completedRootSegment;if(a!==null&&e.pendingRootTasks===0){hd(e,i,a),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(a=0;a<o.length-1;a++)p(i,o[a]);a<o.length&&t(i,o[a])}var c=e.clientRenderedBoundaries,d;for(d=0;d<c.length;d++){var h=c[d];o=i;var _=e.responseState,ne=h.id,f=h.errorDigest,g=h.errorMessage,he=h.errorComponentStack;if(p(o,_.startInlineScript),_.sentClientRenderFunction?p(o,Nb):(_.sentClientRenderFunction=!0,p(o,Mb)),ne===null)throw Error(k(395));p(o,ne),p(o,Ob),(f||g||he)&&(p(o,Qb),p(o,u(Sb(f||"")))),(g||he)&&(p(o,Qb),p(o,u(Sb(g||"")))),he&&(p(o,Qb),p(o,u(Sb(he)))),t(o,Pb)}c.splice(0,d);var _e=e.completedBoundaries;for(d=0;d<_e.length;d++)jd(e,i,_e[d]);_e.splice(0,d),ba(i),l$1=new Uint8Array(512),n=0;var q=e.partialBoundaries;for(d=0;d<q.length;d++){var re=q[d];e:{c=e,h=i;var ve=re.completedSegments;for(_=0;_<ve.length;_++)if(!kd(c,h,re,ve[_])){_++,ve.splice(0,_);var ie=!1;break e}ve.splice(0,_),ie=!0}if(!ie){e.destination=null,d++,q.splice(0,d);return}}q.splice(0,d);var ee=e.completedBoundaries;for(d=0;d<ee.length;d++)jd(e,i,ee[d]);ee.splice(0,d)}finally{ba(i),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.close()}}function ld(e,i){try{var a=e.abortableTasks;a.forEach(function(o){return ed(o,e,i)}),a.clear(),e.destination!==null&&fd(e,e.destination)}catch(o){Y(e,o),Vc(e,o)}}reactDomServer_browser_production_min.renderToReadableStream=function(e,i){return new Promise(function(a,o){var c,d,h=new Promise(function(g,he){d=g,c=he}),_=Rc(e,za(i?i.identifierPrefix:void 0,i?i.nonce:void 0,i?i.bootstrapScriptContent:void 0,i?i.bootstrapScripts:void 0,i?i.bootstrapModules:void 0),Aa(i?i.namespaceURI:void 0),i?i.progressiveChunkSize:void 0,i?i.onError:void 0,d,function(){var g=new ReadableStream({type:"bytes",pull:function(he){if(_.status===1)_.status=2,da(he,_.fatalError);else if(_.status!==2&&_.destination===null){_.destination=he;try{fd(_,he)}catch(_e){Y(_,_e),Vc(_,_e)}}},cancel:function(){ld(_)}},{highWaterMark:0});g.allReady=h,a(g)},function(g){h.catch(function(){}),o(g)},c);if(i&&i.signal){var ne=i.signal,f=function(){ld(_,ne.reason),ne.removeEventListener("abort",f)};ne.addEventListener("abort",f)}Uc(_)})};reactDomServer_browser_production_min.version="18.3.1";var l,s;l=reactDomServerLegacy_browser_production_min,s=reactDomServer_browser_production_min;server_browser.version=l.version;server_browser.renderToString=l.renderToString;server_browser.renderToStaticMarkup=l.renderToStaticMarkup;server_browser.renderToNodeStream=l.renderToNodeStream;server_browser.renderToStaticNodeStream=l.renderToStaticNodeStream;server_browser.renderToReadableStream=s.renderToReadableStream;var cjs={};const{replace}="",es=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,ca=/[&<>'"]/g,esca={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},pe=e=>esca[e],escape$1=e=>replace.call(e,ca,pe);cjs.escape=escape$1;const unes={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},cape=e=>unes[e],unescape$1=e=>replace.call(e,es,cape);cjs.unescape=unescape$1;var loader={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(d){for(var h,_=1,ne=arguments.length;_<ne;_++){h=arguments[_];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])}return d},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var a=jsxRuntimeExports,o={position:"absolute",width:"100%",height:"100",zIndex:"9999",background:"rgba(255, 255, 255, 0.4)",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",alignContent:"center"},c=function(){return(0,a.jsx)("div",i({className:"h5p-loader",style:o},{children:(0,a.jsxs)("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"101px",height:"101px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},{children:[(0,a.jsx)("g",i({transform:"rotate(0 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(30 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(60 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(90 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(120 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(150 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(180 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(210 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(240 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(270 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(300 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"})}))})),(0,a.jsx)("g",i({transform:"rotate(330 50 50)"},{children:(0,a.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,a.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})}))}))]}))}))};e.Loader=c,e.default=e.Loader})(loader);(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(he){for(var _e,q=1,re=arguments.length;q<re;q++){_e=arguments[q];for(var ve in _e)Object.prototype.hasOwnProperty.call(_e,ve)&&(he[ve]=_e[ve])}return he},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var o=jsxRuntimeExports,c=reactExports,d=server_browser,h=cjs,_=a(loader),ne=context,f=function(he){return(0,h.unescape)(he)},g=function(he){var _e=he.id,q=he.onSubmit,re=(0,c.useState)(100),ve=re[0],ie=re[1],ee=(0,c.useRef)(null),ce=(0,c.useState)({state:"initial"}),fe=ce[0],ae=ce[1],$=(0,c.useContext)(ne.EditorContext),oe=$.state,se=$.getEditorConfig,te=$.submitContent;(0,c.useEffect)(function(){se&&se(_e)},[_e,se]),(0,c.useEffect)(function(){var ge=function(m){if(m.origin===window.location.origin&&(m.data.iFrameHeight&&ie(m.data.iFrameHeight),m.data.h5pEditorStatus)){var ue=m.data;ue.h5pEditorStatus==="success"&&oe.value==="loaded"&&(ae({state:"loading"}),te&&te(i(i({},ue.data),{nonce:oe.settings.nonce}),_e).then(function(be){q&&be&&q(be),ae({state:"loaded"})}).catch(function(be){ae({state:"error",error:be.toString()})})),ue.h5pEditorStatus==="error"&&console.log(ue.error)}};return window&&window.addEventListener("message",ge),function(){window&&window.removeEventListener("message",ge)}},[ee,te,oe,q,_e]);var b=(0,c.useMemo)(function(){var ge,m,ue,be=oe.value==="loaded"&&oe.settings;if(!be)return"";var je=oe.value==="loaded"&&(!((ge=oe.settings)===null||ge===void 0)&&ge.contents)?(m=oe.settings)===null||m===void 0?void 0:m.contents[Object.keys((ue=oe.settings)===null||ue===void 0?void 0:ue.contents)[0]]:null,Oe=je?je.jsonContent:"";try{Oe&&JSON.parse(Oe)}catch(Pe){return ae({state:"error",error:Pe&&Pe.toString()}),null}var Le=je?je.library:"",me=`
    (function ($) {
        const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
        const resizeObserver = new ResizeObserver((entries) =>
            postMessage({ iFrameHeight: entries[0].contentRect.height })
        );
        const params = `).concat("`").concat(Oe).concat("`",`.split("\\n").join('');
            
        ns.init = function () {
            ns.$ = H5P.jQuery;
            ns.basePath = H5PIntegration.editor.libraryUrl;
            ns.fileIcon = H5PIntegration.editor.fileIcon;
            ns.ajaxPath = H5PIntegration.editor.ajaxPath;
            ns.filesPath = H5PIntegration.editor.filesPath;
            ns.apiVersion = H5PIntegration.editor.apiVersion;
            ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
            ns.assets = H5PIntegration.editor.assets;
            ns.baseUrl = H5PIntegration.baseUrl;
            ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
            if (H5PIntegration.editor.nodeVersionId !== undefined) {
                ns.contentId = H5PIntegration.editor.nodeVersionId;
            }
            const h5peditor = new ns.Editor('`).concat(Le,`', params, document.getElementById("h5p-editor"));
            H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
            H5P.externalDispatcher.on("resize", (event) => postMessage(event));
            resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
            $("#h5p-editor-submit").click(() => {
                h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
            } );
        };
        ns.getAjaxUrl = function (action, parameters) {
            var url = H5PIntegration.editor.ajaxPath + action;
            url += action === "files" ? "/`).concat(be.nonce,`" : "";
            url += "`).concat(be.token?"?_token="+be.token:"",`";
            if (parameters !== undefined) {
                var separator = url.indexOf("?") === -1 ? "?" : "&";
                for (var property in parameters) {
                    if (parameters.hasOwnProperty(property)) {
                        url += separator + property + "=" + parameters[property];
                        separator = "&";
                    }
                }
            }
            return url;
        };
        $(document).ready(ns.init);
    })(H5P.jQuery);
    `),Ie=(0,d.renderToStaticMarkup)((0,o.jsxs)("html",{children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,o.jsx)("script",{dangerouslySetInnerHTML:{__html:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(be),"; ")}}),be.core.scripts.map(function(Pe){return(0,o.jsx)("script",{src:Pe},Pe)}),be.core.styles.map(function(Pe){return(0,o.jsx)("link",{type:"text/css",rel:"stylesheet",href:Pe},Pe)})]}),(0,o.jsx)("body",{children:(0,o.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,o.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:"loading"})),(0,o.jsx)("p",{}),(0,o.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:"submit data"})),(0,o.jsx)("script",{dangerouslySetInnerHTML:{__html:me}})]}))})]})),ye=f(Ie);return window.URL.createObjectURL(new Blob([ye],{type:"text/html"}))},[oe]);return(0,o.jsxs)("div",i({className:"h5p-editor",style:{height:ve,position:"relative"}},{children:[fe.state==="loading"&&(0,o.jsx)(_.default,{}),fe.state==="error"&&(0,o.jsxs)("p",{children:[(0,o.jsx)("pre",{children:"Error:"})," ",fe.error]}),b&&(0,o.jsx)("iframe",{ref:ee,title:"editor",src:b,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=g,e.default=e.Editor})(editor$1);var player$1={},FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,i,a){var o,c,d,h,_,ne,f=0,g=!1,he=!1,_e=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);i=toNumber(i)||0,isObject(a)&&(g=!!a.leading,he="maxWait"in a,d=he?nativeMax(toNumber(a.maxWait)||0,i):d,_e="trailing"in a?!!a.trailing:_e);function q(oe){var se=o,te=c;return o=c=void 0,f=oe,h=e.apply(te,se),h}function re(oe){return f=oe,_=setTimeout(ee,i),g?q(oe):h}function ve(oe){var se=oe-ne,te=oe-f,b=i-se;return he?nativeMin(b,d-te):b}function ie(oe){var se=oe-ne,te=oe-f;return ne===void 0||se>=i||se<0||he&&te>=d}function ee(){var oe=now();if(ie(oe))return ce(oe);_=setTimeout(ee,ve(oe))}function ce(oe){return _=void 0,_e&&o?q(oe):(o=c=void 0,h)}function fe(){_!==void 0&&clearTimeout(_),f=0,o=ne=c=_=void 0}function ae(){return _===void 0?h:ce(now())}function $(){var oe=now(),se=ie(oe);if(o=arguments,c=this,ne=oe,se){if(_===void 0)return re(ne);if(he)return _=setTimeout(ee,i),q(ne)}return _===void 0&&(_=setTimeout(ee,i)),h}return $.cancel=fe,$.flush=ae,$}function throttle(e,i,a){var o=!0,c=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(a)&&(o="leading"in a?!!a.leading:o,c="trailing"in a?!!a.trailing:c),debounce(e,i,{leading:o,maxWait:i,trailing:c})}function isObject(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(reTrim,"");var a=reIsBinary.test(e);return a||reIsOctal.test(e)?freeParseInt(e.slice(2),a?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_throttle=throttle;(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(_e){for(var q,re=1,ve=arguments.length;re<ve;re++){q=arguments[re];for(var ie in q)Object.prototype.hasOwnProperty.call(q,ie)&&(_e[ie]=q[ie])}return _e},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__spreadArray||function(_e,q,re){if(re||arguments.length===2)for(var ve=0,ie=q.length,ee;ve<ie;ve++)(ee||!(ve in q))&&(ee||(ee=Array.prototype.slice.call(q,0,ve)),ee[ve]=q[ve]);return _e.concat(ee||Array.prototype.slice.call(q))},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,d=reactExports,h=server_browser,_=cjs,ne=o(lodash_throttle),f=o(loader),g=context,he=function(_e){var q=_e.h5pObject,re=_e.id,ve=_e.onXAPI,ie=_e.styles,ee=ie===void 0?[]:ie,ce=(0,d.useState)(100),fe=ce[0],ae=ce[1],$=(0,d.useRef)(null),oe=(0,d.useState)(!0),se=oe[0],te=oe[1],b=(0,d.useContext)(g.EditorContext),ge=b.state,m=b.seth5pObject;(0,d.useEffect)(function(){q&&m&&(m(q),te(!1))},[q]);var ue=(0,d.useCallback)((0,ne.default)(function(Oe){ae(Oe)},200,{leading:!1}),[]),be=(0,d.useCallback)(function(Oe){Oe.data.iFrameHeight&&ue(Oe.data.iFrameHeight),Oe.data.statement&&ve&&ve(Oe.data)},[ve,q,re]);(0,d.useEffect)(function(){return window&&window.addEventListener("message",be),function(){window&&window.removeEventListener("message",be)}},[$,ge,ve,re]);var je=(0,d.useMemo)(function(){var Oe,Le,me,Ie=ge.value==="loaded"&&ge.settings;if(!Ie)return"";var ye=ge.value==="loaded"&&(!((Oe=ge.settings)===null||Oe===void 0)&&Oe.contents)?(Le=ge.settings)===null||Le===void 0?void 0:Le.contents[Object.keys((me=ge.settings)===null||me===void 0?void 0:me.contents)[0]]:null;Ie.core.styles=Ie.core.styles.concat(ee);var Pe=ye==null?void 0:ye.content.library.embedTypes,ke=(0,h.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
          body, html {margin:0; padding:0;}
          iframe { border:none; margin:0; padding:0; }
          `}),(0,c.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Ie),"; ")}),a(a([],Ie.core.scripts,!0),Ie.loadedJs,!0).map(function(Ee){return(0,c.jsx)("script",{src:Ee},Ee)}),a(a([],Ie.core.styles,!0),Ie.loadedCss,!0).map(function(Ee){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:Ee},Ee)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[Pe&&Pe==="div"||Pe===""&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":re}),Pe&&Pe==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat(re),className:"h5p-iframe","data-content-id":re,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
            (function ($) {
                const replacerFunc = () => {
                    const visited = new WeakSet();
                    return (key, value) => {
                      if (value.nodeType) return;
                      if (typeof value === "object" && value !== null) {
                        if (visited.has(value)) {
                          return;
                        }
                        visited.add(value);
                      }
                      return value;
                    };
                  };
                const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                const resizeObserver = new ResizeObserver((entries) =>
                    postMessage({ iFrameHeight: entries[0].contentRect.height })
                );
                resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                H5P.externalDispatcher.on('xAPI', function (event) {
                    try {
                      postMessage(event.data, replacerFunc())
                    } catch(err) {
                      console.error(event, err)
                    }
                });
            })(H5P.jQuery);
            `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,_.unescape)(ke).split("&#x27;").join("'")],{type:"text/html"}))},[ge,re,q]);return(0,c.jsxs)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:[se&&(0,c.jsx)(f.default,{}),!se&&(0,c.jsx)("iframe",{ref:$,title:"player",src:je,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:fe}})]}))};e.Player=he,e.default=e.Player})(player$1);var editor={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(he){for(var _e,q=1,re=arguments.length;q<re;q++){_e=arguments[q];for(var ve in _e)Object.prototype.hasOwnProperty.call(_e,ve)&&(he[ve]=_e[ve])}return he},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var o=jsxRuntimeExports,c=reactExports,d=server_browser,h=cjs,_=a(loader),ne=function(he){return(0,h.unescape)(he)},f=function(he,_e){var q={pl:{loading:"wgrywam dane","submit data":"przelij dane"},en:{loading:"loading","submit data":"submit data"}},re=_e;return q[re]&&q[re][he]?q[re][he]:he},g=function(he){var _e=he.id,q=he.onSubmit,re=he.state,ve=he.allowSameOrigin,ie=ve===void 0?!1:ve,ee=he.onError,ce=he.loading,fe=ce===void 0?!1:ce,ae=he.lang,$=ae===void 0?"pl":ae,oe=he.iframeId,se=oe===void 0?"h5p-editor":oe,te=(0,c.useState)(100),b=te[0],ge=te[1],m=(0,c.useRef)(null);(0,c.useEffect)(function(){var be=function(je){if(!(je.origin!==window.location.origin&&!ie)&&(je.data.iFrameHeight&&ge(je.data.iFrameHeight),je.data.h5pEditorStatus)){var Oe=je.data;Oe.h5pEditorStatus==="success"&&q&&q(i(i({},Oe.data),{nonce:re.nonce}),_e),Oe.h5pEditorStatus==="error"&&ee&&ee(Oe.error)}};return window&&window.addEventListener("message",be),function(){window&&window.removeEventListener("message",be)}},[m,re,q,_e]);var ue=(0,c.useMemo)(function(){var be=re;if(!be)return"";var je=re.contents?re==null?void 0:re.contents[Object.keys(re.contents)[0]]:null,Oe=je?je.jsonContent:"";try{Oe&&JSON.parse(Oe)}catch(Pe){return ee&&ee(Pe&&Pe.toString()),null}var Le=je?je.library:"",me=`
      (function ($) {
          const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
          const resizeObserver = new ResizeObserver((entries) =>
              postMessage({ iFrameHeight: entries[0].contentRect.height })
          );
          const params = `).concat("`").concat(Oe).concat("`",`.split("\\n").join('');
          let token = "`).concat(re.token,`";
          
          const onMessage = (e) => {
            if(e.data?.type === "TOKEN_CHANGED") {
              token = e.data?.token ?? null;
            }
          };
          
          window.addEventListener("message", onMessage);
              
          ns.init = function () {
              ns.$ = H5P.jQuery;
              ns.basePath = H5PIntegration.editor.libraryUrl;
              ns.fileIcon = H5PIntegration.editor.fileIcon;
              ns.ajaxPath = H5PIntegration.editor.ajaxPath;
              ns.filesPath = H5PIntegration.editor.filesPath;
              ns.apiVersion = H5PIntegration.editor.apiVersion;
              ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
              ns.assets = H5PIntegration.editor.assets;
              ns.baseUrl = H5PIntegration.baseUrl;
              ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
              if (H5PIntegration.editor.nodeVersionId !== undefined) {
                  ns.contentId = H5PIntegration.editor.nodeVersionId;
              }
              const h5peditor = new ns.Editor('`).concat(Le,`', params, document.getElementById("h5p-editor"));
              H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
              H5P.externalDispatcher.on("resize", (event) => postMessage(event));
              resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
              $("#h5p-editor-submit").click(() => {
                  h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
              } );
          };
          ns.getAjaxUrl = function (action, parameters) {
              var url = H5PIntegration.editor.ajaxPath + action;
              url += action === "files" ? "/`).concat(be.nonce,`" : "";
              url += token ? "?_token=" + token : "";
              url += "`).concat($?"&lang="+$:"",`";
              if (parameters !== undefined) {
                  var separator = url.indexOf("?") === -1 ? "?" : "&";
                  for (var property in parameters) {
                      if (parameters.hasOwnProperty(property)) {
                          url += separator + property + "=" + parameters[property];
                          separator = "&";
                      }
                  }
              }
              return url;
          };
          $(document).ready(ns.init);
      })(H5P.jQuery);
      `),Ie=(0,d.renderToStaticMarkup)((0,o.jsxs)("html",{children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,o.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(be),"; ")}),be.core.scripts.map(function(Pe){return(0,o.jsx)("script",{src:Pe},Pe)}),be.core.styles.map(function(Pe){return(0,o.jsx)("link",{type:"text/css",rel:"stylesheet",href:Pe},Pe)})]}),(0,o.jsx)("body",{children:(0,o.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,o.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:f("loading",$)})),(0,o.jsx)("p",{}),(0,o.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:f("submit data",$)})),(0,o.jsx)("script",{dangerouslySetInnerHTML:{__html:me}})]}))})]})),ye=ne(Ie);return window.URL.createObjectURL(new Blob([ye],{type:"text/html"}))},[re]);return(0,o.jsxs)("div",i({className:"h5p-editor",style:{height:b,position:"relative"}},{children:[fe&&(0,o.jsx)(_.default,{}),ue&&(0,o.jsx)("iframe",{ref:m,title:"editor",src:ue,id:se,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=g,e.default=e.Editor})(editor);var player={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(_e){for(var q,re=1,ve=arguments.length;re<ve;re++){q=arguments[re];for(var ie in q)Object.prototype.hasOwnProperty.call(q,ie)&&(_e[ie]=q[ie])}return _e},i.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__spreadArray||function(_e,q,re){if(re||arguments.length===2)for(var ve=0,ie=q.length,ee;ve<ie;ve++)(ee||!(ve in q))&&(ee||(ee=Array.prototype.slice.call(q,0,ve)),ee[ve]=q[ve]);return _e.concat(ee||Array.prototype.slice.call(q))},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,d=reactExports,h=server_browser,_=cjs,ne=o(lodash_throttle),f=function(_e){return _e.includes("://")};function g(_e){var q=Uint16Array.from({length:_e.length},function(ie,ee){return _e.charCodeAt(ee)}),re=new Uint8Array(q.buffer),ve="";return re.forEach(function(ie){ve+=String.fromCharCode(ie)}),ve}var he=function(_e){var q=_e.onXAPI,re=_e.state,ve=_e.styles,ie=ve===void 0?[]:ve;_e.lang;var ee=(0,d.useState)(100),ce=ee[0],fe=ee[1],ae=(0,d.useRef)(null),$=(0,d.useMemo)(function(){if(re!=null&&re.contents){var b=Number(Object.keys(re==null?void 0:re.contents)[0].split("-")[1]);return isNaN(b)?0:b}return 0},[re]),oe=(0,d.useCallback)((0,ne.default)(function(b){fe(b)},200,{leading:!1}),[]),se=(0,d.useCallback)(function(b){b.data.iFrameHeight&&oe(b.data.iFrameHeight),b.data.statement&&q&&q(b.data)},[q,re,ae]);(0,d.useEffect)(function(){return window&&window.addEventListener("message",se),function(){window&&window.removeEventListener("message",se)}},[ae,re,q]);var te=(0,d.useMemo)(function(){var b=re;if(!b)return"";b.core.styles=b.core.styles.concat(ie);var ge=re!=null&&re.contents?re==null?void 0:re.contents[Object.keys(re==null?void 0:re.contents)[0]]:null,m=b.loadedJs&&b.loadedJs.length>0?"div":"iframe";b.core.scripts=b.core.scripts.map(function(je){return f(je)?je:f(b.baseUrl)?"".concat(b.baseUrl,"/").concat(je,";"):je});var ue=f(b.baseUrl)?b.baseUrl+"/":"",be=(0,h.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
            body, html {margin:0; padding:0;}
            iframe { border:none; margin:0; padding:0; }
            `}),(0,c.jsx)("script",{children:`
            window._aaa = '`.concat(btoa(g(JSON.stringify(b,null,2))),`';          
            function fromBinary(r){let e=Uint8Array.from({length:r.length},(e,n)=>r.charCodeAt(n)),n=new Uint16Array(e.buffer),o="";return n.forEach(r=>{o+=String.fromCharCode(r)}),o};
            const H5PIntegration = window.H5PIntegration = JSON.parse(fromBinary(atob('`).concat(btoa(g(JSON.stringify(b,null,2))),`')))
            `)}),a(a(a([],b.core.scripts?b.core.scripts:[],!0),b.loadedJs?b.loadedJs:[],!0),ge!=null&&ge.scripts?ge==null?void 0:ge.scripts:[],!0).map(function(je){return(0,c.jsx)("script",{src:f(je)?je:ue+je},je)}),a(a(a([],b.core.styles?b.core.styles:[],!0),b.loadedCss?b.loadedCss:[],!0),ge!=null&&ge.styles?ge==null?void 0:ge.styles:[],!0).map(function(je){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:f(je)?je:ue+je},je)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[m&&m==="div"&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":$}),m&&m==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat($),className:"h5p-iframe","data-content-id":$,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
              (function ($) {
                  const replacerFunc = () => {
                      const visited = new WeakSet();
                      return (key, value) => {
                        if (value.nodeType) return;
                        if (typeof value === "object" && value !== null) {
                          if (visited.has(value)) {
                            return;
                          }
                          visited.add(value);
                        }
                        return value;
                      };
                    };
                  const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                  const resizeObserver = new ResizeObserver((entries) =>
                      postMessage({ iFrameHeight: entries[0].contentRect.height })
                  );
                  resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                  H5P.externalDispatcher.on('xAPI', function (event) {
                      try {
                        postMessage(event.data, replacerFunc())
                      } catch(err) {
                        console.error(event, err)
                      }
                  });
              })(H5P.jQuery);
              `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,_.unescape)(be).split("&#x27;").join("'")],{type:"text/html"}))},[re]);return(0,c.jsx)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:(0,c.jsx)("iframe",{ref:ae,title:"player",src:te,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:ce}})}))};e.Player=he,e.default=e.Player})(player);(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextlessPlayer=e.ContextlessEditor=e.Player=e.Editor=e.EditorContext=e.EditorContextProvider=void 0;var a=context;Object.defineProperty(e,"EditorContextProvider",{enumerable:!0,get:function(){return a.EditorContextProvider}}),Object.defineProperty(e,"EditorContext",{enumerable:!0,get:function(){return a.EditorContext}});var o=i(editor$1);e.Editor=o.default;var c=i(player$1);e.Player=c.default;var d=i(editor);e.ContextlessEditor=d.default;var h=i(player);e.ContextlessPlayer=h.default,e.default={EditorContextProvider:a.EditorContextProvider,EditorContext:a.EditorContext,Editor:o.default,Player:c.default,ContextlessEditor:d.default,ContextlessPlayer:h.default}})(lib);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ce,fe){return Object.defineProperty?Object.defineProperty(ce,"raw",{value:fe}):ce.raw=fe,ce},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(ce){for(var fe,ae=1,$=arguments.length;ae<$;ae++){fe=arguments[ae];for(var oe in fe)Object.prototype.hasOwnProperty.call(fe,oe)&&(ce[oe]=fe[oe])}return ce},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ce,fe,ae,$){$===void 0&&($=ae);var oe=Object.getOwnPropertyDescriptor(fe,ae);(!oe||("get"in oe?!fe.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return fe[ae]}}),Object.defineProperty(ce,$,oe)}:function(ce,fe,ae,$){$===void 0&&($=ae),ce[$]=fe[ae]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ce,fe){Object.defineProperty(ce,"default",{enumerable:!0,value:fe})}:function(ce,fe){ce.default=fe}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(ce){if(ce&&ce.__esModule)return ce;var fe={};if(ce!=null)for(var ae in ce)ae!=="default"&&Object.prototype.hasOwnProperty.call(ce,ae)&&o(fe,ce,ae);return c(fe,ce),fe};Object.defineProperty(e,"__esModule",{value:!0}),e.H5Player=void 0;var h=jsxRuntimeExports,_=reactExports,ne=d(require$$6$1),f=lib,g=requireContext(),he=provider,_e=Spin,q=utils$3,re=(0,ne.default)("div")(ie||(ie=i([`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`],[`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`])),function(ce){return ce.theme.buttonRadius||0}),ve=function(ce){var fe=ce.uuid,ae=ce.onXAPI,$=ce.onTopicEnd,oe=ce.overwriteFileName,se=oe===void 0?"h5p_overwrite.css":oe,te=ce.h5pObject,b=ce.loading,ge=b===void 0?!1:b,m=ce.className,ue=m===void 0?"":m,be=ce.hideActionButtons,je=(0,_.useContext)(g.EscolaLMSContext),Oe=je.fetchH5P,Le=je.h5p;(0,_.useEffect)(function(){fe&&Oe(fe)},[fe,Oe]);var me=(0,_.useContext)(ne.ThemeContext),Ie=(0,q.getStylesBasedOnTheme)(me.mode,me.white,me.black),ye=(0,q.getStylesBasedOnTheme)(me.mode,me.dm__background,me.background),Pe=(0,q.getStylesBasedOnTheme)(me.mode,"transparent",me.gray5),ke=(0,q.getStylesBasedOnTheme)(me.mode,me.white,me.gray1),Ee=(0,_.useMemo)(function(){var le=`
    @import url("https://fonts.googleapis.com/css2?family=`.concat(me.font,`:wght@400;500;700&display=swap");

    *:not([class^="h5p-icon"]) {
      font-family: `).concat((0,he.getFontFromTheme)(me).fontFamily,`!important;
    }
    button {
      border-radius: `).concat(me.buttonRadius,`px!important;
    }
    input, textarea {
      border-radius: `).concat(me.inputRadius,`px!important;
    }
    .h5p-baq-intro-page {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__secondaryColor,me.secondaryColor,me.primaryColor),` !important;
      color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    }
    .h5p-joubelui-button.mq-control-button {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
      border-bottom: none!important;
      text-shadow: none!important;
      border-radius: `).concat(me.buttonRadius,`px!important;
    }
    .h5p-joubelui-button {
      border-radius: `).concat(me.buttonRadius,`px!important;
    }
    .h5p-baq-intro-page-title {
      text-shadow: none!important;
      color: `).concat(me.white,` !important;
    }
    .h5p-baq {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    }
    .h5p-baq-countdown-text {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    }
    .h5p-baq-countdown-bg.fuel {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-joubelui-progressbar-background {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-baq-alternatives > .h5p-joubelui-button:active, .h5p-baq-alternatives > .h5p-joubelui-button:hover {
      background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
   .odometer-value {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
   }
   .h5p-question {
    background: `).concat(ye,` !important;
    color: `).concat(Ie,`!important;
   }
   .h5peditor .ui-dialog .h5p-joubelui-button, .h5peditor .h5p-joubelui-button, .h5p-joubelui-button {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
   }
   .h5p-crossword-cell.h5p-crossword-cell-empty {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.gray2,me.gray3),` !important;
   }
   .h5p-crossword-input-fields-group-input {
    background:`).concat(Pe,` !important;
    border: 1px solid `).concat(ke,`!important;
    color: `).concat(Ie,` !important;
   }
   .h5p-crossword .h5p-crossword-cell:not(.h5p-crossword-solution-correct):not(.h5p-crossword-solution-wrong):not(.h5p-crossword-solution-neutral).h5p-crossword-highlight-normal {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-crossword .h5p-crossword-input-fields-group-wrapper-clue.h5p-crossword-input-fields-group-clue-highlight-focus .h5p-crossword-input-fields-group-clue-id {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
    color: `).concat(me.white,`!important;
   }
   .h5p-crossword .h5p-crossword-cell.h5p-crossword-highlight-normal .h5p-crossword-cell-canvas {
    color: `).concat(me.white,`!important;
   }
   .h5p-dialogcards {
      background: `).concat(ye,` !important;
      color: `).concat(Ie,`!important;
   }
   .h5p-dialogcards-card-content {
    background: `).concat(ye,` !important;
   }
   .h5p-dialogcards .h5p-audio-minimal-button {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-essay-input-field-textfield {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(ke,`!important;
    color: `).concat(Ie,`!important;
   }
   .h5p-question-feedback-content-text {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-question-explanation-container {
    background: `).concat(ye,` !important;
   }
   .h5p-question-explanation-item {
    background: `).concat(ye,` !important;
   }
   .h5p-accordion .h5p-panel-content {
    color: `).concat(Ie,`!important;
   }
   .h5p-accordion .h5p-panel-title {
    color: `).concat(Ie,`!important;
   }
   .h5p-panel-content h5p-advanced-text {
    color: `).concat(Ie,`!important;
   }
   .h5p-status dt {
    color: `).concat(Ie,`!important;  
   }
   .h5p-status dd {
    color: `).concat(Ie,`!important;  
   }
   .h5p-accordion .h5p-panel-title:before {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-accordion {
    background: `).concat(ye,` !important;
    color: `).concat(Ie,`!important;
   }
   .h5p-panel-title {
    color: `).concat(Ie,`!important;
   }
   .h5p-panel-expanded {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-questionnaire-element.h5p-questionnaire-required .h5p-subcontent-question {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
    color: `).concat(me.white,`!important;
   }
   .h5p-questionnaire-required-symbol {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-questionnaire-progress-bar-current {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    filter: brightness(0.8) !important;
   }
   .h5p-questionnaire-footer {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.gray2,me.gray4),` !important;
    border: none!important;
   }
   .h5p-questionnaire-button, .h5peditor .h5p-questionnaire-button {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    border: none!important;
   }
   .h5p-open-ended-question-input {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(ke,`!important;
    color: `).concat(Ie,`!important;
    width: 100%!important;
    max-width: 100%!important;
   }
   .h5p-open-ended-question-content {
    background: `).concat(ye,` !important;
   }
   .h5p-open-ended-question-question:before {
    background: `).concat(ye,` !important;
   }
   .h5p-questionnaire-progress-bar {
    background: `).concat(me.gray2,` !important;
   }
   .h5p-open-ended-question-question, 
   .h5p-simple-multiple-choice-question, 
   h5p-subcontent-question {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
   }
   .h5p-true-false-answer {
    background: `).concat(ye,`!important;
   }
   .h5p-true-false-answer[aria-checked=true] {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
    color: `).concat(me.white,`!important;
    border: 1px solid `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-true-false-answer:focus {
    box-shadow: 0 0 0 1px `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-alternative-container {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(ke,`!important;
    box-shadow: none!important;
   }
   .h5p-multichoice .h5p-answer[aria-checked="true"] .h5p-alternative-container {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-answer .h5p-alternative-container:before {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.gray4,me.gray2),`!important;
    border-radius: `).concat(me.checkboxRadius,`!important;
   }
   .h5p-question-feedback {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   ul.h5p-sc-alternatives li.h5p-sc-alternative {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(ke,`!important;
    box-shadow: none!important;
   }
   li.h5p-sc-alternative .h5p-sc-progressbar {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
  
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:hover, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:active, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:focus {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,"lime","green"),`!important;
   }
   .h5p-image-hotspot-popup {
    background: `).concat(ye,` !important;
    color: `).concat(Ie,`!important;
   }
   .h5p-image-hotspots {
    background-color: `).concat(ye,` !important;
   }
   .h5p-image-hotspot-popup-pointer {
    border-left: 0.6em solid `).concat(ye,`!important;
   }
   .h5p-image-sequencing {
    background: `).concat(ye,` !important;
    color: `).concat(Ie,`!important;
   }
   .h5p-task-description {
    color: `).concat(Ie,`!important;
   }
   .draggabled .image-desc .text {
    color: `).concat(Ie,`!important;
   }
   .h5p-guess-answer {
    background: `).concat(ye,` !important;
   }
   .h5p-content {
    background: `).concat(ye,` !important;
   }
   .h5p-guess-answer-title {
    color: `).concat(Ie,`!important;
   }
   .show-solution-button {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    color: `).concat(me.white,`!important;
   }
   .solution-text {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-image-slider-progress-element {
    background: transparent !important;
    border: 1px solid `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
    border-radius: `).concat(me.buttonRadius,`px!important;
    width: 9px!important;
    height: 9px!important;
   }
   .h5p-image-slider-current-progress-element {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
   }
   .h5p-memory-reset {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),` !important;
    color: "#fff"!important;
   }
   .h5p-feedback h5p-show {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-memory-game .h5p-memory-top {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.gray2,me.gray4),` !important;
   }
   .h5p-memory-game .h5p-memory-pop {
    background: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.gray1,me.gray3),` !important;
   }
   .h5p-memory-game .h5p-programatically-focusable {
    color: `).concat((0,q.getStylesBasedOnTheme)(me.mode,me.dm__primaryColor,me.primaryColor,me.primaryColor),`!important;
   }
   .h5p-content ul.h5p-actions {
    display: `).concat(be?"none":"block",`;
  }
  `);return"data:text/css;base64,".concat(btoa(le))},[me,be]);return(0,h.jsxs)(re,a({className:"wellms-component ".concat(ue)},{children:[(Le&&Le.loading||ge)&&(0,h.jsx)("div",a({className:"h5p-loading"},{children:(0,h.jsx)(_e.Spin,{})})),(Le.value||te)&&(0,h.jsx)(f.ContextlessPlayer,{state:Le.value||te,onXAPI:function(le){var de,xe;ae==null||ae(le),!((xe=(de=le==null?void 0:le.statement)===null||de===void 0?void 0:de.result)===null||xe===void 0)&&xe.success&&($==null||$())},styles:["".concat(window.location.origin,"/").concat(se),Ee]},Ee)]}))};e.H5Player=ve,e.default=(0,ne.withTheme)((0,ne.default)(e.H5Player)(ee||(ee=i([""],[""]))));var ie,ee})(H5Player);var quizzes={},gfit_quiz={},__assign$c=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$c=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$c.apply(this,arguments)},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,a,o){function c(d){return d instanceof a?d:new a(function(h){h(d)})}return new(a||(a=Promise))(function(d,h){function _(g){try{f(o.next(g))}catch(he){h(he)}}function ne(g){try{f(o.throw(g))}catch(he){h(he)}}function f(g){g.done?d(g.value):c(g.value).then(_,ne)}f((o=o.apply(e,i||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(e,i){var a={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,h;return h={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function _(f){return function(g){return ne([f,g])}}function ne(f){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,c&&(d=f[0]&2?c.return:f[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,f[1])).done)return d;switch(c=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,c=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(d=a.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){a.label=f[1];break}if(f[0]===6&&a.label<d[1]){a.label=d[1],d=f;break}if(d&&a.label<d[2]){a.label=d[2],a.ops.push(f);break}d[2]&&a.ops.pop(),a.trys.pop();continue}f=i.call(e,a)}catch(g){f=[6,g],c=0}finally{o=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gfit_quiz,"__esModule",{value:!0});gfit_quiz.quizAttemptFinish=gfit_quiz.getQuizAttempt=gfit_quiz.getQuizAttempts=gfit_quiz.quizAnswer=gfit_quiz.quizAttempt=void 0;var umi_request_1=__importDefault$8(require$$0$1),utils_1$7=utils$4;function quizAttempt(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"POST",data:a,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.quizAttempt=quizAttempt;function quizAnswer(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-answers"),__assign$c({method:"POST",data:a,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.quizAnswer=quizAnswer;function getQuizAttempts(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"GET",params:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.getQuizAttempts=getQuizAttempts;function getQuizAttempt(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(a),__assign$c({method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.getQuizAttempt=getQuizAttempt;function quizAttemptFinish(e,i,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(a,"/end"),__assign$c({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},o||{}))]})})}gfit_quiz.quizAttemptFinish=quizAttemptFinish;var GiftQuizPlayerContent={},MultipleChoice$1={},DefaultQuestionLayout$1={},__makeTemplateObject$a=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$b=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$b=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$b.apply(this,arguments)},__createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$a(i,e,a);return __setModuleDefault$a(i,e),i},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)i.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(a[o[c]]=e[o[c]]);return a};Object.defineProperty(DefaultQuestionLayout$1,"__esModule",{value:!0});var jsx_runtime_1$b=jsxRuntimeExports,react_1$3=reactExports,react_transition_group_1=require$$2$3,styled_components_1$a=__importStar$a(require$$6$1),__1$a=requireLib(),RelativeText=(0,styled_components_1$a.default)(__1$a.Text)(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  position: relative;
  width: max-content;
`],[`
  position: relative;
  width: max-content;
`]))),scoreBackgrounds=function(e,i){switch(e){case"positive":return i.positive;case"negative":return i.dm__errorColor;default:return i.primaryColor}},ScoreIndicator=styled_components_1$a.default.span(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$a([`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`],[`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`])),function(e){var i=e.theme,a=e.$scoreState;return scoreBackgrounds(a,i)}),LeftPaddingStack=(0,styled_components_1$a.default)(__1$a.Stack)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$a([`
  padding-left: 12px;
`],[`
  padding-left: 12px;
`])));function determineResultScoreState(e){if(e){if(e>0)return"positive";if(e<0)return"negative"}else return"neutral";return"neutral"}var resultScoreSign={positive:"+",neutral:"",negative:"-"},DefaultQuestionLayout=function(e){var i=e.title,a=e.question,o=e.children,c=e.showScore,d=e.resultScore,h=__rest(e,["title","question","children","showScore","resultScore"]),_=determineResultScoreState(d),ne=(0,react_1$3.useRef)(null);return(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({},h,{$gap:6},{children:[(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({$gap:2},{children:[i&&(0,jsx_runtime_1$b.jsx)(__1$a.Title,__assign$b({level:"2"},{children:i})),(0,jsx_runtime_1$b.jsxs)(RelativeText,{children:[a,(0,jsx_runtime_1$b.jsx)(react_transition_group_1.CSSTransition,__assign$b({in:c,nodeRef:ne,timeout:200,classNames:"fade",unmountOnExit:!0},{children:(0,jsx_runtime_1$b.jsx)(ScoreIndicator,__assign$b({ref:ne,$scoreState:_},{children:"".concat(resultScoreSign[_]).concat(d??0)}))}))]})]})),(0,jsx_runtime_1$b.jsx)(LeftPaddingStack,__assign$b({$gap:4},{children:o}))]}))};DefaultQuestionLayout$1.default=(0,styled_components_1$a.withTheme)((0,styled_components_1$a.default)(DefaultQuestionLayout)(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$a([""],[""]))));var templateObject_1$a,templateObject_2$3,templateObject_3$3,templateObject_4$1,__makeTemplateObject$9=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$a=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$a=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$a.apply(this,arguments)},__createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$9(i,e,a);return __setModuleDefault$9(i,e),i},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoice$1,"__esModule",{value:!0});var jsx_runtime_1$a=jsxRuntimeExports,__1$9=requireLib(),utils_1$6=utils$3,DefaultQuestionLayout_1$6=__importDefault$7(DefaultQuestionLayout$1),styled_components_1$9=__importStar$9(require$$6$1),MultipleChoice=function(e){var i=e.question,a=e.id,o=e.options,c=e.title,d=e.onChange,h=e.onBlur,_=e.value,ne=e.hasQuizEnded,f=e.resultScore;return(0,jsx_runtime_1$a.jsx)(DefaultQuestionLayout_1$6.default,__assign$a({"data-testid":"multiple-choice-".concat(i),title:c,question:i,resultScore:f,showScore:ne},{children:o==null?void 0:o.answers.map(function(g){return(0,jsx_runtime_1$a.jsx)(__1$9.Radio,{label:g,id:(0,utils_1$6.getUniqueId)(g),value:g,disabled:ne,name:"".concat(a),checked:_===g,onChange:d,onBlur:h},g)})}))};MultipleChoice$1.default=(0,styled_components_1$9.withTheme)((0,styled_components_1$9.default)(MultipleChoice)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([""],[""]))));var templateObject_1$9,MultipleChoiceWithMultipleRightAnswers$1={},__makeTemplateObject$8=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$9.apply(this,arguments)},__createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$8(i,e,a);return __setModuleDefault$8(i,e),i},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoiceWithMultipleRightAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$9=jsxRuntimeExports,__1$8=requireLib(),utils_1$5=utils$3,DefaultQuestionLayout_1$5=__importDefault$6(DefaultQuestionLayout$1),styled_components_1$8=__importStar$8(require$$6$1),MultipleChoiceWithMultipleRightAnswers=function(e){var i=e.id,a=e.question,o=e.title,c=e.options,d=e.onChange,h=e.onBlur,_=e.values,ne=e.hasQuizEnded,f=e.resultScore,g=function(he){var _e;return(_e=Object.entries(_).find(function(q){var re=q[0];return re===he}))===null||_e===void 0?void 0:_e[1]};return(0,jsx_runtime_1$9.jsx)(DefaultQuestionLayout_1$5.default,__assign$9({"data-testid":"multiple-choice-multiple-right-".concat(a),title:o,question:a,resultScore:f,showScore:ne},{children:c==null?void 0:c.answers.map(function(he){return(0,jsx_runtime_1$9.jsx)(__1$8.Checkbox,{label:he,disabled:ne,id:(0,utils_1$5.getUniqueId)(he),value:he,name:"".concat(i,".").concat(he),checked:g(he),onChange:d,onBlur:h},he)})}))};MultipleChoiceWithMultipleRightAnswers$1.default=(0,styled_components_1$8.withTheme)((0,styled_components_1$8.default)(MultipleChoiceWithMultipleRightAnswers)(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([""],[""]))));var templateObject_1$8,TrueFalse$1={},__makeTemplateObject$7=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$8.apply(this,arguments)},__createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$7(i,e,a);return __setModuleDefault$7(i,e),i},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TrueFalse$1,"__esModule",{value:!0});var jsx_runtime_1$8=jsxRuntimeExports,__1$7=requireLib(),utils_1$4=utils$3,DefaultQuestionLayout_1$4=__importDefault$5(DefaultQuestionLayout$1),styled_components_1$7=__importStar$7(require$$6$1),inputs=[{value:"true",label:"True"},{value:"false",label:"False"}],TrueFalse=function(e){var i=e.question,a=e.id,o=e.title,c=e.onChange,d=e.onBlur,h=e.value,_=e.hasQuizEnded,ne=e.resultScore;return(0,jsx_runtime_1$8.jsx)(DefaultQuestionLayout_1$4.default,__assign$8({"data-testid":"true-false-".concat(i),title:o,question:i,resultScore:ne,showScore:_},{children:inputs.map(function(f){return(0,jsx_runtime_1$8.jsx)(__1$7.Radio,{label:f.label,disabled:_,id:(0,utils_1$4.getUniqueId)(f.label),value:f.value,name:"".concat(a),checked:h===f.value,onChange:c,onBlur:d},f.value)})}))};TrueFalse$1.default=(0,styled_components_1$7.withTheme)((0,styled_components_1$7.default)(TrueFalse)(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([""],[""]))));var templateObject_1$7,ShortAnswers$1={},__makeTemplateObject$6=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$7.apply(this,arguments)},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$6(i,e,a);return __setModuleDefault$6(i,e),i},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ShortAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$7=jsxRuntimeExports,react_i18next_1$4=require$$3,__1$6=requireLib(),utils_1$3=utils$3,DefaultQuestionLayout_1$3=__importDefault$4(DefaultQuestionLayout$1),styled_components_1$6=__importStar$6(require$$6$1),ShortAnswers=function(e){var i=e.question,a=e.title,o=e.id,c=e.onChange,d=e.onBlur,h=e.value,_=e.hasQuizEnded,ne=e.resultScore,f=(0,react_i18next_1$4.useTranslation)().t;return(0,jsx_runtime_1$7.jsx)(DefaultQuestionLayout_1$3.default,__assign$7({"data-testid":"short-answers-".concat(i),title:a,question:i,resultScore:ne,showScore:_},{children:(0,jsx_runtime_1$7.jsx)(__1$6.Input,{placeholder:f("Quiz.TypeAnswer"),id:(0,utils_1$3.getUniqueId)("ShortAnswers-".concat(o)),name:"".concat(o),disabled:_,value:h,onChange:c,onBlur:d})}))};ShortAnswers$1.default=(0,styled_components_1$6.withTheme)((0,styled_components_1$6.default)(ShortAnswers)(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([""],[""]))));var templateObject_1$6,Matching$1={},bezierLine={},__assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$6.apply(this,arguments)};Object.defineProperty(bezierLine,"__esModule",{value:!0});bezierLine.BezierLine=void 0;var jsx_runtime_1$6=jsxRuntimeExports,BezierLine=function(e){var i=e.x1,a=e.y1,o=e.x2,c=e.y2,d=(a+c)/2,h=(i+o)/4,_="M ".concat(i," ").concat(a," Q ").concat(h," ").concat(a,", ").concat(2*h," ").concat(d," T ").concat(o," ").concat(c);return(0,jsx_runtime_1$6.jsx)("svg",__assign$6({fill:"none",style:{position:"absolute",width:"100%",height:"100%"}},{children:(0,jsx_runtime_1$6.jsx)("path",{d:_,stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}))};bezierLine.BezierLine=BezierLine;var __makeTemplateObject$5=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$5.apply(this,arguments)},__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$5(i,e,a);return __setModuleDefault$5(i,e),i},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Matching$1,"__esModule",{value:!0});var jsx_runtime_1$5=jsxRuntimeExports,react_1$2=reactExports,__1$5=requireLib(),styled_components_1$5=__importStar$5(require$$6$1),bezierLine_1=bezierLine,DefaultQuestionLayout_1$2=__importDefault$3(DefaultQuestionLayout$1),utils_1$2=utils$3,chroma_js_1=__importDefault$3(chromaExports),MatcherWrapper=styled_components_1$5.default.div(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  position: relative;
`],[`
  position: relative;
`]))),StyledRow=(0,styled_components_1$5.default)(__1$5.Row)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$5([`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`],[`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`])),function(e){var i=e.theme;return(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),circle=(0,styled_components_1$5.css)(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$5([`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`],[`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`])),function(e){var i=e.theme;return(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__cardBackgroundColor,i.cardBackgroundColor)}),StartCircle=styled_components_1$5.default.div(templateObject_4||(templateObject_4=__makeTemplateObject$5([`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,a=e.checked;return a?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),EndCircle=styled_components_1$5.default.div(templateObject_5||(templateObject_5=__makeTemplateObject$5([`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,a=e.checked;return a?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),OptionListItem=styled_components_1$5.default.li(templateObject_6||(templateObject_6=__makeTemplateObject$5([`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`],[`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`])),function(e){var i=e.theme,a=e.checked;return a?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()},function(e){var i=e.disabled;return i?"default":"pointer"},function(e){var i=e.disabled;return i?"none":"all"},function(e){var i=e.disabled;return i?"0.5":"1"}),getDefaultValues=function(e,i){var a;return(a=e??[])===null||a===void 0?void 0:a.map(function(o){return{startOption:{name:o,x:0,y:0},endOption:i[o]?{name:i[o],x:0,y:0}:null}})},createStartOptionObj=function(e){return e.reduce(function(i,a){var o;return __assign$5(__assign$5({},i),(o={},o[a.id]={name:a.id,x:a==null?void 0:a.offsetWidth,y:(a==null?void 0:a.offsetTop)+(a==null?void 0:a.offsetHeight)/2},o))},{})},createEndOptionObj=function(e,i){return e.reduce(function(a,o){var c;return __assign$5(__assign$5({},a),(c={},c[o.id]={name:o.id,x:i.offsetWidth-o.offsetWidth,y:o.offsetTop+o.offsetHeight/2},c))},{})},Matching=function(e){var i=e.question,a=e.options,o=e.onChange,c=e.title,d=e.values,h=e.hasQuizEnded,_=e.resultScore,ne=(0,react_1$2.useState)(null),f=ne[0],g=ne[1],he=(0,react_1$2.useState)(getDefaultValues(a==null?void 0:a.sub_questions,d)),_e=he[0],q=he[1],re=(0,react_1$2.useRef)(null),ve=(0,react_1$2.useRef)(null),ie=(0,react_1$2.useRef)(null),ee=(0,react_1$2.useCallback)(function(ae){return function($){if(!h){var oe={name:ae,x:$.currentTarget.offsetWidth,y:$.currentTarget.offsetTop+$.currentTarget.offsetHeight/2};g(oe),q(function(se){return se.map(function(te){return te.startOption.name===ae?{startOption:oe,endOption:te.endOption}:te})})}}},[h]),ce=(0,react_1$2.useCallback)(function(ae){return function($){if(re.current&&!h){var oe={name:ae,x:re.current.offsetWidth-$.currentTarget.offsetWidth,y:$.currentTarget.offsetTop+$.currentTarget.offsetHeight/2};q(function(se){return se.map(function(te){var b=te.startOption,ge=te.endOption;return b.name===(f==null?void 0:f.name)?{startOption:b,endOption:oe}:{startOption:b,endOption:ge}})}),g(null)}}},[h,f==null?void 0:f.name]),fe=(0,react_1$2.useCallback)(function(){if(ve.current&&ie.current&&re.current){var ae=Array.from(ve.current.children),$=Array.from(ie.current.children),oe=createStartOptionObj(ae),se=createEndOptionObj($,re.current);q(function(te){return te.map(function(b){var ge=b.startOption,m=b.endOption;return{startOption:oe[ge.name],endOption:m!=null&&m.name?se[m.name]:m}})})}},[]);return(0,react_1$2.useEffect)(function(){o({matching:_e.reduce(function(ae,$){var oe,se,te;return __assign$5(__assign$5({},ae),(oe={},oe[$.startOption.name]=(te=(se=$.endOption)===null||se===void 0?void 0:se.name)!==null&&te!==void 0?te:"",oe))},{})})},[_e]),(0,react_1$2.useEffect)(function(){var ae=Object.values(d).length===0;ae&&q(getDefaultValues(a.sub_questions,d))},[a,d]),(0,react_1$2.useEffect)(function(){fe()},[fe]),(0,jsx_runtime_1$5.jsx)(DefaultQuestionLayout_1$2.default,__assign$5({"data-testid":"matching-".concat(i),title:c,question:i,resultScore:_,showScore:h},{children:(0,jsx_runtime_1$5.jsx)(MatcherWrapper,__assign$5({ref:re},{children:(0,jsx_runtime_1$5.jsxs)(StyledRow,__assign$5({$justifyContent:"space-between"},{children:[(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:ve},{children:a==null?void 0:a.sub_questions.map(function(ae){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({className:ae,id:ae,disabled:h,onClick:ee(ae),checked:(f==null?void 0:f.name)===ae},{children:[(0,jsx_runtime_1$5.jsx)(StartCircle,{checked:(f==null?void 0:f.name)===ae}),ae]}),ae)})})),_e.map(function(ae,$){return ae.endOption&&(0,jsx_runtime_1$5.jsx)(bezierLine_1.BezierLine,{x1:ae.startOption.x,x2:ae.endOption.x,y1:ae.startOption.y,y2:ae.endOption.y},$)}),(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:ie},{children:a==null?void 0:a.sub_answers.map(function(ae){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({id:ae,className:ae,disabled:h,onClick:ce(ae)},{children:[(0,jsx_runtime_1$5.jsx)(EndCircle,{}),ae]}),ae)})}))]}))}))}))};Matching$1.default=(0,styled_components_1$5.withTheme)((0,styled_components_1$5.default)(Matching)(templateObject_7||(templateObject_7=__makeTemplateObject$5([""],[""]))));var templateObject_1$5,templateObject_2$2,templateObject_3$2,templateObject_4,templateObject_5,templateObject_6,templateObject_7,NumericalQuestion$1={},__makeTemplateObject$4=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$4.apply(this,arguments)},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$4(i,e,a);return __setModuleDefault$4(i,e),i},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NumericalQuestion$1,"__esModule",{value:!0});var jsx_runtime_1$4=jsxRuntimeExports,react_i18next_1$3=require$$3,__1$4=requireLib(),utils_1$1=utils$3,DefaultQuestionLayout_1$1=__importDefault$2(DefaultQuestionLayout$1),styled_components_1$4=__importStar$4(require$$6$1),NumericalQuestion=function(e){var i=e.id,a=e.question,o=e.title,c=e.onBlur,d=e.onChange,h=e.value,_=e.hasQuizEnded,ne=e.resultScore,f=(0,react_i18next_1$3.useTranslation)().t;return(0,jsx_runtime_1$4.jsx)(DefaultQuestionLayout_1$1.default,__assign$4({"data-testid":"numerical-question-".concat(a),title:o,question:a,resultScore:ne,showScore:_},{children:(0,jsx_runtime_1$4.jsx)(__1$4.Input,{placeholder:f("Quiz.TypeNumber"),type:"number",name:"".concat(i),id:(0,utils_1$1.getUniqueId)("Numerical-".concat(i)),disabled:_,value:h,onChange:d,onBlur:c})}))};NumericalQuestion$1.default=(0,styled_components_1$4.withTheme)((0,styled_components_1$4.default)(NumericalQuestion)(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([""],[""]))));var templateObject_1$4,Essay$1={},__makeTemplateObject$3=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$3.apply(this,arguments)},__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$3(i,e,a);return __setModuleDefault$3(i,e),i},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Essay$1,"__esModule",{value:!0});var jsx_runtime_1$3=jsxRuntimeExports,react_i18next_1$2=require$$3,__1$3=requireLib(),utils_1=utils$3,DefaultQuestionLayout_1=__importDefault$1(DefaultQuestionLayout$1),styled_components_1$3=__importStar$3(require$$6$1),Essay=function(e){var i=e.id,a=e.title,o=e.question,c=e.onChange,d=e.onBlur,h=e.value,_=e.hasQuizEnded,ne=e.resultScore,f=(0,react_i18next_1$2.useTranslation)().t;return(0,jsx_runtime_1$3.jsx)(DefaultQuestionLayout_1.default,__assign$3({"data-testid":"essay-".concat(o),title:a,question:o,resultScore:ne,showScore:_},{children:(0,jsx_runtime_1$3.jsx)(__1$3.TextArea,{placeholder:f("Quiz.TypeAnswer"),name:"".concat(i),disabled:_,id:(0,utils_1.getUniqueId)("Essay-".concat(i)),value:h,onChange:c,onBlur:d})}))};Essay$1.default=(0,styled_components_1$3.withTheme)((0,styled_components_1$3.default)(Essay)(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([""],[""]))));var templateObject_1$3,Description$1={},__makeTemplateObject$2=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$2.apply(this,arguments)},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$2(i,e,a);return __setModuleDefault$2(i,e),i};Object.defineProperty(Description$1,"__esModule",{value:!0});var jsx_runtime_1$2=jsxRuntimeExports,__1$2=requireLib(),styled_components_1$2=__importStar$2(require$$6$1),Description=function(e){var i=e.title,a=e.question;return(0,jsx_runtime_1$2.jsxs)(__1$2.Stack,__assign$2({"data-testid":"description-".concat(a),$gap:2},{children:[i&&(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({weight:"bold",size:"lg"},{children:i})),(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({family:"secondary",weight:"semiBold"},{children:a}))]}))};Description$1.default=(0,styled_components_1$2.withTheme)((0,styled_components_1$2.default)(Description)(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([""],[""]))));var templateObject_1$2,GiftQuizScore$1={},__makeTemplateObject$1=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$1.apply(this,arguments)},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding$1(i,e,a);return __setModuleDefault$1(i,e),i};Object.defineProperty(GiftQuizScore$1,"__esModule",{value:!0});var jsx_runtime_1$1=jsxRuntimeExports,react_1$1=reactExports,react_i18next_1$1=require$$3,styled_components_1$1=__importStar$1(require$$6$1),__1$1=requireLib(),Wrapper$1=(0,styled_components_1$1.default)(__1$1.Row)(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`],[`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`])),function(e){var i=e.theme;return i.primaryColor}),Progress=styled_components_1$1.default.span(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$1([`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`],[`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`])),function(e){var i=e.theme;return i.secondaryColor},function(e){var i=e.$percentage;return i*52},function(e){var i=e.theme;return i.primaryColor}),GiftQuizScore=function(e){var i=e.result,a=e.max,o=(0,react_i18next_1$1.useTranslation)().t,c=(0,react_1$1.useMemo)(function(){var d=(i??0)/(a??0);return Number.isNaN(d)?0:d},[a,i]);return(0,jsx_runtime_1$1.jsxs)(Wrapper$1,__assign$1({"data-testid":"gift-quiz-score",$gap:12,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(__1$1.Row,__assign$1({$gap:6,$alignItems:"center"},{children:(0,jsx_runtime_1$1.jsx)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:o("Quiz.YourScore")}))})),(0,jsx_runtime_1$1.jsxs)(__1$1.Row,__assign$1({$gap:8,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(Progress,{$percentage:c}),(0,jsx_runtime_1$1.jsxs)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:[i,"/",a]}))]}))]}))};GiftQuizScore$1.default=(0,styled_components_1$1.withTheme)((0,styled_components_1$1.default)(GiftQuizScore)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$1([""],[""]))));var templateObject_1$1,templateObject_2$1,templateObject_3$1;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(Ae,we){return Object.defineProperty?Object.defineProperty(Ae,"raw",{value:we}):Ae.raw=we,Ae},a=commonjsGlobal&&commonjsGlobal.__assign||function(){return a=Object.assign||function(Ae){for(var we,$e=1,Me=arguments.length;$e<Me;$e++){we=arguments[$e];for(var Ne in we)Object.prototype.hasOwnProperty.call(we,Ne)&&(Ae[Ne]=we[Ne])}return Ae},a.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ae,we,$e,Me){Me===void 0&&(Me=$e);var Ne=Object.getOwnPropertyDescriptor(we,$e);(!Ne||("get"in Ne?!we.__esModule:Ne.writable||Ne.configurable))&&(Ne={enumerable:!0,get:function(){return we[$e]}}),Object.defineProperty(Ae,Me,Ne)}:function(Ae,we,$e,Me){Me===void 0&&(Me=$e),Ae[Me]=we[$e]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ae,we){Object.defineProperty(Ae,"default",{enumerable:!0,value:we})}:function(Ae,we){Ae.default=we}),d=commonjsGlobal&&commonjsGlobal.__importStar||function(Ae){if(Ae&&Ae.__esModule)return Ae;var we={};if(Ae!=null)for(var $e in Ae)$e!=="default"&&Object.prototype.hasOwnProperty.call(Ae,$e)&&o(we,Ae,$e);return c(we,Ae),we},h=commonjsGlobal&&commonjsGlobal.__spreadArray||function(Ae,we,$e){if($e||arguments.length===2)for(var Me=0,Ne=we.length,Ve;Me<Ne;Me++)(Ve||!(Me in we))&&(Ve||(Ve=Array.prototype.slice.call(we,0,Me)),Ve[Me]=we[Me]);return Ae.concat(Ve||Array.prototype.slice.call(we))},_=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}};Object.defineProperty(e,"__esModule",{value:!0}),e.GiftQuizPlayerContent=void 0;var ne=reactExports,f=jsxRuntimeExports,g=d(reactExports),he=require$$3,_e=d(require$$6$1),q=require$$1$1,re=lib$3,ve=react$1,ie=gfit_quiz,ee=requireLib(),ce=_(MultipleChoice$1),fe=_(MultipleChoiceWithMultipleRightAnswers$1),ae=_(TrueFalse$1),$=_(ShortAnswers$1),oe=_(Matching$1),se=_(NumericalQuestion$1),te=_(Essay$1),b=_(Description$1),ge=_(GiftQuizScore$1),m=_e.default.form(Ee||(Ee=i([`
  display: flex;
  flex-direction: column;
  gap: 16px;
`],[`
  display: flex;
  flex-direction: column;
  gap: 16px;
`]))),ue=(0,_e.default)(ee.Row)(le||(le=i([`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`],[`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`])),function(Ae){var we=Ae.theme;return we.primaryColor}),be=(0,_e.default)(ee.Button)(de||(de=i([`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`],[`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`])),function(Ae){var we=Ae.theme;return we.primaryColor},function(Ae){var we=Ae.theme;return we.secondaryColor});function je(Ae){return typeof(Ae==null?void 0:Ae.text)=="string"}function Oe(Ae){return Array.isArray(Ae==null?void 0:Ae.multiple)}function Le(Ae){return typeof(Ae==null?void 0:Ae.numeric)=="number"}function me(Ae){return typeof(Ae==null?void 0:Ae.bool)=="boolean"}function Ie(Ae){return typeof(Ae==null?void 0:Ae.matching)=="object"}var ye=function(Ae,we){var $e=function(Me){var Ne;return(Ne=we==null?void 0:we.find(function(Ve){return Ve.topic_gift_question_id===Me}))===null||Ne===void 0?void 0:Ne.answer};return Ae.reduce(function(Me,Ne){var Ve,Je,nt,Qe,tt,Ge=Ne.id,qe=Ne.type,Se=Ne.options,Ce=$e(Ge);switch(qe){case re.API.QuestionType.ESSAY:case re.API.QuestionType.SHORT_ANSWERS:case re.API.QuestionType.MULTIPLE_CHOICE:var Be=je(Ce)?Ce.text:"";return a(a({},Me),(Ve={},Ve["".concat(Ge)]=Be,Ve));case re.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:var ze=Oe(Ce)?Ce.multiple:[];return a(a({},Me),(Je={},Je["".concat(Ge)]=Se.answers.reduce(function(Fe,ct){var dt;return a(a({},Fe),(dt={},dt[ct]=ze.includes(ct),dt))},{}),Je));case re.API.QuestionType.NUMERICAL_QUESTION:var et=Le(Ce)?"".concat(Ce.numeric):"";return a(a({},Me),(nt={},nt["".concat(Ge)]=et,nt));case re.API.QuestionType.TRUE_FALSE:var at=me(Ce)?Ce.bool?"true":"false":"";return a(a({},Me),(Qe={},Qe["".concat(Ge)]=at,Qe));case re.API.QuestionType.MATCHING:var st=Ie(Ce)?Ce.matching:{};return a(a({},Me),(tt={},tt["".concat(Ge)]=st,tt));default:return Me}},{})};function Pe(Ae){var we=(0,g.useContext)(ve.EscolaLMSContext),$e=we.token,Me=we.apiUrl,Ne=(0,g.useState)({loading:!1,count:0,tooltipOpen:!1}),Ve=Ne[0],Je=Ne[1],nt=(0,g.useCallback)(function(){$e&&Ae&&(0,ie.getQuizAttempts)(Me,$e,{topic_gift_quiz_id:Ae}).then(function(Qe){Qe.success&&Je(function(tt){return a(a({},tt),{count:Qe.meta.total,tooltipOpen:!0})})}).finally(function(){Je(function(Qe){return a(a({},Qe),{loading:!1})})})},[Me,Ae,$e]);return(0,g.useMemo)(function(){return{attempts:Ve,refreshAttemptsCount:nt,closeTooltip:function(){return Je(function(Qe){return a(a({},Qe),{tooltipOpen:!1})})}}},[Ve,nt])}var ke=function(Ae){var we=Ae.attempt,$e=Ae.startQuiz,Me=Ae.endQuiz,Ne=Ae.sendAnswer,Ve=(0,he.useTranslation)().t,Je=Pe(we.topic_gift_quiz_id),nt=Je.attempts,Qe=Je.refreshAttemptsCount,tt=Je.closeTooltip,Ge=(0,g.useMemo)(function(){return ye(we.questions,we.answers)},[we.questions,we.answers]),qe=(0,g.useCallback)(function(Se){var Ce;return(Ce=we.answers.find(function(Be){var ze=Be.topic_gift_question_id;return ze===Se}))===null||Ce===void 0?void 0:Ce.score},[we.answers]);return(0,f.jsx)(q.Formik,a({enableReinitialize:!0,initialValues:Ge,onSubmit:function(){Me(we.id),Qe()}},{children:function(Se){var Ce=Se.handleSubmit,Be=Se.handleChange,ze=Se.values,et=Se.handleBlur,at=Se.resetForm,st=Se.setFieldValue;return(0,f.jsxs)(m,a({onSubmit:Ce,"data-testid":"gift-quiz-player-content",className:"quiz__questions-form"},{children:[(0,f.jsxs)(ee.Stack,a({$gap:8},{children:[(0,f.jsxs)(ee.Row,a({$justifyContent:"space-between"},{children:[(0,f.jsx)(ee.Title,a({className:"quiz__title"},{children:Ve("Quiz.Questions")})),(0,f.jsx)(ee.Row,a({$gap:24,$alignItems:"center"},{children:we!=null&&we.is_ended?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ge.default,{result:we==null?void 0:we.result_score,max:we==null?void 0:we.max_score}),(0,f.jsx)(ee.Button,a({type:"button",onClick:function(){$e(),at()}},{children:Ve("Quiz.Retry")}))]}):(0,f.jsxs)(f.Fragment,{children:[(we==null?void 0:we.end_at)&&(0,f.jsx)(ee.Countdown,{targetDate:String(we==null?void 0:we.end_at),onCountdownEnd:function(){return Me(we==null?void 0:we.id)}}),(0,f.jsx)(ee.Button,a({type:"submit",mode:"primary"},{children:Ve("Quiz.Submit")}))]})}))]})),nt.tooltipOpen&&(0,f.jsxs)(ue,a({$alignItems:"center",$justifyContent:"space-between"},{children:[Ve("Quiz.YouHaveMade")," ".concat(nt.count," "),Ve("Quiz.Attempts"),(0,f.jsx)(be,{onClick:tt})]}))]})),we.questions.map(function(Fe){switch(Fe.type){case re.API.QuestionType.MULTIPLE_CHOICE:return(0,ne.createElement)(ce.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){Be(ct),Ne(Fe.id,{text:ct.target.value})},onBlur:et,value:ze["".concat(Fe.id)],hasQuizEnded:we==null?void 0:we.is_ended,resultScore:qe(Fe.id)}));case re.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:return(0,ne.createElement)(fe.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){Be(ct);var dt=ct.target.value,Pt=ct.target.checked,At=Object.entries(ze["".concat(Fe.id)]).reduce(function(Ct,mt){var gt=mt[0],Tt=mt[1];return gt===dt?Pt?h(h([],Ct,!0),[dt],!1):Ct:Tt?h(h([],Ct,!0),[gt],!1):Ct},[]);Ne(Fe.id,{multiple:At})},onBlur:et,values:ze["".concat(Fe.id)],hasQuizEnded:we==null?void 0:we.is_ended,resultScore:qe(Fe.id)}));case re.API.QuestionType.TRUE_FALSE:return(0,ne.createElement)(ae.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){Be(ct),Ne(Fe.id,{bool:ct.target.value==="true"})},onBlur:et,value:ze["".concat(Fe.id)],hasQuizEnded:we==null?void 0:we.is_ended,resultScore:qe(Fe.id)}));case re.API.QuestionType.SHORT_ANSWERS:return(0,ne.createElement)($.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){Be(ct),Ne(Fe.id,{text:ct.target.value})},onBlur:et,value:ze["".concat(Fe.id)],resultScore:qe(Fe.id),hasQuizEnded:we==null?void 0:we.is_ended}));case re.API.QuestionType.MATCHING:return(0,ne.createElement)(oe.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){st("".concat(Fe.id),ct),Ne(Fe.id,ct)},values:ze["".concat(Fe.id)],resultScore:qe(Fe.id),hasQuizEnded:we==null?void 0:we.is_ended}));case re.API.QuestionType.NUMERICAL_QUESTION:return(0,ne.createElement)(se.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){Be(ct),Ne(Fe.id,{numeric:+ct.target.value})},onBlur:et,value:ze["".concat(Fe.id)],resultScore:qe(Fe.id),hasQuizEnded:we==null?void 0:we.is_ended}));case re.API.QuestionType.ESSAY:return(0,ne.createElement)(te.default,a({},Fe,{key:Fe.type+Fe.id,onChange:function(ct){Be(ct),Ne(Fe.id,{text:ct.target.value})},onBlur:et,value:ze["".concat(Fe.id)],resultScore:qe(Fe.id),hasQuizEnded:we==null?void 0:we.is_ended}));case re.API.QuestionType.DESCRIPTION:return(0,ne.createElement)(b.default,a({},Fe,{key:Fe.type+Fe.id}));default:return(0,f.jsx)(g.default.Fragment,{})}})]}))}}))};e.GiftQuizPlayerContent=ke,e.default=(0,_e.withTheme)((0,_e.default)(e.GiftQuizPlayerContent)(xe||(xe=i([""],[""]))));var Ee,le,de,xe})(GiftQuizPlayerContent);var __makeTemplateObject=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,a,o){o===void 0&&(o=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,o,c)}:function(e,i,a,o){o===void 0&&(o=a),e[o]=i[a]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(i,e,a);return __setModuleDefault(i,e),i},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(quizzes,"__esModule",{value:!0});var jsx_runtime_1=jsxRuntimeExports,react_1=reactExports,react_i18next_1=require$$3,styled_components_1=__importStar(require$$6$1),gfit_quiz_1=gfit_quiz,react_2=react$1,__1=requireLib(),GiftQuizPlayerContent_1=__importDefault(GiftQuizPlayerContent),Wrapper=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  & > .spinner__overlay {
    min-height: 529px;
  }
`],[`
  & > .spinner__overlay {
    min-height: 529px;
  }
`]))),StartButtonWrapper=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`],[`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`])));function useQuiz(e,i){var a,o,c,d=(0,react_1.useState)({loading:!1}),h=d[0],_=d[1],ne=(0,react_1.useContext)(react_2.EscolaLMSContext),f=ne.token,g=ne.apiUrl,he=(0,react_1.useRef)(i),_e=(0,react_1.useCallback)(function(){e&&f&&(_(function(ie){return __assign(__assign({},ie),{loading:!0})}),(0,gfit_quiz_1.quizAttempt)(g,f,{topic_gift_quiz_id:e}).then(function(ie){ie.success?_(function(ee){return __assign(__assign({},ee),{value:ie.data})}):_(function(ee){return __assign(__assign({},ee),{error:ie})})}).catch(function(ie){_(function(ee){return __assign(__assign({},ee),{error:ie})})}).finally(function(){_(function(ie){return __assign(__assign({},ie),{loading:!1})})}))},[e,g,f]),q=(0,react_1.useCallback)(function(ie){f&&(0,gfit_quiz_1.quizAttemptFinish)(g,f,ie).then(function(ee){var ce;ee.success&&(_(function(fe){return __assign(__assign({},fe),{value:ee.data})}),(ce=he.current)===null||ce===void 0||ce.call(he))})},[f,g]),re=(0,react_1.useCallback)(function(ie,ee){var ce,fe;!((ce=h==null?void 0:h.value)===null||ce===void 0)&&ce.id&&f&&!(!((fe=h==null?void 0:h.value)===null||fe===void 0)&&fe.is_ended)&&(0,gfit_quiz_1.quizAnswer)(g,f,{topic_gift_question_id:ie,topic_gift_quiz_attempt_id:h.value.id,answer:ee})},[f,g,(a=h==null?void 0:h.value)===null||a===void 0?void 0:a.id,(o=h==null?void 0:h.value)===null||o===void 0?void 0:o.is_ended]),ve=(0,react_1.useCallback)(function(ie){var ee,ce;return(ce=(ee=h.value)===null||ee===void 0?void 0:ee.answers)===null||ce===void 0?void 0:ce.find(function(fe){return(fe==null?void 0:fe.topic_gift_question_id)===ie})},[(c=h.value)===null||c===void 0?void 0:c.answers]);return(0,react_1.useMemo)(function(){return{data:h,startQuiz:_e,sendAnswer:re,getQuestionAnswerObj:ve,endQuiz:q}},[h,re,ve,_e,q])}var GiftQuizPlayer=function(e){var i=e.topic,a=e.className,o=e.onTopicEnd,c=(0,react_i18next_1.useTranslation)().t,d=useQuiz(i.topicable.id,o),h=d.data,_=d.startQuiz,ne=d.sendAnswer,f=d.endQuiz;return(0,jsx_runtime_1.jsxs)(Wrapper,__assign({"data-testid":"gift-quiz-player",className:a},{children:[!h.value&&!h.loading&&(0,jsx_runtime_1.jsx)(StartButtonWrapper,{children:(0,jsx_runtime_1.jsx)(__1.Button,__assign({mode:"secondary",type:"button",onClick:_},{children:c("Quiz.Start")}))}),h.loading&&!h.value&&(0,jsx_runtime_1.jsx)(__1.Spin,{}),h.value&&(0,jsx_runtime_1.jsx)(GiftQuizPlayerContent_1.default,{attempt:h.value,startQuiz:_,sendAnswer:ne,endQuiz:f})]}))},_default=quizzes.default=(0,styled_components_1.withTheme)((0,styled_components_1.default)(GiftQuizPlayer)(templateObject_3||(templateObject_3=__makeTemplateObject([""],[""])))),templateObject_1,templateObject_2,templateObject_3;export{API_1 as A,H5Player as H,ImagePlayer as I,OEmbedPlayer as O,PdfPlayer as P,_default as _,AudioVideoPlayer as a,patterns as p,utils$1 as u};
