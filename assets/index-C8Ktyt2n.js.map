{"version":3,"file":"index-C8Ktyt2n.js","sources":["../../src/components/Chat/ChatMessage/index.tsx","../../src/components/Chat/ChatWindow/style.ts","../../src/components/Chat/api.ts","../../src/hooks/chat/useChatLogic.ts","../../src/components/Chat/ChatWindow/index.tsx","../../src/components/Chat/index.tsx","../../src/style/mixins.ts","../../src/components/Courses/Course/CoursePanelLayout/Content/styles.ts","../../src/components/Courses/Course/CoursePanelLayout/Schedule/styles.ts","../../src/components/Courses/Course/CoursePanelLayout/Subheader/styles.tsx","../../src/components/Courses/Course/CoursePanelLayout/Schedule/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/Subheader/index.tsx","../../src/style/animations.ts","../../src/components/Courses/Course/CoursePanelLayout/TopicView/styles.ts","../../src/components/Courses/Course/CoursePanelLayout/TopicView/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/ButtonsNav/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/Content/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/FinishPage/styles.ts","../../src/components/Courses/Course/CoursePanelLayout/FinishPage/Congrats/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/FinishPage/Certificate/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/FinishPage/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/Header/styles.ts","../../src/components/Courses/Course/CoursePanelLayout/Header/index.tsx","../../src/components/Courses/Course/CoursePanelLayout/styles.ts","../../src/components/Courses/Course/CoursePanelLayout/index.tsx","../../src/components/Courses/Course/index.tsx","../../src/pages/course/index.tsx"],"sourcesContent":["import { Text } from \"@escolalms/components/lib/index\";\nimport styled from \"styled-components\";\n\nconst StyledMessage = styled.div<{ $isAI: boolean }>`\n  border-radius: ${({ $isAI }) =>\n    $isAI ? \"15px 15px 15px 0px\" : \"15px 15px 0px 15px\"};\n  background-color: ${({ theme, $isAI }) =>\n    $isAI ? theme.gray4 : `rgba(238, 49, 47, 0.07)`};\n  padding: 12px 17px;\n  width: 80%;\n  max-width: 260px;\n  margin-bottom: 10px;\n  margin-left: ${({ $isAI }) => ($isAI ? \"0\" : \"auto\")};\n`;\n\ntype Props = {\n  message: string;\n  isAI?: boolean;\n};\n\nconst ChatMessage: React.FC<Props> = ({ message, isAI = false }) => {\n  return (\n    <StyledMessage $isAI={isAI}>\n      <Text size=\"16\">{message}</Text>\n    </StyledMessage>\n  );\n};\n\nexport default ChatMessage;\n","import styled from \"styled-components\";\n\nexport const StyledChatWindow = styled.div<{\n  $closeAnimation: boolean;\n  $isMobile: boolean;\n}>`\n  border-radius: 22px 21px 0px 0px;\n  min-width: ${({ $isMobile }) => ($isMobile ? \"100%\" : \"380px\")};\n  box-shadow: 0px 0px 15px #00000029;\n  height: 100%;\n\n  .chatwindow__header {\n    background-color: ${({ theme }) => theme.primaryColor};\n    padding: 13px 25px;\n    border-radius: 22px 21px 0px 0px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n      color: ${({ theme }) => theme.white};\n      margin-bottom: 0;\n    }\n\n    &--close {\n      all: unset;\n      color: ${({ theme }) => theme.white};\n      cursor: pointer;\n      min-height: 20px;\n      span {\n        display: block;\n        width: 17px;\n        height: 2px;\n        background: ${({ theme }) => theme.white};\n      }\n    }\n  }\n  .chatwindow__content {\n    padding: 12px;\n    min-height: 200px;\n    height: fit-content;\n\n    background-color: ${({ theme }) => theme.white};\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    &--messages {\n      max-height: 50vh;\n      overflow-y: auto;\n      &__empty {\n        text-align: center;\n      }\n    }\n    &--input {\n      border: 1px solid ${({ theme }) => theme.gray3};\n      padding: 10px 13px;\n      border-radius: 21px;\n      background: ${({ theme }) => theme.gray4} 0% 0% no-repeat padding-box;\n      display: flex;\n      position: relative;\n\n      input {\n        all: unset;\n        font-family: ${({ theme }) => theme.font};\n        font-size: 14px;\n        width: 100%;\n        padding-right: 34px;\n      }\n\n      button {\n        all: unset;\n        cursor: pointer;\n        background: ${({ theme }) => theme.white};\n        border-radius: 50%;\n        width: 34px;\n        height: 34px;\n        position: absolute;\n        top: 1px;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    }\n    &--error {\n      text-align: center;\n    }\n  }\n`;\n","import { API_URL } from \"@/config/index\";\n\nconst BASE_URL = API_URL;\n\ntype Message = {\n  question: string;\n  conversation_id?: string;\n};\n\ntype ApiResponse<T> = {\n  data: T | null;\n  message: string;\n  status: number;\n};\n\nexport type Answer = {\n  answer: string;\n  conversation_id: string;\n};\n\nasync function fetchResource<T>(\n  url: string,\n  options?: RequestInit\n): Promise<ApiResponse<T>> {\n  try {\n    const response = await fetch(url, options);\n    const data: ApiResponse<T> = await response.json();\n    return {\n      data: data.data,\n      message: data.message,\n      status: response.status,\n    };\n  } catch (error) {\n    return { data: null, status: 500, message: (error as Error).message };\n  }\n}\n\nexport const sendChatMessage = async (\n  lessonID: number,\n  message: Message,\n  token: string\n): Promise<ApiResponse<Answer>> => {\n  return fetchResource<Answer>(`${BASE_URL}/api/yepp-chat/${lessonID}`, {\n    method: \"POST\",\n    body: JSON.stringify(message),\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n","import { useCallback, useState } from \"react\";\nimport { sendChatMessage, Answer } from \"@/components/Chat/api\";\nimport { useTranslation } from \"react-i18next\";\n\ntype Message = {\n  message: string;\n  isAi?: boolean;\n};\n\ntype State = {\n  isLoading: boolean;\n  messages: Message[];\n  inputValue: string;\n  error: string;\n  conversationId: string | null;\n};\n\nconst INITIAL_STATE: State = {\n  isLoading: false,\n  messages: [],\n  inputValue: \"\",\n  error: \"\",\n  conversationId: null,\n};\n\nconst useChatLogic = (lessonID: number, token: string | null | undefined) => {\n  if (!token) throw new Error(\"Token is required\");\n\n  const [chatState, setChatState] = useState<State>(INITIAL_STATE);\n  const { t } = useTranslation();\n  const handleInputError = useCallback(\n    (error: string) => {\n      setChatState((prevState) => ({\n        ...prevState,\n        error,\n        isLoading: false,\n      }));\n    },\n    [setChatState]\n  );\n\n  const sendMessageToLesson = useCallback(async () => {\n    const data = chatState.conversationId\n      ? {\n          question: chatState.inputValue,\n          conversation_id: chatState.conversationId,\n        }\n      : {\n          question: chatState.inputValue,\n        };\n\n    if (token) {\n      return await sendChatMessage(lessonID, data, token);\n    }\n    return {\n      status: 500,\n      message: t(\"UnexpectedError\"),\n      data: null,\n    };\n  }, [chatState, lessonID, token, t]);\n\n  const handleSuccessfulMessage = useCallback(\n    (message: Answer) => {\n      setChatState((prevState) => ({\n        ...prevState,\n        error: \"\",\n        isLoading: false,\n        messages: [\n          ...prevState.messages,\n          { message: prevState.inputValue },\n          {\n            message: message.answer ?? prevState.inputValue,\n            isAi: !!message.conversation_id,\n          },\n        ],\n        inputValue: \"\",\n        conversationId:\n          prevState.conversationId ?? message.conversation_id ?? null,\n      }));\n    },\n    [setChatState]\n  );\n\n  const handle422Error = useCallback(\n    (errorMessage: string) => {\n      setChatState((prevState) => ({\n        ...prevState,\n        isLoading: false,\n        error: errorMessage,\n      }));\n    },\n    [setChatState]\n  );\n\n  const handleUnexpectedError = useCallback(() => {\n    setChatState((prevState) => ({\n      ...prevState,\n      isLoading: false,\n      error: t(\"UnexpectedError\"),\n    }));\n  }, [setChatState, t]);\n\n  const handleSendMessage = useCallback(async () => {\n    setChatState((prevState) => ({\n      ...prevState,\n      isLoading: true,\n    }));\n\n    if (chatState.inputValue.length < 5) {\n      handleInputError(t(\"SpecifyMore\", { count: 5 }));\n      return;\n    }\n\n    const message = await sendMessageToLesson();\n\n    if (message.status === 200) {\n      message.data && handleSuccessfulMessage(message.data);\n    } else if (message.status === 422) {\n      handle422Error(message.message);\n    } else {\n      handleUnexpectedError();\n    }\n  }, [\n    chatState,\n    t,\n    handleInputError,\n    handleSuccessfulMessage,\n    handle422Error,\n    handleUnexpectedError,\n    sendMessageToLesson,\n  ]);\n\n  return {\n    chatState,\n    handleSendMessage,\n    handleInputChange: (e: React.ChangeEvent<HTMLInputElement>) => {\n      setChatState({\n        ...chatState,\n        inputValue: e.target.value,\n      });\n    },\n    handleKeyDown: (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === \"Enter\") {\n        handleSendMessage();\n      }\n    },\n  };\n};\n\nexport default useChatLogic;\n","import ChatMessage from \"@/components/Chat/ChatMessage\";\nimport { StyledChatWindow } from \"@/components/Chat/ChatWindow/style\";\nimport ContentLoader from \"@/components/_App/ContentLoader\";\nimport useChatLogic from \"@/hooks/chat/useChatLogic\";\nimport { BackArrow } from \"@/icons/index\";\nimport { Text } from \"@escolalms/components/lib/index\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useCallback, useContext, useId } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { useTranslation } from \"react-i18next\";\n\ntype Props = {\n  isOpen: boolean;\n  lessonID: number;\n  onClose: () => void;\n};\n\nconst ChatWindow: React.FC<Props> = ({ isOpen, lessonID, onClose }) => {\n  const { token } = useContext(EscolaLMSContext);\n  const { chatState, handleSendMessage, handleInputChange, handleKeyDown } =\n    useChatLogic(lessonID, token);\n\n  const { t } = useTranslation();\n  const id = useId();\n\n  const handleClose = useCallback(() => {\n    const timeoutId = setTimeout(() => {\n      onClose();\n    }, 200);\n\n    return () => clearTimeout(timeoutId);\n  }, [onClose]);\n\n  return (\n    <StyledChatWindow\n      className=\"chatwindow\"\n      $closeAnimation={!isOpen}\n      $isMobile={isMobile}\n    >\n      <header className=\"chatwindow__header\">\n        <Text size=\"18\" bold>\n          {t(\"LetsTalk\")}\n        </Text>\n        <button\n          title=\"close-chat\"\n          className=\"chatwindow__header--close\"\n          onClick={handleClose}\n        >\n          <span></span>\n        </button>\n      </header>\n      <div className=\"chatwindow__content\">\n        <div className=\"chatwindow__content--messages\">\n          {chatState.messages.length === 0 && (\n            <div className=\"chatwindow__content--messages__empty\">\n              <Text size=\"16\">{t(\"StartChat\")}</Text>\n            </div>\n          )}\n          {chatState.messages.map((message, index) => (\n            <ChatMessage\n              key={`message=${index}-${id}`}\n              message={message.message}\n              isAI={message.isAi}\n            />\n          ))}\n        </div>\n        <div>\n          <div className=\"chatwindow__content--input\">\n            <input\n              value={chatState.inputValue}\n              onChange={handleInputChange}\n              onKeyDown={handleKeyDown}\n              type=\"text\"\n              title=\"chatmessage\"\n            />\n            <button title=\"send-message\" onClick={handleSendMessage}>\n              {chatState.isLoading ? (\n                <ContentLoader width=\"20px\" height=\"20px\" />\n              ) : (\n                <BackArrow />\n              )}\n            </button>\n          </div>\n          <div className=\"chatwindow__content--error\">\n            <Text size=\"11\">{chatState.error}</Text>\n          </div>\n        </div>\n      </div>\n    </StyledChatWindow>\n  );\n};\n\nexport default ChatWindow;\n","import ChatWindow from \"@/components/Chat/ChatWindow\";\nimport { ChatIcon } from \"@/icons/index\";\nimport { useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport styled, { CSSProperties, css, keyframes } from \"styled-components\";\n\nconst StyledAIChatWrapper = styled.div<{\n  $isMobile: boolean;\n  $isOpen?: boolean;\n}>`\n  ${({ $isMobile, $isOpen }) =>\n    $isMobile &&\n    $isOpen &&\n    css`\n      height: 100dvh;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n    `};\n`;\n\nconst bottomOutAnim = keyframes`\n  from {\n    bottom:  0;\n  }\n  to {\n    bottom:  -100%;\n  }\n`;\n\nconst bottomInAnim = keyframes`\n  from {\n    bottom:  -100%;\n  }\n  to {\n    bottom:  0;\n  }\n`;\n\nconst StyledAIChatContainer = styled.div<{\n  $placement?: CSSProperties;\n  $isOpen?: boolean;\n}>`\n  ${({ $placement }) =>\n    $placement &&\n    css`\n      ${Object.keys($placement)\n        .map(\n          (property) =>\n            `${property}: ${$placement[property as keyof CSSProperties]};`\n        )\n        .join(\"\\n\")}\n    `}\n  ${({ $isOpen }) =>\n    $isOpen\n      ? css`\n          animation: ${bottomInAnim} 0.5s ease forwards;\n          bottom: 0;\n        `\n      : css`\n          animation: ${bottomOutAnim} 0.5s ease forwards;\n          bottom: -100%;\n        `}\n  padding-bottom: env(safe-area-inset-bottom);\n`;\n\nconst StyledAIChatButton = styled.div<{ $isMobile: boolean }>`\n  width: ${({ $isMobile }) => ($isMobile ? \"45px\" : \"68px\")};\n  height: ${({ $isMobile }) => ($isMobile ? \"45px\" : \"68px\")};\n  background-color: ${({ theme }) => theme.primaryColor};\n  border-radius: ${({ $isMobile }) => ($isMobile ? \"0\" : \"50%\")};\n  box-shadow: 0px 5px 15px #00000058;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: transform 0.25s ease-in-out;\n  margin-bottom: 15px;\n  position: fixed;\n  bottom: 5px;\n  right: 15px;\n\n  &:hover {\n    transform: scale(1.05) translateY(-3px);\n  }\n  .badge {\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    background-color: ${({ theme }) => theme.secondaryColor};\n    position: absolute;\n    left: 14px;\n    top: 15px;\n  }\n  ${({ $isMobile }) =>\n    $isMobile &&\n    css`\n      margin-left: auto;\n      border-top-left-radius: 29px;\n      border-bottom-left-radius: 29px;\n      top: 110px;\n      right: 0%;\n      svg {\n        width: 23px;\n        height: 23px;\n      }\n    `}\n`;\n\ntype Props = {\n  lessonID: number;\n  placement?: CSSProperties;\n};\n\nconst AIChat: React.FC<Props> = ({\n  lessonID,\n  placement = isMobile\n    ? {\n        right: \"0px\",\n        position: \"absolute\",\n        width: \"100%\",\n        bottom: \"-100%\",\n      }\n    : {\n        bottom: \"-100%\",\n        right: \"15px\",\n        position: \"absolute\",\n      },\n}) => {\n  const [state, setState] = useState(false);\n\n  return (\n    <StyledAIChatWrapper $isMobile={isMobile} $isOpen={state}>\n      <StyledAIChatContainer $placement={placement} $isOpen={state}>\n        <ChatWindow\n          isOpen={state}\n          lessonID={lessonID}\n          onClose={() => setState(false)}\n        />\n      </StyledAIChatContainer>\n      {!state && (\n        <StyledAIChatButton onClick={() => setState(true)} $isMobile={isMobile}>\n          <ChatIcon />\n        </StyledAIChatButton>\n      )}\n    </StyledAIChatWrapper>\n  );\n};\n\nexport default AIChat;\n","import { FlattenSimpleInterpolation, css } from \"styled-components\";\n\nconst breakpoints = {\n  xs: \"320px\",\n  sm: \"640px\",\n  md: \"768px\",\n  lg: \"1024px\",\n  xl: \"1280px\",\n  xxl: \"1536px\",\n};\n\ntype BreakpointsProp = keyof typeof breakpoints;\n\nexport const mediaQueriesMixin = (\n  size: BreakpointsProp,\n  styles: string | FlattenSimpleInterpolation\n) => css`\n  @media (min-width: ${breakpoints[size]}) {\n    ${styles}\n  }\n`;\n","import { mediaQueriesMixin } from \"src/style/mixins\";\nimport styled, { css } from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100%;\n  position: relative;\n`;\n\nexport const LeftColumn = styled.div`\n  width: 100%;\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      width: calc(100% - 280px);\n    `\n  )}\n`;\n\nexport const RightColumn = styled.div<{ $isOpen?: boolean }>`\n  width: 100%;\n  background-color: #ffffff;\n  box-shadow: -3px 0px 6px #0000000b;\n  position: absolute;\n  top: 0;\n  right: ${({ $isOpen }) => ($isOpen ? \"0\" : \"-100vw\")};\n  transition: right 0.3s;\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      width: 280px;\n      position: unset;\n    `\n  )}\n`;\n","import { mediaQueriesMixin } from \"src/style/mixins\";\nimport styled, { css } from \"styled-components\";\n\nexport const CourseScheduleWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const CourseScheduleTitle = styled.div`\n  display: flex;\n  align-items: center;\n  height: 50px;\n  width: 100%;\n  box-shadow: -3px 0px 6px #0000000b;\n\n  h2 {\n    padding: 0 25px;\n  }\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      h2 {\n        padding: 0 12px;\n      }\n    `\n  )}\n`;\n\nexport const CourseScheduleContent = styled.div`\n  width: 100%;\n  height: calc(100vh - 100px);\n  overflow-y: auto;\n`;\n","import styled, { css } from \"styled-components\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { mediaQueriesMixin } from \"src/style/mixins\";\n\nexport const SubheaderWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 50px;\n  box-shadow: 0px 3px 6px #0000000b;\n  background-color: #ffffff;\n  padding: 0px 0 0 26px;\n  gap: 8px;\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      padding: 0px 26px;\n    `\n  )}\n`;\n\nexport const SubheaderTitle = styled(Title)`\n  text-overflow: ellipsis;\n  text-wrap: nowrap;\n  overflow: hidden;\n  padding: 0 25px;\n  font-size: 16px;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n\n  span {\n    font-weight: normal;\n    margin-right: 8px;\n  }\n`;\n\nexport const ProgressBarContainer = styled.div`\n  width: calc(100% - 50px);\n\n  .label-container .percentage-value {\n    color: ${({ theme: { positive } }) => positive};\n    display: none;\n  }\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      width: 100%;\n\n      .label-container .percentage-value {\n        display: unset;\n      }\n    `\n  )}\n`;\n\nexport const SubHeaderIconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #ffffff;\n  background-color: ${({ theme }) => theme.primaryColor};\n  width: 50px;\n  height: 100%;\n  z-index: 10;\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      display: none;\n    `\n  )}\n`;\n","import { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { isMobile } from \"react-device-detect\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { CourseAgenda } from \"@escolalms/components/lib/components/organisms/CourseAgenda/CourseAgenda\";\nimport {\n  CourseScheduleContent,\n  CourseScheduleTitle,\n  CourseScheduleWrapper,\n} from \"@/components/Courses/Course/CoursePanelLayout/Schedule/styles\";\nimport { SubheaderTitle } from \"@/components/Courses/Course/CoursePanelLayout/Subheader/styles\";\nimport { useCoursePanel } from \"@/components/Courses/Course/Context\";\n\nexport const CourseSchedule = () => {\n  const { t } = useTranslation();\n  const { user } = useContext(EscolaLMSContext);\n  const {\n    currentTopic,\n    finishedTopicsIds,\n    availableTopicsIds,\n    courseId,\n    currentCourseProgram,\n  } = useCoursePanel();\n  const history = useHistory();\n\n  return (\n    <CourseScheduleWrapper>\n      <CourseScheduleTitle>\n        <SubheaderTitle level={2}>\n          {t(\"CoursePanel.ScheduleTitle\")}\n        </SubheaderTitle>\n      </CourseScheduleTitle>\n      <CourseScheduleContent>\n        <CourseAgenda\n          areAllTopicsUnlocked={\n            !!currentCourseProgram?.authors.find(\n              ({ id }) => id === user.value?.id\n            )\n          }\n          lessons={currentCourseProgram?.lessons || []}\n          currentTopicId={Number(currentTopic?.id)}\n          finishedTopicIds={finishedTopicsIds ?? []}\n          onMarkFinished={() => console.log(\"onMarkFinished\")}\n          onTopicClick={(topic: API.Topic) => {\n            history.push(`/course/${courseId}/${topic.lesson_id}/${topic.id}`);\n          }}\n          onCourseFinished={() => console.log(\"onCourseFinished\")}\n          availableTopicsIds={availableTopicsIds ?? []}\n          isMobile={isMobile}\n        />\n      </CourseScheduleContent>\n    </CourseScheduleWrapper>\n  );\n};\n","import { useCoursePanel } from \"@/components/Courses/Course/Context\";\nimport {\n  ProgressBarContainer,\n  SubHeaderIconWrapper,\n  SubheaderTitle,\n  SubheaderWrapper,\n} from \"@/components/Courses/Course/CoursePanelLayout/Subheader/styles\";\nimport { IconMenuSchedule } from \"@/icons/index\";\nimport { ProgressBar } from \"@escolalms/components/lib/index\";\nimport { useTranslation } from \"react-i18next\";\n\ninterface Props {\n  menuOnClick?: () => void;\n}\n\nexport const Subheader = ({ menuOnClick }: Props) => {\n  const {\n    finishedTopicsIds,\n    flatTopics,\n    currentLessonParentsIds,\n    flatLessons,\n    currentTopic,\n    currentLesson,\n  } = useCoursePanel();\n  const { t } = useTranslation();\n\n  const parentLesson = flatLessons?.find(\n    ({ id }) => id === currentLessonParentsIds?.at(0)\n  );\n  const progress =\n    ((finishedTopicsIds ?? []).length / (flatTopics ?? []).length) * 100;\n\n  return (\n    <SubheaderWrapper>\n      <ProgressBarContainer>\n        <ProgressBar\n          currentProgress={progress}\n          maxProgress={100}\n          label={\n            <SubheaderTitle level={2}>\n              <span>{parentLesson?.title || currentLesson?.title || \"\"}</span>{\" \"}\n              {currentTopic?.title}\n            </SubheaderTitle>\n          }\n          variant=\"square\"\n        />\n      </ProgressBarContainer>\n      {/* Mobile */}\n      <SubHeaderIconWrapper\n        role=\"button\"\n        aria-label={t(\"CoursePanel.MenuButtonAria\")}\n        onClick={menuOnClick}\n      >\n        <IconMenuSchedule />\n      </SubHeaderIconWrapper>\n    </SubheaderWrapper>\n  );\n};\n","import { css } from \"styled-components\";\n\nexport const fadeInAnimation = () => css`\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  opacity: 1;\n  animation-name: fadeIn;\n  animation-duration: 0.5s;\n`;\n","import styled from \"styled-components\";\nimport { fadeInAnimation } from \"src/style/animations\";\n\nexport const TopicViewWrapper = styled.main`\n  width: auto;\n  height: calc(100vh - 215px);\n  overflow-y: auto;\n  padding: 20px 26px;\n\n  ${fadeInAnimation()}\n`;\n","import { useCoursePanel } from \"@/components/Courses/Course/Context\";\nimport { TopicViewWrapper } from \"@/components/Courses/Course/CoursePanelLayout/TopicView/styles\";\nimport CourseProgramContent from \"@/components/Courses/Course/CourseProgramContent\";\nimport ContentLoader from \"@/components/_App/ContentLoader\";\n\nexport const TopicView = () => {\n  const { currentTopic, isAnyDataLoading } = useCoursePanel();\n\n  return (\n    <TopicViewWrapper>\n      <CourseProgramContent topic={currentTopic} />\n      {isAnyDataLoading && <ContentLoader />}\n    </TopicViewWrapper>\n  );\n};\n","import { useCallback, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\nimport { CourseTopNav } from \"@escolalms/components/lib/components/molecules/CourseTopNav/CourseTopNav\";\nimport { useCoursePanel } from \"@/components/Courses/Course/Context\";\n\nexport const ButtonsNav = () => {\n  const {\n    completeCurrentTopic,\n    currentTopic,\n    finishedTopicsIds,\n    courseId,\n    currentLesson,\n    nextTopic,\n    prevTopic,\n    availableTopicsIds,\n    isNextTopicButtonDisabled,\n    isAnyDataLoading,\n    isLastTopic,\n  } = useCoursePanel();\n  const history = useHistory();\n\n  const isTopicFinished = useMemo(\n    () =>\n      currentTopic?.id !== undefined &&\n      (finishedTopicsIds ?? []).includes(currentTopic?.id),\n    [finishedTopicsIds, currentTopic?.id]\n  );\n\n  const onNextTopic = useCallback(() => {\n    if (courseId === undefined || nextTopic === undefined) return;\n\n    history.push(`/course/${courseId}/${currentLesson?.id}/${nextTopic?.id}`);\n  }, [courseId, currentLesson?.id, history, nextTopic]);\n\n  const onPrevTopic = useCallback(() => {\n    if (courseId === undefined || prevTopic === undefined) return;\n\n    history.push(`/course/${courseId}/${currentLesson?.id}/${prevTopic?.id}`);\n  }, [courseId, currentLesson?.id, history, prevTopic]);\n\n  const isNextTopicAvailable = useMemo(\n    () =>\n      Boolean(\n        nextTopic?.id !== undefined &&\n          availableTopicsIds?.includes(nextTopic.id)\n      ),\n    [availableTopicsIds, nextTopic?.id]\n  );\n\n  return (\n    <CourseTopNav\n      mobile={isMobile}\n      // Finish current topic. Not last\n      onFinish={() => completeCurrentTopic?.()}\n      onNext={() => onNextTopic()}\n      isFinished={isTopicFinished}\n      onPrev={() => onPrevTopic()}\n      hasPrev={!!prevTopic}\n      hasNext={isNextTopicAvailable}\n      isLast={isLastTopic}\n      isMarkBtnDisabled={isNextTopicButtonDisabled}\n      // Last topic and finish course button\n      onCourseFinished={() => completeCurrentTopic?.(true)}\n      allButtonsDisabled={isAnyDataLoading}\n    />\n  );\n};\n","import { useState } from \"react\";\nimport {\n  LeftColumn,\n  RightColumn,\n  Wrapper,\n} from \"@/components/Courses/Course/CoursePanelLayout/Content/styles\";\nimport { CourseSchedule } from \"@/components/Courses/Course/CoursePanelLayout/Schedule\";\nimport { Subheader } from \"@/components/Courses/Course/CoursePanelLayout/Subheader\";\nimport { TopicView } from \"@/components/Courses/Course/CoursePanelLayout/TopicView\";\nimport { ButtonsNav } from \"@/components/Courses/Course/CoursePanelLayout/ButtonsNav\";\n\nexport const CoursePanelLayoutContent = () => {\n  const [isScheduleOpen, setIsScheduleOpen] = useState(false);\n\n  return (\n    <Wrapper>\n      <LeftColumn>\n        <Subheader menuOnClick={() => setIsScheduleOpen((prev) => !prev)} />\n        <TopicView />\n        <ButtonsNav />\n      </LeftColumn>\n      <RightColumn $isOpen={isScheduleOpen}>\n        <CourseSchedule />\n      </RightColumn>\n    </Wrapper>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const CongratsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: ${({ theme }) => theme.white};\n`;\n\nexport const CenteredWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  max-width: 320px;\n\n  .title {\n    font-size: 44px;\n    padding: 5px 0;\n  }\n\n  .subtitle {\n    font-size: 24px;\n  }\n\n  .text {\n    font-size: 16px;\n    padding: 22px 0;\n    text-align: center;\n  }\n\n  .button {\n    width: 265px;\n  }\n\n  .icon-container {\n    width: 100%;\n\n    svg {\n      width: 100%;\n    }\n  }\n\n  &.certificate-container {\n    .subtitle {\n      padding: 40px 0 27px 0;\n    }\n\n    .text {\n      padding: 12px 0 22px 0;\n      margin: 0;\n    }\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { CenteredWrapper } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage/styles\";\nimport { IconCongrats } from \"@/icons/index\";\n\ninterface Props {\n  onNextClick: () => void;\n}\n\nexport const CoursePanelFinishPageCongrats = ({ onNextClick }: Props) => {\n  const { t } = useTranslation();\n\n  return (\n    <CenteredWrapper>\n      <div className=\"icon-container\">\n        <IconCongrats />\n      </div>\n      <Title className=\"title\" level={1}>\n        {t(\"CoursePanel.FinishPage.Congrats\")}\n      </Title>\n      <Title className=\"subtitle\" level={2}>\n        {t(\"CoursePanel.FinishPage.Subtitle\")}\n      </Title>\n      <Text className=\"text\">{t(\"CoursePanel.FinishPage.Text\")}</Text>\n      <Button className=\"button\" onClick={onNextClick}>\n        {t(\"Next\")}\n      </Button>\n    </CenteredWrapper>\n  );\n};\n","import { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport routeRoutes from \"@/components/Routes/routes\";\nimport { CenteredWrapper } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage/styles\";\nimport Button from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport Title from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport Text from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { IconCertificateBig } from \"@/icons/index\";\nimport { useCertificateDownload } from \"@/hooks/useDownloadCertificate\";\nimport { Certificate } from \"@escolalms/sdk/lib/types\";\n\ninterface Props {\n  certificates: Certificate[];\n}\n\nexport const CoursePanelFinishPageCertificate = ({ certificates }: Props) => {\n  const { t } = useTranslation();\n  const { downloadCertificate, loadingId } = useCertificateDownload();\n\n  const onDownload = useCallback(() => {\n    certificates.forEach(({ id, title }) => {\n      downloadCertificate(id, title);\n    });\n  }, [certificates, downloadCertificate]);\n\n  return (\n    <CenteredWrapper className=\"certificate-container\">\n      <div className=\"icon-container\">\n        <IconCertificateBig />\n      </div>\n      <Title className=\"subtitle\" level={2}>\n        {t(\"CoursePanel.FinishPage.YourCertificate\")}\n      </Title>\n      <Button\n        className=\"button\"\n        onClick={onDownload}\n        loading={loadingId !== -1}\n        disabled={loadingId !== -1}\n      >\n        {t(\"DownloadCertificate\")}\n      </Button>\n      <Text className=\"text\">\n        {t(\"CoursePanel.FinishPage.CertificateText\")}\n      </Text>\n      <Link to={routeRoutes.home}>\n        <Button mode=\"outline\" className=\"button\">\n          {t(\"BackToHomePage\")}\n        </Button>\n      </Link>\n    </CenteredWrapper>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { CoursePanelFinishPageCongrats } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage/Congrats\";\nimport { CongratsWrapper } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage/styles\";\nimport { QuestionnairesModal } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage/Rate\";\nimport { CoursePanelFinishPageCertificate } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage/Certificate\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useCoursePanel } from \"@/components/Courses/Course/Context\";\nimport routeRoutes from \"@/components/Routes/routes\";\nimport {\n  Certificate,\n  CertificateAssignableTypes,\n} from \"@escolalms/sdk/lib/types\";\n\nimport { QuestionnaireModelType } from \"@/types/questionnaire\";\n\ntype State = {\n  showModal: boolean;\n  showCertificate: boolean;\n  isAnyQuestionnaire: boolean | null;\n  certificates: Certificate[] | null;\n};\n\nexport const CoursePanelFinishPage = () => {\n  const [state, setState] = useState<State>({\n    showModal: false,\n    isAnyQuestionnaire: null,\n    showCertificate: false,\n    certificates: null,\n  });\n\n  const { courseId } = useCoursePanel();\n  const { fetchCertificates } = useContext(EscolaLMSContext);\n  const history = useHistory();\n\n  const getCertificate = useCallback(async () => {\n    try {\n      const res = await fetchCertificates({\n        assignable_type: CertificateAssignableTypes.Course,\n        assignable_id: Number(courseId),\n      });\n      if (res && res.success) {\n        setState((prev) => ({\n          ...prev,\n          certificates: res.data as Certificate[],\n        }));\n      }\n    } catch (error) {\n      console.log(\"Error: \", error);\n    }\n  }, [courseId, fetchCertificates]);\n\n  useEffect(() => {\n    getCertificate();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onFinish = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      showModal: false,\n      showCertificate: true,\n    }));\n  }, []);\n\n  const onNextClick = useCallback(() => {\n    if (state.isAnyQuestionnaire) {\n      onFinish();\n      return;\n    }\n    if (state.certificates && state.certificates.length > 0) {\n      onFinish();\n      return;\n    }\n    history.push(routeRoutes.myProfile);\n  }, [history, onFinish, state.certificates, state.isAnyQuestionnaire]);\n\n  const onSuccesGetQuestionnaires = useCallback(\n    (isAnyQuestionnaire: boolean) => {\n      setState((prev) => ({\n        ...prev,\n        isAnyQuestionnaire,\n      }));\n    },\n    []\n  );\n\n  return (\n    <CongratsWrapper>\n      {!state.showCertificate && (\n        <CoursePanelFinishPageCongrats onNextClick={onNextClick} />\n      )}\n      {state.showCertificate && state.certificates && (\n        <CoursePanelFinishPageCertificate certificates={state.certificates} />\n      )}\n      <QuestionnairesModal\n        entityId={Number(courseId)}\n        entityModel={QuestionnaireModelType.COURSE}\n        showModal={state.showModal}\n        onSuccesGetQuestionnaires={onSuccesGetQuestionnaires}\n      />\n    </CongratsWrapper>\n  );\n};\n","import styled, { css } from \"styled-components\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { mediaQueriesMixin } from \"src/style/mixins\";\n\nexport const CoursePanelHeaderWrapper = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ${({ theme: { gray1 } }) => gray1};\n  color: ${({ theme: { white } }) => white};\n  padding: 0 0 0 26px;\n  height: 50px;\n  z-index: 10;\n  position: relative;\n\n  picture {\n    margin: 0 10px;\n    color: ${({ theme: { gray4 } }) => gray4};\n  }\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      padding: 0 26px;\n    `\n  )}\n`;\n\nexport const CoursePanelHeaderTitle = styled(Title)`\n  text-overflow: ellipsis;\n  text-wrap: nowrap;\n  overflow: hidden;\n  padding: 0 25px;\n  font-size: 16px;\n  color: ${({ theme: { gray4 } }) => gray4};\n  padding: 0;\n\n  > * {\n    color: ${({ theme: { gray4 } }) => gray4};\n  }\n\n  span {\n    font-weight: normal;\n    margin-right: 8px;\n  }\n`;\n\nexport const CoursePanelHeaderContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  cursor: pointer;\n  transition: color 150ms ease-in-out;\n  padding: 0 12px;\n\n  svg {\n    color: #afafaf;\n  }\n\n  &:hover {\n    > * {\n      transition: color 150ms ease-in-out;\n      color: ${({ theme: { gray4 } }) => gray4};\n    }\n  }\n\n  ${mediaQueriesMixin(\n    \"lg\",\n    css`\n      padding: 0 26px;\n    `\n  )}\n`;\n\nexport const CoursePanelHeaderIconText = styled(Text)`\n  color: ${({ theme: { gray2 } }) => gray2};\n  margin: 0;\n  line-height: 0;\n`;\n","import { isMobile } from \"react-device-detect\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport { useCoursePanel } from \"@/components/Courses/Course/Context\";\nimport {\n  CoursePanelHeaderContainer,\n  CoursePanelHeaderIconText,\n  CoursePanelHeaderTitle,\n  CoursePanelHeaderWrapper,\n} from \"@/components/Courses/Course/CoursePanelLayout/Header/styles\";\nimport routeRoutes from \"@/components/Routes/routes\";\nimport { IconCircleClose } from \"@/icons/index\";\n\nexport const CoursePanelHeader = () => {\n  const { currentCourseProgram } = useCoursePanel();\n  const { t } = useTranslation();\n\n  return (\n    <CoursePanelHeaderWrapper>\n      <CoursePanelHeaderTitle>\n        <span>{t(\"CoursePanel.Course\", { defaultValue: \"Kurs\" })}</span>{\" \"}\n        {currentCourseProgram?.title}\n      </CoursePanelHeaderTitle>\n      <Link to={routeRoutes.myProfile}>\n        <CoursePanelHeaderContainer>\n          {!isMobile && (\n            <CoursePanelHeaderIconText>\n              {t(\"CoursePanel.Leave\")}\n            </CoursePanelHeaderIconText>\n          )}\n          <IconCircleClose />\n        </CoursePanelHeaderContainer>\n      </Link>\n    </CoursePanelHeaderWrapper>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const LayoutWrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: ${({ theme }) => theme.gray4};\n  z-index: 1000;\n`;\n","import AIChat from \"@/components/Chat\";\nimport { useCoursePanel } from \"@/components/Courses/Course/Context\";\nimport { CoursePanelLayoutContent } from \"@/components/Courses/Course/CoursePanelLayout/Content\";\nimport { CoursePanelFinishPage } from \"@/components/Courses/Course/CoursePanelLayout/FinishPage\";\nimport { CoursePanelHeader } from \"@/components/Courses/Course/CoursePanelLayout/Header\";\nimport { LayoutWrapper } from \"@/components/Courses/Course/CoursePanelLayout/styles\";\n\nexport const CoursePanelLayout = () => {\n  const { showFinish, currentLesson } = useCoursePanel();\n\n  return (\n    <LayoutWrapper>\n      <CoursePanelHeader />\n      {!showFinish && <CoursePanelLayoutContent />}\n      {showFinish && <CoursePanelFinishPage />}\n      {currentLesson?.id && <AIChat lessonID={currentLesson?.id} />}\n    </LayoutWrapper>\n  );\n};\n","import CoursePanelProvider from \"@/components/Courses/Course/Context\";\nimport { CoursePanelLayout } from \"@/components/Courses/Course/CoursePanelLayout\";\n\nexport const CoursePanel = () => {\n  return (\n    <CoursePanelProvider>\n      <CoursePanelLayout />\n    </CoursePanelProvider>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport Layout from \"@/components/_App/Layout\";\nimport { CoursePanel } from \"@/components/Courses/Course\";\n\nconst CourseProgram = () => {\n  const { program } = useContext(EscolaLMSContext);\n\n  return (\n    <Layout metaTitle={program.value?.title || \"Course\"}>\n      <CoursePanel />\n    </Layout>\n  );\n};\n\nexport default CourseProgram;\n"],"names":["StyledMessage","styled","$isAI","theme","ChatMessage","message","isAI","jsx","Text","StyledChatWindow","$isMobile","BASE_URL","API_URL","fetchResource","url","options","response","data","error","sendChatMessage","lessonID","token","INITIAL_STATE","useChatLogic","chatState","setChatState","useState","t","useTranslation","handleInputError","useCallback","prevState","sendMessageToLesson","handleSuccessfulMessage","handle422Error","errorMessage","handleUnexpectedError","handleSendMessage","e","ChatWindow","isOpen","onClose","useContext","EscolaLMSContext","handleInputChange","handleKeyDown","id","useId","handleClose","timeoutId","jsxs","isMobile","index","ContentLoader","BackArrow","StyledAIChatWrapper","$isOpen","css","bottomOutAnim","keyframes","bottomInAnim","StyledAIChatContainer","$placement","property","StyledAIChatButton","AIChat","placement","state","setState","ChatIcon","breakpoints","mediaQueriesMixin","size","styles","Wrapper","LeftColumn","RightColumn","CourseScheduleWrapper","CourseScheduleTitle","CourseScheduleContent","SubheaderWrapper","SubheaderTitle","Title","ProgressBarContainer","positive","SubHeaderIconWrapper","CourseSchedule","user","currentTopic","finishedTopicsIds","availableTopicsIds","courseId","currentCourseProgram","useCoursePanel","history","useHistory","CourseAgenda","_a","topic","Subheader","menuOnClick","flatTopics","currentLessonParentsIds","flatLessons","currentLesson","parentLesson","progress","ProgressBar","IconMenuSchedule","fadeInAnimation","TopicViewWrapper","TopicView","isAnyDataLoading","CourseProgramContent","ButtonsNav","completeCurrentTopic","nextTopic","prevTopic","isNextTopicButtonDisabled","isLastTopic","isTopicFinished","useMemo","onNextTopic","onPrevTopic","isNextTopicAvailable","CourseTopNav","CoursePanelLayoutContent","isScheduleOpen","setIsScheduleOpen","prev","CongratsWrapper","CenteredWrapper","CoursePanelFinishPageCongrats","onNextClick","IconCongrats","Button","CoursePanelFinishPageCertificate","certificates","downloadCertificate","loadingId","useCertificateDownload","onDownload","title","IconCertificateBig","Link","routeRoutes","CoursePanelFinishPage","fetchCertificates","getCertificate","res","CertificateAssignableTypes","useEffect","onFinish","onSuccesGetQuestionnaires","isAnyQuestionnaire","QuestionnairesModal","QuestionnaireModelType","CoursePanelHeaderWrapper","gray1","white","gray4","CoursePanelHeaderTitle","CoursePanelHeaderContainer","CoursePanelHeaderIconText","gray2","CoursePanelHeader","IconCircleClose","LayoutWrapper","CoursePanelLayout","showFinish","CoursePanel","CoursePanelProvider","CourseProgram","program","Layout"],"mappings":"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"}