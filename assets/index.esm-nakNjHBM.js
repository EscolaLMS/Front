const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/YouTube-DlmT3wXK.js","assets/katex-D1m830yy.js","assets/katex-DVneG3Rq.css","assets/sentry-DZqhWugq.js","assets/SoundCloud-2Og6XXXZ.js","assets/Vimeo-DJUyZQiU.js","assets/Mux-BpCErgws.js","assets/index-B2DLdQWL.js","assets/lodash-Bu-jC-fW.js","assets/index-DMOCoII_.css","assets/Facebook-BqmHq-M9.js","assets/Streamable-EpS8zIkn.js","assets/Wistia-02nzohYI.js","assets/Twitch-p-Vtm1oK.js","assets/DailyMotion-Bns4vO-o.js","assets/Mixcloud-CufEuZ1b.js","assets/Vidyard-Bh-Qmw-o.js","assets/Kaltura-Dx45_77Y.js","assets/FilePlayer-Bh9knXpL.js","assets/Preview-Bunuz9V0.js"])))=>i.map(i=>d[i]);
var Lr=Object.defineProperty;var tr=e=>{throw TypeError(e)};var kr=(e,i,o)=>i in e?Lr(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o;var Lt=(e,i,o)=>kr(e,typeof i!="symbol"?i+"":i,o),bn=(e,i,o)=>i.has(e)||tr("Cannot "+o);var ge=(e,i,o)=>(bn(e,i,"read from private field"),o?o.call(e):i.get(e)),Qe=(e,i,o)=>i.has(e)?tr("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,o),Ze=(e,i,o,a)=>(bn(e,i,"write to private field"),a?a.call(e,o):i.set(e,o),o),We=(e,i,o)=>(bn(e,i,"access private method"),o);var Kt=(e,i,o,a)=>({set _(c){Ze(e,i,c,o)},get _(){return ge(e,i,a)}});import{c as commonjsGlobal,a as getAugmentedNamespace}from"./katex-D1m830yy.js";import{bq as types,D as react$1,bz as require$$5,a2 as require$$6$1,$ as requireLib,j as jsxRuntimeExports,aI as __vitePreload,bA as propTypesExports,bB as require$$5$1,a0 as require$$3,r as reactDomExports,bC as require$$9,bD as clsx,bE as tinyInvariant,a3 as utils$3,bF as require$$2$2,h as ResponsiveImage,bG as requireContext,bb as provider,S as Spin,bt as require$$0$1,bu as utils$4,bH as require$$2$3,a1 as chromaExports,a6 as require$$1$1}from"./index-B2DLdQWL.js";import{r as reactExports,R as React}from"./sentry-DZqhWugq.js";var lib$3={},__createBinding$l=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$l=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$l=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$l(i,e,o);return __setModuleDefault$l(i,e),i};Object.defineProperty(lib$3,"__esModule",{value:!0});lib$3.react=API_1=lib$3.API=void 0;var API=__importStar$l(types),API_1=lib$3.API=API,react=__importStar$l(react$1);lib$3.react=react;var OEmbedPlayer={},lib$2={exports:{}},concatMap,hasRequiredConcatMap;function requireConcatMap(){if(hasRequiredConcatMap)return concatMap;hasRequiredConcatMap=1,concatMap=function(i,o){for(var a=[],c=0;c<i.length;c++){var h=o(i[c],c);e(h)?a.push.apply(a,h):a.push(h)}return a};var e=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};return concatMap}var balancedMatch,hasRequiredBalancedMatch;function requireBalancedMatch(){if(hasRequiredBalancedMatch)return balancedMatch;hasRequiredBalancedMatch=1,balancedMatch=e;function e(a,c,h){a instanceof RegExp&&(a=i(a,h)),c instanceof RegExp&&(c=i(c,h));var d=o(a,c,h);return d&&{start:d[0],end:d[1],pre:h.slice(0,d[0]),body:h.slice(d[0]+a.length,d[1]),post:h.slice(d[1]+c.length)}}function i(a,c){var h=c.match(a);return h?h[0]:null}e.range=o;function o(a,c,h){var d,f,re,_,b,me=h.indexOf(a),Se=h.indexOf(c,me+1),te=me;if(me>=0&&Se>0){if(a===c)return[me,Se];for(d=[],re=h.length;te>=0&&!b;)te==me?(d.push(te),me=h.indexOf(a,te+1)):d.length==1?b=[d.pop(),Se]:(f=d.pop(),f<re&&(re=f,_=Se),Se=h.indexOf(c,te+1)),te=me<Se&&me>=0?me:Se;d.length&&(b=[re,_])}return b}return balancedMatch}var braceExpansion,hasRequiredBraceExpansion;function requireBraceExpansion(){if(hasRequiredBraceExpansion)return braceExpansion;hasRequiredBraceExpansion=1;var e=requireConcatMap(),i=requireBalancedMatch();braceExpansion=me;var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",d="\0PERIOD"+Math.random()+"\0";function f(g){return parseInt(g,10)==g?parseInt(g,10):g.charCodeAt(0)}function re(g){return g.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(c).split("\\,").join(h).split("\\.").join(d)}function _(g){return g.split(o).join("\\").split(a).join("{").split(c).join("}").split(h).join(",").split(d).join(".")}function b(g){if(!g)return[""];var ee=[],ie=i("{","}",g);if(!ie)return g.split(",");var q=ie.pre,ne=ie.body,he=ie.post,le=q.split(",");le[le.length-1]+="{"+ne+"}";var oe=b(he);return he.length&&(le[le.length-1]+=oe.shift(),le.push.apply(le,oe)),ee.push.apply(ee,le),ee}function me(g){return g?(g.substr(0,2)==="{}"&&(g="\\{\\}"+g.substr(2)),j(re(g),!0).map(_)):[]}function Se(g){return"{"+g+"}"}function te(g){return/^-?0\d/.test(g)}function $(g,ee){return g<=ee}function _e(g,ee){return g>=ee}function j(g,ee){var ie=[],q=i("{","}",g);if(!q||/\$$/.test(q.pre))return[g];var ne=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(q.body),he=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(q.body),le=ne||he,oe=q.body.indexOf(",")>=0;if(!le&&!oe)return q.post.match(/,(?!,).*\}/)?(g=q.pre+"{"+q.body+c+q.post,j(g)):[g];var ce;if(le)ce=q.body.split(/\.\./);else if(ce=b(q.body),ce.length===1&&(ce=j(ce[0],!1).map(Se),ce.length===1)){var se=q.post.length?j(q.post,!1):[""];return se.map(function(Ee){return q.pre+ce[0]+Ee})}var xe=q.pre,se=q.post.length?j(q.post,!1):[""],be;if(le){var Ae=f(ce[0]),Ie=f(ce[1]),Re=Math.max(ce[0].length,ce[1].length),Fe=ce.length==3?Math.abs(f(ce[2])):1,Ce=$,ke=Ie<Ae;ke&&(Fe*=-1,Ce=_e);var we=ce.some(te);be=[];for(var Pe=Ae;Ce(Pe,Ie);Pe+=Fe){var fe;if(he)fe=String.fromCharCode(Pe),fe==="\\"&&(fe="");else if(fe=String(Pe),we){var ye=Re-fe.length;if(ye>0){var ae=new Array(ye+1).join("0");Pe<0?fe="-"+ae+fe.slice(1):fe=ae+fe}}be.push(fe)}}else be=e(ce,function(m){return j(m,!1)});for(var de=0;de<be.length;de++)for(var ve=0;ve<se.length;ve++){var ue=xe+be[de]+se[ve];(!ee||le||ue)&&ie.push(ue)}return ie}return braceExpansion}var minimatch_1,hasRequiredMinimatch;function requireMinimatch(){if(hasRequiredMinimatch)return minimatch_1;hasRequiredMinimatch=1,minimatch_1=te,te.Minimatch=$;var e=function(){try{return require$$5}catch{}}()||{sep:"/"};te.sep=e.sep;var i=te.GLOBSTAR=$.GLOBSTAR={},o=requireBraceExpansion(),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",h=c+"*?",d="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",f="(?:(?!(?:\\/|^)\\.).)*?",re=_("().*{}+?[]^$\\!");function _(ce){return ce.split("").reduce(function(xe,se){return xe[se]=!0,xe},{})}var b=/\/+/;te.filter=me;function me(ce,xe){return xe=xe||{},function(se,be,Ae){return te(se,ce,xe)}}function Se(ce,xe){xe=xe||{};var se={};return Object.keys(ce).forEach(function(be){se[be]=ce[be]}),Object.keys(xe).forEach(function(be){se[be]=xe[be]}),se}te.defaults=function(ce){if(!ce||typeof ce!="object"||!Object.keys(ce).length)return te;var xe=te,se=function(Ae,Ie,Re){return xe(Ae,Ie,Se(ce,Re))};return se.Minimatch=function(Ae,Ie){return new xe.Minimatch(Ae,Se(ce,Ie))},se.Minimatch.defaults=function(Ae){return xe.defaults(Se(ce,Ae)).Minimatch},se.filter=function(Ae,Ie){return xe.filter(Ae,Se(ce,Ie))},se.defaults=function(Ae){return xe.defaults(Se(ce,Ae))},se.makeRe=function(Ae,Ie){return xe.makeRe(Ae,Se(ce,Ie))},se.braceExpand=function(Ae,Ie){return xe.braceExpand(Ae,Se(ce,Ie))},se.match=function(be,Ae,Ie){return xe.match(be,Ae,Se(ce,Ie))},se},$.defaults=function(ce){return te.defaults(ce).Minimatch};function te(ce,xe,se){return ie(xe),se||(se={}),!se.nocomment&&xe.charAt(0)==="#"?!1:new $(xe,se).match(ce)}function $(ce,xe){if(!(this instanceof $))return new $(ce,xe);ie(ce),xe||(xe={}),ce=ce.trim(),!xe.allowWindowsEscape&&e.sep!=="/"&&(ce=ce.split(e.sep).join("/")),this.options=xe,this.set=[],this.pattern=ce,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!xe.partial,this.make()}$.prototype.debug=function(){},$.prototype.make=_e;function _e(){var ce=this.pattern,xe=this.options;if(!xe.nocomment&&ce.charAt(0)==="#"){this.comment=!0;return}if(!ce){this.empty=!0;return}this.parseNegate();var se=this.globSet=this.braceExpand();xe.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,se),se=this.globParts=se.map(function(be){return be.split(b)}),this.debug(this.pattern,se),se=se.map(function(be,Ae,Ie){return be.map(this.parse,this)},this),this.debug(this.pattern,se),se=se.filter(function(be){return be.indexOf(!1)===-1}),this.debug(this.pattern,se),this.set=se}$.prototype.parseNegate=j;function j(){var ce=this.pattern,xe=!1,se=this.options,be=0;if(!se.nonegate){for(var Ae=0,Ie=ce.length;Ae<Ie&&ce.charAt(Ae)==="!";Ae++)xe=!xe,be++;be&&(this.pattern=ce.substr(be)),this.negate=xe}}te.braceExpand=function(ce,xe){return g(ce,xe)},$.prototype.braceExpand=g;function g(ce,xe){return xe||(this instanceof $?xe=this.options:xe={}),ce=typeof ce>"u"?this.pattern:ce,ie(ce),xe.nobrace||!/\{(?:(?!\{).)*\}/.test(ce)?[ce]:o(ce)}var ee=1024*64,ie=function(ce){if(typeof ce!="string")throw new TypeError("invalid pattern");if(ce.length>ee)throw new TypeError("pattern is too long")};$.prototype.parse=ne;var q={};function ne(ce,xe){ie(ce);var se=this.options;if(ce==="**")if(se.noglobstar)ce="*";else return i;if(ce==="")return"";var be="",Ae=!!se.nocase,Ie=!1,Re=[],Fe=[],Ce,ke=!1,we=-1,Pe=-1,fe=ce.charAt(0)==="."?"":se.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",ye=this;function ae(){if(Ce){switch(Ce){case"*":be+=h,Ae=!0;break;case"?":be+=c,Ae=!0;break;default:be+="\\"+Ce;break}ye.debug("clearStateChar %j %j",Ce,be),Ce=!1}}for(var de=0,ve=ce.length,ue;de<ve&&(ue=ce.charAt(de));de++){if(this.debug("%s	%s %s %j",ce,de,be,ue),Ie&&re[ue]){be+="\\"+ue,Ie=!1;continue}switch(ue){case"/":return!1;case"\\":ae(),Ie=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",ce,de,be,ue),ke){this.debug("  in class"),ue==="!"&&de===Pe+1&&(ue="^"),be+=ue;continue}ye.debug("call clearStateChar %j",Ce),ae(),Ce=ue,se.noext&&ae();continue;case"(":if(ke){be+="(";continue}if(!Ce){be+="\\(";continue}Re.push({type:Ce,start:de-1,reStart:be.length,open:a[Ce].open,close:a[Ce].close}),be+=Ce==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",Ce,be),Ce=!1;continue;case")":if(ke||!Re.length){be+="\\)";continue}ae(),Ae=!0;var m=Re.pop();be+=m.close,m.type==="!"&&Fe.push(m),m.reEnd=be.length;continue;case"|":if(ke||!Re.length||Ie){be+="\\|",Ie=!1;continue}ae(),be+="|";continue;case"[":if(ae(),ke){be+="\\"+ue;continue}ke=!0,Pe=de,we=be.length,be+=ue;continue;case"]":if(de===Pe+1||!ke){be+="\\"+ue,Ie=!1;continue}var Ee=ce.substring(Pe+1,de);try{RegExp("["+Ee+"]")}catch{var Te=this.parse(Ee,q);be=be.substr(0,we)+"\\["+Te[0]+"\\]",Ae=Ae||Te[1],ke=!1;continue}Ae=!0,ke=!1,be+=ue;continue;default:ae(),Ie?Ie=!1:re[ue]&&!(ue==="^"&&ke)&&(be+="\\"),be+=ue}}for(ke&&(Ee=ce.substr(Pe+1),Te=this.parse(Ee,q),be=be.substr(0,we)+"\\["+Te[0],Ae=Ae||Te[1]),m=Re.pop();m;m=Re.pop()){var Me=be.slice(m.reStart+m.open.length);this.debug("setting tail",be,m),Me=Me.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Be,ct,dt){return dt||(dt="\\"),ct+ct+dt+"|"}),this.debug(`tail=%j
   %s`,Me,Me,m,be);var Le=m.type==="*"?h:m.type==="?"?c:"\\"+m.type;Ae=!0,be=be.slice(0,m.reStart)+Le+"\\("+Me}ae(),Ie&&(be+="\\\\");var Ue=!1;switch(be.charAt(0)){case"[":case".":case"(":Ue=!0}for(var Xe=Fe.length-1;Xe>-1;Xe--){var Ve=Fe[Xe],Ke=be.slice(0,Ve.reStart),ze=be.slice(Ve.reStart,Ve.reEnd-8),Ge=be.slice(Ve.reEnd-8,Ve.reEnd),Oe=be.slice(Ve.reEnd);Ge+=Oe;var $e=Ke.split("(").length-1,He=Oe;for(de=0;de<$e;de++)He=He.replace(/\)[+*?]?/,"");Oe=He;var Ye="";Oe===""&&xe!==q&&(Ye="$");var nt=Ke+ze+Oe+Ye+Ge;be=nt}if(be!==""&&Ae&&(be="(?=.)"+be),Ue&&(be=fe+be),xe===q)return[be,Ae];if(!Ae)return le(ce);var ot=se.nocase?"i":"";try{var st=new RegExp("^"+be+"$",ot)}catch{return new RegExp("$.")}return st._glob=ce,st._src=be,st}te.makeRe=function(ce,xe){return new $(ce,xe||{}).makeRe()},$.prototype.makeRe=he;function he(){if(this.regexp||this.regexp===!1)return this.regexp;var ce=this.set;if(!ce.length)return this.regexp=!1,this.regexp;var xe=this.options,se=xe.noglobstar?h:xe.dot?d:f,be=xe.nocase?"i":"",Ae=ce.map(function(Ie){return Ie.map(function(Re){return Re===i?se:typeof Re=="string"?oe(Re):Re._src}).join("\\/")}).join("|");Ae="^(?:"+Ae+")$",this.negate&&(Ae="^(?!"+Ae+").*$");try{this.regexp=new RegExp(Ae,be)}catch{this.regexp=!1}return this.regexp}te.match=function(ce,xe,se){se=se||{};var be=new $(xe,se);return ce=ce.filter(function(Ae){return be.match(Ae)}),be.options.nonull&&!ce.length&&ce.push(xe),ce},$.prototype.match=function(xe,se){if(typeof se>"u"&&(se=this.partial),this.debug("match",xe,this.pattern),this.comment)return!1;if(this.empty)return xe==="";if(xe==="/"&&se)return!0;var be=this.options;e.sep!=="/"&&(xe=xe.split(e.sep).join("/")),xe=xe.split(b),this.debug(this.pattern,"split",xe);var Ae=this.set;this.debug(this.pattern,"set",Ae);var Ie,Re;for(Re=xe.length-1;Re>=0&&(Ie=xe[Re],!Ie);Re--);for(Re=0;Re<Ae.length;Re++){var Fe=Ae[Re],Ce=xe;be.matchBase&&Fe.length===1&&(Ce=[Ie]);var ke=this.matchOne(Ce,Fe,se);if(ke)return be.flipNegate?!0:!this.negate}return be.flipNegate?!1:this.negate},$.prototype.matchOne=function(ce,xe,se){var be=this.options;this.debug("matchOne",{this:this,file:ce,pattern:xe}),this.debug("matchOne",ce.length,xe.length);for(var Ae=0,Ie=0,Re=ce.length,Fe=xe.length;Ae<Re&&Ie<Fe;Ae++,Ie++){this.debug("matchOne loop");var Ce=xe[Ie],ke=ce[Ae];if(this.debug(xe,Ce,ke),Ce===!1)return!1;if(Ce===i){this.debug("GLOBSTAR",[xe,Ce,ke]);var we=Ae,Pe=Ie+1;if(Pe===Fe){for(this.debug("** at the end");Ae<Re;Ae++)if(ce[Ae]==="."||ce[Ae]===".."||!be.dot&&ce[Ae].charAt(0)===".")return!1;return!0}for(;we<Re;){var fe=ce[we];if(this.debug(`
globstar while`,ce,we,xe,Pe,fe),this.matchOne(ce.slice(we),xe.slice(Pe),se))return this.debug("globstar found match!",we,Re,fe),!0;if(fe==="."||fe===".."||!be.dot&&fe.charAt(0)==="."){this.debug("dot detected!",ce,we,xe,Pe);break}this.debug("globstar swallow a segment, and continue"),we++}return!!(se&&(this.debug(`
>>> no match, partial?`,ce,we,xe,Pe),we===Re))}var ye;if(typeof Ce=="string"?(ye=ke===Ce,this.debug("string match",Ce,ke,ye)):(ye=ke.match(Ce),this.debug("pattern match",Ce,ke,ye)),!ye)return!1}if(Ae===Re&&Ie===Fe)return!0;if(Ae===Re)return se;if(Ie===Fe)return Ae===Re-1&&ce[Ae]==="";throw new Error("wtf?")};function le(ce){return ce.replace(/\\(.)/g,"$1")}function oe(ce){return ce.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}return minimatch_1}var axios$1={exports:{}},bind,hasRequiredBind;function requireBind(){return hasRequiredBind||(hasRequiredBind=1,bind=function(i,o){return function(){for(var c=new Array(arguments.length),h=0;h<c.length;h++)c[h]=arguments[h];return i.apply(o,c)}}),bind}var utils$2,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var e=requireBind(),i=Object.prototype.toString;function o(oe){return i.call(oe)==="[object Array]"}function a(oe){return typeof oe>"u"}function c(oe){return oe!==null&&!a(oe)&&oe.constructor!==null&&!a(oe.constructor)&&typeof oe.constructor.isBuffer=="function"&&oe.constructor.isBuffer(oe)}function h(oe){return i.call(oe)==="[object ArrayBuffer]"}function d(oe){return typeof FormData<"u"&&oe instanceof FormData}function f(oe){var ce;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ce=ArrayBuffer.isView(oe):ce=oe&&oe.buffer&&oe.buffer instanceof ArrayBuffer,ce}function re(oe){return typeof oe=="string"}function _(oe){return typeof oe=="number"}function b(oe){return oe!==null&&typeof oe=="object"}function me(oe){if(i.call(oe)!=="[object Object]")return!1;var ce=Object.getPrototypeOf(oe);return ce===null||ce===Object.prototype}function Se(oe){return i.call(oe)==="[object Date]"}function te(oe){return i.call(oe)==="[object File]"}function $(oe){return i.call(oe)==="[object Blob]"}function _e(oe){return i.call(oe)==="[object Function]"}function j(oe){return b(oe)&&_e(oe.pipe)}function g(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}function ee(oe){return oe.trim?oe.trim():oe.replace(/^\s+|\s+$/g,"")}function ie(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function q(oe,ce){if(!(oe===null||typeof oe>"u"))if(typeof oe!="object"&&(oe=[oe]),o(oe))for(var xe=0,se=oe.length;xe<se;xe++)ce.call(null,oe[xe],xe,oe);else for(var be in oe)Object.prototype.hasOwnProperty.call(oe,be)&&ce.call(null,oe[be],be,oe)}function ne(){var oe={};function ce(be,Ae){me(oe[Ae])&&me(be)?oe[Ae]=ne(oe[Ae],be):me(be)?oe[Ae]=ne({},be):o(be)?oe[Ae]=be.slice():oe[Ae]=be}for(var xe=0,se=arguments.length;xe<se;xe++)q(arguments[xe],ce);return oe}function he(oe,ce,xe){return q(ce,function(be,Ae){xe&&typeof be=="function"?oe[Ae]=e(be,xe):oe[Ae]=be}),oe}function le(oe){return oe.charCodeAt(0)===65279&&(oe=oe.slice(1)),oe}return utils$2={isArray:o,isArrayBuffer:h,isBuffer:c,isFormData:d,isArrayBufferView:f,isString:re,isNumber:_,isObject:b,isPlainObject:me,isUndefined:a,isDate:Se,isFile:te,isBlob:$,isFunction:_e,isStream:j,isURLSearchParams:g,isStandardBrowserEnv:ie,forEach:q,merge:ne,extend:he,trim:ee,stripBOM:le},utils$2}var buildURL,hasRequiredBuildURL;function requireBuildURL(){if(hasRequiredBuildURL)return buildURL;hasRequiredBuildURL=1;var e=requireUtils();function i(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return buildURL=function(a,c,h){if(!c)return a;var d;if(h)d=h(c);else if(e.isURLSearchParams(c))d=c.toString();else{var f=[];e.forEach(c,function(b,me){b===null||typeof b>"u"||(e.isArray(b)?me=me+"[]":b=[b],e.forEach(b,function(te){e.isDate(te)?te=te.toISOString():e.isObject(te)&&(te=JSON.stringify(te)),f.push(i(me)+"="+i(te))}))}),d=f.join("&")}if(d){var re=a.indexOf("#");re!==-1&&(a=a.slice(0,re)),a+=(a.indexOf("?")===-1?"?":"&")+d}return a},buildURL}var InterceptorManager_1,hasRequiredInterceptorManager;function requireInterceptorManager(){if(hasRequiredInterceptorManager)return InterceptorManager_1;hasRequiredInterceptorManager=1;var e=requireUtils();function i(){this.handlers=[]}return i.prototype.use=function(a,c,h){return this.handlers.push({fulfilled:a,rejected:c,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)},i.prototype.forEach=function(a){e.forEach(this.handlers,function(h){h!==null&&a(h)})},InterceptorManager_1=i,InterceptorManager_1}var normalizeHeaderName,hasRequiredNormalizeHeaderName;function requireNormalizeHeaderName(){if(hasRequiredNormalizeHeaderName)return normalizeHeaderName;hasRequiredNormalizeHeaderName=1;var e=requireUtils();return normalizeHeaderName=function(o,a){e.forEach(o,function(h,d){d!==a&&d.toUpperCase()===a.toUpperCase()&&(o[a]=h,delete o[d])})},normalizeHeaderName}var enhanceError,hasRequiredEnhanceError;function requireEnhanceError(){return hasRequiredEnhanceError||(hasRequiredEnhanceError=1,enhanceError=function(i,o,a,c,h){return i.config=o,a&&(i.code=a),i.request=c,i.response=h,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}),enhanceError}var createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=requireEnhanceError();return createError=function(o,a,c,h,d){var f=new Error(o);return e(f,a,c,h,d)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(o,a,c){var h=c.config.validateStatus;!c.status||!h||h(c.status)?o(c):a(e("Request failed with status code "+c.status,c.config,null,c.request,c))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=requireUtils();return cookies=e.isStandardBrowserEnv()?function(){return{write:function(a,c,h,d,f,re){var _=[];_.push(a+"="+encodeURIComponent(c)),e.isNumber(h)&&_.push("expires="+new Date(h).toGMTString()),e.isString(d)&&_.push("path="+d),e.isString(f)&&_.push("domain="+f),re===!0&&_.push("secure"),document.cookie=_.join("; ")},read:function(a){var c=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(i,o){return o?i.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):i}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),i=requireCombineURLs();return buildFullPath=function(a,c){return a&&!e(c)?i(a,c):c},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=requireUtils(),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(a){var c={},h,d,f;return a&&e.forEach(a.split(`
`),function(_){if(f=_.indexOf(":"),h=e.trim(_.substr(0,f)).toLowerCase(),d=e.trim(_.substr(f+1)),h){if(c[h]&&i.indexOf(h)>=0)return;h==="set-cookie"?c[h]=(c[h]?c[h]:[]).concat([d]):c[h]=c[h]?c[h]+", "+d:d}}),c},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=requireUtils();return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),c;function h(d){var f=d;return o&&(a.setAttribute("href",f),f=a.href),a.setAttribute("href",f),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return c=h(window.location.href),function(f){var re=e.isString(f)?h(f):f;return re.protocol===c.protocol&&re.host===c.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=requireUtils(),i=requireSettle(),o=requireCookies(),a=requireBuildURL(),c=requireBuildFullPath(),h=requireParseHeaders(),d=requireIsURLSameOrigin(),f=requireCreateError();return xhr=function(_){return new Promise(function(me,Se){var te=_.data,$=_.headers,_e=_.responseType;e.isFormData(te)&&delete $["Content-Type"];var j=new XMLHttpRequest;if(_.auth){var g=_.auth.username||"",ee=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";$.Authorization="Basic "+btoa(g+":"+ee)}var ie=c(_.baseURL,_.url);j.open(_.method.toUpperCase(),a(ie,_.params,_.paramsSerializer),!0),j.timeout=_.timeout;function q(){if(j){var he="getAllResponseHeaders"in j?h(j.getAllResponseHeaders()):null,le=!_e||_e==="text"||_e==="json"?j.responseText:j.response,oe={data:le,status:j.status,statusText:j.statusText,headers:he,config:_,request:j};i(me,Se,oe),j=null}}if("onloadend"in j?j.onloadend=q:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(q)},j.onabort=function(){j&&(Se(f("Request aborted",_,"ECONNABORTED",j)),j=null)},j.onerror=function(){Se(f("Network Error",_,null,j)),j=null},j.ontimeout=function(){var le="timeout of "+_.timeout+"ms exceeded";_.timeoutErrorMessage&&(le=_.timeoutErrorMessage),Se(f(le,_,_.transitional&&_.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",j)),j=null},e.isStandardBrowserEnv()){var ne=(_.withCredentials||d(ie))&&_.xsrfCookieName?o.read(_.xsrfCookieName):void 0;ne&&($[_.xsrfHeaderName]=ne)}"setRequestHeader"in j&&e.forEach($,function(le,oe){typeof te>"u"&&oe.toLowerCase()==="content-type"?delete $[oe]:j.setRequestHeader(oe,le)}),e.isUndefined(_.withCredentials)||(j.withCredentials=!!_.withCredentials),_e&&_e!=="json"&&(j.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&j.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",_.onUploadProgress),_.cancelToken&&_.cancelToken.promise.then(function(le){j&&(j.abort(),Se(le),j=null)}),te||(te=null),j.send(te)})},xhr}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=requireUtils(),i=requireNormalizeHeaderName(),o=requireEnhanceError(),a={"Content-Type":"application/x-www-form-urlencoded"};function c(re,_){!e.isUndefined(re)&&e.isUndefined(re["Content-Type"])&&(re["Content-Type"]=_)}function h(){var re;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(re=requireXhr()),re}function d(re,_,b){if(e.isString(re))try{return(_||JSON.parse)(re),e.trim(re)}catch(me){if(me.name!=="SyntaxError")throw me}return(b||JSON.stringify)(re)}var f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:h(),transformRequest:[function(_,b){return i(b,"Accept"),i(b,"Content-Type"),e.isFormData(_)||e.isArrayBuffer(_)||e.isBuffer(_)||e.isStream(_)||e.isFile(_)||e.isBlob(_)?_:e.isArrayBufferView(_)?_.buffer:e.isURLSearchParams(_)?(c(b,"application/x-www-form-urlencoded;charset=utf-8"),_.toString()):e.isObject(_)||b&&b["Content-Type"]==="application/json"?(c(b,"application/json"),d(_)):_}],transformResponse:[function(_){var b=this.transitional,me=b&&b.silentJSONParsing,Se=b&&b.forcedJSONParsing,te=!me&&this.responseType==="json";if(te||Se&&e.isString(_)&&_.length)try{return JSON.parse(_)}catch($){if(te)throw $.name==="SyntaxError"?o($,this,"E_JSON_PARSE"):$}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(_){return _>=200&&_<300}};return f.headers={common:{Accept:"application/json, text/plain, */*"}},e.forEach(["delete","get","head"],function(_){f.headers[_]={}}),e.forEach(["post","put","patch"],function(_){f.headers[_]=e.merge(a)}),defaults_1=f,defaults_1}var transformData,hasRequiredTransformData;function requireTransformData(){if(hasRequiredTransformData)return transformData;hasRequiredTransformData=1;var e=requireUtils(),i=requireDefaults();return transformData=function(a,c,h){var d=this||i;return e.forEach(h,function(re){a=re.call(d,a,c)}),a},transformData}var isCancel,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel=function(i){return!!(i&&i.__CANCEL__)}),isCancel}var dispatchRequest,hasRequiredDispatchRequest;function requireDispatchRequest(){if(hasRequiredDispatchRequest)return dispatchRequest;hasRequiredDispatchRequest=1;var e=requireUtils(),i=requireTransformData(),o=requireIsCancel(),a=requireDefaults();function c(h){h.cancelToken&&h.cancelToken.throwIfRequested()}return dispatchRequest=function(d){c(d),d.headers=d.headers||{},d.data=i.call(d,d.data,d.headers,d.transformRequest),d.headers=e.merge(d.headers.common||{},d.headers[d.method]||{},d.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(_){delete d.headers[_]});var f=d.adapter||a.adapter;return f(d).then(function(_){return c(d),_.data=i.call(d,_.data,_.headers,d.transformResponse),_},function(_){return o(_)||(c(d),_&&_.response&&(_.response.data=i.call(d,_.response.data,_.response.headers,d.transformResponse))),Promise.reject(_)})},dispatchRequest}var mergeConfig,hasRequiredMergeConfig;function requireMergeConfig(){if(hasRequiredMergeConfig)return mergeConfig;hasRequiredMergeConfig=1;var e=requireUtils();return mergeConfig=function(o,a){a=a||{};var c={},h=["url","method","data"],d=["headers","auth","proxy","params"],f=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],re=["validateStatus"];function _(te,$){return e.isPlainObject(te)&&e.isPlainObject($)?e.merge(te,$):e.isPlainObject($)?e.merge({},$):e.isArray($)?$.slice():$}function b(te){e.isUndefined(a[te])?e.isUndefined(o[te])||(c[te]=_(void 0,o[te])):c[te]=_(o[te],a[te])}e.forEach(h,function($){e.isUndefined(a[$])||(c[$]=_(void 0,a[$]))}),e.forEach(d,b),e.forEach(f,function($){e.isUndefined(a[$])?e.isUndefined(o[$])||(c[$]=_(void 0,o[$])):c[$]=_(void 0,a[$])}),e.forEach(re,function($){$ in a?c[$]=_(o[$],a[$]):$ in o&&(c[$]=_(void 0,o[$]))});var me=h.concat(d).concat(f).concat(re),Se=Object.keys(o).concat(Object.keys(a)).filter(function($){return me.indexOf($)===-1});return e.forEach(Se,b),c},mergeConfig}const version="0.21.4",require$$0={version};var validator,hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1;var e=require$$0,i={};["object","boolean","number","function","string","symbol"].forEach(function(d,f){i[d]=function(_){return typeof _===d||"a"+(f<1?"n ":" ")+d}});var o={},a=e.version.split(".");function c(d,f){for(var re=f?f.split("."):a,_=d.split("."),b=0;b<3;b++){if(re[b]>_[b])return!0;if(re[b]<_[b])return!1}return!1}i.transitional=function(f,re,_){var b=re&&c(re);function me(Se,te){return"[Axios v"+e.version+"] Transitional option '"+Se+"'"+te+(_?". "+_:"")}return function(Se,te,$){if(f===!1)throw new Error(me(te," has been removed in "+re));return b&&!o[te]&&(o[te]=!0,console.warn(me(te," has been deprecated since v"+re+" and will be removed in the near future"))),f?f(Se,te,$):!0}};function h(d,f,re){if(typeof d!="object")throw new TypeError("options must be an object");for(var _=Object.keys(d),b=_.length;b-- >0;){var me=_[b],Se=f[me];if(Se){var te=d[me],$=te===void 0||Se(te,me,d);if($!==!0)throw new TypeError("option "+me+" must be "+$);continue}if(re!==!0)throw Error("Unknown option "+me)}}return validator={isOlderVersion:c,assertOptions:h,validators:i},validator}var Axios_1,hasRequiredAxios$2;function requireAxios$2(){if(hasRequiredAxios$2)return Axios_1;hasRequiredAxios$2=1;var e=requireUtils(),i=requireBuildURL(),o=requireInterceptorManager(),a=requireDispatchRequest(),c=requireMergeConfig(),h=requireValidator(),d=h.validators;function f(re){this.defaults=re,this.interceptors={request:new o,response:new o}}return f.prototype.request=function(_){typeof _=="string"?(_=arguments[1]||{},_.url=arguments[0]):_=_||{},_=c(this.defaults,_),_.method?_.method=_.method.toLowerCase():this.defaults.method?_.method=this.defaults.method.toLowerCase():_.method="get";var b=_.transitional;b!==void 0&&h.assertOptions(b,{silentJSONParsing:d.transitional(d.boolean,"1.0.0"),forcedJSONParsing:d.transitional(d.boolean,"1.0.0"),clarifyTimeoutError:d.transitional(d.boolean,"1.0.0")},!1);var me=[],Se=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(_)===!1||(Se=Se&&q.synchronous,me.unshift(q.fulfilled,q.rejected))});var te=[];this.interceptors.response.forEach(function(q){te.push(q.fulfilled,q.rejected)});var $;if(!Se){var _e=[a,void 0];for(Array.prototype.unshift.apply(_e,me),_e=_e.concat(te),$=Promise.resolve(_);_e.length;)$=$.then(_e.shift(),_e.shift());return $}for(var j=_;me.length;){var g=me.shift(),ee=me.shift();try{j=g(j)}catch(ie){ee(ie);break}}try{$=a(j)}catch(ie){return Promise.reject(ie)}for(;te.length;)$=$.then(te.shift(),te.shift());return $},f.prototype.getUri=function(_){return _=c(this.defaults,_),i(_.url,_.params,_.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(_){f.prototype[_]=function(b,me){return this.request(c(me||{},{method:_,url:b,data:(me||{}).data}))}}),e.forEach(["post","put","patch"],function(_){f.prototype[_]=function(b,me,Se){return this.request(c(Se||{},{method:_,url:b,data:me}))}}),Axios_1=f,Axios_1}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function e(i){this.message=i}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function i(o){if(typeof o!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(d){a=d});var c=this;o(function(d){c.reason||(c.reason=new e(d),a(c.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var a,c=new i(function(d){a=d});return{token:c,cancel:a}},CancelToken_1=i,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(i){return function(a){return i.apply(null,a)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){return hasRequiredIsAxiosError||(hasRequiredIsAxiosError=1,isAxiosError=function(i){return typeof i=="object"&&i.isAxiosError===!0}),isAxiosError}var hasRequiredAxios$1;function requireAxios$1(){if(hasRequiredAxios$1)return axios$1.exports;hasRequiredAxios$1=1;var e=requireUtils(),i=requireBind(),o=requireAxios$2(),a=requireMergeConfig(),c=requireDefaults();function h(f){var re=new o(f),_=i(o.prototype.request,re);return e.extend(_,o.prototype,re),e.extend(_,re),_}var d=h(c);return d.Axios=o,d.create=function(re){return h(a(d.defaults,re))},d.Cancel=requireCancel(),d.CancelToken=requireCancelToken(),d.isCancel=requireIsCancel(),d.all=function(re){return Promise.all(re)},d.spread=requireSpread(),d.isAxiosError=requireIsAxiosError(),axios$1.exports=d,axios$1.exports.default=d,axios$1.exports}var axios,hasRequiredAxios;function requireAxios(){return hasRequiredAxios||(hasRequiredAxios=1,axios=requireAxios$1()),axios}(function(e,i){(function(o,a){a(i,reactExports,requireMinimatch(),requireAxios())})(commonjsGlobal,function(o,a,c,h){function d(g){return g&&typeof g=="object"&&"default"in g?g:{default:g}}var f=d(a),re=d(c),_=d(h),b=function(){return(b=Object.assign||function(g){for(var ee,ie=1,q=arguments.length;ie<q;ie++)for(var ne in ee=arguments[ie])Object.prototype.hasOwnProperty.call(ee,ne)&&(g[ne]=ee[ne]);return g}).apply(this,arguments)};function me(g,ee,ie,q){return new(ie||(ie=Promise))(function(ne,he){function le(xe){try{ce(q.next(xe))}catch(se){he(se)}}function oe(xe){try{ce(q.throw(xe))}catch(se){he(se)}}function ce(xe){var se;xe.done?ne(xe.value):(se=xe.value,se instanceof ie?se:new ie(function(be){be(se)})).then(le,oe)}ce((q=q.apply(g,[])).next())})}function Se(g,ee){var ie,q,ne,he,le={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return he={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function oe(ce){return function(xe){return function(se){if(ie)throw new TypeError("Generator is already executing.");for(;le;)try{if(ie=1,q&&(ne=2&se[0]?q.return:se[0]?q.throw||((ne=q.return)&&ne.call(q),0):q.next)&&!(ne=ne.call(q,se[1])).done)return ne;switch(q=0,ne&&(se=[2&se[0],ne.value]),se[0]){case 0:case 1:ne=se;break;case 4:return le.label++,{value:se[1],done:!1};case 5:le.label++,q=se[1],se=[0];continue;case 7:se=le.ops.pop(),le.trys.pop();continue;default:if(ne=le.trys,!((ne=ne.length>0&&ne[ne.length-1])||se[0]!==6&&se[0]!==2)){le=0;continue}if(se[0]===3&&(!ne||se[1]>ne[0]&&se[1]<ne[3])){le.label=se[1];break}if(se[0]===6&&le.label<ne[1]){le.label=ne[1],ne=se;break}if(ne&&le.label<ne[2]){le.label=ne[2],le.ops.push(se);break}ne[2]&&le.ops.pop(),le.trys.pop();continue}se=ee.call(g,le)}catch(be){se=[6,be],q=0}finally{ie=ne=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([ce,xe])}}}var te=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}];function $(g,ee,ie){return me(this,void 0,void 0,function(){var q,ne,he,le,oe,ce,xe;return Se(this,function(se){switch(se.label){case 0:if(q=_e(ie.url,ee),ne=q.base_url,he=q.requestInterceptor,le=q.responceInterceptor,oe=q.getResponce,!ne)throw Error("Invalid url: cannot guess oembed endpoint");return ne==="OVERRIDE"?[2,oe==null?void 0:oe(ie)]:(ce=function(be,Ae){be.endsWith("/")&&(be=be.slice(0,-1));var Ie=/\{format\}/gi;if(be.match(Ie)&&(be=be.replace(Ie,"json")),!Ae)return be;var Re=/\{url\}/gi,Fe=/\{raw_url\}/gi;return Ae.match(Fe)?Ae.replace(Fe,be):Ae.match(Re)?(be=encodeURIComponent(be),Ae.replace(Re,be)):(Ae.endsWith("/")&&(Ae=Ae.slice(0,-1)),Ae+"/"+be)}(ne,g),xe=_.default.create(),he&&xe.interceptors.request.use(he),le&&xe.interceptors.response.use(le),[4,xe.get(ce,{params:ie})]);case 1:return[2,se.sent().data]}})})}function _e(g,ee){var ie,q,ne,he;return(ee=ee||te).forEach(function(le){var oe;le.endpoints.forEach(function(ce){(function(xe,se){var be=!!se.find(function(Ae){return re.default(xe,Ae,{nocase:!0})});return be||!!se.find(function(Ae){return re.default(xe,Ae.replace(/\*/g,"**"),{nocase:!0})})})(g,ce.schemes)&&(oe=ce)}),oe&&(ie=oe.url,q=le.requestInterceptor,ne=le.responceInterceptor,he=le.getResponce)}),{base_url:ie,requestInterceptor:q,responceInterceptor:ne,getResponce:he}}function j(g,ee,ie){var q=[];a.useEffect(function(){var ne=document.createElement("div");return ne.innerHTML=g,ne.querySelectorAll("script").forEach(function(he){var le=document.createElement("script");Array.from(he.attributes).forEach(function(oe){oe.nodeName!=="id"&&le.setAttribute(oe.nodeName,oe.nodeValue||"")}),le.innerHTML=he.innerHTML,Object.entries(ee||{}).forEach(function(oe){var ce=oe[0],xe=oe[1];le.setAttribute(ce,xe)}),document.body.appendChild(le),q=q.concat(le)}),function(){q.forEach(function(he){document.body.removeChild(he)}),q=[]}},ie||[g])}o.default=function(g){var ee=g.url,ie=g.proxy,q=g.style,ne=g.options,he=g.providers,le=g.ImgComponent,oe=g.LinkComponent,ce=g.FallbackElement,xe=g.LoadingFallbackElement,se=a.useState(void 0),be=se[0],Ae=se[1],Ie=a.useState("idle"),Re=Ie[0],Fe=Ie[1],Ce=a.useState(""),ke=Ce[0],we=Ce[1];j(ke,{defer:""}),a.useEffect(function(){Re==="idle"&&function(){me(this,void 0,void 0,function(){var ye,ae;return Se(this,function(de){switch(de.label){case 0:return de.trys.push([0,2,,3]),Fe("loading"),[4,$(ie,he,b(b({url:ee,maxwidth:700,maxheight:500,align:"center"},ne),{format:"json"}))];case 1:if(!(ye=de.sent()))throw Error("Nill embed responce");return Fe("done"),Ae(ye),ye.html&&we(ye.html),[3,3];case 2:return ae=de.sent(),console.error("Error",ae),Fe("error"),[3,3];case 3:return[2]}})})}()},[Re]);var Pe,fe=f.default.createElement("a",{href:ee,target:"_blank",rel:"nofollow noreferrer noopener"},ee);return be&&!be.html&&(be.type==="photo"?Pe=le?f.default.createElement(le,{responce:be}):f.default.createElement("img",{alt:"",src:be.url}):be.type==="link"&&(Pe=oe?f.default.createElement(oe,{responce:be}):f.default.createElement("a",{href:ee,target:"_blank",rel:"nofollow noreferrer noopener"},ee))),Re==="loading"||Re==="idle"?xe||fe:Re==="error"?ce||fe:f.default.createElement("span",{style:q,className:"__embed __embed_column"},Pe,ke&&f.default.createElement("span",{className:"__embed_column",dangerouslySetInnerHTML:{__html:ke}}),f.default.createElement("style",null,`.__embed {
    margin: auto;
    width: 100%;
    max-width: 700px;
} 
.__embed iframe {
    width: 100%;
    margin: auto;
}
.__embed img, .__embed video {
    width: 100%;
    margin: 0;
}
.__embed blockquote {
    margin: 0;
}
.__embed span {
    border: 0;
} 
.__embed_column {
    width: 100%;
    display: flex;
    flex-direction: column;
}`))},o.defaultProviders=te,o.getEndpoint=_e,o.requestEmbed=$,o.useScript=j,Object.defineProperty(o,"__esModule",{value:!0})})})(lib$2,lib$2.exports);var libExports=lib$2.exports;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(j,g){return Object.defineProperty?Object.defineProperty(j,"raw",{value:g}):j.raw=g,j},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(j){for(var g,ee=1,ie=arguments.length;ee<ie;ee++){g=arguments[ee];for(var q in g)Object.prototype.hasOwnProperty.call(g,q)&&(j[q]=g[q])}return j},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,g,ee,ie){ie===void 0&&(ie=ee);var q=Object.getOwnPropertyDescriptor(g,ee);(!q||("get"in q?!g.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return g[ee]}}),Object.defineProperty(j,ie,q)}:function(j,g,ee,ie){ie===void 0&&(ie=ee),j[ie]=g[ee]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(j,g){Object.defineProperty(j,"default",{enumerable:!0,value:g})}:function(j,g){j.default=g}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(j){if(j&&j.__esModule)return j;var g={};if(j!=null)for(var ee in j)ee!=="default"&&Object.prototype.hasOwnProperty.call(j,ee)&&a(g,j,ee);return c(g,j),g},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.OEmbedPlayer=void 0;var f=jsxRuntimeExports,re=d(libExports),_=h(require$$6$1),b=requireLib(),me=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*","https://*.youtube.com/shorts/*","https://youtube.com/shorts/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}],Se=(0,_.default)("div")($||($=i([`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`],[`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`]))),te=function(j){var g=j.ratio,ee=g===void 0?9/16:g,ie=j.className,q=ie===void 0?"":ie;return(0,f.jsx)(Se,o({className:"wellms-component ".concat(q)},{children:(0,f.jsx)(b.RatioBox,o({ratio:ee},{children:(0,f.jsx)(re.default,o({},j,{providers:me}))}))}))};e.OEmbedPlayer=te,e.default=(0,_.withTheme)((0,_.default)(e.OEmbedPlayer)(_e||(_e=i([""],[""]))));var $,_e})(OEmbedPlayer);var AudioVideoPlayer={},loadScript=function(i,o,a){var c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("script");typeof o=="function"&&(a=o,o={}),o=o||{},a=a||function(){},h.type=o.type||"text/javascript",h.charset=o.charset||"utf8",h.async="async"in o?!!o.async:!0,h.src=i,o.attrs&&setAttributes(h,o.attrs),o.text&&(h.text=""+o.text);var d="onload"in h?stdOnEnd:ieOnEnd;d(h,a),h.onload||stdOnEnd(h,a),c.appendChild(h)};function setAttributes(e,i){for(var o in i)e.setAttribute(o,i[o])}function stdOnEnd(e,i){e.onload=function(){this.onerror=this.onload=null,i(null,e)},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),e)}}function ieOnEnd(e,i){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,e))}}var isMergeableObject=function(i){return isNonNullObject(i)&&!isSpecial(i)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var i=Object.prototype.toString.call(e);return i==="[object RegExp]"||i==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,i){return i.clone!==!1&&i.isMergeableObject(e)?deepmerge(emptyTarget(e),e,i):e}function defaultArrayMerge(e,i,o){return e.concat(i).map(function(a){return cloneUnlessOtherwiseSpecified(a,o)})}function getMergeFunction(e,i){if(!i.customMerge)return deepmerge;var o=i.customMerge(e);return typeof o=="function"?o:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(i){return Object.propertyIsEnumerable.call(e,i)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,i){try{return i in e}catch{return!1}}function propertyIsUnsafe(e,i){return propertyIsOnObject(e,i)&&!(Object.hasOwnProperty.call(e,i)&&Object.propertyIsEnumerable.call(e,i))}function mergeObject(e,i,o){var a={};return o.isMergeableObject(e)&&getKeys(e).forEach(function(c){a[c]=cloneUnlessOtherwiseSpecified(e[c],o)}),getKeys(i).forEach(function(c){propertyIsUnsafe(e,c)||(propertyIsOnObject(e,c)&&o.isMergeableObject(i[c])?a[c]=getMergeFunction(c,o)(e[c],i[c],o):a[c]=cloneUnlessOtherwiseSpecified(i[c],o))}),a}function deepmerge(e,i,o){o=o||{},o.arrayMerge=o.arrayMerge||defaultArrayMerge,o.isMergeableObject=o.isMergeableObject||isMergeableObject,o.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var a=Array.isArray(i),c=Array.isArray(e),h=a===c;return h?a?o.arrayMerge(e,i,o):mergeObject(e,i,o):cloneUnlessOtherwiseSpecified(i,o)}deepmerge.all=function(i,o){if(!Array.isArray(i))throw new Error("first argument should be an array");return i.reduce(function(a,c){return deepmerge(a,c,o)},{})};var deepmerge_1=deepmerge,cjs$5=deepmerge_1,__create$4=Object.create,__defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__getProtoOf$4=Object.getPrototypeOf,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$6=(e,i)=>{for(var o in i)__defProp$6(e,o,{get:i[o],enumerable:!0})},__copyProps$6=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$6(i))!__hasOwnProp$6.call(e,c)&&c!==o&&__defProp$6(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$6(i,c))||a.enumerable});return e},__toESM$4=(e,i,o)=>(o=e!=null?__create$4(__getProtoOf$4(e)):{},__copyProps$6(!e||!e.__esModule?__defProp$6(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$6=e=>__copyProps$6(__defProp$6({},"__esModule",{value:!0}),e),utils_exports={};__export$6(utils_exports,{callPlayer:()=>callPlayer,getConfig:()=>getConfig,getSDK:()=>getSDK,isBlobUrl:()=>isBlobUrl,isMediaStream:()=>isMediaStream,lazy:()=>lazy,omit:()=>omit,parseEndTime:()=>parseEndTime,parseStartTime:()=>parseStartTime,queryString:()=>queryString,randomString:()=>randomString,supportsWebKitPresentationMode:()=>supportsWebKitPresentationMode});var utils$1=__toCommonJS$6(utils_exports),import_react$2=__toESM$4(reactExports),import_load_script=__toESM$4(loadScript),import_deepmerge$1=__toESM$4(cjs$5);const lazy=e=>import_react$2.default.lazy(async()=>{const i=await e();return typeof i.default=="function"?i:i.default}),MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(e,i){if(e instanceof Array)return;const o=e.match(i);if(o){const a=o[1];if(a.match(MATCH_START_STAMP))return parseTimeString(a);if(MATCH_NUMERIC.test(a))return parseInt(a)}}function parseTimeString(e){let i=0,o=MATCH_START_STAMP.exec(e);for(;o!==null;){const[,a,c]=o;c==="h"&&(i+=parseInt(a,10)*60*60),c==="m"&&(i+=parseInt(a,10)*60),c==="s"&&(i+=parseInt(a,10)),o=MATCH_START_STAMP.exec(e)}return i}function parseStartTime(e){return parseTimeParam(e,MATCH_START_QUERY)}function parseEndTime(e){return parseTimeParam(e,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(e){return Object.keys(e).map(i=>`${i}=${e[i]}`).join("&")}function getGlobal(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const requests={},getSDK=function(i,o,a=null,c=()=>!0,h=import_load_script.default){const d=getGlobal(o);return d&&c(d)?Promise.resolve(d):new Promise((f,re)=>{if(requests[i]){requests[i].push({resolve:f,reject:re});return}requests[i]=[{resolve:f,reject:re}];const _=b=>{requests[i].forEach(me=>me.resolve(b))};if(a){const b=window[a];window[a]=function(){b&&b(),_(getGlobal(o))}}h(i,b=>{b?(requests[i].forEach(me=>me.reject(b)),requests[i]=null):a||_(getGlobal(o))})})};function getConfig(e,i){return(0,import_deepmerge$1.default)(i.config,e.config)}function omit(e,...i){const o=[].concat(...i),a={},c=Object.keys(e);for(const h of c)o.indexOf(h)===-1&&(a[h]=e[h]);return a}function callPlayer(e,...i){if(!this.player||!this.player[e]){let o=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(o+="The method was not available"):o+="The player was not available",console.warn(o,"font-weight: bold",""),null}return this.player[e](...i)}function isMediaStream(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function isBlobUrl(e){return/^blob:/.test(e)}function supportsWebKitPresentationMode(e=document.createElement("video")){const i=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&i}function enableStubOn(e){return e}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$5=(e,i)=>{for(var o in i)__defProp$5(e,o,{get:i[o],enumerable:!0})},__copyProps$5=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$5(i))!__hasOwnProp$5.call(e,c)&&c!==o&&__defProp$5(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$5(i,c))||a.enumerable});return e},__toCommonJS$5=e=>__copyProps$5(__defProp$5({},"__esModule",{value:!0}),e),patterns_exports={};__export$5(patterns_exports,{AUDIO_EXTENSIONS:()=>AUDIO_EXTENSIONS,DASH_EXTENSIONS:()=>DASH_EXTENSIONS,FLV_EXTENSIONS:()=>FLV_EXTENSIONS,HLS_EXTENSIONS:()=>HLS_EXTENSIONS,MATCH_URL_DAILYMOTION:()=>MATCH_URL_DAILYMOTION,MATCH_URL_FACEBOOK:()=>MATCH_URL_FACEBOOK,MATCH_URL_FACEBOOK_WATCH:()=>MATCH_URL_FACEBOOK_WATCH,MATCH_URL_KALTURA:()=>MATCH_URL_KALTURA,MATCH_URL_MIXCLOUD:()=>MATCH_URL_MIXCLOUD,MATCH_URL_MUX:()=>MATCH_URL_MUX,MATCH_URL_SOUNDCLOUD:()=>MATCH_URL_SOUNDCLOUD,MATCH_URL_STREAMABLE:()=>MATCH_URL_STREAMABLE,MATCH_URL_TWITCH_CHANNEL:()=>MATCH_URL_TWITCH_CHANNEL,MATCH_URL_TWITCH_VIDEO:()=>MATCH_URL_TWITCH_VIDEO,MATCH_URL_VIDYARD:()=>MATCH_URL_VIDYARD,MATCH_URL_VIMEO:()=>MATCH_URL_VIMEO,MATCH_URL_WISTIA:()=>MATCH_URL_WISTIA,MATCH_URL_YOUTUBE:()=>MATCH_URL_YOUTUBE,VIDEO_EXTENSIONS:()=>VIDEO_EXTENSIONS,canPlay:()=>canPlay});var patterns=__toCommonJS$5(patterns_exports),import_utils$3=utils$1;const MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/,MATCH_URL_MUX=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/,MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/,MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/,MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,HLS_EXTENSIONS=/\.(m3u8)($|\?)/i,DASH_EXTENSIONS=/\.(mpd)($|\?)/i,FLV_EXTENSIONS=/\.(flv)($|\?)/i,canPlayFile=e=>{if(e instanceof Array){for(const i of e)if(typeof i=="string"&&canPlayFile(i)||canPlayFile(i.src))return!0;return!1}return(0,import_utils$3.isMediaStream)(e)||(0,import_utils$3.isBlobUrl)(e)?!0:AUDIO_EXTENSIONS.test(e)||VIDEO_EXTENSIONS.test(e)||HLS_EXTENSIONS.test(e)||DASH_EXTENSIONS.test(e)||FLV_EXTENSIONS.test(e)},canPlay={youtube:e=>e instanceof Array?e.every(i=>MATCH_URL_YOUTUBE.test(i)):MATCH_URL_YOUTUBE.test(e),soundcloud:e=>MATCH_URL_SOUNDCLOUD.test(e)&&!AUDIO_EXTENSIONS.test(e),vimeo:e=>MATCH_URL_VIMEO.test(e)&&!VIDEO_EXTENSIONS.test(e)&&!HLS_EXTENSIONS.test(e),mux:e=>MATCH_URL_MUX.test(e),facebook:e=>MATCH_URL_FACEBOOK.test(e)||MATCH_URL_FACEBOOK_WATCH.test(e),streamable:e=>MATCH_URL_STREAMABLE.test(e),wistia:e=>MATCH_URL_WISTIA.test(e),twitch:e=>MATCH_URL_TWITCH_VIDEO.test(e)||MATCH_URL_TWITCH_CHANNEL.test(e),dailymotion:e=>MATCH_URL_DAILYMOTION.test(e),mixcloud:e=>MATCH_URL_MIXCLOUD.test(e),vidyard:e=>MATCH_URL_VIDYARD.test(e),kaltura:e=>MATCH_URL_KALTURA.test(e),file:canPlayFile};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$4=(e,i)=>{for(var o in i)__defProp$4(e,o,{get:i[o],enumerable:!0})},__copyProps$4=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$4(i))!__hasOwnProp$4.call(e,c)&&c!==o&&__defProp$4(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$4(i,c))||a.enumerable});return e},__toCommonJS$4=e=>__copyProps$4(__defProp$4({},"__esModule",{value:!0}),e),players_exports={};__export$4(players_exports,{default:()=>players_default});var players=__toCommonJS$4(players_exports),import_utils$2=utils$1,import_patterns=patterns,players_default=[{key:"youtube",name:"YouTube",canPlay:import_patterns.canPlay.youtube,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./YouTube-DlmT3wXK.js").then(e=>e.Y),__vite__mapDeps([0,1,2,3])))},{key:"soundcloud",name:"SoundCloud",canPlay:import_patterns.canPlay.soundcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./SoundCloud-2Og6XXXZ.js").then(e=>e.S),__vite__mapDeps([4,1,2,3])))},{key:"vimeo",name:"Vimeo",canPlay:import_patterns.canPlay.vimeo,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vimeo-DJUyZQiU.js").then(e=>e.V),__vite__mapDeps([5,1,2,3])))},{key:"mux",name:"Mux",canPlay:import_patterns.canPlay.mux,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mux-BpCErgws.js").then(e=>e.M),__vite__mapDeps([6,7,3,1,2,8,9])))},{key:"facebook",name:"Facebook",canPlay:import_patterns.canPlay.facebook,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Facebook-BqmHq-M9.js").then(e=>e.F),__vite__mapDeps([10,1,2,3])))},{key:"streamable",name:"Streamable",canPlay:import_patterns.canPlay.streamable,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Streamable-EpS8zIkn.js").then(e=>e.S),__vite__mapDeps([11,1,2,3])))},{key:"wistia",name:"Wistia",canPlay:import_patterns.canPlay.wistia,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Wistia-02nzohYI.js").then(e=>e.W),__vite__mapDeps([12,1,2,3])))},{key:"twitch",name:"Twitch",canPlay:import_patterns.canPlay.twitch,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Twitch-p-Vtm1oK.js").then(e=>e.T),__vite__mapDeps([13,1,2,3])))},{key:"dailymotion",name:"DailyMotion",canPlay:import_patterns.canPlay.dailymotion,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./DailyMotion-Bns4vO-o.js").then(e=>e.D),__vite__mapDeps([14,1,2,3])))},{key:"mixcloud",name:"Mixcloud",canPlay:import_patterns.canPlay.mixcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mixcloud-CufEuZ1b.js").then(e=>e.M),__vite__mapDeps([15,1,2,3])))},{key:"vidyard",name:"Vidyard",canPlay:import_patterns.canPlay.vidyard,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vidyard-Bh-Qmw-o.js").then(e=>e.V),__vite__mapDeps([16,1,2,3])))},{key:"kaltura",name:"Kaltura",canPlay:import_patterns.canPlay.kaltura,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Kaltura-Dx45_77Y.js").then(e=>e.K),__vite__mapDeps([17,1,2,3])))},{key:"file",name:"FilePlayer",canPlay:import_patterns.canPlay.file,canEnablePIP:e=>import_patterns.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,import_utils$2.supportsWebKitPresentationMode)())&&!import_patterns.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./FilePlayer-Bh9knXpL.js").then(e=>e.F),__vite__mapDeps([18,1,2,3])))}],safeIsNaN=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function isEqual(e,i){return!!(e===i||safeIsNaN(e)&&safeIsNaN(i))}function areInputsEqual(e,i){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!isEqual(e[o],i[o]))return!1;return!0}function memoizeOne(e,i){i===void 0&&(i=areInputsEqual);var o,a=[],c,h=!1;function d(){for(var f=[],re=0;re<arguments.length;re++)f[re]=arguments[re];return h&&o===this&&i(f,a)||(c=e.apply(this,f),h=!0,o=this,a=f),c}return d}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var o,a,c;if(Array.isArray(e)){if(o=e.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!equal(e[a],i[a]))return!1;return!0}var h;if(hasMap&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!i.has(a.value[0]))return!1;for(h=e.entries();!(a=h.next()).done;)if(!equal(a.value[1],i.get(a.value[0])))return!1;return!0}if(hasSet&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!i.has(a.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if(o=e.length,o!=i.length)return!1;for(a=o;a--!==0;)if(e[a]!==i[a])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof i.valueOf=="function")return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof i.toString=="function")return e.toString()===i.toString();if(c=Object.keys(e),o=c.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[a]))return!1;if(hasElementType&&e instanceof Element)return!1;for(a=o;a--!==0;)if(!((c[a]==="_owner"||c[a]==="__v"||c[a]==="__o")&&e.$$typeof)&&!equal(e[c[a]],i[c[a]]))return!1;return!0}return e!==e&&i!==i}var reactFastCompare=function(i,o){try{return equal(i,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},__create$3=Object.create,__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__getProtoOf$3=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$3=(e,i)=>{for(var o in i)__defProp$3(e,o,{get:i[o],enumerable:!0})},__copyProps$3=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$3(i))!__hasOwnProp$3.call(e,c)&&c!==o&&__defProp$3(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$3(i,c))||a.enumerable});return e},__toESM$3=(e,i,o)=>(o=e!=null?__create$3(__getProtoOf$3(e)):{},__copyProps$3(!e||!e.__esModule?__defProp$3(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$3=e=>__copyProps$3(__defProp$3({},"__esModule",{value:!0}),e),props_exports={};__export$3(props_exports,{defaultProps:()=>defaultProps,propTypes:()=>propTypes$1});var props=__toCommonJS$3(props_exports),import_prop_types=__toESM$3(propTypesExports);const{string,bool,number,array,oneOfType,shape,object,func,node}=import_prop_types.default,propTypes$1={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,previewAriaLabel:string,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),mux:shape({attributes:object,version:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDisableHls:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onPlaybackQualityChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func},noop=()=>{},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop,onStart:noop,onPlay:noop,onPause:noop,onBuffer:noop,onBufferEnd:noop,onEnded:noop,onError:noop,onDuration:noop,onSeek:noop,onPlaybackRateChange:noop,onPlaybackQualityChange:noop,onProgress:noop,onClickPreview:noop,onEnablePIP:noop,onDisablePIP:noop};var __create$2=Object.create,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__getProtoOf$2=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__defNormalProp$1=(e,i,o)=>i in e?__defProp$2(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,__export$2=(e,i)=>{for(var o in i)__defProp$2(e,o,{get:i[o],enumerable:!0})},__copyProps$2=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$2(i))!__hasOwnProp$2.call(e,c)&&c!==o&&__defProp$2(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$2(i,c))||a.enumerable});return e},__toESM$2=(e,i,o)=>(o=e!=null?__create$2(__getProtoOf$2(e)):{},__copyProps$2(!e||!e.__esModule?__defProp$2(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$2=e=>__copyProps$2(__defProp$2({},"__esModule",{value:!0}),e),__publicField$1=(e,i,o)=>(__defNormalProp$1(e,typeof i!="symbol"?i+"":i,o),o),Player_exports={};__export$2(Player_exports,{default:()=>Player});var Player_1=__toCommonJS$2(Player_exports),import_react$1=__toESM$2(reactExports),import_react_fast_compare$1=__toESM$2(reactFastCompare),import_props$1=props,import_utils$1=utils$1;const SEEK_ON_PLAY_EXPIRY=5e3;class Player extends import_react$1.Component{constructor(){super(...arguments),__publicField$1(this,"mounted",!1),__publicField$1(this,"isReady",!1),__publicField$1(this,"isPlaying",!1),__publicField$1(this,"isLoading",!0),__publicField$1(this,"loadOnReady",null),__publicField$1(this,"startOnPlay",!0),__publicField$1(this,"seekOnPlay",null),__publicField$1(this,"onDurationCalled",!1),__publicField$1(this,"handlePlayerMount",i=>{if(this.player){this.progress();return}this.player=i,this.player.load(this.props.url),this.progress()}),__publicField$1(this,"getInternalPlayer",i=>this.player?this.player[i]:null),__publicField$1(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const i=this.getCurrentTime()||0,o=this.getSecondsLoaded(),a=this.getDuration();if(a){const c={playedSeconds:i,played:i/a};o!==null&&(c.loadedSeconds=o,c.loaded=o/a),(c.playedSeconds!==this.prevPlayed||c.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(c),this.prevPlayed=c.playedSeconds,this.prevLoaded=c.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),__publicField$1(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:i,playing:o,volume:a,muted:c}=this.props;i(),!c&&a!==null&&this.player.setVolume(a),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):o&&this.player.play(),this.handleDurationCheck()}),__publicField$1(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:i,onPlay:o,playbackRate:a}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&a!==1&&this.player.setPlaybackRate(a),i(),this.startOnPlay=!1),o(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),__publicField$1(this,"handlePause",i=>{this.isPlaying=!1,this.isLoading||this.props.onPause(i)}),__publicField$1(this,"handleEnded",()=>{const{activePlayer:i,loop:o,onEnded:a}=this.props;i.loopOnEnded&&o&&this.seekTo(0),o||(this.isPlaying=!1,a())}),__publicField$1(this,"handleError",(...i)=>{this.isLoading=!1,this.props.onError(...i)}),__publicField$1(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const i=this.getDuration();i?this.onDurationCalled||(this.props.onDuration(i),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),__publicField$1(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(i){if(!this.player)return;const{url:o,playing:a,volume:c,muted:h,playbackRate:d,pip:f,loop:re,activePlayer:_,disableDeferredLoading:b}=this.props;if(!(0,import_react_fast_compare$1.default)(i.url,o)){if(this.isLoading&&!_.forceLoad&&!b&&!(0,import_utils$1.isMediaStream)(o)){console.warn(`ReactPlayer: the attempt to load ${o} is being deferred until the player has loaded`),this.loadOnReady=o;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(o,this.isReady)}!i.playing&&a&&!this.isPlaying&&this.player.play(),i.playing&&!a&&this.isPlaying&&this.player.pause(),!i.pip&&f&&this.player.enablePIP&&this.player.enablePIP(),i.pip&&!f&&this.player.disablePIP&&this.player.disablePIP(),i.volume!==c&&c!==null&&this.player.setVolume(c),i.muted!==h&&(h?this.player.mute():(this.player.unmute(),c!==null&&setTimeout(()=>this.player.setVolume(c)))),i.playbackRate!==d&&this.player.setPlaybackRate&&this.player.setPlaybackRate(d),i.loop!==re&&this.player.setLoop&&this.player.setLoop(re)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(i,o,a){if(!this.isReady){i!==0&&(this.seekOnPlay=i,setTimeout(()=>{this.seekOnPlay=null},SEEK_ON_PLAY_EXPIRY));return}if(o?o==="fraction":i>0&&i<1){const h=this.player.getDuration();if(!h){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(h*i,a);return}this.player.seekTo(i,a)}render(){const i=this.props.activePlayer;return i?import_react$1.default.createElement(i,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}__publicField$1(Player,"displayName","Player");__publicField$1(Player,"propTypes",import_props$1.propTypes);__publicField$1(Player,"defaultProps",import_props$1.defaultProps);var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__defNormalProp=(e,i,o)=>i in e?__defProp$1(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,__export$1=(e,i)=>{for(var o in i)__defProp$1(e,o,{get:i[o],enumerable:!0})},__copyProps$1=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$1(i))!__hasOwnProp$1.call(e,c)&&c!==o&&__defProp$1(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$1(i,c))||a.enumerable});return e},__toESM$1=(e,i,o)=>(o=e!=null?__create$1(__getProtoOf$1(e)):{},__copyProps$1(!e||!e.__esModule?__defProp$1(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$1=e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),e),__publicField=(e,i,o)=>(__defNormalProp(e,typeof i!="symbol"?i+"":i,o),o),ReactPlayer_exports={};__export$1(ReactPlayer_exports,{createReactPlayer:()=>createReactPlayer});var ReactPlayer=__toCommonJS$1(ReactPlayer_exports),import_react=__toESM$1(reactExports),import_deepmerge=__toESM$1(cjs$5),import_memoize_one=__toESM$1(require$$2$1),import_react_fast_compare=__toESM$1(reactFastCompare),import_props=props,import_utils=utils$1,import_Player=__toESM$1(Player_1);const Preview=(0,import_utils.lazy)(()=>__vitePreload(()=>import("./Preview-Bunuz9V0.js").then(e=>e.P),__vite__mapDeps([19,1,2,3]))),IS_BROWSER=typeof window<"u"&&window.document&&typeof document<"u",IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(import_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?import_react.Suspense:()=>null,customPlayers=[],createReactPlayer=(e,i)=>{var o;return o=class extends import_react.Component{constructor(){super(...arguments),__publicField(this,"state",{showPreview:!!this.props.light}),__publicField(this,"references",{wrapper:a=>{this.wrapper=a},player:a=>{this.player=a}}),__publicField(this,"handleClickPreview",a=>{this.setState({showPreview:!1}),this.props.onClickPreview(a)}),__publicField(this,"showPreview",()=>{this.setState({showPreview:!0})}),__publicField(this,"getDuration",()=>this.player?this.player.getDuration():null),__publicField(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),__publicField(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),__publicField(this,"getInternalPlayer",(a="player")=>this.player?this.player.getInternalPlayer(a):null),__publicField(this,"seekTo",(a,c,h)=>{if(!this.player)return null;this.player.seekTo(a,c,h)}),__publicField(this,"handleReady",()=>{this.props.onReady(this)}),__publicField(this,"getActivePlayer",(0,import_memoize_one.default)(a=>{for(const c of[...customPlayers,...e])if(c.canPlay(a))return c;return i||null})),__publicField(this,"getConfig",(0,import_memoize_one.default)((a,c)=>{const{config:h}=this.props;return import_deepmerge.default.all([import_props.defaultProps.config,import_props.defaultProps.config[c]||{},h,h[c]||{}])})),__publicField(this,"getAttributes",(0,import_memoize_one.default)(a=>(0,import_utils.omit)(this.props,SUPPORTED_PROPS))),__publicField(this,"renderActivePlayer",a=>{if(!a)return null;const c=this.getActivePlayer(a);if(!c)return null;const h=this.getConfig(a,c.key);return import_react.default.createElement(import_Player.default,{...this.props,key:c.key,ref:this.references.player,config:h,activePlayer:c.lazyPlayer||c,onReady:this.handleReady})})}shouldComponentUpdate(a,c){return!(0,import_react_fast_compare.default)(this.props,a)||!(0,import_react_fast_compare.default)(this.state,c)}componentDidUpdate(a){const{light:c}=this.props;!a.light&&c&&this.setState({showPreview:!0}),a.light&&!c&&this.setState({showPreview:!1})}renderPreview(a){if(!a)return null;const{light:c,playIcon:h,previewTabIndex:d,oEmbedUrl:f,previewAriaLabel:re}=this.props;return import_react.default.createElement(Preview,{url:a,light:c,playIcon:h,previewTabIndex:d,previewAriaLabel:re,oEmbedUrl:f,onClick:this.handleClickPreview})}render(){const{url:a,style:c,width:h,height:d,fallback:f,wrapper:re}=this.props,{showPreview:_}=this.state,b=this.getAttributes(a),me=typeof re=="string"?this.references.wrapper:void 0;return import_react.default.createElement(re,{ref:me,style:{...c,width:h,height:d},...b},import_react.default.createElement(UniversalSuspense,{fallback:f},_?this.renderPreview(a):this.renderActivePlayer(a)))}},__publicField(o,"displayName","ReactPlayer"),__publicField(o,"propTypes",import_props.propTypes),__publicField(o,"defaultProps",import_props.defaultProps),__publicField(o,"addCustomPlayer",a=>{customPlayers.push(a)}),__publicField(o,"removeCustomPlayers",()=>{customPlayers.length=0}),__publicField(o,"canPlay",a=>{for(const c of[...customPlayers,...e])if(c.canPlay(a))return!0;return!1}),__publicField(o,"canEnablePIP",a=>{for(const c of[...customPlayers,...e])if(c.canEnablePIP&&c.canEnablePIP(a))return!0;return!1}),o};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,i)=>{for(var o in i)__defProp(e,o,{get:i[o],enumerable:!0})},__copyProps=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames(i))!__hasOwnProp.call(e,c)&&c!==o&&__defProp(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc(i,c))||a.enumerable});return e},__toESM=(e,i,o)=>(o=e!=null?__create(__getProtoOf(e)):{},__copyProps(!e||!e.__esModule?__defProp(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{default:()=>src_default});var lib$1=__toCommonJS(src_exports),import_players=__toESM(players),import_ReactPlayer=ReactPlayer;const fallback=import_players.default[import_players.default.length-1];var src_default=(0,import_ReactPlayer.createReactPlayer)(import_players.default,fallback);const methodMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],nativeAPI=(()=>{const e=methodMap[0],i={};for(const o of methodMap)if((o==null?void 0:o[1])in document){for(const[c,h]of o.entries())i[e[c]]=h;return i}return!1})(),eventNameMap={change:nativeAPI.fullscreenchange,error:nativeAPI.fullscreenerror};let screenfull={request(e=document.documentElement,i){return new Promise((o,a)=>{const c=()=>{screenfull.off("change",c),o()};screenfull.on("change",c);const h=e[nativeAPI.requestFullscreen](i);h instanceof Promise&&h.then(c).catch(a)})},exit(){return new Promise((e,i)=>{if(!screenfull.isFullscreen){e();return}const o=()=>{screenfull.off("change",o),e()};screenfull.on("change",o);const a=document[nativeAPI.exitFullscreen]();a instanceof Promise&&a.then(o).catch(i)})},toggle(e,i){return screenfull.isFullscreen?screenfull.exit():screenfull.request(e,i)},onchange(e){screenfull.on("change",e)},onerror(e){screenfull.on("error",e)},on(e,i){const o=eventNameMap[e];o&&document.addEventListener(o,i,!1)},off(e,i){const o=eventNameMap[e];o&&document.removeEventListener(o,i,!1)},raw:nativeAPI};Object.defineProperties(screenfull,{isFullscreen:{get:()=>!!document[nativeAPI.fullscreenElement]},element:{enumerable:!0,get:()=>document[nativeAPI.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[nativeAPI.fullscreenEnabled]}});nativeAPI||(screenfull={isEnabled:!1});const screenfull$1=screenfull,screenfull$2=Object.freeze(Object.defineProperty({__proto__:null,default:screenfull$1},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(screenfull$2);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(we,Pe){return Object.defineProperty?Object.defineProperty(we,"raw",{value:Pe}):we.raw=Pe,we},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(we){for(var Pe,fe=1,ye=arguments.length;fe<ye;fe++){Pe=arguments[fe];for(var ae in Pe)Object.prototype.hasOwnProperty.call(Pe,ae)&&(we[ae]=Pe[ae])}return we},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(we,Pe,fe,ye){ye===void 0&&(ye=fe);var ae=Object.getOwnPropertyDescriptor(Pe,fe);(!ae||("get"in ae?!Pe.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return Pe[fe]}}),Object.defineProperty(we,ye,ae)}:function(we,Pe,fe,ye){ye===void 0&&(ye=fe),we[ye]=Pe[fe]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(we,Pe){Object.defineProperty(we,"default",{enumerable:!0,value:Pe})}:function(we,Pe){we.default=Pe}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(we){if(we&&we.__esModule)return we;var Pe={};if(we!=null)for(var fe in we)fe!=="default"&&Object.prototype.hasOwnProperty.call(we,fe)&&a(Pe,we,fe);return c(Pe,we),Pe},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(we){return we&&we.__esModule?we:{default:we}};Object.defineProperty(e,"__esModule",{value:!0}),e.AudioVideoPlayer=void 0;var f=jsxRuntimeExports,re=h(reactExports),_=h(require$$6$1),b=d(lib$1),me=requireLib(),Se=d(require$$5$1),te=d(require$$6),$=reactDomExports,_e=require$$3,j=require$$9,g={ready:!1,playing:!0,progress:{played:0,playedSeconds:0,loaded:0,loadedSeconds:0},duration:0,volume:.8,controls:!1,playbackRate:1,level:0,quality:0,error:!1,muted:!0},ee=(0,_.default)("div")(Fe||(Fe=i([`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`],[`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`])),function(we){return we.audio&&we.light&&"url(".concat(we.light,") no-repeat center / cover")},function(we){return!we.audio&&`
  &:hover {
    .video-player-controls {
      opacity: 1;
    }
  }`},function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.controls?"120px":"20px"},function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.controls?"0":""},function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.controls?"0":""},function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.controls?"rgba(0, 0, 0, 0.5)":"transparent"},function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.ready?"opacity 0.3s":"none"},function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.playing?we.audio?1:0:1},function(we){var Pe=we.theme;return Pe.white}),ie=(0,_.default)("div")(Ce||(Ce=i([`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`],[`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`])),function(we){var Pe;return!((Pe=we.state)===null||Pe===void 0)&&Pe.playing?we.audio?1:0:1},function(we){var Pe=we.theme;return"linear-gradient(".concat(Pe.primaryColor,", ").concat(Pe.primaryColor,")")},function(we){var Pe=we.theme;return Pe.white},function(we){var Pe=we.theme;return Pe.white},function(we){var Pe=we.theme;return Pe.white},function(we){var Pe=we.theme;return Pe.white}),q=function(){return(0,f.jsxs)("svg",o({width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M33 65C50.6731 65 65 50.6731 65 33C65 15.3269 50.6731 1 33 1C15.3269 1 1 15.3269 1 33C1 50.6731 15.3269 65 33 65Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M26.6016 20.2L45.8016 33L26.6016 45.8V20.2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},ne=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsxs)("g",o({clipPath:"url(#clip0_379_22702)"},{children:[(0,f.jsx)("path",{d:"M1.04688 4V10H7.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M3.55687 15.0004C4.20527 16.8408 5.43421 18.4206 7.05853 19.5018C8.68285 20.583 10.6146 21.107 12.5626 20.9949C14.5106 20.8828 16.3695 20.1406 17.859 18.8802C19.3486 17.6198 20.3881 15.9094 20.8211 14.0068C21.2541 12.1042 21.057 10.1124 20.2595 8.33154C19.462 6.55068 18.1074 5.07723 16.3997 4.1332C14.692 3.18917 12.7238 2.8257 10.7916 3.09755C8.85933 3.36941 7.06779 4.26186 5.68687 5.64044L1.04688 10.0004",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",o({id:"clip0_379_22702"},{children:(0,f.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},he=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M10.0469 4H6.04688V20H10.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M18.0469 4H14.0469V20H18.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},le=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M12.0469 22C17.5697 22 22.0469 17.5228 22.0469 12C22.0469 6.47715 17.5697 2 12.0469 2C6.52403 2 2.04688 6.47715 2.04688 12C2.04688 17.5228 6.52403 22 12.0469 22Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M10.0469 8L16.0469 12L10.0469 16V8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},oe=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsxs)("g",o({clipPath:"url(#clip0_379_22706)"},{children:[(0,f.jsx)("path",{d:"M23.0469 4V10H17.0469",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M20.5368 15C19.8867 16.8399 18.6563 18.4187 17.0309 19.4985C15.4055 20.5783 13.4732 21.1006 11.5252 20.9866C9.57714 20.8726 7.71891 20.1286 6.23051 18.8667C4.74211 17.6047 3.70418 15.8932 3.27312 13.9901C2.84206 12.0869 3.04123 10.0952 3.84062 8.31508C4.64 6.53496 5.99629 5.06288 7.70511 4.12065C9.41392 3.17843 11.3827 2.81711 13.3147 3.09116C15.2467 3.3652 17.0374 4.25975 18.4168 5.64001L23.0468 10",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",o({id:"clip0_379_22706"},{children:(0,f.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},ce=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M19.1159 4.92969C20.9906 6.80496 22.0438 9.34805 22.0438 11.9997C22.0438 14.6513 20.9906 17.1944 19.1159 19.0697M15.5859 8.45969C16.5233 9.39733 17.0499 10.6689 17.0499 11.9947C17.0499 13.3205 16.5233 14.592 15.5859 15.5297",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},xe=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsxs)("g",o({clipPath:"url(#clip0_379_22723)"},{children:[(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M23.0469 9L17.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M17.0469 9L23.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",o({id:"clip0_379_22723"},{children:(0,f.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},se=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M15.5859 8.45996C16.5233 9.3976 17.0499 10.6691 17.0499 11.995C17.0499 13.3208 16.5233 14.5923 15.5859 15.53",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},be=function(){return(0,f.jsx)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},Ae=function(){return(0,f.jsx)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,f.jsx)("path",{d:"M8.04688 3H5.04688C4.51644 3 4.00773 3.21071 3.63266 3.58579C3.25759 3.96086 3.04688 4.46957 3.04688 5V8M21.0469 8V5C21.0469 4.46957 20.8362 3.96086 20.4611 3.58579C20.086 3.21071 19.5773 3 19.0469 3H16.0469M16.0469 21H19.0469C19.5773 21 20.086 20.7893 20.4611 20.4142C20.8362 20.0391 21.0469 19.5304 21.0469 19V16M3.04688 16V19C3.04688 19.5304 3.25759 20.0391 3.63266 20.4142C4.00773 20.7893 4.51644 21 5.04688 21H8.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},Ie=function(we){var Pe=we.state,fe=Pe===void 0?g:Pe,ye=we.onSeek,ae=we.onToggle,de=we.onVolume,ve=we.onFullscreen,ue=function(Te,Me){return{backgroundSize:"".concat(Te*100/Me,"% 100%")}},m=function(){return fe.volume===0?(0,f.jsx)(xe,{}):fe.volume<.3?(0,f.jsx)(be,{}):fe.volume<.6?(0,f.jsx)(se,{}):(0,f.jsx)(ce,{})},Ee=function(){de&&de(fe.volume===0?g.volume:0)};return(0,f.jsx)(ie,o({},we,{className:"video-player-controls"},{children:(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{"aria-label":(0,j.t)("VideoPlayer.Progress"),onChange:function(Te){return ye&&ye(Te.target.valueAsNumber)},type:"range",className:"input-seek",min:0,max:fe.duration,value:fe.progress.playedSeconds,style:ue(fe.progress.playedSeconds,fe.duration)}),(0,f.jsxs)("div",o({className:"controls-group"},{children:[(0,f.jsxs)("div",o({className:"controls-left"},{children:[(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsxs)("button",o({type:"button",title:(0,j.t)("VideoPlayer.SeekBackward"),onClick:function(){var Te=fe.progress.playedSeconds-10;Te<=fe.duration&&ye&&ye(Te)}},{children:[(0,f.jsx)(ne,{}),(0,f.jsx)(me.Text,o({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsx)("button",o({type:"button",title:(0,j.t)(fe.playing?"VideoPlayer.Pause":"VideoPlayer.Play"),onClick:function(){return ae&&ae()}},{children:fe.playing?(0,f.jsx)(he,{}):(0,f.jsx)(le,{})}))})),(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsxs)("button",o({title:(0,j.t)("VideoPlayer.SeekForward"),type:"button",onClick:function(){var Te=fe.progress.playedSeconds+10;Te<=fe.duration&&ye&&ye(Te)}},{children:[(0,f.jsx)(oe,{}),(0,f.jsx)(me.Text,o({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,f.jsxs)("div",o({className:"control-button control-button-volume"},{children:[(0,f.jsx)("button",o({type:"button",title:(0,j.t)(fe.volume===0?"VideoPlayer.Unmute":"VideoPlayer.Mute"),onClick:function(){return Ee()}},{children:m()})),(0,f.jsx)("input",{onChange:function(Te){return de&&de(Te.target.valueAsNumber)},"aria-label":(0,j.t)("VideoPlayer.Progress"),type:"range",min:0,max:.999999,value:fe.volume,step:"any",className:"input-volume",style:ue(fe.volume,.999999)}),(0,f.jsxs)(me.Text,o({noMargin:!0,size:14,style:{color:"white"}},{children:[(0,Se.default)(fe.progress.playedSeconds*1e3,"mm:ss")," /"," ",(0,Se.default)(fe.duration*1e3,"mm:ss")]}))]}))]})),(0,f.jsxs)("div",o({className:"controls-right"},{children:[(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsx)(me.Dropdown,{options:[{label:"1x",value:"1.0"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2.0"}],placeholder:"".concat(fe.playbackRate,"x"),onChange:function(Te){return fe.playbackRate=Number(Te.value)},placement:"top",className:"dropdown-playback-rate",styles:{minWidth:"40px"}})})),fe.quality>0&&(0,f.jsxs)(me.Text,o({style:{margin:"0px 10px",color:"white",borderRadius:"4px",border:"2px solid white",padding:"0 4px"},size:"12",noMargin:!0},{children:[fe.quality,"p"]})),(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsx)("button",o({type:"button",title:(0,j.t)("VideoPlayer.Fullscreen"),onClick:function(){return ve&&ve()}},{children:(0,f.jsx)(Ae,{})}))}))]}))]}))]})}))},Re=function(we){var Pe=we.children,fe=we.mobile,ye=we.audio,ae=ye===void 0?!1:ye,de=we.light,ve=de===void 0?!0:de,ue=we.ratio,m=ue===void 0?9/16:ue,Ee=we.className,Te=Ee===void 0?"":Ee,Me=we.onTopicEnd,Le=re.useRef(null),Ue=re.useRef(null),Xe=re.useState(g),Ve=Xe[0],Ke=Xe[1],ze=(0,_e.useTranslation)().t,Ge=re.useCallback(function(Oe){if(Oe!=null&&Oe.getInternalPlayer("hls")){var $e=Oe==null?void 0:Oe.getInternalPlayer("hls");$e&&$e.on("hlsLevelSwitched",function(He,Ye){var nt=$e.levels[Ye.level].height;Ke(function(ot){return o(o({},ot),{quality:nt})})})}},[]);return re.useEffect(function(){var Oe=document.querySelectorAll(".react-player__preview");Oe&&Oe.forEach(function($e){return $e.click()})},[]),(0,f.jsxs)(ee,o({className:"wellms-component ".concat(Te),state:Ve,ref:Ue,audio:ae,light:ve},{children:[(0,f.jsx)(me.RatioBox,o({ratio:m},{children:(0,f.jsx)(b.default,o({},we,{light:ve,ref:Le,width:"100%",height:"100%",controls:!!fe,playIcon:q(),playing:Ve.playing,volume:Ve.volume,playbackRate:Ve.playbackRate,muted:Ve.muted,onReady:function(){Ke(function(Oe){return o(o({},Oe),{ready:!0})}),!ae&&Ge(Le.current)},onDuration:function(Oe){return Ke(function($e){return o(o({},$e),{duration:Oe})})},onStart:function(){setTimeout(function(){Ke(function(Oe){return o(o({},Oe),{playing:!1})}),Le.current&&Le.current.seekTo(0)},500),setTimeout(function(){Ke(function(Oe){return o(o({},Oe),{muted:!1})})},600)},onProgress:function(Oe){Ke(function($e){return o(o({},$e),{progress:Oe})})},onEnded:function(){var Oe;Ke(function($e){return o(o({},$e),{controls:!1,playing:!1})}),(Oe=Le.current)===null||Oe===void 0||Oe.showPreview(),Me&&Me()},onError:function(){Ke(function(Oe){return o(o({},Oe),{error:!0})})},onClickPreview:function(){return Ke(function(Oe){return o(o({},Oe),{controls:!0,playing:!0})})}}))})),!fe&&Ve.controls&&!Ve.error&&(0,f.jsx)(Ie,{audio:ae,state:Ve,onVolume:function(Oe){Ke(function($e){return o(o({},$e),{volume:Oe})})},onToggle:function(){Ke(function(Oe){return o(o({},Oe),{playing:!Oe.playing})})},onSeek:function(Oe){var $e;return($e=Le.current)===null||$e===void 0?void 0:$e.seekTo(Oe)},onFullscreen:function(){Ue.current&&te.default.toggle((0,$.findDOMNode)(Ue.current))}}),!fe&&!Ve.error&&(0,f.jsx)("div",o({onClick:function(){return Ve.ready&&Ke(function(Oe){return o(o({},Oe),{playing:!Oe.playing})})},title:"play/pause","aria-labelledby":"labeldiv",tabIndex:0,role:"button",onKeyDown:function(){return!0}},{children:Pe})),Ve.error&&(0,f.jsx)("div",o({className:"video-player-error"},{children:(0,f.jsx)(me.Text,o({size:"16"},{children:ze("VideoPlayer.Error")}))}))]}))};e.AudioVideoPlayer=Re,e.default=(0,_.withTheme)((0,_.default)(e.AudioVideoPlayer)(ke||(ke=i([""],[""]))));var Fe,Ce,ke})(AudioVideoPlayer);var PdfPlayer={},cjs$4={},pdfjs$1={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};(function(module,exports){(function(i,o){module.exports=i.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Rt;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=we,i.bytesToString=Le,i.createValidAbsoluteUrl=fe,i.getModificationDate=dt,i.getUuid=gt,i.getVerbosityLevel=Re,i.info=Fe,i.isArrayBuffer=Be,i.isArrayEqual=ct,i.isNodeJS=void 0,i.normalizeUnicode=_t,i.objectFromMap=Ke,i.objectSize=Ve,i.setVerbosityLevel=Ie,i.shadow=ye,i.string32=Xe,i.stringToBytes=Ue,i.stringToPDFString=nt,i.stringToUTF8String=ot,i.unreachable=ke,i.utf8StringToString=st,i.warn=Ce;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=o;const a=[1,0,0,1,0,0];i.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const h=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=h;const d=1.35;i.LINE_FACTOR=d;const f=.35;i.LINE_DESCENT_FACTOR=f;const re=f/d;i.BASELINE_FACTOR=re;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=_;const b={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=b;const me="pdfjs_internal_editor_";i.AnnotationEditorPrefix=me;const Se={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=Se;const te={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=te;const $={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=$;const _e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=_e;const j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=j;const g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=g;const ee={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ee;const ie={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=ie;const q={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=q;const ne={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ne;const he={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=he;const le={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=le;const oe={O:"PageOpen",C:"PageClose"};i.PageActionEventType=oe;const ce={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=ce;const xe={NONE:0,BINARY:1};i.CMapCompressionType=xe;const se={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=se;const be={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=be;let Ae=ce.WARNINGS;function Ie(lt){Number.isInteger(lt)&&(Ae=lt)}function Re(){return Ae}function Fe(lt){Ae>=ce.INFOS&&console.log(`Info: ${lt}`)}function Ce(lt){Ae>=ce.WARNINGS&&console.log(`Warning: ${lt}`)}function ke(lt){throw new Error(lt)}function we(lt,Je){lt||ke(Je)}function Pe(lt){switch(lt==null?void 0:lt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function fe(lt,Je=null,et=null){if(!lt)return null;try{if(et&&typeof lt=="string"){if(et.addDefaultProtocol&&lt.startsWith("www.")){const jt=lt.match(/\./g);(jt==null?void 0:jt.length)>=2&&(lt=`http://${lt}`)}if(et.tryConvertEncoding)try{lt=ot(lt)}catch{}}const mt=Je?new URL(lt,Je):new URL(lt);if(Pe(mt))return mt}catch{}return null}function ye(lt,Je,et,mt=!1){return Object.defineProperty(lt,Je,{value:et,enumerable:!mt,configurable:!0,writable:!1}),et}const ae=function(){function Je(et,mt){this.constructor===Je&&ke("Cannot initialize BaseException."),this.message=et,this.name=mt}return Je.prototype=new Error,Je.constructor=Je,Je}();i.BaseException=ae;class de extends ae{constructor(Je,et){super(Je,"PasswordException"),this.code=et}}i.PasswordException=de;class ve extends ae{constructor(Je,et){super(Je,"UnknownErrorException"),this.details=et}}i.UnknownErrorException=ve;class ue extends ae{constructor(Je){super(Je,"InvalidPDFException")}}i.InvalidPDFException=ue;class m extends ae{constructor(Je){super(Je,"MissingPDFException")}}i.MissingPDFException=m;class Ee extends ae{constructor(Je,et){super(Je,"UnexpectedResponseException"),this.status=et}}i.UnexpectedResponseException=Ee;class Te extends ae{constructor(Je){super(Je,"FormatError")}}i.FormatError=Te;class Me extends ae{constructor(Je){super(Je,"AbortException")}}i.AbortException=Me;function Le(lt){(typeof lt!="object"||(lt==null?void 0:lt.length)===void 0)&&ke("Invalid argument for bytesToString");const Je=lt.length,et=8192;if(Je<et)return String.fromCharCode.apply(null,lt);const mt=[];for(let jt=0;jt<Je;jt+=et){const $t=Math.min(jt+et,Je),Ne=lt.subarray(jt,$t);mt.push(String.fromCharCode.apply(null,Ne))}return mt.join("")}function Ue(lt){typeof lt!="string"&&ke("Invalid argument for stringToBytes");const Je=lt.length,et=new Uint8Array(Je);for(let mt=0;mt<Je;++mt)et[mt]=lt.charCodeAt(mt)&255;return et}function Xe(lt){return String.fromCharCode(lt>>24&255,lt>>16&255,lt>>8&255,lt&255)}function Ve(lt){return Object.keys(lt).length}function Ke(lt){const Je=Object.create(null);for(const[et,mt]of lt)Je[et]=mt;return Je}function ze(){const lt=new Uint8Array(4);return lt[0]=1,new Uint32Array(lt.buffer,0,1)[0]===1}function Ge(){try{return new Function(""),!0}catch{return!1}}class Oe{static get isLittleEndian(){return ye(this,"isLittleEndian",ze())}static get isEvalSupported(){return ye(this,"isEvalSupported",Ge())}static get isOffscreenCanvasSupported(){return ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ye(this,"platform",{isWin:!1,isMac:!1}):ye(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Je,et;return ye(this,"isCSSRoundSupported",(et=(Je=globalThis.CSS)==null?void 0:Je.supports)==null?void 0:et.call(Je,"width: round(1.5px, 1px)"))}}i.FeatureTest=Oe;const $e=[...Array(256).keys()].map(lt=>lt.toString(16).padStart(2,"0"));class He{static makeHexColor(Je,et,mt){return`#${$e[Je]}${$e[et]}${$e[mt]}`}static scaleMinMax(Je,et){let mt;Je[0]?(Je[0]<0&&(mt=et[0],et[0]=et[1],et[1]=mt),et[0]*=Je[0],et[1]*=Je[0],Je[3]<0&&(mt=et[2],et[2]=et[3],et[3]=mt),et[2]*=Je[3],et[3]*=Je[3]):(mt=et[0],et[0]=et[2],et[2]=mt,mt=et[1],et[1]=et[3],et[3]=mt,Je[1]<0&&(mt=et[2],et[2]=et[3],et[3]=mt),et[2]*=Je[1],et[3]*=Je[1],Je[2]<0&&(mt=et[0],et[0]=et[1],et[1]=mt),et[0]*=Je[2],et[1]*=Je[2]),et[0]+=Je[4],et[1]+=Je[4],et[2]+=Je[5],et[3]+=Je[5]}static transform(Je,et){return[Je[0]*et[0]+Je[2]*et[1],Je[1]*et[0]+Je[3]*et[1],Je[0]*et[2]+Je[2]*et[3],Je[1]*et[2]+Je[3]*et[3],Je[0]*et[4]+Je[2]*et[5]+Je[4],Je[1]*et[4]+Je[3]*et[5]+Je[5]]}static applyTransform(Je,et){const mt=Je[0]*et[0]+Je[1]*et[2]+et[4],jt=Je[0]*et[1]+Je[1]*et[3]+et[5];return[mt,jt]}static applyInverseTransform(Je,et){const mt=et[0]*et[3]-et[1]*et[2],jt=(Je[0]*et[3]-Je[1]*et[2]+et[2]*et[5]-et[4]*et[3])/mt,$t=(-Je[0]*et[1]+Je[1]*et[0]+et[4]*et[1]-et[5]*et[0])/mt;return[jt,$t]}static getAxialAlignedBoundingBox(Je,et){const mt=this.applyTransform(Je,et),jt=this.applyTransform(Je.slice(2,4),et),$t=this.applyTransform([Je[0],Je[3]],et),Ne=this.applyTransform([Je[2],Je[1]],et);return[Math.min(mt[0],jt[0],$t[0],Ne[0]),Math.min(mt[1],jt[1],$t[1],Ne[1]),Math.max(mt[0],jt[0],$t[0],Ne[0]),Math.max(mt[1],jt[1],$t[1],Ne[1])]}static inverseTransform(Je){const et=Je[0]*Je[3]-Je[1]*Je[2];return[Je[3]/et,-Je[1]/et,-Je[2]/et,Je[0]/et,(Je[2]*Je[5]-Je[4]*Je[3])/et,(Je[4]*Je[1]-Je[5]*Je[0])/et]}static singularValueDecompose2dScale(Je){const et=[Je[0],Je[2],Je[1],Je[3]],mt=Je[0]*et[0]+Je[1]*et[2],jt=Je[0]*et[1]+Je[1]*et[3],$t=Je[2]*et[0]+Je[3]*et[2],Ne=Je[2]*et[1]+Je[3]*et[3],it=(mt+Ne)/2,ht=Math.sqrt((mt+Ne)**2-4*(mt*Ne-$t*jt))/2,yt=it+ht||1,wt=it-ht||1;return[Math.sqrt(yt),Math.sqrt(wt)]}static normalizeRect(Je){const et=Je.slice(0);return Je[0]>Je[2]&&(et[0]=Je[2],et[2]=Je[0]),Je[1]>Je[3]&&(et[1]=Je[3],et[3]=Je[1]),et}static intersect(Je,et){const mt=Math.max(Math.min(Je[0],Je[2]),Math.min(et[0],et[2])),jt=Math.min(Math.max(Je[0],Je[2]),Math.max(et[0],et[2]));if(mt>jt)return null;const $t=Math.max(Math.min(Je[1],Je[3]),Math.min(et[1],et[3])),Ne=Math.min(Math.max(Je[1],Je[3]),Math.max(et[1],et[3]));return $t>Ne?null:[mt,$t,jt,Ne]}static bezierBoundingBox(Je,et,mt,jt,$t,Ne,it,ht){const yt=[],wt=[[],[]];let pt,De,je,qe,tt,rt,at,ut;for(let Pt=0;Pt<2;++Pt){if(Pt===0?(De=6*Je-12*mt+6*$t,pt=-3*Je+9*mt-9*$t+3*it,je=3*mt-3*Je):(De=6*et-12*jt+6*Ne,pt=-3*et+9*jt-9*Ne+3*ht,je=3*jt-3*et),Math.abs(pt)<1e-12){if(Math.abs(De)<1e-12)continue;qe=-je/De,0<qe&&qe<1&&yt.push(qe);continue}at=De*De-4*je*pt,ut=Math.sqrt(at),!(at<0)&&(tt=(-De+ut)/(2*pt),0<tt&&tt<1&&yt.push(tt),rt=(-De-ut)/(2*pt),0<rt&&rt<1&&yt.push(rt))}let Et=yt.length,vt;const ft=Et;for(;Et--;)qe=yt[Et],vt=1-qe,wt[0][Et]=vt*vt*vt*Je+3*vt*vt*qe*mt+3*vt*qe*qe*$t+qe*qe*qe*it,wt[1][Et]=vt*vt*vt*et+3*vt*vt*qe*jt+3*vt*qe*qe*Ne+qe*qe*qe*ht;return wt[0][ft]=Je,wt[1][ft]=et,wt[0][ft+1]=it,wt[1][ft+1]=ht,wt[0].length=wt[1].length=ft+2,[Math.min(...wt[0]),Math.min(...wt[1]),Math.max(...wt[0]),Math.max(...wt[1])]}}i.Util=He;const Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function nt(lt){if(lt[0]>="ï"){let et;if(lt[0]==="þ"&&lt[1]==="ÿ"?et="utf-16be":lt[0]==="ÿ"&&lt[1]==="þ"?et="utf-16le":lt[0]==="ï"&&lt[1]==="»"&&lt[2]==="¿"&&(et="utf-8"),et)try{const mt=new TextDecoder(et,{fatal:!0}),jt=Ue(lt);return mt.decode(jt)}catch(mt){Ce(`stringToPDFString: "${mt}".`)}}const Je=[];for(let et=0,mt=lt.length;et<mt;et++){const jt=Ye[lt.charCodeAt(et)];Je.push(jt?String.fromCharCode(jt):lt.charAt(et))}return Je.join("")}function ot(lt){return decodeURIComponent(escape(lt))}function st(lt){return unescape(encodeURIComponent(lt))}function Be(lt){return typeof lt=="object"&&(lt==null?void 0:lt.byteLength)!==void 0}function ct(lt,Je){if(lt.length!==Je.length)return!1;for(let et=0,mt=lt.length;et<mt;et++)if(lt[et]!==Je[et])return!1;return!0}function dt(lt=new Date){return[lt.getUTCFullYear().toString(),(lt.getUTCMonth()+1).toString().padStart(2,"0"),lt.getUTCDate().toString().padStart(2,"0"),lt.getUTCHours().toString().padStart(2,"0"),lt.getUTCMinutes().toString().padStart(2,"0"),lt.getUTCSeconds().toString().padStart(2,"0")].join("")}class xt{constructor(){Qe(this,Rt,!1);this.promise=new Promise((Je,et)=>{this.resolve=mt=>{Ze(this,Rt,!0),Je(mt)},this.reject=mt=>{Ze(this,Rt,!0),et(mt)}})}get settled(){return ge(this,Rt)}}Rt=new WeakMap,i.PromiseCapability=xt;let At=null,Ot=null;function _t(lt){return At||(At=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ot=new Map([["ﬅ","ſt"]])),lt.replaceAll(At,(Je,et,mt)=>et?et.normalize("NFKC"):Ot.get(mt))}function gt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const lt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(lt);else for(let Je=0;Je<32;Je++)lt[Je]=Math.floor(Math.random()*255);return Le(lt)}const Tt="pdfjs_internal_id_";i.AnnotationPrefix=Tt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,o,a,c,Ht,sn,f,re,_,b,me,Se,te,$,_e,on,g,ee,yn,q,ne;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(le){if(typeof le=="string"||le instanceof URL?le={url:le}:(0,_util.isArrayBuffer)(le)&&(le={data:le}),typeof le!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!le.url&&!le.data&&!le.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const oe=new PDFDocumentLoadingTask,{docId:ce}=oe,xe=le.url?getUrlProp(le.url):null,se=le.data?getDataProp(le.data):null,be=le.httpHeaders||null,Ae=le.withCredentials===!0,Ie=le.password??null,Re=le.range instanceof PDFDataRangeTransport?le.range:null,Fe=Number.isInteger(le.rangeChunkSize)&&le.rangeChunkSize>0?le.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ce=le.worker instanceof PDFWorker?le.worker:null;const ke=le.verbosity,we=typeof le.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(le.docBaseUrl)?le.docBaseUrl:null,Pe=typeof le.cMapUrl=="string"?le.cMapUrl:null,fe=le.cMapPacked!==!1,ye=le.CMapReaderFactory||DefaultCMapReaderFactory,ae=typeof le.standardFontDataUrl=="string"?le.standardFontDataUrl:null,de=le.StandardFontDataFactory||DefaultStandardFontDataFactory,ve=le.stopAtErrors!==!0,ue=Number.isInteger(le.maxImageSize)&&le.maxImageSize>-1?le.maxImageSize:-1,m=le.isEvalSupported!==!1,Ee=typeof le.isOffscreenCanvasSupported=="boolean"?le.isOffscreenCanvasSupported:!_util.isNodeJS,Te=Number.isInteger(le.canvasMaxAreaInBytes)?le.canvasMaxAreaInBytes:-1,Me=typeof le.disableFontFace=="boolean"?le.disableFontFace:_util.isNodeJS,Le=le.fontExtraProperties===!0,Ue=le.enableXfa===!0,Xe=le.ownerDocument||globalThis.document,Ve=le.disableRange===!0,Ke=le.disableStream===!0,ze=le.disableAutoFetch===!0,Ge=le.pdfBug===!0,Oe=Re?Re.length:le.length??NaN,$e=typeof le.useSystemFonts=="boolean"?le.useSystemFonts:!_util.isNodeJS&&!Me,He=typeof le.useWorkerFetch=="boolean"?le.useWorkerFetch:ye===_display_utils.DOMCMapReaderFactory&&de===_display_utils.DOMStandardFontDataFactory&&Pe&&ae&&(0,_display_utils.isValidFetchUrl)(Pe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ae,document.baseURI),Ye=le.canvasFactory||new DefaultCanvasFactory({ownerDocument:Xe}),nt=le.filterFactory||new DefaultFilterFactory({docId:ce,ownerDocument:Xe}),ot=null;(0,_util.setVerbosityLevel)(ke);const st={canvasFactory:Ye,filterFactory:nt};if(He||(st.cMapReaderFactory=new ye({baseUrl:Pe,isCompressed:fe}),st.standardFontDataFactory=new de({baseUrl:ae})),!Ce){const dt={verbosity:ke,port:_worker_options.GlobalWorkerOptions.workerPort};Ce=dt.port?PDFWorker.fromPort(dt):new PDFWorker(dt),oe._worker=Ce}const Be={docId:ce,apiVersion:"3.11.174",data:se,password:Ie,disableAutoFetch:ze,rangeChunkSize:Fe,length:Oe,docBaseUrl:we,enableXfa:Ue,evaluatorOptions:{maxImageSize:ue,disableFontFace:Me,ignoreErrors:ve,isEvalSupported:m,isOffscreenCanvasSupported:Ee,canvasMaxAreaInBytes:Te,fontExtraProperties:Le,useSystemFonts:$e,cMapUrl:He?Pe:null,standardFontDataUrl:He?ae:null}},ct={ignoreErrors:ve,isEvalSupported:m,disableFontFace:Me,fontExtraProperties:Le,enableXfa:Ue,ownerDocument:Xe,disableAutoFetch:ze,pdfBug:Ge,styleElement:ot};return Ce.promise.then(function(){if(oe.destroyed)throw new Error("Loading aborted");const dt=_fetchDocument(Ce,Be),xt=new Promise(function(At){let Ot;Re?Ot=new _transport_stream.PDFDataTransportStream({length:Oe,initialData:Re.initialData,progressiveDone:Re.progressiveDone,contentDispositionFilename:Re.contentDispositionFilename,disableRange:Ve,disableStream:Ke},Re):se||(Ot=(gt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(gt):(0,_display_utils.isValidFetchUrl)(gt.url)?new _displayFetch_stream.PDFFetchStream(gt):new _displayNetwork.PDFNetworkStream(gt))({url:xe,length:Oe,httpHeaders:be,withCredentials:Ae,rangeChunkSize:Fe,disableRange:Ve,disableStream:Ke})),At(Ot)});return Promise.all([dt,xt]).then(function([At,Ot]){if(oe.destroyed)throw new Error("Loading aborted");const _t=new _message_handler.MessageHandler(ce,At,Ce.port),gt=new WorkerTransport(_t,oe,Ot,ct,st);oe._transport=gt,_t.send("Ready",null)})}).catch(oe._capability.reject),oe}async function _fetchDocument(le,oe){if(le.destroyed)throw new Error("Worker was destroyed");const ce=await le.messageHandler.sendWithPromise("GetDocRequest",oe,oe.data?[oe.data.buffer]:null);if(le.destroyed)throw new Error("Worker was destroyed");return ce}function getUrlProp(le){if(le instanceof URL)return le.href;try{return new URL(le,window.location).href}catch{if(_util.isNodeJS&&typeof le=="string")return le}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(le){if(_util.isNodeJS&&typeof Buffer<"u"&&le instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(le instanceof Uint8Array&&le.byteLength===le.buffer.byteLength)return le;if(typeof le=="string")return(0,_util.stringToBytes)(le);if(typeof le=="object"&&!isNaN(le==null?void 0:le.length)||(0,_util.isArrayBuffer)(le))return new Uint8Array(le);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Kt(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var oe,ce,xe;this.destroyed=!0;try{(oe=this._worker)!=null&&oe.port&&(this._worker._pendingDestroy=!0),await((ce=this._transport)==null?void 0:ce.destroy())}catch(se){throw(xe=this._worker)!=null&&xe.port&&delete this._worker._pendingDestroy,se}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Qe(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(oe,ce,xe=!1,se=null){this.length=oe,this.initialData=ce,this.progressiveDone=xe,this.contentDispositionFilename=se,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(oe){this._rangeListeners.push(oe)}addProgressListener(oe){this._progressListeners.push(oe)}addProgressiveReadListener(oe){this._progressiveReadListeners.push(oe)}addProgressiveDoneListener(oe){this._progressiveDoneListeners.push(oe)}onDataRange(oe,ce){for(const xe of this._rangeListeners)xe(oe,ce)}onDataProgress(oe,ce){this._readyCapability.promise.then(()=>{for(const xe of this._progressListeners)xe(oe,ce)})}onDataProgressiveRead(oe){this._readyCapability.promise.then(()=>{for(const ce of this._progressiveReadListeners)ce(oe)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const oe of this._progressiveDoneListeners)oe()})}transportReady(){this._readyCapability.resolve()}requestDataRange(oe,ce){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(oe,ce){this._pdfInfo=oe,this._transport=ce,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(xe=>{if(!xe)return xe;const se=[];for(const be in xe)se.push(...xe[be]);return se}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(oe){return this._transport.getPage(oe)}getPageIndex(oe){return this._transport.getPageIndex(oe)}getDestinations(){return this._transport.getDestinations()}getDestination(oe){return this._transport.getDestination(oe)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(oe=!1){return this._transport.startCleanup(oe||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(oe,ce,xe,se=!1){Qe(this,c);Qe(this,o,null);Qe(this,a,!1);this._pageIndex=oe,this._pageInfo=ce,this._transport=xe,this._stats=se?new _display_utils.StatTimer:null,this._pdfBug=se,this.commonObjs=xe.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:oe,rotation:ce=this.rotate,offsetX:xe=0,offsetY:se=0,dontFlip:be=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:oe,rotation:ce,offsetX:xe,offsetY:se,dontFlip:be})}getAnnotations({intent:oe="display"}={}){const ce=this._transport.getRenderingIntent(oe);return this._transport.getAnnotations(this._pageIndex,ce.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var oe;return((oe=this._transport._htmlForXfa)==null?void 0:oe.children[this._pageIndex])||null}render({canvasContext:oe,viewport:ce,intent:xe="display",annotationMode:se=_util.AnnotationMode.ENABLE,transform:be=null,background:Ae=null,optionalContentConfigPromise:Ie=null,annotationCanvasMap:Re=null,pageColors:Fe=null,printAnnotationStorage:Ce=null}){var de,ve;(de=this._stats)==null||de.time("Overall");const ke=this._transport.getRenderingIntent(xe,se,Ce);Ze(this,a,!1),We(this,c,sn).call(this),Ie||(Ie=this._transport.getOptionalContentConfig());let we=this._intentStates.get(ke.cacheKey);we||(we=Object.create(null),this._intentStates.set(ke.cacheKey,we)),we.streamReaderCancelTimeout&&(clearTimeout(we.streamReaderCancelTimeout),we.streamReaderCancelTimeout=null);const Pe=!!(ke.renderingIntent&_util.RenderingIntentFlag.PRINT);we.displayReadyCapability||(we.displayReadyCapability=new _util.PromiseCapability,we.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ve=this._stats)==null||ve.time("Page Request"),this._pumpOperatorList(ke));const fe=ue=>{var m,Ee;we.renderTasks.delete(ye),(this._maybeCleanupAfterRender||Pe)&&Ze(this,a,!0),We(this,c,Ht).call(this,!Pe),ue?(ye.capability.reject(ue),this._abortOperatorList({intentState:we,reason:ue instanceof Error?ue:new Error(ue)})):ye.capability.resolve(),(m=this._stats)==null||m.timeEnd("Rendering"),(Ee=this._stats)==null||Ee.timeEnd("Overall")},ye=new InternalRenderTask({callback:fe,params:{canvasContext:oe,viewport:ce,transform:be,background:Ae},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Re,operatorList:we.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Pe,pdfBug:this._pdfBug,pageColors:Fe});(we.renderTasks||(we.renderTasks=new Set)).add(ye);const ae=ye.task;return Promise.all([we.displayReadyCapability.promise,Ie]).then(([ue,m])=>{var Ee;if(this.destroyed){fe();return}(Ee=this._stats)==null||Ee.time("Rendering"),ye.initializeGraphics({transparency:ue,optionalContentConfig:m}),ye.operatorListChanged()}).catch(fe),ae}getOperatorList({intent:oe="display",annotationMode:ce=_util.AnnotationMode.ENABLE,printAnnotationStorage:xe=null}={}){var Re;function se(){Ae.operatorList.lastChunk&&(Ae.opListReadCapability.resolve(Ae.operatorList),Ae.renderTasks.delete(Ie))}const be=this._transport.getRenderingIntent(oe,ce,xe,!0);let Ae=this._intentStates.get(be.cacheKey);Ae||(Ae=Object.create(null),this._intentStates.set(be.cacheKey,Ae));let Ie;return Ae.opListReadCapability||(Ie=Object.create(null),Ie.operatorListChanged=se,Ae.opListReadCapability=new _util.PromiseCapability,(Ae.renderTasks||(Ae.renderTasks=new Set)).add(Ie),Ae.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Re=this._stats)==null||Re.time("Page Request"),this._pumpOperatorList(be)),Ae.opListReadCapability.promise}streamTextContent({includeMarkedContent:oe=!1,disableNormalization:ce=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:oe===!0,disableNormalization:ce===!0},{highWaterMark:100,size(se){return se.items.length}})}getTextContent(oe={}){if(this._transport._htmlForXfa)return this.getXfa().then(xe=>_xfa_text.XfaText.textContent(xe));const ce=this.streamTextContent(oe);return new Promise(function(xe,se){function be(){Ae.read().then(function({value:Re,done:Fe}){if(Fe){xe(Ie);return}Object.assign(Ie.styles,Re.styles),Ie.items.push(...Re.items),be()},se)}const Ae=ce.getReader(),Ie={items:[],styles:Object.create(null)};be()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const oe=[];for(const ce of this._intentStates.values())if(this._abortOperatorList({intentState:ce,reason:new Error("Page was destroyed."),force:!0}),!ce.opListReadCapability)for(const xe of ce.renderTasks)oe.push(xe.completed),xe.cancel();return this.objs.clear(),Ze(this,a,!1),We(this,c,sn).call(this),Promise.all(oe)}cleanup(oe=!1){Ze(this,a,!0);const ce=We(this,c,Ht).call(this,!1);return oe&&ce&&this._stats&&(this._stats=new _display_utils.StatTimer),ce}_startRenderPage(oe,ce){var se,be;const xe=this._intentStates.get(ce);xe&&((se=this._stats)==null||se.timeEnd("Page Request"),(be=xe.displayReadyCapability)==null||be.resolve(oe))}_renderPageChunk(oe,ce){for(let xe=0,se=oe.length;xe<se;xe++)ce.operatorList.fnArray.push(oe.fnArray[xe]),ce.operatorList.argsArray.push(oe.argsArray[xe]);ce.operatorList.lastChunk=oe.lastChunk,ce.operatorList.separateAnnots=oe.separateAnnots;for(const xe of ce.renderTasks)xe.operatorListChanged();oe.lastChunk&&We(this,c,Ht).call(this,!0)}_pumpOperatorList({renderingIntent:oe,cacheKey:ce,annotationStorageSerializable:xe}){const{map:se,transfers:be}=xe,Ie=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:oe,cacheKey:ce,annotationStorage:se},be).getReader(),Re=this._intentStates.get(ce);Re.streamReader=Ie;const Fe=()=>{Ie.read().then(({value:Ce,done:ke})=>{if(ke){Re.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ce,Re),Fe())},Ce=>{if(Re.streamReader=null,!this._transport.destroyed){if(Re.operatorList){Re.operatorList.lastChunk=!0;for(const ke of Re.renderTasks)ke.operatorListChanged();We(this,c,Ht).call(this,!0)}if(Re.displayReadyCapability)Re.displayReadyCapability.reject(Ce);else if(Re.opListReadCapability)Re.opListReadCapability.reject(Ce);else throw Ce}})};Fe()}_abortOperatorList({intentState:oe,reason:ce,force:xe=!1}){if(oe.streamReader){if(oe.streamReaderCancelTimeout&&(clearTimeout(oe.streamReaderCancelTimeout),oe.streamReaderCancelTimeout=null),!xe){if(oe.renderTasks.size>0)return;if(ce instanceof _display_utils.RenderingCancelledException){let se=RENDERING_CANCELLED_TIMEOUT;ce.extraDelay>0&&ce.extraDelay<1e3&&(se+=ce.extraDelay),oe.streamReaderCancelTimeout=setTimeout(()=>{oe.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:oe,reason:ce,force:!0})},se);return}}if(oe.streamReader.cancel(new _util.AbortException(ce.message)).catch(()=>{}),oe.streamReader=null,!this._transport.destroyed){for(const[se,be]of this._intentStates)if(be===oe){this._intentStates.delete(se);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,a=new WeakMap,c=new WeakSet,Ht=function(oe=!1){if(We(this,c,sn).call(this),!ge(this,a)||this.destroyed)return!1;if(oe)return Ze(this,o,setTimeout(()=>{Ze(this,o,null),We(this,c,Ht).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ce,operatorList:xe}of this._intentStates.values())if(ce.size>0||!xe.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ze(this,a,!1),!0},sn=function(){ge(this,o)&&(clearTimeout(ge(this,o)),Ze(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Qe(this,f,new Set);Qe(this,re,Promise.resolve())}postMessage(oe,ce){const xe={data:structuredClone(oe,ce?{transfer:ce}:null)};ge(this,re).then(()=>{for(const se of ge(this,f))se.call(this,xe)})}addEventListener(oe,ce){ge(this,f).add(ce)}removeEventListener(oe,ce){ge(this,f).delete(ce)}terminate(){ge(this,f).clear()}}f=new WeakMap,re=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const le=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;le&&(PDFWorkerUtil.fallbackWorkerSrc=le.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(le,oe){let ce;try{if(ce=new URL(le),!ce.origin||ce.origin==="null")return!1}catch{return!1}const xe=new URL(oe,ce);return ce.origin===xe.origin},PDFWorkerUtil.createCDNWrapper=function(le){const oe=`importScripts("${le}");`;return URL.createObjectURL(new Blob([oe]))}}const _PDFWorker=class _PDFWorker{constructor({name:le=null,port:oe=null,verbosity:ce=(0,_util.getVerbosityLevel)()}={}){var xe;if(this.name=le,this.destroyed=!1,this.verbosity=ce,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,oe){if((xe=ge(_PDFWorker,b))!=null&&xe.has(oe))throw new Error("Cannot use more than one PDFWorker per port.");(ge(_PDFWorker,b)||Ze(_PDFWorker,b,new WeakMap)).set(oe,this),this._initializeFromPort(oe);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(le){this._port=le,this._messageHandler=new _message_handler.MessageHandler("main","worker",le),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:le}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,le)||(le=PDFWorkerUtil.createCDNWrapper(new URL(le,window.location).href));const oe=new Worker(le),ce=new _message_handler.MessageHandler("main","worker",oe),xe=()=>{oe.removeEventListener("error",se),ce.destroy(),oe.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},se=()=>{this._webWorker||xe()};oe.addEventListener("error",se),ce.on("test",Ae=>{if(oe.removeEventListener("error",se),this.destroyed){xe();return}Ae?(this._messageHandler=ce,this._port=oe,this._webWorker=oe,this._readyCapability.resolve(),ce.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ce.destroy(),oe.terminate())}),ce.on("ready",Ae=>{if(oe.removeEventListener("error",se),this.destroyed){xe();return}try{be()}catch{this._setupFakeWorker()}});const be=()=>{const Ae=new Uint8Array;ce.send("test",Ae,[Ae.buffer])};be();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(le=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const oe=new LoopbackPort;this._port=oe;const ce=`fake${PDFWorkerUtil.fakeWorkerId++}`,xe=new _message_handler.MessageHandler(ce+"_worker",ce,oe);le.setup(xe,oe);const se=new _message_handler.MessageHandler(ce,ce+"_worker",oe);this._messageHandler=se,this._readyCapability.resolve(),se.send("configure",{verbosity:this.verbosity})}).catch(le=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${le.message}".`))})}destroy(){var le;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(le=ge(_PDFWorker,b))==null||le.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(le){var ce;if(!(le!=null&&le.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const oe=(ce=ge(this,b))==null?void 0:ce.get(le.port);if(oe){if(oe._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return oe}return new _PDFWorker(le)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var le;try{return((le=globalThis.pdfjsWorker)==null?void 0:le.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};b=new WeakMap,Qe(_PDFWorker,b);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(oe,ce,xe,se,be){Qe(this,_e);Qe(this,me,new Map);Qe(this,Se,new Map);Qe(this,te,new Map);Qe(this,$,null);this.messageHandler=oe,this.loadingTask=ce,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:se.ownerDocument,styleElement:se.styleElement}),this._params=se,this.canvasFactory=be.canvasFactory,this.filterFactory=be.filterFactory,this.cMapReaderFactory=be.cMapReaderFactory,this.standardFontDataFactory=be.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=xe,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(oe,ce=_util.AnnotationMode.ENABLE,xe=null,se=!1){let be=_util.RenderingIntentFlag.DISPLAY,Ae=_annotation_storage.SerializableEmpty;switch(oe){case"any":be=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":be=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${oe}`)}switch(ce){case _util.AnnotationMode.DISABLE:be+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:be+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:be+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ae=(be&_util.RenderingIntentFlag.PRINT&&xe instanceof _annotation_storage.PrintAnnotationStorage?xe:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ce}`)}return se&&(be+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:be,cacheKey:`${be}_${Ae.hash}`,annotationStorageSerializable:Ae}}destroy(){var xe;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(xe=ge(this,$))==null||xe.reject(new Error("Worker was destroyed during onPassword callback"));const oe=[];for(const se of ge(this,Se).values())oe.push(se._destroy());ge(this,Se).clear(),ge(this,te).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ce=this.messageHandler.sendWithPromise("Terminate",null);return oe.push(ce),Promise.all(oe).then(()=>{var se;this.commonObjs.clear(),this.fontLoader.clear(),ge(this,me).clear(),this.filterFactory.destroy(),(se=this._networkStream)==null||se.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:oe,loadingTask:ce}=this;oe.on("GetReader",(xe,se)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=be=>{this._lastProgress={loaded:be.loaded,total:be.total}},se.onPull=()=>{this._fullReader.read().then(function({value:be,done:Ae}){if(Ae){se.close();return}(0,_util.assert)(be instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),se.enqueue(new Uint8Array(be),1,[be])}).catch(be=>{se.error(be)})},se.onCancel=be=>{this._fullReader.cancel(be),se.ready.catch(Ae=>{if(!this.destroyed)throw Ae})}}),oe.on("ReaderHeadersReady",xe=>{const se=new _util.PromiseCapability,be=this._fullReader;return be.headersReady.then(()=>{var Ae;(!be.isStreamingSupported||!be.isRangeSupported)&&(this._lastProgress&&((Ae=ce.onProgress)==null||Ae.call(ce,this._lastProgress)),be.onProgress=Ie=>{var Re;(Re=ce.onProgress)==null||Re.call(ce,{loaded:Ie.loaded,total:Ie.total})}),se.resolve({isStreamingSupported:be.isStreamingSupported,isRangeSupported:be.isRangeSupported,contentLength:be.contentLength})},se.reject),se.promise}),oe.on("GetRangeReader",(xe,se)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const be=this._networkStream.getRangeReader(xe.begin,xe.end);if(!be){se.close();return}se.onPull=()=>{be.read().then(function({value:Ae,done:Ie}){if(Ie){se.close();return}(0,_util.assert)(Ae instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),se.enqueue(new Uint8Array(Ae),1,[Ae])}).catch(Ae=>{se.error(Ae)})},se.onCancel=Ae=>{be.cancel(Ae),se.ready.catch(Ie=>{if(!this.destroyed)throw Ie})}}),oe.on("GetDoc",({pdfInfo:xe})=>{this._numPages=xe.numPages,this._htmlForXfa=xe.htmlForXfa,delete xe.htmlForXfa,ce._capability.resolve(new PDFDocumentProxy(xe,this))}),oe.on("DocException",function(xe){let se;switch(xe.name){case"PasswordException":se=new _util.PasswordException(xe.message,xe.code);break;case"InvalidPDFException":se=new _util.InvalidPDFException(xe.message);break;case"MissingPDFException":se=new _util.MissingPDFException(xe.message);break;case"UnexpectedResponseException":se=new _util.UnexpectedResponseException(xe.message,xe.status);break;case"UnknownErrorException":se=new _util.UnknownErrorException(xe.message,xe.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ce._capability.reject(se)}),oe.on("PasswordRequest",xe=>{if(Ze(this,$,new _util.PromiseCapability),ce.onPassword){const se=be=>{be instanceof Error?ge(this,$).reject(be):ge(this,$).resolve({password:be})};try{ce.onPassword(se,xe.code)}catch(be){ge(this,$).reject(be)}}else ge(this,$).reject(new _util.PasswordException(xe.message,xe.code));return ge(this,$).promise}),oe.on("DataLoaded",xe=>{var se;(se=ce.onProgress)==null||se.call(ce,{loaded:xe.length,total:xe.length}),this.downloadInfoCapability.resolve(xe)}),oe.on("StartRenderPage",xe=>{if(this.destroyed)return;ge(this,Se).get(xe.pageIndex)._startRenderPage(xe.transparency,xe.cacheKey)}),oe.on("commonobj",([xe,se,be])=>{var Ae;if(!this.destroyed&&!this.commonObjs.has(xe))switch(se){case"Font":const Ie=this._params;if("error"in be){const Ce=be.error;(0,_util.warn)(`Error during font loading: ${Ce}`),this.commonObjs.resolve(xe,Ce);break}const Re=Ie.pdfBug&&((Ae=globalThis.FontInspector)!=null&&Ae.enabled)?(Ce,ke)=>globalThis.FontInspector.fontAdded(Ce,ke):null,Fe=new _font_loader.FontFaceObject(be,{isEvalSupported:Ie.isEvalSupported,disableFontFace:Ie.disableFontFace,ignoreErrors:Ie.ignoreErrors,inspectFont:Re});this.fontLoader.bind(Fe).catch(Ce=>oe.sendWithPromise("FontFallback",{id:xe})).finally(()=>{!Ie.fontExtraProperties&&Fe.data&&(Fe.data=null),this.commonObjs.resolve(xe,Fe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(xe,be);break;default:throw new Error(`Got unknown common object type ${se}`)}}),oe.on("obj",([xe,se,be,Ae])=>{var Re;if(this.destroyed)return;const Ie=ge(this,Se).get(se);if(!Ie.objs.has(xe))switch(be){case"Image":if(Ie.objs.resolve(xe,Ae),Ae){let Fe;if(Ae.bitmap){const{width:Ce,height:ke}=Ae;Fe=Ce*ke*4}else Fe=((Re=Ae.data)==null?void 0:Re.length)||0;Fe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ie._maybeCleanupAfterRender=!0)}break;case"Pattern":Ie.objs.resolve(xe,Ae);break;default:throw new Error(`Got unknown object type ${be}`)}}),oe.on("DocProgress",xe=>{var se;this.destroyed||(se=ce.onProgress)==null||se.call(ce,{loaded:xe.loaded,total:xe.total})}),oe.on("FetchBuiltInCMap",xe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(xe):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),oe.on("FetchStandardFontData",xe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(xe):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var xe;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:oe,transfers:ce}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:oe,filename:((xe=this._fullReader)==null?void 0:xe.filename)??null},ce).finally(()=>{this.annotationStorage.resetModified()})}getPage(oe){if(!Number.isInteger(oe)||oe<=0||oe>this._numPages)return Promise.reject(new Error("Invalid page request."));const ce=oe-1,xe=ge(this,te).get(ce);if(xe)return xe;const se=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ce}).then(be=>{if(this.destroyed)throw new Error("Transport destroyed");const Ae=new PDFPageProxy(ce,be,this,this._params.pdfBug);return ge(this,Se).set(ce,Ae),Ae});return ge(this,te).set(ce,se),se}getPageIndex(oe){return typeof oe!="object"||oe===null||!Number.isInteger(oe.num)||oe.num<0||!Number.isInteger(oe.gen)||oe.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:oe.num,gen:oe.gen})}getAnnotations(oe,ce){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:oe,intent:ce})}getFieldObjects(){return We(this,_e,on).call(this,"GetFieldObjects")}hasJSActions(){return We(this,_e,on).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(oe){return typeof oe!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:oe})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return We(this,_e,on).call(this,"GetDocJSActions")}getPageJSActions(oe){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:oe})}getStructTree(oe){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:oe})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(oe=>new _optional_content_config.OptionalContentConfig(oe))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const oe="GetMetadata",ce=ge(this,me).get(oe);if(ce)return ce;const xe=this.messageHandler.sendWithPromise(oe,null).then(se=>{var be,Ae;return{info:se[0],metadata:se[1]?new _metadata.Metadata(se[1]):null,contentDispositionFilename:((be=this._fullReader)==null?void 0:be.filename)??null,contentLength:((Ae=this._fullReader)==null?void 0:Ae.contentLength)??null}});return ge(this,me).set(oe,xe),xe}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(oe=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ce of ge(this,Se).values())if(!ce.cleanup())throw new Error(`startCleanup: Page ${ce.pageNumber} is currently rendering.`);this.commonObjs.clear(),oe||this.fontLoader.clear(),ge(this,me).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:oe,enableXfa:ce}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:oe,enableXfa:ce})}}me=new WeakMap,Se=new WeakMap,te=new WeakMap,$=new WeakMap,_e=new WeakSet,on=function(oe,ce=null){const xe=ge(this,me).get(oe);if(xe)return xe;const se=this.messageHandler.sendWithPromise(oe,ce);return ge(this,me).set(oe,se),se};class PDFObjects{constructor(){Qe(this,ee);Qe(this,g,Object.create(null))}get(oe,ce=null){if(ce){const se=We(this,ee,yn).call(this,oe);return se.capability.promise.then(()=>ce(se.data)),null}const xe=ge(this,g)[oe];if(!(xe!=null&&xe.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${oe}.`);return xe.data}has(oe){const ce=ge(this,g)[oe];return(ce==null?void 0:ce.capability.settled)||!1}resolve(oe,ce=null){const xe=We(this,ee,yn).call(this,oe);xe.data=ce,xe.capability.resolve()}clear(){var oe;for(const ce in ge(this,g)){const{data:xe}=ge(this,g)[ce];(oe=xe==null?void 0:xe.bitmap)==null||oe.close()}Ze(this,g,Object.create(null))}}g=new WeakMap,ee=new WeakSet,yn=function(oe){var ce;return(ce=ge(this,g))[oe]||(ce[oe]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(oe){Qe(this,q,null);Ze(this,q,oe),this.onContinue=null}get promise(){return ge(this,q).capability.promise}cancel(oe=0){ge(this,q).cancel(null,oe)}get separateAnnots(){const{separateAnnots:oe}=ge(this,q).operatorList;if(!oe)return!1;const{annotationCanvasMap:ce}=ge(this,q);return oe.form||oe.canvas&&(ce==null?void 0:ce.size)>0}}q=new WeakMap,exports.RenderTask=RenderTask;const he=class he{constructor({callback:oe,params:ce,objs:xe,commonObjs:se,annotationCanvasMap:be,operatorList:Ae,pageIndex:Ie,canvasFactory:Re,filterFactory:Fe,useRequestAnimationFrame:Ce=!1,pdfBug:ke=!1,pageColors:we=null}){this.callback=oe,this.params=ce,this.objs=xe,this.commonObjs=se,this.annotationCanvasMap=be,this.operatorListIdx=null,this.operatorList=Ae,this._pageIndex=Ie,this.canvasFactory=Re,this.filterFactory=Fe,this._pdfBug=ke,this.pageColors=we,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ce===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ce.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:oe=!1,optionalContentConfig:ce}){var Ie,Re;if(this.cancelled)return;if(this._canvas){if(ge(he,ne).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ge(he,ne).add(this._canvas)}this._pdfBug&&((Ie=globalThis.StepperManager)!=null&&Ie.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:xe,viewport:se,transform:be,background:Ae}=this.params;this.gfx=new _canvas.CanvasGraphics(xe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ce},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:be,viewport:se,transparency:oe,background:Ae}),this.operatorListIdx=0,this.graphicsReady=!0,(Re=this.graphicsReadyCallback)==null||Re.call(this)}cancel(oe=null,ce=0){var xe;this.running=!1,this.cancelled=!0,(xe=this.gfx)==null||xe.endDrawing(),ge(he,ne).delete(this._canvas),this.callback(oe||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ce))}operatorListChanged(){var oe;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(oe=this.stepper)==null||oe.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ge(he,ne).delete(this._canvas),this.callback())))}};ne=new WeakMap,Qe(he,ne,new WeakSet);let InternalRenderTask=he;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,o)=>{var _,b,me,nr,te;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var a=o(1),c=o(4),h=o(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class f{constructor(){Qe(this,me);Qe(this,_,!1);Qe(this,b,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(_e,j){const g=ge(this,b).get(_e);return g===void 0?j:Object.assign(j,g)}getRawValue(_e){return ge(this,b).get(_e)}remove(_e){if(ge(this,b).delete(_e),ge(this,b).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const j of ge(this,b).values())if(j instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(_e,j){const g=ge(this,b).get(_e);let ee=!1;if(g!==void 0)for(const[ie,q]of Object.entries(j))g[ie]!==q&&(ee=!0,g[ie]=q);else ee=!0,ge(this,b).set(_e,j);ee&&We(this,me,nr).call(this),j instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(j.constructor._type)}has(_e){return ge(this,b).has(_e)}getAll(){return ge(this,b).size>0?(0,a.objectFromMap)(ge(this,b)):null}setAll(_e){for(const[j,g]of Object.entries(_e))this.setValue(j,g)}get size(){return ge(this,b).size}resetModified(){ge(this,_)&&(Ze(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new re(this)}get serializable(){if(ge(this,b).size===0)return d;const _e=new Map,j=new h.MurmurHash3_64,g=[],ee=Object.create(null);let ie=!1;for(const[q,ne]of ge(this,b)){const he=ne instanceof c.AnnotationEditor?ne.serialize(!1,ee):ne;he&&(_e.set(q,he),j.update(`${q}:${JSON.stringify(he)}`),ie||(ie=!!he.bitmap))}if(ie)for(const q of _e.values())q.bitmap&&g.push(q.bitmap);return _e.size>0?{map:_e,hash:j.hexdigest(),transfers:g}:d}}_=new WeakMap,b=new WeakMap,me=new WeakSet,nr=function(){ge(this,_)||(Ze(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=f;class re extends f{constructor(j){super();Qe(this,te);const{map:g,hash:ee,transfers:ie}=j.serializable,q=structuredClone(g,ie?{transfer:ie}:null);Ze(this,te,{map:q,hash:ee,transfers:ie})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ge(this,te)}}te=new WeakMap,i.PrintAnnotationStorage=re},(e,i,o)=>{var re,_,b,me,Se,te,$,_e,j,g,ee,ie,q,ne,he,En,Sn,ce,wn,An,rr,ir,sr,Cn,or;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var a=o(5),c=o(1),h=o(6);const Ce=class Ce{constructor(we){Qe(this,he);Qe(this,re,"");Qe(this,_,!1);Qe(this,b,null);Qe(this,me,null);Qe(this,Se,null);Qe(this,te,!1);Qe(this,$,null);Qe(this,_e,this.focusin.bind(this));Qe(this,j,this.focusout.bind(this));Qe(this,g,!1);Qe(this,ee,!1);Qe(this,ie,!1);Lt(this,"_initialOptions",Object.create(null));Lt(this,"_uiManager",null);Lt(this,"_focusEventsAllowed",!0);Lt(this,"_l10nPromise",null);Qe(this,q,!1);Qe(this,ne,Ce._zIndex++);this.constructor===Ce&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=we.parent,this.id=we.id,this.width=this.height=null,this.pageIndex=we.parent.pageIndex,this.name=we.name,this.div=null,this._uiManager=we.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=we.isCentered,this._structTreeParentId=null;const{rotation:Pe,rawDims:{pageWidth:fe,pageHeight:ye,pageX:ae,pageY:de}}=this.parent.viewport;this.rotation=Pe,this.pageRotation=(360+Pe-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[fe,ye],this.pageTranslation=[ae,de];const[ve,ue]=this.parentDimensions;this.x=we.x/ve,this.y=we.y/ue,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(we){const Pe=new f({id:we.parent.getNextId(),parent:we.parent,uiManager:we._uiManager});Pe.annotationElementId=we.annotationElementId,Pe.deleted=!0,Pe._uiManager.addToAnnotationStorage(Pe)}static initialize(we,Pe=null){if(Ce._l10nPromise||(Ce._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ye=>[ye,we.get(ye)]))),Pe!=null&&Pe.strings)for(const ye of Pe.strings)Ce._l10nPromise.set(ye,we.get(ye));if(Ce._borderLineWidth!==-1)return;const fe=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(fe.getPropertyValue("--outline-width"))||0}static updateDefaultParams(we,Pe){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(we){return!1}static paste(we,Pe){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ge(this,q)}set _isDraggable(we){var Pe;Ze(this,q,we),(Pe=this.div)==null||Pe.classList.toggle("draggable",we)}center(){const[we,Pe]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Pe/(we*2),this.y+=this.width*we/(Pe*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Pe/(we*2),this.y-=this.width*we/(Pe*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(we){this._uiManager.addCommands(we)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ge(this,ne)}setParent(we){we!==null&&(this.pageIndex=we.pageIndex,this.pageDimensions=we.pageDimensions),this.parent=we}focusin(we){this._focusEventsAllowed&&(ge(this,g)?Ze(this,g,!1):this.parent.setSelected(this))}focusout(we){var fe;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Pe=we.relatedTarget;Pe!=null&&Pe.closest(`#${this.id}`)||(we.preventDefault(),(fe=this.parent)!=null&&fe.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(we,Pe,fe,ye){const[ae,de]=this.parentDimensions;[fe,ye]=this.screenToPageTranslation(fe,ye),this.x=(we+fe)/ae,this.y=(Pe+ye)/de,this.fixAndSetPosition()}translate(we,Pe){We(this,he,En).call(this,this.parentDimensions,we,Pe)}translateInPage(we,Pe){We(this,he,En).call(this,this.pageDimensions,we,Pe),this.div.scrollIntoView({block:"nearest"})}drag(we,Pe){const[fe,ye]=this.parentDimensions;if(this.x+=we/fe,this.y+=Pe/ye,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:Ee}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,Ee)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ae,y:de}=this;const[ve,ue]=We(this,he,Sn).call(this);ae+=ve,de+=ue,this.div.style.left=`${(100*ae).toFixed(2)}%`,this.div.style.top=`${(100*de).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[we,Pe]=this.pageDimensions;let{x:fe,y:ye,width:ae,height:de}=this;switch(ae*=we,de*=Pe,fe*=we,ye*=Pe,this.rotation){case 0:fe=Math.max(0,Math.min(we-ae,fe)),ye=Math.max(0,Math.min(Pe-de,ye));break;case 90:fe=Math.max(0,Math.min(we-de,fe)),ye=Math.min(Pe,Math.max(ae,ye));break;case 180:fe=Math.min(we,Math.max(ae,fe)),ye=Math.min(Pe,Math.max(de,ye));break;case 270:fe=Math.min(we,Math.max(de,fe)),ye=Math.max(0,Math.min(Pe-ae,ye));break}this.x=fe/=we,this.y=ye/=Pe;const[ve,ue]=We(this,he,Sn).call(this);fe+=ve,ye+=ue;const{style:m}=this.div;m.left=`${(100*fe).toFixed(2)}%`,m.top=`${(100*ye).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(we,Pe){var fe;return We(fe=Ce,ce,wn).call(fe,we,Pe,this.parentRotation)}pageTranslationToScreen(we,Pe){var fe;return We(fe=Ce,ce,wn).call(fe,we,Pe,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:we,pageDimensions:[Pe,fe]}=this,ye=Pe*we,ae=fe*we;return c.FeatureTest.isCSSRoundSupported?[Math.round(ye),Math.round(ae)]:[ye,ae]}setDims(we,Pe){var ae;const[fe,ye]=this.parentDimensions;this.div.style.width=`${(100*we/fe).toFixed(2)}%`,ge(this,te)||(this.div.style.height=`${(100*Pe/ye).toFixed(2)}%`),(ae=ge(this,b))==null||ae.classList.toggle("small",we<Ce.SMALL_EDITOR_SIZE||Pe<Ce.SMALL_EDITOR_SIZE)}fixDims(){const{style:we}=this.div,{height:Pe,width:fe}=we,ye=fe.endsWith("%"),ae=!ge(this,te)&&Pe.endsWith("%");if(ye&&ae)return;const[de,ve]=this.parentDimensions;ye||(we.width=`${(100*parseFloat(fe)/de).toFixed(2)}%`),!ge(this,te)&&!ae&&(we.height=`${(100*parseFloat(Pe)/ve).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(ge(this,b))return;const we=Ze(this,b,document.createElement("button"));we.className="altText";const Pe=await Ce._l10nPromise.get("editor_alt_text_button_label");we.textContent=Pe,we.setAttribute("aria-label",Pe),we.tabIndex="0",we.addEventListener("contextmenu",h.noContextMenu),we.addEventListener("pointerdown",fe=>fe.stopPropagation()),we.addEventListener("click",fe=>{fe.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),we.addEventListener("keydown",fe=>{fe.target===we&&fe.key==="Enter"&&(fe.preventDefault(),this._uiManager.editAltText(this))}),We(this,he,Cn).call(this),this.div.append(we),Ce.SMALL_EDITOR_SIZE||(Ce.SMALL_EDITOR_SIZE=Math.min(128,Math.round(we.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:ge(this,re),decorative:ge(this,_)}}set altTextData({altText:we,decorative:Pe}){ge(this,re)===we&&ge(this,_)===Pe||(Ze(this,re,we),Ze(this,_,Pe),We(this,he,Cn).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ge(this,_e)),this.div.addEventListener("focusout",ge(this,j));const[we,Pe]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Pe/we).toFixed(2)}%`,this.div.style.maxHeight=`${(100*we/Pe).toFixed(2)}%`);const[fe,ye]=this.getInitialTranslation();return this.translate(fe,ye),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(we){const{isMac:Pe}=c.FeatureTest.platform;if(we.button!==0||we.ctrlKey&&Pe){we.preventDefault();return}Ze(this,g,!0),We(this,he,or).call(this,we)}moveInDOM(){var we;(we=this.parent)==null||we.moveEditorInDOM(this)}_setParentAndPosition(we,Pe,fe){we.changeParent(this),this.x=Pe,this.y=fe,this.fixAndSetPosition()}getRect(we,Pe){const fe=this.parentScale,[ye,ae]=this.pageDimensions,[de,ve]=this.pageTranslation,ue=we/fe,m=Pe/fe,Ee=this.x*ye,Te=this.y*ae,Me=this.width*ye,Le=this.height*ae;switch(this.rotation){case 0:return[Ee+ue+de,ae-Te-m-Le+ve,Ee+ue+Me+de,ae-Te-m+ve];case 90:return[Ee+m+de,ae-Te+ue+ve,Ee+m+Le+de,ae-Te+ue+Me+ve];case 180:return[Ee-ue-Me+de,ae-Te+m+ve,Ee-ue+de,ae-Te+m+Le+ve];case 270:return[Ee-m-Le+de,ae-Te-ue-Me+ve,Ee-m+de,ae-Te-ue+ve];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(we,Pe){const[fe,ye,ae,de]=we,ve=ae-fe,ue=de-ye;switch(this.rotation){case 0:return[fe,Pe-de,ve,ue];case 90:return[fe,Pe-ye,ue,ve];case 180:return[ae,Pe-ye,ve,ue];case 270:return[ae,Pe-de,ue,ve];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ze(this,ie,!0)}disableEditMode(){Ze(this,ie,!1)}isInEditMode(){return ge(this,ie)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var we,Pe;(we=this.div)==null||we.addEventListener("focusin",ge(this,_e)),(Pe=this.div)==null||Pe.addEventListener("focusout",ge(this,j))}serialize(we=!1,Pe=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(we,Pe,fe){const ye=new this.prototype.constructor({parent:Pe,id:Pe.getNextId(),uiManager:fe});ye.rotation=we.rotation;const[ae,de]=ye.pageDimensions,[ve,ue,m,Ee]=ye.getRectInCurrentCoords(we.rect,de);return ye.x=ve/ae,ye.y=ue/de,ye.width=m/ae,ye.height=Ee/de,ye}remove(){var we;this.div.removeEventListener("focusin",ge(this,_e)),this.div.removeEventListener("focusout",ge(this,j)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(we=ge(this,b))==null||we.remove(),Ze(this,b,null),Ze(this,me,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(We(this,he,rr).call(this),ge(this,$).classList.remove("hidden"))}select(){var we;this.makeResizable(),(we=this.div)==null||we.classList.add("selectedEditor")}unselect(){var we,Pe,fe;(we=ge(this,$))==null||we.classList.add("hidden"),(Pe=this.div)==null||Pe.classList.remove("selectedEditor"),(fe=this.div)!=null&&fe.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(we,Pe){}disableEditing(){ge(this,b)&&(ge(this,b).hidden=!0)}enableEditing(){ge(this,b)&&(ge(this,b).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return ge(this,ee)}set isEditing(we){Ze(this,ee,we),this.parent&&(we?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(we,Pe){Ze(this,te,!0);const fe=we/Pe,{style:ye}=this.div;ye.aspectRatio=fe,ye.height="auto"}static get MIN_SIZE(){return 16}};re=new WeakMap,_=new WeakMap,b=new WeakMap,me=new WeakMap,Se=new WeakMap,te=new WeakMap,$=new WeakMap,_e=new WeakMap,j=new WeakMap,g=new WeakMap,ee=new WeakMap,ie=new WeakMap,q=new WeakMap,ne=new WeakMap,he=new WeakSet,En=function([we,Pe],fe,ye){[fe,ye]=this.screenToPageTranslation(fe,ye),this.x+=fe/we,this.y+=ye/Pe,this.fixAndSetPosition()},Sn=function(){const[we,Pe]=this.parentDimensions,{_borderLineWidth:fe}=Ce,ye=fe/we,ae=fe/Pe;switch(this.rotation){case 90:return[-ye,ae];case 180:return[ye,ae];case 270:return[ye,-ae];default:return[-ye,-ae]}},ce=new WeakSet,wn=function(we,Pe,fe){switch(fe){case 90:return[Pe,-we];case 180:return[-we,-Pe];case 270:return[-Pe,we];default:return[we,Pe]}},An=function(we){switch(we){case 90:{const[Pe,fe]=this.pageDimensions;return[0,-Pe/fe,fe/Pe,0]}case 180:return[-1,0,0,-1];case 270:{const[Pe,fe]=this.pageDimensions;return[0,Pe/fe,-fe/Pe,0]}default:return[1,0,0,1]}},rr=function(){if(ge(this,$))return;Ze(this,$,document.createElement("div")),ge(this,$).classList.add("resizers");const we=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||we.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Pe of we){const fe=document.createElement("div");ge(this,$).append(fe),fe.classList.add("resizer",Pe),fe.addEventListener("pointerdown",We(this,he,ir).bind(this,Pe)),fe.addEventListener("contextmenu",h.noContextMenu)}this.div.prepend(ge(this,$))},ir=function(we,Pe){Pe.preventDefault();const{isMac:fe}=c.FeatureTest.platform;if(Pe.button!==0||Pe.ctrlKey&&fe)return;const ye=We(this,he,sr).bind(this,we),ae=this._isDraggable;this._isDraggable=!1;const de={passive:!0,capture:!0};window.addEventListener("pointermove",ye,de);const ve=this.x,ue=this.y,m=this.width,Ee=this.height,Te=this.parent.div.style.cursor,Me=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Pe.target).cursor;const Le=()=>{this._isDraggable=ae,window.removeEventListener("pointerup",Le),window.removeEventListener("blur",Le),window.removeEventListener("pointermove",ye,de),this.parent.div.style.cursor=Te,this.div.style.cursor=Me;const Ue=this.x,Xe=this.y,Ve=this.width,Ke=this.height;Ue===ve&&Xe===ue&&Ve===m&&Ke===Ee||this.addCommands({cmd:()=>{this.width=Ve,this.height=Ke,this.x=Ue,this.y=Xe;const[ze,Ge]=this.parentDimensions;this.setDims(ze*Ve,Ge*Ke),this.fixAndSetPosition()},undo:()=>{this.width=m,this.height=Ee,this.x=ve,this.y=ue;const[ze,Ge]=this.parentDimensions;this.setDims(ze*m,Ge*Ee),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Le),window.addEventListener("blur",Le)},sr=function(we,Pe){const[fe,ye]=this.parentDimensions,ae=this.x,de=this.y,ve=this.width,ue=this.height,m=Ce.MIN_SIZE/fe,Ee=Ce.MIN_SIZE/ye,Te=_t=>Math.round(_t*1e4)/1e4,Me=We(this,he,An).call(this,this.rotation),Le=(_t,gt)=>[Me[0]*_t+Me[2]*gt,Me[1]*_t+Me[3]*gt],Ue=We(this,he,An).call(this,360-this.rotation),Xe=(_t,gt)=>[Ue[0]*_t+Ue[2]*gt,Ue[1]*_t+Ue[3]*gt];let Ve,Ke,ze=!1,Ge=!1;switch(we){case"topLeft":ze=!0,Ve=(_t,gt)=>[0,0],Ke=(_t,gt)=>[_t,gt];break;case"topMiddle":Ve=(_t,gt)=>[_t/2,0],Ke=(_t,gt)=>[_t/2,gt];break;case"topRight":ze=!0,Ve=(_t,gt)=>[_t,0],Ke=(_t,gt)=>[0,gt];break;case"middleRight":Ge=!0,Ve=(_t,gt)=>[_t,gt/2],Ke=(_t,gt)=>[0,gt/2];break;case"bottomRight":ze=!0,Ve=(_t,gt)=>[_t,gt],Ke=(_t,gt)=>[0,0];break;case"bottomMiddle":Ve=(_t,gt)=>[_t/2,gt],Ke=(_t,gt)=>[_t/2,0];break;case"bottomLeft":ze=!0,Ve=(_t,gt)=>[0,gt],Ke=(_t,gt)=>[_t,0];break;case"middleLeft":Ge=!0,Ve=(_t,gt)=>[0,gt/2],Ke=(_t,gt)=>[_t,gt/2];break}const Oe=Ve(ve,ue),$e=Ke(ve,ue);let He=Le(...$e);const Ye=Te(ae+He[0]),nt=Te(de+He[1]);let ot=1,st=1,[Be,ct]=this.screenToPageTranslation(Pe.movementX,Pe.movementY);if([Be,ct]=Xe(Be/fe,ct/ye),ze){const _t=Math.hypot(ve,ue);ot=st=Math.max(Math.min(Math.hypot($e[0]-Oe[0]-Be,$e[1]-Oe[1]-ct)/_t,1/ve,1/ue),m/ve,Ee/ue)}else Ge?ot=Math.max(m,Math.min(1,Math.abs($e[0]-Oe[0]-Be)))/ve:st=Math.max(Ee,Math.min(1,Math.abs($e[1]-Oe[1]-ct)))/ue;const dt=Te(ve*ot),xt=Te(ue*st);He=Le(...Ke(dt,xt));const At=Ye-He[0],Ot=nt-He[1];this.width=dt,this.height=xt,this.x=At,this.y=Ot,this.setDims(fe*dt,ye*xt),this.fixAndSetPosition()},Cn=async function(){var fe;const we=ge(this,b);if(!we)return;if(!ge(this,re)&&!ge(this,_)){we.classList.remove("done"),(fe=ge(this,me))==null||fe.remove();return}Ce._l10nPromise.get("editor_alt_text_edit_button_label").then(ye=>{we.setAttribute("aria-label",ye)});let Pe=ge(this,me);if(!Pe){Ze(this,me,Pe=document.createElement("span")),Pe.className="tooltip",Pe.setAttribute("role","tooltip");const ye=Pe.id=`alt-text-tooltip-${this.id}`;we.setAttribute("aria-describedby",ye);const ae=100;we.addEventListener("mouseenter",()=>{Ze(this,Se,setTimeout(()=>{Ze(this,Se,null),ge(this,me).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},ae))}),we.addEventListener("mouseleave",()=>{var de;clearTimeout(ge(this,Se)),Ze(this,Se,null),(de=ge(this,me))==null||de.classList.remove("show")})}we.classList.add("done"),Pe.innerText=ge(this,_)?await Ce._l10nPromise.get("editor_alt_text_decorative_tooltip"):ge(this,re),Pe.parentNode||we.append(Pe)},or=function(we){if(!this._isDraggable)return;const Pe=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let fe,ye;Pe&&(fe={passive:!0,capture:!0},ye=de=>{const[ve,ue]=this.screenToPageTranslation(de.movementX,de.movementY);this._uiManager.dragSelectedEditors(ve,ue)},window.addEventListener("pointermove",ye,fe));const ae=()=>{if(window.removeEventListener("pointerup",ae),window.removeEventListener("blur",ae),Pe&&window.removeEventListener("pointermove",ye,fe),Ze(this,g,!1),!this._uiManager.endDragSession()){const{isMac:de}=c.FeatureTest.platform;we.ctrlKey&&!de||we.shiftKey||we.metaKey&&de?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",ae),window.addEventListener("blur",ae)},Qe(Ce,ce),Lt(Ce,"_borderLineWidth",-1),Lt(Ce,"_colorManager",new a.ColorManager),Lt(Ce,"_zIndex",1),Lt(Ce,"SMALL_EDITOR_SIZE",0);let d=Ce;i.AnnotationEditor=d;class f extends d{constructor(we){super(we),this.annotationElementId=we.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,o)=>{var te,$,_e,j,g,xn,q,ne,he,le,oe,ar,se,be,Ae,Ie,Re,Fe,Ce,ke,we,Pe,fe,ye,ae,de,ve,ue,m,Ee,Te,Me,Le,Ue,Xe,Ve,Ke,ze,Ge,Oe,$e,He,Ye,nt,ot,st,Be,lr,Pn,On,an,Tn,Mn,Nt,Qt,cr,ur,$n,Jt,jn;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=h,i.opacityToHex=d;var a=o(1),c=o(6);function h($t,Ne,it){for(const ht of it)Ne.addEventListener(ht,$t[ht].bind($t))}function d($t){return Math.round(Math.min(255,Math.max(1,255*$t))).toString(16).padStart(2,"0")}class f{constructor(){Qe(this,te,0)}getId(){return`${a.AnnotationEditorPrefix}${Kt(this,te)._++}`}}te=new WeakMap;const ie=class ie{constructor(){Qe(this,g);Qe(this,$,(0,a.getUuid)());Qe(this,_e,0);Qe(this,j,null)}static get _isSVGFittingCanvas(){const Ne='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ht=new OffscreenCanvas(1,3).getContext("2d"),yt=new Image;yt.src=Ne;const wt=yt.decode().then(()=>(ht.drawImage(yt,0,0,1,1,0,0,1,3),new Uint32Array(ht.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",wt)}async getFromFile(Ne){const{lastModified:it,name:ht,size:yt,type:wt}=Ne;return We(this,g,xn).call(this,`${it}_${ht}_${yt}_${wt}`,Ne)}async getFromUrl(Ne){return We(this,g,xn).call(this,Ne,Ne)}async getFromId(Ne){ge(this,j)||Ze(this,j,new Map);const it=ge(this,j).get(Ne);return it?it.bitmap?(it.refCounter+=1,it):it.file?this.getFromFile(it.file):this.getFromUrl(it.url):null}getSvgUrl(Ne){const it=ge(this,j).get(Ne);return it!=null&&it.isSvg?it.svgUrl:null}deleteId(Ne){ge(this,j)||Ze(this,j,new Map);const it=ge(this,j).get(Ne);it&&(it.refCounter-=1,it.refCounter===0&&(it.bitmap=null))}isValidId(Ne){return Ne.startsWith(`image_${ge(this,$)}_`)}};$=new WeakMap,_e=new WeakMap,j=new WeakMap,g=new WeakSet,xn=async function(Ne,it){ge(this,j)||Ze(this,j,new Map);let ht=ge(this,j).get(Ne);if(ht===null)return null;if(ht!=null&&ht.bitmap)return ht.refCounter+=1,ht;try{ht||(ht={bitmap:null,id:`image_${ge(this,$)}_${Kt(this,_e)._++}`,refCounter:0,isSvg:!1});let yt;if(typeof it=="string"){ht.url=it;const wt=await fetch(it);if(!wt.ok)throw new Error(wt.statusText);yt=await wt.blob()}else yt=ht.file=it;if(yt.type==="image/svg+xml"){const wt=ie._isSVGFittingCanvas,pt=new FileReader,De=new Image,je=new Promise((qe,tt)=>{De.onload=()=>{ht.bitmap=De,ht.isSvg=!0,qe()},pt.onload=async()=>{const rt=ht.svgUrl=pt.result;De.src=await wt?`${rt}#svgView(preserveAspectRatio(none))`:rt},De.onerror=pt.onerror=tt});pt.readAsDataURL(yt),await je}else ht.bitmap=await createImageBitmap(yt);ht.refCounter=1}catch(yt){console.error(yt),ht=null}return ge(this,j).set(Ne,ht),ht&&ge(this,j).set(ht.id,ht),ht};let re=ie;class _{constructor(Ne=128){Qe(this,q,[]);Qe(this,ne,!1);Qe(this,he);Qe(this,le,-1);Ze(this,he,Ne)}add({cmd:Ne,undo:it,mustExec:ht,type:yt=NaN,overwriteIfSameType:wt=!1,keepUndo:pt=!1}){if(ht&&Ne(),ge(this,ne))return;const De={cmd:Ne,undo:it,type:yt};if(ge(this,le)===-1){ge(this,q).length>0&&(ge(this,q).length=0),Ze(this,le,0),ge(this,q).push(De);return}if(wt&&ge(this,q)[ge(this,le)].type===yt){pt&&(De.undo=ge(this,q)[ge(this,le)].undo),ge(this,q)[ge(this,le)]=De;return}const je=ge(this,le)+1;je===ge(this,he)?ge(this,q).splice(0,1):(Ze(this,le,je),je<ge(this,q).length&&ge(this,q).splice(je)),ge(this,q).push(De)}undo(){ge(this,le)!==-1&&(Ze(this,ne,!0),ge(this,q)[ge(this,le)].undo(),Ze(this,ne,!1),Ze(this,le,ge(this,le)-1))}redo(){ge(this,le)<ge(this,q).length-1&&(Ze(this,le,ge(this,le)+1),Ze(this,ne,!0),ge(this,q)[ge(this,le)].cmd(),Ze(this,ne,!1))}hasSomethingToUndo(){return ge(this,le)!==-1}hasSomethingToRedo(){return ge(this,le)<ge(this,q).length-1}destroy(){Ze(this,q,null)}}q=new WeakMap,ne=new WeakMap,he=new WeakMap,le=new WeakMap,i.CommandManager=_;class b{constructor(Ne){Qe(this,oe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:it}=a.FeatureTest.platform;for(const[ht,yt,wt={}]of Ne)for(const pt of ht){const De=pt.startsWith("mac+");it&&De?(this.callbacks.set(pt.slice(4),{callback:yt,options:wt}),this.allKeys.add(pt.split("+").at(-1))):!it&&!De&&(this.callbacks.set(pt,{callback:yt,options:wt}),this.allKeys.add(pt.split("+").at(-1)))}}exec(Ne,it){if(!this.allKeys.has(it.key))return;const ht=this.callbacks.get(We(this,oe,ar).call(this,it));if(!ht)return;const{callback:yt,options:{bubbles:wt=!1,args:pt=[],checker:De=null}}=ht;De&&!De(Ne,it)||(yt.bind(Ne,...pt)(),wt||(it.stopPropagation(),it.preventDefault()))}}oe=new WeakSet,ar=function(Ne){Ne.altKey&&this.buffer.push("alt"),Ne.ctrlKey&&this.buffer.push("ctrl"),Ne.metaKey&&this.buffer.push("meta"),Ne.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ne.key);const it=this.buffer.join("+");return this.buffer.length=0,it},i.KeyboardManager=b;const xe=class xe{get _colors(){const Ne=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(Ne),(0,a.shadow)(this,"_colors",Ne)}convert(Ne){const it=(0,c.getRGB)(Ne);if(!window.matchMedia("(forced-colors: active)").matches)return it;for(const[ht,yt]of this._colors)if(yt.every((wt,pt)=>wt===it[pt]))return xe._colorsMapping.get(ht);return it}getHexCode(Ne){const it=this._colors.get(Ne);return it?a.Util.makeHexColor(...it):Ne}};Lt(xe,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let me=xe;i.ColorManager=me;const jt=class jt{constructor(Ne,it,ht,yt,wt,pt){Qe(this,Be);Qe(this,se,null);Qe(this,be,new Map);Qe(this,Ae,new Map);Qe(this,Ie,null);Qe(this,Re,null);Qe(this,Fe,new _);Qe(this,Ce,0);Qe(this,ke,new Set);Qe(this,we,null);Qe(this,Pe,null);Qe(this,fe,new Set);Qe(this,ye,null);Qe(this,ae,new f);Qe(this,de,!1);Qe(this,ve,!1);Qe(this,ue,null);Qe(this,m,a.AnnotationEditorType.NONE);Qe(this,Ee,new Set);Qe(this,Te,null);Qe(this,Me,this.blur.bind(this));Qe(this,Le,this.focus.bind(this));Qe(this,Ue,this.copy.bind(this));Qe(this,Xe,this.cut.bind(this));Qe(this,Ve,this.paste.bind(this));Qe(this,Ke,this.keydown.bind(this));Qe(this,ze,this.onEditingAction.bind(this));Qe(this,Ge,this.onPageChanging.bind(this));Qe(this,Oe,this.onScaleChanging.bind(this));Qe(this,$e,this.onRotationChanging.bind(this));Qe(this,He,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Qe(this,Ye,[0,0]);Qe(this,nt,null);Qe(this,ot,null);Qe(this,st,null);Ze(this,ot,Ne),Ze(this,st,it),Ze(this,Ie,ht),this._eventBus=yt,this._eventBus._on("editingaction",ge(this,ze)),this._eventBus._on("pagechanging",ge(this,Ge)),this._eventBus._on("scalechanging",ge(this,Oe)),this._eventBus._on("rotationchanging",ge(this,$e)),Ze(this,Re,wt.annotationStorage),Ze(this,ye,wt.filterFactory),Ze(this,Te,pt),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Ne=jt.prototype,it=wt=>{const{activeElement:pt}=document;return pt&&ge(wt,ot).contains(pt)&&wt.hasSomethingToControl()},ht=this.TRANSLATE_SMALL,yt=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],Ne.selectAll],[["ctrl+z","mac+meta+z"],Ne.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Ne.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Ne.delete],[["Escape","mac+Escape"],Ne.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Ne.translateSelectedEditors,{args:[-ht,0],checker:it}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ne.translateSelectedEditors,{args:[-yt,0],checker:it}],[["ArrowRight","mac+ArrowRight"],Ne.translateSelectedEditors,{args:[ht,0],checker:it}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ne.translateSelectedEditors,{args:[yt,0],checker:it}],[["ArrowUp","mac+ArrowUp"],Ne.translateSelectedEditors,{args:[0,-ht],checker:it}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ne.translateSelectedEditors,{args:[0,-yt],checker:it}],[["ArrowDown","mac+ArrowDown"],Ne.translateSelectedEditors,{args:[0,ht],checker:it}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ne.translateSelectedEditors,{args:[0,yt],checker:it}]]))}destroy(){We(this,Be,an).call(this),We(this,Be,Pn).call(this),this._eventBus._off("editingaction",ge(this,ze)),this._eventBus._off("pagechanging",ge(this,Ge)),this._eventBus._off("scalechanging",ge(this,Oe)),this._eventBus._off("rotationchanging",ge(this,$e));for(const Ne of ge(this,Ae).values())Ne.destroy();ge(this,Ae).clear(),ge(this,be).clear(),ge(this,fe).clear(),Ze(this,se,null),ge(this,Ee).clear(),ge(this,Fe).destroy(),ge(this,Ie).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",ge(this,Te)?ge(this,ye).addHCMFilter(ge(this,Te).foreground,ge(this,Te).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(ge(this,ot)).direction)}editAltText(Ne){var it;(it=ge(this,Ie))==null||it.editAltText(this,Ne)}onPageChanging({pageNumber:Ne}){Ze(this,Ce,Ne-1)}focusMainContainer(){ge(this,ot).focus()}findParent(Ne,it){for(const ht of ge(this,Ae).values()){const{x:yt,y:wt,width:pt,height:De}=ht.div.getBoundingClientRect();if(Ne>=yt&&Ne<=yt+pt&&it>=wt&&it<=wt+De)return ht}return null}disableUserSelect(Ne=!1){ge(this,st).classList.toggle("noUserSelect",Ne)}addShouldRescale(Ne){ge(this,fe).add(Ne)}removeShouldRescale(Ne){ge(this,fe).delete(Ne)}onScaleChanging({scale:Ne}){this.commitOrRemove(),this.viewParameters.realScale=Ne*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const it of ge(this,fe))it.onScaleChanging()}onRotationChanging({pagesRotation:Ne}){this.commitOrRemove(),this.viewParameters.rotation=Ne}addToAnnotationStorage(Ne){!Ne.isEmpty()&&ge(this,Re)&&!ge(this,Re).has(Ne.id)&&ge(this,Re).setValue(Ne.id,Ne)}blur(){if(!this.hasSelection)return;const{activeElement:Ne}=document;for(const it of ge(this,Ee))if(it.div.contains(Ne)){Ze(this,ue,[it,Ne]),it._focusEventsAllowed=!1;break}}focus(){if(!ge(this,ue))return;const[Ne,it]=ge(this,ue);Ze(this,ue,null),it.addEventListener("focusin",()=>{Ne._focusEventsAllowed=!0},{once:!0}),it.focus()}addEditListeners(){We(this,Be,On).call(this),We(this,Be,Tn).call(this)}removeEditListeners(){We(this,Be,an).call(this),We(this,Be,Mn).call(this)}copy(Ne){var ht;if(Ne.preventDefault(),(ht=ge(this,se))==null||ht.commitOrRemove(),!this.hasSelection)return;const it=[];for(const yt of ge(this,Ee)){const wt=yt.serialize(!0);wt&&it.push(wt)}it.length!==0&&Ne.clipboardData.setData("application/pdfjs",JSON.stringify(it))}cut(Ne){this.copy(Ne),this.delete()}paste(Ne){Ne.preventDefault();const{clipboardData:it}=Ne;for(const wt of it.items)for(const pt of ge(this,Pe))if(pt.isHandlingMimeForPasting(wt.type)){pt.paste(wt,this.currentLayer);return}let ht=it.getData("application/pdfjs");if(!ht)return;try{ht=JSON.parse(ht)}catch(wt){(0,a.warn)(`paste: "${wt.message}".`);return}if(!Array.isArray(ht))return;this.unselectAll();const yt=this.currentLayer;try{const wt=[];for(const je of ht){const qe=yt.deserialize(je);if(!qe)return;wt.push(qe)}const pt=()=>{for(const je of wt)We(this,Be,$n).call(this,je);We(this,Be,jn).call(this,wt)},De=()=>{for(const je of wt)je.remove()};this.addCommands({cmd:pt,undo:De,mustExec:!0})}catch(wt){(0,a.warn)(`paste: "${wt.message}".`)}}keydown(Ne){var it;(it=this.getActive())!=null&&it.shouldGetKeyboardEvents()||jt._keyboardManager.exec(this,Ne)}onEditingAction(Ne){["undo","redo","delete","selectAll"].includes(Ne.name)&&this[Ne.name]()}setEditingState(Ne){Ne?(We(this,Be,lr).call(this),We(this,Be,On).call(this),We(this,Be,Tn).call(this),We(this,Be,Nt).call(this,{isEditing:ge(this,m)!==a.AnnotationEditorType.NONE,isEmpty:We(this,Be,Jt).call(this),hasSomethingToUndo:ge(this,Fe).hasSomethingToUndo(),hasSomethingToRedo:ge(this,Fe).hasSomethingToRedo(),hasSelectedEditor:!1})):(We(this,Be,Pn).call(this),We(this,Be,an).call(this),We(this,Be,Mn).call(this),We(this,Be,Nt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Ne){if(!ge(this,Pe)){Ze(this,Pe,Ne);for(const it of ge(this,Pe))We(this,Be,Qt).call(this,it.defaultPropertiesToUpdate)}}getId(){return ge(this,ae).getId()}get currentLayer(){return ge(this,Ae).get(ge(this,Ce))}getLayer(Ne){return ge(this,Ae).get(Ne)}get currentPageIndex(){return ge(this,Ce)}addLayer(Ne){ge(this,Ae).set(Ne.pageIndex,Ne),ge(this,de)?Ne.enable():Ne.disable()}removeLayer(Ne){ge(this,Ae).delete(Ne.pageIndex)}updateMode(Ne,it=null){if(ge(this,m)!==Ne){if(Ze(this,m,Ne),Ne===a.AnnotationEditorType.NONE){this.setEditingState(!1),We(this,Be,ur).call(this);return}this.setEditingState(!0),We(this,Be,cr).call(this),this.unselectAll();for(const ht of ge(this,Ae).values())ht.updateMode(Ne);if(it){for(const ht of ge(this,be).values())if(ht.annotationElementId===it){this.setSelected(ht),ht.enterInEditMode();break}}}}updateToolbar(Ne){Ne!==ge(this,m)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Ne})}updateParams(Ne,it){if(ge(this,Pe)){if(Ne===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Ne);return}for(const ht of ge(this,Ee))ht.updateParams(Ne,it);for(const ht of ge(this,Pe))ht.updateDefaultParams(Ne,it)}}enableWaiting(Ne=!1){if(ge(this,ve)!==Ne){Ze(this,ve,Ne);for(const it of ge(this,Ae).values())Ne?it.disableClick():it.enableClick(),it.div.classList.toggle("waiting",Ne)}}getEditors(Ne){const it=[];for(const ht of ge(this,be).values())ht.pageIndex===Ne&&it.push(ht);return it}getEditor(Ne){return ge(this,be).get(Ne)}addEditor(Ne){ge(this,be).set(Ne.id,Ne)}removeEditor(Ne){var it;ge(this,be).delete(Ne.id),this.unselect(Ne),(!Ne.annotationElementId||!ge(this,ke).has(Ne.annotationElementId))&&((it=ge(this,Re))==null||it.remove(Ne.id))}addDeletedAnnotationElement(Ne){ge(this,ke).add(Ne.annotationElementId),Ne.deleted=!0}isDeletedAnnotationElement(Ne){return ge(this,ke).has(Ne)}removeDeletedAnnotationElement(Ne){ge(this,ke).delete(Ne.annotationElementId),Ne.deleted=!1}setActiveEditor(Ne){ge(this,se)!==Ne&&(Ze(this,se,Ne),Ne&&We(this,Be,Qt).call(this,Ne.propertiesToUpdate))}toggleSelected(Ne){if(ge(this,Ee).has(Ne)){ge(this,Ee).delete(Ne),Ne.unselect(),We(this,Be,Nt).call(this,{hasSelectedEditor:this.hasSelection});return}ge(this,Ee).add(Ne),Ne.select(),We(this,Be,Qt).call(this,Ne.propertiesToUpdate),We(this,Be,Nt).call(this,{hasSelectedEditor:!0})}setSelected(Ne){for(const it of ge(this,Ee))it!==Ne&&it.unselect();ge(this,Ee).clear(),ge(this,Ee).add(Ne),Ne.select(),We(this,Be,Qt).call(this,Ne.propertiesToUpdate),We(this,Be,Nt).call(this,{hasSelectedEditor:!0})}isSelected(Ne){return ge(this,Ee).has(Ne)}unselect(Ne){Ne.unselect(),ge(this,Ee).delete(Ne),We(this,Be,Nt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ge(this,Ee).size!==0}undo(){ge(this,Fe).undo(),We(this,Be,Nt).call(this,{hasSomethingToUndo:ge(this,Fe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:We(this,Be,Jt).call(this)})}redo(){ge(this,Fe).redo(),We(this,Be,Nt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ge(this,Fe).hasSomethingToRedo(),isEmpty:We(this,Be,Jt).call(this)})}addCommands(Ne){ge(this,Fe).add(Ne),We(this,Be,Nt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:We(this,Be,Jt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ne=[...ge(this,Ee)],it=()=>{for(const yt of Ne)yt.remove()},ht=()=>{for(const yt of Ne)We(this,Be,$n).call(this,yt)};this.addCommands({cmd:it,undo:ht,mustExec:!0})}commitOrRemove(){var Ne;(Ne=ge(this,se))==null||Ne.commitOrRemove()}hasSomethingToControl(){return ge(this,se)||this.hasSelection}selectAll(){for(const Ne of ge(this,Ee))Ne.commit();We(this,Be,jn).call(this,ge(this,be).values())}unselectAll(){if(ge(this,se)){ge(this,se).commitOrRemove();return}if(this.hasSelection){for(const Ne of ge(this,Ee))Ne.unselect();ge(this,Ee).clear(),We(this,Be,Nt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Ne,it,ht=!1){if(ht||this.commitOrRemove(),!this.hasSelection)return;ge(this,Ye)[0]+=Ne,ge(this,Ye)[1]+=it;const[yt,wt]=ge(this,Ye),pt=[...ge(this,Ee)],De=1e3;ge(this,nt)&&clearTimeout(ge(this,nt)),Ze(this,nt,setTimeout(()=>{Ze(this,nt,null),ge(this,Ye)[0]=ge(this,Ye)[1]=0,this.addCommands({cmd:()=>{for(const je of pt)ge(this,be).has(je.id)&&je.translateInPage(yt,wt)},undo:()=>{for(const je of pt)ge(this,be).has(je.id)&&je.translateInPage(-yt,-wt)},mustExec:!1})},De));for(const je of pt)je.translateInPage(Ne,it)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ze(this,we,new Map);for(const Ne of ge(this,Ee))ge(this,we).set(Ne,{savedX:Ne.x,savedY:Ne.y,savedPageIndex:Ne.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ge(this,we))return!1;this.disableUserSelect(!1);const Ne=ge(this,we);Ze(this,we,null);let it=!1;for(const[{x:yt,y:wt,pageIndex:pt},De]of Ne)De.newX=yt,De.newY=wt,De.newPageIndex=pt,it||(it=yt!==De.savedX||wt!==De.savedY||pt!==De.savedPageIndex);if(!it)return!1;const ht=(yt,wt,pt,De)=>{if(ge(this,be).has(yt.id)){const je=ge(this,Ae).get(De);je?yt._setParentAndPosition(je,wt,pt):(yt.pageIndex=De,yt.x=wt,yt.y=pt)}};return this.addCommands({cmd:()=>{for(const[yt,{newX:wt,newY:pt,newPageIndex:De}]of Ne)ht(yt,wt,pt,De)},undo:()=>{for(const[yt,{savedX:wt,savedY:pt,savedPageIndex:De}]of Ne)ht(yt,wt,pt,De)},mustExec:!0}),!0}dragSelectedEditors(Ne,it){if(ge(this,we))for(const ht of ge(this,we).keys())ht.drag(Ne,it)}rebuild(Ne){if(Ne.parent===null){const it=this.getLayer(Ne.pageIndex);it?(it.changeParent(Ne),it.addOrRebuild(Ne)):(this.addEditor(Ne),this.addToAnnotationStorage(Ne),Ne.rebuild())}else Ne.parent.addOrRebuild(Ne)}isActive(Ne){return ge(this,se)===Ne}getActive(){return ge(this,se)}getMode(){return ge(this,m)}get imageManager(){return(0,a.shadow)(this,"imageManager",new re)}};se=new WeakMap,be=new WeakMap,Ae=new WeakMap,Ie=new WeakMap,Re=new WeakMap,Fe=new WeakMap,Ce=new WeakMap,ke=new WeakMap,we=new WeakMap,Pe=new WeakMap,fe=new WeakMap,ye=new WeakMap,ae=new WeakMap,de=new WeakMap,ve=new WeakMap,ue=new WeakMap,m=new WeakMap,Ee=new WeakMap,Te=new WeakMap,Me=new WeakMap,Le=new WeakMap,Ue=new WeakMap,Xe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ge=new WeakMap,Oe=new WeakMap,$e=new WeakMap,He=new WeakMap,Ye=new WeakMap,nt=new WeakMap,ot=new WeakMap,st=new WeakMap,Be=new WeakSet,lr=function(){window.addEventListener("focus",ge(this,Le)),window.addEventListener("blur",ge(this,Me))},Pn=function(){window.removeEventListener("focus",ge(this,Le)),window.removeEventListener("blur",ge(this,Me))},On=function(){window.addEventListener("keydown",ge(this,Ke),{capture:!0})},an=function(){window.removeEventListener("keydown",ge(this,Ke),{capture:!0})},Tn=function(){document.addEventListener("copy",ge(this,Ue)),document.addEventListener("cut",ge(this,Xe)),document.addEventListener("paste",ge(this,Ve))},Mn=function(){document.removeEventListener("copy",ge(this,Ue)),document.removeEventListener("cut",ge(this,Xe)),document.removeEventListener("paste",ge(this,Ve))},Nt=function(Ne){Object.entries(Ne).some(([ht,yt])=>ge(this,He)[ht]!==yt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ge(this,He),Ne)})},Qt=function(Ne){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ne})},cr=function(){if(!ge(this,de)){Ze(this,de,!0);for(const Ne of ge(this,Ae).values())Ne.enable()}},ur=function(){if(this.unselectAll(),ge(this,de)){Ze(this,de,!1);for(const Ne of ge(this,Ae).values())Ne.disable()}},$n=function(Ne){const it=ge(this,Ae).get(Ne.pageIndex);it?it.addOrRebuild(Ne):this.addEditor(Ne)},Jt=function(){if(ge(this,be).size===0)return!0;if(ge(this,be).size===1)for(const Ne of ge(this,be).values())return Ne.isEmpty();return!1},jn=function(Ne){ge(this,Ee).clear();for(const it of Ne)it.isEmpty()||(ge(this,Ee).add(it),it.select());We(this,Be,Nt).call(this,{hasSelectedEditor:!0})},Lt(jt,"TRANSLATE_SMALL",1),Lt(jt,"TRANSLATE_BIG",10);let Se=jt;i.AnnotationEditorUIManager=Se},(e,i,o)=>{var Ce,ke,we,Pe,fe,ye,ae,de,ve,ue,m,Ee,qt,Wt,Rn,ln,cn,Zt,en;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=le,i.getColorValues=be,i.getCurrentTransform=Ae,i.getCurrentTransformInverse=Ie,i.getFilenameFromUrl=g,i.getPdfFilenameFromUrl=ee,i.getRGB=se,i.getXfaPageViewport=xe,i.isDataScheme=_e,i.isPdfFile=j,i.isValidFetchUrl=q,i.loadScript=he,i.noContextMenu=ne,i.setLayerDimensions=Re;var a=o(7),c=o(1);const h="http://www.w3.org/2000/svg",Fe=class Fe{};Lt(Fe,"CSS",96),Lt(Fe,"PDF",72),Lt(Fe,"PDF_TO_CSS_UNITS",Fe.CSS/Fe.PDF);let d=Fe;i.PixelsPerInch=d;class f extends a.BaseFilterFactory{constructor({docId:Oe,ownerDocument:$e=globalThis.document}={}){super();Qe(this,Ee);Qe(this,Ce);Qe(this,ke);Qe(this,we);Qe(this,Pe);Qe(this,fe);Qe(this,ye);Qe(this,ae);Qe(this,de);Qe(this,ve);Qe(this,ue);Qe(this,m,0);Ze(this,we,Oe),Ze(this,Pe,$e)}addFilter(Oe){if(!Oe)return"none";let $e=ge(this,Ee,qt).get(Oe);if($e)return $e;let He,Ye,nt,ot;if(Oe.length===1){const dt=Oe[0],xt=new Array(256);for(let At=0;At<256;At++)xt[At]=dt[At]/255;ot=He=Ye=nt=xt.join(",")}else{const[dt,xt,At]=Oe,Ot=new Array(256),_t=new Array(256),gt=new Array(256);for(let Tt=0;Tt<256;Tt++)Ot[Tt]=dt[Tt]/255,_t[Tt]=xt[Tt]/255,gt[Tt]=At[Tt]/255;He=Ot.join(","),Ye=_t.join(","),nt=gt.join(","),ot=`${He}${Ye}${nt}`}if($e=ge(this,Ee,qt).get(ot),$e)return ge(this,Ee,qt).set(Oe,$e),$e;const st=`g_${ge(this,we)}_transfer_map_${Kt(this,m)._++}`,Be=`url(#${st})`;ge(this,Ee,qt).set(Oe,Be),ge(this,Ee,qt).set(ot,Be);const ct=We(this,Ee,ln).call(this,st);return We(this,Ee,Zt).call(this,He,Ye,nt,ct),Be}addHCMFilter(Oe,$e){var xt;const He=`${Oe}-${$e}`;if(ge(this,ye)===He)return ge(this,ae);if(Ze(this,ye,He),Ze(this,ae,"none"),(xt=ge(this,fe))==null||xt.remove(),!Oe||!$e)return ge(this,ae);const Ye=We(this,Ee,en).call(this,Oe);Oe=c.Util.makeHexColor(...Ye);const nt=We(this,Ee,en).call(this,$e);if($e=c.Util.makeHexColor(...nt),ge(this,Ee,Wt).style.color="",Oe==="#000000"&&$e==="#ffffff"||Oe===$e)return ge(this,ae);const ot=new Array(256);for(let At=0;At<=255;At++){const Ot=At/255;ot[At]=Ot<=.03928?Ot/12.92:((Ot+.055)/1.055)**2.4}const st=ot.join(","),Be=`g_${ge(this,we)}_hcm_filter`,ct=Ze(this,de,We(this,Ee,ln).call(this,Be));We(this,Ee,Zt).call(this,st,st,st,ct),We(this,Ee,Rn).call(this,ct);const dt=(At,Ot)=>{const _t=Ye[At]/255,gt=nt[At]/255,Tt=new Array(Ot+1);for(let Rt=0;Rt<=Ot;Rt++)Tt[Rt]=_t+Rt/Ot*(gt-_t);return Tt.join(",")};return We(this,Ee,Zt).call(this,dt(0,5),dt(1,5),dt(2,5),ct),Ze(this,ae,`url(#${Be})`),ge(this,ae)}addHighlightHCMFilter(Oe,$e,He,Ye){var gt;const nt=`${Oe}-${$e}-${He}-${Ye}`;if(ge(this,ve)===nt)return ge(this,ue);if(Ze(this,ve,nt),Ze(this,ue,"none"),(gt=ge(this,de))==null||gt.remove(),!Oe||!$e)return ge(this,ue);const[ot,st]=[Oe,$e].map(We(this,Ee,en).bind(this));let Be=Math.round(.2126*ot[0]+.7152*ot[1]+.0722*ot[2]),ct=Math.round(.2126*st[0]+.7152*st[1]+.0722*st[2]),[dt,xt]=[He,Ye].map(We(this,Ee,en).bind(this));ct<Be&&([Be,ct,dt,xt]=[ct,Be,xt,dt]),ge(this,Ee,Wt).style.color="";const At=(Tt,Rt,lt)=>{const Je=new Array(256),et=(ct-Be)/lt,mt=Tt/255,jt=(Rt-Tt)/(255*lt);let $t=0;for(let Ne=0;Ne<=lt;Ne++){const it=Math.round(Be+Ne*et),ht=mt+Ne*jt;for(let yt=$t;yt<=it;yt++)Je[yt]=ht;$t=it+1}for(let Ne=$t;Ne<256;Ne++)Je[Ne]=Je[$t-1];return Je.join(",")},Ot=`g_${ge(this,we)}_hcm_highlight_filter`,_t=Ze(this,de,We(this,Ee,ln).call(this,Ot));return We(this,Ee,Rn).call(this,_t),We(this,Ee,Zt).call(this,At(dt[0],xt[0],5),At(dt[1],xt[1],5),At(dt[2],xt[2],5),_t),Ze(this,ue,`url(#${Ot})`),ge(this,ue)}destroy(Oe=!1){Oe&&(ge(this,ae)||ge(this,ue))||(ge(this,ke)&&(ge(this,ke).parentNode.parentNode.remove(),Ze(this,ke,null)),ge(this,Ce)&&(ge(this,Ce).clear(),Ze(this,Ce,null)),Ze(this,m,0))}}Ce=new WeakMap,ke=new WeakMap,we=new WeakMap,Pe=new WeakMap,fe=new WeakMap,ye=new WeakMap,ae=new WeakMap,de=new WeakMap,ve=new WeakMap,ue=new WeakMap,m=new WeakMap,Ee=new WeakSet,qt=function(){return ge(this,Ce)||Ze(this,Ce,new Map)},Wt=function(){if(!ge(this,ke)){const Oe=ge(this,Pe).createElement("div"),{style:$e}=Oe;$e.visibility="hidden",$e.contain="strict",$e.width=$e.height=0,$e.position="absolute",$e.top=$e.left=0,$e.zIndex=-1;const He=ge(this,Pe).createElementNS(h,"svg");He.setAttribute("width",0),He.setAttribute("height",0),Ze(this,ke,ge(this,Pe).createElementNS(h,"defs")),Oe.append(He),He.append(ge(this,ke)),ge(this,Pe).body.append(Oe)}return ge(this,ke)},Rn=function(Oe){const $e=ge(this,Pe).createElementNS(h,"feColorMatrix");$e.setAttribute("type","matrix"),$e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Oe.append($e)},ln=function(Oe){const $e=ge(this,Pe).createElementNS(h,"filter");return $e.setAttribute("color-interpolation-filters","sRGB"),$e.setAttribute("id",Oe),ge(this,Ee,Wt).append($e),$e},cn=function(Oe,$e,He){const Ye=ge(this,Pe).createElementNS(h,$e);Ye.setAttribute("type","discrete"),Ye.setAttribute("tableValues",He),Oe.append(Ye)},Zt=function(Oe,$e,He,Ye){const nt=ge(this,Pe).createElementNS(h,"feComponentTransfer");Ye.append(nt),We(this,Ee,cn).call(this,nt,"feFuncR",Oe),We(this,Ee,cn).call(this,nt,"feFuncG",$e),We(this,Ee,cn).call(this,nt,"feFuncB",He)},en=function(Oe){return ge(this,Ee,Wt).style.color=Oe,se(getComputedStyle(ge(this,Ee,Wt)).getPropertyValue("color"))},i.DOMFilterFactory=f;class re extends a.BaseCanvasFactory{constructor({ownerDocument:Ge=globalThis.document}={}){super(),this._document=Ge}_createCanvas(Ge,Oe){const $e=this._document.createElement("canvas");return $e.width=Ge,$e.height=Oe,$e}}i.DOMCanvasFactory=re;async function _(ze,Ge=!1){if(q(ze,document.baseURI)){const Oe=await fetch(ze);if(!Oe.ok)throw new Error(Oe.statusText);return Ge?new Uint8Array(await Oe.arrayBuffer()):(0,c.stringToBytes)(await Oe.text())}return new Promise((Oe,$e)=>{const He=new XMLHttpRequest;He.open("GET",ze,!0),Ge&&(He.responseType="arraybuffer"),He.onreadystatechange=()=>{if(He.readyState===XMLHttpRequest.DONE){if(He.status===200||He.status===0){let Ye;if(Ge&&He.response?Ye=new Uint8Array(He.response):!Ge&&He.responseText&&(Ye=(0,c.stringToBytes)(He.responseText)),Ye){Oe(Ye);return}}$e(new Error(He.statusText))}},He.send(null)})}class b extends a.BaseCMapReaderFactory{_fetchData(Ge,Oe){return _(Ge,this.isCompressed).then($e=>({cMapData:$e,compressionType:Oe}))}}i.DOMCMapReaderFactory=b;class me extends a.BaseStandardFontDataFactory{_fetchData(Ge){return _(Ge,!0)}}i.DOMStandardFontDataFactory=me;class Se extends a.BaseSVGFactory{_createSVG(Ge){return document.createElementNS(h,Ge)}}i.DOMSVGFactory=Se;class te{constructor({viewBox:Ge,scale:Oe,rotation:$e,offsetX:He=0,offsetY:Ye=0,dontFlip:nt=!1}){this.viewBox=Ge,this.scale=Oe,this.rotation=$e,this.offsetX=He,this.offsetY=Ye;const ot=(Ge[2]+Ge[0])/2,st=(Ge[3]+Ge[1])/2;let Be,ct,dt,xt;switch($e%=360,$e<0&&($e+=360),$e){case 180:Be=-1,ct=0,dt=0,xt=1;break;case 90:Be=0,ct=1,dt=1,xt=0;break;case 270:Be=0,ct=-1,dt=-1,xt=0;break;case 0:Be=1,ct=0,dt=0,xt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}nt&&(dt=-dt,xt=-xt);let At,Ot,_t,gt;Be===0?(At=Math.abs(st-Ge[1])*Oe+He,Ot=Math.abs(ot-Ge[0])*Oe+Ye,_t=(Ge[3]-Ge[1])*Oe,gt=(Ge[2]-Ge[0])*Oe):(At=Math.abs(ot-Ge[0])*Oe+He,Ot=Math.abs(st-Ge[1])*Oe+Ye,_t=(Ge[2]-Ge[0])*Oe,gt=(Ge[3]-Ge[1])*Oe),this.transform=[Be*Oe,ct*Oe,dt*Oe,xt*Oe,At-Be*Oe*ot-dt*Oe*st,Ot-ct*Oe*ot-xt*Oe*st],this.width=_t,this.height=gt}get rawDims(){const{viewBox:Ge}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:Ge[2]-Ge[0],pageHeight:Ge[3]-Ge[1],pageX:Ge[0],pageY:Ge[1]})}clone({scale:Ge=this.scale,rotation:Oe=this.rotation,offsetX:$e=this.offsetX,offsetY:He=this.offsetY,dontFlip:Ye=!1}={}){return new te({viewBox:this.viewBox.slice(),scale:Ge,rotation:Oe,offsetX:$e,offsetY:He,dontFlip:Ye})}convertToViewportPoint(Ge,Oe){return c.Util.applyTransform([Ge,Oe],this.transform)}convertToViewportRectangle(Ge){const Oe=c.Util.applyTransform([Ge[0],Ge[1]],this.transform),$e=c.Util.applyTransform([Ge[2],Ge[3]],this.transform);return[Oe[0],Oe[1],$e[0],$e[1]]}convertToPdfPoint(Ge,Oe){return c.Util.applyInverseTransform([Ge,Oe],this.transform)}}i.PageViewport=te;class $ extends c.BaseException{constructor(Ge,Oe=0){super(Ge,"RenderingCancelledException"),this.extraDelay=Oe}}i.RenderingCancelledException=$;function _e(ze){const Ge=ze.length;let Oe=0;for(;Oe<Ge&&ze[Oe].trim()==="";)Oe++;return ze.substring(Oe,Oe+5).toLowerCase()==="data:"}function j(ze){return typeof ze=="string"&&/\.pdf$/i.test(ze)}function g(ze,Ge=!1){return Ge||([ze]=ze.split(/[#?]/,1)),ze.substring(ze.lastIndexOf("/")+1)}function ee(ze,Ge="document.pdf"){if(typeof ze!="string")return Ge;if(_e(ze))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ge;const Oe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,$e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,He=Oe.exec(ze);let Ye=$e.exec(He[1])||$e.exec(He[2])||$e.exec(He[3]);if(Ye&&(Ye=Ye[0],Ye.includes("%")))try{Ye=$e.exec(decodeURIComponent(Ye))[0]}catch{}return Ye||Ge}class ie{constructor(){Lt(this,"started",Object.create(null));Lt(this,"times",[])}time(Ge){Ge in this.started&&(0,c.warn)(`Timer is already running for ${Ge}`),this.started[Ge]=Date.now()}timeEnd(Ge){Ge in this.started||(0,c.warn)(`Timer has not been started for ${Ge}`),this.times.push({name:Ge,start:this.started[Ge],end:Date.now()}),delete this.started[Ge]}toString(){const Ge=[];let Oe=0;for(const{name:$e}of this.times)Oe=Math.max($e.length,Oe);for(const{name:$e,start:He,end:Ye}of this.times)Ge.push(`${$e.padEnd(Oe)} ${Ye-He}ms
`);return Ge.join("")}}i.StatTimer=ie;function q(ze,Ge){try{const{protocol:Oe}=Ge?new URL(ze,Ge):new URL(ze);return Oe==="http:"||Oe==="https:"}catch{return!1}}function ne(ze){ze.preventDefault()}function he(ze,Ge=!1){return new Promise((Oe,$e)=>{const He=document.createElement("script");He.src=ze,He.onload=function(Ye){Ge&&He.remove(),Oe(Ye)},He.onerror=function(){$e(new Error(`Cannot load script at: ${He.src}`))},(document.head||document.documentElement).append(He)})}function le(ze){console.log("Deprecated API usage: "+ze)}let oe;class ce{static toDateObject(Ge){if(!Ge||typeof Ge!="string")return null;oe||(oe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Oe=oe.exec(Ge);if(!Oe)return null;const $e=parseInt(Oe[1],10);let He=parseInt(Oe[2],10);He=He>=1&&He<=12?He-1:0;let Ye=parseInt(Oe[3],10);Ye=Ye>=1&&Ye<=31?Ye:1;let nt=parseInt(Oe[4],10);nt=nt>=0&&nt<=23?nt:0;let ot=parseInt(Oe[5],10);ot=ot>=0&&ot<=59?ot:0;let st=parseInt(Oe[6],10);st=st>=0&&st<=59?st:0;const Be=Oe[7]||"Z";let ct=parseInt(Oe[8],10);ct=ct>=0&&ct<=23?ct:0;let dt=parseInt(Oe[9],10)||0;return dt=dt>=0&&dt<=59?dt:0,Be==="-"?(nt+=ct,ot+=dt):Be==="+"&&(nt-=ct,ot-=dt),new Date(Date.UTC($e,He,Ye,nt,ot,st))}}i.PDFDateString=ce;function xe(ze,{scale:Ge=1,rotation:Oe=0}){const{width:$e,height:He}=ze.attributes.style,Ye=[0,0,parseInt($e),parseInt(He)];return new te({viewBox:Ye,scale:Ge,rotation:Oe})}function se(ze){if(ze.startsWith("#")){const Ge=parseInt(ze.slice(1),16);return[(Ge&16711680)>>16,(Ge&65280)>>8,Ge&255]}return ze.startsWith("rgb(")?ze.slice(4,-1).split(",").map(Ge=>parseInt(Ge)):ze.startsWith("rgba(")?ze.slice(5,-1).split(",").map(Ge=>parseInt(Ge)).slice(0,3):((0,c.warn)(`Not a valid color format: "${ze}"`),[0,0,0])}function be(ze){const Ge=document.createElement("span");Ge.style.visibility="hidden",document.body.append(Ge);for(const Oe of ze.keys()){Ge.style.color=Oe;const $e=window.getComputedStyle(Ge).color;ze.set(Oe,se($e))}Ge.remove()}function Ae(ze){const{a:Ge,b:Oe,c:$e,d:He,e:Ye,f:nt}=ze.getTransform();return[Ge,Oe,$e,He,Ye,nt]}function Ie(ze){const{a:Ge,b:Oe,c:$e,d:He,e:Ye,f:nt}=ze.getTransform().invertSelf();return[Ge,Oe,$e,He,Ye,nt]}function Re(ze,Ge,Oe=!1,$e=!0){if(Ge instanceof te){const{pageWidth:He,pageHeight:Ye}=Ge.rawDims,{style:nt}=ze,ot=c.FeatureTest.isCSSRoundSupported,st=`var(--scale-factor) * ${He}px`,Be=`var(--scale-factor) * ${Ye}px`,ct=ot?`round(${st}, 1px)`:`calc(${st})`,dt=ot?`round(${Be}, 1px)`:`calc(${Be})`;!Oe||Ge.rotation%180===0?(nt.width=ct,nt.height=dt):(nt.width=dt,nt.height=ct)}$e&&ze.setAttribute("data-main-rotation",Ge.rotation)}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var a=o(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,me){return"none"}addHighlightHCMFilter(b,me,Se,te){return"none"}destroy(b=!1){}}i.BaseFilterFactory=c;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,me){if(b<=0||me<=0)throw new Error("Invalid canvas size");const Se=this._createCanvas(b,me);return{canvas:Se,context:Se.getContext("2d")}}reset(b,me,Se){if(!b.canvas)throw new Error("Canvas is not specified");if(me<=0||Se<=0)throw new Error("Invalid canvas size");b.canvas.width=me,b.canvas.height=Se}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,me){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=h;class d{constructor({baseUrl:b=null,isCompressed:me=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=me}async fetch({name:b}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const me=this.baseUrl+b+(this.isCompressed?".bcmap":""),Se=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(me,Se).catch(te=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${me}`)})}_fetchData(b,me){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class f{constructor({baseUrl:b=null}){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}async fetch({filename:b}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const me=`${this.baseUrl}${b}`;return this._fetchData(me).catch(Se=>{throw new Error(`Unable to load font data at: ${me}`)})}_fetchData(b){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=f;class re{constructor(){this.constructor===re&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,me,Se=!1){if(b<=0||me<=0)throw new Error("Invalid SVG dimensions");const te=this._createSVG("svg:svg");return te.setAttribute("version","1.1"),Se||(te.setAttribute("width",`${b}px`),te.setAttribute("height",`${me}px`)),te.setAttribute("preserveAspectRatio","none"),te.setAttribute("viewBox",`0 0 ${b} ${me}`),te}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,a.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=re},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var a=o(1);const c=3285377520,h=4294901760,d=65535;class f{constructor(_){this.h1=_?_&4294967295:c,this.h2=_?_&4294967295:c}update(_){let b,me;if(typeof _=="string"){b=new Uint8Array(_.length*2),me=0;for(let le=0,oe=_.length;le<oe;le++){const ce=_.charCodeAt(le);ce<=255?b[me++]=ce:(b[me++]=ce>>>8,b[me++]=ce&255)}}else if((0,a.isArrayBuffer)(_))b=_.slice(),me=b.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Se=me>>2,te=me-Se*4,$=new Uint32Array(b.buffer,0,Se);let _e=0,j=0,g=this.h1,ee=this.h2;const ie=3432918353,q=461845907,ne=ie&d,he=q&d;for(let le=0;le<Se;le++)le&1?(_e=$[le],_e=_e*ie&h|_e*ne&d,_e=_e<<15|_e>>>17,_e=_e*q&h|_e*he&d,g^=_e,g=g<<13|g>>>19,g=g*5+3864292196):(j=$[le],j=j*ie&h|j*ne&d,j=j<<15|j>>>17,j=j*q&h|j*he&d,ee^=j,ee=ee<<13|ee>>>19,ee=ee*5+3864292196);switch(_e=0,te){case 3:_e^=b[Se*4+2]<<16;case 2:_e^=b[Se*4+1]<<8;case 1:_e^=b[Se*4],_e=_e*ie&h|_e*ne&d,_e=_e<<15|_e>>>17,_e=_e*q&h|_e*he&d,Se&1?g^=_e:ee^=_e}this.h1=g,this.h2=ee}hexdigest(){let _=this.h1,b=this.h2;return _^=b>>>1,_=_*3981806797&h|_*36045&d,b=b*4283543511&h|((b<<16|_>>>16)*2950163797&h)>>>16,_^=b>>>1,_=_*444984403&h|_*60499&d,b=b*3301882366&h|((b<<16|_>>>16)*3120437893&h)>>>16,_^=b>>>1,(_>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=f},(e,i,o)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var a=o(1);class c{constructor({ownerDocument:re=globalThis.document,styleElement:_=null}){Qe(this,d,new Set);this._document=re,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(re){this.nativeFontFaces.add(re),this._document.fonts.add(re)}removeNativeFontFace(re){this.nativeFontFaces.delete(re),this._document.fonts.delete(re)}insertRule(re){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(re,_.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.clear(),ge(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(re){if(!(!re||ge(this,d).has(re.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:b,style:me}=re,Se=new FontFace(_,b,me);this.addNativeFontFace(Se);try{await Se.load(),ge(this,d).add(_)}catch{(0,a.warn)(`Cannot load system font: ${re.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Se)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(re){if(re.attached||re.missingFile&&!re.systemFontInfo)return;if(re.attached=!0,re.systemFontInfo){await this.loadSystemFont(re.systemFontInfo);return}if(this.isFontLoadingAPISupported){const b=re.createNativeFontFace();if(b){this.addNativeFontFace(b);try{await b.loaded}catch(me){throw(0,a.warn)(`Failed to load font '${b.family}': '${me}'.`),re.disableFontFace=!0,me}}return}const _=re.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(b=>{const me=this._queueLoadingCallback(b);this._prepareFontLoadEvent(re,me)})}}get isFontLoadingAPISupported(){var _;const re=!!((_=this._document)!=null&&_.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",re)}get isSyncFontLoadingSupported(){let re=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(re=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){function _(){for((0,a.assert)(!me.done,"completeRequest() cannot be called twice."),me.done=!0;b.length>0&&b[0].done;){const Se=b.shift();setTimeout(Se.callback,0)}}const{loadingRequests:b}=this,me={done:!1,complete:_,callback:re};return b.push(me),me}get _loadTestFont(){const re=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",re)}_prepareFontLoadEvent(re,_){function b(se,be){return se.charCodeAt(be)<<24|se.charCodeAt(be+1)<<16|se.charCodeAt(be+2)<<8|se.charCodeAt(be+3)&255}function me(se,be,Ae,Ie){const Re=se.substring(0,be),Fe=se.substring(be+Ae);return Re+Ie+Fe}let Se,te;const $=this._document.createElement("canvas");$.width=1,$.height=1;const _e=$.getContext("2d");let j=0;function g(se,be){if(++j>30){(0,a.warn)("Load test font never loaded."),be();return}if(_e.font="30px "+se,_e.fillText(".",0,20),_e.getImageData(0,0,1,1).data[3]>0){be();return}setTimeout(g.bind(null,se,be))}const ee=`lt${Date.now()}${this.loadTestFontId++}`;let ie=this._loadTestFont;ie=me(ie,976,ee.length,ee);const ne=16,he=1482184792;let le=b(ie,ne);for(Se=0,te=ee.length-3;Se<te;Se+=4)le=le-he+b(ee,Se)|0;Se<ee.length&&(le=le-he+b(ee+"XXX",Se)|0),ie=me(ie,ne,4,(0,a.string32)(le));const oe=`url(data:font/opentype;base64,${btoa(ie)});`,ce=`@font-face {font-family:"${ee}";src:${oe}}`;this.insertRule(ce);const xe=this._document.createElement("div");xe.style.visibility="hidden",xe.style.width=xe.style.height="10px",xe.style.position="absolute",xe.style.top=xe.style.left="0px";for(const se of[re.loadedName,ee]){const be=this._document.createElement("span");be.textContent="Hi",be.style.fontFamily=se,xe.append(be)}this._document.body.append(xe),g(ee,()=>{xe.remove(),_.complete()})}}d=new WeakMap,i.FontLoader=c;class h{constructor(re,{isEvalSupported:_=!0,disableFontFace:b=!1,ignoreErrors:me=!1,inspectFont:Se=null}){this.compiledGlyphs=Object.create(null);for(const te in re)this[te]=re[te];this.isEvalSupported=_!==!1,this.disableFontFace=b===!0,this.ignoreErrors=me===!0,this._inspectFont=Se}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let re;if(!this.cssFontInfo)re=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return(_=this._inspectFont)==null||_.call(this,this),re}createFontFaceRule(){var me;if(!this.data||this.disableFontFace)return null;const re=(0,a.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(re)});`;let b;if(!this.cssFontInfo)b=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let Se=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Se+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),b=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Se}src:${_}}`}return(me=this._inspectFont)==null||me.call(this,this,_),b}getPathGenerator(re,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let b;try{b=re.get(this.loadedName+"_path_"+_)}catch(me){if(!this.ignoreErrors)throw me;return(0,a.warn)(`getPathGenerator - ignoring character: "${me}".`),this.compiledGlyphs[_]=function(Se,te){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const me=[];for(const Se of b){const te=Se.args!==void 0?Se.args.join(","):"";me.push("c.",Se.cmd,"(",te,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",me.join(""))}return this.compiledGlyphs[_]=function(me,Se){for(const te of b)te.cmd==="scale"&&(te.args=[Se,-Se]),me[te.cmd].apply(me,te.args)}}}i.FontFaceObject=h},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var a=o(7);o(1);const c=function(_){return new Promise((b,me)=>{require$$5.readFile(_,(te,$)=>{if(te||!$){me(new Error(te));return}b(new Uint8Array($))})})};class h extends a.BaseFilterFactory{}i.NodeFilterFactory=h;class d extends a.BaseCanvasFactory{_createCanvas(b,me){return require$$5.createCanvas(b,me)}}i.NodeCanvasFactory=d;class f extends a.BaseCMapReaderFactory{_fetchData(b,me){return c(b).then(Se=>({cMapData:Se,compressionType:me}))}}i.NodeCMapReaderFactory=f;class re extends a.BaseStandardFontDataFactory{_fetchData(b){return c(b)}}i.NodeStandardFontDataFactory=re},(e,i,o)=>{var ke,In,Dn;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var a=o(1),c=o(6),h=o(12),d=o(13);const f=16,re=100,_=4096,b=15,me=10,Se=1e3,te=16;function $(ye,ae){if(ye._removeMirroring)throw new Error("Context is already forwarding operations.");ye.__originalSave=ye.save,ye.__originalRestore=ye.restore,ye.__originalRotate=ye.rotate,ye.__originalScale=ye.scale,ye.__originalTranslate=ye.translate,ye.__originalTransform=ye.transform,ye.__originalSetTransform=ye.setTransform,ye.__originalResetTransform=ye.resetTransform,ye.__originalClip=ye.clip,ye.__originalMoveTo=ye.moveTo,ye.__originalLineTo=ye.lineTo,ye.__originalBezierCurveTo=ye.bezierCurveTo,ye.__originalRect=ye.rect,ye.__originalClosePath=ye.closePath,ye.__originalBeginPath=ye.beginPath,ye._removeMirroring=()=>{ye.save=ye.__originalSave,ye.restore=ye.__originalRestore,ye.rotate=ye.__originalRotate,ye.scale=ye.__originalScale,ye.translate=ye.__originalTranslate,ye.transform=ye.__originalTransform,ye.setTransform=ye.__originalSetTransform,ye.resetTransform=ye.__originalResetTransform,ye.clip=ye.__originalClip,ye.moveTo=ye.__originalMoveTo,ye.lineTo=ye.__originalLineTo,ye.bezierCurveTo=ye.__originalBezierCurveTo,ye.rect=ye.__originalRect,ye.closePath=ye.__originalClosePath,ye.beginPath=ye.__originalBeginPath,delete ye._removeMirroring},ye.save=function(){ae.save(),this.__originalSave()},ye.restore=function(){ae.restore(),this.__originalRestore()},ye.translate=function(ve,ue){ae.translate(ve,ue),this.__originalTranslate(ve,ue)},ye.scale=function(ve,ue){ae.scale(ve,ue),this.__originalScale(ve,ue)},ye.transform=function(ve,ue,m,Ee,Te,Me){ae.transform(ve,ue,m,Ee,Te,Me),this.__originalTransform(ve,ue,m,Ee,Te,Me)},ye.setTransform=function(ve,ue,m,Ee,Te,Me){ae.setTransform(ve,ue,m,Ee,Te,Me),this.__originalSetTransform(ve,ue,m,Ee,Te,Me)},ye.resetTransform=function(){ae.resetTransform(),this.__originalResetTransform()},ye.rotate=function(ve){ae.rotate(ve),this.__originalRotate(ve)},ye.clip=function(ve){ae.clip(ve),this.__originalClip(ve)},ye.moveTo=function(de,ve){ae.moveTo(de,ve),this.__originalMoveTo(de,ve)},ye.lineTo=function(de,ve){ae.lineTo(de,ve),this.__originalLineTo(de,ve)},ye.bezierCurveTo=function(de,ve,ue,m,Ee,Te){ae.bezierCurveTo(de,ve,ue,m,Ee,Te),this.__originalBezierCurveTo(de,ve,ue,m,Ee,Te)},ye.rect=function(de,ve,ue,m){ae.rect(de,ve,ue,m),this.__originalRect(de,ve,ue,m)},ye.closePath=function(){ae.closePath(),this.__originalClosePath()},ye.beginPath=function(){ae.beginPath(),this.__originalBeginPath()}}class _e{constructor(ae){this.canvasFactory=ae,this.cache=Object.create(null)}getCanvas(ae,de,ve){let ue;return this.cache[ae]!==void 0?(ue=this.cache[ae],this.canvasFactory.reset(ue,de,ve)):(ue=this.canvasFactory.create(de,ve),this.cache[ae]=ue),ue}delete(ae){delete this.cache[ae]}clear(){for(const ae in this.cache){const de=this.cache[ae];this.canvasFactory.destroy(de),delete this.cache[ae]}}}function j(ye,ae,de,ve,ue,m,Ee,Te,Me,Le){const[Ue,Xe,Ve,Ke,ze,Ge]=(0,c.getCurrentTransform)(ye);if(Xe===0&&Ve===0){const He=Ee*Ue+ze,Ye=Math.round(He),nt=Te*Ke+Ge,ot=Math.round(nt),st=(Ee+Me)*Ue+ze,Be=Math.abs(Math.round(st)-Ye)||1,ct=(Te+Le)*Ke+Ge,dt=Math.abs(Math.round(ct)-ot)||1;return ye.setTransform(Math.sign(Ue),0,0,Math.sign(Ke),Ye,ot),ye.drawImage(ae,de,ve,ue,m,0,0,Be,dt),ye.setTransform(Ue,Xe,Ve,Ke,ze,Ge),[Be,dt]}if(Ue===0&&Ke===0){const He=Te*Ve+ze,Ye=Math.round(He),nt=Ee*Xe+Ge,ot=Math.round(nt),st=(Te+Le)*Ve+ze,Be=Math.abs(Math.round(st)-Ye)||1,ct=(Ee+Me)*Xe+Ge,dt=Math.abs(Math.round(ct)-ot)||1;return ye.setTransform(0,Math.sign(Xe),Math.sign(Ve),0,Ye,ot),ye.drawImage(ae,de,ve,ue,m,0,0,dt,Be),ye.setTransform(Ue,Xe,Ve,Ke,ze,Ge),[dt,Be]}ye.drawImage(ae,de,ve,ue,m,Ee,Te,Me,Le);const Oe=Math.hypot(Ue,Xe),$e=Math.hypot(Ve,Ke);return[Oe*Me,$e*Le]}function g(ye){const{width:ae,height:de}=ye;if(ae>Se||de>Se)return null;const ve=1e3,ue=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),m=ae+1;let Ee=new Uint8Array(m*(de+1)),Te,Me,Le;const Ue=ae+7&-8;let Xe=new Uint8Array(Ue*de),Ve=0;for(const $e of ye.data){let He=128;for(;He>0;)Xe[Ve++]=$e&He?0:255,He>>=1}let Ke=0;for(Ve=0,Xe[Ve]!==0&&(Ee[0]=1,++Ke),Me=1;Me<ae;Me++)Xe[Ve]!==Xe[Ve+1]&&(Ee[Me]=Xe[Ve]?2:1,++Ke),Ve++;for(Xe[Ve]!==0&&(Ee[Me]=2,++Ke),Te=1;Te<de;Te++){Ve=Te*Ue,Le=Te*m,Xe[Ve-Ue]!==Xe[Ve]&&(Ee[Le]=Xe[Ve]?1:8,++Ke);let $e=(Xe[Ve]?4:0)+(Xe[Ve-Ue]?8:0);for(Me=1;Me<ae;Me++)$e=($e>>2)+(Xe[Ve+1]?4:0)+(Xe[Ve-Ue+1]?8:0),ue[$e]&&(Ee[Le+Me]=ue[$e],++Ke),Ve++;if(Xe[Ve-Ue]!==Xe[Ve]&&(Ee[Le+Me]=Xe[Ve]?2:4,++Ke),Ke>ve)return null}for(Ve=Ue*(de-1),Le=Te*m,Xe[Ve]!==0&&(Ee[Le]=8,++Ke),Me=1;Me<ae;Me++)Xe[Ve]!==Xe[Ve+1]&&(Ee[Le+Me]=Xe[Ve]?4:8,++Ke),Ve++;if(Xe[Ve]!==0&&(Ee[Le+Me]=4,++Ke),Ke>ve)return null;const ze=new Int32Array([0,m,-1,0,-m,0,0,0,1]),Ge=new Path2D;for(Te=0;Ke&&Te<=de;Te++){let $e=Te*m;const He=$e+ae;for(;$e<He&&!Ee[$e];)$e++;if($e===He)continue;Ge.moveTo($e%m,Te);const Ye=$e;let nt=Ee[$e];do{const ot=ze[nt];do $e+=ot;while(!Ee[$e]);const st=Ee[$e];st!==5&&st!==10?(nt=st,Ee[$e]=0):(nt=st&51*nt>>4,Ee[$e]&=nt>>2|nt<<2),Ge.lineTo($e%m,$e/m|0),Ee[$e]||--Ke}while(Ye!==$e);--Te}return Xe=null,Ee=null,function($e){$e.save(),$e.scale(1/ae,-1/de),$e.translate(0,-de),$e.fill(Ge),$e.beginPath(),$e.restore()}}class ee{constructor(ae,de){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ae,de])}clone(){const ae=Object.create(this);return ae.clipBox=this.clipBox.slice(),ae}setCurrentPoint(ae,de){this.x=ae,this.y=de}updatePathMinMax(ae,de,ve){[de,ve]=a.Util.applyTransform([de,ve],ae),this.minX=Math.min(this.minX,de),this.minY=Math.min(this.minY,ve),this.maxX=Math.max(this.maxX,de),this.maxY=Math.max(this.maxY,ve)}updateRectMinMax(ae,de){const ve=a.Util.applyTransform(de,ae),ue=a.Util.applyTransform(de.slice(2),ae);this.minX=Math.min(this.minX,ve[0],ue[0]),this.minY=Math.min(this.minY,ve[1],ue[1]),this.maxX=Math.max(this.maxX,ve[0],ue[0]),this.maxY=Math.max(this.maxY,ve[1],ue[1])}updateScalingPathMinMax(ae,de){a.Util.scaleMinMax(ae,de),this.minX=Math.min(this.minX,de[0]),this.maxX=Math.max(this.maxX,de[1]),this.minY=Math.min(this.minY,de[2]),this.maxY=Math.max(this.maxY,de[3])}updateCurvePathMinMax(ae,de,ve,ue,m,Ee,Te,Me,Le,Ue){const Xe=a.Util.bezierBoundingBox(de,ve,ue,m,Ee,Te,Me,Le);if(Ue){Ue[0]=Math.min(Ue[0],Xe[0],Xe[2]),Ue[1]=Math.max(Ue[1],Xe[0],Xe[2]),Ue[2]=Math.min(Ue[2],Xe[1],Xe[3]),Ue[3]=Math.max(Ue[3],Xe[1],Xe[3]);return}this.updateRectMinMax(ae,Xe)}getPathBoundingBox(ae=h.PathType.FILL,de=null){const ve=[this.minX,this.minY,this.maxX,this.maxY];if(ae===h.PathType.STROKE){de||(0,a.unreachable)("Stroke bounding box must include transform.");const ue=a.Util.singularValueDecompose2dScale(de),m=ue[0]*this.lineWidth/2,Ee=ue[1]*this.lineWidth/2;ve[0]-=m,ve[1]-=Ee,ve[2]+=m,ve[3]+=Ee}return ve}updateClipFromPath(){const ae=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ae||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ae){this.clipBox=ae,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ae=h.PathType.FILL,de=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ae,de))}}function ie(ye,ae){if(typeof ImageData<"u"&&ae instanceof ImageData){ye.putImageData(ae,0,0);return}const de=ae.height,ve=ae.width,ue=de%te,m=(de-ue)/te,Ee=ue===0?m:m+1,Te=ye.createImageData(ve,te);let Me=0,Le;const Ue=ae.data,Xe=Te.data;let Ve,Ke,ze,Ge;if(ae.kind===a.ImageKind.GRAYSCALE_1BPP){const Oe=Ue.byteLength,$e=new Uint32Array(Xe.buffer,0,Xe.byteLength>>2),He=$e.length,Ye=ve+7>>3,nt=4294967295,ot=a.FeatureTest.isLittleEndian?4278190080:255;for(Ve=0;Ve<Ee;Ve++){for(ze=Ve<m?te:ue,Le=0,Ke=0;Ke<ze;Ke++){const st=Oe-Me;let Be=0;const ct=st>Ye?ve:st*8-7,dt=ct&-8;let xt=0,At=0;for(;Be<dt;Be+=8)At=Ue[Me++],$e[Le++]=At&128?nt:ot,$e[Le++]=At&64?nt:ot,$e[Le++]=At&32?nt:ot,$e[Le++]=At&16?nt:ot,$e[Le++]=At&8?nt:ot,$e[Le++]=At&4?nt:ot,$e[Le++]=At&2?nt:ot,$e[Le++]=At&1?nt:ot;for(;Be<ct;Be++)xt===0&&(At=Ue[Me++],xt=128),$e[Le++]=At&xt?nt:ot,xt>>=1}for(;Le<He;)$e[Le++]=0;ye.putImageData(Te,0,Ve*te)}}else if(ae.kind===a.ImageKind.RGBA_32BPP){for(Ke=0,Ge=ve*te*4,Ve=0;Ve<m;Ve++)Xe.set(Ue.subarray(Me,Me+Ge)),Me+=Ge,ye.putImageData(Te,0,Ke),Ke+=te;Ve<Ee&&(Ge=ve*ue*4,Xe.set(Ue.subarray(Me,Me+Ge)),ye.putImageData(Te,0,Ke))}else if(ae.kind===a.ImageKind.RGB_24BPP)for(ze=te,Ge=ve*ze,Ve=0;Ve<Ee;Ve++){for(Ve>=m&&(ze=ue,Ge=ve*ze),Le=0,Ke=Ge;Ke--;)Xe[Le++]=Ue[Me++],Xe[Le++]=Ue[Me++],Xe[Le++]=Ue[Me++],Xe[Le++]=255;ye.putImageData(Te,0,Ve*te)}else throw new Error(`bad image kind: ${ae.kind}`)}function q(ye,ae){if(ae.bitmap){ye.drawImage(ae.bitmap,0,0);return}const de=ae.height,ve=ae.width,ue=de%te,m=(de-ue)/te,Ee=ue===0?m:m+1,Te=ye.createImageData(ve,te);let Me=0;const Le=ae.data,Ue=Te.data;for(let Xe=0;Xe<Ee;Xe++){const Ve=Xe<m?te:ue;({srcPos:Me}=(0,d.convertBlackAndWhiteToRGBA)({src:Le,srcPos:Me,dest:Ue,width:ve,height:Ve,nonBlackColor:0})),ye.putImageData(Te,0,Xe*te)}}function ne(ye,ae){const de=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ve of de)ye[ve]!==void 0&&(ae[ve]=ye[ve]);ye.setLineDash!==void 0&&(ae.setLineDash(ye.getLineDash()),ae.lineDashOffset=ye.lineDashOffset)}function he(ye){if(ye.strokeStyle=ye.fillStyle="#000000",ye.fillRule="nonzero",ye.globalAlpha=1,ye.lineWidth=1,ye.lineCap="butt",ye.lineJoin="miter",ye.miterLimit=10,ye.globalCompositeOperation="source-over",ye.font="10px sans-serif",ye.setLineDash!==void 0&&(ye.setLineDash([]),ye.lineDashOffset=0),!a.isNodeJS){const{filter:ae}=ye;ae!=="none"&&ae!==""&&(ye.filter="none")}}function le(ye,ae,de,ve){const ue=ye.length;for(let m=3;m<ue;m+=4){const Ee=ye[m];if(Ee===0)ye[m-3]=ae,ye[m-2]=de,ye[m-1]=ve;else if(Ee<255){const Te=255-Ee;ye[m-3]=ye[m-3]*Ee+ae*Te>>8,ye[m-2]=ye[m-2]*Ee+de*Te>>8,ye[m-1]=ye[m-1]*Ee+ve*Te>>8}}}function oe(ye,ae,de){const ve=ye.length,ue=1/255;for(let m=3;m<ve;m+=4){const Ee=de?de[ye[m]]:ye[m];ae[m]=ae[m]*Ee*ue|0}}function ce(ye,ae,de){const ve=ye.length;for(let ue=3;ue<ve;ue+=4){const m=ye[ue-3]*77+ye[ue-2]*152+ye[ue-1]*28;ae[ue]=de?ae[ue]*de[m>>8]>>8:ae[ue]*m>>16}}function xe(ye,ae,de,ve,ue,m,Ee,Te,Me,Le,Ue){const Xe=!!m,Ve=Xe?m[0]:0,Ke=Xe?m[1]:0,ze=Xe?m[2]:0,Ge=ue==="Luminosity"?ce:oe,$e=Math.min(ve,Math.ceil(1048576/de));for(let He=0;He<ve;He+=$e){const Ye=Math.min($e,ve-He),nt=ye.getImageData(Te-Le,He+(Me-Ue),de,Ye),ot=ae.getImageData(Te,He+Me,de,Ye);Xe&&le(nt.data,Ve,Ke,ze),Ge(nt.data,ot.data,Ee),ae.putImageData(ot,Te,He+Me)}}function se(ye,ae,de,ve){const ue=ve[0],m=ve[1],Ee=ve[2]-ue,Te=ve[3]-m;Ee===0||Te===0||(xe(ae.context,de,Ee,Te,ae.subtype,ae.backdrop,ae.transferMap,ue,m,ae.offsetX,ae.offsetY),ye.save(),ye.globalAlpha=1,ye.globalCompositeOperation="source-over",ye.setTransform(1,0,0,1,0,0),ye.drawImage(de.canvas,0,0),ye.restore())}function be(ye,ae){const de=a.Util.singularValueDecompose2dScale(ye);de[0]=Math.fround(de[0]),de[1]=Math.fround(de[1]);const ve=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return ae!==void 0?ae:de[0]<=ve||de[1]<=ve}const Ae=["butt","round","square"],Ie=["miter","round","bevel"],Re={},Fe={},fe=class fe{constructor(ae,de,ve,ue,m,{optionalContentConfig:Ee,markedContentStack:Te=null},Me,Le){Qe(this,ke);this.ctx=ae,this.current=new ee(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=de,this.objs=ve,this.canvasFactory=ue,this.filterFactory=m,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Te||[],this.optionalContentConfig=Ee,this.cachedCanvases=new _e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Me,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Le,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ae,de=null){return typeof ae=="string"?ae.startsWith("g_")?this.commonObjs.get(ae):this.objs.get(ae):de}beginDrawing({transform:ae,viewport:de,transparency:ve=!1,background:ue=null}){const m=this.ctx.canvas.width,Ee=this.ctx.canvas.height,Te=this.ctx.fillStyle;if(this.ctx.fillStyle=ue||"#ffffff",this.ctx.fillRect(0,0,m,Ee),this.ctx.fillStyle=Te,ve){const Me=this.cachedCanvases.getCanvas("transparent",m,Ee);this.compositeCtx=this.ctx,this.transparentCanvas=Me.canvas,this.ctx=Me.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),he(this.ctx),ae&&(this.ctx.transform(...ae),this.outputScaleX=ae[0],this.outputScaleY=ae[0]),this.ctx.transform(...de.transform),this.viewportScale=de.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(ae,de,ve,ue){const m=ae.argsArray,Ee=ae.fnArray;let Te=de||0;const Me=m.length;if(Me===Te)return Te;const Le=Me-Te>me&&typeof ve=="function",Ue=Le?Date.now()+b:0;let Xe=0;const Ve=this.commonObjs,Ke=this.objs;let ze;for(;;){if(ue!==void 0&&Te===ue.nextBreakPoint)return ue.breakIt(Te,ve),Te;if(ze=Ee[Te],ze!==a.OPS.dependency)this[ze].apply(this,m[Te]);else for(const Ge of m[Te]){const Oe=Ge.startsWith("g_")?Ve:Ke;if(!Oe.has(Ge))return Oe.get(Ge,ve),Te}if(Te++,Te===Me)return Te;if(Le&&++Xe>me){if(Date.now()>Ue)return ve(),Te;Xe=0}}}endDrawing(){We(this,ke,In).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ae of this._cachedBitmapsMap.values()){for(const de of ae.values())typeof HTMLCanvasElement<"u"&&de instanceof HTMLCanvasElement&&(de.width=de.height=0);ae.clear()}this._cachedBitmapsMap.clear(),We(this,ke,Dn).call(this)}_scaleImage(ae,de){const ve=ae.width,ue=ae.height;let m=Math.max(Math.hypot(de[0],de[1]),1),Ee=Math.max(Math.hypot(de[2],de[3]),1),Te=ve,Me=ue,Le="prescale1",Ue,Xe;for(;m>2&&Te>1||Ee>2&&Me>1;){let Ve=Te,Ke=Me;m>2&&Te>1&&(Ve=Te>=16384?Math.floor(Te/2)-1||1:Math.ceil(Te/2),m/=Te/Ve),Ee>2&&Me>1&&(Ke=Me>=16384?Math.floor(Me/2)-1||1:Math.ceil(Me)/2,Ee/=Me/Ke),Ue=this.cachedCanvases.getCanvas(Le,Ve,Ke),Xe=Ue.context,Xe.clearRect(0,0,Ve,Ke),Xe.drawImage(ae,0,0,Te,Me,0,0,Ve,Ke),ae=Ue.canvas,Te=Ve,Me=Ke,Le=Le==="prescale1"?"prescale2":"prescale1"}return{img:ae,paintWidth:Te,paintHeight:Me}}_createMaskCanvas(ae){const de=this.ctx,{width:ve,height:ue}=ae,m=this.current.fillColor,Ee=this.current.patternFill,Te=(0,c.getCurrentTransform)(de);let Me,Le,Ue,Xe;if((ae.bitmap||ae.data)&&ae.count>1){const Be=ae.bitmap||ae.data.buffer;Le=JSON.stringify(Ee?Te:[Te.slice(0,4),m]),Me=this._cachedBitmapsMap.get(Be),Me||(Me=new Map,this._cachedBitmapsMap.set(Be,Me));const ct=Me.get(Le);if(ct&&!Ee){const dt=Math.round(Math.min(Te[0],Te[2])+Te[4]),xt=Math.round(Math.min(Te[1],Te[3])+Te[5]);return{canvas:ct,offsetX:dt,offsetY:xt}}Ue=ct}Ue||(Xe=this.cachedCanvases.getCanvas("maskCanvas",ve,ue),q(Xe.context,ae));let Ve=a.Util.transform(Te,[1/ve,0,0,-1/ue,0,0]);Ve=a.Util.transform(Ve,[1,0,0,1,0,-ue]);const Ke=a.Util.applyTransform([0,0],Ve),ze=a.Util.applyTransform([ve,ue],Ve),Ge=a.Util.normalizeRect([Ke[0],Ke[1],ze[0],ze[1]]),Oe=Math.round(Ge[2]-Ge[0])||1,$e=Math.round(Ge[3]-Ge[1])||1,He=this.cachedCanvases.getCanvas("fillCanvas",Oe,$e),Ye=He.context,nt=Math.min(Ke[0],ze[0]),ot=Math.min(Ke[1],ze[1]);Ye.translate(-nt,-ot),Ye.transform(...Ve),Ue||(Ue=this._scaleImage(Xe.canvas,(0,c.getCurrentTransformInverse)(Ye)),Ue=Ue.img,Me&&Ee&&Me.set(Le,Ue)),Ye.imageSmoothingEnabled=be((0,c.getCurrentTransform)(Ye),ae.interpolate),j(Ye,Ue,0,0,Ue.width,Ue.height,0,0,ve,ue),Ye.globalCompositeOperation="source-in";const st=a.Util.transform((0,c.getCurrentTransformInverse)(Ye),[1,0,0,1,-nt,-ot]);return Ye.fillStyle=Ee?m.getPattern(de,this,st,h.PathType.FILL):m,Ye.fillRect(0,0,ve,ue),Me&&!Ee&&(this.cachedCanvases.delete("fillCanvas"),Me.set(Le,He.canvas)),{canvas:He.canvas,offsetX:Math.round(nt),offsetY:Math.round(ot)}}setLineWidth(ae){ae!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ae,this.ctx.lineWidth=ae}setLineCap(ae){this.ctx.lineCap=Ae[ae]}setLineJoin(ae){this.ctx.lineJoin=Ie[ae]}setMiterLimit(ae){this.ctx.miterLimit=ae}setDash(ae,de){const ve=this.ctx;ve.setLineDash!==void 0&&(ve.setLineDash(ae),ve.lineDashOffset=de)}setRenderingIntent(ae){}setFlatness(ae){}setGState(ae){for(const[de,ve]of ae)switch(de){case"LW":this.setLineWidth(ve);break;case"LC":this.setLineCap(ve);break;case"LJ":this.setLineJoin(ve);break;case"ML":this.setMiterLimit(ve);break;case"D":this.setDash(ve[0],ve[1]);break;case"RI":this.setRenderingIntent(ve);break;case"FL":this.setFlatness(ve);break;case"Font":this.setFont(ve[0],ve[1]);break;case"CA":this.current.strokeAlpha=ve;break;case"ca":this.current.fillAlpha=ve,this.ctx.globalAlpha=ve;break;case"BM":this.ctx.globalCompositeOperation=ve;break;case"SMask":this.current.activeSMask=ve?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ve);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ae=this.inSMaskMode;this.current.activeSMask&&!ae?this.beginSMaskMode():!this.current.activeSMask&&ae&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ae=this.ctx.canvas.width,de=this.ctx.canvas.height,ve="smaskGroupAt"+this.groupLevel,ue=this.cachedCanvases.getCanvas(ve,ae,de);this.suspendedCtx=this.ctx,this.ctx=ue.context;const m=this.ctx;m.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),ne(this.suspendedCtx,m),$(m,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ne(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ae){if(!this.current.activeSMask)return;ae?(ae[0]=Math.floor(ae[0]),ae[1]=Math.floor(ae[1]),ae[2]=Math.ceil(ae[2]),ae[3]=Math.ceil(ae[3])):ae=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const de=this.current.activeSMask,ve=this.suspendedCtx;se(ve,de,this.ctx,ae),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ne(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ae=this.current;this.stateStack.push(ae),this.current=ae.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ne(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ae,de,ve,ue,m,Ee){this.ctx.transform(ae,de,ve,ue,m,Ee),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ae,de,ve){const ue=this.ctx,m=this.current;let Ee=m.x,Te=m.y,Me,Le;const Ue=(0,c.getCurrentTransform)(ue),Xe=Ue[0]===0&&Ue[3]===0||Ue[1]===0&&Ue[2]===0,Ve=Xe?ve.slice(0):null;for(let Ke=0,ze=0,Ge=ae.length;Ke<Ge;Ke++)switch(ae[Ke]|0){case a.OPS.rectangle:Ee=de[ze++],Te=de[ze++];const Oe=de[ze++],$e=de[ze++],He=Ee+Oe,Ye=Te+$e;ue.moveTo(Ee,Te),Oe===0||$e===0?ue.lineTo(He,Ye):(ue.lineTo(He,Te),ue.lineTo(He,Ye),ue.lineTo(Ee,Ye)),Xe||m.updateRectMinMax(Ue,[Ee,Te,He,Ye]),ue.closePath();break;case a.OPS.moveTo:Ee=de[ze++],Te=de[ze++],ue.moveTo(Ee,Te),Xe||m.updatePathMinMax(Ue,Ee,Te);break;case a.OPS.lineTo:Ee=de[ze++],Te=de[ze++],ue.lineTo(Ee,Te),Xe||m.updatePathMinMax(Ue,Ee,Te);break;case a.OPS.curveTo:Me=Ee,Le=Te,Ee=de[ze+4],Te=de[ze+5],ue.bezierCurveTo(de[ze],de[ze+1],de[ze+2],de[ze+3],Ee,Te),m.updateCurvePathMinMax(Ue,Me,Le,de[ze],de[ze+1],de[ze+2],de[ze+3],Ee,Te,Ve),ze+=6;break;case a.OPS.curveTo2:Me=Ee,Le=Te,ue.bezierCurveTo(Ee,Te,de[ze],de[ze+1],de[ze+2],de[ze+3]),m.updateCurvePathMinMax(Ue,Me,Le,Ee,Te,de[ze],de[ze+1],de[ze+2],de[ze+3],Ve),Ee=de[ze+2],Te=de[ze+3],ze+=4;break;case a.OPS.curveTo3:Me=Ee,Le=Te,Ee=de[ze+2],Te=de[ze+3],ue.bezierCurveTo(de[ze],de[ze+1],Ee,Te,Ee,Te),m.updateCurvePathMinMax(Ue,Me,Le,de[ze],de[ze+1],Ee,Te,Ee,Te,Ve),ze+=4;break;case a.OPS.closePath:ue.closePath();break}Xe&&m.updateScalingPathMinMax(Ue,Ve),m.setCurrentPoint(Ee,Te)}closePath(){this.ctx.closePath()}stroke(ae=!0){const de=this.ctx,ve=this.current.strokeColor;de.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ve=="object"&&(ve!=null&&ve.getPattern)?(de.save(),de.strokeStyle=ve.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),h.PathType.STROKE),this.rescaleAndStroke(!1),de.restore()):this.rescaleAndStroke(!0)),ae&&this.consumePath(this.current.getClippedPathBoundingBox()),de.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ae=!0){const de=this.ctx,ve=this.current.fillColor,ue=this.current.patternFill;let m=!1;ue&&(de.save(),de.fillStyle=ve.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),h.PathType.FILL),m=!0);const Ee=this.current.getClippedPathBoundingBox();this.contentVisible&&Ee!==null&&(this.pendingEOFill?(de.fill("evenodd"),this.pendingEOFill=!1):de.fill()),m&&de.restore(),ae&&this.consumePath(Ee)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Re}eoClip(){this.pendingClip=Fe}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ae=this.pendingTextPaths,de=this.ctx;if(ae===void 0){de.beginPath();return}de.save(),de.beginPath();for(const ve of ae)de.setTransform(...ve.transform),de.translate(ve.x,ve.y),ve.addToPath(de,ve.fontSize);de.restore(),de.clip(),de.beginPath(),delete this.pendingTextPaths}setCharSpacing(ae){this.current.charSpacing=ae}setWordSpacing(ae){this.current.wordSpacing=ae}setHScale(ae){this.current.textHScale=ae/100}setLeading(ae){this.current.leading=-ae}setFont(ae,de){var Ue;const ve=this.commonObjs.get(ae),ue=this.current;if(!ve)throw new Error(`Can't find font for ${ae}`);if(ue.fontMatrix=ve.fontMatrix||a.FONT_IDENTITY_MATRIX,(ue.fontMatrix[0]===0||ue.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ae),de<0?(de=-de,ue.fontDirection=-1):ue.fontDirection=1,this.current.font=ve,this.current.fontSize=de,ve.isType3Font)return;const m=ve.loadedName||"sans-serif",Ee=((Ue=ve.systemFontInfo)==null?void 0:Ue.css)||`"${m}", ${ve.fallbackName}`;let Te="normal";ve.black?Te="900":ve.bold&&(Te="bold");const Me=ve.italic?"italic":"normal";let Le=de;de<f?Le=f:de>re&&(Le=re),this.current.fontSizeScale=de/Le,this.ctx.font=`${Me} ${Te} ${Le}px ${Ee}`}setTextRenderingMode(ae){this.current.textRenderingMode=ae}setTextRise(ae){this.current.textRise=ae}moveText(ae,de){this.current.x=this.current.lineX+=ae,this.current.y=this.current.lineY+=de}setLeadingMoveText(ae,de){this.setLeading(-de),this.moveText(ae,de)}setTextMatrix(ae,de,ve,ue,m,Ee){this.current.textMatrix=[ae,de,ve,ue,m,Ee],this.current.textMatrixScale=Math.hypot(ae,de),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ae,de,ve,ue){const m=this.ctx,Ee=this.current,Te=Ee.font,Me=Ee.textRenderingMode,Le=Ee.fontSize/Ee.fontSizeScale,Ue=Me&a.TextRenderingMode.FILL_STROKE_MASK,Xe=!!(Me&a.TextRenderingMode.ADD_TO_PATH_FLAG),Ve=Ee.patternFill&&!Te.missingFile;let Ke;(Te.disableFontFace||Xe||Ve)&&(Ke=Te.getPathGenerator(this.commonObjs,ae)),Te.disableFontFace||Ve?(m.save(),m.translate(de,ve),m.beginPath(),Ke(m,Le),ue&&m.setTransform(...ue),(Ue===a.TextRenderingMode.FILL||Ue===a.TextRenderingMode.FILL_STROKE)&&m.fill(),(Ue===a.TextRenderingMode.STROKE||Ue===a.TextRenderingMode.FILL_STROKE)&&m.stroke(),m.restore()):((Ue===a.TextRenderingMode.FILL||Ue===a.TextRenderingMode.FILL_STROKE)&&m.fillText(ae,de,ve),(Ue===a.TextRenderingMode.STROKE||Ue===a.TextRenderingMode.FILL_STROKE)&&m.strokeText(ae,de,ve)),Xe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(m),x:de,y:ve,fontSize:Le,addToPath:Ke})}get isFontSubpixelAAEnabled(){const{context:ae}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ae.scale(1.5,1),ae.fillText("I",0,10);const de=ae.getImageData(0,0,10,10).data;let ve=!1;for(let ue=3;ue<de.length;ue+=4)if(de[ue]>0&&de[ue]<255){ve=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",ve)}showText(ae){const de=this.current,ve=de.font;if(ve.isType3Font)return this.showType3Text(ae);const ue=de.fontSize;if(ue===0)return;const m=this.ctx,Ee=de.fontSizeScale,Te=de.charSpacing,Me=de.wordSpacing,Le=de.fontDirection,Ue=de.textHScale*Le,Xe=ae.length,Ve=ve.vertical,Ke=Ve?1:-1,ze=ve.defaultVMetrics,Ge=ue*de.fontMatrix[0],Oe=de.textRenderingMode===a.TextRenderingMode.FILL&&!ve.disableFontFace&&!de.patternFill;m.save(),m.transform(...de.textMatrix),m.translate(de.x,de.y+de.textRise),Le>0?m.scale(Ue,-1):m.scale(Ue,1);let $e;if(de.patternFill){m.save();const st=de.fillColor.getPattern(m,this,(0,c.getCurrentTransformInverse)(m),h.PathType.FILL);$e=(0,c.getCurrentTransform)(m),m.restore(),m.fillStyle=st}let He=de.lineWidth;const Ye=de.textMatrixScale;if(Ye===0||He===0){const st=de.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(st===a.TextRenderingMode.STROKE||st===a.TextRenderingMode.FILL_STROKE)&&(He=this.getSinglePixelWidth())}else He/=Ye;if(Ee!==1&&(m.scale(Ee,Ee),He/=Ee),m.lineWidth=He,ve.isInvalidPDFjsFont){const st=[];let Be=0;for(const ct of ae)st.push(ct.unicode),Be+=ct.width;m.fillText(st.join(""),0,0),de.x+=Be*Ge*Ue,m.restore(),this.compose();return}let nt=0,ot;for(ot=0;ot<Xe;++ot){const st=ae[ot];if(typeof st=="number"){nt+=Ke*st*ue/1e3;continue}let Be=!1;const ct=(st.isSpace?Me:0)+Te,dt=st.fontChar,xt=st.accent;let At,Ot,_t=st.width;if(Ve){const Tt=st.vmetric||ze,Rt=-(st.vmetric?Tt[1]:_t*.5)*Ge,lt=Tt[2]*Ge;_t=Tt?-Tt[0]:_t,At=Rt/Ee,Ot=(nt+lt)/Ee}else At=nt/Ee,Ot=0;if(ve.remeasure&&_t>0){const Tt=m.measureText(dt).width*1e3/ue*Ee;if(_t<Tt&&this.isFontSubpixelAAEnabled){const Rt=_t/Tt;Be=!0,m.save(),m.scale(Rt,1),At/=Rt}else _t!==Tt&&(At+=(_t-Tt)/2e3*ue/Ee)}if(this.contentVisible&&(st.isInFont||ve.missingFile)){if(Oe&&!xt)m.fillText(dt,At,Ot);else if(this.paintChar(dt,At,Ot,$e),xt){const Tt=At+ue*xt.offset.x/Ee,Rt=Ot-ue*xt.offset.y/Ee;this.paintChar(xt.fontChar,Tt,Rt,$e)}}const gt=Ve?_t*Ge-ct*Le:_t*Ge+ct*Le;nt+=gt,Be&&m.restore()}Ve?de.y-=nt:de.x+=nt*Ue,m.restore(),this.compose()}showType3Text(ae){const de=this.ctx,ve=this.current,ue=ve.font,m=ve.fontSize,Ee=ve.fontDirection,Te=ue.vertical?1:-1,Me=ve.charSpacing,Le=ve.wordSpacing,Ue=ve.textHScale*Ee,Xe=ve.fontMatrix||a.FONT_IDENTITY_MATRIX,Ve=ae.length,Ke=ve.textRenderingMode===a.TextRenderingMode.INVISIBLE;let ze,Ge,Oe,$e;if(!(Ke||m===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,de.save(),de.transform(...ve.textMatrix),de.translate(ve.x,ve.y),de.scale(Ue,Ee),ze=0;ze<Ve;++ze){if(Ge=ae[ze],typeof Ge=="number"){$e=Te*Ge*m/1e3,this.ctx.translate($e,0),ve.x+=$e*Ue;continue}const He=(Ge.isSpace?Le:0)+Me,Ye=ue.charProcOperatorList[Ge.operatorListId];if(!Ye){(0,a.warn)(`Type3 character "${Ge.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ge,this.save(),de.scale(m,m),de.transform(...Xe),this.executeOperatorList(Ye),this.restore()),Oe=a.Util.applyTransform([Ge.width,0],Xe)[0]*m+He,de.translate(Oe,0),ve.x+=Oe*Ue}de.restore(),this.processingType3=null}}setCharWidth(ae,de){}setCharWidthAndBounds(ae,de,ve,ue,m,Ee){this.ctx.rect(ve,ue,m-ve,Ee-ue),this.ctx.clip(),this.endPath()}getColorN_Pattern(ae){let de;if(ae[0]==="TilingPattern"){const ve=ae[1],ue=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),m={createCanvasGraphics:Ee=>new fe(Ee,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};de=new h.TilingPattern(ae,ve,this.ctx,m,ue)}else de=this._getPattern(ae[1],ae[2]);return de}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ae,de,ve){const ue=a.Util.makeHexColor(ae,de,ve);this.ctx.strokeStyle=ue,this.current.strokeColor=ue}setFillRGBColor(ae,de,ve){const ue=a.Util.makeHexColor(ae,de,ve);this.ctx.fillStyle=ue,this.current.fillColor=ue,this.current.patternFill=!1}_getPattern(ae,de=null){let ve;return this.cachedPatterns.has(ae)?ve=this.cachedPatterns.get(ae):(ve=(0,h.getShadingPattern)(this.getObject(ae)),this.cachedPatterns.set(ae,ve)),de&&(ve.matrix=de),ve}shadingFill(ae){if(!this.contentVisible)return;const de=this.ctx;this.save();const ve=this._getPattern(ae);de.fillStyle=ve.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),h.PathType.SHADING);const ue=(0,c.getCurrentTransformInverse)(de);if(ue){const{width:m,height:Ee}=de.canvas,[Te,Me,Le,Ue]=a.Util.getAxialAlignedBoundingBox([0,0,m,Ee],ue);this.ctx.fillRect(Te,Me,Le-Te,Ue-Me)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ae,de){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ae)&&ae.length===6&&this.transform(...ae),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),de)){const ve=de[2]-de[0],ue=de[3]-de[1];this.ctx.rect(de[0],de[1],ve,ue),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),de),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ae){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const de=this.ctx;ae.isolated||(0,a.info)("TODO: Support non-isolated groups."),ae.knockout&&(0,a.warn)("Knockout groups not supported.");const ve=(0,c.getCurrentTransform)(de);if(ae.matrix&&de.transform(...ae.matrix),!ae.bbox)throw new Error("Bounding box is required.");let ue=a.Util.getAxialAlignedBoundingBox(ae.bbox,(0,c.getCurrentTransform)(de));const m=[0,0,de.canvas.width,de.canvas.height];ue=a.Util.intersect(ue,m)||[0,0,0,0];const Ee=Math.floor(ue[0]),Te=Math.floor(ue[1]);let Me=Math.max(Math.ceil(ue[2])-Ee,1),Le=Math.max(Math.ceil(ue[3])-Te,1),Ue=1,Xe=1;Me>_&&(Ue=Me/_,Me=_),Le>_&&(Xe=Le/_,Le=_),this.current.startNewPathAndClipBox([0,0,Me,Le]);let Ve="groupAt"+this.groupLevel;ae.smask&&(Ve+="_smask_"+this.smaskCounter++%2);const Ke=this.cachedCanvases.getCanvas(Ve,Me,Le),ze=Ke.context;ze.scale(1/Ue,1/Xe),ze.translate(-Ee,-Te),ze.transform(...ve),ae.smask?this.smaskStack.push({canvas:Ke.canvas,context:ze,offsetX:Ee,offsetY:Te,scaleX:Ue,scaleY:Xe,subtype:ae.smask.subtype,backdrop:ae.smask.backdrop,transferMap:ae.smask.transferMap||null,startTransformInverse:null}):(de.setTransform(1,0,0,1,0,0),de.translate(Ee,Te),de.scale(Ue,Xe),de.save()),ne(de,ze),this.ctx=ze,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(de),this.groupLevel++}endGroup(ae){if(!this.contentVisible)return;this.groupLevel--;const de=this.ctx,ve=this.groupStack.pop();if(this.ctx=ve,this.ctx.imageSmoothingEnabled=!1,ae.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ue=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ue);const m=a.Util.getAxialAlignedBoundingBox([0,0,de.canvas.width,de.canvas.height],ue);this.ctx.drawImage(de.canvas,0,0),this.ctx.restore(),this.compose(m)}}beginAnnotation(ae,de,ve,ue,m){if(We(this,ke,In).call(this),he(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(de)&&de.length===4){const Ee=de[2]-de[0],Te=de[3]-de[1];if(m&&this.annotationCanvasMap){ve=ve.slice(),ve[4]-=de[0],ve[5]-=de[1],de=de.slice(),de[0]=de[1]=0,de[2]=Ee,de[3]=Te;const[Me,Le]=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:Ue}=this,Xe=Math.ceil(Ee*this.outputScaleX*Ue),Ve=Math.ceil(Te*this.outputScaleY*Ue);this.annotationCanvas=this.canvasFactory.create(Xe,Ve);const{canvas:Ke,context:ze}=this.annotationCanvas;this.annotationCanvasMap.set(ae,Ke),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ze,this.ctx.save(),this.ctx.setTransform(Me,0,0,-Le,0,Te*Le),he(this.ctx)}else he(this.ctx),this.ctx.rect(de[0],de[1],Ee,Te),this.ctx.clip(),this.endPath()}this.current=new ee(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ve),this.transform(...ue)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),We(this,ke,Dn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ae){if(!this.contentVisible)return;const de=ae.count;ae=this.getObject(ae.data,ae),ae.count=de;const ve=this.ctx,ue=this.processingType3;if(ue&&(ue.compiled===void 0&&(ue.compiled=g(ae)),ue.compiled)){ue.compiled(ve);return}const m=this._createMaskCanvas(ae),Ee=m.canvas;ve.save(),ve.setTransform(1,0,0,1,0,0),ve.drawImage(Ee,m.offsetX,m.offsetY),ve.restore(),this.compose()}paintImageMaskXObjectRepeat(ae,de,ve=0,ue=0,m,Ee){if(!this.contentVisible)return;ae=this.getObject(ae.data,ae);const Te=this.ctx;Te.save();const Me=(0,c.getCurrentTransform)(Te);Te.transform(de,ve,ue,m,0,0);const Le=this._createMaskCanvas(ae);Te.setTransform(1,0,0,1,Le.offsetX-Me[4],Le.offsetY-Me[5]);for(let Ue=0,Xe=Ee.length;Ue<Xe;Ue+=2){const Ve=a.Util.transform(Me,[de,ve,ue,m,Ee[Ue],Ee[Ue+1]]),[Ke,ze]=a.Util.applyTransform([0,0],Ve);Te.drawImage(Le.canvas,Ke,ze)}Te.restore(),this.compose()}paintImageMaskXObjectGroup(ae){if(!this.contentVisible)return;const de=this.ctx,ve=this.current.fillColor,ue=this.current.patternFill;for(const m of ae){const{data:Ee,width:Te,height:Me,transform:Le}=m,Ue=this.cachedCanvases.getCanvas("maskCanvas",Te,Me),Xe=Ue.context;Xe.save();const Ve=this.getObject(Ee,m);q(Xe,Ve),Xe.globalCompositeOperation="source-in",Xe.fillStyle=ue?ve.getPattern(Xe,this,(0,c.getCurrentTransformInverse)(de),h.PathType.FILL):ve,Xe.fillRect(0,0,Te,Me),Xe.restore(),de.save(),de.transform(...Le),de.scale(1,-1),j(de,Ue.canvas,0,0,Te,Me,0,-1,1,1),de.restore()}this.compose()}paintImageXObject(ae){if(!this.contentVisible)return;const de=this.getObject(ae);if(!de){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(de)}paintImageXObjectRepeat(ae,de,ve,ue){if(!this.contentVisible)return;const m=this.getObject(ae);if(!m){(0,a.warn)("Dependent image isn't ready yet");return}const Ee=m.width,Te=m.height,Me=[];for(let Le=0,Ue=ue.length;Le<Ue;Le+=2)Me.push({transform:[de,0,0,ve,ue[Le],ue[Le+1]],x:0,y:0,w:Ee,h:Te});this.paintInlineImageXObjectGroup(m,Me)}applyTransferMapsToCanvas(ae){return this.current.transferMaps!=="none"&&(ae.filter=this.current.transferMaps,ae.drawImage(ae.canvas,0,0),ae.filter="none"),ae.canvas}applyTransferMapsToBitmap(ae){if(this.current.transferMaps==="none")return ae.bitmap;const{bitmap:de,width:ve,height:ue}=ae,m=this.cachedCanvases.getCanvas("inlineImage",ve,ue),Ee=m.context;return Ee.filter=this.current.transferMaps,Ee.drawImage(de,0,0),Ee.filter="none",m.canvas}paintInlineImageXObject(ae){if(!this.contentVisible)return;const de=ae.width,ve=ae.height,ue=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Te}=ue;Te!=="none"&&Te!==""&&(ue.filter="none")}ue.scale(1/de,-1/ve);let m;if(ae.bitmap)m=this.applyTransferMapsToBitmap(ae);else if(typeof HTMLElement=="function"&&ae instanceof HTMLElement||!ae.data)m=ae;else{const Me=this.cachedCanvases.getCanvas("inlineImage",de,ve).context;ie(Me,ae),m=this.applyTransferMapsToCanvas(Me)}const Ee=this._scaleImage(m,(0,c.getCurrentTransformInverse)(ue));ue.imageSmoothingEnabled=be((0,c.getCurrentTransform)(ue),ae.interpolate),j(ue,Ee.img,0,0,Ee.paintWidth,Ee.paintHeight,0,-ve,de,ve),this.compose(),this.restore()}paintInlineImageXObjectGroup(ae,de){if(!this.contentVisible)return;const ve=this.ctx;let ue;if(ae.bitmap)ue=ae.bitmap;else{const m=ae.width,Ee=ae.height,Me=this.cachedCanvases.getCanvas("inlineImage",m,Ee).context;ie(Me,ae),ue=this.applyTransferMapsToCanvas(Me)}for(const m of de)ve.save(),ve.transform(...m.transform),ve.scale(1,-1),j(ve,ue,m.x,m.y,m.w,m.h,0,-1,1,1),ve.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ae){}markPointProps(ae,de){}beginMarkedContent(ae){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ae,de){ae==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(de)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ae){const de=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ae);const ve=this.ctx;this.pendingClip&&(de||(this.pendingClip===Fe?ve.clip("evenodd"):ve.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ve.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ae=(0,c.getCurrentTransform)(this.ctx);if(ae[1]===0&&ae[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ae[0]),Math.abs(ae[3]));else{const de=Math.abs(ae[0]*ae[3]-ae[2]*ae[1]),ve=Math.hypot(ae[0],ae[2]),ue=Math.hypot(ae[1],ae[3]);this._cachedGetSinglePixelWidth=Math.max(ve,ue)/de}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ae}=this.current,{a:de,b:ve,c:ue,d:m}=this.ctx.getTransform();let Ee,Te;if(ve===0&&ue===0){const Me=Math.abs(de),Le=Math.abs(m);if(Me===Le)if(ae===0)Ee=Te=1/Me;else{const Ue=Me*ae;Ee=Te=Ue<1?1/Ue:1}else if(ae===0)Ee=1/Me,Te=1/Le;else{const Ue=Me*ae,Xe=Le*ae;Ee=Ue<1?1/Ue:1,Te=Xe<1?1/Xe:1}}else{const Me=Math.abs(de*m-ve*ue),Le=Math.hypot(de,ve),Ue=Math.hypot(ue,m);if(ae===0)Ee=Ue/Me,Te=Le/Me;else{const Xe=ae*Me;Ee=Ue>Xe?Ue/Xe:1,Te=Le>Xe?Le/Xe:1}}this._cachedScaleForStroking[0]=Ee,this._cachedScaleForStroking[1]=Te}return this._cachedScaleForStroking}rescaleAndStroke(ae){const{ctx:de}=this,{lineWidth:ve}=this.current,[ue,m]=this.getScaleForStroking();if(de.lineWidth=ve||1,ue===1&&m===1){de.stroke();return}const Ee=de.getLineDash();if(ae&&de.save(),de.scale(ue,m),Ee.length>0){const Te=Math.max(ue,m);de.setLineDash(Ee.map(Me=>Me/Te)),de.lineDashOffset/=Te}de.stroke(),ae&&de.restore()}isContentVisible(){for(let ae=this.markedContentStack.length-1;ae>=0;ae--)if(!this.markedContentStack[ae].visible)return!1;return!0}};ke=new WeakSet,In=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Dn=function(){if(this.pageColors){const ae=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ae!=="none"){const de=this.ctx.filter;this.ctx.filter=ae,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=de}}};let Ce=fe;i.CanvasGraphics=Ce;for(const ye in a.OPS)Ce.prototype[ye]!==void 0&&(Ce.prototype[a.OPS[ye]]=Ce.prototype[ye])},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=te;var a=o(1),c=o(6);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=h;function d(g,ee){if(!ee)return;const ie=ee[2]-ee[0],q=ee[3]-ee[1],ne=new Path2D;ne.rect(ee[0],ee[1],ie,q),g.clip(ne)}class f{constructor(){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class re extends f{constructor(ee){super(),this._type=ee[1],this._bbox=ee[2],this._colorStops=ee[3],this._p0=ee[4],this._p1=ee[5],this._r0=ee[6],this._r1=ee[7],this.matrix=null}_createGradient(ee){let ie;this._type==="axial"?ie=ee.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ie=ee.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const q of this._colorStops)ie.addColorStop(q[0],q[1]);return ie}getPattern(ee,ie,q,ne){let he;if(ne===h.STROKE||ne===h.FILL){const le=ie.current.getClippedPathBoundingBox(ne,(0,c.getCurrentTransform)(ee))||[0,0,0,0],oe=Math.ceil(le[2]-le[0])||1,ce=Math.ceil(le[3]-le[1])||1,xe=ie.cachedCanvases.getCanvas("pattern",oe,ce,!0),se=xe.context;se.clearRect(0,0,se.canvas.width,se.canvas.height),se.beginPath(),se.rect(0,0,se.canvas.width,se.canvas.height),se.translate(-le[0],-le[1]),q=a.Util.transform(q,[1,0,0,1,le[0],le[1]]),se.transform(...ie.baseTransform),this.matrix&&se.transform(...this.matrix),d(se,this._bbox),se.fillStyle=this._createGradient(se),se.fill(),he=ee.createPattern(xe.canvas,"no-repeat");const be=new DOMMatrix(q);he.setTransform(be)}else d(ee,this._bbox),he=this._createGradient(ee);return he}}function _(g,ee,ie,q,ne,he,le,oe){const ce=ee.coords,xe=ee.colors,se=g.data,be=g.width*4;let Ae;ce[ie+1]>ce[q+1]&&(Ae=ie,ie=q,q=Ae,Ae=he,he=le,le=Ae),ce[q+1]>ce[ne+1]&&(Ae=q,q=ne,ne=Ae,Ae=le,le=oe,oe=Ae),ce[ie+1]>ce[q+1]&&(Ae=ie,ie=q,q=Ae,Ae=he,he=le,le=Ae);const Ie=(ce[ie]+ee.offsetX)*ee.scaleX,Re=(ce[ie+1]+ee.offsetY)*ee.scaleY,Fe=(ce[q]+ee.offsetX)*ee.scaleX,Ce=(ce[q+1]+ee.offsetY)*ee.scaleY,ke=(ce[ne]+ee.offsetX)*ee.scaleX,we=(ce[ne+1]+ee.offsetY)*ee.scaleY;if(Re>=we)return;const Pe=xe[he],fe=xe[he+1],ye=xe[he+2],ae=xe[le],de=xe[le+1],ve=xe[le+2],ue=xe[oe],m=xe[oe+1],Ee=xe[oe+2],Te=Math.round(Re),Me=Math.round(we);let Le,Ue,Xe,Ve,Ke,ze,Ge,Oe;for(let $e=Te;$e<=Me;$e++){if($e<Ce){const st=$e<Re?0:(Re-$e)/(Re-Ce);Le=Ie-(Ie-Fe)*st,Ue=Pe-(Pe-ae)*st,Xe=fe-(fe-de)*st,Ve=ye-(ye-ve)*st}else{let st;$e>we?st=1:Ce===we?st=0:st=(Ce-$e)/(Ce-we),Le=Fe-(Fe-ke)*st,Ue=ae-(ae-ue)*st,Xe=de-(de-m)*st,Ve=ve-(ve-Ee)*st}let He;$e<Re?He=0:$e>we?He=1:He=(Re-$e)/(Re-we),Ke=Ie-(Ie-ke)*He,ze=Pe-(Pe-ue)*He,Ge=fe-(fe-m)*He,Oe=ye-(ye-Ee)*He;const Ye=Math.round(Math.min(Le,Ke)),nt=Math.round(Math.max(Le,Ke));let ot=be*$e+Ye*4;for(let st=Ye;st<=nt;st++)He=(Le-st)/(Le-Ke),He<0?He=0:He>1&&(He=1),se[ot++]=Ue-(Ue-ze)*He|0,se[ot++]=Xe-(Xe-Ge)*He|0,se[ot++]=Ve-(Ve-Oe)*He|0,se[ot++]=255}}function b(g,ee,ie){const q=ee.coords,ne=ee.colors;let he,le;switch(ee.type){case"lattice":const oe=ee.verticesPerRow,ce=Math.floor(q.length/oe)-1,xe=oe-1;for(he=0;he<ce;he++){let se=he*oe;for(let be=0;be<xe;be++,se++)_(g,ie,q[se],q[se+1],q[se+oe],ne[se],ne[se+1],ne[se+oe]),_(g,ie,q[se+oe+1],q[se+1],q[se+oe],ne[se+oe+1],ne[se+1],ne[se+oe])}break;case"triangles":for(he=0,le=q.length;he<le;he+=3)_(g,ie,q[he],q[he+1],q[he+2],ne[he],ne[he+1],ne[he+2]);break;default:throw new Error("illegal figure")}}class me extends f{constructor(ee){super(),this._coords=ee[2],this._colors=ee[3],this._figures=ee[4],this._bounds=ee[5],this._bbox=ee[7],this._background=ee[8],this.matrix=null}_createMeshCanvas(ee,ie,q){const oe=Math.floor(this._bounds[0]),ce=Math.floor(this._bounds[1]),xe=Math.ceil(this._bounds[2])-oe,se=Math.ceil(this._bounds[3])-ce,be=Math.min(Math.ceil(Math.abs(xe*ee[0]*1.1)),3e3),Ae=Math.min(Math.ceil(Math.abs(se*ee[1]*1.1)),3e3),Ie=xe/be,Re=se/Ae,Fe={coords:this._coords,colors:this._colors,offsetX:-oe,offsetY:-ce,scaleX:1/Ie,scaleY:1/Re},Ce=be+2*2,ke=Ae+2*2,we=q.getCanvas("mesh",Ce,ke,!1),Pe=we.context,fe=Pe.createImageData(be,Ae);if(ie){const ae=fe.data;for(let de=0,ve=ae.length;de<ve;de+=4)ae[de]=ie[0],ae[de+1]=ie[1],ae[de+2]=ie[2],ae[de+3]=255}for(const ae of this._figures)b(fe,ae,Fe);return Pe.putImageData(fe,2,2),{canvas:we.canvas,offsetX:oe-2*Ie,offsetY:ce-2*Re,scaleX:Ie,scaleY:Re}}getPattern(ee,ie,q,ne){d(ee,this._bbox);let he;if(ne===h.SHADING)he=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(ee));else if(he=a.Util.singularValueDecompose2dScale(ie.baseTransform),this.matrix){const oe=a.Util.singularValueDecompose2dScale(this.matrix);he=[he[0]*oe[0],he[1]*oe[1]]}const le=this._createMeshCanvas(he,ne===h.SHADING?null:this._background,ie.cachedCanvases);return ne!==h.SHADING&&(ee.setTransform(...ie.baseTransform),this.matrix&&ee.transform(...this.matrix)),ee.translate(le.offsetX,le.offsetY),ee.scale(le.scaleX,le.scaleY),ee.createPattern(le.canvas,"no-repeat")}}class Se extends f{getPattern(){return"hotpink"}}function te(g){switch(g[0]){case"RadialAxial":return new re(g);case"Mesh":return new me(g);case"Dummy":return new Se}throw new Error(`Unknown IR type: ${g[0]}`)}const $={COLORED:1,UNCOLORED:2},j=class j{constructor(ee,ie,q,ne,he){this.operatorList=ee[2],this.matrix=ee[3]||[1,0,0,1,0,0],this.bbox=ee[4],this.xstep=ee[5],this.ystep=ee[6],this.paintType=ee[7],this.tilingType=ee[8],this.color=ie,this.ctx=q,this.canvasGraphicsFactory=ne,this.baseTransform=he}createPatternCanvas(ee){const ie=this.operatorList,q=this.bbox,ne=this.xstep,he=this.ystep,le=this.paintType,oe=this.tilingType,ce=this.color,xe=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+oe);const se=q[0],be=q[1],Ae=q[2],Ie=q[3],Re=a.Util.singularValueDecompose2dScale(this.matrix),Fe=a.Util.singularValueDecompose2dScale(this.baseTransform),Ce=[Re[0]*Fe[0],Re[1]*Fe[1]],ke=this.getSizeAndScale(ne,this.ctx.canvas.width,Ce[0]),we=this.getSizeAndScale(he,this.ctx.canvas.height,Ce[1]),Pe=ee.cachedCanvases.getCanvas("pattern",ke.size,we.size,!0),fe=Pe.context,ye=xe.createCanvasGraphics(fe);ye.groupLevel=ee.groupLevel,this.setFillAndStrokeStyleToContext(ye,le,ce);let ae=se,de=be,ve=Ae,ue=Ie;return se<0&&(ae=0,ve+=Math.abs(se)),be<0&&(de=0,ue+=Math.abs(be)),fe.translate(-(ke.scale*ae),-(we.scale*de)),ye.transform(ke.scale,0,0,we.scale,0,0),fe.save(),this.clipBbox(ye,ae,de,ve,ue),ye.baseTransform=(0,c.getCurrentTransform)(ye.ctx),ye.executeOperatorList(ie),ye.endDrawing(),{canvas:Pe.canvas,scaleX:ke.scale,scaleY:we.scale,offsetX:ae,offsetY:de}}getSizeAndScale(ee,ie,q){ee=Math.abs(ee);const ne=Math.max(j.MAX_PATTERN_SIZE,ie);let he=Math.ceil(ee*q);return he>=ne?he=ne:q=he/ee,{scale:q,size:he}}clipBbox(ee,ie,q,ne,he){const le=ne-ie,oe=he-q;ee.ctx.rect(ie,q,le,oe),ee.current.updateRectMinMax((0,c.getCurrentTransform)(ee.ctx),[ie,q,ne,he]),ee.clip(),ee.endPath()}setFillAndStrokeStyleToContext(ee,ie,q){const ne=ee.ctx,he=ee.current;switch(ie){case $.COLORED:const le=this.ctx;ne.fillStyle=le.fillStyle,ne.strokeStyle=le.strokeStyle,he.fillColor=le.fillStyle,he.strokeColor=le.strokeStyle;break;case $.UNCOLORED:const oe=a.Util.makeHexColor(q[0],q[1],q[2]);ne.fillStyle=oe,ne.strokeStyle=oe,he.fillColor=oe,he.strokeColor=oe;break;default:throw new a.FormatError(`Unsupported paint type: ${ie}`)}}getPattern(ee,ie,q,ne){let he=q;ne!==h.SHADING&&(he=a.Util.transform(he,ie.baseTransform),this.matrix&&(he=a.Util.transform(he,this.matrix)));const le=this.createPatternCanvas(ie);let oe=new DOMMatrix(he);oe=oe.translate(le.offsetX,le.offsetY),oe=oe.scale(1/le.scaleX,1/le.scaleY);const ce=ee.createPattern(le.canvas,"repeat");return ce.setTransform(oe),ce}};Lt(j,"MAX_PATTERN_SIZE",3e3);let _e=j;i.TilingPattern=_e},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=h,i.convertToRGBA=c,i.grayToRGBA=f;var a=o(1);function c(re){switch(re.kind){case a.ImageKind.GRAYSCALE_1BPP:return h(re);case a.ImageKind.RGB_24BPP:return d(re)}return null}function h({src:re,srcPos:_=0,dest:b,width:me,height:Se,nonBlackColor:te=4294967295,inverseDecode:$=!1}){const _e=a.FeatureTest.isLittleEndian?4278190080:255,[j,g]=$?[te,_e]:[_e,te],ee=me>>3,ie=me&7,q=re.length;b=new Uint32Array(b.buffer);let ne=0;for(let he=0;he<Se;he++){for(const oe=_+ee;_<oe;_++){const ce=_<q?re[_]:255;b[ne++]=ce&128?g:j,b[ne++]=ce&64?g:j,b[ne++]=ce&32?g:j,b[ne++]=ce&16?g:j,b[ne++]=ce&8?g:j,b[ne++]=ce&4?g:j,b[ne++]=ce&2?g:j,b[ne++]=ce&1?g:j}if(ie===0)continue;const le=_<q?re[_++]:255;for(let oe=0;oe<ie;oe++)b[ne++]=le&1<<7-oe?g:j}return{srcPos:_,destPos:ne}}function d({src:re,srcPos:_=0,dest:b,destPos:me=0,width:Se,height:te}){let $=0;const _e=re.length>>2,j=new Uint32Array(re.buffer,_,_e);if(a.FeatureTest.isLittleEndian){for(;$<_e-2;$+=3,me+=4){const g=j[$],ee=j[$+1],ie=j[$+2];b[me]=g|4278190080,b[me+1]=g>>>24|ee<<8|4278190080,b[me+2]=ee>>>16|ie<<16|4278190080,b[me+3]=ie>>>8|4278190080}for(let g=$*4,ee=re.length;g<ee;g+=3)b[me++]=re[g]|re[g+1]<<8|re[g+2]<<16|4278190080}else{for(;$<_e-2;$+=3,me+=4){const g=j[$],ee=j[$+1],ie=j[$+2];b[me]=g|255,b[me+1]=g<<24|ee>>>8|255,b[me+2]=ee<<16|ie>>>16|255,b[me+3]=ie<<8|255}for(let g=$*4,ee=re.length;g<ee;g+=3)b[me++]=re[g]<<24|re[g+1]<<16|re[g+2]<<8|255}return{srcPos:_,destPos:me}}function f(re,_){if(a.FeatureTest.isLittleEndian)for(let b=0,me=re.length;b<me;b++)_[b]=re[b]*65793|4278190080;else for(let b=0,me=re.length;b<me;b++)_[b]=re[b]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const o=Object.create(null);i.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(e,i,o)=>{var re,dr,hr,un;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=o(1);const c={DATA:1,ERROR:2},h={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(Se){switch(Se instanceof Error||typeof Se=="object"&&Se!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Se.name){case"AbortException":return new a.AbortException(Se.message);case"MissingPDFException":return new a.MissingPDFException(Se.message);case"PasswordException":return new a.PasswordException(Se.message,Se.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(Se.message,Se.status);case"UnknownErrorException":return new a.UnknownErrorException(Se.message,Se.details);default:return new a.UnknownErrorException(Se.message,Se.toString())}}class f{constructor(te,$,_e){Qe(this,re);this.sourceName=te,this.targetName=$,this.comObj=_e,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const g=j.data;if(g.targetName!==this.sourceName)return;if(g.stream){We(this,re,hr).call(this,g);return}if(g.callback){const ie=g.callbackId,q=this.callbackCapabilities[ie];if(!q)throw new Error(`Cannot resolve callback ${ie}`);if(delete this.callbackCapabilities[ie],g.callback===c.DATA)q.resolve(g.data);else if(g.callback===c.ERROR)q.reject(d(g.reason));else throw new Error("Unexpected callback case");return}const ee=this.actionHandler[g.action];if(!ee)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const ie=this.sourceName,q=g.sourceName;new Promise(function(ne){ne(ee(g.data))}).then(function(ne){_e.postMessage({sourceName:ie,targetName:q,callback:c.DATA,callbackId:g.callbackId,data:ne})},function(ne){_e.postMessage({sourceName:ie,targetName:q,callback:c.ERROR,callbackId:g.callbackId,reason:d(ne)})});return}if(g.streamId){We(this,re,dr).call(this,g);return}ee(g.data)},_e.addEventListener("message",this._onComObjOnMessage)}on(te,$){const _e=this.actionHandler;if(_e[te])throw new Error(`There is already an actionName called "${te}"`);_e[te]=$}send(te,$,_e){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:te,data:$},_e)}sendWithPromise(te,$,_e){const j=this.callbackId++,g=new a.PromiseCapability;this.callbackCapabilities[j]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:te,callbackId:j,data:$},_e)}catch(ee){g.reject(ee)}return g.promise}sendWithStream(te,$,_e,j){const g=this.streamId++,ee=this.sourceName,ie=this.targetName,q=this.comObj;return new ReadableStream({start:ne=>{const he=new a.PromiseCapability;return this.streamControllers[g]={controller:ne,startCall:he,pullCall:null,cancelCall:null,isClosed:!1},q.postMessage({sourceName:ee,targetName:ie,action:te,streamId:g,data:$,desiredSize:ne.desiredSize},j),he.promise},pull:ne=>{const he=new a.PromiseCapability;return this.streamControllers[g].pullCall=he,q.postMessage({sourceName:ee,targetName:ie,stream:h.PULL,streamId:g,desiredSize:ne.desiredSize}),he.promise},cancel:ne=>{(0,a.assert)(ne instanceof Error,"cancel must have a valid reason");const he=new a.PromiseCapability;return this.streamControllers[g].cancelCall=he,this.streamControllers[g].isClosed=!0,q.postMessage({sourceName:ee,targetName:ie,stream:h.CANCEL,streamId:g,reason:d(ne)}),he.promise}},_e)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}re=new WeakSet,dr=function(te){const $=te.streamId,_e=this.sourceName,j=te.sourceName,g=this.comObj,ee=this,ie=this.actionHandler[te.action],q={enqueue(ne,he=1,le){if(this.isCancelled)return;const oe=this.desiredSize;this.desiredSize-=he,oe>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),g.postMessage({sourceName:_e,targetName:j,stream:h.ENQUEUE,streamId:$,chunk:ne},le)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:_e,targetName:j,stream:h.CLOSE,streamId:$}),delete ee.streamSinks[$])},error(ne){(0,a.assert)(ne instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:_e,targetName:j,stream:h.ERROR,streamId:$,reason:d(ne)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:te.desiredSize,ready:null};q.sinkCapability.resolve(),q.ready=q.sinkCapability.promise,this.streamSinks[$]=q,new Promise(function(ne){ne(ie(te.data,q))}).then(function(){g.postMessage({sourceName:_e,targetName:j,stream:h.START_COMPLETE,streamId:$,success:!0})},function(ne){g.postMessage({sourceName:_e,targetName:j,stream:h.START_COMPLETE,streamId:$,reason:d(ne)})})},hr=function(te){const $=te.streamId,_e=this.sourceName,j=te.sourceName,g=this.comObj,ee=this.streamControllers[$],ie=this.streamSinks[$];switch(te.stream){case h.START_COMPLETE:te.success?ee.startCall.resolve():ee.startCall.reject(d(te.reason));break;case h.PULL_COMPLETE:te.success?ee.pullCall.resolve():ee.pullCall.reject(d(te.reason));break;case h.PULL:if(!ie){g.postMessage({sourceName:_e,targetName:j,stream:h.PULL_COMPLETE,streamId:$,success:!0});break}ie.desiredSize<=0&&te.desiredSize>0&&ie.sinkCapability.resolve(),ie.desiredSize=te.desiredSize,new Promise(function(q){var ne;q((ne=ie.onPull)==null?void 0:ne.call(ie))}).then(function(){g.postMessage({sourceName:_e,targetName:j,stream:h.PULL_COMPLETE,streamId:$,success:!0})},function(q){g.postMessage({sourceName:_e,targetName:j,stream:h.PULL_COMPLETE,streamId:$,reason:d(q)})});break;case h.ENQUEUE:if((0,a.assert)(ee,"enqueue should have stream controller"),ee.isClosed)break;ee.controller.enqueue(te.chunk);break;case h.CLOSE:if((0,a.assert)(ee,"close should have stream controller"),ee.isClosed)break;ee.isClosed=!0,ee.controller.close(),We(this,re,un).call(this,ee,$);break;case h.ERROR:(0,a.assert)(ee,"error should have stream controller"),ee.controller.error(d(te.reason)),We(this,re,un).call(this,ee,$);break;case h.CANCEL_COMPLETE:te.success?ee.cancelCall.resolve():ee.cancelCall.reject(d(te.reason)),We(this,re,un).call(this,ee,$);break;case h.CANCEL:if(!ie)break;new Promise(function(q){var ne;q((ne=ie.onCancel)==null?void 0:ne.call(ie,d(te.reason)))}).then(function(){g.postMessage({sourceName:_e,targetName:j,stream:h.CANCEL_COMPLETE,streamId:$,success:!0})},function(q){g.postMessage({sourceName:_e,targetName:j,stream:h.CANCEL_COMPLETE,streamId:$,reason:d(q)})}),ie.sinkCapability.reject(d(te.reason)),ie.isCancelled=!0,delete this.streamSinks[$];break;default:throw new Error("Unexpected stream case")}},un=async function(te,$){var _e,j,g;await Promise.allSettled([(_e=te.startCall)==null?void 0:_e.promise,(j=te.pullCall)==null?void 0:j.promise,(g=te.cancelCall)==null?void 0:g.promise]),delete this.streamControllers[$]},i.MessageHandler=f},(e,i,o)=>{var h,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var a=o(1);class c{constructor({parsedData:re,rawData:_}){Qe(this,h);Qe(this,d);Ze(this,h,re),Ze(this,d,_)}getRaw(){return ge(this,d)}get(re){return ge(this,h).get(re)??null}getAll(){return(0,a.objectFromMap)(ge(this,h))}has(re){return ge(this,h).has(re)}}h=new WeakMap,d=new WeakMap,i.Metadata=c},(e,i,o)=>{var re,_,b,me,Se,te,Ln;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var a=o(1),c=o(8);const h=Symbol("INTERNAL");class d{constructor(j,g){Qe(this,re,!0);this.name=j,this.intent=g}get visible(){return ge(this,re)}_setVisible(j,g){j!==h&&(0,a.unreachable)("Internal method `_setVisible` called."),Ze(this,re,g)}}re=new WeakMap;class f{constructor(j){Qe(this,te);Qe(this,_,null);Qe(this,b,new Map);Qe(this,me,null);Qe(this,Se,null);if(this.name=null,this.creator=null,j!==null){this.name=j.name,this.creator=j.creator,Ze(this,Se,j.order);for(const g of j.groups)ge(this,b).set(g.id,new d(g.name,g.intent));if(j.baseState==="OFF")for(const g of ge(this,b).values())g._setVisible(h,!1);for(const g of j.on)ge(this,b).get(g)._setVisible(h,!0);for(const g of j.off)ge(this,b).get(g)._setVisible(h,!1);Ze(this,me,this.getHash())}}isVisible(j){if(ge(this,b).size===0)return!0;if(!j)return(0,a.warn)("Optional content group not defined."),!0;if(j.type==="OCG")return ge(this,b).has(j.id)?ge(this,b).get(j.id).visible:((0,a.warn)(`Optional content group not found: ${j.id}`),!0);if(j.type==="OCMD"){if(j.expression)return We(this,te,Ln).call(this,j.expression);if(!j.policy||j.policy==="AnyOn"){for(const g of j.ids){if(!ge(this,b).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(ge(this,b).get(g).visible)return!0}return!1}else if(j.policy==="AllOn"){for(const g of j.ids){if(!ge(this,b).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(!ge(this,b).get(g).visible)return!1}return!0}else if(j.policy==="AnyOff"){for(const g of j.ids){if(!ge(this,b).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(!ge(this,b).get(g).visible)return!0}return!1}else if(j.policy==="AllOff"){for(const g of j.ids){if(!ge(this,b).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(ge(this,b).get(g).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${j.policy}.`),!0}return(0,a.warn)(`Unknown group type ${j.type}.`),!0}setVisibility(j,g=!0){if(!ge(this,b).has(j)){(0,a.warn)(`Optional content group not found: ${j}`);return}ge(this,b).get(j)._setVisible(h,!!g),Ze(this,_,null)}get hasInitialVisibility(){return ge(this,me)===null||this.getHash()===ge(this,me)}getOrder(){return ge(this,b).size?ge(this,Se)?ge(this,Se).slice():[...ge(this,b).keys()]:null}getGroups(){return ge(this,b).size>0?(0,a.objectFromMap)(ge(this,b)):null}getGroup(j){return ge(this,b).get(j)||null}getHash(){if(ge(this,_)!==null)return ge(this,_);const j=new c.MurmurHash3_64;for(const[g,ee]of ge(this,b))j.update(`${g}:${ee.visible}`);return Ze(this,_,j.hexdigest())}}_=new WeakMap,b=new WeakMap,me=new WeakMap,Se=new WeakMap,te=new WeakSet,Ln=function(j){const g=j.length;if(g<2)return!0;const ee=j[0];for(let ie=1;ie<g;ie++){const q=j[ie];let ne;if(Array.isArray(q))ne=We(this,te,Ln).call(this,q);else if(ge(this,b).has(q))ne=ge(this,b).get(q).visible;else return(0,a.warn)(`Optional content group not found: ${q}`),!0;switch(ee){case"And":if(!ne)return!1;break;case"Or":if(ne)return!0;break;case"Not":return!ne;default:return!0}}return ee==="And"},i.OptionalContentConfig=f},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var a=o(1),c=o(6);class h{constructor({length:_,initialData:b,progressiveDone:me=!1,contentDispositionFilename:Se=null,disableRange:te=!1,disableStream:$=!1},_e){if((0,a.assert)(_e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=me,this._contentDispositionFilename=Se,(b==null?void 0:b.length)>0){const j=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=_e,this._isStreamingSupported=!$,this._isRangeSupported=!te,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,g)=>{this._onReceiveData({begin:j,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((j,g)=>{this._onProgress({loaded:j,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:b}){const me=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(me):this._queuedChunks.push(me);else{const Se=this._rangeReaders.some(function(te){return te._begin!==_?!1:(te._enqueue(me),!0)});(0,a.assert)(Se,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var b,me,Se,te;_.total===void 0?(me=(b=this._rangeReaders[0])==null?void 0:b.onProgress)==null||me.call(b,{loaded:_.loaded}):(te=(Se=this._fullRequestReader)==null?void 0:Se.onProgress)==null||te.call(Se,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const b=this._rangeReaders.indexOf(_);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,b){if(b<=this._progressiveDataLength)return null;const me=new f(this,_,b);return this._pdfDataRangeTransport.requestDataRange(_,b),this._rangeReaders.push(me),me}cancelAllRequests(_){var b;(b=this._fullRequestReader)==null||b.cancel(_);for(const me of this._rangeReaders.slice(0))me.cancel(_);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=h;class d{constructor(_,b,me=!1,Se=null){this._stream=_,this._done=me||!1,this._filename=(0,c.isPdfFile)(Se)?Se:null,this._queuedChunks=b||[],this._loaded=0;for(const te of this._queuedChunks)this._loaded+=te.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new a.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(_,b,me){this._stream=_,this._begin=b,this._end=me,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const me of this._requests)me.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new a.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var a=o(1),c=o(20);function h(me,Se,te){return{method:"GET",headers:me,signal:te.signal,mode:"cors",credentials:Se?"include":"same-origin",redirect:"follow"}}function d(me){const Se=new Headers;for(const te in me){const $=me[te];$!==void 0&&Se.append(te,$)}return Se}function f(me){return me instanceof Uint8Array?me.buffer:me instanceof ArrayBuffer?me:((0,a.warn)(`getArrayBuffer - unexpected data format: ${me}`),new Uint8Array(me).buffer)}class re{constructor(Se){this.source=Se,this.isHttp=/^https?:/i.test(Se.url),this.httpHeaders=this.isHttp&&Se.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Se;return((Se=this._fullRequestReader)==null?void 0:Se._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(Se,te){if(te<=this._progressiveDataLength)return null;const $=new b(this,Se,te);return this._rangeRequestReaders.push($),$}cancelAllRequests(Se){var te;(te=this._fullRequestReader)==null||te.cancel(Se);for(const $ of this._rangeRequestReaders.slice(0))$.cancel(Se)}}i.PDFFetchStream=re;class _{constructor(Se){this._stream=Se,this._reader=null,this._loaded=0,this._filename=null;const te=Se.source;this._withCredentials=te.withCredentials||!1,this._contentLength=te.length,this._headersCapability=new a.PromiseCapability,this._disableRange=te.disableRange||!1,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!te.disableStream,this._isRangeSupported=!te.disableRange,this._headers=d(this._stream.httpHeaders);const $=te.url;fetch($,h(this._headers,this._withCredentials,this._abortController)).then(_e=>{if(!(0,c.validateResponseStatus)(_e.status))throw(0,c.createResponseStatusError)(_e.status,$);this._reader=_e.body.getReader(),this._headersCapability.resolve();const j=ie=>_e.headers.get(ie),{allowRangeRequests:g,suggestedLength:ee}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=ee||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(j),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;await this._headersCapability.promise;const{value:Se,done:te}=await this._reader.read();return te?{value:Se,done:te}:(this._loaded+=Se.byteLength,($=this.onProgress)==null||$.call(this,{loaded:this._loaded,total:this._contentLength}),{value:f(Se),done:!1})}cancel(Se){var te;(te=this._reader)==null||te.cancel(Se),this._abortController.abort()}}class b{constructor(Se,te,$){this._stream=Se,this._reader=null,this._loaded=0;const _e=Se.source;this._withCredentials=_e.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!_e.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${te}-${$-1}`);const j=_e.url;fetch(j,h(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,c.validateResponseStatus)(g.status))throw(0,c.createResponseStatusError)(g.status,j);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $;await this._readCapability.promise;const{value:Se,done:te}=await this._reader.read();return te?{value:Se,done:te}:(this._loaded+=Se.byteLength,($=this.onProgress)==null||$.call(this,{loaded:this._loaded}),{value:f(Se),done:!1})}cancel(Se){var te;(te=this._reader)==null||te.cancel(Se),this._abortController.abort()}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=re,i.extractFilenameFromHeader=f,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=_;var a=o(1),c=o(21),h=o(6);function d({getResponseHeader:b,isHttp:me,rangeChunkSize:Se,disableRange:te}){const $={allowRangeRequests:!1,suggestedLength:void 0},_e=parseInt(b("Content-Length"),10);return!Number.isInteger(_e)||($.suggestedLength=_e,_e<=2*Se)||te||!me||b("Accept-Ranges")!=="bytes"||(b("Content-Encoding")||"identity")!=="identity"||($.allowRangeRequests=!0),$}function f(b){const me=b("Content-Disposition");if(me){let Se=(0,c.getFilenameFromContentDispositionHeader)(me);if(Se.includes("%"))try{Se=decodeURIComponent(Se)}catch{}if((0,h.isPdfFile)(Se))return Se}return null}function re(b,me){return b===404||b===0&&me.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+me+'".'):new a.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${me}".`,b)}function _(b){return b===200||b===206}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var a=o(1);function c(h){let d=!0,f=re("filename\\*","i").exec(h);if(f){f=f[1];let _e=Se(f);return _e=unescape(_e),_e=te(_e),_e=$(_e),b(_e)}if(f=me(h),f){const _e=$(f);return b(_e)}if(f=re("filename","i").exec(h),f){f=f[1];let _e=Se(f);return _e=$(_e),b(_e)}function re(_e,j){return new RegExp("(?:^|;)\\s*"+_e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',j)}function _(_e,j){if(_e){if(!/^[\x00-\xFF]+$/.test(j))return j;try{const g=new TextDecoder(_e,{fatal:!0}),ee=(0,a.stringToBytes)(j);j=g.decode(ee),d=!1}catch{}}return j}function b(_e){return d&&/[\x80-\xff]/.test(_e)&&(_e=_("utf-8",_e),d&&(_e=_("iso-8859-1",_e))),_e}function me(_e){const j=[];let g;const ee=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=ee.exec(_e))!==null;){let[,q,ne,he]=g;if(q=parseInt(q,10),q in j){if(q===0)break;continue}j[q]=[ne,he]}const ie=[];for(let q=0;q<j.length&&q in j;++q){let[ne,he]=j[q];he=Se(he),ne&&(he=unescape(he),q===0&&(he=te(he))),ie.push(he)}return ie.join("")}function Se(_e){if(_e.startsWith('"')){const j=_e.slice(1).split('\\"');for(let g=0;g<j.length;++g){const ee=j[g].indexOf('"');ee!==-1&&(j[g]=j[g].slice(0,ee),j.length=g+1),j[g]=j[g].replaceAll(/\\(.)/g,"$1")}_e=j.join('"')}return _e}function te(_e){const j=_e.indexOf("'");if(j===-1)return _e;const g=_e.slice(0,j),ie=_e.slice(j+1).replace(/^[^']*'/,"");return _(g,ie)}function $(_e){return!_e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_e)?_e:_e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(j,g,ee,ie){if(ee==="q"||ee==="Q")return ie=ie.replaceAll("_"," "),ie=ie.replaceAll(/=([0-9a-fA-F]{2})/g,function(q,ne){return String.fromCharCode(parseInt(ne,16))}),_(g,ie);try{ie=atob(ie)}catch{}return _(g,ie)})}return""}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var a=o(1),c=o(20);const h=200,d=206;function f(Se){const te=Se.response;return typeof te!="string"?te:(0,a.stringToBytes)(te).buffer}class re{constructor(te,$={}){this.url=te,this.isHttp=/^https?:/i.test(te),this.httpHeaders=this.isHttp&&$.httpHeaders||Object.create(null),this.withCredentials=$.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(te,$,_e){const j={begin:te,end:$};for(const g in _e)j[g]=_e[g];return this.request(j)}requestFull(te){return this.request(te)}request(te){const $=new XMLHttpRequest,_e=this.currXhrId++,j=this.pendingRequests[_e]={xhr:$};$.open("GET",this.url),$.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const ee=this.httpHeaders[g];ee!==void 0&&$.setRequestHeader(g,ee)}return this.isHttp&&"begin"in te&&"end"in te?($.setRequestHeader("Range",`bytes=${te.begin}-${te.end-1}`),j.expectedStatus=d):j.expectedStatus=h,$.responseType="arraybuffer",te.onError&&($.onerror=function(g){te.onError($.status)}),$.onreadystatechange=this.onStateChange.bind(this,_e),$.onprogress=this.onProgress.bind(this,_e),j.onHeadersReceived=te.onHeadersReceived,j.onDone=te.onDone,j.onError=te.onError,j.onProgress=te.onProgress,$.send(null),_e}onProgress(te,$){var j;const _e=this.pendingRequests[te];_e&&((j=_e.onProgress)==null||j.call(_e,$))}onStateChange(te,$){var q,ne,he;const _e=this.pendingRequests[te];if(!_e)return;const j=_e.xhr;if(j.readyState>=2&&_e.onHeadersReceived&&(_e.onHeadersReceived(),delete _e.onHeadersReceived),j.readyState!==4||!(te in this.pendingRequests))return;if(delete this.pendingRequests[te],j.status===0&&this.isHttp){(q=_e.onError)==null||q.call(_e,j.status);return}const g=j.status||h;if(!(g===h&&_e.expectedStatus===d)&&g!==_e.expectedStatus){(ne=_e.onError)==null||ne.call(_e,j.status);return}const ie=f(j);if(g===d){const le=j.getResponseHeader("Content-Range"),oe=/bytes (\d+)-(\d+)\/(\d+)/.exec(le);_e.onDone({begin:parseInt(oe[1],10),chunk:ie})}else ie?_e.onDone({begin:0,chunk:ie}):(he=_e.onError)==null||he.call(_e,j.status)}getRequestXhr(te){return this.pendingRequests[te].xhr}isPendingRequest(te){return te in this.pendingRequests}abortRequest(te){const $=this.pendingRequests[te].xhr;delete this.pendingRequests[te],$.abort()}}class _{constructor(te){this._source=te,this._manager=new re(te.url,{httpHeaders:te.httpHeaders,withCredentials:te.withCredentials}),this._rangeChunkSize=te.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(te){const $=this._rangeRequestReaders.indexOf(te);$>=0&&this._rangeRequestReaders.splice($,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(te,$){const _e=new me(this._manager,te,$);return _e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_e),_e}cancelAllRequests(te){var $;($=this._fullRequestReader)==null||$.cancel(te);for(const _e of this._rangeRequestReaders.slice(0))_e.cancel(te)}}i.PDFNetworkStream=_;class b{constructor(te,$){this._manager=te;const _e={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._fullRequestId=te.requestFull(_e),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=$.disableRange||!1,this._contentLength=$.length,this._rangeChunkSize=$.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const te=this._fullRequestId,$=this._manager.getRequestXhr(te),_e=ee=>$.getResponseHeader(ee),{allowRangeRequests:j,suggestedLength:g}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:_e,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});j&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(_e),this._isRangeSupported&&this._manager.abortRequest(te),this._headersReceivedCapability.resolve()}_onDone(te){if(te&&(this._requests.length>0?this._requests.shift().resolve({value:te.chunk,done:!1}):this._cachedChunks.push(te.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(te){this._storedError=(0,c.createResponseStatusError)(te,this._url),this._headersReceivedCapability.reject(this._storedError);for(const $ of this._requests)$.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(te){var $;($=this.onProgress)==null||$.call(this,{loaded:te.loaded,total:te.lengthComputable?te.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const te=new a.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0,this._headersReceivedCapability.reject(te);for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class me{constructor(te,$,_e){this._manager=te;const j={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._requestId=te.requestRange($,_e,j),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var te;(te=this.onClosed)==null||te.call(this,this)}_onDone(te){const $=te.chunk;this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunk=$,this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(te){this._storedError=(0,c.createResponseStatusError)(te,this._url);for(const $ of this._requests)$.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(te){var $;this.isStreamingSupported||($=this.onProgress)==null||$.call(this,{loaded:te.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const $=this._queuedChunk;return this._queuedChunk=null,{value:$,done:!1}}if(this._done)return{value:void 0,done:!0};const te=new a.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var a=o(1),c=o(20);const h=/^file:\/\/\/[a-zA-Z]:\//;function d(_e){const j=require$$5,g=j.parse(_e);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(_e)?j.parse(`file:///${_e}`):(g.host||(g.protocol="file:"),g)}class f{constructor(j){this.source=j,this.url=d(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new te(this):new me(this),this._fullRequestReader}getRangeReader(j,g){if(g<=this._progressiveDataLength)return null;const ee=this.isFsUrl?new $(this,j,g):new Se(this,j,g);return this._rangeRequestReaders.push(ee),ee}cancelAllRequests(j){var g;(g=this._fullRequestReader)==null||g.cancel(j);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(j)}}i.PDFNodeStream=f;class re{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=j.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ee;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=j.length,(ee=this.onProgress)==null||ee.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const g=j.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ee;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=j.length,(ee=this.onProgress)==null||ee.call(this,{loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(_e,j){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:j}}class me extends re{constructor(j){super(j);const g=ee=>{if(ee.statusCode===404){const he=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=he,this._headersCapability.reject(he);return}this._headersCapability.resolve(),this._setReadableStream(ee);const ie=he=>this._readableStream.headers[he.toLowerCase()],{allowRangeRequests:q,suggestedLength:ne}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:ie,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=q,this._contentLength=ne||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(ie)};if(this._request=null,this._url.protocol==="http:"){const ee=require$$5;this._request=ee.request(b(this._url,j.httpHeaders),g)}else{const ee=require$$5;this._request=ee.request(b(this._url,j.httpHeaders),g)}this._request.on("error",ee=>{this._storedError=ee,this._headersCapability.reject(ee)}),this._request.end()}}class Se extends _{constructor(j,g,ee){super(j),this._httpHeaders={};for(const q in j.httpHeaders){const ne=j.httpHeaders[q];ne!==void 0&&(this._httpHeaders[q]=ne)}this._httpHeaders.Range=`bytes=${g}-${ee-1}`;const ie=q=>{if(q.statusCode===404){const ne=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ne;return}this._setReadableStream(q)};if(this._request=null,this._url.protocol==="http:"){const q=require$$5;this._request=q.request(b(this._url,this._httpHeaders),ie)}else{const q=require$$5;this._request=q.request(b(this._url,this._httpHeaders),ie)}this._request.on("error",q=>{this._storedError=q}),this._request.end()}}class te extends re{constructor(j){super(j);let g=decodeURIComponent(this._url.path);h.test(this._url.href)&&(g=g.replace(/^\//,""));const ee=require$$5;ee.lstat(g,(ie,q)=>{if(ie){ie.code==="ENOENT"&&(ie=new a.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=ie,this._headersCapability.reject(ie);return}this._contentLength=q.size,this._setReadableStream(ee.createReadStream(g)),this._headersCapability.resolve()})}}class $ extends _{constructor(j,g,ee){super(j);let ie=decodeURIComponent(this._url.path);h.test(this._url.href)&&(ie=ie.replace(/^\//,""));const q=require$$5;this._setReadableStream(q.createReadStream(ie,{start:g,end:ee-1}))}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var a=o(6),c=o(1);const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",re=["butt","round","square"],_=["miter","round","bevel"],b=function(q,ne="",he=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!he)return URL.createObjectURL(new Blob([q],{type:ne}));const le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let oe=`data:${ne};base64,`;for(let ce=0,xe=q.length;ce<xe;ce+=3){const se=q[ce]&255,be=q[ce+1]&255,Ae=q[ce+2]&255,Ie=se>>2,Re=(se&3)<<4|be>>4,Fe=ce+1<xe?(be&15)<<2|Ae>>6:64,Ce=ce+2<xe?Ae&63:64;oe+=le[Ie]+le[Re]+le[Fe]+le[Ce]}return oe},me=function(){const q=new Uint8Array([137,80,78,71,13,10,26,10]),ne=12,he=new Int32Array(256);for(let Ae=0;Ae<256;Ae++){let Ie=Ae;for(let Re=0;Re<8;Re++)Ie=Ie&1?3988292384^Ie>>1&2147483647:Ie>>1&2147483647;he[Ae]=Ie}function le(Ae,Ie,Re){let Fe=-1;for(let Ce=Ie;Ce<Re;Ce++){const ke=(Fe^Ae[Ce])&255,we=he[ke];Fe=Fe>>>8^we}return Fe^-1}function oe(Ae,Ie,Re,Fe){let Ce=Fe;const ke=Ie.length;Re[Ce]=ke>>24&255,Re[Ce+1]=ke>>16&255,Re[Ce+2]=ke>>8&255,Re[Ce+3]=ke&255,Ce+=4,Re[Ce]=Ae.charCodeAt(0)&255,Re[Ce+1]=Ae.charCodeAt(1)&255,Re[Ce+2]=Ae.charCodeAt(2)&255,Re[Ce+3]=Ae.charCodeAt(3)&255,Ce+=4,Re.set(Ie,Ce),Ce+=Ie.length;const we=le(Re,Fe+4,Ce);Re[Ce]=we>>24&255,Re[Ce+1]=we>>16&255,Re[Ce+2]=we>>8&255,Re[Ce+3]=we&255}function ce(Ae,Ie,Re){let Fe=1,Ce=0;for(let ke=Ie;ke<Re;++ke)Fe=(Fe+(Ae[ke]&255))%65521,Ce=(Ce+Fe)%65521;return Ce<<16|Fe}function xe(Ae){if(!c.isNodeJS)return se(Ae);try{const Ie=parseInt(process.versions.node)>=8?Ae:Buffer.from(Ae),Re=require$$5.deflateSync(Ie,{level:9});return Re instanceof Uint8Array?Re:new Uint8Array(Re)}catch(Ie){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ie)}return se(Ae)}function se(Ae){let Ie=Ae.length;const Re=65535,Fe=Math.ceil(Ie/Re),Ce=new Uint8Array(2+Ie+Fe*5+4);let ke=0;Ce[ke++]=120,Ce[ke++]=156;let we=0;for(;Ie>Re;)Ce[ke++]=0,Ce[ke++]=255,Ce[ke++]=255,Ce[ke++]=0,Ce[ke++]=0,Ce.set(Ae.subarray(we,we+Re),ke),ke+=Re,we+=Re,Ie-=Re;Ce[ke++]=1,Ce[ke++]=Ie&255,Ce[ke++]=Ie>>8&255,Ce[ke++]=~Ie&65535&255,Ce[ke++]=(~Ie&65535)>>8&255,Ce.set(Ae.subarray(we),ke),ke+=Ae.length-we;const Pe=ce(Ae,0,Ae.length);return Ce[ke++]=Pe>>24&255,Ce[ke++]=Pe>>16&255,Ce[ke++]=Pe>>8&255,Ce[ke++]=Pe&255,Ce}function be(Ae,Ie,Re,Fe){const Ce=Ae.width,ke=Ae.height;let we,Pe,fe;const ye=Ae.data;switch(Ie){case c.ImageKind.GRAYSCALE_1BPP:Pe=0,we=1,fe=Ce+7>>3;break;case c.ImageKind.RGB_24BPP:Pe=2,we=8,fe=Ce*3;break;case c.ImageKind.RGBA_32BPP:Pe=6,we=8,fe=Ce*4;break;default:throw new Error("invalid format")}const ae=new Uint8Array((1+fe)*ke);let de=0,ve=0;for(let Le=0;Le<ke;++Le)ae[de++]=0,ae.set(ye.subarray(ve,ve+fe),de),ve+=fe,de+=fe;if(Ie===c.ImageKind.GRAYSCALE_1BPP&&Fe){de=0;for(let Le=0;Le<ke;Le++){de++;for(let Ue=0;Ue<fe;Ue++)ae[de++]^=255}}const ue=new Uint8Array([Ce>>24&255,Ce>>16&255,Ce>>8&255,Ce&255,ke>>24&255,ke>>16&255,ke>>8&255,ke&255,we,Pe,0,0,0]),m=xe(ae),Ee=q.length+ne*3+ue.length+m.length,Te=new Uint8Array(Ee);let Me=0;return Te.set(q,Me),Me+=q.length,oe("IHDR",ue,Te,Me),Me+=ne+ue.length,oe("IDATA",m,Te,Me),Me+=ne+m.length,oe("IEND",new Uint8Array(0),Te,Me),b(Te,"image/png",Re)}return function(Ie,Re,Fe){const Ce=Ie.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Ie.kind;return be(Ie,Ce,Re,Fe)}}();class Se{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ne,he){this.x=ne,this.y=he}}function te(q){let ne=[];const he=[];for(const le of q){if(le.fn==="save"){ne.push({fnId:92,fn:"group",items:[]}),he.push(ne),ne=ne.at(-1).items;continue}le.fn==="restore"?ne=he.pop():ne.push(le)}return ne}function $(q){if(Number.isInteger(q))return q.toString();const ne=q.toFixed(10);let he=ne.length-1;if(ne[he]!=="0")return ne;do he--;while(ne[he]==="0");return ne.substring(0,ne[he]==="."?he:he+1)}function _e(q){if(q[4]===0&&q[5]===0){if(q[1]===0&&q[2]===0)return q[0]===1&&q[3]===1?"":`scale(${$(q[0])} ${$(q[3])})`;if(q[0]===q[3]&&q[1]===-q[2]){const ne=Math.acos(q[0])*180/Math.PI;return`rotate(${$(ne)})`}}else if(q[0]===1&&q[1]===0&&q[2]===0&&q[3]===1)return`translate(${$(q[4])} ${$(q[5])})`;return`matrix(${$(q[0])} ${$(q[1])} ${$(q[2])} ${$(q[3])} ${$(q[4])} ${$(q[5])})`}let j=0,g=0,ee=0;class ie{constructor(ne,he,le=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new Se,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ne,this.objs=he,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!le,this._operatorIdMapping=[];for(const oe in c.OPS)this._operatorIdMapping[c.OPS[oe]]=oe}getObject(ne,he=null){return typeof ne=="string"?ne.startsWith("g_")?this.commonObjs.get(ne):this.objs.get(ne):he}save(){this.transformStack.push(this.transformMatrix);const ne=this.current;this.extraStack.push(ne),this.current=ne.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ne){this.save(),this.executeOpTree(ne),this.restore()}loadDependencies(ne){const he=ne.fnArray,le=ne.argsArray;for(let oe=0,ce=he.length;oe<ce;oe++)if(he[oe]===c.OPS.dependency)for(const xe of le[oe]){const se=xe.startsWith("g_")?this.commonObjs:this.objs,be=new Promise(Ae=>{se.get(xe,Ae)});this.current.dependencies.push(be)}return Promise.all(this.current.dependencies)}transform(ne,he,le,oe,ce,xe){const se=[ne,he,le,oe,ce,xe];this.transformMatrix=c.Util.transform(this.transformMatrix,se),this.tgrp=null}getSVG(ne,he){this.viewport=he;const le=this._initialize(he);return this.loadDependencies(ne).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ne)),le))}convertOpList(ne){const he=this._operatorIdMapping,le=ne.argsArray,oe=ne.fnArray,ce=[];for(let xe=0,se=oe.length;xe<se;xe++){const be=oe[xe];ce.push({fnId:be,fn:he[be],args:le[xe]})}return te(ce)}executeOpTree(ne){for(const he of ne){const le=he.fn,oe=he.fnId,ce=he.args;switch(oe|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(ce);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(ce[0],ce[1]);break;case c.OPS.setFont:this.setFont(ce);break;case c.OPS.showText:this.showText(ce[0]);break;case c.OPS.showSpacedText:this.showText(ce[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(ce[0],ce[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(ce[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(ce[0]);break;case c.OPS.setHScale:this.setHScale(ce[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]);break;case c.OPS.setTextRise:this.setTextRise(ce[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(ce[0]);break;case c.OPS.setLineWidth:this.setLineWidth(ce[0]);break;case c.OPS.setLineJoin:this.setLineJoin(ce[0]);break;case c.OPS.setLineCap:this.setLineCap(ce[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(ce[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(ce[0],ce[1],ce[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ce[0],ce[1],ce[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(ce);break;case c.OPS.setFillColorN:this.setFillColorN(ce);break;case c.OPS.shadingFill:this.shadingFill(ce[0]);break;case c.OPS.setDash:this.setDash(ce[0],ce[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(ce[0]);break;case c.OPS.setFlatness:this.setFlatness(ce[0]);break;case c.OPS.setGState:this.setGState(ce[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(ce[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ce[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ce[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ce[0],ce[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]);break;case c.OPS.constructPath:this.constructPath(ce[0],ce[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(he.items);break;default:(0,c.warn)(`Unimplemented operator ${le}`);break}}}setWordSpacing(ne){this.current.wordSpacing=ne}setCharSpacing(ne){this.current.charSpacing=ne}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ne,he,le,oe,ce,xe){const se=this.current;se.textMatrix=se.lineMatrix=[ne,he,le,oe,ce,xe],se.textMatrixScale=Math.hypot(ne,he),se.x=se.lineX=0,se.y=se.lineY=0,se.xcoords=[],se.ycoords=[],se.tspan=this.svgFactory.createElement("svg:tspan"),se.tspan.setAttributeNS(null,"font-family",se.fontFamily),se.tspan.setAttributeNS(null,"font-size",`${$(se.fontSize)}px`),se.tspan.setAttributeNS(null,"y",$(-se.y)),se.txtElement=this.svgFactory.createElement("svg:text"),se.txtElement.append(se.tspan)}beginText(){const ne=this.current;ne.x=ne.lineX=0,ne.y=ne.lineY=0,ne.textMatrix=c.IDENTITY_MATRIX,ne.lineMatrix=c.IDENTITY_MATRIX,ne.textMatrixScale=1,ne.tspan=this.svgFactory.createElement("svg:tspan"),ne.txtElement=this.svgFactory.createElement("svg:text"),ne.txtgrp=this.svgFactory.createElement("svg:g"),ne.xcoords=[],ne.ycoords=[]}moveText(ne,he){const le=this.current;le.x=le.lineX+=ne,le.y=le.lineY+=he,le.xcoords=[],le.ycoords=[],le.tspan=this.svgFactory.createElement("svg:tspan"),le.tspan.setAttributeNS(null,"font-family",le.fontFamily),le.tspan.setAttributeNS(null,"font-size",`${$(le.fontSize)}px`),le.tspan.setAttributeNS(null,"y",$(-le.y))}showText(ne){const he=this.current,le=he.font,oe=he.fontSize;if(oe===0)return;const ce=he.fontSizeScale,xe=he.charSpacing,se=he.wordSpacing,be=he.fontDirection,Ae=he.textHScale*be,Ie=le.vertical,Re=Ie?1:-1,Fe=le.defaultVMetrics,Ce=oe*he.fontMatrix[0];let ke=0;for(const fe of ne){if(fe===null){ke+=be*se;continue}else if(typeof fe=="number"){ke+=Re*fe*oe/1e3;continue}const ye=(fe.isSpace?se:0)+xe,ae=fe.fontChar;let de,ve,ue=fe.width;if(Ie){let Ee;const Te=fe.vmetric||Fe;Ee=fe.vmetric?Te[1]:ue*.5,Ee=-Ee*Ce;const Me=Te[2]*Ce;ue=Te?-Te[0]:ue,de=Ee/ce,ve=(ke+Me)/ce}else de=ke/ce,ve=0;(fe.isInFont||le.missingFile)&&(he.xcoords.push(he.x+de),Ie&&he.ycoords.push(-he.y+ve),he.tspan.textContent+=ae);const m=Ie?ue*Ce-ye*be:ue*Ce+ye*be;ke+=m}he.tspan.setAttributeNS(null,"x",he.xcoords.map($).join(" ")),Ie?he.tspan.setAttributeNS(null,"y",he.ycoords.map($).join(" ")):he.tspan.setAttributeNS(null,"y",$(-he.y)),Ie?he.y-=ke:he.x+=ke*Ae,he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${$(he.fontSize)}px`),he.fontStyle!==h.fontStyle&&he.tspan.setAttributeNS(null,"font-style",he.fontStyle),he.fontWeight!==h.fontWeight&&he.tspan.setAttributeNS(null,"font-weight",he.fontWeight);const we=he.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(we===c.TextRenderingMode.FILL||we===c.TextRenderingMode.FILL_STROKE?(he.fillColor!==h.fillColor&&he.tspan.setAttributeNS(null,"fill",he.fillColor),he.fillAlpha<1&&he.tspan.setAttributeNS(null,"fill-opacity",he.fillAlpha)):he.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?he.tspan.setAttributeNS(null,"fill","transparent"):he.tspan.setAttributeNS(null,"fill","none"),we===c.TextRenderingMode.STROKE||we===c.TextRenderingMode.FILL_STROKE){const fe=1/(he.textMatrixScale||1);this._setStrokeAttributes(he.tspan,fe)}let Pe=he.textMatrix;he.textRise!==0&&(Pe=Pe.slice(),Pe[5]+=he.textRise),he.txtElement.setAttributeNS(null,"transform",`${_e(Pe)} scale(${$(Ae)}, -1)`),he.txtElement.setAttributeNS(d,"xml:space","preserve"),he.txtElement.append(he.tspan),he.txtgrp.append(he.txtElement),this._ensureTransformGroup().append(he.txtElement)}setLeadingMoveText(ne,he){this.setLeading(-he),this.moveText(ne,he)}addFontStyle(ne){if(!ne.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const he=b(ne.data,ne.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ne.loadedName}"; src: url(${he}); }
`}setFont(ne){const he=this.current,le=this.commonObjs.get(ne[0]);let oe=ne[1];he.font=le,this.embedFonts&&!le.missingFile&&!this.embeddedFonts[le.loadedName]&&(this.addFontStyle(le),this.embeddedFonts[le.loadedName]=le),he.fontMatrix=le.fontMatrix||c.FONT_IDENTITY_MATRIX;let ce="normal";le.black?ce="900":le.bold&&(ce="bold");const xe=le.italic?"italic":"normal";oe<0?(oe=-oe,he.fontDirection=-1):he.fontDirection=1,he.fontSize=oe,he.fontFamily=le.loadedName,he.fontWeight=ce,he.fontStyle=xe,he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"y",$(-he.y)),he.xcoords=[],he.ycoords=[]}endText(){var he;const ne=this.current;ne.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((he=ne.txtElement)!=null&&he.hasChildNodes())&&(ne.element=ne.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ne){ne>0&&(this.current.lineWidth=ne)}setLineCap(ne){this.current.lineCap=re[ne]}setLineJoin(ne){this.current.lineJoin=_[ne]}setMiterLimit(ne){this.current.miterLimit=ne}setStrokeAlpha(ne){this.current.strokeAlpha=ne}setStrokeRGBColor(ne,he,le){this.current.strokeColor=c.Util.makeHexColor(ne,he,le)}setFillAlpha(ne){this.current.fillAlpha=ne}setFillRGBColor(ne,he,le){this.current.fillColor=c.Util.makeHexColor(ne,he,le),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ne){this.current.strokeColor=this._makeColorN_Pattern(ne)}setFillColorN(ne){this.current.fillColor=this._makeColorN_Pattern(ne)}shadingFill(ne){const{width:he,height:le}=this.viewport,oe=c.Util.inverseTransform(this.transformMatrix),[ce,xe,se,be]=c.Util.getAxialAlignedBoundingBox([0,0,he,le],oe),Ae=this.svgFactory.createElement("svg:rect");Ae.setAttributeNS(null,"x",ce),Ae.setAttributeNS(null,"y",xe),Ae.setAttributeNS(null,"width",se-ce),Ae.setAttributeNS(null,"height",be-xe),Ae.setAttributeNS(null,"fill",this._makeShadingPattern(ne)),this.current.fillAlpha<1&&Ae.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ae)}_makeColorN_Pattern(ne){return ne[0]==="TilingPattern"?this._makeTilingPattern(ne):this._makeShadingPattern(ne)}_makeTilingPattern(ne){const he=ne[1],le=ne[2],oe=ne[3]||c.IDENTITY_MATRIX,[ce,xe,se,be]=ne[4],Ae=ne[5],Ie=ne[6],Re=ne[7],Fe=`shading${ee++}`,[Ce,ke,we,Pe]=c.Util.normalizeRect([...c.Util.applyTransform([ce,xe],oe),...c.Util.applyTransform([se,be],oe)]),[fe,ye]=c.Util.singularValueDecompose2dScale(oe),ae=Ae*fe,de=Ie*ye,ve=this.svgFactory.createElement("svg:pattern");ve.setAttributeNS(null,"id",Fe),ve.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ve.setAttributeNS(null,"width",ae),ve.setAttributeNS(null,"height",de),ve.setAttributeNS(null,"x",`${Ce}`),ve.setAttributeNS(null,"y",`${ke}`);const ue=this.svg,m=this.transformMatrix,Ee=this.current.fillColor,Te=this.current.strokeColor,Me=this.svgFactory.create(we-Ce,Pe-ke);if(this.svg=Me,this.transformMatrix=oe,Re===2){const Le=c.Util.makeHexColor(...he);this.current.fillColor=Le,this.current.strokeColor=Le}return this.executeOpTree(this.convertOpList(le)),this.svg=ue,this.transformMatrix=m,this.current.fillColor=Ee,this.current.strokeColor=Te,ve.append(Me.childNodes[0]),this.defs.append(ve),`url(#${Fe})`}_makeShadingPattern(ne){switch(typeof ne=="string"&&(ne=this.objs.get(ne)),ne[0]){case"RadialAxial":const he=`shading${ee++}`,le=ne[3];let oe;switch(ne[1]){case"axial":const ce=ne[4],xe=ne[5];oe=this.svgFactory.createElement("svg:linearGradient"),oe.setAttributeNS(null,"id",he),oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),oe.setAttributeNS(null,"x1",ce[0]),oe.setAttributeNS(null,"y1",ce[1]),oe.setAttributeNS(null,"x2",xe[0]),oe.setAttributeNS(null,"y2",xe[1]);break;case"radial":const se=ne[4],be=ne[5],Ae=ne[6],Ie=ne[7];oe=this.svgFactory.createElement("svg:radialGradient"),oe.setAttributeNS(null,"id",he),oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),oe.setAttributeNS(null,"cx",be[0]),oe.setAttributeNS(null,"cy",be[1]),oe.setAttributeNS(null,"r",Ie),oe.setAttributeNS(null,"fx",se[0]),oe.setAttributeNS(null,"fy",se[1]),oe.setAttributeNS(null,"fr",Ae);break;default:throw new Error(`Unknown RadialAxial type: ${ne[1]}`)}for(const ce of le){const xe=this.svgFactory.createElement("svg:stop");xe.setAttributeNS(null,"offset",ce[0]),xe.setAttributeNS(null,"stop-color",ce[1]),oe.append(xe)}return this.defs.append(oe),`url(#${he})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ne[0]}`)}}setDash(ne,he){this.current.dashArray=ne,this.current.dashPhase=he}constructPath(ne,he){const le=this.current;let oe=le.x,ce=le.y,xe=[],se=0;for(const be of ne)switch(be|0){case c.OPS.rectangle:oe=he[se++],ce=he[se++];const Ae=he[se++],Ie=he[se++],Re=oe+Ae,Fe=ce+Ie;xe.push("M",$(oe),$(ce),"L",$(Re),$(ce),"L",$(Re),$(Fe),"L",$(oe),$(Fe),"Z");break;case c.OPS.moveTo:oe=he[se++],ce=he[se++],xe.push("M",$(oe),$(ce));break;case c.OPS.lineTo:oe=he[se++],ce=he[se++],xe.push("L",$(oe),$(ce));break;case c.OPS.curveTo:oe=he[se+4],ce=he[se+5],xe.push("C",$(he[se]),$(he[se+1]),$(he[se+2]),$(he[se+3]),$(oe),$(ce)),se+=6;break;case c.OPS.curveTo2:xe.push("C",$(oe),$(ce),$(he[se]),$(he[se+1]),$(he[se+2]),$(he[se+3])),oe=he[se+2],ce=he[se+3],se+=4;break;case c.OPS.curveTo3:oe=he[se+2],ce=he[se+3],xe.push("C",$(he[se]),$(he[se+1]),$(oe),$(ce),$(oe),$(ce)),se+=4;break;case c.OPS.closePath:xe.push("Z");break}xe=xe.join(" "),le.path&&ne.length>0&&ne[0]!==c.OPS.rectangle&&ne[0]!==c.OPS.moveTo?xe=le.path.getAttributeNS(null,"d")+xe:(le.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(le.path)),le.path.setAttributeNS(null,"d",xe),le.path.setAttributeNS(null,"fill","none"),le.element=le.path,le.setCurrentPoint(oe,ce)}endPath(){const ne=this.current;if(ne.path=null,!this.pendingClip)return;if(!ne.element){this.pendingClip=null;return}const he=`clippath${j++}`,le=this.svgFactory.createElement("svg:clipPath");le.setAttributeNS(null,"id",he),le.setAttributeNS(null,"transform",_e(this.transformMatrix));const oe=ne.element.cloneNode(!0);if(this.pendingClip==="evenodd"?oe.setAttributeNS(null,"clip-rule","evenodd"):oe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,le.append(oe),this.defs.append(le),ne.activeClipUrl){ne.clipGroup=null;for(const ce of this.extraStack)ce.clipGroup=null;le.setAttributeNS(null,"clip-path",ne.activeClipUrl)}ne.activeClipUrl=`url(#${he})`,this.tgrp=null}clip(ne){this.pendingClip=ne}closePath(){const ne=this.current;if(ne.path){const he=`${ne.path.getAttributeNS(null,"d")}Z`;ne.path.setAttributeNS(null,"d",he)}}setLeading(ne){this.current.leading=-ne}setTextRise(ne){this.current.textRise=ne}setTextRenderingMode(ne){this.current.textRenderingMode=ne}setHScale(ne){this.current.textHScale=ne/100}setRenderingIntent(ne){}setFlatness(ne){}setGState(ne){for(const[he,le]of ne)switch(he){case"LW":this.setLineWidth(le);break;case"LC":this.setLineCap(le);break;case"LJ":this.setLineJoin(le);break;case"ML":this.setMiterLimit(le);break;case"D":this.setDash(le[0],le[1]);break;case"RI":this.setRenderingIntent(le);break;case"FL":this.setFlatness(le);break;case"Font":this.setFont(le);break;case"CA":this.setStrokeAlpha(le);break;case"ca":this.setFillAlpha(le);break;default:(0,c.warn)(`Unimplemented graphic state operator ${he}`);break}}fill(){const ne=this.current;ne.element&&(ne.element.setAttributeNS(null,"fill",ne.fillColor),ne.element.setAttributeNS(null,"fill-opacity",ne.fillAlpha),this.endPath())}stroke(){const ne=this.current;ne.element&&(this._setStrokeAttributes(ne.element),ne.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ne,he=1){const le=this.current;let oe=le.dashArray;he!==1&&oe.length>0&&(oe=oe.map(function(ce){return he*ce})),ne.setAttributeNS(null,"stroke",le.strokeColor),ne.setAttributeNS(null,"stroke-opacity",le.strokeAlpha),ne.setAttributeNS(null,"stroke-miterlimit",$(le.miterLimit)),ne.setAttributeNS(null,"stroke-linecap",le.lineCap),ne.setAttributeNS(null,"stroke-linejoin",le.lineJoin),ne.setAttributeNS(null,"stroke-width",$(he*le.lineWidth)+"px"),ne.setAttributeNS(null,"stroke-dasharray",oe.map($).join(" ")),ne.setAttributeNS(null,"stroke-dashoffset",$(he*le.dashPhase)+"px")}eoFill(){var ne;(ne=this.current.element)==null||ne.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ne;(ne=this.current.element)==null||ne.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width","1px"),ne.setAttributeNS(null,"height","1px"),ne.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ne)}paintImageXObject(ne){const he=this.getObject(ne);if(!he){(0,c.warn)(`Dependent image with object ID ${ne} is not ready yet`);return}this.paintInlineImageXObject(he)}paintInlineImageXObject(ne,he){const le=ne.width,oe=ne.height,ce=me(ne,this.forceDataSchema,!!he),xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y","0"),xe.setAttributeNS(null,"width",$(le)),xe.setAttributeNS(null,"height",$(oe)),this.current.element=xe,this.clip("nonzero");const se=this.svgFactory.createElement("svg:image");se.setAttributeNS(f,"xlink:href",ce),se.setAttributeNS(null,"x","0"),se.setAttributeNS(null,"y",$(-oe)),se.setAttributeNS(null,"width",$(le)+"px"),se.setAttributeNS(null,"height",$(oe)+"px"),se.setAttributeNS(null,"transform",`scale(${$(1/le)} ${$(-1/oe)})`),he?he.append(se):this._ensureTransformGroup().append(se)}paintImageMaskXObject(ne){const he=this.getObject(ne.data,ne);if(he.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const le=this.current,oe=he.width,ce=he.height,xe=le.fillColor;le.maskId=`mask${g++}`;const se=this.svgFactory.createElement("svg:mask");se.setAttributeNS(null,"id",le.maskId);const be=this.svgFactory.createElement("svg:rect");be.setAttributeNS(null,"x","0"),be.setAttributeNS(null,"y","0"),be.setAttributeNS(null,"width",$(oe)),be.setAttributeNS(null,"height",$(ce)),be.setAttributeNS(null,"fill",xe),be.setAttributeNS(null,"mask",`url(#${le.maskId})`),this.defs.append(se),this._ensureTransformGroup().append(be),this.paintInlineImageXObject(he,se)}paintFormXObjectBegin(ne,he){if(Array.isArray(ne)&&ne.length===6&&this.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),he){const le=he[2]-he[0],oe=he[3]-he[1],ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x",he[0]),ce.setAttributeNS(null,"y",he[1]),ce.setAttributeNS(null,"width",$(le)),ce.setAttributeNS(null,"height",$(oe)),this.current.element=ce,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ne){const he=this.svgFactory.create(ne.width,ne.height),le=this.svgFactory.createElement("svg:defs");he.append(le),this.defs=le;const oe=this.svgFactory.createElement("svg:g");return oe.setAttributeNS(null,"transform",_e(ne.transform)),he.append(oe),this.svg=oe,he}_ensureClipGroup(){if(!this.current.clipGroup){const ne=this.svgFactory.createElement("svg:g");ne.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ne),this.current.clipGroup=ne}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_e(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=ie},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class o{static textContent(c){const h=[],d={items:h,styles:Object.create(null)};function f(re){var me;if(!re)return;let _=null;const b=re.name;if(b==="#text")_=re.value;else if(o.shouldBuildText(b))(me=re==null?void 0:re.attributes)!=null&&me.textContent?_=re.attributes.textContent:re.value&&(_=re.value);else return;if(_!==null&&h.push({str:_}),!!re.children)for(const Se of re.children)f(Se)}return f(c),d}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=o},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=_e,i.updateTextLayer=j;var a=o(1),c=o(6);const h=1e5,d=30,f=.8,re=new Map;function _(g,ee){let ie;if(ee&&a.FeatureTest.isOffscreenCanvasSupported)ie=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const q=document.createElement("canvas");q.width=q.height=g,ie=q.getContext("2d",{alpha:!1})}return ie}function b(g,ee){const ie=re.get(g);if(ie)return ie;const q=_(d,ee);q.font=`${d}px ${g}`;const ne=q.measureText("");let he=ne.fontBoundingBoxAscent,le=Math.abs(ne.fontBoundingBoxDescent);if(he){const ce=he/(he+le);return re.set(g,ce),q.canvas.width=q.canvas.height=0,ce}q.strokeStyle="red",q.clearRect(0,0,d,d),q.strokeText("g",0,0);let oe=q.getImageData(0,0,d,d).data;le=0;for(let ce=oe.length-1-3;ce>=0;ce-=4)if(oe[ce]>0){le=Math.ceil(ce/4/d);break}q.clearRect(0,0,d,d),q.strokeText("A",0,d),oe=q.getImageData(0,0,d,d).data,he=0;for(let ce=0,xe=oe.length;ce<xe;ce+=4)if(oe[ce]>0){he=d-Math.floor(ce/4/d);break}if(q.canvas.width=q.canvas.height=0,he){const ce=he/(he+le);return re.set(g,ce),ce}return re.set(g,f),f}function me(g,ee,ie){const q=document.createElement("span"),ne={angle:0,canvasWidth:0,hasText:ee.str!=="",hasEOL:ee.hasEOL,fontSize:0};g._textDivs.push(q);const he=a.Util.transform(g._transform,ee.transform);let le=Math.atan2(he[1],he[0]);const oe=ie[ee.fontName];oe.vertical&&(le+=Math.PI/2);const ce=Math.hypot(he[2],he[3]),xe=ce*b(oe.fontFamily,g._isOffscreenCanvasSupported);let se,be;le===0?(se=he[4],be=he[5]-xe):(se=he[4]+xe*Math.sin(le),be=he[5]-xe*Math.cos(le));const Ae="calc(var(--scale-factor)*",Ie=q.style;g._container===g._rootContainer?(Ie.left=`${(100*se/g._pageWidth).toFixed(2)}%`,Ie.top=`${(100*be/g._pageHeight).toFixed(2)}%`):(Ie.left=`${Ae}${se.toFixed(2)}px)`,Ie.top=`${Ae}${be.toFixed(2)}px)`),Ie.fontSize=`${Ae}${ce.toFixed(2)}px)`,Ie.fontFamily=oe.fontFamily,ne.fontSize=ce,q.setAttribute("role","presentation"),q.textContent=ee.str,q.dir=ee.dir,g._fontInspectorEnabled&&(q.dataset.fontName=ee.fontName),le!==0&&(ne.angle=le*(180/Math.PI));let Re=!1;if(ee.str.length>1)Re=!0;else if(ee.str!==" "&&ee.transform[0]!==ee.transform[3]){const Fe=Math.abs(ee.transform[0]),Ce=Math.abs(ee.transform[3]);Fe!==Ce&&Math.max(Fe,Ce)/Math.min(Fe,Ce)>1.5&&(Re=!0)}Re&&(ne.canvasWidth=oe.vertical?ee.height:ee.width),g._textDivProperties.set(q,ne),g._isReadableStream&&g._layoutText(q)}function Se(g){const{div:ee,scale:ie,properties:q,ctx:ne,prevFontSize:he,prevFontFamily:le}=g,{style:oe}=ee;let ce="";if(q.canvasWidth!==0&&q.hasText){const{fontFamily:xe}=oe,{canvasWidth:se,fontSize:be}=q;(he!==be||le!==xe)&&(ne.font=`${be*ie}px ${xe}`,g.prevFontSize=be,g.prevFontFamily=xe);const{width:Ae}=ne.measureText(ee.textContent);Ae>0&&(ce=`scaleX(${se*ie/Ae})`)}q.angle!==0&&(ce=`rotate(${q.angle}deg) ${ce}`),ce.length>0&&(oe.transform=ce)}function te(g){if(g._canceled)return;const ee=g._textDivs,ie=g._capability;if(ee.length>h){ie.resolve();return}if(!g._isReadableStream)for(const ne of ee)g._layoutText(ne);ie.resolve()}class ${constructor({textContentSource:ee,container:ie,viewport:q,textDivs:ne,textDivProperties:he,textContentItemsStr:le,isOffscreenCanvasSupported:oe}){var Ae;this._textContentSource=ee,this._isReadableStream=ee instanceof ReadableStream,this._container=this._rootContainer=ie,this._textDivs=ne||[],this._textContentItemsStr=le||[],this._isOffscreenCanvasSupported=oe,this._fontInspectorEnabled=!!((Ae=globalThis.FontInspector)!=null&&Ae.enabled),this._reader=null,this._textDivProperties=he||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,oe)};const{pageWidth:ce,pageHeight:xe,pageX:se,pageY:be}=q.rawDims;this._transform=[1,0,0,-1,-se,be+xe],this._pageWidth=ce,this._pageHeight=xe,(0,c.setLayerDimensions)(ie,q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(ee,ie){for(const q of ee){if(q.str===void 0){if(q.type==="beginMarkedContentProps"||q.type==="beginMarkedContent"){const ne=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),q.id!==null&&this._container.setAttribute("id",`${q.id}`),ne.append(this._container)}else q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(q.str),me(this,q,ie)}}_layoutText(ee){const ie=this._layoutTextParams.properties=this._textDivProperties.get(ee);if(this._layoutTextParams.div=ee,Se(this._layoutTextParams),ie.hasText&&this._container.append(ee),ie.hasEOL){const q=document.createElement("br");q.setAttribute("role","presentation"),this._container.append(q)}}_render(){const ee=new a.PromiseCapability;let ie=Object.create(null);if(this._isReadableStream){const q=()=>{this._reader.read().then(({value:ne,done:he})=>{if(he){ee.resolve();return}Object.assign(ie,ne.styles),this._processItems(ne.items,ie),q()},ee.reject)};this._reader=this._textContentSource.getReader(),q()}else if(this._textContentSource){const{items:q,styles:ne}=this._textContentSource;this._processItems(q,ne),ee.resolve()}else throw new Error('No "textContentSource" parameter specified.');ee.promise.then(()=>{ie=null,te(this)},this._capability.reject)}}i.TextLayerRenderTask=$;function _e(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const{container:ee,viewport:ie}=g,q=getComputedStyle(ee),ne=q.getPropertyValue("visibility"),he=parseFloat(q.getPropertyValue("--scale-factor"));ne==="visible"&&(!he||Math.abs(he-ie.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const le=new $(g);return le._render(),le}function j({container:g,viewport:ee,textDivs:ie,textDivProperties:q,isOffscreenCanvasSupported:ne,mustRotate:he=!0,mustRescale:le=!0}){if(he&&(0,c.setLayerDimensions)(g,{rotation:ee.rotation}),le){const oe=_(0,ne),xe={prevFontSize:null,prevFontFamily:null,div:null,scale:ee.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:oe};for(const se of ie)xe.properties=q.get(se),xe.div=se,Se(xe)}}},(e,i,o)=>{var b,me,Se,te,$,_e,j,g,ee,ie,q,kn,dn,Fn,Nn;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var a=o(1),c=o(4),h=o(28),d=o(33),f=o(6),re=o(34);const ce=class ce{constructor({uiManager:se,pageIndex:be,div:Ae,accessibilityManager:Ie,annotationLayer:Re,viewport:Fe,l10n:Ce}){Qe(this,q);Qe(this,b);Qe(this,me,!1);Qe(this,Se,null);Qe(this,te,this.pointerup.bind(this));Qe(this,$,this.pointerdown.bind(this));Qe(this,_e,new Map);Qe(this,j,!1);Qe(this,g,!1);Qe(this,ee,!1);Qe(this,ie);const ke=[h.FreeTextEditor,d.InkEditor,re.StampEditor];if(!ce._initialized){ce._initialized=!0;for(const we of ke)we.initialize(Ce)}se.registerEditorTypes(ke),Ze(this,ie,se),this.pageIndex=be,this.div=Ae,Ze(this,b,Ie),Ze(this,Se,Re),this.viewport=Fe,ge(this,ie).addLayer(this)}get isEmpty(){return ge(this,_e).size===0}updateToolbar(se){ge(this,ie).updateToolbar(se)}updateMode(se=ge(this,ie).getMode()){We(this,q,Nn).call(this),se===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),se!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",se===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",se===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",se===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(se){if(!se&&ge(this,ie).getMode()!==a.AnnotationEditorType.INK)return;if(!se){for(const Ae of ge(this,_e).values())if(Ae.isEmpty()){Ae.setInBackground();return}}We(this,q,dn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(se){ge(this,ie).setEditingState(se)}addCommands(se){ge(this,ie).addCommands(se)}enable(){this.div.style.pointerEvents="auto";const se=new Set;for(const Ae of ge(this,_e).values())Ae.enableEditing(),Ae.annotationElementId&&se.add(Ae.annotationElementId);if(!ge(this,Se))return;const be=ge(this,Se).getEditableAnnotations();for(const Ae of be){if(Ae.hide(),ge(this,ie).isDeletedAnnotationElement(Ae.data.id)||se.has(Ae.data.id))continue;const Ie=this.deserialize(Ae);Ie&&(this.addOrRebuild(Ie),Ie.enableEditing())}}disable(){var be;Ze(this,ee,!0),this.div.style.pointerEvents="none";const se=new Set;for(const Ae of ge(this,_e).values()){if(Ae.disableEditing(),!Ae.annotationElementId||Ae.serialize()!==null){se.add(Ae.annotationElementId);continue}(be=this.getEditableAnnotation(Ae.annotationElementId))==null||be.show(),Ae.remove()}if(ge(this,Se)){const Ae=ge(this,Se).getEditableAnnotations();for(const Ie of Ae){const{id:Re}=Ie.data;se.has(Re)||ge(this,ie).isDeletedAnnotationElement(Re)||Ie.show()}}We(this,q,Nn).call(this),this.isEmpty&&(this.div.hidden=!0),Ze(this,ee,!1)}getEditableAnnotation(se){var be;return((be=ge(this,Se))==null?void 0:be.getEditableAnnotation(se))||null}setActiveEditor(se){ge(this,ie).getActive()!==se&&ge(this,ie).setActiveEditor(se)}enableClick(){this.div.addEventListener("pointerdown",ge(this,$)),this.div.addEventListener("pointerup",ge(this,te))}disableClick(){this.div.removeEventListener("pointerdown",ge(this,$)),this.div.removeEventListener("pointerup",ge(this,te))}attach(se){ge(this,_e).set(se.id,se);const{annotationElementId:be}=se;be&&ge(this,ie).isDeletedAnnotationElement(be)&&ge(this,ie).removeDeletedAnnotationElement(se)}detach(se){var be;ge(this,_e).delete(se.id),(be=ge(this,b))==null||be.removePointerInTextLayer(se.contentDiv),!ge(this,ee)&&se.annotationElementId&&ge(this,ie).addDeletedAnnotationElement(se)}remove(se){this.detach(se),ge(this,ie).removeEditor(se),se.div.contains(document.activeElement)&&setTimeout(()=>{ge(this,ie).focusMainContainer()},0),se.div.remove(),se.isAttachedToDOM=!1,ge(this,g)||this.addInkEditorIfNeeded(!1)}changeParent(se){var be;se.parent!==this&&(se.annotationElementId&&(ge(this,ie).addDeletedAnnotationElement(se.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(se),se.annotationElementId=null),this.attach(se),(be=se.parent)==null||be.detach(se),se.setParent(this),se.div&&se.isAttachedToDOM&&(se.div.remove(),this.div.append(se.div)))}add(se){if(this.changeParent(se),ge(this,ie).addEditor(se),this.attach(se),!se.isAttachedToDOM){const be=se.render();this.div.append(be),se.isAttachedToDOM=!0}se.fixAndSetPosition(),se.onceAdded(),ge(this,ie).addToAnnotationStorage(se)}moveEditorInDOM(se){var Ae;if(!se.isAttachedToDOM)return;const{activeElement:be}=document;se.div.contains(be)&&(se._focusEventsAllowed=!1,setTimeout(()=>{se.div.contains(document.activeElement)?se._focusEventsAllowed=!0:(se.div.addEventListener("focusin",()=>{se._focusEventsAllowed=!0},{once:!0}),be.focus())},0)),se._structTreeParentId=(Ae=ge(this,b))==null?void 0:Ae.moveElementInDOM(this.div,se.div,se.contentDiv,!0)}addOrRebuild(se){se.needsToBeRebuilt()?se.rebuild():this.add(se)}addUndoableEditor(se){const be=()=>se._uiManager.rebuild(se),Ae=()=>{se.remove()};this.addCommands({cmd:be,undo:Ae,mustExec:!1})}getNextId(){return ge(this,ie).getId()}pasteEditor(se,be){ge(this,ie).updateToolbar(se),ge(this,ie).updateMode(se);const{offsetX:Ae,offsetY:Ie}=We(this,q,Fn).call(this),Re=this.getNextId(),Fe=We(this,q,kn).call(this,{parent:this,id:Re,x:Ae,y:Ie,uiManager:ge(this,ie),isCentered:!0,...be});Fe&&this.add(Fe)}deserialize(se){switch(se.annotationType??se.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(se,this,ge(this,ie));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(se,this,ge(this,ie));case a.AnnotationEditorType.STAMP:return re.StampEditor.deserialize(se,this,ge(this,ie))}return null}addNewEditor(){We(this,q,dn).call(this,We(this,q,Fn).call(this),!0)}setSelected(se){ge(this,ie).setSelected(se)}toggleSelected(se){ge(this,ie).toggleSelected(se)}isSelected(se){return ge(this,ie).isSelected(se)}unselect(se){ge(this,ie).unselect(se)}pointerup(se){const{isMac:be}=a.FeatureTest.platform;if(!(se.button!==0||se.ctrlKey&&be)&&se.target===this.div&&ge(this,j)){if(Ze(this,j,!1),!ge(this,me)){Ze(this,me,!0);return}if(ge(this,ie).getMode()===a.AnnotationEditorType.STAMP){ge(this,ie).unselectAll();return}We(this,q,dn).call(this,se,!1)}}pointerdown(se){if(ge(this,j)){Ze(this,j,!1);return}const{isMac:be}=a.FeatureTest.platform;if(se.button!==0||se.ctrlKey&&be||se.target!==this.div)return;Ze(this,j,!0);const Ae=ge(this,ie).getActive();Ze(this,me,!Ae||Ae.isEmpty())}findNewParent(se,be,Ae){const Ie=ge(this,ie).findParent(be,Ae);return Ie===null||Ie===this?!1:(Ie.changeParent(se),!0)}destroy(){var se,be;((se=ge(this,ie).getActive())==null?void 0:se.parent)===this&&(ge(this,ie).commitOrRemove(),ge(this,ie).setActiveEditor(null));for(const Ae of ge(this,_e).values())(be=ge(this,b))==null||be.removePointerInTextLayer(Ae.contentDiv),Ae.setParent(null),Ae.isAttachedToDOM=!1,Ae.div.remove();this.div=null,ge(this,_e).clear(),ge(this,ie).removeLayer(this)}render({viewport:se}){this.viewport=se,(0,f.setLayerDimensions)(this.div,se);for(const be of ge(this,ie).getEditors(this.pageIndex))this.add(be);this.updateMode()}update({viewport:se}){ge(this,ie).commitOrRemove(),this.viewport=se,(0,f.setLayerDimensions)(this.div,{rotation:se.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:se,pageHeight:be}=this.viewport.rawDims;return[se,be]}};b=new WeakMap,me=new WeakMap,Se=new WeakMap,te=new WeakMap,$=new WeakMap,_e=new WeakMap,j=new WeakMap,g=new WeakMap,ee=new WeakMap,ie=new WeakMap,q=new WeakSet,kn=function(se){switch(ge(this,ie).getMode()){case a.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(se);case a.AnnotationEditorType.INK:return new d.InkEditor(se);case a.AnnotationEditorType.STAMP:return new re.StampEditor(se)}return null},dn=function(se,be){const Ae=this.getNextId(),Ie=We(this,q,kn).call(this,{parent:this,id:Ae,x:se.offsetX,y:se.offsetY,uiManager:ge(this,ie),isCentered:be});return Ie&&this.add(Ie),Ie},Fn=function(){const{x:se,y:be,width:Ae,height:Ie}=this.div.getBoundingClientRect(),Re=Math.max(0,se),Fe=Math.max(0,be),Ce=Math.min(window.innerWidth,se+Ae),ke=Math.min(window.innerHeight,be+Ie),we=(Re+Ce)/2-se,Pe=(Fe+ke)/2-be,[fe,ye]=this.viewport.rotation%180===0?[we,Pe]:[Pe,we];return{offsetX:fe,offsetY:ye}},Nn=function(){Ze(this,g,!0);for(const se of ge(this,_e).values())se.isEmpty()&&se.remove();Ze(this,g,!1)},Lt(ce,"_initialized",!1);let _=ce;i.AnnotationEditorLayer=_},(e,i,o)=>{var re,_,b,me,Se,te,$,_e,j,g,fr,pr,_r,tn,Bn,mr,Un;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var a=o(1),c=o(5),h=o(4),d=o(29);const ce=class ce extends h.AnnotationEditor{constructor(be){super({...be,name:"freeTextEditor"});Qe(this,g);Qe(this,re,this.editorDivBlur.bind(this));Qe(this,_,this.editorDivFocus.bind(this));Qe(this,b,this.editorDivInput.bind(this));Qe(this,me,this.editorDivKeydown.bind(this));Qe(this,Se);Qe(this,te,"");Qe(this,$,`${this.id}-editor`);Qe(this,_e);Qe(this,j,null);Ze(this,Se,be.color||ce._defaultColor||h.AnnotationEditor._defaultLineColor),Ze(this,_e,be.fontSize||ce._defaultFontSize)}static get _keyboardManager(){const be=ce.prototype,Ae=Fe=>Fe.isEmpty(),Ie=c.AnnotationEditorUIManager.TRANSLATE_SMALL,Re=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],be.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],be.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],be._translateEmpty,{args:[-Ie,0],checker:Ae}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],be._translateEmpty,{args:[-Re,0],checker:Ae}],[["ArrowRight","mac+ArrowRight"],be._translateEmpty,{args:[Ie,0],checker:Ae}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],be._translateEmpty,{args:[Re,0],checker:Ae}],[["ArrowUp","mac+ArrowUp"],be._translateEmpty,{args:[0,-Ie],checker:Ae}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],be._translateEmpty,{args:[0,-Re],checker:Ae}],[["ArrowDown","mac+ArrowDown"],be._translateEmpty,{args:[0,Ie],checker:Ae}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],be._translateEmpty,{args:[0,Re],checker:Ae}]]))}static initialize(be){h.AnnotationEditor.initialize(be,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ae=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ae.getPropertyValue("--freetext-padding"))}static updateDefaultParams(be,Ae){switch(be){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ce._defaultFontSize=Ae;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ce._defaultColor=Ae;break}}updateParams(be,Ae){switch(be){case a.AnnotationEditorParamsType.FREETEXT_SIZE:We(this,g,fr).call(this,Ae);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:We(this,g,pr).call(this,Ae);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ce._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ce._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ge(this,_e)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ge(this,Se)]]}_translateEmpty(be,Ae){this._uiManager.translateSelectedEditors(be,Ae,!0)}getInitialTranslation(){const be=this.parentScale;return[-ce._internalPadding*be,-(ce._internalPadding+ge(this,_e))*be]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ge(this,me)),this.editorDiv.addEventListener("focus",ge(this,_)),this.editorDiv.addEventListener("blur",ge(this,re)),this.editorDiv.addEventListener("input",ge(this,b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ge(this,$)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",ge(this,me)),this.editorDiv.removeEventListener("focus",ge(this,_)),this.editorDiv.removeEventListener("blur",ge(this,re)),this.editorDiv.removeEventListener("input",ge(this,b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(be){this._focusEventsAllowed&&(super.focusin(be),be.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var be;if(this.width){We(this,g,Un).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(be=this._initialOptions)!=null&&be.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const be=ge(this,te),Ae=Ze(this,te,We(this,g,_r).call(this).trimEnd());if(be===Ae)return;const Ie=Re=>{if(Ze(this,te,Re),!Re){this.remove();return}We(this,g,Bn).call(this),this._uiManager.rebuild(this),We(this,g,tn).call(this)};this.addCommands({cmd:()=>{Ie(Ae)},undo:()=>{Ie(be)},mustExec:!1}),We(this,g,tn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(be){this.enterInEditMode()}keydown(be){be.target===this.div&&be.key==="Enter"&&(this.enterInEditMode(),be.preventDefault())}editorDivKeydown(be){ce._keyboardManager.exec(this,be)}editorDivFocus(be){this.isEditing=!0}editorDivBlur(be){this.isEditing=!1}editorDivInput(be){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let be,Ae;this.width&&(be=this.x,Ae=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ge(this,$)),this.enableEditing(),h.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Re=>{var Fe;return(Fe=this.editorDiv)==null?void 0:Fe.setAttribute("aria-label",Re)}),h.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Re=>{var Fe;return(Fe=this.editorDiv)==null?void 0:Fe.setAttribute("default-content",Re)}),this.editorDiv.contentEditable=!0;const{style:Ie}=this.editorDiv;if(Ie.fontSize=`calc(${ge(this,_e)}px * var(--scale-factor))`,Ie.color=ge(this,Se),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Re,Fe]=this.parentDimensions;if(this.annotationElementId){const{position:Ce}=ge(this,j);let[ke,we]=this.getInitialTranslation();[ke,we]=this.pageTranslationToScreen(ke,we);const[Pe,fe]=this.pageDimensions,[ye,ae]=this.pageTranslation;let de,ve;switch(this.rotation){case 0:de=be+(Ce[0]-ye)/Pe,ve=Ae+this.height-(Ce[1]-ae)/fe;break;case 90:de=be+(Ce[0]-ye)/Pe,ve=Ae-(Ce[1]-ae)/fe,[ke,we]=[we,-ke];break;case 180:de=be-this.width+(Ce[0]-ye)/Pe,ve=Ae-(Ce[1]-ae)/fe,[ke,we]=[-ke,-we];break;case 270:de=be+(Ce[0]-ye-this.height*fe)/Pe,ve=Ae+(Ce[1]-ae-this.width*Pe)/fe,[ke,we]=[-we,ke];break}this.setAt(de*Re,ve*Fe,ke,we)}else this.setAt(be*Re,Ae*Fe,this.width*Re,this.height*Fe);We(this,g,Bn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(be,Ae,Ie){let Re=null;if(be instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ce,fontColor:ke},rect:we,rotation:Pe,id:fe},textContent:ye,textPosition:ae,parent:{page:{pageNumber:de}}}=be;if(!ye||ye.length===0)return null;Re=be={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(ke),fontSize:Ce,value:ye.join(`
`),position:ae,pageIndex:de-1,rect:we,rotation:Pe,id:fe,deleted:!1}}const Fe=super.deserialize(be,Ae,Ie);return Ze(Fe,_e,be.fontSize),Ze(Fe,Se,a.Util.makeHexColor(...be.color)),Ze(Fe,te,be.value),Fe.annotationElementId=be.id||null,Ze(Fe,j,Re),Fe}serialize(be=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ae=ce._internalPadding*this.parentScale,Ie=this.getRect(Ae,Ae),Re=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ge(this,Se)),Fe={annotationType:a.AnnotationEditorType.FREETEXT,color:Re,fontSize:ge(this,_e),value:ge(this,te),pageIndex:this.pageIndex,rect:Ie,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return be?Fe:this.annotationElementId&&!We(this,g,mr).call(this,Fe)?null:(Fe.id=this.annotationElementId,Fe)}};re=new WeakMap,_=new WeakMap,b=new WeakMap,me=new WeakMap,Se=new WeakMap,te=new WeakMap,$=new WeakMap,_e=new WeakMap,j=new WeakMap,g=new WeakSet,fr=function(be){const Ae=Re=>{this.editorDiv.style.fontSize=`calc(${Re}px * var(--scale-factor))`,this.translate(0,-(Re-ge(this,_e))*this.parentScale),Ze(this,_e,Re),We(this,g,tn).call(this)},Ie=ge(this,_e);this.addCommands({cmd:()=>{Ae(be)},undo:()=>{Ae(Ie)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pr=function(be){const Ae=ge(this,Se);this.addCommands({cmd:()=>{Ze(this,Se,this.editorDiv.style.color=be)},undo:()=>{Ze(this,Se,this.editorDiv.style.color=Ae)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_r=function(){const be=this.editorDiv.getElementsByTagName("div");if(be.length===0)return this.editorDiv.innerText;const Ae=[];for(const Ie of be)Ae.push(Ie.innerText.replace(/\r\n?|\n/,""));return Ae.join(`
`)},tn=function(){const[be,Ae]=this.parentDimensions;let Ie;if(this.isAttachedToDOM)Ie=this.div.getBoundingClientRect();else{const{currentLayer:Re,div:Fe}=this,Ce=Fe.style.display;Fe.style.display="hidden",Re.div.append(this.div),Ie=Fe.getBoundingClientRect(),Fe.remove(),Fe.style.display=Ce}this.rotation%180===this.parentRotation%180?(this.width=Ie.width/be,this.height=Ie.height/Ae):(this.width=Ie.height/be,this.height=Ie.width/Ae),this.fixAndSetPosition()},Bn=function(){if(this.editorDiv.replaceChildren(),!!ge(this,te))for(const be of ge(this,te).split(`
`)){const Ae=document.createElement("div");Ae.append(be?document.createTextNode(be):document.createElement("br")),this.editorDiv.append(Ae)}},mr=function(be){const{value:Ae,fontSize:Ie,color:Re,rect:Fe,pageIndex:Ce}=ge(this,j);return be.value!==Ae||be.fontSize!==Ie||be.rect.some((ke,we)=>Math.abs(ke-Fe[we])>=1)||be.color.some((ke,we)=>ke!==Re[we])||be.pageIndex!==Ce},Un=function(be=!1){if(!this.annotationElementId)return;if(We(this,g,tn).call(this),!be&&(this.width===0||this.height===0)){setTimeout(()=>We(this,g,Un).call(this,!0),0);return}const Ae=ce._internalPadding*this.parentScale;ge(this,j).rect=this.getRect(Ae,Ae)},Lt(ce,"_freeTextDefaultContent",""),Lt(ce,"_internalPadding",0),Lt(ce,"_defaultColor",null),Lt(ce,"_defaultFontSize",10),Lt(ce,"_type","freetext");let f=ce;i.FreeTextEditor=f},(e,i,o)=>{var ve,m,Vt,gr,Me,Le,Ue,Xe,Ve,Ke,ze,Ge,Oe,$e,He,Ye,nt,ot,st,Be,ct,dt,vr,hn,zn,Gn,gt,Tt,Rt,lt,Je,et,mt,Vn,$t,Ne,it,ht,br,Hn;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var a=o(1),c=o(6),h=o(3),d=o(30),f=o(31),re=o(32);const _=1e3,b=9,me=new WeakSet;function Se(pt){return{width:pt[2]-pt[0],height:pt[3]-pt[1]}}class te{static create(De){switch(De.data.annotationType){case a.AnnotationType.LINK:return new _e(De);case a.AnnotationType.TEXT:return new j(De);case a.AnnotationType.WIDGET:switch(De.data.fieldType){case"Tx":return new ee(De);case"Btn":return De.data.radioButton?new ne(De):De.data.checkBox?new q(De):new he(De);case"Ch":return new le(De);case"Sig":return new ie(De)}return new g(De);case a.AnnotationType.POPUP:return new oe(De);case a.AnnotationType.FREETEXT:return new xe(De);case a.AnnotationType.LINE:return new se(De);case a.AnnotationType.SQUARE:return new be(De);case a.AnnotationType.CIRCLE:return new Ae(De);case a.AnnotationType.POLYLINE:return new Ie(De);case a.AnnotationType.CARET:return new Fe(De);case a.AnnotationType.INK:return new Ce(De);case a.AnnotationType.POLYGON:return new Re(De);case a.AnnotationType.HIGHLIGHT:return new ke(De);case a.AnnotationType.UNDERLINE:return new we(De);case a.AnnotationType.SQUIGGLY:return new Pe(De);case a.AnnotationType.STRIKEOUT:return new fe(De);case a.AnnotationType.STAMP:return new ye(De);case a.AnnotationType.FILEATTACHMENT:return new ae(De);default:return new $(De)}}}const ue=class ue{constructor(De,{isRenderable:je=!1,ignoreBorder:qe=!1,createQuadrilaterals:tt=!1}={}){Qe(this,ve,!1);this.isRenderable=je,this.data=De.data,this.layer=De.layer,this.linkService=De.linkService,this.downloadManager=De.downloadManager,this.imageResourcesPath=De.imageResourcesPath,this.renderForms=De.renderForms,this.svgFactory=De.svgFactory,this.annotationStorage=De.annotationStorage,this.enableScripting=De.enableScripting,this.hasJSActions=De.hasJSActions,this._fieldObjects=De.fieldObjects,this.parent=De.parent,je&&(this.container=this._createContainer(qe)),tt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:De,contentsObj:je,richText:qe}){return!!(De!=null&&De.str||je!=null&&je.str||qe!=null&&qe.str)}get hasPopupData(){return ue._hasPopupData(this.data)}_createContainer(De){const{data:je,parent:{page:qe,viewport:tt}}=this,rt=document.createElement("section");rt.setAttribute("data-annotation-id",je.id),this instanceof g||(rt.tabIndex=_),rt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&rt.setAttribute("aria-haspopup","dialog"),je.noRotate&&rt.classList.add("norotate");const{pageWidth:at,pageHeight:ut,pageX:Et,pageY:vt}=tt.rawDims;if(!je.rect||this instanceof oe){const{rotation:Ct}=je;return!je.hasOwnCanvas&&Ct!==0&&this.setRotation(Ct,rt),rt}const{width:ft,height:Pt}=Se(je.rect),bt=a.Util.normalizeRect([je.rect[0],qe.view[3]-je.rect[1]+qe.view[1],je.rect[2],qe.view[3]-je.rect[3]+qe.view[1]]);if(!De&&je.borderStyle.width>0){rt.style.borderWidth=`${je.borderStyle.width}px`;const Ct=je.borderStyle.horizontalCornerRadius,Mt=je.borderStyle.verticalCornerRadius;if(Ct>0||Mt>0){const Dt=`calc(${Ct}px * var(--scale-factor)) / calc(${Mt}px * var(--scale-factor))`;rt.style.borderRadius=Dt}else if(this instanceof ne){const Dt=`calc(${ft}px * var(--scale-factor)) / calc(${Pt}px * var(--scale-factor))`;rt.style.borderRadius=Dt}switch(je.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:rt.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:rt.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:rt.style.borderBottomStyle="solid";break}const It=je.borderColor||null;It?(Ze(this,ve,!0),rt.style.borderColor=a.Util.makeHexColor(It[0]|0,It[1]|0,It[2]|0)):rt.style.borderWidth=0}rt.style.left=`${100*(bt[0]-Et)/at}%`,rt.style.top=`${100*(bt[1]-vt)/ut}%`;const{rotation:St}=je;return je.hasOwnCanvas||St===0?(rt.style.width=`${100*ft/at}%`,rt.style.height=`${100*Pt/ut}%`):this.setRotation(St,rt),rt}setRotation(De,je=this.container){if(!this.data.rect)return;const{pageWidth:qe,pageHeight:tt}=this.parent.viewport.rawDims,{width:rt,height:at}=Se(this.data.rect);let ut,Et;De%180===0?(ut=100*rt/qe,Et=100*at/tt):(ut=100*at/qe,Et=100*rt/tt),je.style.width=`${ut}%`,je.style.height=`${Et}%`,je.setAttribute("data-main-rotation",(360-De)%360)}get _commonActions(){const De=(je,qe,tt)=>{const rt=tt.detail[je],at=rt[0],ut=rt.slice(1);tt.target.style[qe]=d.ColorConverters[`${at}_HTML`](ut),this.annotationStorage.setValue(this.data.id,{[qe]:d.ColorConverters[`${at}_rgb`](ut)})};return(0,a.shadow)(this,"_commonActions",{display:je=>{const{display:qe}=je.detail,tt=qe%2===1;this.container.style.visibility=tt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:tt,noPrint:qe===1||qe===2})},print:je=>{this.annotationStorage.setValue(this.data.id,{noPrint:!je.detail.print})},hidden:je=>{const{hidden:qe}=je.detail;this.container.style.visibility=qe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:qe,noView:qe})},focus:je=>{setTimeout(()=>je.target.focus({preventScroll:!1}),0)},userName:je=>{je.target.title=je.detail.userName},readonly:je=>{je.target.disabled=je.detail.readonly},required:je=>{this._setRequired(je.target,je.detail.required)},bgColor:je=>{De("bgColor","backgroundColor",je)},fillColor:je=>{De("fillColor","backgroundColor",je)},fgColor:je=>{De("fgColor","color",je)},textColor:je=>{De("textColor","color",je)},borderColor:je=>{De("borderColor","borderColor",je)},strokeColor:je=>{De("strokeColor","borderColor",je)},rotation:je=>{const qe=je.detail.rotation;this.setRotation(qe),this.annotationStorage.setValue(this.data.id,{rotation:qe})}})}_dispatchEventFromSandbox(De,je){const qe=this._commonActions;for(const tt of Object.keys(je.detail)){const rt=De[tt]||qe[tt];rt==null||rt(je)}}_setDefaultPropertiesFromJS(De){if(!this.enableScripting)return;const je=this.annotationStorage.getRawValue(this.data.id);if(!je)return;const qe=this._commonActions;for(const[tt,rt]of Object.entries(je)){const at=qe[tt];if(at){const ut={detail:{[tt]:rt},target:De};at(ut),delete je[tt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:De}=this.data;if(!De)return;const[je,qe,tt,rt]=this.data.rect;if(De.length===1){const[,{x:Mt,y:It},{x:Dt,y:Ft}]=De[0];if(tt===Mt&&rt===It&&je===Dt&&qe===Ft)return}const{style:at}=this.container;let ut;if(ge(this,ve)){const{borderColor:Mt,borderWidth:It}=at;at.borderWidth=0,ut=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mt}" stroke-width="${It}">`],this.container.classList.add("hasBorder")}const Et=tt-je,vt=rt-qe,{svgFactory:ft}=this,Pt=ft.createElement("svg");Pt.classList.add("quadrilateralsContainer"),Pt.setAttribute("width",0),Pt.setAttribute("height",0);const bt=ft.createElement("defs");Pt.append(bt);const St=ft.createElement("clipPath"),Ct=`clippath_${this.data.id}`;St.setAttribute("id",Ct),St.setAttribute("clipPathUnits","objectBoundingBox"),bt.append(St);for(const[,{x:Mt,y:It},{x:Dt,y:Ft}]of De){const kt=ft.createElement("rect"),Bt=(Dt-je)/Et,zt=(rt-It)/vt,Gt=(Mt-Dt)/Et,er=(It-Ft)/vt;kt.setAttribute("x",Bt),kt.setAttribute("y",zt),kt.setAttribute("width",Gt),kt.setAttribute("height",er),St.append(kt),ut==null||ut.push(`<rect vector-effect="non-scaling-stroke" x="${Bt}" y="${zt}" width="${Gt}" height="${er}"/>`)}ge(this,ve)&&(ut.push("</g></svg>')"),at.backgroundImage=ut.join("")),this.container.append(Pt),this.container.style.clipPath=`url(#${Ct})`}_createPopup(){const{container:De,data:je}=this;De.setAttribute("aria-haspopup","dialog");const qe=new oe({data:{color:je.color,titleObj:je.titleObj,modificationDate:je.modificationDate,contentsObj:je.contentsObj,richText:je.richText,parentRect:je.rect,borderStyle:0,id:`popup_${je.id}`,rotation:je.rotation},parent:this.parent,elements:[this]});this.parent.div.append(qe.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(De,je=null){const qe=[];if(this._fieldObjects){const tt=this._fieldObjects[De];if(tt)for(const{page:rt,id:at,exportValues:ut}of tt){if(rt===-1||at===je)continue;const Et=typeof ut=="string"?ut:null,vt=document.querySelector(`[data-element-id="${at}"]`);if(vt&&!me.has(vt)){(0,a.warn)(`_getElementsByName - element not allowed: ${at}`);continue}qe.push({id:at,exportValue:Et,domElement:vt})}return qe}for(const tt of document.getElementsByName(De)){const{exportValue:rt}=tt,at=tt.getAttribute("data-element-id");at!==je&&me.has(tt)&&qe.push({id:at,exportValue:rt,domElement:tt})}return qe}show(){var De;this.container&&(this.container.hidden=!1),(De=this.popup)==null||De.maybeShow()}hide(){var De;this.container&&(this.container.hidden=!0),(De=this.popup)==null||De.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const De=this.getElementsToTriggerPopup();if(Array.isArray(De))for(const je of De)je.classList.add("highlightArea");else De.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:De,data:{id:je}}=this;this.container.addEventListener("dblclick",()=>{var qe;(qe=this.linkService.eventBus)==null||qe.dispatch("switchannotationeditormode",{source:this,mode:De,editId:je})})}};ve=new WeakMap;let $=ue;class _e extends ${constructor(je,qe=null){super(je,{isRenderable:!0,ignoreBorder:!!(qe!=null&&qe.ignoreBorder),createQuadrilaterals:!0});Qe(this,m);this.isTooltipOnly=je.data.isTooltipOnly}render(){const{data:je,linkService:qe}=this,tt=document.createElement("a");tt.setAttribute("data-element-id",je.id);let rt=!1;return je.url?(qe.addLinkAttributes(tt,je.url,je.newWindow),rt=!0):je.action?(this._bindNamedAction(tt,je.action),rt=!0):je.attachment?(this._bindAttachment(tt,je.attachment),rt=!0):je.setOCGState?(We(this,m,gr).call(this,tt,je.setOCGState),rt=!0):je.dest?(this._bindLink(tt,je.dest),rt=!0):(je.actions&&(je.actions.Action||je.actions["Mouse Up"]||je.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(tt,je),rt=!0),je.resetForm?(this._bindResetFormAction(tt,je.resetForm),rt=!0):this.isTooltipOnly&&!rt&&(this._bindLink(tt,""),rt=!0)),this.container.classList.add("linkAnnotation"),rt&&this.container.append(tt),this.container}_bindLink(je,qe){je.href=this.linkService.getDestinationHash(qe),je.onclick=()=>(qe&&this.linkService.goToDestination(qe),!1),(qe||qe==="")&&We(this,m,Vt).call(this)}_bindNamedAction(je,qe){je.href=this.linkService.getAnchorUrl(""),je.onclick=()=>(this.linkService.executeNamedAction(qe),!1),We(this,m,Vt).call(this)}_bindAttachment(je,qe){je.href=this.linkService.getAnchorUrl(""),je.onclick=()=>{var tt;return(tt=this.downloadManager)==null||tt.openOrDownloadData(this.container,qe.content,qe.filename),!1},We(this,m,Vt).call(this)}_bindJSAction(je,qe){je.href=this.linkService.getAnchorUrl("");const tt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const rt of Object.keys(qe.actions)){const at=tt.get(rt);at&&(je[at]=()=>{var ut;return(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qe.id,name:rt}}),!1})}je.onclick||(je.onclick=()=>!1),We(this,m,Vt).call(this)}_bindResetFormAction(je,qe){const tt=je.onclick;if(tt||(je.href=this.linkService.getAnchorUrl("")),We(this,m,Vt).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),tt||(je.onclick=()=>!1);return}je.onclick=()=>{var Pt;tt==null||tt();const{fields:rt,refs:at,include:ut}=qe,Et=[];if(rt.length!==0||at.length!==0){const bt=new Set(at);for(const St of rt){const Ct=this._fieldObjects[St]||[];for(const{id:Mt}of Ct)bt.add(Mt)}for(const St of Object.values(this._fieldObjects))for(const Ct of St)bt.has(Ct.id)===ut&&Et.push(Ct)}else for(const bt of Object.values(this._fieldObjects))Et.push(...bt);const vt=this.annotationStorage,ft=[];for(const bt of Et){const{id:St}=bt;switch(ft.push(St),bt.type){case"text":{const Mt=bt.defaultValue||"";vt.setValue(St,{value:Mt});break}case"checkbox":case"radiobutton":{const Mt=bt.defaultValue===bt.exportValues;vt.setValue(St,{value:Mt});break}case"combobox":case"listbox":{const Mt=bt.defaultValue||"";vt.setValue(St,{value:Mt});break}default:continue}const Ct=document.querySelector(`[data-element-id="${St}"]`);if(Ct){if(!me.has(Ct)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${St}`);continue}}else continue;Ct.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ft,name:"ResetForm"}})),!1}}}m=new WeakSet,Vt=function(){this.container.setAttribute("data-internal-link","")},gr=function(je,qe){je.href=this.linkService.getAnchorUrl(""),je.onclick=()=>(this.linkService.executeSetOCGState(qe),!1),We(this,m,Vt).call(this)};class j extends ${constructor(De){super(De,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const De=document.createElement("img");return De.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",De.alt="[{{type}} Annotation]",De.dataset.l10nId="text_annotation_type",De.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(De),this.container}}class g extends ${render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(De){var je;this.data.hasOwnCanvas&&(((je=De.previousSibling)==null?void 0:je.nodeName)==="CANVAS"&&(De.previousSibling.hidden=!0),De.hidden=!1)}_getKeyModifier(De){const{isWin:je,isMac:qe}=a.FeatureTest.platform;return je&&De.ctrlKey||qe&&De.metaKey}_setEventListener(De,je,qe,tt,rt){qe.includes("mouse")?De.addEventListener(qe,at=>{var ut;(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:tt,value:rt(at),shift:at.shiftKey,modifier:this._getKeyModifier(at)}})}):De.addEventListener(qe,at=>{var ut;if(qe==="blur"){if(!je.focused||!at.relatedTarget)return;je.focused=!1}else if(qe==="focus"){if(je.focused)return;je.focused=!0}rt&&((ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:tt,value:rt(at)}}))})}_setEventListeners(De,je,qe,tt){var rt,at,ut;for(const[Et,vt]of qe)(vt==="Action"||(rt=this.data.actions)!=null&&rt[vt])&&((vt==="Focus"||vt==="Blur")&&(je||(je={focused:!1})),this._setEventListener(De,je,Et,vt,tt),vt==="Focus"&&!((at=this.data.actions)!=null&&at.Blur)?this._setEventListener(De,je,"blur","Blur",null):vt==="Blur"&&!((ut=this.data.actions)!=null&&ut.Focus)&&this._setEventListener(De,je,"focus","Focus",null))}_setBackgroundColor(De){const je=this.data.backgroundColor||null;De.style.backgroundColor=je===null?"transparent":a.Util.makeHexColor(je[0],je[1],je[2])}_setTextStyle(De){const je=["left","center","right"],{fontColor:qe}=this.data.defaultAppearanceData,tt=this.data.defaultAppearanceData.fontSize||b,rt=De.style;let at;const ut=2,Et=vt=>Math.round(10*vt)/10;if(this.data.multiLine){const vt=Math.abs(this.data.rect[3]-this.data.rect[1]-ut),ft=Math.round(vt/(a.LINE_FACTOR*tt))||1,Pt=vt/ft;at=Math.min(tt,Et(Pt/a.LINE_FACTOR))}else{const vt=Math.abs(this.data.rect[3]-this.data.rect[1]-ut);at=Math.min(tt,Et(vt/a.LINE_FACTOR))}rt.fontSize=`calc(${at}px * var(--scale-factor))`,rt.color=a.Util.makeHexColor(qe[0],qe[1],qe[2]),this.data.textAlignment!==null&&(rt.textAlign=je[this.data.textAlignment])}_setRequired(De,je){je?De.setAttribute("required",!0):De.removeAttribute("required"),De.setAttribute("aria-required",je)}}class ee extends g{constructor(De){const je=De.renderForms||!De.data.hasAppearance&&!!De.data.fieldValue;super(De,{isRenderable:je})}setPropertyOnSiblings(De,je,qe,tt){const rt=this.annotationStorage;for(const at of this._getElementsByName(De.name,De.id))at.domElement&&(at.domElement[je]=qe),rt.setValue(at.id,{[tt]:qe})}render(){var tt,rt;const De=this.annotationStorage,je=this.data.id;this.container.classList.add("textWidgetAnnotation");let qe=null;if(this.renderForms){const at=De.getValue(je,{value:this.data.fieldValue});let ut=at.value||"";const Et=De.getValue(je,{charLimit:this.data.maxLen}).charLimit;Et&&ut.length>Et&&(ut=ut.slice(0,Et));let vt=at.formattedValue||((tt=this.data.textContent)==null?void 0:tt.join(`
`))||null;vt&&this.data.comb&&(vt=vt.replaceAll(/\s+/g,""));const ft={userValue:ut,formattedValue:vt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(qe=document.createElement("textarea"),qe.textContent=vt??ut,this.data.doNotScroll&&(qe.style.overflowY="hidden")):(qe=document.createElement("input"),qe.type="text",qe.setAttribute("value",vt??ut),this.data.doNotScroll&&(qe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(qe.hidden=!0),me.add(qe),qe.setAttribute("data-element-id",je),qe.disabled=this.data.readOnly,qe.name=this.data.fieldName,qe.tabIndex=_,this._setRequired(qe,this.data.required),Et&&(qe.maxLength=Et),qe.addEventListener("input",bt=>{De.setValue(je,{value:bt.target.value}),this.setPropertyOnSiblings(qe,"value",bt.target.value,"value"),ft.formattedValue=null}),qe.addEventListener("resetform",bt=>{const St=this.data.defaultFieldValue??"";qe.value=ft.userValue=St,ft.formattedValue=null});let Pt=bt=>{const{formattedValue:St}=ft;St!=null&&(bt.target.value=St),bt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){qe.addEventListener("focus",St=>{if(ft.focused)return;const{target:Ct}=St;ft.userValue&&(Ct.value=ft.userValue),ft.lastCommittedValue=Ct.value,ft.commitKey=1,ft.focused=!0}),qe.addEventListener("updatefromsandbox",St=>{this.showElementAndHideCanvas(St.target);const Ct={value(Mt){ft.userValue=Mt.detail.value??"",De.setValue(je,{value:ft.userValue.toString()}),Mt.target.value=ft.userValue},formattedValue(Mt){const{formattedValue:It}=Mt.detail;ft.formattedValue=It,It!=null&&Mt.target!==document.activeElement&&(Mt.target.value=It),De.setValue(je,{formattedValue:It})},selRange(Mt){Mt.target.setSelectionRange(...Mt.detail.selRange)},charLimit:Mt=>{var kt;const{charLimit:It}=Mt.detail,{target:Dt}=Mt;if(It===0){Dt.removeAttribute("maxLength");return}Dt.setAttribute("maxLength",It);let Ft=ft.userValue;!Ft||Ft.length<=It||(Ft=Ft.slice(0,It),Dt.value=ft.userValue=Ft,De.setValue(je,{value:Ft}),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Ft,willCommit:!0,commitKey:1,selStart:Dt.selectionStart,selEnd:Dt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ct,St)}),qe.addEventListener("keydown",St=>{var It;ft.commitKey=1;let Ct=-1;if(St.key==="Escape"?Ct=0:St.key==="Enter"&&!this.data.multiLine?Ct=2:St.key==="Tab"&&(ft.commitKey=3),Ct===-1)return;const{value:Mt}=St.target;ft.lastCommittedValue!==Mt&&(ft.lastCommittedValue=Mt,ft.userValue=Mt,(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Mt,willCommit:!0,commitKey:Ct,selStart:St.target.selectionStart,selEnd:St.target.selectionEnd}}))});const bt=Pt;Pt=null,qe.addEventListener("blur",St=>{var Mt;if(!ft.focused||!St.relatedTarget)return;ft.focused=!1;const{value:Ct}=St.target;ft.userValue=Ct,ft.lastCommittedValue!==Ct&&((Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Ct,willCommit:!0,commitKey:ft.commitKey,selStart:St.target.selectionStart,selEnd:St.target.selectionEnd}})),bt(St)}),(rt=this.data.actions)!=null&&rt.Keystroke&&qe.addEventListener("beforeinput",St=>{var zt;ft.lastCommittedValue=null;const{data:Ct,target:Mt}=St,{value:It,selectionStart:Dt,selectionEnd:Ft}=Mt;let kt=Dt,Bt=Ft;switch(St.inputType){case"deleteWordBackward":{const Gt=It.substring(0,Dt).match(/\w*[^\w]*$/);Gt&&(kt-=Gt[0].length);break}case"deleteWordForward":{const Gt=It.substring(Dt).match(/^[^\w]*\w*/);Gt&&(Bt+=Gt[0].length);break}case"deleteContentBackward":Dt===Ft&&(kt-=1);break;case"deleteContentForward":Dt===Ft&&(Bt+=1);break}St.preventDefault(),(zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:It,change:Ct||"",willCommit:!1,selStart:kt,selEnd:Bt}})}),this._setEventListeners(qe,ft,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],St=>St.target.value)}if(Pt&&qe.addEventListener("blur",Pt),this.data.comb){const St=(this.data.rect[2]-this.data.rect[0])/Et;qe.classList.add("comb"),qe.style.letterSpacing=`calc(${St}px * var(--scale-factor) - 1ch)`}}else qe=document.createElement("div"),qe.textContent=this.data.fieldValue,qe.style.verticalAlign="middle",qe.style.display="table-cell";return this._setTextStyle(qe),this._setBackgroundColor(qe),this._setDefaultPropertiesFromJS(qe),this.container.append(qe),this.container}}class ie extends g{constructor(De){super(De,{isRenderable:!!De.data.hasOwnCanvas})}}class q extends g{constructor(De){super(De,{isRenderable:De.renderForms})}render(){const De=this.annotationStorage,je=this.data,qe=je.id;let tt=De.getValue(qe,{value:je.exportValue===je.fieldValue}).value;typeof tt=="string"&&(tt=tt!=="Off",De.setValue(qe,{value:tt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const rt=document.createElement("input");return me.add(rt),rt.setAttribute("data-element-id",qe),rt.disabled=je.readOnly,this._setRequired(rt,this.data.required),rt.type="checkbox",rt.name=je.fieldName,tt&&rt.setAttribute("checked",!0),rt.setAttribute("exportValue",je.exportValue),rt.tabIndex=_,rt.addEventListener("change",at=>{const{name:ut,checked:Et}=at.target;for(const vt of this._getElementsByName(ut,qe)){const ft=Et&&vt.exportValue===je.exportValue;vt.domElement&&(vt.domElement.checked=ft),De.setValue(vt.id,{value:ft})}De.setValue(qe,{value:Et})}),rt.addEventListener("resetform",at=>{const ut=je.defaultFieldValue||"Off";at.target.checked=ut===je.exportValue}),this.enableScripting&&this.hasJSActions&&(rt.addEventListener("updatefromsandbox",at=>{const ut={value(Et){Et.target.checked=Et.detail.value!=="Off",De.setValue(qe,{value:Et.target.checked})}};this._dispatchEventFromSandbox(ut,at)}),this._setEventListeners(rt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],at=>at.target.checked)),this._setBackgroundColor(rt),this._setDefaultPropertiesFromJS(rt),this.container.append(rt),this.container}}class ne extends g{constructor(De){super(De,{isRenderable:De.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const De=this.annotationStorage,je=this.data,qe=je.id;let tt=De.getValue(qe,{value:je.fieldValue===je.buttonValue}).value;typeof tt=="string"&&(tt=tt!==je.buttonValue,De.setValue(qe,{value:tt}));const rt=document.createElement("input");if(me.add(rt),rt.setAttribute("data-element-id",qe),rt.disabled=je.readOnly,this._setRequired(rt,this.data.required),rt.type="radio",rt.name=je.fieldName,tt&&rt.setAttribute("checked",!0),rt.tabIndex=_,rt.addEventListener("change",at=>{const{name:ut,checked:Et}=at.target;for(const vt of this._getElementsByName(ut,qe))De.setValue(vt.id,{value:!1});De.setValue(qe,{value:Et})}),rt.addEventListener("resetform",at=>{const ut=je.defaultFieldValue;at.target.checked=ut!=null&&ut===je.buttonValue}),this.enableScripting&&this.hasJSActions){const at=je.buttonValue;rt.addEventListener("updatefromsandbox",ut=>{const Et={value:vt=>{const ft=at===vt.detail.value;for(const Pt of this._getElementsByName(vt.target.name)){const bt=ft&&Pt.id===qe;Pt.domElement&&(Pt.domElement.checked=bt),De.setValue(Pt.id,{value:bt})}}};this._dispatchEventFromSandbox(Et,ut)}),this._setEventListeners(rt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ut=>ut.target.checked)}return this._setBackgroundColor(rt),this._setDefaultPropertiesFromJS(rt),this.container.append(rt),this.container}}class he extends _e{constructor(De){super(De,{ignoreBorder:De.data.hasAppearance})}render(){const De=super.render();De.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(De.title=this.data.alternativeText);const je=De.lastChild;return this.enableScripting&&this.hasJSActions&&je&&(this._setDefaultPropertiesFromJS(je),je.addEventListener("updatefromsandbox",qe=>{this._dispatchEventFromSandbox({},qe)})),De}}class le extends g{constructor(De){super(De,{isRenderable:De.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const De=this.annotationStorage,je=this.data.id,qe=De.getValue(je,{value:this.data.fieldValue}),tt=document.createElement("select");me.add(tt),tt.setAttribute("data-element-id",je),tt.disabled=this.data.readOnly,this._setRequired(tt,this.data.required),tt.name=this.data.fieldName,tt.tabIndex=_;let rt=this.data.combo&&this.data.options.length>0;this.data.combo||(tt.size=this.data.options.length,this.data.multiSelect&&(tt.multiple=!0)),tt.addEventListener("resetform",ft=>{const Pt=this.data.defaultFieldValue;for(const bt of tt.options)bt.selected=bt.value===Pt});for(const ft of this.data.options){const Pt=document.createElement("option");Pt.textContent=ft.displayValue,Pt.value=ft.exportValue,qe.value.includes(ft.exportValue)&&(Pt.setAttribute("selected",!0),rt=!1),tt.append(Pt)}let at=null;if(rt){const ft=document.createElement("option");ft.value=" ",ft.setAttribute("hidden",!0),ft.setAttribute("selected",!0),tt.prepend(ft),at=()=>{ft.remove(),tt.removeEventListener("input",at),at=null},tt.addEventListener("input",at)}const ut=ft=>{const Pt=ft?"value":"textContent",{options:bt,multiple:St}=tt;return St?Array.prototype.filter.call(bt,Ct=>Ct.selected).map(Ct=>Ct[Pt]):bt.selectedIndex===-1?null:bt[bt.selectedIndex][Pt]};let Et=ut(!1);const vt=ft=>{const Pt=ft.target.options;return Array.prototype.map.call(Pt,bt=>({displayValue:bt.textContent,exportValue:bt.value}))};return this.enableScripting&&this.hasJSActions?(tt.addEventListener("updatefromsandbox",ft=>{const Pt={value(bt){at==null||at();const St=bt.detail.value,Ct=new Set(Array.isArray(St)?St:[St]);for(const Mt of tt.options)Mt.selected=Ct.has(Mt.value);De.setValue(je,{value:ut(!0)}),Et=ut(!1)},multipleSelection(bt){tt.multiple=!0},remove(bt){const St=tt.options,Ct=bt.detail.remove;St[Ct].selected=!1,tt.remove(Ct),St.length>0&&Array.prototype.findIndex.call(St,It=>It.selected)===-1&&(St[0].selected=!0),De.setValue(je,{value:ut(!0),items:vt(bt)}),Et=ut(!1)},clear(bt){for(;tt.length!==0;)tt.remove(0);De.setValue(je,{value:null,items:[]}),Et=ut(!1)},insert(bt){const{index:St,displayValue:Ct,exportValue:Mt}=bt.detail.insert,It=tt.children[St],Dt=document.createElement("option");Dt.textContent=Ct,Dt.value=Mt,It?It.before(Dt):tt.append(Dt),De.setValue(je,{value:ut(!0),items:vt(bt)}),Et=ut(!1)},items(bt){const{items:St}=bt.detail;for(;tt.length!==0;)tt.remove(0);for(const Ct of St){const{displayValue:Mt,exportValue:It}=Ct,Dt=document.createElement("option");Dt.textContent=Mt,Dt.value=It,tt.append(Dt)}tt.options.length>0&&(tt.options[0].selected=!0),De.setValue(je,{value:ut(!0),items:vt(bt)}),Et=ut(!1)},indices(bt){const St=new Set(bt.detail.indices);for(const Ct of bt.target.options)Ct.selected=St.has(Ct.index);De.setValue(je,{value:ut(!0)}),Et=ut(!1)},editable(bt){bt.target.disabled=!bt.detail.editable}};this._dispatchEventFromSandbox(Pt,ft)}),tt.addEventListener("input",ft=>{var bt;const Pt=ut(!0);De.setValue(je,{value:Pt}),ft.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Et,changeEx:Pt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(tt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ft=>ft.target.value)):tt.addEventListener("input",function(ft){De.setValue(je,{value:ut(!0)})}),this.data.combo&&this._setTextStyle(tt),this._setBackgroundColor(tt),this._setDefaultPropertiesFromJS(tt),this.container.append(tt),this.container}}class oe extends ${constructor(De){const{data:je,elements:qe}=De;super(De,{isRenderable:$._hasPopupData(je)}),this.elements=qe}render(){this.container.classList.add("popupAnnotation");const De=new ce({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),je=[];for(const qe of this.elements)qe.popup=De,je.push(qe.data.id),qe.addHighlightArea();return this.container.setAttribute("aria-controls",je.map(qe=>`${a.AnnotationPrefix}${qe}`).join(",")),this.container}}class ce{constructor({container:De,color:je,elements:qe,titleObj:tt,modificationDate:rt,contentsObj:at,richText:ut,parent:Et,rect:vt,parentRect:ft,open:Pt}){Qe(this,dt);Qe(this,Me,null);Qe(this,Le,We(this,dt,vr).bind(this));Qe(this,Ue,We(this,dt,Gn).bind(this));Qe(this,Xe,We(this,dt,zn).bind(this));Qe(this,Ve,We(this,dt,hn).bind(this));Qe(this,Ke,null);Qe(this,ze,null);Qe(this,Ge,null);Qe(this,Oe,null);Qe(this,$e,null);Qe(this,He,null);Qe(this,Ye,!1);Qe(this,nt,null);Qe(this,ot,null);Qe(this,st,null);Qe(this,Be,null);Qe(this,ct,!1);var St;Ze(this,ze,De),Ze(this,Be,tt),Ze(this,Ge,at),Ze(this,st,ut),Ze(this,$e,Et),Ze(this,Ke,je),Ze(this,ot,vt),Ze(this,He,ft),Ze(this,Oe,qe);const bt=c.PDFDateString.toDateObject(rt);bt&&Ze(this,Me,Et.l10n.get("annotation_date_string",{date:bt.toLocaleDateString(),time:bt.toLocaleTimeString()})),this.trigger=qe.flatMap(Ct=>Ct.getElementsToTriggerPopup());for(const Ct of this.trigger)Ct.addEventListener("click",ge(this,Ve)),Ct.addEventListener("mouseenter",ge(this,Xe)),Ct.addEventListener("mouseleave",ge(this,Ue)),Ct.classList.add("popupTriggerArea");for(const Ct of qe)(St=Ct.container)==null||St.addEventListener("keydown",ge(this,Le));ge(this,ze).hidden=!0,Pt&&We(this,dt,hn).call(this)}render(){if(ge(this,nt))return;const{page:{view:De},viewport:{rawDims:{pageWidth:je,pageHeight:qe,pageX:tt,pageY:rt}}}=ge(this,$e),at=Ze(this,nt,document.createElement("div"));if(at.className="popup",ge(this,Ke)){const kt=at.style.outlineColor=a.Util.makeHexColor(...ge(this,Ke));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?at.style.backgroundColor=`color-mix(in srgb, ${kt} 30%, white)`:at.style.backgroundColor=a.Util.makeHexColor(...ge(this,Ke).map(zt=>Math.floor(.7*(255-zt)+zt)))}const ut=document.createElement("span");ut.className="header";const Et=document.createElement("h1");if(ut.append(Et),{dir:Et.dir,str:Et.textContent}=ge(this,Be),at.append(ut),ge(this,Me)){const kt=document.createElement("span");kt.classList.add("popupDate"),ge(this,Me).then(Bt=>{kt.textContent=Bt}),ut.append(kt)}const vt=ge(this,Ge),ft=ge(this,st);if(ft!=null&&ft.str&&(!(vt!=null&&vt.str)||vt.str===ft.str))re.XfaLayer.render({xfaHtml:ft.html,intent:"richText",div:at}),at.lastChild.classList.add("richText","popupContent");else{const kt=this._formatContents(vt);at.append(kt)}let Pt=!!ge(this,He),bt=Pt?ge(this,He):ge(this,ot);for(const kt of ge(this,Oe))if(!bt||a.Util.intersect(kt.data.rect,bt)!==null){bt=kt.data.rect,Pt=!0;break}const St=a.Util.normalizeRect([bt[0],De[3]-bt[1]+De[1],bt[2],De[3]-bt[3]+De[1]]),Mt=Pt?bt[2]-bt[0]+5:0,It=St[0]+Mt,Dt=St[1],{style:Ft}=ge(this,ze);Ft.left=`${100*(It-tt)/je}%`,Ft.top=`${100*(Dt-rt)/qe}%`,ge(this,ze).append(at)}_formatContents({str:De,dir:je}){const qe=document.createElement("p");qe.classList.add("popupContent"),qe.dir=je;const tt=De.split(/(?:\r\n?|\n)/);for(let rt=0,at=tt.length;rt<at;++rt){const ut=tt[rt];qe.append(document.createTextNode(ut)),rt<at-1&&qe.append(document.createElement("br"))}return qe}forceHide(){Ze(this,ct,this.isVisible),ge(this,ct)&&(ge(this,ze).hidden=!0)}maybeShow(){ge(this,ct)&&(Ze(this,ct,!1),ge(this,ze).hidden=!1)}get isVisible(){return ge(this,ze).hidden===!1}}Me=new WeakMap,Le=new WeakMap,Ue=new WeakMap,Xe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ge=new WeakMap,Oe=new WeakMap,$e=new WeakMap,He=new WeakMap,Ye=new WeakMap,nt=new WeakMap,ot=new WeakMap,st=new WeakMap,Be=new WeakMap,ct=new WeakMap,dt=new WeakSet,vr=function(De){De.altKey||De.shiftKey||De.ctrlKey||De.metaKey||(De.key==="Enter"||De.key==="Escape"&&ge(this,Ye))&&We(this,dt,hn).call(this)},hn=function(){Ze(this,Ye,!ge(this,Ye)),ge(this,Ye)?(We(this,dt,zn).call(this),ge(this,ze).addEventListener("click",ge(this,Ve)),ge(this,ze).addEventListener("keydown",ge(this,Le))):(We(this,dt,Gn).call(this),ge(this,ze).removeEventListener("click",ge(this,Ve)),ge(this,ze).removeEventListener("keydown",ge(this,Le)))},zn=function(){ge(this,nt)||this.render(),this.isVisible?ge(this,Ye)&&ge(this,ze).classList.add("focused"):(ge(this,ze).hidden=!1,ge(this,ze).style.zIndex=parseInt(ge(this,ze).style.zIndex)+1e3)},Gn=function(){ge(this,ze).classList.remove("focused"),!(ge(this,Ye)||!this.isVisible)&&(ge(this,ze).hidden=!0,ge(this,ze).style.zIndex=parseInt(ge(this,ze).style.zIndex)-1e3)};class xe extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0}),this.textContent=De.data.textContent,this.textPosition=De.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const De=document.createElement("div");De.classList.add("annotationTextContent"),De.setAttribute("role","comment");for(const je of this.textContent){const qe=document.createElement("span");qe.textContent=je,De.append(qe)}this.container.append(De)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=xe;class se extends ${constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,gt,null)}render(){this.container.classList.add("lineAnnotation");const je=this.data,{width:qe,height:tt}=Se(je.rect),rt=this.svgFactory.create(qe,tt,!0),at=Ze(this,gt,this.svgFactory.createElement("svg:line"));return at.setAttribute("x1",je.rect[2]-je.lineCoordinates[0]),at.setAttribute("y1",je.rect[3]-je.lineCoordinates[1]),at.setAttribute("x2",je.rect[2]-je.lineCoordinates[2]),at.setAttribute("y2",je.rect[3]-je.lineCoordinates[3]),at.setAttribute("stroke-width",je.borderStyle.width||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),rt.append(at),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,gt)}addHighlightArea(){this.container.classList.add("highlightArea")}}gt=new WeakMap;class be extends ${constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,Tt,null)}render(){this.container.classList.add("squareAnnotation");const je=this.data,{width:qe,height:tt}=Se(je.rect),rt=this.svgFactory.create(qe,tt,!0),at=je.borderStyle.width,ut=Ze(this,Tt,this.svgFactory.createElement("svg:rect"));return ut.setAttribute("x",at/2),ut.setAttribute("y",at/2),ut.setAttribute("width",qe-at),ut.setAttribute("height",tt-at),ut.setAttribute("stroke-width",at||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,Tt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tt=new WeakMap;class Ae extends ${constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,Rt,null)}render(){this.container.classList.add("circleAnnotation");const je=this.data,{width:qe,height:tt}=Se(je.rect),rt=this.svgFactory.create(qe,tt,!0),at=je.borderStyle.width,ut=Ze(this,Rt,this.svgFactory.createElement("svg:ellipse"));return ut.setAttribute("cx",qe/2),ut.setAttribute("cy",tt/2),ut.setAttribute("rx",qe/2-at/2),ut.setAttribute("ry",tt/2-at/2),ut.setAttribute("stroke-width",at||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,Rt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rt=new WeakMap;class Ie extends ${constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,lt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const je=this.data,{width:qe,height:tt}=Se(je.rect),rt=this.svgFactory.create(qe,tt,!0);let at=[];for(const Et of je.vertices){const vt=Et.x-je.rect[0],ft=je.rect[3]-Et.y;at.push(vt+","+ft)}at=at.join(" ");const ut=Ze(this,lt,this.svgFactory.createElement(this.svgElementName));return ut.setAttribute("points",at),ut.setAttribute("stroke-width",je.borderStyle.width||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,lt)}addHighlightArea(){this.container.classList.add("highlightArea")}}lt=new WeakMap;class Re extends Ie{constructor(De){super(De),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Fe extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ce extends ${constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,Je,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const je=this.data,{width:qe,height:tt}=Se(je.rect),rt=this.svgFactory.create(qe,tt,!0);for(const at of je.inkLists){let ut=[];for(const vt of at){const ft=vt.x-je.rect[0],Pt=je.rect[3]-vt.y;ut.push(`${ft},${Pt}`)}ut=ut.join(" ");const Et=this.svgFactory.createElement(this.svgElementName);ge(this,Je).push(Et),Et.setAttribute("points",ut),Et.setAttribute("stroke-width",je.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),!je.popupRef&&this.hasPopupData&&this._createPopup(),rt.append(Et)}return this.container.append(rt),this.container}getElementsToTriggerPopup(){return ge(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap,i.InkAnnotationElement=Ce;class ke extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class we extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Pe extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class fe extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ye extends ${constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=ye;class ae extends ${constructor(je){var rt;super(je,{isRenderable:!0});Qe(this,mt);Qe(this,et,null);const{filename:qe,content:tt}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(qe,!0),this.content=tt,(rt=this.linkService.eventBus)==null||rt.dispatch("fileattachmentannotation",{source:this,filename:qe,content:tt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:je,data:qe}=this;let tt;qe.hasAppearance||qe.fillAlpha===0?tt=document.createElement("div"):(tt=document.createElement("img"),tt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(qe.name)?"paperclip":"pushpin"}.svg`,qe.fillAlpha&&qe.fillAlpha<1&&(tt.style=`filter: opacity(${Math.round(qe.fillAlpha*100)}%);`)),tt.addEventListener("dblclick",We(this,mt,Vn).bind(this)),Ze(this,et,tt);const{isMac:rt}=a.FeatureTest.platform;return je.addEventListener("keydown",at=>{at.key==="Enter"&&(rt?at.metaKey:at.ctrlKey)&&We(this,mt,Vn).call(this)}),!qe.popupRef&&this.hasPopupData?this._createPopup():tt.classList.add("popupTriggerArea"),je.append(tt),je}getElementsToTriggerPopup(){return ge(this,et)}addHighlightArea(){this.container.classList.add("highlightArea")}}et=new WeakMap,mt=new WeakSet,Vn=function(){var je;(je=this.downloadManager)==null||je.openOrDownloadData(this.container,this.content,this.filename)};class de{constructor({div:De,accessibilityManager:je,annotationCanvasMap:qe,l10n:tt,page:rt,viewport:at}){Qe(this,ht);Qe(this,$t,null);Qe(this,Ne,null);Qe(this,it,new Map);this.div=De,Ze(this,$t,je),Ze(this,Ne,qe),this.l10n=tt,this.page=rt,this.viewport=at,this.zIndex=0,this.l10n||(this.l10n=f.NullL10n)}async render(De){const{annotations:je}=De,qe=this.div;(0,c.setLayerDimensions)(qe,this.viewport);const tt=new Map,rt={data:null,layer:qe,linkService:De.linkService,downloadManager:De.downloadManager,imageResourcesPath:De.imageResourcesPath||"",renderForms:De.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:De.annotationStorage||new h.AnnotationStorage,enableScripting:De.enableScripting===!0,hasJSActions:De.hasJSActions,fieldObjects:De.fieldObjects,parent:this,elements:null};for(const at of je){if(at.noHTML)continue;const ut=at.annotationType===a.AnnotationType.POPUP;if(ut){const ft=tt.get(at.id);if(!ft)continue;rt.elements=ft}else{const{width:ft,height:Pt}=Se(at.rect);if(ft<=0||Pt<=0)continue}rt.data=at;const Et=te.create(rt);if(!Et.isRenderable)continue;if(!ut&&at.popupRef){const ft=tt.get(at.popupRef);ft?ft.push(Et):tt.set(at.popupRef,[Et])}Et.annotationEditorType>0&&ge(this,it).set(Et.data.id,Et);const vt=Et.render();at.hidden&&(vt.style.visibility="hidden"),We(this,ht,br).call(this,vt,at.id)}We(this,ht,Hn).call(this),await this.l10n.translate(qe)}update({viewport:De}){const je=this.div;this.viewport=De,(0,c.setLayerDimensions)(je,{rotation:De.rotation}),We(this,ht,Hn).call(this),je.hidden=!1}getEditableAnnotations(){return Array.from(ge(this,it).values())}getEditableAnnotation(De){return ge(this,it).get(De)}}$t=new WeakMap,Ne=new WeakMap,it=new WeakMap,ht=new WeakSet,br=function(De,je){var tt;const qe=De.firstChild||De;qe.id=`${a.AnnotationPrefix}${je}`,this.div.append(De),(tt=ge(this,$t))==null||tt.moveElementInDOM(this.div,De,qe,!1)},Hn=function(){if(!ge(this,Ne))return;const De=this.div;for(const[je,qe]of ge(this,Ne)){const tt=De.querySelector(`[data-annotation-id="${je}"]`);if(!tt)continue;const{firstChild:rt}=tt;rt?rt.nodeName==="CANVAS"?rt.replaceWith(qe):rt.before(qe):tt.append(qe)}ge(this,Ne).clear()},i.AnnotationLayer=de},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function o(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function a(h){return Math.max(0,Math.min(255,255*h))}class c{static CMYK_G([d,f,re,_]){return["G",1-Math.min(1,.3*d+.59*re+.11*f+_)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const f=o(d);return`#${f}${f}${f}`}static RGB_G([d,f,re]){return["G",.3*d+.59*f+.11*re]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,f,re,_]){return["RGB",1-Math.min(1,d+_),1-Math.min(1,re+_),1-Math.min(1,f+_)]}static CMYK_rgb([d,f,re,_]){return[a(1-Math.min(1,d+_)),a(1-Math.min(1,re+_)),a(1-Math.min(1,f+_))]}static CMYK_HTML(d){const f=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([d,f,re]){const _=1-d,b=1-f,me=1-re,Se=Math.min(_,b,me);return["CMYK",_,b,me,Se]}}i.ColorConverters=c},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=a;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function a(d,f){switch(d){case"find_match_count":d=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return o[d]||""}function c(d,f){return f?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(re,_)=>_ in f?f[_]:"{{"+_+"}}"):d}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,f=null,re=a(d,f)){return c(re,f)},async translate(d){}};i.NullL10n=h},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var a=o(25);class c{static setupStorage(d,f,re,_,b){const me=_.getValue(f,{value:null});switch(re.name){case"textarea":if(me.value!==null&&(d.textContent=me.value),b==="print")break;d.addEventListener("input",Se=>{_.setValue(f,{value:Se.target.value})});break;case"input":if(re.attributes.type==="radio"||re.attributes.type==="checkbox"){if(me.value===re.attributes.xfaOn?d.setAttribute("checked",!0):me.value===re.attributes.xfaOff&&d.removeAttribute("checked"),b==="print")break;d.addEventListener("change",Se=>{_.setValue(f,{value:Se.target.checked?Se.target.getAttribute("xfaOn"):Se.target.getAttribute("xfaOff")})})}else{if(me.value!==null&&d.setAttribute("value",me.value),b==="print")break;d.addEventListener("input",Se=>{_.setValue(f,{value:Se.target.value})})}break;case"select":if(me.value!==null){d.setAttribute("value",me.value);for(const Se of re.children)Se.attributes.value===me.value?Se.attributes.selected=!0:Se.attributes.hasOwnProperty("selected")&&delete Se.attributes.selected}d.addEventListener("input",Se=>{const te=Se.target.options,$=te.selectedIndex===-1?"":te[te.selectedIndex].value;_.setValue(f,{value:$})});break}}static setAttributes({html:d,element:f,storage:re=null,intent:_,linkService:b}){const{attributes:me}=f,Se=d instanceof HTMLAnchorElement;me.type==="radio"&&(me.name=`${me.name}-${_}`);for(const[te,$]of Object.entries(me))if($!=null)switch(te){case"class":$.length&&d.setAttribute(te,$.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",$);break;case"style":Object.assign(d.style,$);break;case"textContent":d.textContent=$;break;default:(!Se||te!=="href"&&te!=="newWindow")&&d.setAttribute(te,$)}Se&&b.addLinkAttributes(d,me.href,me.newWindow),re&&me.dataId&&this.setupStorage(d,me.dataId,f,re)}static render(d){var _e;const f=d.annotationStorage,re=d.linkService,_=d.xfaHtml,b=d.intent||"display",me=document.createElement(_.name);_.attributes&&this.setAttributes({html:me,element:_,intent:b,linkService:re});const Se=[[_,-1,me]],te=d.div;if(te.append(me),d.viewport){const j=`matrix(${d.viewport.transform.join(",")})`;te.style.transform=j}b!=="richText"&&te.setAttribute("class","xfaLayer xfaFont");const $=[];for(;Se.length>0;){const[j,g,ee]=Se.at(-1);if(g+1===j.children.length){Se.pop();continue}const ie=j.children[++Se.at(-1)[1]];if(ie===null)continue;const{name:q}=ie;if(q==="#text"){const he=document.createTextNode(ie.value);$.push(he),ee.append(he);continue}const ne=(_e=ie==null?void 0:ie.attributes)!=null&&_e.xmlns?document.createElementNS(ie.attributes.xmlns,q):document.createElement(q);if(ee.append(ne),ie.attributes&&this.setAttributes({html:ne,element:ie,storage:f,intent:b,linkService:re}),ie.children&&ie.children.length>0)Se.push([ie,-1,ne]);else if(ie.value){const he=document.createTextNode(ie.value);a.XfaText.shouldBuildText(q)&&$.push(he),ne.append(he)}}for(const j of te.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))j.setAttribute("readOnly",!0);return{textDivs:$}}static update(d){const f=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=f,d.div.hidden=!1}}i.XfaLayer=c},(e,i,o)=>{var _,b,me,Se,te,$,_e,j,g,ee,ie,q,ne,he,le,yr,Er,Sr,wr,qn,Ar,Wn,Cr,xr,Pr,Or,Tr,Ut,Yn,fn,pn,Yt,Xn,_n,m,Mr,Kn,$r,jr,Qn,mn,Xt;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var a=o(1),c=o(4),h=o(29),d=o(6),f=o(5);const Ke=class Ke extends c.AnnotationEditor{constructor(Oe){super({...Oe,name:"inkEditor"});Qe(this,le);Qe(this,_,0);Qe(this,b,0);Qe(this,me,this.canvasPointermove.bind(this));Qe(this,Se,this.canvasPointerleave.bind(this));Qe(this,te,this.canvasPointerup.bind(this));Qe(this,$,this.canvasPointerdown.bind(this));Qe(this,_e,new Path2D);Qe(this,j,!1);Qe(this,g,!1);Qe(this,ee,!1);Qe(this,ie,null);Qe(this,q,0);Qe(this,ne,0);Qe(this,he,null);this.color=Oe.color||null,this.thickness=Oe.thickness||null,this.opacity=Oe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Oe){c.AnnotationEditor.initialize(Oe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Oe,$e){switch(Oe){case a.AnnotationEditorParamsType.INK_THICKNESS:Ke._defaultThickness=$e;break;case a.AnnotationEditorParamsType.INK_COLOR:Ke._defaultColor=$e;break;case a.AnnotationEditorParamsType.INK_OPACITY:Ke._defaultOpacity=$e/100;break}}updateParams(Oe,$e){switch(Oe){case a.AnnotationEditorParamsType.INK_THICKNESS:We(this,le,yr).call(this,$e);break;case a.AnnotationEditorParamsType.INK_COLOR:We(this,le,Er).call(this,$e);break;case a.AnnotationEditorParamsType.INK_OPACITY:We(this,le,Sr).call(this,$e);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,Ke._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,Ke._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ke._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ke._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||Ke._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ke._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(We(this,le,fn).call(this),We(this,le,pn).call(this)),this.isAttachedToDOM||(this.parent.add(this),We(this,le,Yt).call(this)),We(this,le,Xt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ge(this,ie).disconnect(),Ze(this,ie,null),super.remove())}setParent(Oe){!this.parent&&Oe?this._uiManager.removeShouldRescale(this):this.parent&&Oe===null&&this._uiManager.addShouldRescale(this),super.setParent(Oe)}onScaleChanging(){const[Oe,$e]=this.parentDimensions,He=this.width*Oe,Ye=this.height*$e;this.setDimensions(He,Ye)}enableEditMode(){ge(this,j)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",ge(this,$)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ge(this,$)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ge(this,j)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ze(this,j,!0),this.div.classList.add("disabled"),We(this,le,Xt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Oe){this._focusEventsAllowed&&(super.focusin(Oe),this.enableEditMode())}canvasPointerdown(Oe){Oe.button!==0||!this.isInEditMode()||ge(this,j)||(this.setInForeground(),Oe.preventDefault(),Oe.type!=="mouse"&&this.div.focus(),We(this,le,Ar).call(this,Oe.offsetX,Oe.offsetY))}canvasPointermove(Oe){Oe.preventDefault(),We(this,le,Wn).call(this,Oe.offsetX,Oe.offsetY)}canvasPointerup(Oe){Oe.preventDefault(),We(this,le,Yn).call(this,Oe)}canvasPointerleave(Oe){We(this,le,Yn).call(this,Oe)}get isResizable(){return!this.isEmpty()&&ge(this,j)}render(){if(this.div)return this.div;let Oe,$e;this.width&&(Oe=this.x,$e=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(st=>{var Be;return(Be=this.div)==null?void 0:Be.setAttribute("aria-label",st)});const[He,Ye,nt,ot]=We(this,le,wr).call(this);if(this.setAt(He,Ye,0,0),this.setDims(nt,ot),We(this,le,fn).call(this),this.width){const[st,Be]=this.parentDimensions;this.setAspectRatio(this.width*st,this.height*Be),this.setAt(Oe*st,$e*Be,this.width*st,this.height*Be),Ze(this,ee,!0),We(this,le,Yt).call(this),this.setDims(this.width*st,this.height*Be),We(this,le,Ut).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return We(this,le,pn).call(this),this.div}setDimensions(Oe,$e){const He=Math.round(Oe),Ye=Math.round($e);if(ge(this,q)===He&&ge(this,ne)===Ye)return;Ze(this,q,He),Ze(this,ne,Ye),this.canvas.style.visibility="hidden";const[nt,ot]=this.parentDimensions;this.width=Oe/nt,this.height=$e/ot,this.fixAndSetPosition(),ge(this,j)&&We(this,le,Xn).call(this,Oe,$e),We(this,le,Yt).call(this),We(this,le,Ut).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Oe,$e,He){var gt,Tt,Rt;if(Oe instanceof h.InkAnnotationElement)return null;const Ye=super.deserialize(Oe,$e,He);Ye.thickness=Oe.thickness,Ye.color=a.Util.makeHexColor(...Oe.color),Ye.opacity=Oe.opacity;const[nt,ot]=Ye.pageDimensions,st=Ye.width*nt,Be=Ye.height*ot,ct=Ye.parentScale,dt=Oe.thickness/2;Ze(Ye,j,!0),Ze(Ye,q,Math.round(st)),Ze(Ye,ne,Math.round(Be));const{paths:xt,rect:At,rotation:Ot}=Oe;for(let{bezier:lt}of xt){lt=We(gt=Ke,m,$r).call(gt,lt,At,Ot);const Je=[];Ye.paths.push(Je);let et=ct*(lt[0]-dt),mt=ct*(lt[1]-dt);for(let $t=2,Ne=lt.length;$t<Ne;$t+=6){const it=ct*(lt[$t]-dt),ht=ct*(lt[$t+1]-dt),yt=ct*(lt[$t+2]-dt),wt=ct*(lt[$t+3]-dt),pt=ct*(lt[$t+4]-dt),De=ct*(lt[$t+5]-dt);Je.push([[et,mt],[it,ht],[yt,wt],[pt,De]]),et=pt,mt=De}const jt=We(this,m,Mr).call(this,Je);Ye.bezierPath2D.push(jt)}const _t=We(Tt=Ye,le,Qn).call(Tt);return Ze(Ye,b,Math.max(c.AnnotationEditor.MIN_SIZE,_t[2]-_t[0])),Ze(Ye,_,Math.max(c.AnnotationEditor.MIN_SIZE,_t[3]-_t[1])),We(Rt=Ye,le,Xn).call(Rt,st,Be),Ye}serialize(){if(this.isEmpty())return null;const Oe=this.getRect(0,0),$e=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:$e,thickness:this.thickness,opacity:this.opacity,paths:We(this,le,jr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Oe),pageIndex:this.pageIndex,rect:Oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,b=new WeakMap,me=new WeakMap,Se=new WeakMap,te=new WeakMap,$=new WeakMap,_e=new WeakMap,j=new WeakMap,g=new WeakMap,ee=new WeakMap,ie=new WeakMap,q=new WeakMap,ne=new WeakMap,he=new WeakMap,le=new WeakSet,yr=function(Oe){const $e=this.thickness;this.addCommands({cmd:()=>{this.thickness=Oe,We(this,le,Xt).call(this)},undo:()=>{this.thickness=$e,We(this,le,Xt).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Er=function(Oe){const $e=this.color;this.addCommands({cmd:()=>{this.color=Oe,We(this,le,Ut).call(this)},undo:()=>{this.color=$e,We(this,le,Ut).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sr=function(Oe){Oe/=100;const $e=this.opacity;this.addCommands({cmd:()=>{this.opacity=Oe,We(this,le,Ut).call(this)},undo:()=>{this.opacity=$e,We(this,le,Ut).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},wr=function(){const{parentRotation:Oe,parentDimensions:[$e,He]}=this;switch(Oe){case 90:return[0,He,He,$e];case 180:return[$e,He,$e,He];case 270:return[$e,0,He,$e];default:return[0,0,$e,He]}},qn=function(){const{ctx:Oe,color:$e,opacity:He,thickness:Ye,parentScale:nt,scaleFactor:ot}=this;Oe.lineWidth=Ye*nt/ot,Oe.lineCap="round",Oe.lineJoin="round",Oe.miterLimit=10,Oe.strokeStyle=`${$e}${(0,f.opacityToHex)(He)}`},Ar=function(Oe,$e){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",ge(this,Se)),this.canvas.addEventListener("pointermove",ge(this,me)),this.canvas.addEventListener("pointerup",ge(this,te)),this.canvas.removeEventListener("pointerdown",ge(this,$)),this.isEditing=!0,ge(this,ee)||(Ze(this,ee,!0),We(this,le,Yt).call(this),this.thickness||(this.thickness=Ke._defaultThickness),this.color||(this.color=Ke._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ke._defaultOpacity)),this.currentPath.push([Oe,$e]),Ze(this,g,!1),We(this,le,qn).call(this),Ze(this,he,()=>{We(this,le,Pr).call(this),ge(this,he)&&window.requestAnimationFrame(ge(this,he))}),window.requestAnimationFrame(ge(this,he))},Wn=function(Oe,$e){const[He,Ye]=this.currentPath.at(-1);if(this.currentPath.length>1&&Oe===He&&$e===Ye)return;const nt=this.currentPath;let ot=ge(this,_e);if(nt.push([Oe,$e]),Ze(this,g,!0),nt.length<=2){ot.moveTo(...nt[0]),ot.lineTo(Oe,$e);return}nt.length===3&&(Ze(this,_e,ot=new Path2D),ot.moveTo(...nt[0])),We(this,le,Or).call(this,ot,...nt.at(-3),...nt.at(-2),Oe,$e)},Cr=function(){if(this.currentPath.length===0)return;const Oe=this.currentPath.at(-1);ge(this,_e).lineTo(...Oe)},xr=function(Oe,$e){Ze(this,he,null),Oe=Math.min(Math.max(Oe,0),this.canvas.width),$e=Math.min(Math.max($e,0),this.canvas.height),We(this,le,Wn).call(this,Oe,$e),We(this,le,Cr).call(this);let He;if(this.currentPath.length!==1)He=We(this,le,Tr).call(this);else{const Be=[Oe,$e];He=[[Be,Be.slice(),Be.slice(),Be]]}const Ye=ge(this,_e),nt=this.currentPath;this.currentPath=[],Ze(this,_e,new Path2D);const ot=()=>{this.allRawPaths.push(nt),this.paths.push(He),this.bezierPath2D.push(Ye),this.rebuild()},st=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(We(this,le,fn).call(this),We(this,le,pn).call(this)),We(this,le,Xt).call(this))};this.addCommands({cmd:ot,undo:st,mustExec:!0})},Pr=function(){if(!ge(this,g))return;Ze(this,g,!1);const Oe=Math.ceil(this.thickness*this.parentScale),$e=this.currentPath.slice(-3),He=$e.map(ot=>ot[0]),Ye=$e.map(ot=>ot[1]);Math.min(...He)-Oe,Math.max(...He)+Oe,Math.min(...Ye)-Oe,Math.max(...Ye)+Oe;const{ctx:nt}=this;nt.save(),nt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ot of this.bezierPath2D)nt.stroke(ot);nt.stroke(ge(this,_e)),nt.restore()},Or=function(Oe,$e,He,Ye,nt,ot,st){const Be=($e+Ye)/2,ct=(He+nt)/2,dt=(Ye+ot)/2,xt=(nt+st)/2;Oe.bezierCurveTo(Be+2*(Ye-Be)/3,ct+2*(nt-ct)/3,dt+2*(Ye-dt)/3,xt+2*(nt-xt)/3,dt,xt)},Tr=function(){const Oe=this.currentPath;if(Oe.length<=2)return[[Oe[0],Oe[0],Oe.at(-1),Oe.at(-1)]];const $e=[];let He,[Ye,nt]=Oe[0];for(He=1;He<Oe.length-2;He++){const[At,Ot]=Oe[He],[_t,gt]=Oe[He+1],Tt=(At+_t)/2,Rt=(Ot+gt)/2,lt=[Ye+2*(At-Ye)/3,nt+2*(Ot-nt)/3],Je=[Tt+2*(At-Tt)/3,Rt+2*(Ot-Rt)/3];$e.push([[Ye,nt],lt,Je,[Tt,Rt]]),[Ye,nt]=[Tt,Rt]}const[ot,st]=Oe[He],[Be,ct]=Oe[He+1],dt=[Ye+2*(ot-Ye)/3,nt+2*(st-nt)/3],xt=[Be+2*(ot-Be)/3,ct+2*(st-ct)/3];return $e.push([[Ye,nt],dt,xt,[Be,ct]]),$e},Ut=function(){if(this.isEmpty()){We(this,le,_n).call(this);return}We(this,le,qn).call(this);const{canvas:Oe,ctx:$e}=this;$e.setTransform(1,0,0,1,0,0),$e.clearRect(0,0,Oe.width,Oe.height),We(this,le,_n).call(this);for(const He of this.bezierPath2D)$e.stroke(He)},Yn=function(Oe){this.canvas.removeEventListener("pointerleave",ge(this,Se)),this.canvas.removeEventListener("pointermove",ge(this,me)),this.canvas.removeEventListener("pointerup",ge(this,te)),this.canvas.addEventListener("pointerdown",ge(this,$)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),We(this,le,xr).call(this,Oe.offsetX,Oe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Oe=>{var $e;return($e=this.canvas)==null?void 0:$e.setAttribute("aria-label",Oe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pn=function(){Ze(this,ie,new ResizeObserver(Oe=>{const $e=Oe[0].contentRect;$e.width&&$e.height&&this.setDimensions($e.width,$e.height)})),ge(this,ie).observe(this.div)},Yt=function(){if(!ge(this,ee))return;const[Oe,$e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Oe),this.canvas.height=Math.ceil(this.height*$e),We(this,le,_n).call(this)},Xn=function(Oe,$e){const He=We(this,le,mn).call(this),Ye=(Oe-He)/ge(this,b),nt=($e-He)/ge(this,_);this.scaleFactor=Math.min(Ye,nt)},_n=function(){const Oe=We(this,le,mn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Oe,this.translationY*this.scaleFactor+Oe)},m=new WeakSet,Mr=function(Oe){const $e=new Path2D;for(let He=0,Ye=Oe.length;He<Ye;He++){const[nt,ot,st,Be]=Oe[He];He===0&&$e.moveTo(...nt),$e.bezierCurveTo(ot[0],ot[1],st[0],st[1],Be[0],Be[1])}return $e},Kn=function(Oe,$e,He){const[Ye,nt,ot,st]=$e;switch(He){case 0:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]+=Ye,Oe[Be+1]=st-Oe[Be+1];break;case 90:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=Oe[Be+1]+Ye,Oe[Be+1]=dt+nt}break;case 180:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]=ot-Oe[Be],Oe[Be+1]+=nt;break;case 270:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=ot-Oe[Be+1],Oe[Be+1]=st-dt}break;default:throw new Error("Invalid rotation")}return Oe},$r=function(Oe,$e,He){const[Ye,nt,ot,st]=$e;switch(He){case 0:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]-=Ye,Oe[Be+1]=st-Oe[Be+1];break;case 90:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=Oe[Be+1]-nt,Oe[Be+1]=dt-Ye}break;case 180:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]=ot-Oe[Be],Oe[Be+1]-=nt;break;case 270:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=st-Oe[Be+1],Oe[Be+1]=ot-dt}break;default:throw new Error("Invalid rotation")}return Oe},jr=function(Oe,$e,He,Ye){var ct,dt;const nt=[],ot=this.thickness/2,st=Oe*$e+ot,Be=Oe*He+ot;for(const xt of this.paths){const At=[],Ot=[];for(let _t=0,gt=xt.length;_t<gt;_t++){const[Tt,Rt,lt,Je]=xt[_t],et=Oe*Tt[0]+st,mt=Oe*Tt[1]+Be,jt=Oe*Rt[0]+st,$t=Oe*Rt[1]+Be,Ne=Oe*lt[0]+st,it=Oe*lt[1]+Be,ht=Oe*Je[0]+st,yt=Oe*Je[1]+Be;_t===0&&(At.push(et,mt),Ot.push(et,mt)),At.push(jt,$t,Ne,it,ht,yt),Ot.push(jt,$t),_t===gt-1&&Ot.push(ht,yt)}nt.push({bezier:We(ct=Ke,m,Kn).call(ct,At,Ye,this.rotation),points:We(dt=Ke,m,Kn).call(dt,Ot,Ye,this.rotation)})}return nt},Qn=function(){let Oe=1/0,$e=-1/0,He=1/0,Ye=-1/0;for(const nt of this.paths)for(const[ot,st,Be,ct]of nt){const dt=a.Util.bezierBoundingBox(...ot,...st,...Be,...ct);Oe=Math.min(Oe,dt[0]),He=Math.min(He,dt[1]),$e=Math.max($e,dt[2]),Ye=Math.max(Ye,dt[3])}return[Oe,He,$e,Ye]},mn=function(){return ge(this,j)?Math.ceil(this.thickness*this.parentScale):0},Xt=function(Oe=!1){if(this.isEmpty())return;if(!ge(this,j)){We(this,le,Ut).call(this);return}const $e=We(this,le,Qn).call(this),He=We(this,le,mn).call(this);Ze(this,b,Math.max(c.AnnotationEditor.MIN_SIZE,$e[2]-$e[0])),Ze(this,_,Math.max(c.AnnotationEditor.MIN_SIZE,$e[3]-$e[1]));const Ye=Math.ceil(He+ge(this,b)*this.scaleFactor),nt=Math.ceil(He+ge(this,_)*this.scaleFactor),[ot,st]=this.parentDimensions;this.width=Ye/ot,this.height=nt/st,this.setAspectRatio(Ye,nt);const Be=this.translationX,ct=this.translationY;this.translationX=-$e[0],this.translationY=-$e[1],We(this,le,Yt).call(this),We(this,le,Ut).call(this),Ze(this,q,Ye),Ze(this,ne,nt),this.setDims(Ye,nt);const dt=Oe?He/this.scaleFactor/2:0;this.translate(Be-this.translationX-dt,ct-this.translationY-dt)},Qe(Ke,m),Lt(Ke,"_defaultColor",null),Lt(Ke,"_defaultOpacity",1),Lt(Ke,"_defaultThickness",1),Lt(Ke,"_type","ink");let re=Ke;i.InkEditor=re},(e,i,o)=>{var re,_,b,me,Se,te,$,_e,j,g,ee,nn,rn,gn,Jn,Rr,Ir,Zn,vn,Dr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var a=o(1),c=o(4),h=o(6),d=o(29);const be=class be extends c.AnnotationEditor{constructor(Re){super({...Re,name:"stampEditor"});Qe(this,ee);Qe(this,re,null);Qe(this,_,null);Qe(this,b,null);Qe(this,me,null);Qe(this,Se,null);Qe(this,te,null);Qe(this,$,null);Qe(this,_e,null);Qe(this,j,!1);Qe(this,g,!1);Ze(this,me,Re.bitmapUrl),Ze(this,Se,Re.bitmapFile)}static initialize(Re){c.AnnotationEditor.initialize(Re)}static get supportedTypes(){const Re=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",Re.map(Fe=>`image/${Fe}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Re){return this.supportedTypes.includes(Re)}static paste(Re,Fe){Fe.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:Re.getAsFile()})}remove(){var Re,Fe;ge(this,_)&&(Ze(this,re,null),this._uiManager.imageManager.deleteId(ge(this,_)),(Re=ge(this,te))==null||Re.remove(),Ze(this,te,null),(Fe=ge(this,$))==null||Fe.disconnect(),Ze(this,$,null)),super.remove()}rebuild(){if(!this.parent){ge(this,_)&&We(this,ee,gn).call(this);return}super.rebuild(),this.div!==null&&(ge(this,_)&&We(this,ee,gn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(ge(this,b)||ge(this,re)||ge(this,me)||ge(this,Se))}get isResizable(){return!0}render(){if(this.div)return this.div;let Re,Fe;if(this.width&&(Re=this.x,Fe=this.y),super.render(),this.div.hidden=!0,ge(this,re)?We(this,ee,Jn).call(this):We(this,ee,gn).call(this),this.width){const[Ce,ke]=this.parentDimensions;this.setAt(Re*Ce,Fe*ke,this.width*Ce,this.height*ke)}return this.div}static deserialize(Re,Fe,Ce){if(Re instanceof d.StampAnnotationElement)return null;const ke=super.deserialize(Re,Fe,Ce),{rect:we,bitmapUrl:Pe,bitmapId:fe,isSvg:ye,accessibilityData:ae}=Re;fe&&Ce.imageManager.isValidId(fe)?Ze(ke,_,fe):Ze(ke,me,Pe),Ze(ke,j,ye);const[de,ve]=ke.pageDimensions;return ke.width=(we[2]-we[0])/de,ke.height=(we[3]-we[1])/ve,ae&&(ke.altTextData=ae),ke}serialize(Re=!1,Fe=null){if(this.isEmpty())return null;const Ce={annotationType:a.AnnotationEditorType.STAMP,bitmapId:ge(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:ge(this,j),structTreeParentId:this._structTreeParentId};if(Re)return Ce.bitmapUrl=We(this,ee,vn).call(this,!0),Ce.accessibilityData=this.altTextData,Ce;const{decorative:ke,altText:we}=this.altTextData;if(!ke&&we&&(Ce.accessibilityData={type:"Figure",alt:we}),Fe===null)return Ce;Fe.stamps||(Fe.stamps=new Map);const Pe=ge(this,j)?(Ce.rect[2]-Ce.rect[0])*(Ce.rect[3]-Ce.rect[1]):null;if(!Fe.stamps.has(ge(this,_)))Fe.stamps.set(ge(this,_),{area:Pe,serialized:Ce}),Ce.bitmap=We(this,ee,vn).call(this,!1);else if(ge(this,j)){const fe=Fe.stamps.get(ge(this,_));Pe>fe.area&&(fe.area=Pe,fe.serialized.bitmap.close(),fe.serialized.bitmap=We(this,ee,vn).call(this,!1))}return Ce}};re=new WeakMap,_=new WeakMap,b=new WeakMap,me=new WeakMap,Se=new WeakMap,te=new WeakMap,$=new WeakMap,_e=new WeakMap,j=new WeakMap,g=new WeakMap,ee=new WeakSet,nn=function(Re,Fe=!1){if(!Re){this.remove();return}Ze(this,re,Re.bitmap),Fe||(Ze(this,_,Re.id),Ze(this,j,Re.isSvg)),We(this,ee,Jn).call(this)},rn=function(){Ze(this,b,null),this._uiManager.enableWaiting(!1),ge(this,te)&&this.div.focus()},gn=function(){if(ge(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(ge(this,_)).then(Fe=>We(this,ee,nn).call(this,Fe,!0)).finally(()=>We(this,ee,rn).call(this));return}if(ge(this,me)){const Fe=ge(this,me);Ze(this,me,null),this._uiManager.enableWaiting(!0),Ze(this,b,this._uiManager.imageManager.getFromUrl(Fe).then(Ce=>We(this,ee,nn).call(this,Ce)).finally(()=>We(this,ee,rn).call(this)));return}if(ge(this,Se)){const Fe=ge(this,Se);Ze(this,Se,null),this._uiManager.enableWaiting(!0),Ze(this,b,this._uiManager.imageManager.getFromFile(Fe).then(Ce=>We(this,ee,nn).call(this,Ce)).finally(()=>We(this,ee,rn).call(this)));return}const Re=document.createElement("input");Re.type="file",Re.accept=be.supportedTypesStr,Ze(this,b,new Promise(Fe=>{Re.addEventListener("change",async()=>{if(!Re.files||Re.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ce=await this._uiManager.imageManager.getFromFile(Re.files[0]);We(this,ee,nn).call(this,Ce)}Fe()}),Re.addEventListener("cancel",()=>{this.remove(),Fe()})}).finally(()=>We(this,ee,rn).call(this))),Re.click()},Jn=function(){const{div:Re}=this;let{width:Fe,height:Ce}=ge(this,re);const[ke,we]=this.pageDimensions,Pe=.75;if(this.width)Fe=this.width*ke,Ce=this.height*we;else if(Fe>Pe*ke||Ce>Pe*we){const de=Math.min(Pe*ke/Fe,Pe*we/Ce);Fe*=de,Ce*=de}const[fe,ye]=this.parentDimensions;this.setDims(Fe*fe/ke,Ce*ye/we),this._uiManager.enableWaiting(!1);const ae=Ze(this,te,document.createElement("canvas"));Re.append(ae),Re.hidden=!1,We(this,ee,Zn).call(this,Fe,Ce),We(this,ee,Dr).call(this),ge(this,g)||(this.parent.addUndoableEditor(this),Ze(this,g,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Rr=function(Re,Fe){var Pe;const[Ce,ke]=this.parentDimensions;this.width=Re/Ce,this.height=Fe/ke,this.setDims(Re,Fe),(Pe=this._initialOptions)!=null&&Pe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,ge(this,_e)!==null&&clearTimeout(ge(this,_e)),Ze(this,_e,setTimeout(()=>{Ze(this,_e,null),We(this,ee,Zn).call(this,Re,Fe)},200))},Ir=function(Re,Fe){const{width:Ce,height:ke}=ge(this,re);let we=Ce,Pe=ke,fe=ge(this,re);for(;we>2*Re||Pe>2*Fe;){const ye=we,ae=Pe;we>2*Re&&(we=we>=16384?Math.floor(we/2)-1:Math.ceil(we/2)),Pe>2*Fe&&(Pe=Pe>=16384?Math.floor(Pe/2)-1:Math.ceil(Pe/2));const de=new OffscreenCanvas(we,Pe);de.getContext("2d").drawImage(fe,0,0,ye,ae,0,0,we,Pe),fe=de.transferToImageBitmap()}return fe},Zn=function(Re,Fe){Re=Math.ceil(Re),Fe=Math.ceil(Fe);const Ce=ge(this,te);if(!Ce||Ce.width===Re&&Ce.height===Fe)return;Ce.width=Re,Ce.height=Fe;const ke=ge(this,j)?ge(this,re):We(this,ee,Ir).call(this,Re,Fe),we=Ce.getContext("2d");we.filter=this._uiManager.hcmFilter,we.drawImage(ke,0,0,ke.width,ke.height,0,0,Re,Fe)},vn=function(Re){if(Re){if(ge(this,j)){const ke=this._uiManager.imageManager.getSvgUrl(ge(this,_));if(ke)return ke}const Fe=document.createElement("canvas");return{width:Fe.width,height:Fe.height}=ge(this,re),Fe.getContext("2d").drawImage(ge(this,re),0,0),Fe.toDataURL()}if(ge(this,j)){const[Fe,Ce]=this.pageDimensions,ke=Math.round(this.width*Fe*h.PixelsPerInch.PDF_TO_CSS_UNITS),we=Math.round(this.height*Ce*h.PixelsPerInch.PDF_TO_CSS_UNITS),Pe=new OffscreenCanvas(ke,we);return Pe.getContext("2d").drawImage(ge(this,re),0,0,ge(this,re).width,ge(this,re).height,0,0,ke,we),Pe.transferToImageBitmap()}return structuredClone(ge(this,re))},Dr=function(){Ze(this,$,new ResizeObserver(Re=>{const Fe=Re[0].contentRect;Fe.width&&Fe.height&&We(this,ee,Rr).call(this,Fe.width,Fe.height)})),ge(this,$).observe(this.div)},Lt(be,"_type","stamp");let f=be;i.StampEditor=f}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return re.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.version}});var i=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),h=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),f=__w_pdfjs_require__(29),re=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,__createBinding$k=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$k=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$k=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$k(i,e,o);return __setModuleDefault$k(i,e),i};Object.defineProperty(pdfjs$1,"__esModule",{value:!0});const pdfjsModule=__importStar$k(pdfExports),pdfjs="default"in pdfjsModule?pdfjsModule.default:pdfjsModule;pdfjs$1.default=pdfjs;var Document$1={},cjs$3={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__spreadArray||function(a,c,h){if(h||arguments.length===2)for(var d=0,f=c.length,re;d<f;d++)(re||!(d in c))&&(re||(re=Array.prototype.slice.call(c,0,d)),re[d]=c[d]);return a.concat(re||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.allEvents=e.changeEvents=e.otherEvents=e.transitionEvents=e.animationEvents=e.wheelEvents=e.uiEvents=e.pointerEvents=e.touchEvents=e.selectionEvents=e.dragEvents=e.mouseEvents=e.mediaEvents=e.keyboardEvents=e.imageEvents=e.formEvents=e.focusEvents=e.compositionEvents=e.clipboardEvents=void 0,e.clipboardEvents=["onCopy","onCut","onPaste"],e.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],e.focusEvents=["onFocus","onBlur"],e.formEvents=["onInput","onInvalid","onReset","onSubmit"],e.imageEvents=["onLoad","onError"],e.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],e.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],e.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],e.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],e.selectionEvents=["onSelect"],e.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],e.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],e.uiEvents=["onScroll"],e.wheelEvents=["onWheel"],e.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],e.transitionEvents=["onTransitionEnd"],e.otherEvents=["onToggle"],e.changeEvents=["onChange"],e.allEvents=i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i([],e.clipboardEvents,!0),e.compositionEvents,!0),e.focusEvents,!0),e.formEvents,!0),e.imageEvents,!0),e.keyboardEvents,!0),e.mediaEvents,!0),e.mouseEvents,!0),e.dragEvents,!0),e.selectionEvents,!0),e.touchEvents,!0),e.pointerEvents,!0),e.uiEvents,!0),e.wheelEvents,!0),e.animationEvents,!0),e.transitionEvents,!0),e.changeEvents,!0),e.otherEvents,!0);function o(a,c){var h={};return e.allEvents.forEach(function(d){var f=a[d];f&&(c?h[d]=function(re){return f(re,c(d))}:h[d]=f)}),h}e.default=o})(cjs$3);var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});function makeCancellablePromise(e){var i=!1,o=new Promise(function(a,c){e.then(function(h){return!i&&a(h)}).catch(function(h){return!i&&c(h)})});return{promise:o,cancel:function(){i=!0}}}cjs$2.default=makeCancellablePromise;const require$$1=getAugmentedNamespace(clsx),require$$2=getAugmentedNamespace(tinyInvariant);var warning=function(){},warning_1$8=warning,dist={},has=Object.prototype.hasOwnProperty;function find(e,i,o){for(o of e.keys())if(dequal(o,i))return o}function dequal(e,i){var o,a,c;if(e===i)return!0;if(e&&i&&(o=e.constructor)===i.constructor){if(o===Date)return e.getTime()===i.getTime();if(o===RegExp)return e.toString()===i.toString();if(o===Array){if((a=e.length)===i.length)for(;a--&&dequal(e[a],i[a]););return a===-1}if(o===Set){if(e.size!==i.size)return!1;for(a of e)if(c=a,c&&typeof c=="object"&&(c=find(i,c),!c)||!i.has(c))return!1;return!0}if(o===Map){if(e.size!==i.size)return!1;for(a of e)if(c=a[0],c&&typeof c=="object"&&(c=find(i,c),!c)||!dequal(a[1],i.get(c)))return!1;return!0}if(o===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(o===DataView){if((a=e.byteLength)===i.byteLength)for(;a--&&e.getInt8(a)===i.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===i.byteLength)for(;a--&&e[a]===i[a];);return a===-1}if(!o||typeof e=="object"){a=0;for(o in e)if(has.call(e,o)&&++a&&!has.call(i,o)||!(o in i)||!dequal(e[o],i[o]))return!1;return Object.keys(i).length===a}}return e!==e&&i!==i}dist.dequal=dequal;var DocumentContext={};Object.defineProperty(DocumentContext,"__esModule",{value:!0});const react_1$n=reactExports;DocumentContext.default=(0,react_1$n.createContext)(null);var Message$1={},__importDefault$p=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Message$1,"__esModule",{value:!0});const react_1$m=__importDefault$p(reactExports);function Message({children:e,type:i}){return react_1$m.default.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}Message$1.default=Message;var LinkService$1={},__importDefault$o=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LinkService$1,"__esModule",{value:!0});const tiny_invariant_1$a=__importDefault$o(require$$2),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(i){(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(o=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),(0,tiny_invariant_1$a.default)(i,"Destination is not specified."),typeof i=="string"?this.pdfDocument.getDestination(i).then(o):Array.isArray(i)?o(i):i.then(o)}).then(o=>{(0,tiny_invariant_1$a.default)(Array.isArray(o),`"${o}" is not a valid destination array.`);const a=o[0];new Promise(c=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),a instanceof Object?this.pdfDocument.getPageIndex(a).then(h=>{c(h)}).catch(()=>{(0,tiny_invariant_1$a.default)(!1,`"${a}" is not a valid page reference.`)}):typeof a=="number"?c(a):(0,tiny_invariant_1$a.default)(!1,`"${a}" is not a valid destination reference.`)}).then(c=>{const h=c+1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(h>=1&&h<=this.pagesCount,`"${h}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:o,pageIndex:c,pageNumber:h})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const o=i-1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(i>=1&&i<=this.pagesCount,`"${i}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:o,pageNumber:i})}addLinkAttributes(i,o,a){i.href=o,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}LinkService$1.default=LinkService;var PasswordResponses$1={};Object.defineProperty(PasswordResponses$1,"__esModule",{value:!0});const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};PasswordResponses$1.default=PasswordResponses;var utils={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(ie){return ie&&ie.__esModule?ie:{default:ie}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadFromFile=e.isCancelException=e.makePageCallback=e.cancelRunningTask=e.displayWorkerWarning=e.displayCORSWarning=e.getDevicePixelRatio=e.dataURItoByteString=e.isDataURI=e.isBlob=e.isArrayBuffer=e.isString=e.isProvided=e.isDefined=e.isLocalFileSystem=e.isBrowser=void 0;const o=i(require$$2),a=i(warning_1$8);e.isBrowser=typeof document<"u",e.isLocalFileSystem=e.isBrowser&&window.location.protocol==="file:";function c(ie){return typeof ie<"u"}e.isDefined=c;function h(ie){return c(ie)&&ie!==null}e.isProvided=h;function d(ie){return typeof ie=="string"}e.isString=d;function f(ie){return ie instanceof ArrayBuffer}e.isArrayBuffer=f;function re(ie){return(0,o.default)(e.isBrowser,"isBlob can only be used in a browser environment"),ie instanceof Blob}e.isBlob=re;function _(ie){return d(ie)&&/^data:/.test(ie)}e.isDataURI=_;function b(ie){(0,o.default)(_(ie),"Invalid data URI.");const[q="",ne=""]=ie.split(",");return q.split(";").indexOf("base64")!==-1?atob(ne):unescape(ne)}e.dataURItoByteString=b;function me(){return e.isBrowser&&window.devicePixelRatio||1}e.getDevicePixelRatio=me;const Se="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function te(){(0,a.default)(!e.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Se}`)}e.displayCORSWarning=te;function $(){(0,a.default)(!e.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Se}`)}e.displayWorkerWarning=$;function _e(ie){ie&&ie.cancel&&ie.cancel()}e.cancelRunningTask=_e;function j(ie,q){return Object.defineProperty(ie,"width",{get(){return this.view[2]*q},configurable:!0}),Object.defineProperty(ie,"height",{get(){return this.view[3]*q},configurable:!0}),Object.defineProperty(ie,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(ie,"originalHeight",{get(){return this.view[3]},configurable:!0}),ie}e.makePageCallback=j;function g(ie){return ie.name==="RenderingCancelledException"}e.isCancelException=g;function ee(ie){return new Promise((q,ne)=>{const he=new FileReader;he.onload=()=>{if(!he.result)return ne(new Error("Error while reading a file."));q(he.result)},he.onerror=le=>{if(!le.target)return ne(new Error("Error while reading a file."));const{error:oe}=le.target;if(!oe)return ne(new Error("Error while reading a file."));switch(oe.code){case oe.NOT_FOUND_ERR:return ne(new Error("Error while reading a file: File not found."));case oe.SECURITY_ERR:return ne(new Error("Error while reading a file: Security error."));case oe.ABORT_ERR:return ne(new Error("Error while reading a file: Aborted."));default:return ne(new Error("Error while reading a file."))}},he.readAsArrayBuffer(ie)})}e.loadFromFile=ee})(utils);var useResolver$1={};Object.defineProperty(useResolver$1,"__esModule",{value:!0});const react_1$l=reactExports;function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return(0,react_1$l.useReducer)(reducer,{value:void 0,error:void 0})}useResolver$1.default=useResolver;var propTypes={},__importDefault$n=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(propTypes,"__esModule",{value:!0});propTypes.isRotate=propTypes.isRenderMode=propTypes.isRef=propTypes.isPdf=propTypes.isPageNumber=propTypes.isPageIndex=propTypes.isPage=propTypes.isLinkTarget=propTypes.isLinkService=propTypes.isFile=propTypes.isClassName=propTypes.eventProps=void 0;const prop_types_1$3=__importDefault$n(propTypesExports),make_event_props_1$3=cjs$3,pdfjs_js_1$6=__importDefault$n(pdfjs$1),utils_js_1$b=utils,LinkService_js_1$1=__importDefault$n(LinkService$1),{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs_js_1$6.default;propTypes.eventProps=(()=>{const e={};return make_event_props_1$3.allEvents.forEach(i=>{e[i]=prop_types_1$3.default.func}),e})();const isTypedArray=prop_types_1$3.default.oneOfType([prop_types_1$3.default.instanceOf(Int8Array),prop_types_1$3.default.instanceOf(Uint8Array),prop_types_1$3.default.instanceOf(Uint8ClampedArray),prop_types_1$3.default.instanceOf(Int16Array),prop_types_1$3.default.instanceOf(Uint16Array),prop_types_1$3.default.instanceOf(Int32Array),prop_types_1$3.default.instanceOf(Uint32Array),prop_types_1$3.default.instanceOf(Float32Array),prop_types_1$3.default.instanceOf(Float64Array)]),fileTypes=[prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.shape({data:prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.arrayOf(prop_types_1$3.default.number.isRequired),isTypedArray]).isRequired}),prop_types_1$3.default.shape({range:prop_types_1$3.default.instanceOf(PDFDataRangeTransport$1).isRequired}),prop_types_1$3.default.shape({url:prop_types_1$3.default.string.isRequired})];typeof Blob<"u"&&fileTypes.push(prop_types_1$3.default.instanceOf(Blob));propTypes.isClassName=prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.arrayOf(prop_types_1$3.default.string)]);propTypes.isFile=prop_types_1$3.default.oneOfType(fileTypes);propTypes.isLinkService=prop_types_1$3.default.instanceOf(LinkService_js_1$1.default);propTypes.isLinkTarget=prop_types_1$3.default.oneOf(["_self","_blank","_parent","_top"]);propTypes.isPage=prop_types_1$3.default.shape({commonObjs:prop_types_1$3.default.shape({}).isRequired,getAnnotations:prop_types_1$3.default.func.isRequired,getTextContent:prop_types_1$3.default.func.isRequired,getViewport:prop_types_1$3.default.func.isRequired,render:prop_types_1$3.default.func.isRequired});const isPageIndex=function e(i,o,a){const{[o]:c,pageNumber:h,pdf:d}=i;if(!(0,utils_js_1$b.isDefined)(d))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${o}\` of type \`${typeof c}\` supplied to \`${a}\`, expected \`number\`.`);if(c<0)return new Error(`Expected \`${o}\` to be greater or equal to 0.`);const{numPages:f}=d;if(c+1>f)return new Error(`Expected \`${o}\` to be less or equal to ${f-1}.`)}else if(!(0,utils_js_1$b.isDefined)(h))return new Error(`\`${o}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null};propTypes.isPageIndex=isPageIndex;const isPageNumber=function e(i,o,a){const{[o]:c,pageIndex:h,pdf:d}=i;if(!(0,utils_js_1$b.isDefined)(d))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${o}\` of type \`${typeof c}\` supplied to \`${a}\`, expected \`number\`.`);if(c<1)return new Error(`Expected \`${o}\` to be greater or equal to 1.`);const{numPages:f}=d;if(c>f)return new Error(`Expected \`${o}\` to be less or equal to ${f}.`)}else if(!(0,utils_js_1$b.isDefined)(h))return new Error(`\`${o}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null};propTypes.isPageNumber=isPageNumber;propTypes.isPdf=prop_types_1$3.default.oneOfType([prop_types_1$3.default.any,prop_types_1$3.default.oneOf([!1])]);propTypes.isRef=prop_types_1$3.default.oneOfType([prop_types_1$3.default.func,prop_types_1$3.default.exact({current:prop_types_1$3.default.any})]);propTypes.isRenderMode=prop_types_1$3.default.oneOf(["canvas","custom","none","svg"]);propTypes.isRotate=prop_types_1$3.default.oneOf([0,90,180,270]);var __createBinding$j=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$j=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$j=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$j(i,e,o);return __setModuleDefault$j(i,e),i},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,o,a){function c(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function f(b){try{_(a.next(b))}catch(me){d(me)}}function re(b){try{_(a.throw(b))}catch(me){d(me)}}function _(b){b.done?h(b.value):c(b.value).then(f,re)}_((a=a.apply(e,i||[])).next())})},__rest$5=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Document$1,"__esModule",{value:!0});const react_1$k=__importStar$j(reactExports),prop_types_1$2=__importDefault$m(propTypesExports),make_event_props_1$2=__importDefault$m(cjs$3),make_cancellable_promise_1$6=__importDefault$m(cjs$2),clsx_1$5=__importDefault$m(require$$1),tiny_invariant_1$9=__importDefault$m(require$$2),warning_1$7=__importDefault$m(warning_1$8),dequal_1=dist,pdfjs_js_1$5=__importDefault$m(pdfjs$1),DocumentContext_js_1$1=__importDefault$m(DocumentContext),Message_js_1$1=__importDefault$m(Message$1),LinkService_js_1=__importDefault$m(LinkService$1),PasswordResponses_js_1$1=__importDefault$m(PasswordResponses$1),utils_js_1$a=utils,useResolver_js_1$6=__importDefault$m(useResolver$1),propTypes_js_1$2=propTypes,{PDFDataRangeTransport}=pdfjs_js_1$5.default,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses_js_1$1.default.NEED_PASSWORD:{const o=prompt("Enter the password to open this PDF file.");e(o);break}case PasswordResponses_js_1$1.default.INCORRECT_PASSWORD:{const o=prompt("Invalid password. Please try again.");e(o);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=(0,react_1$k.forwardRef)(function e(i,o){var{children:a,className:c,error:h="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:f,file:re,inputRef:_,imageResourcesPath:b,loading:me="Loading PDF…",noData:Se="No PDF file specified.",onItemClick:te,onLoadError:$,onLoadProgress:_e,onLoadSuccess:j,onPassword:g=defaultOnPassword,onSourceError:ee,onSourceSuccess:ie,options:q,renderMode:ne,rotate:he}=i,le=__rest$5(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[oe,ce]=(0,useResolver_js_1$6.default)(),{value:xe,error:se}=oe,[be,Ae]=(0,useResolver_js_1$6.default)(),{value:Ie,error:Re}=be,Fe=(0,react_1$k.useRef)(new LinkService_js_1.default),Ce=(0,react_1$k.useRef)([]),ke=(0,react_1$k.useRef)(),we=(0,react_1$k.useRef)();(0,react_1$k.useEffect)(()=>{re&&re!==ke.current&&isParameterObject(re)&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(re,ke.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ke.current=re)},[re]),(0,react_1$k.useEffect)(()=>{q&&q!==we.current&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(q,we.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),we.current=q)},[q]);const Pe=(0,react_1$k.useRef)({scrollPageIntoView:ze=>{const{dest:Ge,pageNumber:Oe,pageIndex:$e=Oe-1}=ze;if(te){te({dest:Ge,pageIndex:$e,pageNumber:Oe});return}const He=Ce.current[$e];if(He){He.scrollIntoView();return}(0,warning_1$7.default)(!1,`An internal link leading to page ${Oe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,react_1$k.useImperativeHandle)(o,()=>({linkService:Fe,pages:Ce,viewer:Pe}),[]);function fe(){ie&&ie()}function ye(){se&&((0,warning_1$7.default)(!1,se.toString()),ee&&ee(se))}function ae(){ce({type:"RESET"})}(0,react_1$k.useEffect)(ae,[re,ce]);const de=(0,react_1$k.useCallback)(()=>__awaiter$2(this,void 0,void 0,function*(){if(!re)return null;if(typeof re=="string")return(0,utils_js_1$a.isDataURI)(re)?{data:(0,utils_js_1$a.dataURItoByteString)(re)}:((0,utils_js_1$a.displayCORSWarning)(),{url:re});if(re instanceof PDFDataRangeTransport)return{range:re};if((0,utils_js_1$a.isArrayBuffer)(re))return{data:re};if(utils_js_1$a.isBrowser&&(0,utils_js_1$a.isBlob)(re))return{data:yield(0,utils_js_1$a.loadFromFile)(re)};if((0,tiny_invariant_1$9.default)(typeof re=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,tiny_invariant_1$9.default)(isParameterObject(re),"Invalid parameter object: need either .data, .range or .url"),"url"in re&&typeof re.url=="string"){if((0,utils_js_1$a.isDataURI)(re.url)){const{url:ze}=re,Ge=__rest$5(re,["url"]),Oe=(0,utils_js_1$a.dataURItoByteString)(ze);return Object.assign({data:Oe},Ge)}(0,utils_js_1$a.displayCORSWarning)()}return re}),[re]);(0,react_1$k.useEffect)(()=>{const ze=(0,make_cancellable_promise_1$6.default)(de());return ze.promise.then(Ge=>{ce({type:"RESOLVE",value:Ge})}).catch(Ge=>{ce({type:"REJECT",error:Ge})}),()=>{(0,utils_js_1$a.cancelRunningTask)(ze)}},[de,ce]),(0,react_1$k.useEffect)(()=>{if(!(typeof xe>"u")){if(xe===!1){ye();return}fe()}},[xe]);function ve(){Ie&&(j&&j(Ie),Ce.current=new Array(Ie.numPages),Fe.current.setDocument(Ie))}function ue(){Re&&((0,warning_1$7.default)(!1,Re.toString()),$&&$(Re))}function m(){Ae({type:"RESET"})}(0,react_1$k.useEffect)(m,[Ae,xe]);function Ee(){if(!xe)return;const ze=Object.assign(Object.assign({},q),{isEvalSupported:!1}),Ge=Object.assign(Object.assign({},xe),ze),Oe=pdfjs_js_1$5.default.getDocument(Ge);_e&&(Oe.onProgress=_e),g&&(Oe.onPassword=g);const $e=Oe;return $e.promise.then(He=>{Ae({type:"RESOLVE",value:He})}).catch(He=>{$e.destroyed||Ae({type:"REJECT",error:He})}),()=>{$e.destroy()}}(0,react_1$k.useEffect)(Ee,[q,Ae,xe]),(0,react_1$k.useEffect)(()=>{if(!(typeof Ie>"u")){if(Ie===!1){ue();return}ve()}},[Ie]);function Te(){Fe.current.setViewer(Pe.current),Fe.current.setExternalLinkRel(d),Fe.current.setExternalLinkTarget(f)}(0,react_1$k.useEffect)(Te,[d,f]);function Me(ze,Ge){Ce.current[ze]=Ge}function Le(ze){delete Ce.current[ze]}const Ue=(0,react_1$k.useMemo)(()=>({imageResourcesPath:b,linkService:Fe.current,onItemClick:te,pdf:Ie,registerPage:Me,renderMode:ne,rotate:he,unregisterPage:Le}),[b,te,Ie,ne,he]),Xe=(0,react_1$k.useMemo)(()=>(0,make_event_props_1$2.default)(le,()=>Ie),[le,Ie]);function Ve(){return react_1$k.default.createElement(DocumentContext_js_1$1.default.Provider,{value:Ue},a)}function Ke(){return re?Ie==null?react_1$k.default.createElement(Message_js_1$1.default,{type:"loading"},typeof me=="function"?me():me):Ie===!1?react_1$k.default.createElement(Message_js_1$1.default,{type:"error"},typeof h=="function"?h():h):Ve():react_1$k.default.createElement(Message_js_1$1.default,{type:"no-data"},typeof Se=="function"?Se():Se)}return react_1$k.default.createElement("div",Object.assign({className:(0,clsx_1$5.default)("react-pdf__Document",c),ref:_,style:{"--scale-factor":"1"}},Xe),Ke())}),isFunctionOrNode$1=prop_types_1$2.default.oneOfType([prop_types_1$2.default.func,prop_types_1$2.default.node]);Document.propTypes=Object.assign(Object.assign({},propTypes_js_1$2.eventProps),{children:prop_types_1$2.default.node,className:propTypes_js_1$2.isClassName,error:isFunctionOrNode$1,externalLinkRel:prop_types_1$2.default.string,externalLinkTarget:prop_types_1$2.default.oneOf(["_self","_blank","_parent","_top"]),file:propTypes_js_1$2.isFile,imageResourcesPath:prop_types_1$2.default.string,inputRef:propTypes_js_1$2.isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:prop_types_1$2.default.func,onLoadError:prop_types_1$2.default.func,onLoadProgress:prop_types_1$2.default.func,onLoadSuccess:prop_types_1$2.default.func,onPassword:prop_types_1$2.default.func,onSourceError:prop_types_1$2.default.func,onSourceSuccess:prop_types_1$2.default.func,options:prop_types_1$2.default.shape({canvasFactory:prop_types_1$2.default.any,canvasMaxAreaInBytes:prop_types_1$2.default.number,cMapPacked:prop_types_1$2.default.bool,CMapReaderFactory:prop_types_1$2.default.any,cMapUrl:prop_types_1$2.default.string,disableAutoFetch:prop_types_1$2.default.bool,disableFontFace:prop_types_1$2.default.bool,disableRange:prop_types_1$2.default.bool,disableStream:prop_types_1$2.default.bool,docBaseUrl:prop_types_1$2.default.string,enableXfa:prop_types_1$2.default.bool,filterFactory:prop_types_1$2.default.any,fontExtraProperties:prop_types_1$2.default.bool,httpHeaders:prop_types_1$2.default.object,isEvalSupported:prop_types_1$2.default.bool,isOffscreenCanvasSupported:prop_types_1$2.default.bool,length:prop_types_1$2.default.number,maxImageSize:prop_types_1$2.default.number,ownerDocument:prop_types_1$2.default.any,password:prop_types_1$2.default.string,pdfBug:prop_types_1$2.default.bool,rangeChunkSize:prop_types_1$2.default.number,StandardFontDataFactory:prop_types_1$2.default.any,standardFontDataUrl:prop_types_1$2.default.string,stopAtErrors:prop_types_1$2.default.bool,useSystemFonts:prop_types_1$2.default.bool,useWorkerFetch:prop_types_1$2.default.bool,verbosity:prop_types_1$2.default.number,withCredentials:prop_types_1$2.default.bool,worker:prop_types_1$2.default.any}),rotate:prop_types_1$2.default.number});Document$1.default=Document;var Outline$1={},OutlineContext={};Object.defineProperty(OutlineContext,"__esModule",{value:!0});const react_1$j=reactExports;OutlineContext.default=(0,react_1$j.createContext)(null);var OutlineItem$1={},Ref$1={};Object.defineProperty(Ref$1,"__esModule",{value:!0});class Ref{constructor({num:i,gen:o}){this.num=i,this.gen=o}toString(){let i=`${this.num}R`;return this.gen!==0&&(i+=this.gen),i}}Ref$1.default=Ref;var useCachedValue$1={};Object.defineProperty(useCachedValue$1,"__esModule",{value:!0});const react_1$i=reactExports,utils_js_1$9=utils;function useCachedValue(e){const i=(0,react_1$i.useRef)(),o=i.current;return(0,utils_js_1$9.isDefined)(o)?()=>o:()=>{const a=e();return i.current=a,a}}useCachedValue$1.default=useCachedValue;var useDocumentContext$1={},__importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useDocumentContext$1,"__esModule",{value:!0});const react_1$h=reactExports,DocumentContext_js_1=__importDefault$l(DocumentContext);function useDocumentContext(){return(0,react_1$h.useContext)(DocumentContext_js_1.default)}useDocumentContext$1.default=useDocumentContext;var useOutlineContext$1={},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useOutlineContext$1,"__esModule",{value:!0});const react_1$g=reactExports,OutlineContext_js_1$1=__importDefault$k(OutlineContext);function useOutlineContext(){return(0,react_1$g.useContext)(OutlineContext_js_1$1.default)}useOutlineContext$1.default=useOutlineContext;var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,o,a){function c(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function f(b){try{_(a.next(b))}catch(me){d(me)}}function re(b){try{_(a.throw(b))}catch(me){d(me)}}function _(b){b.done?h(b.value):c(b.value).then(f,re)}_((a=a.apply(e,i||[])).next())})},__rest$4=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OutlineItem$1,"__esModule",{value:!0});const react_1$f=__importDefault$j(reactExports),tiny_invariant_1$8=__importDefault$j(require$$2),Ref_js_1=__importDefault$j(Ref$1),useCachedValue_js_1=__importDefault$j(useCachedValue$1),useDocumentContext_js_1$5=__importDefault$j(useDocumentContext$1),useOutlineContext_js_1$1=__importDefault$j(useOutlineContext$1);function OutlineItem(e){const i=(0,useDocumentContext_js_1$5.default)(),o=(0,useOutlineContext_js_1$1.default)();(0,tiny_invariant_1$8.default)(o,"Unable to find Outline context.");const a=Object.assign(Object.assign(Object.assign({},i),o),e),{item:c,linkService:h,onItemClick:d,pdf:f}=a,re=__rest$4(a,["item","linkService","onItemClick","pdf"]);(0,tiny_invariant_1$8.default)(f,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const _=(0,useCachedValue_js_1.default)(()=>typeof c.dest=="string"?f.getDestination(c.dest):c.dest),b=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){const $=yield _();if(!$)throw new Error("Destination not found.");const[_e]=$;return f.getPageIndex(new Ref_js_1.default(_e))})),me=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){return(yield b())+1}));function Se($){$.preventDefault(),(0,tiny_invariant_1$8.default)(d||h,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),d?Promise.all([_(),b(),me()]).then(([_e,j,g])=>{d({dest:_e,pageIndex:j,pageNumber:g})}):h&&h.goToDestination(c.dest)}function te(){if(!c.items||!c.items.length)return null;const{items:$}=c;return react_1$f.default.createElement("ul",null,$.map((_e,j)=>react_1$f.default.createElement(OutlineItem,Object.assign({key:typeof _e.dest=="string"?_e.dest:j,item:_e,pdf:f},re))))}return react_1$f.default.createElement("li",null,react_1$f.default.createElement("a",{href:"#",onClick:Se},c.title),te())}OutlineItem$1.default=OutlineItem;var __createBinding$i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$i=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$i(i,e,o);return __setModuleDefault$i(i,e),i},__rest$3=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Outline$1,"__esModule",{value:!0});const react_1$e=__importStar$i(reactExports),prop_types_1$1=__importDefault$i(propTypesExports),make_cancellable_promise_1$5=__importDefault$i(cjs$2),make_event_props_1$1=__importDefault$i(cjs$3),clsx_1$4=__importDefault$i(require$$1),tiny_invariant_1$7=__importDefault$i(require$$2),warning_1$6=__importDefault$i(warning_1$8),OutlineContext_js_1=__importDefault$i(OutlineContext),OutlineItem_js_1=__importDefault$i(OutlineItem$1),utils_js_1$8=utils,useDocumentContext_js_1$4=__importDefault$i(useDocumentContext$1),useResolver_js_1$5=__importDefault$i(useResolver$1),propTypes_js_1$1=propTypes,Outline=function e(i){const o=(0,useDocumentContext_js_1$4.default)(),a=Object.assign(Object.assign({},o),i),{className:c,inputRef:h,onItemClick:d,onLoadError:f,onLoadSuccess:re,pdf:_}=a,b=__rest$3(a,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,tiny_invariant_1$7.default)(_,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[me,Se]=(0,useResolver_js_1$5.default)(),{value:te,error:$}=me;function _e(){typeof te>"u"||te===!1||re&&re(te)}function j(){$&&((0,warning_1$6.default)(!1,$.toString()),f&&f($))}function g(){Se({type:"RESET"})}(0,react_1$e.useEffect)(g,[Se,_]);function ee(){if(!_)return;const he=(0,make_cancellable_promise_1$5.default)(_.getOutline()),le=he;return he.promise.then(oe=>{Se({type:"RESOLVE",value:oe})}).catch(oe=>{Se({type:"REJECT",error:oe})}),()=>(0,utils_js_1$8.cancelRunningTask)(le)}(0,react_1$e.useEffect)(ee,[Se,_]),(0,react_1$e.useEffect)(()=>{if(te!==void 0){if(te===!1){j();return}_e()}},[te]);const ie=(0,react_1$e.useMemo)(()=>({onItemClick:d}),[d]),q=(0,react_1$e.useMemo)(()=>(0,make_event_props_1$1.default)(b,()=>te),[b,te]);if(!te)return null;function ne(){return te?react_1$e.default.createElement("ul",null,te.map((he,le)=>react_1$e.default.createElement(OutlineItem_js_1.default,{key:typeof he.dest=="string"?he.dest:le,item:he,pdf:_}))):null}return react_1$e.default.createElement("div",Object.assign({className:(0,clsx_1$4.default)("react-pdf__Outline",c),ref:h},q),react_1$e.default.createElement(OutlineContext_js_1.default.Provider,{value:ie},ne()))};Outline.propTypes=Object.assign(Object.assign({},propTypes_js_1$1.eventProps),{className:propTypes_js_1$1.isClassName,inputRef:propTypes_js_1$1.isRef,onItemClick:prop_types_1$1.default.func,onLoadError:prop_types_1$1.default.func,onLoadSuccess:prop_types_1$1.default.func,pdf:propTypes_js_1$1.isPdf});Outline$1.default=Outline;var Page$1={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=e.filter(Boolean);if(o.length<=1){var a=o[0];return a||null}return function(h){o.forEach(function(d){typeof d=="function"?d(h):d&&(d.current=h)})}}cjs$1.default=mergeRefs;var PageContext={};Object.defineProperty(PageContext,"__esModule",{value:!0});const react_1$d=reactExports;PageContext.default=(0,react_1$d.createContext)(null);var PageCanvas$1={},StructTree$1={},StructTreeItem$1={},structTreeUtils={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.HEADING_PATTERN=constants.PDF_ROLE_TO_HTML_ROLE=void 0;constants.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};constants.HEADING_PATTERN=/^H(\d+)$/;Object.defineProperty(structTreeUtils,"__esModule",{value:!0});structTreeUtils.getAttributes=structTreeUtils.getBaseAttributes=structTreeUtils.getRoleAttributes=structTreeUtils.isStructTreeNodeWithOnlyContentChild=structTreeUtils.isStructTreeNode=structTreeUtils.isPdfRole=void 0;const constants_js_1=constants;function isPdfRole(e){return e in constants_js_1.PDF_ROLE_TO_HTML_ROLE}structTreeUtils.isPdfRole=isPdfRole;function isStructTreeNode(e){return"children"in e}structTreeUtils.isStructTreeNode=isStructTreeNode;function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}structTreeUtils.isStructTreeNodeWithOnlyContentChild=isStructTreeNodeWithOnlyContentChild;function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:o}=e,a=o.match(constants_js_1.HEADING_PATTERN);if(a)i.role="heading",i["aria-level"]=Number(a[1]);else if(isPdfRole(o)){const c=constants_js_1.PDF_ROLE_TO_HTML_ROLE[o];c&&(i.role=c)}}return i}structTreeUtils.getRoleAttributes=getRoleAttributes;function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[o]=e.children;if(o){const a=getBaseAttributes(o);return Object.assign(Object.assign({},i),a)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}structTreeUtils.getBaseAttributes=getBaseAttributes;function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}structTreeUtils.getAttributes=getAttributes;var __createBinding$h=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$h=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$h=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$h(i,e,o);return __setModuleDefault$h(i,e),i};Object.defineProperty(StructTreeItem$1,"__esModule",{value:!0});const react_1$c=__importStar$h(reactExports),structTreeUtils_js_1=structTreeUtils;function StructTreeItem({className:e,node:i}){const o=(0,react_1$c.useMemo)(()=>(0,structTreeUtils_js_1.getAttributes)(i),[i]),a=(0,react_1$c.useMemo)(()=>!(0,structTreeUtils_js_1.isStructTreeNode)(i)||(0,structTreeUtils_js_1.isStructTreeNodeWithOnlyContentChild)(i)?null:i.children.map((c,h)=>react_1$c.default.createElement(StructTreeItem,{key:h,node:c})),[i]);return react_1$c.default.createElement("span",Object.assign({className:e},o),a)}StructTreeItem$1.default=StructTreeItem;var usePageContext$1={},__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(usePageContext$1,"__esModule",{value:!0});const react_1$b=reactExports,PageContext_js_1$1=__importDefault$h(PageContext);function usePageContext(){return(0,react_1$b.useContext)(PageContext_js_1$1.default)}usePageContext$1.default=usePageContext;var __createBinding$g=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$g=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$g=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$g(i,e,o);return __setModuleDefault$g(i,e),i},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(StructTree$1,"__esModule",{value:!0});const react_1$a=__importStar$g(reactExports),make_cancellable_promise_1$4=__importDefault$g(cjs$2),tiny_invariant_1$6=__importDefault$g(require$$2),warning_1$5=__importDefault$g(warning_1$8),StructTreeItem_js_1=__importDefault$g(StructTreeItem$1),usePageContext_js_1$5=__importDefault$g(usePageContext$1),useResolver_js_1$4=__importDefault$g(useResolver$1),utils_js_1$7=utils;function StructTree(){const e=(0,usePageContext_js_1$5.default)();(0,tiny_invariant_1$6.default)(e,"Unable to find Page context.");const{onGetStructTreeError:i,onGetStructTreeSuccess:o}=e,[a,c]=(0,useResolver_js_1$4.default)(),{value:h,error:d}=a,{customTextRenderer:f,page:re}=e;function _(){h&&o&&o(h)}function b(){d&&((0,warning_1$5.default)(!1,d.toString()),i&&i(d))}function me(){c({type:"RESET"})}(0,react_1$a.useEffect)(me,[c,re]);function Se(){if(f||!re)return;const te=(0,make_cancellable_promise_1$4.default)(re.getStructTree()),$=te;return te.promise.then(_e=>{c({type:"RESOLVE",value:_e})}).catch(_e=>{c({type:"REJECT",error:_e})}),()=>(0,utils_js_1$7.cancelRunningTask)($)}return(0,react_1$a.useEffect)(Se,[f,re,c]),(0,react_1$a.useEffect)(()=>{if(h!==void 0){if(h===!1){b();return}_()}},[h]),h?react_1$a.default.createElement(StructTreeItem_js_1.default,{className:"react-pdf__Page__structTree structTree",node:h}):null}StructTree$1.default=StructTree;var __createBinding$f=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$f=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$f=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$f(i,e,o);return __setModuleDefault$f(i,e),i},__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageCanvas$1,"__esModule",{value:!0});const react_1$9=__importStar$f(reactExports),merge_refs_1$1=__importDefault$f(cjs$1),tiny_invariant_1$5=__importDefault$f(require$$2),warning_1$4=__importDefault$f(warning_1$8),pdfjs_js_1$4=__importDefault$f(pdfjs$1),StructTree_js_1=__importDefault$f(StructTree$1),usePageContext_js_1$4=__importDefault$f(usePageContext$1),utils_js_1$6=utils,ANNOTATION_MODE=pdfjs_js_1$4.default.AnnotationMode;function PageCanvas(e){const i=(0,usePageContext_js_1$4.default)();(0,tiny_invariant_1$5.default)(i,"Unable to find Page context.");const o=Object.assign(Object.assign({},i),e),{_className:a,canvasBackground:c,devicePixelRatio:h=(0,utils_js_1$6.getDevicePixelRatio)(),onRenderError:d,onRenderSuccess:f,page:re,renderForms:_,renderTextLayer:b,rotate:me,scale:Se}=o,{canvasRef:te}=e;(0,tiny_invariant_1$5.default)(re,"Attempted to render page canvas, but no page was specified.");const $=(0,react_1$9.useRef)(null);function _e(){re&&f&&f((0,utils_js_1$6.makePageCallback)(re,Se))}function j(ne){(0,utils_js_1$6.isCancelException)(ne)||((0,warning_1$4.default)(!1,ne.toString()),d&&d(ne))}const g=(0,react_1$9.useMemo)(()=>re.getViewport({scale:Se*h,rotation:me}),[h,re,me,Se]),ee=(0,react_1$9.useMemo)(()=>re.getViewport({scale:Se,rotation:me}),[re,me,Se]);function ie(){if(!re)return;re.cleanup();const{current:ne}=$;if(!ne)return;ne.width=g.width,ne.height=g.height,ne.style.width=`${Math.floor(ee.width)}px`,ne.style.height=`${Math.floor(ee.height)}px`,ne.style.visibility="hidden";const he={annotationMode:_?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ne.getContext("2d",{alpha:!1}),viewport:g};c&&(he.background=c);const le=re.render(he),oe=le;return le.promise.then(()=>{ne.style.visibility="",_e()}).catch(j),()=>(0,utils_js_1$6.cancelRunningTask)(oe)}(0,react_1$9.useEffect)(ie,[c,$,h,re,_,g,ee]);const q=(0,react_1$9.useCallback)(()=>{const{current:ne}=$;ne&&(ne.width=0,ne.height=0)},[$]);return(0,react_1$9.useEffect)(()=>q,[q]),react_1$9.default.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:(0,merge_refs_1$1.default)(te,$),style:{display:"block",userSelect:"none"}},b?react_1$9.default.createElement(StructTree_js_1.default,null):null)}PageCanvas$1.default=PageCanvas;var PageSVG$1={},__createBinding$e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$e=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$e(i,e,o);return __setModuleDefault$e(i,e),i},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageSVG$1,"__esModule",{value:!0});const react_1$8=__importStar$e(reactExports),make_cancellable_promise_1$3=__importDefault$e(cjs$2),tiny_invariant_1$4=__importDefault$e(require$$2),warning_1$3=__importDefault$e(warning_1$8),pdfjs_js_1$3=__importDefault$e(pdfjs$1),usePageContext_js_1$3=__importDefault$e(usePageContext$1),useResolver_js_1$3=__importDefault$e(useResolver$1),utils_js_1$5=utils;function PageSVG(){const e=(0,usePageContext_js_1$3.default)();(0,tiny_invariant_1$4.default)(e,"Unable to find Page context.");const{_className:i,onRenderSuccess:o,onRenderError:a,page:c,rotate:h,scale:d}=e;(0,tiny_invariant_1$4.default)(c,"Attempted to render page SVG, but no page was specified.");const[f,re]=(0,useResolver_js_1$3.default)(),{value:_,error:b}=f;function me(){c&&o&&o((0,utils_js_1$5.makePageCallback)(c,d))}function Se(){b&&((0,utils_js_1$5.isCancelException)(b)||((0,warning_1$3.default)(!1,b.toString()),a&&a(b)))}const te=(0,react_1$8.useMemo)(()=>c.getViewport({scale:d,rotation:h}),[c,h,d]);function $(){re({type:"RESET"})}(0,react_1$8.useEffect)($,[c,re,te]);function _e(){if(!c)return;const ie=(0,make_cancellable_promise_1$3.default)(c.getOperatorList());return ie.promise.then(q=>{new pdfjs_js_1$3.default.SVGGraphics(c.commonObjs,c.objs).getSVG(q,te).then(he=>{if(!(he instanceof SVGElement))throw new Error("getSVG returned unexpected result.");re({type:"RESOLVE",value:he})}).catch(he=>{re({type:"REJECT",error:he})})}).catch(q=>{re({type:"REJECT",error:q})}),()=>(0,utils_js_1$5.cancelRunningTask)(ie)}(0,react_1$8.useEffect)(_e,[c,re,te]),(0,react_1$8.useEffect)(()=>{if(_!==void 0){if(_===!1){Se();return}me()}},[_]);function j(ie){if(!ie||!_)return;ie.firstElementChild||ie.appendChild(_);const{width:q,height:ne}=te;_.setAttribute("width",`${q}`),_.setAttribute("height",`${ne}`)}const{width:g,height:ee}=te;return react_1$8.default.createElement("div",{className:`${i}__svg`,ref:ie=>j(ie),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:g,height:ee,userSelect:"none"}})}PageSVG$1.default=PageSVG;var TextLayer$1={},__createBinding$d=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$d=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$d(i,e,o);return __setModuleDefault$d(i,e),i},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextLayer$1,"__esModule",{value:!0});const react_1$7=__importStar$d(reactExports),make_cancellable_promise_1$2=__importDefault$d(cjs$2),clsx_1$3=__importDefault$d(require$$1),tiny_invariant_1$3=__importDefault$d(require$$2),warning_1$2=__importDefault$d(warning_1$8),pdfjs_js_1$2=__importDefault$d(pdfjs$1),usePageContext_js_1$2=__importDefault$d(usePageContext$1),useResolver_js_1$2=__importDefault$d(useResolver$1),utils_js_1$4=utils;function isTextItem(e){return"str"in e}function TextLayer(){const e=(0,usePageContext_js_1$2.default)();(0,tiny_invariant_1$3.default)(e,"Unable to find Page context.");const{customTextRenderer:i,onGetTextError:o,onGetTextSuccess:a,onRenderTextLayerError:c,onRenderTextLayerSuccess:h,page:d,pageIndex:f,pageNumber:re,rotate:_,scale:b}=e;(0,tiny_invariant_1$3.default)(d,"Attempted to load page text content, but no page was specified.");const[me,Se]=(0,useResolver_js_1$2.default)(),{value:te,error:$}=me,_e=(0,react_1$7.useRef)(null),j=(0,react_1$7.useRef)();(0,warning_1$2.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function g(){te&&a&&a(te)}function ee(){$&&((0,warning_1$2.default)(!1,$.toString()),o&&o($))}function ie(){Se({type:"RESET"})}(0,react_1$7.useEffect)(ie,[d,Se]);function q(){if(!d)return;const se=(0,make_cancellable_promise_1$2.default)(d.getTextContent()),be=se;return se.promise.then(Ae=>{Se({type:"RESOLVE",value:Ae})}).catch(Ae=>{Se({type:"REJECT",error:Ae})}),()=>(0,utils_js_1$4.cancelRunningTask)(be)}(0,react_1$7.useEffect)(q,[d,Se]),(0,react_1$7.useEffect)(()=>{if(te!==void 0){if(te===!1){ee();return}g()}},[te]);const ne=(0,react_1$7.useCallback)(()=>{h&&h()},[h]),he=(0,react_1$7.useCallback)(se=>{(0,warning_1$2.default)(!1,se.toString()),c&&c(se)},[c]);function le(){const se=j.current;se&&se.classList.add("active")}function oe(){const se=j.current;se&&se.classList.remove("active")}const ce=(0,react_1$7.useMemo)(()=>d.getViewport({scale:b,rotation:_}),[d,_,b]);function xe(){if(!d||!te)return;const{current:se}=_e;if(!se)return;se.innerHTML="";const be=d.streamTextContent({includeMarkedContent:!0}),Ae={container:se,textContentSource:be,viewport:ce},Ie=pdfjs_js_1$2.default.renderTextLayer(Ae),Re=Ie;return Ie.promise.then(()=>{const Fe=document.createElement("div");Fe.className="endOfContent",se.append(Fe),j.current=Fe;const Ce=se.querySelectorAll('[role="presentation"]');if(i){let ke=0;te.items.forEach((we,Pe)=>{if(!isTextItem(we))return;const fe=Ce[ke];if(!fe)return;const ye=i(Object.assign({pageIndex:f,pageNumber:re,itemIndex:Pe},we));fe.innerHTML=ye,ke+=we.str&&we.hasEOL?2:1})}ne()}).catch(he),()=>(0,utils_js_1$4.cancelRunningTask)(Re)}return(0,react_1$7.useLayoutEffect)(xe,[i,he,ne,d,f,re,te,ce]),react_1$7.default.createElement("div",{className:(0,clsx_1$3.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:oe,onMouseDown:le,ref:_e})}TextLayer$1.default=TextLayer;var AnnotationLayer$1={},__createBinding$c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$c=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$c(i,e,o);return __setModuleDefault$c(i,e),i},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AnnotationLayer$1,"__esModule",{value:!0});const react_1$6=__importStar$c(reactExports),make_cancellable_promise_1$1=__importDefault$c(cjs$2),clsx_1$2=__importDefault$c(require$$1),tiny_invariant_1$2=__importDefault$c(require$$2),warning_1$1=__importDefault$c(warning_1$8),pdfjs_js_1$1=__importDefault$c(pdfjs$1),useDocumentContext_js_1$3=__importDefault$c(useDocumentContext$1),usePageContext_js_1$1=__importDefault$c(usePageContext$1),useResolver_js_1$1=__importDefault$c(useResolver$1),utils_js_1$3=utils;function AnnotationLayer(){const e=(0,useDocumentContext_js_1$3.default)(),i=(0,usePageContext_js_1$1.default)();(0,tiny_invariant_1$2.default)(i,"Unable to find Page context.");const o=Object.assign(Object.assign({},e),i),{imageResourcesPath:a,linkService:c,onGetAnnotationsError:h,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:f,onRenderAnnotationLayerSuccess:re,page:_,pdf:b,renderForms:me,rotate:Se,scale:te=1}=o;(0,tiny_invariant_1$2.default)(b,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,tiny_invariant_1$2.default)(_,"Attempted to load page annotations, but no page was specified."),(0,tiny_invariant_1$2.default)(c,"Attempted to load page annotations, but no linkService was specified.");const[$,_e]=(0,useResolver_js_1$1.default)(),{value:j,error:g}=$,ee=(0,react_1$6.useRef)(null);(0,warning_1$1.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ie(){j&&d&&d(j)}function q(){g&&((0,warning_1$1.default)(!1,g.toString()),h&&h(g))}function ne(){_e({type:"RESET"})}(0,react_1$6.useEffect)(ne,[_e,_]);function he(){if(!_)return;const se=(0,make_cancellable_promise_1$1.default)(_.getAnnotations()),be=se;return se.promise.then(Ae=>{_e({type:"RESOLVE",value:Ae})}).catch(Ae=>{_e({type:"REJECT",error:Ae})}),()=>{(0,utils_js_1$3.cancelRunningTask)(be)}}(0,react_1$6.useEffect)(he,[_e,_,me]),(0,react_1$6.useEffect)(()=>{if(j!==void 0){if(j===!1){q();return}ie()}},[j]);function le(){re&&re()}function oe(se){(0,warning_1$1.default)(!1,`${se}`),f&&f(se)}const ce=(0,react_1$6.useMemo)(()=>_.getViewport({scale:te,rotation:Se}),[_,Se,te]);function xe(){if(!b||!_||!c||!j)return;const{current:se}=ee;if(!se)return;const be=ce.clone({dontFlip:!0}),Ae={accessibilityManager:null,annotationCanvasMap:null,div:se,l10n:null,page:_,viewport:be},Ie={annotations:j,annotationStorage:b.annotationStorage,div:se,downloadManager:null,imageResourcesPath:a,linkService:c,page:_,renderForms:me,viewport:be};se.innerHTML="";try{new pdfjs_js_1$1.default.AnnotationLayer(Ae).render(Ie),le()}catch(Re){oe(Re)}return()=>{}}return(0,react_1$6.useEffect)(xe,[j,a,c,_,me,ce]),react_1$6.default.createElement("div",{className:(0,clsx_1$2.default)("react-pdf__Page__annotations","annotationLayer"),ref:ee})}AnnotationLayer$1.default=AnnotationLayer;var __createBinding$b=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$b=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$b=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$b(i,e,o);return __setModuleDefault$b(i,e),i},__rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Page$1,"__esModule",{value:!0});const react_1$5=__importStar$b(reactExports),prop_types_1=__importDefault$b(propTypesExports),make_cancellable_promise_1=__importDefault$b(cjs$2),make_event_props_1=__importDefault$b(cjs$3),clsx_1$1=__importDefault$b(require$$1),merge_refs_1=__importDefault$b(cjs$1),tiny_invariant_1$1=__importDefault$b(require$$2),warning_1=__importDefault$b(warning_1$8),PageContext_js_1=__importDefault$b(PageContext),Message_js_1=__importDefault$b(Message$1),PageCanvas_js_1=__importDefault$b(PageCanvas$1),PageSVG_js_1=__importDefault$b(PageSVG$1),TextLayer_js_1=__importDefault$b(TextLayer$1),AnnotationLayer_js_1=__importDefault$b(AnnotationLayer$1),utils_js_1$2=utils,useDocumentContext_js_1$2=__importDefault$b(useDocumentContext$1),useResolver_js_1=__importDefault$b(useResolver$1),propTypes_js_1=propTypes,defaultScale=1,Page=function e(i){const o=(0,useDocumentContext_js_1$2.default)(),a=Object.assign(Object.assign({},o),i),{_className:c="react-pdf__Page",_enableRegisterUnregisterPage:h=!0,canvasBackground:d,canvasRef:f,children:re,className:_,customRenderer:b,customTextRenderer:me,devicePixelRatio:Se,error:te="Failed to load the page.",height:$,inputRef:_e,loading:j="Loading page…",noData:g="No page specified.",onGetAnnotationsError:ee,onGetAnnotationsSuccess:ie,onGetStructTreeError:q,onGetStructTreeSuccess:ne,onGetTextError:he,onGetTextSuccess:le,onLoadError:oe,onLoadSuccess:ce,onRenderAnnotationLayerError:xe,onRenderAnnotationLayerSuccess:se,onRenderError:be,onRenderSuccess:Ae,onRenderTextLayerError:Ie,onRenderTextLayerSuccess:Re,pageIndex:Fe,pageNumber:Ce,pdf:ke,registerPage:we,renderAnnotationLayer:Pe=!0,renderForms:fe=!1,renderMode:ye="canvas",renderTextLayer:ae=!0,rotate:de,scale:ve=defaultScale,unregisterPage:ue,width:m}=a,Ee=__rest$2(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Te,Me]=(0,useResolver_js_1.default)(),{value:Le,error:Ue}=Te,Xe=(0,react_1$5.useRef)(null);(0,tiny_invariant_1$1.default)(ke,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Ve=(0,utils_js_1$2.isProvided)(Ce)?Ce-1:Fe??null,Ke=Ce??((0,utils_js_1$2.isProvided)(Fe)?Fe+1:null),ze=de??(Le?Le.rotate:null),Ge=(0,react_1$5.useMemo)(()=>{if(!Le)return null;let gt=1;const Tt=ve??defaultScale;if(m||$){const Rt=Le.getViewport({scale:1,rotation:ze});m?gt=m/Rt.width:$&&(gt=$/Rt.height)}return Tt*gt},[$,Le,ze,ve,m]);function Oe(){return()=>{(0,utils_js_1$2.isProvided)(Ve)&&h&&ue&&ue(Ve)}}(0,react_1$5.useEffect)(Oe,[h,ke,Ve,ue]);function $e(){if(ce){if(!Le||!Ge)return;ce((0,utils_js_1$2.makePageCallback)(Le,Ge))}if(h&&we){if(!(0,utils_js_1$2.isProvided)(Ve)||!Xe.current)return;we(Ve,Xe.current)}}function He(){Ue&&((0,warning_1.default)(!1,Ue.toString()),oe&&oe(Ue))}function Ye(){Me({type:"RESET"})}(0,react_1$5.useEffect)(Ye,[Me,ke,Ve]);function nt(){if(!ke||!Ke)return;const gt=(0,make_cancellable_promise_1.default)(ke.getPage(Ke)),Tt=gt;return gt.promise.then(Rt=>{Me({type:"RESOLVE",value:Rt})}).catch(Rt=>{Me({type:"REJECT",error:Rt})}),()=>(0,utils_js_1$2.cancelRunningTask)(Tt)}(0,react_1$5.useEffect)(nt,[Me,ke,Ve,Ke,we]),(0,react_1$5.useEffect)(()=>{if(Le!==void 0){if(Le===!1){He();return}$e()}},[Le,Ge]);const ot=(0,react_1$5.useMemo)(()=>Le&&(0,utils_js_1$2.isProvided)(Ve)&&Ke&&(0,utils_js_1$2.isProvided)(ze)&&(0,utils_js_1$2.isProvided)(Ge)?{_className:c,canvasBackground:d,customTextRenderer:me,devicePixelRatio:Se,onGetAnnotationsError:ee,onGetAnnotationsSuccess:ie,onGetStructTreeError:q,onGetStructTreeSuccess:ne,onGetTextError:he,onGetTextSuccess:le,onRenderAnnotationLayerError:xe,onRenderAnnotationLayerSuccess:se,onRenderError:be,onRenderSuccess:Ae,onRenderTextLayerError:Ie,onRenderTextLayerSuccess:Re,page:Le,pageIndex:Ve,pageNumber:Ke,renderForms:fe,renderTextLayer:ae,rotate:ze,scale:Ge}:null,[c,d,me,Se,ee,ie,q,ne,he,le,xe,se,be,Ae,Ie,Re,Le,Ve,Ke,fe,ae,ze,Ge]),st=(0,react_1$5.useMemo)(()=>(0,make_event_props_1.default)(Ee,()=>Le&&(Ge?(0,utils_js_1$2.makePageCallback)(Le,Ge):void 0)),[Ee,Le,Ge]),Be=`${Ve}@${Ge}/${ze}`,ct=`${Ve}/${ze}`;function dt(){switch(ye){case"custom":return(0,tiny_invariant_1$1.default)(b,'renderMode was set to "custom", but no customRenderer was passed.'),react_1$5.default.createElement(b,{key:`${Be}_custom`});case"none":return null;case"svg":return react_1$5.default.createElement(PageSVG_js_1.default,{key:`${ct}_svg`});case"canvas":default:return react_1$5.default.createElement(PageCanvas_js_1.default,{key:`${Be}_canvas`,canvasRef:f})}}function xt(){return ae?react_1$5.default.createElement(TextLayer_js_1.default,{key:`${Be}_text`}):null}function At(){return Pe?react_1$5.default.createElement(AnnotationLayer_js_1.default,{key:`${Be}_annotations`}):null}function Ot(){return react_1$5.default.createElement(PageContext_js_1.default.Provider,{value:ot},dt(),xt(),At(),re)}function _t(){return Ke?ke===null||Le===void 0||Le===null?react_1$5.default.createElement(Message_js_1.default,{type:"loading"},typeof j=="function"?j():j):ke===!1||Le===!1?react_1$5.default.createElement(Message_js_1.default,{type:"error"},typeof te=="function"?te():te):Ot():react_1$5.default.createElement(Message_js_1.default,{type:"no-data"},typeof g=="function"?g():g)}return react_1$5.default.createElement("div",Object.assign({className:(0,clsx_1$1.default)(c,_),"data-page-number":Ke,ref:(0,merge_refs_1.default)(_e,Xe),style:{"--scale-factor":`${Ge}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},st),_t())},isFunctionOrNode=prop_types_1.default.oneOfType([prop_types_1.default.func,prop_types_1.default.node]);Page.propTypes=Object.assign(Object.assign({},propTypes_js_1.eventProps),{canvasBackground:prop_types_1.default.string,canvasRef:propTypes_js_1.isRef,children:prop_types_1.default.node,className:propTypes_js_1.isClassName,customRenderer:prop_types_1.default.func,customTextRenderer:prop_types_1.default.func,devicePixelRatio:prop_types_1.default.number,error:isFunctionOrNode,height:prop_types_1.default.number,imageResourcesPath:prop_types_1.default.string,inputRef:propTypes_js_1.isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:prop_types_1.default.func,onGetTextSuccess:prop_types_1.default.func,onLoadError:prop_types_1.default.func,onLoadSuccess:prop_types_1.default.func,onRenderError:prop_types_1.default.func,onRenderSuccess:prop_types_1.default.func,onRenderTextLayerError:prop_types_1.default.func,onRenderTextLayerSuccess:prop_types_1.default.func,pageIndex:propTypes_js_1.isPageIndex,pageNumber:propTypes_js_1.isPageNumber,pdf:propTypes_js_1.isPdf,renderAnnotationLayer:prop_types_1.default.bool,renderForms:prop_types_1.default.bool,renderMode:propTypes_js_1.isRenderMode,renderTextLayer:prop_types_1.default.bool,rotate:propTypes_js_1.isRotate,scale:prop_types_1.default.number,width:prop_types_1.default.number});Page$1.default=Page;var Thumbnail$1={},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Thumbnail$1,"__esModule",{value:!0});const react_1$4=__importDefault$a(reactExports),clsx_1=__importDefault$a(require$$1),tiny_invariant_1=__importDefault$a(require$$2),Page_js_1$1=__importDefault$a(Page$1),utils_js_1$1=utils,useDocumentContext_js_1$1=__importDefault$a(useDocumentContext$1),Thumbnail=function e(i){const o=(0,useDocumentContext_js_1$1.default)(),a=Object.assign(Object.assign({},o),i),{className:c,linkService:h,onItemClick:d,pageIndex:f,pageNumber:re,pdf:_}=a;(0,tiny_invariant_1.default)(_,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const b=(0,utils_js_1$1.isProvided)(re)?re-1:f??null,me=re??((0,utils_js_1$1.isProvided)(f)?f+1:null);function Se(j){j.preventDefault(),!(!(0,utils_js_1$1.isProvided)(b)||!me)&&((0,tiny_invariant_1.default)(d||h,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),d?d({pageIndex:b,pageNumber:me}):h&&h.goToPage(me))}const{className:te,onItemClick:$}=i,_e=__rest$1(i,["className","onItemClick"]);return react_1$4.default.createElement("a",{className:(0,clsx_1.default)("react-pdf__Thumbnail",c),href:me?"#":void 0,onClick:Se},react_1$4.default.createElement(Page_js_1$1.default,Object.assign({},_e,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1})))};Thumbnail$1.default=Thumbnail;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$4,"__esModule",{value:!0});cjs$4.PasswordResponses=cjs$4.usePageContext=cjs$4.useOutlineContext=cjs$4.useDocumentContext=cjs$4.Thumbnail=cjs$4.Page=cjs$4.Outline=cjs$4.Document=cjs$4.pdfjs=void 0;const pdfjs_js_1=__importDefault$9(pdfjs$1);cjs$4.pdfjs=pdfjs_js_1.default;const Document_js_1=__importDefault$9(Document$1);cjs$4.Document=Document_js_1.default;const Outline_js_1=__importDefault$9(Outline$1);cjs$4.Outline=Outline_js_1.default;const Page_js_1=__importDefault$9(Page$1);cjs$4.Page=Page_js_1.default;const Thumbnail_js_1=__importDefault$9(Thumbnail$1);cjs$4.Thumbnail=Thumbnail_js_1.default;const useDocumentContext_js_1=__importDefault$9(useDocumentContext$1);cjs$4.useDocumentContext=useDocumentContext_js_1.default;const useOutlineContext_js_1=__importDefault$9(useOutlineContext$1);cjs$4.useOutlineContext=useOutlineContext_js_1.default;const usePageContext_js_1=__importDefault$9(usePageContext$1);cjs$4.usePageContext=usePageContext_js_1.default;const PasswordResponses_js_1=__importDefault$9(PasswordResponses$1);cjs$4.PasswordResponses=PasswordResponses_js_1.default;const utils_js_1=utils;(0,utils_js_1.displayWorkerWarning)();pdfjs_js_1.default.GlobalWorkerOptions.workerSrc="pdf.worker.js";(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(j,g){return Object.defineProperty?Object.defineProperty(j,"raw",{value:g}):j.raw=g,j},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(j){for(var g,ee=1,ie=arguments.length;ee<ie;ee++){g=arguments[ee];for(var q in g)Object.prototype.hasOwnProperty.call(g,q)&&(j[q]=g[q])}return j},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,g,ee,ie){ie===void 0&&(ie=ee);var q=Object.getOwnPropertyDescriptor(g,ee);(!q||("get"in q?!g.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return g[ee]}}),Object.defineProperty(j,ie,q)}:function(j,g,ee,ie){ie===void 0&&(ie=ee),j[ie]=g[ee]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(j,g){Object.defineProperty(j,"default",{enumerable:!0,value:g})}:function(j,g){j.default=g}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(j){if(j&&j.__esModule)return j;var g={};if(j!=null)for(var ee in j)ee!=="default"&&Object.prototype.hasOwnProperty.call(j,ee)&&a(g,j,ee);return c(g,j),g};Object.defineProperty(e,"__esModule",{value:!0}),e.PdfPlayer=void 0;var d=jsxRuntimeExports,f=h(reactExports),re=h(require$$6$1),_=cjs$4,b=requireLib(),me=require$$3,Se=(0,re.default)("div")($||($=i([`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`],[`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`]))),te=function(j){var g=j.url,ee=j.onLoad,ie=j.onTopicEnd,q=j.documentConfig,ne=q===void 0?{}:q,he=j.pageConfig,le=he===void 0?{}:he,oe=j.className,ce=oe===void 0?"":oe,xe=f.useState(null),se=xe[0],be=xe[1],Ae=f.useState(1),Ie=Ae[0],Re=Ae[1],Fe=f.useState(!1),Ce=Fe[0],ke=Fe[1],we=f.useState(!1),Pe=we[0],fe=we[1],ye=(0,me.useTranslation)().t,ae=function(){ie&&se&&!(se>Ie+1)&&(fe(!0),ie()),Re(Ie+1)},de=function(){Re(Ie-1),Pe&&fe(!1)};return f.useEffect(function(){return _.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_.pdfjs.version,"/pdf.worker.js"),ke(!0),function(){return ke(!1)}},[]),f.useEffect(function(){Ie===se&&ee&&ee()},[se,Ie]),g?(0,d.jsxs)(Se,o({className:"wellms-component ".concat(ce)},{children:[Ce&&g&&(0,d.jsx)(_.Document,o({loading:ye("Loading"),onLoadSuccess:function(ve){var ue=ve.numPages;return be(ue)},file:g},ne,{children:(0,d.jsx)(_.Page,o({pageNumber:Ie,renderAnnotationLayer:!1},le))})),se&&se>1&&(0,d.jsxs)("div",o({className:"pagination-area"},{children:[(0,d.jsxs)(b.Text,{children:[(0,d.jsx)("strong",{children:Ie})," ",ye("PdfPlayer.of")," ",(0,d.jsx)("strong",{children:se})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(b.Button,o({mode:"secondary",disabled:!(Ie>1),className:"nav-btn-modal",onClick:de},{children:ye("Prev")})),(0,d.jsx)(b.Button,o({style:{marginLeft:"10px"},mode:"secondary",disabled:ie?Pe:!(se>Ie),className:"nav-btn-modal",onClick:ae},{children:ye("Next")}))]})]}))]})):(0,d.jsx)("p",{children:ye("PdfPlayer.notFound")})};e.PdfPlayer=te,e.default=(0,re.withTheme)((0,re.default)(e.PdfPlayer)(_e||(_e=i([""],[""]))));var $,_e})(PdfPlayer);var ImagePlayer={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ee,ie){return Object.defineProperty?Object.defineProperty(ee,"raw",{value:ie}):ee.raw=ie,ee},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(ee){for(var ie,q=1,ne=arguments.length;q<ne;q++){ie=arguments[q];for(var he in ie)Object.prototype.hasOwnProperty.call(ie,he)&&(ee[he]=ie[he])}return ee},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,ie,q,ne){ne===void 0&&(ne=q);var he=Object.getOwnPropertyDescriptor(ie,q);(!he||("get"in he?!ie.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return ie[q]}}),Object.defineProperty(ee,ne,he)}:function(ee,ie,q,ne){ne===void 0&&(ne=q),ee[ne]=ie[q]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ee,ie){Object.defineProperty(ee,"default",{enumerable:!0,value:ie})}:function(ee,ie){ee.default=ie}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var ie={};if(ee!=null)for(var q in ee)q!=="default"&&Object.prototype.hasOwnProperty.call(ee,q)&&a(ie,ee,q);return c(ie,ee),ie};Object.defineProperty(e,"__esModule",{value:!0}),e.ImagePlayer=void 0;var d=jsxRuntimeExports,f=reactExports,re=require$$2$2,_=h(require$$6$1),b=utils$3,me=ResponsiveImage,Se=(0,_.default)("div")(_e||(_e=i([`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`],[`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`]))),te=(0,_.createGlobalStyle)(j||(j=i([`
`,`
`],[`
`,`
`])),b.SharedLightboxStyle),$=function(ee){var ie=ee.topic,q=ee.onLoad,ne=ee.className,he=ne===void 0?"":ne,le=(0,f.useState)(""),oe=le[0],ce=le[1];return(0,f.useEffect)(function(){q()},[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(re.Gallery,o({options:{arrowPrev:!1,arrowNext:!1,imageClickAction:"zoom",initialZoomLevel:"fit",secondaryZoomLevel:2,maxZoomLevel:3}},{children:[(0,d.jsx)(te,{}),(0,d.jsx)(Se,o({className:"wellms-component ".concat(he)},{children:(0,d.jsx)(re.Item,o({original:oe,width:ie.topicable.width,height:ie.topicable.height,alt:"LMS Image ".concat(ie.topicable.id)},{children:function(xe){var se=xe.ref,be=xe.open;return(0,d.jsx)(me.ResponsiveImage,{path:ie.topicable.value,onClick:be,onLoad:function(Ae){return ce(Ae.currentTarget.currentSrc)},ref:se,srcSizes:[500,750,1e3]})}}))}))]}))})};e.ImagePlayer=$,e.default=(0,_.withTheme)((0,_.default)(e.ImagePlayer)(g||(g=i([""],[""]))));var _e,j,g})(ImagePlayer);var H5Player={},lib={},context={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(_){for(var b,me=1,Se=arguments.length;me<Se;me++){b=arguments[me];for(var te in b)Object.prototype.hasOwnProperty.call(b,te)&&(_[te]=b[te])}return _},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,b,me,Se){Se===void 0&&(Se=me);var te=Object.getOwnPropertyDescriptor(b,me);(!te||("get"in te?!b.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return b[me]}}),Object.defineProperty(_,Se,te)}:function(_,b,me,Se){Se===void 0&&(Se=me),_[Se]=b[me]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(_,b){Object.defineProperty(_,"default",{enumerable:!0,value:b})}:function(_,b){_.default=b}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(_){if(_&&_.__esModule)return _;var b={};if(_!=null)for(var me in _)me!=="default"&&Object.prototype.hasOwnProperty.call(_,me)&&o(b,_,me);return a(b,_),b};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextProvider=e.EditorContext=void 0;var h=jsxRuntimeExports,d=c(reactExports),f={url:"http://localhost:1000/api/hh5p/",state:{value:"initial"}};e.EditorContext=d.default.createContext(f);var re=function(_){var b=_.children,me=_.url,Se=_.defaultLang,te=Se===void 0?"en":Se,$=(0,d.useState)({value:"initial"}),_e=$[0],j=$[1],g=(0,d.useState)(te),ee=g[0],ie=g[1],q=(0,d.useState)(new Headers({"Content-Type":"application/json",Accept:"application/json"})),ne=q[0],he=q[1],le=(0,d.useCallback)(function(se){var be=se?"".concat(me,"/editor/").concat(se):"".concat(me,"/editor");return be=ee?"".concat(be,"?lang=").concat(ee):be,fetch(be,{headers:ne}).then(function(Ae){if(!Ae.ok)throw Error("response error status ".concat(Ae.status));return Ae.json()}).then(function(Ae){return j(function(Ie){return i(i({},Ie),{value:"loaded",settings:Ae.data})}),Ae}).catch(function(Ae){j(function(Ie){return i(i({},Ie),{value:"error",error:Ae.toString()})})})},[me,ne,ee]),oe=(0,d.useCallback)(function(se){se&&j(function(be){return i(i({},be),{value:"loaded",settings:se})})},[me,ne]),ce=(0,d.useCallback)(function(se){return fetch(se?"".concat(me,"/content/").concat(se):"".concat(me,"/content"),{headers:ne}).then(function(be){if(!be.ok)throw Error("response error status ".concat(be.status));return be.json()}).then(function(be){return j(function(Ae){return i(i({},Ae),{value:"loaded",settings:be.data})}),be}).catch(function(be){j(function(Ae){return i(i({},Ae),{value:"error",error:be.toString()})})})},[me,ne]),xe=(0,d.useCallback)(function(se,be){return fetch(be?"".concat(me,"/content/").concat(be):"".concat(me,"/content"),{method:"POST",body:JSON.stringify(se),headers:ne}).then(function(Ae){if(!Ae.ok)throw Error("response error status ".concat(Ae.status));return Ae.json()}).then(function(Ae){return Ae}).catch(function(Ae){j(function(Ie){return i(i({},Ie),{value:"error",error:Ae.toString()})})})},[me,ne]);return(0,h.jsx)(e.EditorContext.Provider,i({value:{url:me,state:_e,getEditorConfig:le,getContentConfig:ce,submitContent:xe,seth5pObject:oe,setLang:ie,setHeaders:he}},{children:b}))};e.EditorContextProvider=re})(context);var editor$1={},server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports;function l$2(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p$1=Object.prototype.hasOwnProperty,fa$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha$1={},ia$1={};function ja$1(e){return p$1.call(ia$1,e)?!0:p$1.call(ha$1,e)?!1:fa$1.test(e)?ia$1[e]=!0:(ha$1[e]=!0,!1)}function r(e,i,o,a,c,h,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=i,this.sanitizeURL=h,this.removeEmptyString=d}var t$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){t$1[e]=new r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];t$1[i]=new r(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){t$1[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){t$1[e]=new r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){t$1[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){t$1[e]=new r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){t$1[e]=new r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){t$1[e]=new r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){t$1[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)});var ka$1=/[\-:]([a-z])/g;function la$1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)});t$1.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)});var u$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma=["Webkit","ms","Moz","O"];Object.keys(u$1).forEach(function(e){ma.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),u$1[i]=u$1[e]})});var na=/["'&<>]/;function v(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=na.exec(e);if(i){var o="",a,c=0;for(a=i.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==a&&(o+=e.substring(c,a)),c=a+1,o+=i}e=c!==a?o+e.substring(c,a):o}return e}var oa$1=/([A-Z])/g,pa$1=/^ms-/,qa$1=Array.isArray;function w$1(e,i){return{insertionMode:e,selectedValue:i}}function ra$1(e,i,o){switch(i){case"select":return w$1(1,o.value!=null?o.value:o.defaultValue);case"svg":return w$1(2,null);case"math":return w$1(3,null);case"foreignObject":return w$1(1,null);case"table":return w$1(4,null);case"thead":case"tbody":case"tfoot":return w$1(5,null);case"colgroup":return w$1(7,null);case"tr":return w$1(6,null)}return 4<=e.insertionMode||e.insertionMode===0?w$1(1,null):e}var sa$1=new Map;function ta$1(e,i,o){if(typeof o!="object")throw Error(l$2(62));i=!0;for(var a in o)if(p$1.call(o,a)){var c=o[a];if(c!=null&&typeof c!="boolean"&&c!==""){if(a.indexOf("--")===0){var h=v(a);c=v((""+c).trim())}else{h=a;var d=sa$1.get(h);d!==void 0||(d=v(h.replace(oa$1,"-$1").toLowerCase().replace(pa$1,"-ms-")),sa$1.set(h,d)),h=d,c=typeof c=="number"?c===0||p$1.call(u$1,a)?""+c:c+"px":v((""+c).trim())}i?(i=!1,e.push(' style="',h,":",c)):e.push(";",h,":",c)}}i||e.push('"')}function x$1(e,i,o,a){switch(o){case"style":ta$1(e,i,a);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(i=t$1.hasOwnProperty(o)?t$1[o]:null,i!==null){switch(typeof a){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(o=i.attributeName,i.type){case 3:a&&e.push(" ",o,'=""');break;case 4:a===!0?e.push(" ",o,'=""'):a!==!1&&e.push(" ",o,'="',v(a),'"');break;case 5:isNaN(a)||e.push(" ",o,'="',v(a),'"');break;case 6:!isNaN(a)&&1<=a&&e.push(" ",o,'="',v(a),'"');break;default:i.sanitizeURL&&(a=""+a),e.push(" ",o,'="',v(a),'"')}}else if(ja$1(o)){switch(typeof a){case"function":case"symbol":return;case"boolean":if(i=o.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(" ",o,'="',v(a),'"')}}}function y$1(e,i,o){if(i!=null){if(o!=null)throw Error(l$2(60));if(typeof i!="object"||!("__html"in i))throw Error(l$2(61));i=i.__html,i!=null&&e.push(""+i)}}function ua$1(e){var i="";return aa$1.Children.forEach(e,function(o){o!=null&&(i+=o)}),i}function va$1(e,i,o,a){e.push(A(o));var c=o=null,h;for(h in i)if(p$1.call(i,h)){var d=i[h];if(d!=null)switch(h){case"children":o=d;break;case"dangerouslySetInnerHTML":c=d;break;default:x$1(e,a,h,d)}}return e.push(">"),y$1(e,c,o),typeof o=="string"?(e.push(v(o)),null):o}var wa$1=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xa$1=new Map;function A(e){var i=xa$1.get(e);if(i===void 0){if(!wa$1.test(e))throw Error(l$2(65,e));i="<"+e,xa$1.set(e,i)}return i}function ya$1(e,i,o,a,c){switch(i){case"select":e.push(A("select"));var h=null,d=null;for(b in o)if(p$1.call(o,b)){var f=o[b];if(f!=null)switch(b){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"defaultValue":case"value":break;default:x$1(e,a,b,f)}}return e.push(">"),y$1(e,d,h),h;case"option":d=c.selectedValue,e.push(A("option"));var re=f=null,_=null,b=null;for(h in o)if(p$1.call(o,h)){var me=o[h];if(me!=null)switch(h){case"children":f=me;break;case"selected":_=me;break;case"dangerouslySetInnerHTML":b=me;break;case"value":re=me;default:x$1(e,a,h,me)}}if(d!=null)if(o=re!==null?""+re:ua$1(f),qa$1(d)){for(a=0;a<d.length;a++)if(""+d[a]===o){e.push(' selected=""');break}}else""+d===o&&e.push(' selected=""');else _&&e.push(' selected=""');return e.push(">"),y$1(e,b,f),f;case"textarea":e.push(A("textarea")),b=d=h=null;for(f in o)if(p$1.call(o,f)&&(re=o[f],re!=null))switch(f){case"children":b=re;break;case"value":h=re;break;case"defaultValue":d=re;break;case"dangerouslySetInnerHTML":throw Error(l$2(91));default:x$1(e,a,f,re)}if(h===null&&d!==null&&(h=d),e.push(">"),b!=null){if(h!=null)throw Error(l$2(92));if(qa$1(b)&&1<b.length)throw Error(l$2(93));h=""+b}return typeof h=="string"&&h[0]===`
`&&e.push(`
`),h!==null&&e.push(v(""+h)),null;case"input":e.push(A("input")),re=b=f=h=null;for(d in o)if(p$1.call(o,d)&&(_=o[d],_!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,"input"));case"defaultChecked":re=_;break;case"defaultValue":f=_;break;case"checked":b=_;break;case"value":h=_;break;default:x$1(e,a,d,_)}return b!==null?x$1(e,a,"checked",b):re!==null&&x$1(e,a,"checked",re),h!==null?x$1(e,a,"value",h):f!==null&&x$1(e,a,"value",f),e.push("/>"),null;case"menuitem":e.push(A("menuitem"));for(var Se in o)if(p$1.call(o,Se)&&(h=o[Se],h!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(400));default:x$1(e,a,Se,h)}return e.push(">"),null;case"title":e.push(A("title")),h=null;for(me in o)if(p$1.call(o,me)&&(d=o[me],d!=null))switch(me){case"children":h=d;break;case"dangerouslySetInnerHTML":throw Error(l$2(434));default:x$1(e,a,me,d)}return e.push(">"),h;case"listing":case"pre":e.push(A(i)),d=h=null;for(re in o)if(p$1.call(o,re)&&(f=o[re],f!=null))switch(re){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;default:x$1(e,a,re,f)}if(e.push(">"),d!=null){if(h!=null)throw Error(l$2(60));if(typeof d!="object"||!("__html"in d))throw Error(l$2(61));o=d.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?e.push(`
`,o):e.push(""+o))}return typeof h=="string"&&h[0]===`
`&&e.push(`
`),h;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(A(i));for(var te in o)if(p$1.call(o,te)&&(h=o[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,i));default:x$1(e,a,te,h)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return va$1(e,o,i,a);case"html":return c.insertionMode===0&&e.push("<!DOCTYPE html>"),va$1(e,o,i,a);default:if(i.indexOf("-")===-1&&typeof o.is!="string")return va$1(e,o,i,a);e.push(A(i)),d=h=null;for(_ in o)if(p$1.call(o,_)&&(f=o[_],f!=null))switch(_){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"style":ta$1(e,a,f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ja$1(_)&&typeof f!="function"&&typeof f!="symbol"&&e.push(" ",_,'="',v(f),'"')}return e.push(">"),y$1(e,d,h),h}}function za$1(e,i,o){if(e.push('<!--$?--><template id="'),o===null)throw Error(l$2(395));return e.push(o),e.push('"></template>')}function Aa$1(e,i,o,a){switch(o.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 4:return e.push('<table hidden id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');default:throw Error(l$2(397))}}function Ba$1(e,i){switch(i.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(l$2(397))}}var Ca$1=/[<\u2028\u2029]/g;function Da$1(e){return JSON.stringify(e).replace(Ca$1,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ea$1(e,i){return i=i===void 0?"":i,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:i+"P:",segmentPrefix:i+"S:",boundaryPrefix:i+"B:",idPrefix:i,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Fa$1(e,i,o,a){return o.generateStaticMarkup?(e.push(v(i)),!1):(i===""?e=a:(a&&e.push("<!-- -->"),e.push(v(i)),e=!0),e)}var B$1=Object.assign,Ga$1=Symbol.for("react.element"),Ha$1=Symbol.for("react.portal"),Ia$1=Symbol.for("react.fragment"),Ja$1=Symbol.for("react.strict_mode"),Ka$1=Symbol.for("react.profiler"),La$1=Symbol.for("react.provider"),Ma$1=Symbol.for("react.context"),Na$1=Symbol.for("react.forward_ref"),Oa$1=Symbol.for("react.suspense"),Pa$1=Symbol.for("react.suspense_list"),Qa$1=Symbol.for("react.memo"),Ra$1=Symbol.for("react.lazy"),Sa$1=Symbol.for("react.scope"),Ta$1=Symbol.for("react.debug_trace_mode"),Ua$1=Symbol.for("react.legacy_hidden"),Va$1=Symbol.for("react.default_value"),Wa$1=Symbol.iterator;function Xa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia$1:return"Fragment";case Ha$1:return"Portal";case Ka$1:return"Profiler";case Ja$1:return"StrictMode";case Oa$1:return"Suspense";case Pa$1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ma$1:return(e.displayName||"Context")+".Consumer";case La$1:return(e._context.displayName||"Context")+".Provider";case Na$1:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa$1:return i=e.displayName||null,i!==null?i:Xa$1(e.type)||"Memo";case Ra$1:i=e._payload,e=e._init;try{return Xa$1(e(i))}catch{}}return null}var Ya$1={};function Za$1(e,i){if(e=e.contextTypes,!e)return Ya$1;var o={},a;for(a in e)o[a]=i[a];return o}var E$1=null;function F(e,i){if(e!==i){e.context._currentValue2=e.parentValue,e=e.parent;var o=i.parent;if(e===null){if(o!==null)throw Error(l$2(401))}else{if(o===null)throw Error(l$2(401));F(e,o)}i.context._currentValue2=i.value}}function $a$1(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&$a$1(e)}function ab$1(e){var i=e.parent;i!==null&&ab$1(i),e.context._currentValue2=e.value}function bb$1(e,i){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(l$2(402));e.depth===i.depth?F(e,i):bb$1(e,i)}function cb$1(e,i){var o=i.parent;if(o===null)throw Error(l$2(402));e.depth===o.depth?F(e,o):cb$1(e,o),i.context._currentValue2=i.value}function G(e){var i=E$1;i!==e&&(i===null?ab$1(e):e===null?$a$1(i):i.depth===e.depth?F(i,e):i.depth>e.depth?bb$1(i,e):cb$1(i,e),E$1=e)}var db$1={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function eb$1(e,i,o,a){var c=e.state!==void 0?e.state:null;e.updater=db$1,e.props=o,e.state=c;var h={queue:[],replace:!1};e._reactInternals=h;var d=i.contextType;if(e.context=typeof d=="object"&&d!==null?d._currentValue2:a,d=i.getDerivedStateFromProps,typeof d=="function"&&(d=d(o,c),c=d==null?c:B$1({},c,d),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&db$1.enqueueReplaceState(e,e.state,null),h.queue!==null&&0<h.queue.length)if(i=h.queue,d=h.replace,h.queue=null,h.replace=!1,d&&i.length===1)e.state=i[0];else{for(h=d?i[0]:e.state,c=!0,d=d?1:0;d<i.length;d++){var f=i[d];f=typeof f=="function"?f.call(e,h,o,a):f,f!=null&&(c?(c=!1,h=B$1({},h,f)):B$1(h,f))}e.state=h}else h.queue=null}var fb$1={id:1,overflow:""};function gb$1(e,i,o){var a=e.id;e=e.overflow;var c=32-H$1(a)-1;a&=~(1<<c),o+=1;var h=32-H$1(i)+c;if(30<h){var d=c-c%5;return h=(a&(1<<d)-1).toString(32),a>>=d,c-=d,{id:1<<32-H$1(i)+c|o<<c|a,overflow:h+e}}return{id:1<<h|o<<c|a,overflow:e}}var H$1=Math.clz32?Math.clz32:hb$1,ib$1=Math.log,jb$1=Math.LN2;function hb$1(e){return e>>>=0,e===0?32:31-(ib$1(e)/jb$1|0)|0}function kb$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var lb$1=typeof Object.is=="function"?Object.is:kb$1,I$1=null,ob$1=null,J$1=null,K$1=null,L$1=!1,M$1=!1,N$1=0,O$1=null,P$1=0;function Q$1(){if(I$1===null)throw Error(l$2(321));return I$1}function pb$1(){if(0<P$1)throw Error(l$2(312));return{memoizedState:null,queue:null,next:null}}function qb$1(){return K$1===null?J$1===null?(L$1=!1,J$1=K$1=pb$1()):(L$1=!0,K$1=J$1):K$1.next===null?(L$1=!1,K$1=K$1.next=pb$1()):(L$1=!0,K$1=K$1.next),K$1}function rb$1(){ob$1=I$1=null,M$1=!1,J$1=null,P$1=0,K$1=O$1=null}function sb$1(e,i){return typeof i=="function"?i(e):i}function tb$1(e,i,o){if(I$1=Q$1(),K$1=qb$1(),L$1){var a=K$1.queue;if(i=a.dispatch,O$1!==null&&(o=O$1.get(a),o!==void 0)){O$1.delete(a),a=K$1.memoizedState;do a=e(a,o.action),o=o.next;while(o!==null);return K$1.memoizedState=a,[a,i]}return[K$1.memoizedState,i]}return e=e===sb$1?typeof i=="function"?i():i:o!==void 0?o(i):i,K$1.memoizedState=e,e=K$1.queue={last:null,dispatch:null},e=e.dispatch=ub$1.bind(null,I$1,e),[K$1.memoizedState,e]}function vb$1(e,i){if(I$1=Q$1(),K$1=qb$1(),i=i===void 0?null:i,K$1!==null){var o=K$1.memoizedState;if(o!==null&&i!==null){var a=o[1];e:if(a===null)a=!1;else{for(var c=0;c<a.length&&c<i.length;c++)if(!lb$1(i[c],a[c])){a=!1;break e}a=!0}if(a)return o[0]}}return e=e(),K$1.memoizedState=[e,i],e}function ub$1(e,i,o){if(25<=P$1)throw Error(l$2(301));if(e===I$1)if(M$1=!0,e={action:o,next:null},O$1===null&&(O$1=new Map),o=O$1.get(i),o===void 0)O$1.set(i,e);else{for(i=o;i.next!==null;)i=i.next;i.next=e}}function wb$1(){throw Error(l$2(394))}function R$1(){}var xb$1={readContext:function(e){return e._currentValue2},useContext:function(e){return Q$1(),e._currentValue2},useMemo:vb$1,useReducer:tb$1,useRef:function(e){I$1=Q$1(),K$1=qb$1();var i=K$1.memoizedState;return i===null?(e={current:e},K$1.memoizedState=e):i},useState:function(e){return tb$1(sb$1,e)},useInsertionEffect:R$1,useLayoutEffect:function(){},useCallback:function(e,i){return vb$1(function(){return e},i)},useImperativeHandle:R$1,useEffect:R$1,useDebugValue:R$1,useDeferredValue:function(e){return Q$1(),e},useTransition:function(){return Q$1(),[!1,wb$1]},useId:function(){var e=ob$1.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-H$1(e)-1)).toString(32)+i;var o=S$1;if(o===null)throw Error(l$2(404));return i=N$1++,e=":"+o.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return Q$1(),i(e._source)},useSyncExternalStore:function(e,i,o){if(o===void 0)throw Error(l$2(407));return o()}},S$1=null,yb$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb$1(e){return console.error(e),null}function T$1(){}function Ab$1(e,i,o,a,c,h,d,f,re){var _=[],b=new Set;return i={destination:null,responseState:i,progressiveChunkSize:a===void 0?12800:a,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:b,pingedTasks:_,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?zb$1:c,onAllReady:T$1,onShellReady:d===void 0?T$1:d,onShellError:T$1,onFatalError:T$1},o=U$1(i,0,null,o,!1,!1),o.parentFlushed=!0,e=Bb$1(i,e,null,o,b,Ya$1,null,fb$1),_.push(e),i}function Bb$1(e,i,o,a,c,h,d,f){e.allPendingTasks++,o===null?e.pendingRootTasks++:o.pendingTasks++;var re={node:i,ping:function(){var _=e.pingedTasks;_.push(re),_.length===1&&Cb$1(e)},blockedBoundary:o,blockedSegment:a,abortSet:c,legacyContext:h,context:d,treeContext:f};return c.add(re),re}function U$1(e,i,o,a,c,h){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:a,boundary:o,lastPushedText:c,textEmbedded:h}}function V$1(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function W$1(e,i){var o=e.onShellError;o(i),o=e.onFatalError,o(i),e.destination!==null?(e.status=2,e.destination.destroy(i)):(e.status=1,e.fatalError=i)}function Db$1(e,i,o,a,c){for(I$1={},ob$1=i,N$1=0,e=o(a,c);M$1;)M$1=!1,N$1=0,P$1+=1,K$1=null,e=o(a,c);return rb$1(),e}function Eb$1(e,i,o,a){var c=o.render(),h=a.childContextTypes;if(h!=null){var d=i.legacyContext;if(typeof o.getChildContext!="function")a=d;else{o=o.getChildContext();for(var f in o)if(!(f in h))throw Error(l$2(108,Xa$1(a)||"Unknown",f));a=B$1({},d,o)}i.legacyContext=a,X$1(e,i,c),i.legacyContext=d}else X$1(e,i,c)}function Fb(e,i){if(e&&e.defaultProps){i=B$1({},i),e=e.defaultProps;for(var o in e)i[o]===void 0&&(i[o]=e[o]);return i}return i}function Gb$1(e,i,o,a,c){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){c=Za$1(o,i.legacyContext);var h=o.contextType;h=new o(a,typeof h=="object"&&h!==null?h._currentValue2:c),eb$1(h,o,a,c),Eb$1(e,i,h,o)}else{h=Za$1(o,i.legacyContext),c=Db$1(e,i,o,a,h);var d=N$1!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)eb$1(c,o,a,h),Eb$1(e,i,c,o);else if(d){a=i.treeContext,i.treeContext=gb$1(a,1,0);try{X$1(e,i,c)}finally{i.treeContext=a}}else X$1(e,i,c)}else if(typeof o=="string"){switch(c=i.blockedSegment,h=ya$1(c.chunks,o,a,e.responseState,c.formatContext),c.lastPushedText=!1,d=c.formatContext,c.formatContext=ra$1(d,o,a),Hb$1(e,i,h),c.formatContext=d,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push("</",o,">")}c.lastPushedText=!1}else{switch(o){case Ua$1:case Ta$1:case Ja$1:case Ka$1:case Ia$1:X$1(e,i,a.children);return;case Pa$1:X$1(e,i,a.children);return;case Sa$1:throw Error(l$2(343));case Oa$1:e:{o=i.blockedBoundary,c=i.blockedSegment,h=a.fallback,a=a.children,d=new Set;var f={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:d,errorDigest:null},re=U$1(e,c.chunks.length,f,c.formatContext,!1,!1);c.children.push(re),c.lastPushedText=!1;var _=U$1(e,0,null,c.formatContext,!1,!1);_.parentFlushed=!0,i.blockedBoundary=f,i.blockedSegment=_;try{if(Hb$1(e,i,a),e.responseState.generateStaticMarkup||_.lastPushedText&&_.textEmbedded&&_.chunks.push("<!-- -->"),_.status=1,Y$1(f,_),f.pendingTasks===0)break e}catch(b){_.status=4,f.forceClientRender=!0,f.errorDigest=V$1(e,b)}finally{i.blockedBoundary=o,i.blockedSegment=c}i=Bb$1(e,h,o,re,d,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Na$1:if(a=Db$1(e,i,o.render,a,c),N$1!==0){o=i.treeContext,i.treeContext=gb$1(o,1,0);try{X$1(e,i,a)}finally{i.treeContext=o}}else X$1(e,i,a);return;case Qa$1:o=o.type,a=Fb(o,a),Gb$1(e,i,o,a,c);return;case La$1:if(c=a.children,o=o._context,a=a.value,h=o._currentValue2,o._currentValue2=a,d=E$1,E$1=a={parent:d,depth:d===null?0:d.depth+1,context:o,parentValue:h,value:a},i.context=a,X$1(e,i,c),e=E$1,e===null)throw Error(l$2(403));a=e.parentValue,e.context._currentValue2=a===Va$1?e.context._defaultValue:a,e=E$1=e.parent,i.context=e;return;case Ma$1:a=a.children,a=a(o._currentValue2),X$1(e,i,a);return;case Ra$1:c=o._init,o=c(o._payload),a=Fb(o,a),Gb$1(e,i,o,a,void 0);return}throw Error(l$2(130,o==null?o:typeof o,""))}}function X$1(e,i,o){if(i.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case Ga$1:Gb$1(e,i,o.type,o.props,o.ref);return;case Ha$1:throw Error(l$2(257));case Ra$1:var a=o._init;o=a(o._payload),X$1(e,i,o);return}if(qa$1(o)){Ib$1(e,i,o);return}if(o===null||typeof o!="object"?a=null:(a=Wa$1&&o[Wa$1]||o["@@iterator"],a=typeof a=="function"?a:null),a&&(a=a.call(o))){if(o=a.next(),!o.done){var c=[];do c.push(o.value),o=a.next();while(!o.done);Ib$1(e,i,c)}return}throw e=Object.prototype.toString.call(o),Error(l$2(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}typeof o=="string"?(a=i.blockedSegment,a.lastPushedText=Fa$1(i.blockedSegment.chunks,o,e.responseState,a.lastPushedText)):typeof o=="number"&&(a=i.blockedSegment,a.lastPushedText=Fa$1(i.blockedSegment.chunks,""+o,e.responseState,a.lastPushedText))}function Ib$1(e,i,o){for(var a=o.length,c=0;c<a;c++){var h=i.treeContext;i.treeContext=gb$1(h,a,c);try{Hb$1(e,i,o[c])}finally{i.treeContext=h}}}function Hb$1(e,i,o){var a=i.blockedSegment.formatContext,c=i.legacyContext,h=i.context;try{return X$1(e,i,o)}catch(re){if(rb$1(),typeof re=="object"&&re!==null&&typeof re.then=="function"){o=re;var d=i.blockedSegment,f=U$1(e,d.chunks.length,null,d.formatContext,d.lastPushedText,!0);d.children.push(f),d.lastPushedText=!1,e=Bb$1(e,i.node,i.blockedBoundary,f,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,o.then(e,e),i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,G(h)}else throw i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,G(h),re}}function Jb$1(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,Kb$1(this,i,e)}function Lb$1(e,i,o){var a=e.blockedBoundary;e.blockedSegment.status=3,a===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.push(null))):(a.pendingTasks--,a.forceClientRender||(a.forceClientRender=!0,e=o===void 0?Error(l$2(432)):o,a.errorDigest=i.onError(e),a.parentFlushed&&i.clientRenderedBoundaries.push(a)),a.fallbackAbortableTasks.forEach(function(c){return Lb$1(c,i,o)}),a.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(a=i.onAllReady,a()))}function Y$1(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var o=i.children[0];o.id=i.id,o.parentFlushed=!0,o.status===1&&Y$1(e,o)}else e.completedSegments.push(i)}function Kb$1(e,i,o){if(i===null){if(o.parentFlushed){if(e.completedRootSegment!==null)throw Error(l$2(389));e.completedRootSegment=o}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=T$1,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(o.parentFlushed&&o.status===1&&Y$1(i,o),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(Jb$1,e),i.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(Y$1(i,o),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Cb$1(e){if(e.status!==2){var i=E$1,o=yb$1.current;yb$1.current=xb$1;var a=S$1;S$1=e.responseState;try{var c=e.pingedTasks,h;for(h=0;h<c.length;h++){var d=c[h],f=e,re=d.blockedSegment;if(re.status===0){G(d.context);try{X$1(f,d,d.node),f.responseState.generateStaticMarkup||re.lastPushedText&&re.textEmbedded&&re.chunks.push("<!-- -->"),d.abortSet.delete(d),re.status=1,Kb$1(f,d.blockedBoundary,re)}catch($){if(rb$1(),typeof $=="object"&&$!==null&&typeof $.then=="function"){var _=d.ping;$.then(_,_)}else{d.abortSet.delete(d),re.status=4;var b=d.blockedBoundary,me=$,Se=V$1(f,me);if(b===null?W$1(f,me):(b.pendingTasks--,b.forceClientRender||(b.forceClientRender=!0,b.errorDigest=Se,b.parentFlushed&&f.clientRenderedBoundaries.push(b))),f.allPendingTasks--,f.allPendingTasks===0){var te=f.onAllReady;te()}}}finally{}}}c.splice(0,h),e.destination!==null&&Mb$1(e,e.destination)}catch($){V$1(e,$),W$1(e,$)}finally{S$1=a,yb$1.current=o,o===xb$1&&G(i)}}}function Z$1(e,i,o){switch(o.parentFlushed=!0,o.status){case 0:var a=o.id=e.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,e=e.responseState,i.push('<template id="'),i.push(e.placeholderPrefix),e=a.toString(16),i.push(e),i.push('"></template>');case 1:o.status=2;var c=!0;a=o.chunks;var h=0;o=o.children;for(var d=0;d<o.length;d++){for(c=o[d];h<c.index;h++)i.push(a[h]);c=Nb$1(e,i,c)}for(;h<a.length-1;h++)i.push(a[h]);return h<a.length&&(c=i.push(a[h])),c;default:throw Error(l$2(390))}}function Nb$1(e,i,o){var a=o.boundary;if(a===null)return Z$1(e,i,o);if(a.parentFlushed=!0,a.forceClientRender)return e.responseState.generateStaticMarkup||(a=a.errorDigest,i.push("<!--$!-->"),i.push("<template"),a&&(i.push(' data-dgst="'),a=v(a),i.push(a),i.push('"')),i.push("></template>")),Z$1(e,i,o),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e;if(0<a.pendingTasks){a.rootSegmentID=e.nextSegmentId++,0<a.completedSegments.length&&e.partialBoundaries.push(a);var c=e.responseState,h=c.nextSuspenseID++;return c=c.boundaryPrefix+h.toString(16),a=a.id=c,za$1(i,e.responseState,a),Z$1(e,i,o),i.push("<!--/$-->")}if(a.byteSize>e.progressiveChunkSize)return a.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(a),za$1(i,e.responseState,a.id),Z$1(e,i,o),i.push("<!--/$-->");if(e.responseState.generateStaticMarkup||i.push("<!--$-->"),o=a.completedSegments,o.length!==1)throw Error(l$2(391));return Nb$1(e,i,o[0]),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e}function Ob$1(e,i,o){return Aa$1(i,e.responseState,o.formatContext,o.id),Nb$1(e,i,o),Ba$1(i,o.formatContext)}function Pb$1(e,i,o){for(var a=o.completedSegments,c=0;c<a.length;c++)Qb$1(e,i,o,a[c]);if(a.length=0,e=e.responseState,a=o.id,o=o.rootSegmentID,i.push(e.startInlineScript),e.sentCompleteBoundaryFunction?i.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,i.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),a===null)throw Error(l$2(395));return o=o.toString(16),i.push(a),i.push('","'),i.push(e.segmentPrefix),i.push(o),i.push('")<\/script>')}function Qb$1(e,i,o,a){if(a.status===2)return!0;var c=a.id;if(c===-1){if((a.id=o.rootSegmentID)===-1)throw Error(l$2(392));return Ob$1(e,i,a)}return Ob$1(e,i,a),e=e.responseState,i.push(e.startInlineScript),e.sentCompleteSegmentFunction?i.push('$RS("'):(e.sentCompleteSegmentFunction=!0,i.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),i.push(e.segmentPrefix),c=c.toString(16),i.push(c),i.push('","'),i.push(e.placeholderPrefix),i.push(c),i.push('")<\/script>')}function Mb$1(e,i){try{var o=e.completedRootSegment;if(o!==null&&e.pendingRootTasks===0){Nb$1(e,i,o),e.completedRootSegment=null;var a=e.responseState.bootstrapChunks;for(o=0;o<a.length-1;o++)i.push(a[o]);o<a.length&&i.push(a[o])}var c=e.clientRenderedBoundaries,h;for(h=0;h<c.length;h++){var d=c[h];a=i;var f=e.responseState,re=d.id,_=d.errorDigest,b=d.errorMessage,me=d.errorComponentStack;if(a.push(f.startInlineScript),f.sentClientRenderFunction?a.push('$RX("'):(f.sentClientRenderFunction=!0,a.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),re===null)throw Error(l$2(395));if(a.push(re),a.push('"'),_||b||me){a.push(",");var Se=Da$1(_||"");a.push(Se)}if(b||me){a.push(",");var te=Da$1(b||"");a.push(te)}if(me){a.push(",");var $=Da$1(me);a.push($)}if(!a.push(")<\/script>")){e.destination=null,h++,c.splice(0,h);return}}c.splice(0,h);var _e=e.completedBoundaries;for(h=0;h<_e.length;h++)if(!Pb$1(e,i,_e[h])){e.destination=null,h++,_e.splice(0,h);return}_e.splice(0,h);var j=e.partialBoundaries;for(h=0;h<j.length;h++){var g=j[h];e:{c=e,d=i;var ee=g.completedSegments;for(f=0;f<ee.length;f++)if(!Qb$1(c,d,g,ee[f])){f++,ee.splice(0,f);var ie=!1;break e}ee.splice(0,f),ie=!0}if(!ie){e.destination=null,h++,j.splice(0,h);return}}j.splice(0,h);var q=e.completedBoundaries;for(h=0;h<q.length;h++)if(!Pb$1(e,i,q[h])){e.destination=null,h++,q.splice(0,h);return}q.splice(0,h)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.push(null)}}function Rb$1(e,i){try{var o=e.abortableTasks;o.forEach(function(a){return Lb$1(a,e,i)}),o.clear(),e.destination!==null&&Mb$1(e,e.destination)}catch(a){V$1(e,a),W$1(e,a)}}function Sb$1(){}function Tb$1(e,i,o,a){var c=!1,h=null,d="",f={push:function(_){return _!==null&&(d+=_),!0},destroy:function(_){c=!0,h=_}},re=!1;if(e=Ab$1(e,Ea$1(o,i?i.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sb$1,void 0,function(){re=!0}),Cb$1(e),Rb$1(e,a),e.status===1)e.status=2,f.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=f;try{Mb$1(e,f)}catch(_){V$1(e,_),W$1(e,_)}}if(c)throw h;if(!re)throw Error(l$2(426));return d}reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(l$2(207))};reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(e,i){return Tb$1(e,i,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(l$2(208))};reactDomServerLegacy_browser_production_min.renderToString=function(e,i){return Tb$1(e,i,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.version="18.3.1";var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports;function k(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l$1=null,n=0;function p(e,i){if(i.length!==0)if(512<i.length)0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=new Uint8Array(512),n=0),e.enqueue(i);else{var o=l$1.length-n;o<i.length&&(o===0?e.enqueue(l$1):(l$1.set(i.subarray(0,o),n),e.enqueue(l$1),i=i.subarray(o)),l$1=new Uint8Array(512),n=0),l$1.set(i,n),n+=i.length}}function t(e,i){return p(e,i),!0}function ba(e){l$1&&0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=null,n=0)}var ca$1=new TextEncoder;function u(e){return ca$1.encode(e)}function w(e){return ca$1.encode(e)}function da(e,i){typeof e.error=="function"?e.error(i):e.close()}var x=Object.prototype.hasOwnProperty,ea=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa={},ha={};function ia(e){return x.call(ha,e)?!0:x.call(fa,e)?!1:ea.test(e)?ha[e]=!0:(fa[e]=!0,!1)}function y(e,i,o,a,c,h,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=i,this.sanitizeURL=h,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new y(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new y(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new y(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new y(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new y(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new y(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(e){la.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),B[i]=B[e]})});var oa=/["'&<>]/;function C(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=oa.exec(e);if(i){var o="",a,c=0;for(a=i.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==a&&(o+=e.substring(c,a)),c=a+1,o+=i}e=c!==a?o+e.substring(c,a):o}return e}var pa=/([A-Z])/g,qa=/^ms-/,ra=Array.isArray,sa=w("<script>"),ta=w("<\/script>"),ua=w('<script src="'),va=w('<script type="module" src="'),wa=w('" async=""><\/script>'),xa=/(<\/|<)(s)(cript)/gi;function ya(e,i,o,a){return""+i+(o==="s"?"\\u0073":"\\u0053")+a}function za(e,i,o,a,c){e=e===void 0?"":e,i=i===void 0?sa:w('<script nonce="'+C(i)+'">');var h=[];if(o!==void 0&&h.push(i,u((""+o).replace(xa,ya)),ta),a!==void 0)for(o=0;o<a.length;o++)h.push(ua,u(C(a[o])),wa);if(c!==void 0)for(a=0;a<c.length;a++)h.push(va,u(C(c[a])),wa);return{bootstrapChunks:h,startInlineScript:i,placeholderPrefix:w(e+"P:"),segmentPrefix:w(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function D(e,i){return{insertionMode:e,selectedValue:i}}function Aa(e){return D(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ba(e,i,o){switch(i){case"select":return D(1,o.value!=null?o.value:o.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=e.insertionMode||e.insertionMode===0?D(1,null):e}var Ca=w("<!-- -->");function Da(e,i,o,a){return i===""?a:(a&&e.push(Ca),e.push(u(C(i))),!0)}var Ea=new Map,Fa=w(' style="'),Ga=w(":"),Ha=w(";");function Ia(e,i,o){if(typeof o!="object")throw Error(k(62));i=!0;for(var a in o)if(x.call(o,a)){var c=o[a];if(c!=null&&typeof c!="boolean"&&c!==""){if(a.indexOf("--")===0){var h=u(C(a));c=u(C((""+c).trim()))}else{h=a;var d=Ea.get(h);d!==void 0||(d=w(C(h.replace(pa,"-$1").toLowerCase().replace(qa,"-ms-"))),Ea.set(h,d)),h=d,c=typeof c=="number"?c===0||x.call(B,a)?u(""+c):u(c+"px"):u(C((""+c).trim()))}i?(i=!1,e.push(Fa,h,Ga,c)):e.push(Ha,h,Ga,c)}}i||e.push(E)}var H=w(" "),I=w('="'),E=w('"'),Ja=w('=""');function J(e,i,o,a){switch(o){case"style":Ia(e,i,a);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(i=z.hasOwnProperty(o)?z[o]:null,i!==null){switch(typeof a){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(o=u(i.attributeName),i.type){case 3:a&&e.push(H,o,Ja);break;case 4:a===!0?e.push(H,o,Ja):a!==!1&&e.push(H,o,I,u(C(a)),E);break;case 5:isNaN(a)||e.push(H,o,I,u(C(a)),E);break;case 6:!isNaN(a)&&1<=a&&e.push(H,o,I,u(C(a)),E);break;default:i.sanitizeURL&&(a=""+a),e.push(H,o,I,u(C(a)),E)}}else if(ia(o)){switch(typeof a){case"function":case"symbol":return;case"boolean":if(i=o.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(H,u(o),I,u(C(a)),E)}}}var K=w(">"),Ka=w("/>");function L(e,i,o){if(i!=null){if(o!=null)throw Error(k(60));if(typeof i!="object"||!("__html"in i))throw Error(k(61));i=i.__html,i!=null&&e.push(u(""+i))}}function La(e){var i="";return aa.Children.forEach(e,function(o){o!=null&&(i+=o)}),i}var Ma=w(' selected=""');function Na(e,i,o,a){e.push(M(o));var c=o=null,h;for(h in i)if(x.call(i,h)){var d=i[h];if(d!=null)switch(h){case"children":o=d;break;case"dangerouslySetInnerHTML":c=d;break;default:J(e,a,h,d)}}return e.push(K),L(e,c,o),typeof o=="string"?(e.push(u(C(o))),null):o}var Oa=w(`
`),Pa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qa=new Map;function M(e){var i=Qa.get(e);if(i===void 0){if(!Pa.test(e))throw Error(k(65,e));i=w("<"+e),Qa.set(e,i)}return i}var Ra=w("<!DOCTYPE html>");function Sa(e,i,o,a,c){switch(i){case"select":e.push(M("select"));var h=null,d=null;for(b in o)if(x.call(o,b)){var f=o[b];if(f!=null)switch(b){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"defaultValue":case"value":break;default:J(e,a,b,f)}}return e.push(K),L(e,d,h),h;case"option":d=c.selectedValue,e.push(M("option"));var re=f=null,_=null,b=null;for(h in o)if(x.call(o,h)){var me=o[h];if(me!=null)switch(h){case"children":f=me;break;case"selected":_=me;break;case"dangerouslySetInnerHTML":b=me;break;case"value":re=me;default:J(e,a,h,me)}}if(d!=null)if(o=re!==null?""+re:La(f),ra(d)){for(a=0;a<d.length;a++)if(""+d[a]===o){e.push(Ma);break}}else""+d===o&&e.push(Ma);else _&&e.push(Ma);return e.push(K),L(e,b,f),f;case"textarea":e.push(M("textarea")),b=d=h=null;for(f in o)if(x.call(o,f)&&(re=o[f],re!=null))switch(f){case"children":b=re;break;case"value":h=re;break;case"defaultValue":d=re;break;case"dangerouslySetInnerHTML":throw Error(k(91));default:J(e,a,f,re)}if(h===null&&d!==null&&(h=d),e.push(K),b!=null){if(h!=null)throw Error(k(92));if(ra(b)&&1<b.length)throw Error(k(93));h=""+b}return typeof h=="string"&&h[0]===`
`&&e.push(Oa),h!==null&&e.push(u(C(""+h))),null;case"input":e.push(M("input")),re=b=f=h=null;for(d in o)if(x.call(o,d)&&(_=o[d],_!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,"input"));case"defaultChecked":re=_;break;case"defaultValue":f=_;break;case"checked":b=_;break;case"value":h=_;break;default:J(e,a,d,_)}return b!==null?J(e,a,"checked",b):re!==null&&J(e,a,"checked",re),h!==null?J(e,a,"value",h):f!==null&&J(e,a,"value",f),e.push(Ka),null;case"menuitem":e.push(M("menuitem"));for(var Se in o)if(x.call(o,Se)&&(h=o[Se],h!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(k(400));default:J(e,a,Se,h)}return e.push(K),null;case"title":e.push(M("title")),h=null;for(me in o)if(x.call(o,me)&&(d=o[me],d!=null))switch(me){case"children":h=d;break;case"dangerouslySetInnerHTML":throw Error(k(434));default:J(e,a,me,d)}return e.push(K),h;case"listing":case"pre":e.push(M(i)),d=h=null;for(re in o)if(x.call(o,re)&&(f=o[re],f!=null))switch(re){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;default:J(e,a,re,f)}if(e.push(K),d!=null){if(h!=null)throw Error(k(60));if(typeof d!="object"||!("__html"in d))throw Error(k(61));o=d.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?e.push(Oa,u(o)):e.push(u(""+o)))}return typeof h=="string"&&h[0]===`
`&&e.push(Oa),h;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(M(i));for(var te in o)if(x.call(o,te)&&(h=o[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,i));default:J(e,a,te,h)}return e.push(Ka),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Na(e,o,i,a);case"html":return c.insertionMode===0&&e.push(Ra),Na(e,o,i,a);default:if(i.indexOf("-")===-1&&typeof o.is!="string")return Na(e,o,i,a);e.push(M(i)),d=h=null;for(_ in o)if(x.call(o,_)&&(f=o[_],f!=null))switch(_){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"style":Ia(e,a,f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ia(_)&&typeof f!="function"&&typeof f!="symbol"&&e.push(H,u(_),I,u(C(f)),E)}return e.push(K),L(e,d,h),h}}var Ta=w("</"),Ua=w(">"),Va=w('<template id="'),Wa=w('"></template>'),Xa=w("<!--$-->"),Ya=w('<!--$?--><template id="'),Za=w('"></template>'),$a=w("<!--$!-->"),ab=w("<!--/$-->"),bb=w("<template"),cb=w('"'),db=w(' data-dgst="');w(' data-msg="');w(' data-stck="');var eb=w("></template>");function fb(e,i,o){if(p(e,Ya),o===null)throw Error(k(395));return p(e,o),t(e,Za)}var gb=w('<div hidden id="'),hb=w('">'),ib=w("</div>"),jb=w('<svg aria-hidden="true" style="display:none" id="'),kb=w('">'),lb=w("</svg>"),mb=w('<math aria-hidden="true" style="display:none" id="'),nb=w('">'),ob=w("</math>"),pb=w('<table hidden id="'),qb=w('">'),rb=w("</table>"),sb=w('<table hidden><tbody id="'),tb=w('">'),ub=w("</tbody></table>"),vb=w('<table hidden><tr id="'),wb=w('">'),xb=w("</tr></table>"),yb=w('<table hidden><colgroup id="'),zb=w('">'),Ab=w("</colgroup></table>");function Bb(e,i,o,a){switch(o.insertionMode){case 0:case 1:return p(e,gb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,hb);case 2:return p(e,jb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,kb);case 3:return p(e,mb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,nb);case 4:return p(e,pb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,qb);case 5:return p(e,sb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,tb);case 6:return p(e,vb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,wb);case 7:return p(e,yb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,zb);default:throw Error(k(397))}}function Cb(e,i){switch(i.insertionMode){case 0:case 1:return t(e,ib);case 2:return t(e,lb);case 3:return t(e,ob);case 4:return t(e,rb);case 5:return t(e,ub);case 6:return t(e,xb);case 7:return t(e,Ab);default:throw Error(k(397))}}var Db=w('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Eb=w('$RS("'),Gb=w('","'),Hb=w('")<\/script>'),Ib=w('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jb=w('$RC("'),Kb=w('","'),Lb=w('")<\/script>'),Mb=w('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Nb=w('$RX("'),Ob=w('"'),Pb=w(")<\/script>"),Qb=w(","),Rb=/[<\u2028\u2029]/g;function Sb(e){return JSON.stringify(e).replace(Rb,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var N=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),hc=Symbol.for("react.default_value"),ic=Symbol.iterator;function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zb:return(e.displayName||"Context")+".Consumer";case Yb:return(e._context.displayName||"Context")+".Provider";case $b:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cc:return i=e.displayName||null,i!==null?i:jc(e.type)||"Memo";case dc:i=e._payload,e=e._init;try{return jc(e(i))}catch{}}return null}var kc={};function lc(e,i){if(e=e.contextTypes,!e)return kc;var o={},a;for(a in e)o[a]=i[a];return o}var O=null;function P(e,i){if(e!==i){e.context._currentValue=e.parentValue,e=e.parent;var o=i.parent;if(e===null){if(o!==null)throw Error(k(401))}else{if(o===null)throw Error(k(401));P(e,o)}i.context._currentValue=i.value}}function mc(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&mc(e)}function nc(e){var i=e.parent;i!==null&&nc(i),e.context._currentValue=e.value}function oc(e,i){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(k(402));e.depth===i.depth?P(e,i):oc(e,i)}function pc(e,i){var o=i.parent;if(o===null)throw Error(k(402));e.depth===o.depth?P(e,o):pc(e,o),i.context._currentValue=i.value}function Q(e){var i=O;i!==e&&(i===null?nc(e):e===null?mc(i):i.depth===e.depth?P(i,e):i.depth>e.depth?oc(i,e):pc(i,e),O=e)}var qc={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function rc(e,i,o,a){var c=e.state!==void 0?e.state:null;e.updater=qc,e.props=o,e.state=c;var h={queue:[],replace:!1};e._reactInternals=h;var d=i.contextType;if(e.context=typeof d=="object"&&d!==null?d._currentValue:a,d=i.getDerivedStateFromProps,typeof d=="function"&&(d=d(o,c),c=d==null?c:N({},c,d),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&qc.enqueueReplaceState(e,e.state,null),h.queue!==null&&0<h.queue.length)if(i=h.queue,d=h.replace,h.queue=null,h.replace=!1,d&&i.length===1)e.state=i[0];else{for(h=d?i[0]:e.state,c=!0,d=d?1:0;d<i.length;d++){var f=i[d];f=typeof f=="function"?f.call(e,h,o,a):f,f!=null&&(c?(c=!1,h=N({},h,f)):N(h,f))}e.state=h}else h.queue=null}var sc={id:1,overflow:""};function tc(e,i,o){var a=e.id;e=e.overflow;var c=32-uc(a)-1;a&=~(1<<c),o+=1;var h=32-uc(i)+c;if(30<h){var d=c-c%5;return h=(a&(1<<d)-1).toString(32),a>>=d,c-=d,{id:1<<32-uc(i)+c|o<<c|a,overflow:h+e}}return{id:1<<h|o<<c|a,overflow:e}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(e){return e>>>=0,e===0?32:31-(wc(e)/xc|0)|0}function yc(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zc=typeof Object.is=="function"?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(R===null)throw Error(k(321));return R}function Ec(){if(0<Dc)throw Error(k(312));return{memoizedState:null,queue:null,next:null}}function Fc(){return S===null?Bc===null?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):S.next===null?(T=!1,S=S.next=Ec()):(T=!0,S=S.next),S}function Gc(){Ac=R=null,Cc=!1,Bc=null,Dc=0,S=V=null}function Hc(e,i){return typeof i=="function"?i(e):i}function Ic(e,i,o){if(R=W(),S=Fc(),T){var a=S.queue;if(i=a.dispatch,V!==null&&(o=V.get(a),o!==void 0)){V.delete(a),a=S.memoizedState;do a=e(a,o.action),o=o.next;while(o!==null);return S.memoizedState=a,[a,i]}return[S.memoizedState,i]}return e=e===Hc?typeof i=="function"?i():i:o!==void 0?o(i):i,S.memoizedState=e,e=S.queue={last:null,dispatch:null},e=e.dispatch=Jc.bind(null,R,e),[S.memoizedState,e]}function Kc(e,i){if(R=W(),S=Fc(),i=i===void 0?null:i,S!==null){var o=S.memoizedState;if(o!==null&&i!==null){var a=o[1];e:if(a===null)a=!1;else{for(var c=0;c<a.length&&c<i.length;c++)if(!zc(i[c],a[c])){a=!1;break e}a=!0}if(a)return o[0]}}return e=e(),S.memoizedState=[e,i],e}function Jc(e,i,o){if(25<=Dc)throw Error(k(301));if(e===R)if(Cc=!0,e={action:o,next:null},V===null&&(V=new Map),o=V.get(i),o===void 0)V.set(i,e);else{for(i=o;i.next!==null;)i=i.next;i.next=e}}function Lc(){throw Error(k(394))}function Mc(){}var Oc={readContext:function(e){return e._currentValue},useContext:function(e){return W(),e._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(e){R=W(),S=Fc();var i=S.memoizedState;return i===null?(e={current:e},S.memoizedState=e):i},useState:function(e){return Ic(Hc,e)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(e,i){return Kc(function(){return e},i)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(e){return W(),e},useTransition:function(){return W(),[!1,Lc]},useId:function(){var e=Ac.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-uc(e)-1)).toString(32)+i;var o=Nc;if(o===null)throw Error(k(404));return i=U++,e=":"+o.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return W(),i(e._source)},useSyncExternalStore:function(e,i,o){if(o===void 0)throw Error(k(407));return o()}},Nc=null,Pc=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(e){return console.error(e),null}function X(){}function Rc(e,i,o,a,c,h,d,f,re){var _=[],b=new Set;return i={destination:null,responseState:i,progressiveChunkSize:a===void 0?12800:a,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:b,pingedTasks:_,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?Qc:c,onAllReady:h===void 0?X:h,onShellReady:d===void 0?X:d,onShellError:f===void 0?X:f,onFatalError:re===void 0?X:re},o=Sc(i,0,null,o,!1,!1),o.parentFlushed=!0,e=Tc(i,e,null,o,b,kc,null,sc),_.push(e),i}function Tc(e,i,o,a,c,h,d,f){e.allPendingTasks++,o===null?e.pendingRootTasks++:o.pendingTasks++;var re={node:i,ping:function(){var _=e.pingedTasks;_.push(re),_.length===1&&Uc(e)},blockedBoundary:o,blockedSegment:a,abortSet:c,legacyContext:h,context:d,treeContext:f};return c.add(re),re}function Sc(e,i,o,a,c,h){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:a,boundary:o,lastPushedText:c,textEmbedded:h}}function Y(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Vc(e,i){var o=e.onShellError;o(i),o=e.onFatalError,o(i),e.destination!==null?(e.status=2,da(e.destination,i)):(e.status=1,e.fatalError=i)}function Wc(e,i,o,a,c){for(R={},Ac=i,U=0,e=o(a,c);Cc;)Cc=!1,U=0,Dc+=1,S=null,e=o(a,c);return Gc(),e}function Xc(e,i,o,a){var c=o.render(),h=a.childContextTypes;if(h!=null){var d=i.legacyContext;if(typeof o.getChildContext!="function")a=d;else{o=o.getChildContext();for(var f in o)if(!(f in h))throw Error(k(108,jc(a)||"Unknown",f));a=N({},d,o)}i.legacyContext=a,Z(e,i,c),i.legacyContext=d}else Z(e,i,c)}function Yc(e,i){if(e&&e.defaultProps){i=N({},i),e=e.defaultProps;for(var o in e)i[o]===void 0&&(i[o]=e[o]);return i}return i}function Zc(e,i,o,a,c){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){c=lc(o,i.legacyContext);var h=o.contextType;h=new o(a,typeof h=="object"&&h!==null?h._currentValue:c),rc(h,o,a,c),Xc(e,i,h,o)}else{h=lc(o,i.legacyContext),c=Wc(e,i,o,a,h);var d=U!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)rc(c,o,a,h),Xc(e,i,c,o);else if(d){a=i.treeContext,i.treeContext=tc(a,1,0);try{Z(e,i,c)}finally{i.treeContext=a}}else Z(e,i,c)}else if(typeof o=="string"){switch(c=i.blockedSegment,h=Sa(c.chunks,o,a,e.responseState,c.formatContext),c.lastPushedText=!1,d=c.formatContext,c.formatContext=Ba(d,o,a),$c(e,i,h),c.formatContext=d,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push(Ta,u(o),Ua)}c.lastPushedText=!1}else{switch(o){case gc:case fc:case Wb:case Xb:case Vb:Z(e,i,a.children);return;case bc:Z(e,i,a.children);return;case ec:throw Error(k(343));case ac:e:{o=i.blockedBoundary,c=i.blockedSegment,h=a.fallback,a=a.children,d=new Set;var f={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:d,errorDigest:null},re=Sc(e,c.chunks.length,f,c.formatContext,!1,!1);c.children.push(re),c.lastPushedText=!1;var _=Sc(e,0,null,c.formatContext,!1,!1);_.parentFlushed=!0,i.blockedBoundary=f,i.blockedSegment=_;try{if($c(e,i,a),_.lastPushedText&&_.textEmbedded&&_.chunks.push(Ca),_.status=1,ad(f,_),f.pendingTasks===0)break e}catch(b){_.status=4,f.forceClientRender=!0,f.errorDigest=Y(e,b)}finally{i.blockedBoundary=o,i.blockedSegment=c}i=Tc(e,h,o,re,d,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $b:if(a=Wc(e,i,o.render,a,c),U!==0){o=i.treeContext,i.treeContext=tc(o,1,0);try{Z(e,i,a)}finally{i.treeContext=o}}else Z(e,i,a);return;case cc:o=o.type,a=Yc(o,a),Zc(e,i,o,a,c);return;case Yb:if(c=a.children,o=o._context,a=a.value,h=o._currentValue,o._currentValue=a,d=O,O=a={parent:d,depth:d===null?0:d.depth+1,context:o,parentValue:h,value:a},i.context=a,Z(e,i,c),e=O,e===null)throw Error(k(403));a=e.parentValue,e.context._currentValue=a===hc?e.context._defaultValue:a,e=O=e.parent,i.context=e;return;case Zb:a=a.children,a=a(o._currentValue),Z(e,i,a);return;case dc:c=o._init,o=c(o._payload),a=Yc(o,a),Zc(e,i,o,a,void 0);return}throw Error(k(130,o==null?o:typeof o,""))}}function Z(e,i,o){if(i.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case Tb:Zc(e,i,o.type,o.props,o.ref);return;case Ub:throw Error(k(257));case dc:var a=o._init;o=a(o._payload),Z(e,i,o);return}if(ra(o)){bd(e,i,o);return}if(o===null||typeof o!="object"?a=null:(a=ic&&o[ic]||o["@@iterator"],a=typeof a=="function"?a:null),a&&(a=a.call(o))){if(o=a.next(),!o.done){var c=[];do c.push(o.value),o=a.next();while(!o.done);bd(e,i,c)}return}throw e=Object.prototype.toString.call(o),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}typeof o=="string"?(a=i.blockedSegment,a.lastPushedText=Da(i.blockedSegment.chunks,o,e.responseState,a.lastPushedText)):typeof o=="number"&&(a=i.blockedSegment,a.lastPushedText=Da(i.blockedSegment.chunks,""+o,e.responseState,a.lastPushedText))}function bd(e,i,o){for(var a=o.length,c=0;c<a;c++){var h=i.treeContext;i.treeContext=tc(h,a,c);try{$c(e,i,o[c])}finally{i.treeContext=h}}}function $c(e,i,o){var a=i.blockedSegment.formatContext,c=i.legacyContext,h=i.context;try{return Z(e,i,o)}catch(re){if(Gc(),typeof re=="object"&&re!==null&&typeof re.then=="function"){o=re;var d=i.blockedSegment,f=Sc(e,d.chunks.length,null,d.formatContext,d.lastPushedText,!0);d.children.push(f),d.lastPushedText=!1,e=Tc(e,i.node,i.blockedBoundary,f,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,o.then(e,e),i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,Q(h)}else throw i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,Q(h),re}}function cd(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,dd(this,i,e)}function ed(e,i,o){var a=e.blockedBoundary;e.blockedSegment.status=3,a===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.close())):(a.pendingTasks--,a.forceClientRender||(a.forceClientRender=!0,e=o===void 0?Error(k(432)):o,a.errorDigest=i.onError(e),a.parentFlushed&&i.clientRenderedBoundaries.push(a)),a.fallbackAbortableTasks.forEach(function(c){return ed(c,i,o)}),a.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(a=i.onAllReady,a()))}function ad(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var o=i.children[0];o.id=i.id,o.parentFlushed=!0,o.status===1&&ad(e,o)}else e.completedSegments.push(i)}function dd(e,i,o){if(i===null){if(o.parentFlushed){if(e.completedRootSegment!==null)throw Error(k(389));e.completedRootSegment=o}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=X,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(o.parentFlushed&&o.status===1&&ad(i,o),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(cd,e),i.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(ad(i,o),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Uc(e){if(e.status!==2){var i=O,o=Pc.current;Pc.current=Oc;var a=Nc;Nc=e.responseState;try{var c=e.pingedTasks,h;for(h=0;h<c.length;h++){var d=c[h],f=e,re=d.blockedSegment;if(re.status===0){Q(d.context);try{Z(f,d,d.node),re.lastPushedText&&re.textEmbedded&&re.chunks.push(Ca),d.abortSet.delete(d),re.status=1,dd(f,d.blockedBoundary,re)}catch($){if(Gc(),typeof $=="object"&&$!==null&&typeof $.then=="function"){var _=d.ping;$.then(_,_)}else{d.abortSet.delete(d),re.status=4;var b=d.blockedBoundary,me=$,Se=Y(f,me);if(b===null?Vc(f,me):(b.pendingTasks--,b.forceClientRender||(b.forceClientRender=!0,b.errorDigest=Se,b.parentFlushed&&f.clientRenderedBoundaries.push(b))),f.allPendingTasks--,f.allPendingTasks===0){var te=f.onAllReady;te()}}}finally{}}}c.splice(0,h),e.destination!==null&&fd(e,e.destination)}catch($){Y(e,$),Vc(e,$)}finally{Nc=a,Pc.current=o,o===Oc&&Q(i)}}}function gd(e,i,o){switch(o.parentFlushed=!0,o.status){case 0:var a=o.id=e.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,e=e.responseState,p(i,Va),p(i,e.placeholderPrefix),e=u(a.toString(16)),p(i,e),t(i,Wa);case 1:o.status=2;var c=!0;a=o.chunks;var h=0;o=o.children;for(var d=0;d<o.length;d++){for(c=o[d];h<c.index;h++)p(i,a[h]);c=hd(e,i,c)}for(;h<a.length-1;h++)p(i,a[h]);return h<a.length&&(c=t(i,a[h])),c;default:throw Error(k(390))}}function hd(e,i,o){var a=o.boundary;if(a===null)return gd(e,i,o);if(a.parentFlushed=!0,a.forceClientRender)a=a.errorDigest,t(i,$a),p(i,bb),a&&(p(i,db),p(i,u(C(a))),p(i,cb)),t(i,eb),gd(e,i,o);else if(0<a.pendingTasks){a.rootSegmentID=e.nextSegmentId++,0<a.completedSegments.length&&e.partialBoundaries.push(a);var c=e.responseState,h=c.nextSuspenseID++;c=w(c.boundaryPrefix+h.toString(16)),a=a.id=c,fb(i,e.responseState,a),gd(e,i,o)}else if(a.byteSize>e.progressiveChunkSize)a.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(a),fb(i,e.responseState,a.id),gd(e,i,o);else{if(t(i,Xa),o=a.completedSegments,o.length!==1)throw Error(k(391));hd(e,i,o[0])}return t(i,ab)}function id(e,i,o){return Bb(i,e.responseState,o.formatContext,o.id),hd(e,i,o),Cb(i,o.formatContext)}function jd(e,i,o){for(var a=o.completedSegments,c=0;c<a.length;c++)kd(e,i,o,a[c]);if(a.length=0,e=e.responseState,a=o.id,o=o.rootSegmentID,p(i,e.startInlineScript),e.sentCompleteBoundaryFunction?p(i,Jb):(e.sentCompleteBoundaryFunction=!0,p(i,Ib)),a===null)throw Error(k(395));return o=u(o.toString(16)),p(i,a),p(i,Kb),p(i,e.segmentPrefix),p(i,o),t(i,Lb)}function kd(e,i,o,a){if(a.status===2)return!0;var c=a.id;if(c===-1){if((a.id=o.rootSegmentID)===-1)throw Error(k(392));return id(e,i,a)}return id(e,i,a),e=e.responseState,p(i,e.startInlineScript),e.sentCompleteSegmentFunction?p(i,Eb):(e.sentCompleteSegmentFunction=!0,p(i,Db)),p(i,e.segmentPrefix),c=u(c.toString(16)),p(i,c),p(i,Gb),p(i,e.placeholderPrefix),p(i,c),t(i,Hb)}function fd(e,i){l$1=new Uint8Array(512),n=0;try{var o=e.completedRootSegment;if(o!==null&&e.pendingRootTasks===0){hd(e,i,o),e.completedRootSegment=null;var a=e.responseState.bootstrapChunks;for(o=0;o<a.length-1;o++)p(i,a[o]);o<a.length&&t(i,a[o])}var c=e.clientRenderedBoundaries,h;for(h=0;h<c.length;h++){var d=c[h];a=i;var f=e.responseState,re=d.id,_=d.errorDigest,b=d.errorMessage,me=d.errorComponentStack;if(p(a,f.startInlineScript),f.sentClientRenderFunction?p(a,Nb):(f.sentClientRenderFunction=!0,p(a,Mb)),re===null)throw Error(k(395));p(a,re),p(a,Ob),(_||b||me)&&(p(a,Qb),p(a,u(Sb(_||"")))),(b||me)&&(p(a,Qb),p(a,u(Sb(b||"")))),me&&(p(a,Qb),p(a,u(Sb(me)))),t(a,Pb)}c.splice(0,h);var Se=e.completedBoundaries;for(h=0;h<Se.length;h++)jd(e,i,Se[h]);Se.splice(0,h),ba(i),l$1=new Uint8Array(512),n=0;var te=e.partialBoundaries;for(h=0;h<te.length;h++){var $=te[h];e:{c=e,d=i;var _e=$.completedSegments;for(f=0;f<_e.length;f++)if(!kd(c,d,$,_e[f])){f++,_e.splice(0,f);var j=!1;break e}_e.splice(0,f),j=!0}if(!j){e.destination=null,h++,te.splice(0,h);return}}te.splice(0,h);var g=e.completedBoundaries;for(h=0;h<g.length;h++)jd(e,i,g[h]);g.splice(0,h)}finally{ba(i),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.close()}}function ld(e,i){try{var o=e.abortableTasks;o.forEach(function(a){return ed(a,e,i)}),o.clear(),e.destination!==null&&fd(e,e.destination)}catch(a){Y(e,a),Vc(e,a)}}reactDomServer_browser_production_min.renderToReadableStream=function(e,i){return new Promise(function(o,a){var c,h,d=new Promise(function(b,me){h=b,c=me}),f=Rc(e,za(i?i.identifierPrefix:void 0,i?i.nonce:void 0,i?i.bootstrapScriptContent:void 0,i?i.bootstrapScripts:void 0,i?i.bootstrapModules:void 0),Aa(i?i.namespaceURI:void 0),i?i.progressiveChunkSize:void 0,i?i.onError:void 0,h,function(){var b=new ReadableStream({type:"bytes",pull:function(me){if(f.status===1)f.status=2,da(me,f.fatalError);else if(f.status!==2&&f.destination===null){f.destination=me;try{fd(f,me)}catch(Se){Y(f,Se),Vc(f,Se)}}},cancel:function(){ld(f)}},{highWaterMark:0});b.allReady=d,o(b)},function(b){d.catch(function(){}),a(b)},c);if(i&&i.signal){var re=i.signal,_=function(){ld(f,re.reason),re.removeEventListener("abort",_)};re.addEventListener("abort",_)}Uc(f)})};reactDomServer_browser_production_min.version="18.3.1";var l,s;l=reactDomServerLegacy_browser_production_min,s=reactDomServer_browser_production_min;server_browser.version=l.version;server_browser.renderToString=l.renderToString;server_browser.renderToStaticMarkup=l.renderToStaticMarkup;server_browser.renderToNodeStream=l.renderToNodeStream;server_browser.renderToStaticNodeStream=l.renderToStaticNodeStream;server_browser.renderToReadableStream=s.renderToReadableStream;var cjs={};const{replace}="",es=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,ca=/[&<>'"]/g,esca={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},pe=e=>esca[e],escape$1=e=>replace.call(e,ca,pe);cjs.escape=escape$1;const unes={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},cape=e=>unes[e],unescape$1=e=>replace.call(e,es,cape);cjs.unescape=unescape$1;var loader={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(h){for(var d,f=1,re=arguments.length;f<re;f++){d=arguments[f];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(h[_]=d[_])}return h},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var o=jsxRuntimeExports,a={position:"absolute",width:"100%",height:"100",zIndex:"9999",background:"rgba(255, 255, 255, 0.4)",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",alignContent:"center"},c=function(){return(0,o.jsx)("div",i({className:"h5p-loader",style:a},{children:(0,o.jsxs)("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"101px",height:"101px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},{children:[(0,o.jsx)("g",i({transform:"rotate(0 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(30 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(60 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(90 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(120 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(150 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(180 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(210 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(240 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(270 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(300 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(330 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})}))}))]}))}))};e.Loader=c,e.default=e.Loader})(loader);(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(me){for(var Se,te=1,$=arguments.length;te<$;te++){Se=arguments[te];for(var _e in Se)Object.prototype.hasOwnProperty.call(Se,_e)&&(me[_e]=Se[_e])}return me},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var a=jsxRuntimeExports,c=reactExports,h=server_browser,d=cjs,f=o(loader),re=context,_=function(me){return(0,d.unescape)(me)},b=function(me){var Se=me.id,te=me.onSubmit,$=(0,c.useState)(100),_e=$[0],j=$[1],g=(0,c.useRef)(null),ee=(0,c.useState)({state:"initial"}),ie=ee[0],q=ee[1],ne=(0,c.useContext)(re.EditorContext),he=ne.state,le=ne.getEditorConfig,oe=ne.submitContent;(0,c.useEffect)(function(){le&&le(Se)},[Se,le]),(0,c.useEffect)(function(){var xe=function(se){if(se.origin===window.location.origin&&(se.data.iFrameHeight&&j(se.data.iFrameHeight),se.data.h5pEditorStatus)){var be=se.data;be.h5pEditorStatus==="success"&&he.value==="loaded"&&(q({state:"loading"}),oe&&oe(i(i({},be.data),{nonce:he.settings.nonce}),Se).then(function(Ae){te&&Ae&&te(Ae),q({state:"loaded"})}).catch(function(Ae){q({state:"error",error:Ae.toString()})})),be.h5pEditorStatus==="error"&&console.log(be.error)}};return window&&window.addEventListener("message",xe),function(){window&&window.removeEventListener("message",xe)}},[g,oe,he,te,Se]);var ce=(0,c.useMemo)(function(){var xe,se,be,Ae=he.value==="loaded"&&he.settings;if(!Ae)return"";var Ie=he.value==="loaded"&&(!((xe=he.settings)===null||xe===void 0)&&xe.contents)?(se=he.settings)===null||se===void 0?void 0:se.contents[Object.keys((be=he.settings)===null||be===void 0?void 0:be.contents)[0]]:null,Re=Ie?Ie.jsonContent:"";try{Re&&JSON.parse(Re)}catch(Pe){return q({state:"error",error:Pe&&Pe.toString()}),null}var Fe=Ie?Ie.library:"",Ce=`
    (function ($) {
        const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
        const resizeObserver = new ResizeObserver((entries) =>
            postMessage({ iFrameHeight: entries[0].contentRect.height })
        );
        const params = `).concat("`").concat(Re).concat("`",`.split("\\n").join('');
            
        ns.init = function () {
            ns.$ = H5P.jQuery;
            ns.basePath = H5PIntegration.editor.libraryUrl;
            ns.fileIcon = H5PIntegration.editor.fileIcon;
            ns.ajaxPath = H5PIntegration.editor.ajaxPath;
            ns.filesPath = H5PIntegration.editor.filesPath;
            ns.apiVersion = H5PIntegration.editor.apiVersion;
            ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
            ns.assets = H5PIntegration.editor.assets;
            ns.baseUrl = H5PIntegration.baseUrl;
            ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
            if (H5PIntegration.editor.nodeVersionId !== undefined) {
                ns.contentId = H5PIntegration.editor.nodeVersionId;
            }
            const h5peditor = new ns.Editor('`).concat(Fe,`', params, document.getElementById("h5p-editor"));
            H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
            H5P.externalDispatcher.on("resize", (event) => postMessage(event));
            resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
            $("#h5p-editor-submit").click(() => {
                h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
            } );
        };
        ns.getAjaxUrl = function (action, parameters) {
            var url = H5PIntegration.editor.ajaxPath + action;
            url += action === "files" ? "/`).concat(Ae.nonce,`" : "";
            url += "`).concat(Ae.token?"?_token="+Ae.token:"",`";
            if (parameters !== undefined) {
                var separator = url.indexOf("?") === -1 ? "?" : "&";
                for (var property in parameters) {
                    if (parameters.hasOwnProperty(property)) {
                        url += separator + property + "=" + parameters[property];
                        separator = "&";
                    }
                }
            }
            return url;
        };
        $(document).ready(ns.init);
    })(H5P.jQuery);
    `),ke=(0,h.renderToStaticMarkup)((0,a.jsxs)("html",{children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Ae),"; ")}}),Ae.core.scripts.map(function(Pe){return(0,a.jsx)("script",{src:Pe},Pe)}),Ae.core.styles.map(function(Pe){return(0,a.jsx)("link",{type:"text/css",rel:"stylesheet",href:Pe},Pe)})]}),(0,a.jsx)("body",{children:(0,a.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,a.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:"loading"})),(0,a.jsx)("p",{}),(0,a.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:"submit data"})),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:Ce}})]}))})]})),we=_(ke);return window.URL.createObjectURL(new Blob([we],{type:"text/html"}))},[he]);return(0,a.jsxs)("div",i({className:"h5p-editor",style:{height:_e,position:"relative"}},{children:[ie.state==="loading"&&(0,a.jsx)(f.default,{}),ie.state==="error"&&(0,a.jsxs)("p",{children:[(0,a.jsx)("pre",{children:"Error:"})," ",ie.error]}),ce&&(0,a.jsx)("iframe",{ref:g,title:"editor",src:ce,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=b,e.default=e.Editor})(editor$1);var player$1={},FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,i,o){var a,c,h,d,f,re,_=0,b=!1,me=!1,Se=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);i=toNumber(i)||0,isObject(o)&&(b=!!o.leading,me="maxWait"in o,h=me?nativeMax(toNumber(o.maxWait)||0,i):h,Se="trailing"in o?!!o.trailing:Se);function te(he){var le=a,oe=c;return a=c=void 0,_=he,d=e.apply(oe,le),d}function $(he){return _=he,f=setTimeout(g,i),b?te(he):d}function _e(he){var le=he-re,oe=he-_,ce=i-le;return me?nativeMin(ce,h-oe):ce}function j(he){var le=he-re,oe=he-_;return re===void 0||le>=i||le<0||me&&oe>=h}function g(){var he=now();if(j(he))return ee(he);f=setTimeout(g,_e(he))}function ee(he){return f=void 0,Se&&a?te(he):(a=c=void 0,d)}function ie(){f!==void 0&&clearTimeout(f),_=0,a=re=c=f=void 0}function q(){return f===void 0?d:ee(now())}function ne(){var he=now(),le=j(he);if(a=arguments,c=this,re=he,le){if(f===void 0)return $(re);if(me)return f=setTimeout(g,i),te(re)}return f===void 0&&(f=setTimeout(g,i)),d}return ne.cancel=ie,ne.flush=q,ne}function throttle(e,i,o){var a=!0,c=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),debounce(e,i,{leading:a,maxWait:i,trailing:c})}function isObject(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(reTrim,"");var o=reIsBinary.test(e);return o||reIsOctal.test(e)?freeParseInt(e.slice(2),o?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_throttle=throttle;(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(te){for(var $,_e=1,j=arguments.length;_e<j;_e++){$=arguments[_e];for(var g in $)Object.prototype.hasOwnProperty.call($,g)&&(te[g]=$[g])}return te},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__spreadArray||function(te,$,_e){if(_e||arguments.length===2)for(var j=0,g=$.length,ee;j<g;j++)(ee||!(j in $))&&(ee||(ee=Array.prototype.slice.call($,0,j)),ee[j]=$[j]);return te.concat(ee||Array.prototype.slice.call($))},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,h=reactExports,d=server_browser,f=cjs,re=a(lodash_throttle),_=a(loader),b=context,me=100,Se=function(te){var $=te.h5pObject,_e=te.id,j=te.onXAPI,g=te.styles,ee=g===void 0?[]:g,ie=(0,h.useState)(me),q=ie[0],ne=ie[1],he=(0,h.useRef)(null),le=(0,h.useState)(!0),oe=le[0],ce=le[1],xe=(0,h.useContext)(b.EditorContext),se=xe.state,be=xe.seth5pObject;(0,h.useEffect)(function(){$&&be&&(be($),ce(!1))},[$]);var Ae=(0,h.useCallback)((0,re.default)(function(Fe){ne(Fe)},200,{leading:!1}),[]),Ie=(0,h.useCallback)(function(Fe){Fe.data.iFrameHeight&&Fe.data.iFrameHeight>me&&Ae(Fe.data.iFrameHeight),Fe.data.statement&&j&&j(Fe.data)},[j,$,_e]);(0,h.useEffect)(function(){return window&&window.addEventListener("message",Ie),function(){window&&window.removeEventListener("message",Ie)}},[he,se,j,_e]);var Re=(0,h.useMemo)(function(){var Fe,Ce,ke,we=se.value==="loaded"&&se.settings;if(!we)return"";var Pe=se.value==="loaded"&&(!((Fe=se.settings)===null||Fe===void 0)&&Fe.contents)?(Ce=se.settings)===null||Ce===void 0?void 0:Ce.contents[Object.keys((ke=se.settings)===null||ke===void 0?void 0:ke.contents)[0]]:null;we.core.styles=we.core.styles.concat(ee);var fe=Pe==null?void 0:Pe.content.library.embedTypes,ye=(0,d.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
          body, html {margin:0; padding:0;}
          iframe { border:none; margin:0; padding:0; }
          `}),(0,c.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(we),"; ")}),o(o([],we.core.scripts,!0),we.loadedJs,!0).map(function(ae){return(0,c.jsx)("script",{src:ae},ae)}),o(o([],we.core.styles,!0),we.loadedCss,!0).map(function(ae){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:ae},ae)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[fe&&fe==="div"||fe===""&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":_e}),fe&&fe==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat(_e),className:"h5p-iframe","data-content-id":_e,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
            (function ($) {
                const replacerFunc = () => {
                    const visited = new WeakSet();
                    return (key, value) => {
                      if (value.nodeType) return;
                      if (typeof value === "object" && value !== null) {
                        if (visited.has(value)) {
                          return;
                        }
                        visited.add(value);
                      }
                      return value;
                    };
                  };
                const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                const resizeObserver = new ResizeObserver((entries) =>
                    postMessage({ iFrameHeight: entries[0].contentRect.height })
                );
                resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                H5P.externalDispatcher.on('xAPI', function (event) {
                    try {
                      postMessage(event.data, replacerFunc())
                    } catch(err) {
                      console.error(event, err)
                    }
                });
            })(H5P.jQuery);
            `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,f.unescape)(ye).split("&#x27;").join("'")],{type:"text/html"}))},[se,_e,$]);return(0,c.jsxs)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:[oe&&(0,c.jsx)(_.default,{}),!oe&&(0,c.jsx)("iframe",{ref:he,title:"player",src:Re,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:q}})]}))};e.Player=Se,e.default=e.Player})(player$1);var editor={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(me){for(var Se,te=1,$=arguments.length;te<$;te++){Se=arguments[te];for(var _e in Se)Object.prototype.hasOwnProperty.call(Se,_e)&&(me[_e]=Se[_e])}return me},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var a=jsxRuntimeExports,c=reactExports,h=server_browser,d=cjs,f=o(loader),re=function(me){return(0,d.unescape)(me)},_=function(me,Se){var te={pl:{loading:"wgrywam dane","submit data":"prześlij dane"},en:{loading:"loading","submit data":"submit data"}},$=Se;return te[$]&&te[$][me]?te[$][me]:me},b=function(me){var Se=me.id,te=me.onSubmit,$=me.state,_e=me.allowSameOrigin,j=_e===void 0?!1:_e,g=me.onError,ee=me.loading,ie=ee===void 0?!1:ee,q=me.lang,ne=q===void 0?"pl":q,he=me.iframeId,le=he===void 0?"h5p-editor":he,oe=(0,c.useState)(100),ce=oe[0],xe=oe[1],se=(0,c.useRef)(null);(0,c.useEffect)(function(){var Ae=function(Ie){if(!(Ie.origin!==window.location.origin&&!j)&&(Ie.data.iFrameHeight&&xe(Ie.data.iFrameHeight),Ie.data.h5pEditorStatus)){var Re=Ie.data;Re.h5pEditorStatus==="success"&&te&&te(i(i({},Re.data),{nonce:$.nonce}),Se),Re.h5pEditorStatus==="error"&&g&&g(Re.error)}};return window&&window.addEventListener("message",Ae),function(){window&&window.removeEventListener("message",Ae)}},[se,$,te,Se]);var be=(0,c.useMemo)(function(){var Ae=$;if(!Ae)return"";var Ie=$.contents?$==null?void 0:$.contents[Object.keys($.contents)[0]]:null,Re=Ie?Ie.jsonContent:"";try{Re&&JSON.parse(Re)}catch(Pe){return g&&g(Pe&&Pe.toString()),null}var Fe=Ie?Ie.library:"",Ce=`
      (function ($) {
          const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
          const resizeObserver = new ResizeObserver((entries) =>
              postMessage({ iFrameHeight: entries[0].contentRect.height })
          );
          const params = `).concat("`").concat(Re).concat("`",`.split("\\n").join('');
          let token = "`).concat($.token,`";
          
          const onMessage = (e) => {
            if(e.data?.type === "TOKEN_CHANGED") {
              token = e.data?.token ?? null;
            }
          };
          
          window.addEventListener("message", onMessage);
              
          ns.init = function () {
              ns.$ = H5P.jQuery;
              ns.basePath = H5PIntegration.editor.libraryUrl;
              ns.fileIcon = H5PIntegration.editor.fileIcon;
              ns.ajaxPath = H5PIntegration.editor.ajaxPath;
              ns.filesPath = H5PIntegration.editor.filesPath;
              ns.apiVersion = H5PIntegration.editor.apiVersion;
              ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
              ns.assets = H5PIntegration.editor.assets;
              ns.baseUrl = H5PIntegration.baseUrl;
              ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
              if (H5PIntegration.editor.nodeVersionId !== undefined) {
                  ns.contentId = H5PIntegration.editor.nodeVersionId;
              }
              const h5peditor = new ns.Editor('`).concat(Fe,`', params, document.getElementById("h5p-editor"));
              H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
              H5P.externalDispatcher.on("resize", (event) => postMessage(event));
              resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
              $("#h5p-editor-submit").click(() => {
                  h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
              } );
          };
          ns.getAjaxUrl = function (action, parameters) {
              var url = H5PIntegration.editor.ajaxPath + action;
              url += action === "files" ? "/`).concat(Ae.nonce,`" : "";
              url += token ? "?_token=" + token : "";
              url += "`).concat(ne?"&lang="+ne:"",`";
              if (parameters !== undefined) {
                  var separator = url.indexOf("?") === -1 ? "?" : "&";
                  for (var property in parameters) {
                      if (parameters.hasOwnProperty(property)) {
                          url += separator + property + "=" + parameters[property];
                          separator = "&";
                      }
                  }
              }
              return url;
          };
          $(document).ready(ns.init);
      })(H5P.jQuery);
      `),ke=(0,h.renderToStaticMarkup)((0,a.jsxs)("html",{children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,a.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Ae),"; ")}),Ae.core.scripts.map(function(Pe){return(0,a.jsx)("script",{src:Pe},Pe)}),Ae.core.styles.map(function(Pe){return(0,a.jsx)("link",{type:"text/css",rel:"stylesheet",href:Pe},Pe)})]}),(0,a.jsx)("body",{children:(0,a.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,a.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:_("loading",ne)})),(0,a.jsx)("p",{}),(0,a.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:_("submit data",ne)})),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:Ce}})]}))})]})),we=re(ke);return window.URL.createObjectURL(new Blob([we],{type:"text/html"}))},[$]);return(0,a.jsxs)("div",i({className:"h5p-editor",style:{height:ce,position:"relative"}},{children:[ie&&(0,a.jsx)(f.default,{}),be&&(0,a.jsx)("iframe",{ref:se,title:"editor",src:be,id:le,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=b,e.default=e.Editor})(editor);var player={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(te){for(var $,_e=1,j=arguments.length;_e<j;_e++){$=arguments[_e];for(var g in $)Object.prototype.hasOwnProperty.call($,g)&&(te[g]=$[g])}return te},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__spreadArray||function(te,$,_e){if(_e||arguments.length===2)for(var j=0,g=$.length,ee;j<g;j++)(ee||!(j in $))&&(ee||(ee=Array.prototype.slice.call($,0,j)),ee[j]=$[j]);return te.concat(ee||Array.prototype.slice.call($))},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,h=reactExports,d=server_browser,f=cjs,re=a(lodash_throttle),_=function(te){return te.includes("://")},b=1;function me(te){var $=Uint16Array.from({length:te.length},function(g,ee){return te.charCodeAt(ee)}),_e=new Uint8Array($.buffer),j="";return _e.forEach(function(g){j+=String.fromCharCode(g)}),j}var Se=function(te){var $=te.onXAPI,_e=te.state,j=te.styles,g=j===void 0?[]:j;te.lang;var ee=(0,h.useState)(b),ie=ee[0],q=ee[1],ne=(0,h.useState)(!1),he=ne[0],le=ne[1],oe=(0,h.useRef)(null),ce=(0,h.useMemo)(function(){if(_e!=null&&_e.contents){var Ae=Number(Object.keys(_e==null?void 0:_e.contents)[0].split("-")[1]);return isNaN(Ae)?0:Ae}return 0},[_e]),xe=(0,h.useCallback)((0,re.default)(function(Ae){q(Ae)},200,{leading:!1}),[]),se=(0,h.useCallback)(function(Ae){Ae.data.statement&&$&&$(Ae.data),Ae.data.iFrameHeight&&Ae.data.iFrameHeight>b&&(xe(Ae.data.iFrameHeight),le(!0))},[$,_e,oe]);(0,h.useEffect)(function(){return window&&window.addEventListener("message",se),function(){window&&window.removeEventListener("message",se)}},[oe,_e,$]),(0,h.useEffect)(function(){var Ae=setTimeout(function(){le(!0)},1e3);return function(){return clearTimeout(Ae)}},[]);var be=(0,h.useMemo)(function(){var Ae=_e;if(!Ae)return"";Ae.core.styles=Ae.core.styles.concat(g);var Ie=_e!=null&&_e.contents?_e==null?void 0:_e.contents[Object.keys(_e==null?void 0:_e.contents)[0]]:null,Re=Ae.loadedJs&&Ae.loadedJs.length>0?"div":"iframe";Ae.core.scripts=Ae.core.scripts.map(function(ke){return _(ke)?ke:_(Ae.baseUrl)?"".concat(Ae.baseUrl,"/").concat(ke,";"):ke});var Fe=_(Ae.baseUrl)?Ae.baseUrl+"/":"",Ce=(0,d.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
            body, html {margin:0; padding:0;}
            iframe { border:none; margin:0; padding:0; overflow:hidden;  }
            `}),(0,c.jsx)("script",{children:`
            window._aaa = '`.concat(btoa(me(JSON.stringify(Ae,null,2))),`';          
            function fromBinary(r){let e=Uint8Array.from({length:r.length},(e,n)=>r.charCodeAt(n)),n=new Uint16Array(e.buffer),o="";return n.forEach(r=>{o+=String.fromCharCode(r)}),o};
            const H5PIntegration = window.H5PIntegration = JSON.parse(fromBinary(atob('`).concat(btoa(me(JSON.stringify(Ae,null,2))),`')))
            `)}),o(o(o([],Ae.core.scripts?Ae.core.scripts:[],!0),Ae.loadedJs?Ae.loadedJs:[],!0),Ie!=null&&Ie.scripts?Ie==null?void 0:Ie.scripts:[],!0).map(function(ke){return(0,c.jsx)("script",{src:_(ke)?ke:Fe+ke},ke)}),o(o(o([],Ae.core.styles?Ae.core.styles:[],!0),Ae.loadedCss?Ae.loadedCss:[],!0),Ie!=null&&Ie.styles?Ie==null?void 0:Ie.styles:[],!0).map(function(ke){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:_(ke)?ke:Fe+ke},ke)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[Re&&Re==="div"&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":ce}),Re&&Re==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat(ce),className:"h5p-iframe","data-content-id":ce,src:"about:blank",frameBorder:"0",style:{overflow:"hidden"},title:"player"})})),(0,c.jsx)("script",{children:`
              (function ($) {
                  const replacerFunc = () => {
                      const visited = new WeakSet();
                      return (key, value) => {
                        if (value.nodeType) return;
                        if (typeof value === "object" && value !== null) {
                          if (visited.has(value)) {
                            return;
                          }
                          visited.add(value);
                        }
                        return value;
                      };
                    };
                  const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                  const resizeObserver = new ResizeObserver((entries) =>
                      postMessage({ iFrameHeight: entries[0].contentRect.height })
                  );
                  resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                  H5P.externalDispatcher.on('xAPI', function (event) {
                      try {
                        postMessage(event.data, replacerFunc())
                      } catch(err) {
                        console.error(event, err)
                      }
                  });
              })(H5P.jQuery);
              `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,f.unescape)(Ce).split("&#x27;").join("'")],{type:"text/html"}))},[_e]);return(0,c.jsx)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row",height:he?ie:1,overflow:"hidden",width:"100%",position:"relative"}},{children:he&&(0,c.jsx)("iframe",{ref:oe,title:"player",src:be,style:{display:"block",border:"none",height:"100%",overflow:"hidden",width:"100%",position:"absolute",top:0,left:0}})}))};e.Player=Se,e.default=e.Player})(player);(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextlessPlayer=e.ContextlessEditor=e.Player=e.Editor=e.EditorContext=e.EditorContextProvider=void 0;var o=context;Object.defineProperty(e,"EditorContextProvider",{enumerable:!0,get:function(){return o.EditorContextProvider}}),Object.defineProperty(e,"EditorContext",{enumerable:!0,get:function(){return o.EditorContext}});var a=i(editor$1);e.Editor=a.default;var c=i(player$1);e.Player=c.default;var h=i(editor);e.ContextlessEditor=h.default;var d=i(player);e.ContextlessPlayer=d.default,e.default={EditorContextProvider:o.EditorContextProvider,EditorContext:o.EditorContext,Editor:a.default,Player:c.default,ContextlessEditor:h.default,ContextlessPlayer:d.default}})(lib);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ee,ie){return Object.defineProperty?Object.defineProperty(ee,"raw",{value:ie}):ee.raw=ie,ee},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(ee){for(var ie,q=1,ne=arguments.length;q<ne;q++){ie=arguments[q];for(var he in ie)Object.prototype.hasOwnProperty.call(ie,he)&&(ee[he]=ie[he])}return ee},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,ie,q,ne){ne===void 0&&(ne=q);var he=Object.getOwnPropertyDescriptor(ie,q);(!he||("get"in he?!ie.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return ie[q]}}),Object.defineProperty(ee,ne,he)}:function(ee,ie,q,ne){ne===void 0&&(ne=q),ee[ne]=ie[q]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ee,ie){Object.defineProperty(ee,"default",{enumerable:!0,value:ie})}:function(ee,ie){ee.default=ie}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var ie={};if(ee!=null)for(var q in ee)q!=="default"&&Object.prototype.hasOwnProperty.call(ee,q)&&a(ie,ee,q);return c(ie,ee),ie};Object.defineProperty(e,"__esModule",{value:!0}),e.H5Player=void 0;var d=jsxRuntimeExports,f=reactExports,re=h(require$$6$1),_=lib,b=requireContext(),me=provider,Se=Spin,te=utils$3,$=(0,re.default)("div")(j||(j=i([`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`],[`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`])),function(ee){return ee.theme.buttonRadius||0}),_e=function(ee){var ie=ee.uuid,q=ee.onXAPI,ne=ee.onTopicEnd,he=ee.overwriteFileName,le=he===void 0?"h5p_overwrite.css":he,oe=ee.h5pObject,ce=ee.loading,xe=ce===void 0?!1:ce,se=ee.className,be=se===void 0?"":se,Ae=ee.hideActionButtons,Ie=(0,f.useContext)(b.EscolaLMSContext),Re=Ie.fetchH5P,Fe=Ie.h5p;(0,f.useEffect)(function(){ie&&Re(ie)},[ie,Re]);var Ce=(0,f.useContext)(re.ThemeContext),ke=(0,te.getStylesBasedOnTheme)(Ce.mode,Ce.white,Ce.black),we=(0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__background,Ce.background),Pe=(0,te.getStylesBasedOnTheme)(Ce.mode,"transparent",Ce.gray5),fe=(0,te.getStylesBasedOnTheme)(Ce.mode,Ce.white,Ce.gray1),ye=(0,f.useMemo)(function(){var ae=`
    @import url("https://fonts.googleapis.com/css2?family=`.concat(Ce.font,`:wght@400;500;700&display=swap");

    *:not([class^="h5p-icon"]) {
      font-family: `).concat((0,me.getFontFromTheme)(Ce).fontFamily,`!important;
    }
    button {
      border-radius: `).concat(Ce.buttonRadius,`px!important;
    }
    input, textarea {
      border-radius: `).concat(Ce.inputRadius,`px!important;
    }
    .h5p-baq-intro-page {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__secondaryColor,Ce.secondaryColor,Ce.primaryColor),` !important;
      color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    }
    .h5p-joubelui-button.mq-control-button {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      border-bottom: none!important;
      text-shadow: none!important;
      border-radius: `).concat(Ce.buttonRadius,`px!important;
    }
    .h5p-joubelui-button {
      border-radius: `).concat(Ce.buttonRadius,`px!important;
    }
    .h5p-baq-intro-page-title {
      text-shadow: none!important;
      color: `).concat(Ce.white,` !important;
    }
    .h5p-baq {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    }
    .h5p-baq-countdown-text {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    }
    .h5p-baq-countdown-bg.fuel {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-joubelui-progressbar-background {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-baq-alternatives > .h5p-joubelui-button:active, .h5p-baq-alternatives > .h5p-joubelui-button:hover {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
   .odometer-value {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-question {
    background: `).concat(we,` !important;
    color: `).concat(ke,`!important;
   }
   .h5peditor .ui-dialog .h5p-joubelui-button, .h5peditor .h5p-joubelui-button, .h5p-joubelui-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-crossword-cell.h5p-crossword-cell-empty {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray2,Ce.gray3),` !important;
   }
   .h5p-crossword-input-fields-group-input {
    background:`).concat(Pe,` !important;
    border: 1px solid `).concat(fe,`!important;
    color: `).concat(ke,` !important;
   }
   .h5p-crossword .h5p-crossword-cell:not(.h5p-crossword-solution-correct):not(.h5p-crossword-solution-wrong):not(.h5p-crossword-solution-neutral).h5p-crossword-highlight-normal {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-crossword .h5p-crossword-input-fields-group-wrapper-clue.h5p-crossword-input-fields-group-clue-highlight-focus .h5p-crossword-input-fields-group-clue-id {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    color: `).concat(Ce.white,`!important;
   }
   .h5p-crossword .h5p-crossword-cell.h5p-crossword-highlight-normal .h5p-crossword-cell-canvas {
    color: `).concat(Ce.white,`!important;
   }
   .h5p-dialogcards {
      background: `).concat(we,` !important;
      color: `).concat(ke,`!important;
   }
   .h5p-dialogcards-card-content {
    background: `).concat(we,` !important;
   }
   .h5p-dialogcards .h5p-audio-minimal-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-essay-input-field-textfield {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(fe,`!important;
    color: `).concat(ke,`!important;
   }
   .h5p-question-feedback-content-text {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-question-explanation-container {
    background: `).concat(we,` !important;
   }
   .h5p-question-explanation-item {
    background: `).concat(we,` !important;
   }
   .h5p-accordion .h5p-panel-content {
    color: `).concat(ke,`!important;
   }
   .h5p-accordion .h5p-panel-title {
    color: `).concat(ke,`!important;
   }
   .h5p-panel-content h5p-advanced-text {
    color: `).concat(ke,`!important;
   }
   .h5p-status dt {
    color: `).concat(ke,`!important;  
   }
   .h5p-status dd {
    color: `).concat(ke,`!important;  
   }
   .h5p-accordion .h5p-panel-title:before {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-accordion {
    background: `).concat(we,` !important;
    color: `).concat(ke,`!important;
   }
   .h5p-panel-title {
    color: `).concat(ke,`!important;
   }
   .h5p-panel-expanded {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-questionnaire-element.h5p-questionnaire-required .h5p-subcontent-question {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    color: `).concat(Ce.white,`!important;
   }
   .h5p-questionnaire-required-symbol {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-questionnaire-progress-bar-current {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    filter: brightness(0.8) !important;
   }
   .h5p-questionnaire-footer {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray2,Ce.gray4),` !important;
    border: none!important;
   }
   .h5p-questionnaire-button, .h5peditor .h5p-questionnaire-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    border: none!important;
   }
   .h5p-open-ended-question-input {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(fe,`!important;
    color: `).concat(ke,`!important;
    width: 100%!important;
    max-width: 100%!important;
   }
   .h5p-open-ended-question-content {
    background: `).concat(we,` !important;
   }
   .h5p-open-ended-question-question:before {
    background: `).concat(we,` !important;
   }
   .h5p-questionnaire-progress-bar {
    background: `).concat(Ce.gray2,` !important;
   }
   .h5p-open-ended-question-question, 
   .h5p-simple-multiple-choice-question, 
   h5p-subcontent-question {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-true-false-answer {
    background: `).concat(we,`!important;
   }
   .h5p-true-false-answer[aria-checked=true] {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    color: `).concat(Ce.white,`!important;
    border: 1px solid `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-true-false-answer:focus {
    box-shadow: 0 0 0 1px `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-alternative-container {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(fe,`!important;
    box-shadow: none!important;
   }
   .h5p-multichoice .h5p-answer[aria-checked="true"] .h5p-alternative-container {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-answer .h5p-alternative-container:before {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray4,Ce.gray2),`!important;
    border-radius: `).concat(Ce.checkboxRadius,`!important;
   }
   .h5p-question-feedback {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   ul.h5p-sc-alternatives li.h5p-sc-alternative {
    background: `).concat(Pe,` !important;
    border: 1px solid `).concat(fe,`!important;
    box-shadow: none!important;
   }
   li.h5p-sc-alternative .h5p-sc-progressbar {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
  
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:hover, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:active, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:focus {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,"lime","green"),`!important;
   }
   .h5p-image-hotspot-popup {
    background: `).concat(we,` !important;
    color: `).concat(ke,`!important;
   }
   .h5p-image-hotspots {
    background-color: `).concat(we,` !important;
   }
   .h5p-image-hotspot-popup-pointer {
    border-left: 0.6em solid `).concat(we,`!important;
   }
   .h5p-image-sequencing {
    background: `).concat(we,` !important;
    color: `).concat(ke,`!important;
   }
   .h5p-task-description {
    color: `).concat(ke,`!important;
   }
   .draggabled .image-desc .text {
    color: `).concat(ke,`!important;
   }
   .h5p-guess-answer {
    background: `).concat(we,` !important;
   }
   .h5p-content {
    background: `).concat(we,` !important;
   }
   .h5p-guess-answer-title {
    color: `).concat(ke,`!important;
   }
   .show-solution-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    color: `).concat(Ce.white,`!important;
   }
   .solution-text {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-image-slider-progress-element {
    background: transparent !important;
    border: 1px solid `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    border-radius: `).concat(Ce.buttonRadius,`px!important;
    width: 9px!important;
    height: 9px!important;
   }
   .h5p-image-slider-current-progress-element {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-memory-reset {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    color: "#fff"!important;
   }
   .h5p-feedback h5p-show {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-memory-game .h5p-memory-top {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray2,Ce.gray4),` !important;
   }
   .h5p-memory-game .h5p-memory-pop {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray1,Ce.gray3),` !important;
   }
   .h5p-memory-game .h5p-programatically-focusable {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-content ul.h5p-actions {
    display: `).concat(Ae?"none":"block",`;
  }
  `);return"data:text/css;base64,".concat(btoa(ae))},[Ce,Ae]);return(0,d.jsxs)($,o({className:"wellms-component ".concat(be)},{children:[(Fe&&Fe.loading||xe)&&(0,d.jsx)("div",o({className:"h5p-loading"},{children:(0,d.jsx)(Se.Spin,{})})),(Fe.value||oe)&&(0,d.jsx)(_.ContextlessPlayer,{state:Fe.value||oe,onXAPI:function(ae){var de,ve;q==null||q(ae),!((ve=(de=ae==null?void 0:ae.statement)===null||de===void 0?void 0:de.result)===null||ve===void 0)&&ve.success&&(ne==null||ne())},styles:["".concat(window.location.origin,"/").concat(le),ye]},ye)]}))};e.H5Player=_e,e.default=(0,re.withTheme)((0,re.default)(e.H5Player)(g||(g=i([""],[""]))));var j,g})(H5Player);var quizzes={},gfit_quiz={},__assign$c=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$c=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$c.apply(this,arguments)},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,o,a){function c(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function f(b){try{_(a.next(b))}catch(me){d(me)}}function re(b){try{_(a.throw(b))}catch(me){d(me)}}function _(b){b.done?h(b.value):c(b.value).then(f,re)}_((a=a.apply(e,i||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(e,i){var o={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(_){return function(b){return re([_,b])}}function re(_){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,c&&(h=_[0]&2?c.return:_[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,_[1])).done)return h;switch(c=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,c=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(h=o.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){o=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){o.label=_[1];break}if(_[0]===6&&o.label<h[1]){o.label=h[1],h=_;break}if(h&&o.label<h[2]){o.label=h[2],o.ops.push(_);break}h[2]&&o.ops.pop(),o.trys.pop();continue}_=i.call(e,o)}catch(b){_=[6,b],c=0}finally{a=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gfit_quiz,"__esModule",{value:!0});gfit_quiz.quizAttemptFinish=gfit_quiz.getQuizAttempt=gfit_quiz.getQuizAttempts=gfit_quiz.quizAnswer=gfit_quiz.quizAttempt=void 0;var umi_request_1=__importDefault$8(require$$0$1),utils_1$7=utils$4;function quizAttempt(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"POST",data:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.quizAttempt=quizAttempt;function quizAnswer(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-answers"),__assign$c({method:"POST",data:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.quizAnswer=quizAnswer;function getQuizAttempts(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"GET",params:o,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.getQuizAttempts=getQuizAttempts;function getQuizAttempt(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(o),__assign$c({method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.getQuizAttempt=getQuizAttempt;function quizAttemptFinish(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(o,"/end"),__assign$c({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.quizAttemptFinish=quizAttemptFinish;var GiftQuizPlayerContent={},MultipleChoice$1={},DefaultQuestionLayout$1={},__makeTemplateObject$a=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$b=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$b=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$b.apply(this,arguments)},__createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$a(i,e,o);return __setModuleDefault$a(i,e),i},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o};Object.defineProperty(DefaultQuestionLayout$1,"__esModule",{value:!0});var jsx_runtime_1$b=jsxRuntimeExports,react_1$3=reactExports,react_transition_group_1=require$$2$3,styled_components_1$a=__importStar$a(require$$6$1),__1$a=requireLib(),RelativeText=(0,styled_components_1$a.default)(__1$a.Text)(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  position: relative;
  width: max-content;
`],[`
  position: relative;
  width: max-content;
`]))),scoreBackgrounds=function(e,i){switch(e){case"positive":return i.positive;case"negative":return i.dm__errorColor;default:return i.primaryColor}},ScoreIndicator=styled_components_1$a.default.span(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$a([`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`],[`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`])),function(e){var i=e.theme,o=e.$scoreState;return scoreBackgrounds(o,i)}),LeftPaddingStack=(0,styled_components_1$a.default)(__1$a.Stack)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$a([`
  padding-left: 12px;
`],[`
  padding-left: 12px;
`])));function determineResultScoreState(e){if(e){if(e>0)return"positive";if(e<0)return"negative"}else return"neutral";return"neutral"}var resultScoreSign={positive:"+",neutral:"",negative:"-"},DefaultQuestionLayout=function(e){var i=e.title,o=e.question,a=e.children,c=e.showScore,h=e.resultScore,d=__rest(e,["title","question","children","showScore","resultScore"]),f=determineResultScoreState(h),re=(0,react_1$3.useRef)(null);return(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({},d,{$gap:6},{children:[(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({$gap:2},{children:[i&&(0,jsx_runtime_1$b.jsx)(__1$a.Title,__assign$b({level:"2"},{children:i})),(0,jsx_runtime_1$b.jsxs)(RelativeText,{children:[o,(0,jsx_runtime_1$b.jsx)(react_transition_group_1.CSSTransition,__assign$b({in:c,nodeRef:re,timeout:200,classNames:"fade",unmountOnExit:!0},{children:(0,jsx_runtime_1$b.jsx)(ScoreIndicator,__assign$b({ref:re,$scoreState:f},{children:"".concat(resultScoreSign[f]).concat(h??0)}))}))]})]})),(0,jsx_runtime_1$b.jsx)(LeftPaddingStack,__assign$b({$gap:4},{children:a}))]}))};DefaultQuestionLayout$1.default=(0,styled_components_1$a.withTheme)((0,styled_components_1$a.default)(DefaultQuestionLayout)(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$a([""],[""]))));var templateObject_1$a,templateObject_2$3,templateObject_3$3,templateObject_4$1,__makeTemplateObject$9=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$a=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$a=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$a.apply(this,arguments)},__createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$9(i,e,o);return __setModuleDefault$9(i,e),i},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoice$1,"__esModule",{value:!0});var jsx_runtime_1$a=jsxRuntimeExports,__1$9=requireLib(),utils_1$6=utils$3,DefaultQuestionLayout_1$6=__importDefault$7(DefaultQuestionLayout$1),styled_components_1$9=__importStar$9(require$$6$1),MultipleChoice=function(e){var i=e.question,o=e.id,a=e.options,c=e.title,h=e.onChange,d=e.onBlur,f=e.value,re=e.hasQuizEnded,_=e.resultScore;return(0,jsx_runtime_1$a.jsx)(DefaultQuestionLayout_1$6.default,__assign$a({"data-testid":"multiple-choice-".concat(i),title:c,question:i,resultScore:_,showScore:re},{children:a==null?void 0:a.answers.map(function(b){return(0,jsx_runtime_1$a.jsx)(__1$9.Radio,{label:b,id:(0,utils_1$6.getUniqueId)(b),value:b,disabled:re,name:"".concat(o),checked:f===b,onChange:h,onBlur:d},b)})}))};MultipleChoice$1.default=(0,styled_components_1$9.withTheme)((0,styled_components_1$9.default)(MultipleChoice)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([""],[""]))));var templateObject_1$9,MultipleChoiceWithMultipleRightAnswers$1={},__makeTemplateObject$8=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$9.apply(this,arguments)},__createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$8(i,e,o);return __setModuleDefault$8(i,e),i},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoiceWithMultipleRightAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$9=jsxRuntimeExports,__1$8=requireLib(),utils_1$5=utils$3,DefaultQuestionLayout_1$5=__importDefault$6(DefaultQuestionLayout$1),styled_components_1$8=__importStar$8(require$$6$1),MultipleChoiceWithMultipleRightAnswers=function(e){var i=e.id,o=e.question,a=e.title,c=e.options,h=e.onChange,d=e.onBlur,f=e.values,re=e.hasQuizEnded,_=e.resultScore,b=function(me){var Se;return(Se=Object.entries(f).find(function(te){var $=te[0];return $===me}))===null||Se===void 0?void 0:Se[1]};return(0,jsx_runtime_1$9.jsx)(DefaultQuestionLayout_1$5.default,__assign$9({"data-testid":"multiple-choice-multiple-right-".concat(o),title:a,question:o,resultScore:_,showScore:re},{children:c==null?void 0:c.answers.map(function(me){return(0,jsx_runtime_1$9.jsx)(__1$8.Checkbox,{label:me,disabled:re,id:(0,utils_1$5.getUniqueId)(me),value:me,name:"".concat(i,".").concat(me),checked:b(me),onChange:h,onBlur:d},me)})}))};MultipleChoiceWithMultipleRightAnswers$1.default=(0,styled_components_1$8.withTheme)((0,styled_components_1$8.default)(MultipleChoiceWithMultipleRightAnswers)(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([""],[""]))));var templateObject_1$8,TrueFalse$1={},__makeTemplateObject$7=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$8.apply(this,arguments)},__createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$7(i,e,o);return __setModuleDefault$7(i,e),i},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TrueFalse$1,"__esModule",{value:!0});var jsx_runtime_1$8=jsxRuntimeExports,__1$7=requireLib(),utils_1$4=utils$3,DefaultQuestionLayout_1$4=__importDefault$5(DefaultQuestionLayout$1),styled_components_1$7=__importStar$7(require$$6$1),inputs=[{value:"true",label:"True"},{value:"false",label:"False"}],TrueFalse=function(e){var i=e.question,o=e.id,a=e.title,c=e.onChange,h=e.onBlur,d=e.value,f=e.hasQuizEnded,re=e.resultScore;return(0,jsx_runtime_1$8.jsx)(DefaultQuestionLayout_1$4.default,__assign$8({"data-testid":"true-false-".concat(i),title:a,question:i,resultScore:re,showScore:f},{children:inputs.map(function(_){return(0,jsx_runtime_1$8.jsx)(__1$7.Radio,{label:_.label,disabled:f,id:(0,utils_1$4.getUniqueId)(_.label),value:_.value,name:"".concat(o),checked:d===_.value,onChange:c,onBlur:h},_.value)})}))};TrueFalse$1.default=(0,styled_components_1$7.withTheme)((0,styled_components_1$7.default)(TrueFalse)(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([""],[""]))));var templateObject_1$7,ShortAnswers$1={},__makeTemplateObject$6=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$7.apply(this,arguments)},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$6(i,e,o);return __setModuleDefault$6(i,e),i},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ShortAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$7=jsxRuntimeExports,react_i18next_1$4=require$$3,__1$6=requireLib(),utils_1$3=utils$3,DefaultQuestionLayout_1$3=__importDefault$4(DefaultQuestionLayout$1),styled_components_1$6=__importStar$6(require$$6$1),ShortAnswers=function(e){var i=e.question,o=e.title,a=e.id,c=e.onChange,h=e.onBlur,d=e.value,f=e.hasQuizEnded,re=e.resultScore,_=(0,react_i18next_1$4.useTranslation)().t;return(0,jsx_runtime_1$7.jsx)(DefaultQuestionLayout_1$3.default,__assign$7({"data-testid":"short-answers-".concat(i),title:o,question:i,resultScore:re,showScore:f},{children:(0,jsx_runtime_1$7.jsx)(__1$6.Input,{placeholder:_("Quiz.TypeAnswer"),id:(0,utils_1$3.getUniqueId)("ShortAnswers-".concat(a)),name:"".concat(a),disabled:f,value:d,onChange:c,onBlur:h})}))};ShortAnswers$1.default=(0,styled_components_1$6.withTheme)((0,styled_components_1$6.default)(ShortAnswers)(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([""],[""]))));var templateObject_1$6,Matching$1={},bezierLine={},__assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$6.apply(this,arguments)};Object.defineProperty(bezierLine,"__esModule",{value:!0});bezierLine.BezierLine=void 0;var jsx_runtime_1$6=jsxRuntimeExports,BezierLine=function(e){var i=e.x1,o=e.y1,a=e.x2,c=e.y2,h=(o+c)/2,d=(i+a)/4,f="M ".concat(i," ").concat(o," Q ").concat(d," ").concat(o,", ").concat(2*d," ").concat(h," T ").concat(a," ").concat(c);return(0,jsx_runtime_1$6.jsx)("svg",__assign$6({fill:"none",style:{position:"absolute",width:"100%",height:"100%"}},{children:(0,jsx_runtime_1$6.jsx)("path",{d:f,stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}))};bezierLine.BezierLine=BezierLine;var __makeTemplateObject$5=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$5.apply(this,arguments)},__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$5(i,e,o);return __setModuleDefault$5(i,e),i},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Matching$1,"__esModule",{value:!0});var jsx_runtime_1$5=jsxRuntimeExports,react_1$2=reactExports,__1$5=requireLib(),styled_components_1$5=__importStar$5(require$$6$1),bezierLine_1=bezierLine,DefaultQuestionLayout_1$2=__importDefault$3(DefaultQuestionLayout$1),utils_1$2=utils$3,chroma_js_1=__importDefault$3(chromaExports),MatcherWrapper=styled_components_1$5.default.div(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  position: relative;
`],[`
  position: relative;
`]))),StyledRow=(0,styled_components_1$5.default)(__1$5.Row)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$5([`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`],[`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`])),function(e){var i=e.theme;return(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),circle=(0,styled_components_1$5.css)(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$5([`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`],[`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`])),function(e){var i=e.theme;return(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__cardBackgroundColor,i.cardBackgroundColor)}),StartCircle=styled_components_1$5.default.div(templateObject_4||(templateObject_4=__makeTemplateObject$5([`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,o=e.checked;return o?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),EndCircle=styled_components_1$5.default.div(templateObject_5||(templateObject_5=__makeTemplateObject$5([`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,o=e.checked;return o?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),OptionListItem=styled_components_1$5.default.li(templateObject_6||(templateObject_6=__makeTemplateObject$5([`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`],[`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`])),function(e){var i=e.theme,o=e.checked;return o?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()},function(e){var i=e.disabled;return i?"default":"pointer"},function(e){var i=e.disabled;return i?"none":"all"},function(e){var i=e.disabled;return i?"0.5":"1"}),getDefaultValues=function(e,i){var o;return(o=e??[])===null||o===void 0?void 0:o.map(function(a){return{startOption:{name:a,x:0,y:0},endOption:i[a]?{name:i[a],x:0,y:0}:null}})},createStartOptionObj=function(e){return e.reduce(function(i,o){var a;return __assign$5(__assign$5({},i),(a={},a[o.id]={name:o.id,x:o==null?void 0:o.offsetWidth,y:(o==null?void 0:o.offsetTop)+(o==null?void 0:o.offsetHeight)/2},a))},{})},createEndOptionObj=function(e,i){return e.reduce(function(o,a){var c;return __assign$5(__assign$5({},o),(c={},c[a.id]={name:a.id,x:i.offsetWidth-a.offsetWidth,y:a.offsetTop+a.offsetHeight/2},c))},{})},Matching=function(e){var i=e.question,o=e.options,a=e.onChange,c=e.title,h=e.values,d=e.hasQuizEnded,f=e.resultScore,re=(0,react_1$2.useState)(null),_=re[0],b=re[1],me=(0,react_1$2.useState)(getDefaultValues(o==null?void 0:o.sub_questions,h)),Se=me[0],te=me[1],$=(0,react_1$2.useRef)(null),_e=(0,react_1$2.useRef)(null),j=(0,react_1$2.useRef)(null),g=(0,react_1$2.useCallback)(function(q){return function(ne){if(!d){var he={name:q,x:ne.currentTarget.offsetWidth,y:ne.currentTarget.offsetTop+ne.currentTarget.offsetHeight/2};b(he),te(function(le){return le.map(function(oe){return oe.startOption.name===q?{startOption:he,endOption:oe.endOption}:oe})})}}},[d]),ee=(0,react_1$2.useCallback)(function(q){return function(ne){if($.current&&!d){var he={name:q,x:$.current.offsetWidth-ne.currentTarget.offsetWidth,y:ne.currentTarget.offsetTop+ne.currentTarget.offsetHeight/2};te(function(le){return le.map(function(oe){var ce=oe.startOption,xe=oe.endOption;return ce.name===(_==null?void 0:_.name)?{startOption:ce,endOption:he}:{startOption:ce,endOption:xe}})}),b(null)}}},[d,_==null?void 0:_.name]),ie=(0,react_1$2.useCallback)(function(){if(_e.current&&j.current&&$.current){var q=Array.from(_e.current.children),ne=Array.from(j.current.children),he=createStartOptionObj(q),le=createEndOptionObj(ne,$.current);te(function(oe){return oe.map(function(ce){var xe=ce.startOption,se=ce.endOption;return{startOption:he[xe.name],endOption:se!=null&&se.name?le[se.name]:se}})})}},[]);return(0,react_1$2.useEffect)(function(){a({matching:Se.reduce(function(q,ne){var he,le,oe;return __assign$5(__assign$5({},q),(he={},he[ne.startOption.name]=(oe=(le=ne.endOption)===null||le===void 0?void 0:le.name)!==null&&oe!==void 0?oe:"",he))},{})})},[Se]),(0,react_1$2.useEffect)(function(){var q=Object.values(h).length===0;q&&te(getDefaultValues(o.sub_questions,h))},[o,h]),(0,react_1$2.useEffect)(function(){ie()},[ie]),(0,jsx_runtime_1$5.jsx)(DefaultQuestionLayout_1$2.default,__assign$5({"data-testid":"matching-".concat(i),title:c,question:i,resultScore:f,showScore:d},{children:(0,jsx_runtime_1$5.jsx)(MatcherWrapper,__assign$5({ref:$},{children:(0,jsx_runtime_1$5.jsxs)(StyledRow,__assign$5({$justifyContent:"space-between"},{children:[(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:_e},{children:o==null?void 0:o.sub_questions.map(function(q){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({className:q,id:q,disabled:d,onClick:g(q),checked:(_==null?void 0:_.name)===q},{children:[(0,jsx_runtime_1$5.jsx)(StartCircle,{checked:(_==null?void 0:_.name)===q}),q]}),q)})})),Se.map(function(q,ne){return q.endOption&&(0,jsx_runtime_1$5.jsx)(bezierLine_1.BezierLine,{x1:q.startOption.x,x2:q.endOption.x,y1:q.startOption.y,y2:q.endOption.y},ne)}),(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:j},{children:o==null?void 0:o.sub_answers.map(function(q){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({id:q,className:q,disabled:d,onClick:ee(q)},{children:[(0,jsx_runtime_1$5.jsx)(EndCircle,{}),q]}),q)})}))]}))}))}))};Matching$1.default=(0,styled_components_1$5.withTheme)((0,styled_components_1$5.default)(Matching)(templateObject_7||(templateObject_7=__makeTemplateObject$5([""],[""]))));var templateObject_1$5,templateObject_2$2,templateObject_3$2,templateObject_4,templateObject_5,templateObject_6,templateObject_7,NumericalQuestion$1={},__makeTemplateObject$4=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$4.apply(this,arguments)},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$4(i,e,o);return __setModuleDefault$4(i,e),i},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NumericalQuestion$1,"__esModule",{value:!0});var jsx_runtime_1$4=jsxRuntimeExports,react_i18next_1$3=require$$3,__1$4=requireLib(),utils_1$1=utils$3,DefaultQuestionLayout_1$1=__importDefault$2(DefaultQuestionLayout$1),styled_components_1$4=__importStar$4(require$$6$1),NumericalQuestion=function(e){var i=e.id,o=e.question,a=e.title,c=e.onBlur,h=e.onChange,d=e.value,f=e.hasQuizEnded,re=e.resultScore,_=(0,react_i18next_1$3.useTranslation)().t;return(0,jsx_runtime_1$4.jsx)(DefaultQuestionLayout_1$1.default,__assign$4({"data-testid":"numerical-question-".concat(o),title:a,question:o,resultScore:re,showScore:f},{children:(0,jsx_runtime_1$4.jsx)(__1$4.Input,{placeholder:_("Quiz.TypeNumber"),type:"number",name:"".concat(i),id:(0,utils_1$1.getUniqueId)("Numerical-".concat(i)),disabled:f,value:d,onChange:h,onBlur:c})}))};NumericalQuestion$1.default=(0,styled_components_1$4.withTheme)((0,styled_components_1$4.default)(NumericalQuestion)(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([""],[""]))));var templateObject_1$4,Essay$1={},__makeTemplateObject$3=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$3.apply(this,arguments)},__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$3(i,e,o);return __setModuleDefault$3(i,e),i},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Essay$1,"__esModule",{value:!0});var jsx_runtime_1$3=jsxRuntimeExports,react_i18next_1$2=require$$3,__1$3=requireLib(),utils_1=utils$3,DefaultQuestionLayout_1=__importDefault$1(DefaultQuestionLayout$1),styled_components_1$3=__importStar$3(require$$6$1),Essay=function(e){var i=e.id,o=e.title,a=e.question,c=e.onChange,h=e.onBlur,d=e.value,f=e.hasQuizEnded,re=e.resultScore,_=(0,react_i18next_1$2.useTranslation)().t;return(0,jsx_runtime_1$3.jsx)(DefaultQuestionLayout_1.default,__assign$3({"data-testid":"essay-".concat(a),title:o,question:a,resultScore:re,showScore:f},{children:(0,jsx_runtime_1$3.jsx)(__1$3.TextArea,{placeholder:_("Quiz.TypeAnswer"),name:"".concat(i),disabled:f,id:(0,utils_1.getUniqueId)("Essay-".concat(i)),value:d,onChange:c,onBlur:h})}))};Essay$1.default=(0,styled_components_1$3.withTheme)((0,styled_components_1$3.default)(Essay)(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([""],[""]))));var templateObject_1$3,Description$1={},__makeTemplateObject$2=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$2.apply(this,arguments)},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$2(i,e,o);return __setModuleDefault$2(i,e),i};Object.defineProperty(Description$1,"__esModule",{value:!0});var jsx_runtime_1$2=jsxRuntimeExports,__1$2=requireLib(),styled_components_1$2=__importStar$2(require$$6$1),Description=function(e){var i=e.title,o=e.question;return(0,jsx_runtime_1$2.jsxs)(__1$2.Stack,__assign$2({"data-testid":"description-".concat(o),$gap:2},{children:[i&&(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({weight:"bold",size:"lg"},{children:i})),(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({family:"secondary",weight:"semiBold"},{children:o}))]}))};Description$1.default=(0,styled_components_1$2.withTheme)((0,styled_components_1$2.default)(Description)(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([""],[""]))));var templateObject_1$2,GiftQuizScore$1={},__makeTemplateObject$1=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$1.apply(this,arguments)},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$1(i,e,o);return __setModuleDefault$1(i,e),i};Object.defineProperty(GiftQuizScore$1,"__esModule",{value:!0});var jsx_runtime_1$1=jsxRuntimeExports,react_1$1=reactExports,react_i18next_1$1=require$$3,styled_components_1$1=__importStar$1(require$$6$1),__1$1=requireLib(),Wrapper$1=(0,styled_components_1$1.default)(__1$1.Row)(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`],[`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`])),function(e){var i=e.theme;return i.primaryColor}),Progress=styled_components_1$1.default.span(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$1([`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`],[`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`])),function(e){var i=e.theme;return i.secondaryColor},function(e){var i=e.$percentage;return i*52},function(e){var i=e.theme;return i.primaryColor}),GiftQuizScore=function(e){var i=e.result,o=e.max,a=(0,react_i18next_1$1.useTranslation)().t,c=(0,react_1$1.useMemo)(function(){var h=(i??0)/(o??0);return Number.isNaN(h)?0:h},[o,i]);return(0,jsx_runtime_1$1.jsxs)(Wrapper$1,__assign$1({"data-testid":"gift-quiz-score",$gap:12,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(__1$1.Row,__assign$1({$gap:6,$alignItems:"center"},{children:(0,jsx_runtime_1$1.jsx)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:a("Quiz.YourScore")}))})),(0,jsx_runtime_1$1.jsxs)(__1$1.Row,__assign$1({$gap:8,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(Progress,{$percentage:c}),(0,jsx_runtime_1$1.jsxs)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:[i,"/",o]}))]}))]}))};GiftQuizScore$1.default=(0,styled_components_1$1.withTheme)((0,styled_components_1$1.default)(GiftQuizScore)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$1([""],[""]))));var templateObject_1$1,templateObject_2$1,templateObject_3$1;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ue,m){return Object.defineProperty?Object.defineProperty(ue,"raw",{value:m}):ue.raw=m,ue},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(ue){for(var m,Ee=1,Te=arguments.length;Ee<Te;Ee++){m=arguments[Ee];for(var Me in m)Object.prototype.hasOwnProperty.call(m,Me)&&(ue[Me]=m[Me])}return ue},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ue,m,Ee,Te){Te===void 0&&(Te=Ee);var Me=Object.getOwnPropertyDescriptor(m,Ee);(!Me||("get"in Me?!m.__esModule:Me.writable||Me.configurable))&&(Me={enumerable:!0,get:function(){return m[Ee]}}),Object.defineProperty(ue,Te,Me)}:function(ue,m,Ee,Te){Te===void 0&&(Te=Ee),ue[Te]=m[Ee]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ue,m){Object.defineProperty(ue,"default",{enumerable:!0,value:m})}:function(ue,m){ue.default=m}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(ue){if(ue&&ue.__esModule)return ue;var m={};if(ue!=null)for(var Ee in ue)Ee!=="default"&&Object.prototype.hasOwnProperty.call(ue,Ee)&&a(m,ue,Ee);return c(m,ue),m},d=commonjsGlobal&&commonjsGlobal.__spreadArray||function(ue,m,Ee){if(Ee||arguments.length===2)for(var Te=0,Me=m.length,Le;Te<Me;Te++)(Le||!(Te in m))&&(Le||(Le=Array.prototype.slice.call(m,0,Te)),Le[Te]=m[Te]);return ue.concat(Le||Array.prototype.slice.call(m))},f=commonjsGlobal&&commonjsGlobal.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(e,"__esModule",{value:!0}),e.GiftQuizPlayerContent=void 0;var re=reactExports,_=jsxRuntimeExports,b=h(reactExports),me=require$$3,Se=h(require$$6$1),te=require$$1$1,$=lib$3,_e=react$1,j=gfit_quiz,g=requireLib(),ee=f(MultipleChoice$1),ie=f(MultipleChoiceWithMultipleRightAnswers$1),q=f(TrueFalse$1),ne=f(ShortAnswers$1),he=f(Matching$1),le=f(NumericalQuestion$1),oe=f(Essay$1),ce=f(Description$1),xe=f(GiftQuizScore$1),se=Se.default.form(ye||(ye=i([`
  display: flex;
  flex-direction: column;
  gap: 16px;
`],[`
  display: flex;
  flex-direction: column;
  gap: 16px;
`]))),be=(0,Se.default)(g.Row)(ae||(ae=i([`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`],[`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`])),function(ue){var m=ue.theme;return m.primaryColor}),Ae=(0,Se.default)(g.Button)(de||(de=i([`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`],[`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`])),function(ue){var m=ue.theme;return m.primaryColor},function(ue){var m=ue.theme;return m.secondaryColor});function Ie(ue){return typeof(ue==null?void 0:ue.text)=="string"}function Re(ue){return Array.isArray(ue==null?void 0:ue.multiple)}function Fe(ue){return typeof(ue==null?void 0:ue.numeric)=="number"}function Ce(ue){return typeof(ue==null?void 0:ue.bool)=="boolean"}function ke(ue){return typeof(ue==null?void 0:ue.matching)=="object"}var we=function(ue,m){var Ee=function(Te){var Me;return(Me=m==null?void 0:m.find(function(Le){return Le.topic_gift_question_id===Te}))===null||Me===void 0?void 0:Me.answer};return ue.reduce(function(Te,Me){var Le,Ue,Xe,Ve,Ke,ze=Me.id,Ge=Me.type,Oe=Me.options,$e=Ee(ze);switch(Ge){case $.API.QuestionType.ESSAY:case $.API.QuestionType.SHORT_ANSWERS:case $.API.QuestionType.MULTIPLE_CHOICE:var He=Ie($e)?$e.text:"";return o(o({},Te),(Le={},Le["".concat(ze)]=He,Le));case $.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:var Ye=Re($e)?$e.multiple:[];return o(o({},Te),(Ue={},Ue["".concat(ze)]=Oe.answers.reduce(function(Be,ct){var dt;return o(o({},Be),(dt={},dt[ct]=Ye.includes(ct),dt))},{}),Ue));case $.API.QuestionType.NUMERICAL_QUESTION:var nt=Fe($e)?"".concat($e.numeric):"";return o(o({},Te),(Xe={},Xe["".concat(ze)]=nt,Xe));case $.API.QuestionType.TRUE_FALSE:var ot=Ce($e)?$e.bool?"true":"false":"";return o(o({},Te),(Ve={},Ve["".concat(ze)]=ot,Ve));case $.API.QuestionType.MATCHING:var st=ke($e)?$e.matching:{};return o(o({},Te),(Ke={},Ke["".concat(ze)]=st,Ke));default:return Te}},{})};function Pe(ue){var m=(0,b.useContext)(_e.EscolaLMSContext),Ee=m.token,Te=m.apiUrl,Me=(0,b.useState)({loading:!1,count:0,tooltipOpen:!1}),Le=Me[0],Ue=Me[1],Xe=(0,b.useCallback)(function(){Ee&&ue&&(0,j.getQuizAttempts)(Te,Ee,{topic_gift_quiz_id:ue}).then(function(Ve){Ve.success&&Ue(function(Ke){return o(o({},Ke),{count:Ve.meta.total,tooltipOpen:!0})})}).finally(function(){Ue(function(Ve){return o(o({},Ve),{loading:!1})})})},[Te,ue,Ee]);return(0,b.useMemo)(function(){return{attempts:Le,refreshAttemptsCount:Xe,closeTooltip:function(){return Ue(function(Ve){return o(o({},Ve),{tooltipOpen:!1})})}}},[Le,Xe])}var fe=function(ue){var m=ue.attempt,Ee=ue.startQuiz,Te=ue.endQuiz,Me=ue.sendAnswer,Le=(0,me.useTranslation)().t,Ue=Pe(m.topic_gift_quiz_id),Xe=Ue.attempts,Ve=Ue.refreshAttemptsCount,Ke=Ue.closeTooltip,ze=(0,b.useMemo)(function(){return we(m.questions,m.answers)},[m.questions,m.answers]),Ge=(0,b.useCallback)(function(Oe){var $e;return($e=m.answers.find(function(He){var Ye=He.topic_gift_question_id;return Ye===Oe}))===null||$e===void 0?void 0:$e.score},[m.answers]);return(0,_.jsx)(te.Formik,o({enableReinitialize:!0,initialValues:ze,onSubmit:function(){Te(m.id),Ve()}},{children:function(Oe){var $e=Oe.handleSubmit,He=Oe.handleChange,Ye=Oe.values,nt=Oe.handleBlur,ot=Oe.resetForm,st=Oe.setFieldValue;return(0,_.jsxs)(se,o({onSubmit:$e,"data-testid":"gift-quiz-player-content",className:"quiz__questions-form"},{children:[(0,_.jsxs)(g.Stack,o({$gap:8},{children:[(0,_.jsxs)(g.Row,o({$justifyContent:"space-between"},{children:[(0,_.jsx)(g.Title,o({className:"quiz__title"},{children:Le("Quiz.Questions")})),(0,_.jsx)(g.Row,o({$gap:24,$alignItems:"center"},{children:m!=null&&m.is_ended?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(xe.default,{result:m==null?void 0:m.result_score,max:m==null?void 0:m.max_score}),(0,_.jsx)(g.Button,o({type:"button",onClick:function(){Ee(),ot()}},{children:Le("Quiz.Retry")}))]}):(0,_.jsxs)(_.Fragment,{children:[(m==null?void 0:m.end_at)&&(0,_.jsx)(g.Countdown,{targetDate:String(m==null?void 0:m.end_at),onCountdownEnd:function(){return Te(m==null?void 0:m.id)}}),(0,_.jsx)(g.Button,o({type:"submit",mode:"primary"},{children:Le("Quiz.Submit")}))]})}))]})),Xe.tooltipOpen&&(0,_.jsxs)(be,o({$alignItems:"center",$justifyContent:"space-between"},{children:[Le("Quiz.YouHaveMade")," ".concat(Xe.count," "),Le("Quiz.Attempts"),(0,_.jsx)(Ae,{onClick:Ke})]}))]})),m.questions.map(function(Be){switch(Be.type){case $.API.QuestionType.MULTIPLE_CHOICE:return(0,re.createElement)(ee.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{text:ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],hasQuizEnded:m==null?void 0:m.is_ended,resultScore:Ge(Be.id)}));case $.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:return(0,re.createElement)(ie.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct);var dt=ct.target.value,xt=ct.target.checked,At=Object.entries(Ye["".concat(Be.id)]).reduce(function(Ot,_t){var gt=_t[0],Tt=_t[1];return gt===dt?xt?d(d([],Ot,!0),[dt],!1):Ot:Tt?d(d([],Ot,!0),[gt],!1):Ot},[]);Me(Be.id,{multiple:At})},onBlur:nt,values:Ye["".concat(Be.id)],hasQuizEnded:m==null?void 0:m.is_ended,resultScore:Ge(Be.id)}));case $.API.QuestionType.TRUE_FALSE:return(0,re.createElement)(q.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{bool:ct.target.value==="true"})},onBlur:nt,value:Ye["".concat(Be.id)],hasQuizEnded:m==null?void 0:m.is_ended,resultScore:Ge(Be.id)}));case $.API.QuestionType.SHORT_ANSWERS:return(0,re.createElement)(ne.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{text:ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case $.API.QuestionType.MATCHING:return(0,re.createElement)(he.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){st("".concat(Be.id),ct),Me(Be.id,ct)},values:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case $.API.QuestionType.NUMERICAL_QUESTION:return(0,re.createElement)(le.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{numeric:+ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case $.API.QuestionType.ESSAY:return(0,re.createElement)(oe.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{text:ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case $.API.QuestionType.DESCRIPTION:return(0,re.createElement)(ce.default,o({},Be,{key:Be.type+Be.id}));default:return(0,_.jsx)(b.default.Fragment,{})}})]}))}}))};e.GiftQuizPlayerContent=fe,e.default=(0,Se.withTheme)((0,Se.default)(e.GiftQuizPlayerContent)(ve||(ve=i([""],[""]))));var ye,ae,de,ve})(GiftQuizPlayerContent);var __makeTemplateObject=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding(i,e,o);return __setModuleDefault(i,e),i},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(quizzes,"__esModule",{value:!0});var jsx_runtime_1=jsxRuntimeExports,react_1=reactExports,react_i18next_1=require$$3,styled_components_1=__importStar(require$$6$1),gfit_quiz_1=gfit_quiz,react_2=react$1,__1=requireLib(),GiftQuizPlayerContent_1=__importDefault(GiftQuizPlayerContent),Wrapper=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  & > .spinner__overlay {
    min-height: 529px;
  }
`],[`
  & > .spinner__overlay {
    min-height: 529px;
  }
`]))),StartButtonWrapper=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`],[`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`])));function useQuiz(e,i){var o,a,c,h=(0,react_1.useState)({loading:!1}),d=h[0],f=h[1],re=(0,react_1.useContext)(react_2.EscolaLMSContext),_=re.token,b=re.apiUrl,me=(0,react_1.useRef)(i),Se=(0,react_1.useCallback)(function(){e&&_&&(f(function(j){return __assign(__assign({},j),{loading:!0})}),(0,gfit_quiz_1.quizAttempt)(b,_,{topic_gift_quiz_id:e}).then(function(j){j.success?f(function(g){return __assign(__assign({},g),{value:j.data})}):f(function(g){return __assign(__assign({},g),{error:j})})}).catch(function(j){f(function(g){return __assign(__assign({},g),{error:j})})}).finally(function(){f(function(j){return __assign(__assign({},j),{loading:!1})})}))},[e,b,_]),te=(0,react_1.useCallback)(function(j){_&&(0,gfit_quiz_1.quizAttemptFinish)(b,_,j).then(function(g){var ee;g.success&&(f(function(ie){return __assign(__assign({},ie),{value:g.data})}),(ee=me.current)===null||ee===void 0||ee.call(me))})},[_,b]),$=(0,react_1.useCallback)(function(j,g){var ee,ie;!((ee=d==null?void 0:d.value)===null||ee===void 0)&&ee.id&&_&&!(!((ie=d==null?void 0:d.value)===null||ie===void 0)&&ie.is_ended)&&(0,gfit_quiz_1.quizAnswer)(b,_,{topic_gift_question_id:j,topic_gift_quiz_attempt_id:d.value.id,answer:g})},[_,b,(o=d==null?void 0:d.value)===null||o===void 0?void 0:o.id,(a=d==null?void 0:d.value)===null||a===void 0?void 0:a.is_ended]),_e=(0,react_1.useCallback)(function(j){var g,ee;return(ee=(g=d.value)===null||g===void 0?void 0:g.answers)===null||ee===void 0?void 0:ee.find(function(ie){return(ie==null?void 0:ie.topic_gift_question_id)===j})},[(c=d.value)===null||c===void 0?void 0:c.answers]);return(0,react_1.useMemo)(function(){return{data:d,startQuiz:Se,sendAnswer:$,getQuestionAnswerObj:_e,endQuiz:te}},[d,$,_e,Se,te])}var GiftQuizPlayer=function(e){var i=e.topic,o=e.className,a=e.onTopicEnd,c=(0,react_i18next_1.useTranslation)().t,h=useQuiz(i.topicable.id,a),d=h.data,f=h.startQuiz,re=h.sendAnswer,_=h.endQuiz;return(0,jsx_runtime_1.jsxs)(Wrapper,__assign({"data-testid":"gift-quiz-player",className:o},{children:[!d.value&&!d.loading&&(0,jsx_runtime_1.jsx)(StartButtonWrapper,{children:(0,jsx_runtime_1.jsx)(__1.Button,__assign({mode:"secondary",type:"button",onClick:f},{children:c("Quiz.Start")}))}),d.loading&&!d.value&&(0,jsx_runtime_1.jsx)(__1.Spin,{}),d.value&&(0,jsx_runtime_1.jsx)(GiftQuizPlayerContent_1.default,{attempt:d.value,startQuiz:f,sendAnswer:re,endQuiz:_})]}))},_default=quizzes.default=(0,styled_components_1.withTheme)((0,styled_components_1.default)(GiftQuizPlayer)(templateObject_3||(templateObject_3=__makeTemplateObject([""],[""])))),templateObject_1,templateObject_2,templateObject_3,__webpack_modules__={916:function(e,i,o){o.r(i),o.d(i,{AICCImpl:function(){return ke}});var a=o(635),c=o(941),h=o(989),d=o(340),f=o(589),re=o(784),_=d.aicc_constants.error_descriptions,b=function(we){(0,a.__extends)(Pe,we);function Pe(fe){var ye=this;return{}.hasOwnProperty.call(_,String(fe))?ye=we.call(this,fe,_[String(fe)].basicMessage,_[String(fe)].detailMessage)||this:ye=we.call(this,101,_[101].basicMessage,_[101].detailMessage)||this,ye}return Pe}(re.ValidationError),me=o(319),Se=o(797),te=o(449);function $(we,Pe,fe){return(0,te.checkValidFormat)(we,Pe,Se.scorm12_errors.TYPE_MISMATCH,b,fe)}var _e=o(417),j=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this)||this;return fe.comments=new g,fe}return Pe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),(fe=this.comments)===null||fe===void 0||fe.initialize()},Pe.prototype.reset=function(){var fe;this._initialized=!1,(fe=this.comments)===null||fe===void 0||fe.reset()},Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={comments:this.comments};return delete this.jsonString,fe},Pe}(me.BaseCMI),g=function(we){(0,a.__extends)(Pe,we);function Pe(){return we.call(this,{children:d.aicc_constants.comments_children,errorCode:Se.scorm12_errors.INVALID_SET_VALUE,errorClass:b})||this}return Pe}(f.CMIArray),ee=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this)||this;return fe._content="",fe._location="",fe._time="",fe}return Pe.prototype.reset=function(){this._initialized=!1,this._content="",this._location="",this._time=""},Object.defineProperty(Pe.prototype,"content",{get:function(){return this._content},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._content=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"location",{get:function(){return this._location},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._location=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"time",{get:function(){return this._time},set:function(fe){$(fe,_e.aicc_regex.CMITime)&&(this._time=fe)},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={content:this.content,location:this.location,time:this.time};return delete this.jsonString,fe},Pe}(me.BaseCMI),ie=o(181),q=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this,d.aicc_constants.student_preference_children)||this;return fe._lesson_type="",fe._text_color="",fe._text_location="",fe._text_size="",fe._video="",fe.windows=new f.CMIArray({errorCode:Se.scorm12_errors.INVALID_SET_VALUE,errorClass:b,children:""}),fe}return Pe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),(fe=this.windows)===null||fe===void 0||fe.initialize()},Object.defineProperty(Pe.prototype,"lesson_type",{get:function(){return this._lesson_type},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._lesson_type=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"text_color",{get:function(){return this._text_color},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._text_color=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"text_location",{get:function(){return this._text_location},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._text_location=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"text_size",{get:function(){return this._text_size},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._text_size=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"video",{get:function(){return this._video},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._video=fe)},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={audio:this.audio,language:this.language,lesson_type:this.lesson_type,speed:this.speed,text:this.text,text_color:this.text_color,text_location:this.text_location,text_size:this.text_size,video:this.video,windows:this.windows};return delete this.jsonString,fe},Pe}(ie.CMIStudentPreference),ne=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this)||this;return fe.__children=d.aicc_constants.student_demographics_children,fe._city="",fe._class="",fe._company="",fe._country="",fe._experience="",fe._familiar_name="",fe._instructor_name="",fe._title="",fe._native_language="",fe._state="",fe._street_address="",fe._telephone="",fe._years_experience="",fe}return Pe.prototype.reset=function(){this._initialized=!1},Object.defineProperty(Pe.prototype,"_children",{get:function(){return this.__children},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"city",{get:function(){return this._city},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._city=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"class",{get:function(){return this._class},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._class=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"company",{get:function(){return this._company},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._company=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"country",{get:function(){return this._country},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._country=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"experience",{get:function(){return this._experience},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._experience=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"familiar_name",{get:function(){return this._familiar_name},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._familiar_name=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"instructor_name",{get:function(){return this._instructor_name},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._instructor_name=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"title",{get:function(){return this._title},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._title=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"native_language",{get:function(){return this._native_language},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._native_language=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"state",{get:function(){return this._state},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._state=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"street_address",{get:function(){return this._street_address},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._street_address=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"telephone",{get:function(){return this._telephone},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._telephone=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"years_experience",{get:function(){return this._years_experience},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._years_experience=fe},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={city:this.city,class:this.class,company:this.company,country:this.country,experience:this.experience,familiar_name:this.familiar_name,instructor_name:this.instructor_name,title:this.title,native_language:this.native_language,state:this.state,street_address:this.street_address,telephone:this.telephone,years_experience:this.years_experience};return delete this.jsonString,fe},Pe}(me.BaseCMI),he=o(434),le=function(we){(0,a.__extends)(Pe,we);function Pe(){return we.call(this,{children:d.aicc_constants.tries_children})||this}return Pe}(f.CMIArray),oe=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this)||this;return fe._status="",fe._time="",fe.score=new he.CMIScore({score_children:d.aicc_constants.score_children,score_range:_e.aicc_regex.score_range,invalidErrorCode:Se.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:Se.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:Se.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:b}),fe}return Pe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),(fe=this.score)===null||fe===void 0||fe.initialize()},Pe.prototype.reset=function(){var fe;this._initialized=!1,this._status="",this._time="",(fe=this.score)===null||fe===void 0||fe.reset()},Object.defineProperty(Pe.prototype,"status",{get:function(){return this._status},set:function(fe){$(fe,_e.aicc_regex.CMIStatus2)&&(this._status=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"time",{get:function(){return this._time},set:function(fe){$(fe,_e.aicc_regex.CMITime)&&(this._time=fe)},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={status:this.status,time:this.time,score:this.score};return delete this.jsonString,fe},Pe}(me.BaseCMI),ce=o(532),xe=function(we){(0,a.__extends)(Pe,we);function Pe(){return we.call(this,{children:d.aicc_constants.attempt_records_children})||this}return Pe}(f.CMIArray),se=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this)||this;return fe._lesson_status="",fe.score=new he.CMIScore({score_children:d.aicc_constants.score_children,score_range:_e.aicc_regex.score_range,invalidErrorCode:Se.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:Se.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:Se.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:b}),fe}return Pe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),this._lesson_status="",(fe=this.score)===null||fe===void 0||fe.initialize()},Pe.prototype.reset=function(){var fe;this._initialized=!1,(fe=this.score)===null||fe===void 0||fe.reset()},Object.defineProperty(Pe.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(fe){$(fe,_e.aicc_regex.CMIStatus2)&&(this._lesson_status=fe)},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={lesson_status:this.lesson_status,score:this.score};return delete this.jsonString,fe},Pe}(me.BaseCMI),be=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this,d.aicc_constants.student_data_children)||this;return fe._tries_during_lesson="",fe.tries=new le,fe.attempt_records=new xe,fe}return Pe.prototype.initialize=function(){var fe,ye;we.prototype.initialize.call(this),(fe=this.tries)===null||fe===void 0||fe.initialize(),(ye=this.attempt_records)===null||ye===void 0||ye.initialize()},Pe.prototype.reset=function(){var fe,ye;this._initialized=!1,(fe=this.tries)===null||fe===void 0||fe.reset(!0),(ye=this.attempt_records)===null||ye===void 0||ye.reset(!0)},Object.defineProperty(Pe.prototype,"tries_during_lesson",{get:function(){return this._tries_during_lesson},set:function(fe){if(this.initialized)throw new b(Se.scorm12_errors.READ_ONLY_ELEMENT);this._tries_during_lesson=fe},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action,tries:this.tries,attempt_records:this.attempt_records};return delete this.jsonString,fe},Pe}(ce.CMIStudentData),Ae=function(we){(0,a.__extends)(Pe,we);function Pe(){return we.call(this,{children:d.aicc_constants.paths_children})||this}return Pe}(f.CMIArray),Ie=function(we){(0,a.__extends)(Pe,we);function Pe(){var fe=we.call(this)||this;return fe._location_id="",fe._date="",fe._time="",fe._status="",fe._why_left="",fe._time_in_element="",fe}return Pe.prototype.reset=function(){this._initialized=!1,this._location_id="",this._date="",this._time="",this._status="",this._why_left="",this._time_in_element=""},Object.defineProperty(Pe.prototype,"location_id",{get:function(){return this._location_id},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._location_id=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"date",{get:function(){return this._date},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._date=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"time",{get:function(){return this._time},set:function(fe){$(fe,_e.aicc_regex.CMITime)&&(this._time=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"status",{get:function(){return this._status},set:function(fe){$(fe,_e.aicc_regex.CMIStatus2)&&(this._status=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"why_left",{get:function(){return this._why_left},set:function(fe){$(fe,_e.aicc_regex.CMIString256)&&(this._why_left=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"time_in_element",{get:function(){return this._time_in_element},set:function(fe){$(fe,_e.aicc_regex.CMITime)&&(this._time_in_element=fe)},enumerable:!1,configurable:!0}),Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={location_id:this.location_id,date:this.date,time:this.time,status:this.status,why_left:this.why_left,time_in_element:this.time_in_element};return delete this.jsonString,fe},Pe}(me.BaseCMI),Re=function(we){(0,a.__extends)(Pe,we);function Pe(fe){fe===void 0&&(fe=!1);var ye=we.call(this,d.aicc_constants.cmi_children)||this;return fe&&ye.initialize(),ye.student_preference=new q,ye.student_data=new be,ye.student_demographics=new ne,ye.evaluation=new j,ye.paths=new Ae,ye}return Pe.prototype.initialize=function(){var fe,ye,ae,de,ve;we.prototype.initialize.call(this),(fe=this.student_preference)===null||fe===void 0||fe.initialize(),(ye=this.student_data)===null||ye===void 0||ye.initialize(),(ae=this.student_demographics)===null||ae===void 0||ae.initialize(),(de=this.evaluation)===null||de===void 0||de.initialize(),(ve=this.paths)===null||ve===void 0||ve.initialize()},Pe.prototype.toJSON=function(){this.jsonString=!0;var fe={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,student_demographics:this.student_demographics,interactions:this.interactions,evaluation:this.evaluation,paths:this.paths};return delete this.jsonString,fe},Pe}(h.CMI),Fe=o(331),Ce=o(864),ke=function(we){(0,a.__extends)(Pe,we);function Pe(fe){var ye=we.call(this,fe)||this;return ye.cmi=new Re,ye.nav=new Fe.NAV,ye}return Pe.prototype.getChildElement=function(fe,ye,ae){var de=we.prototype.getChildElement.call(this,fe,ye,ae);return de||((0,Ce.stringMatches)(fe,"cmi\\.evaluation\\.comments\\.\\d+")?de=new ee:(0,Ce.stringMatches)(fe,"cmi\\.student_data\\.tries\\.\\d+")?de=new oe:(0,Ce.stringMatches)(fe,"cmi\\.student_data\\.attempt_records\\.\\d+")?de=new se:(0,Ce.stringMatches)(fe,"cmi\\.paths\\.\\d+")&&(de=new Ie)),de},Pe.prototype.replaceWithAnotherScormAPI=function(fe){this.cmi=fe.cmi,this.nav=fe.nav},Pe}(c.Scorm12Impl)},429:function(e,i,o){o.r(i),o.d(i,{default:function(){return Se}});var a=o(635),c=o(589),h=o(784),d=o(340),f=o(864),re=o(56),_={autocommit:!1,autocommitSeconds:10,asyncCommit:!1,sendFullCommit:!0,lmsCommitUrl:!1,dataCommitFormat:"json",commitRequestDataType:"application/json;charset=UTF-8",autoProgress:!1,logLevel:re.LogLevelEnum.ERROR,selfReportSessionTime:!1,alwaysSendTotalTime:!1,renderCommonCommitFields:!1,strict_errors:!0,xhrHeaders:{},xhrWithCredentials:!1,fetchMode:"cors",responseHandler:function(te){return(0,a.__awaiter)(this,void 0,void 0,function(){var $,_e;return(0,a.__generator)(this,function(j){switch(j.label){case 0:return typeof te<"u"?[4,te.text()]:[3,2];case 1:return $=j.sent(),_e=null,$&&(_e=JSON.parse($)),_e===null||!{}.hasOwnProperty.call(_e,"result")?te.status===200?[2,{result:d.global_constants.SCORM_TRUE,errorCode:0}]:[2,{result:d.global_constants.SCORM_FALSE,errorCode:101}]:[2,{result:_e.result,errorCode:_e.errorCode?_e.errorCode:_e.result===d.global_constants.SCORM_TRUE?0:101}];case 2:return[2,{result:d.global_constants.SCORM_FALSE,errorCode:101}]}})})},requestHandler:function(te){return te},onLogMessage:function(te,$){switch(te){case"4":case 4:case"ERROR":case re.LogLevelEnum.ERROR:console.error($);break;case"3":case 3:case"WARN":case re.LogLevelEnum.WARN:console.warn($);break;case"2":case 2:case"INFO":case re.LogLevelEnum.INFO:console.info($);break;case"1":case 1:case"DEBUG":case re.LogLevelEnum.DEBUG:console.debug?console.debug($):console.log($);break}},scoItemIds:[],scoItemIdValidator:!1,globalObjectiveIds:[]},b=function(){function te($,_e,j){this._cancelled=!1,this._API=$,this._timeout=setTimeout(this.wrapper.bind(this),_e),this._callback=j}return te.prototype.cancel=function(){this._cancelled=!0,this._timeout&&clearTimeout(this._timeout)},te.prototype.wrapper=function(){var $=this;this._cancelled||function(){return(0,a.__awaiter)($,void 0,void 0,function(){return(0,a.__generator)(this,function(_e){switch(_e.label){case 0:return[4,this._API.commit(this._callback)];case 1:return[2,_e.sent()]}})})}()},te}(),me=function(){function te($,_e){var j=this.constructor;if(this._settings=_,j===te)throw new TypeError("Cannot construct BaseAPI instances directly");this.currentState=d.global_constants.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this._error_codes=$,_e&&(this.settings=_e),this.apiLogLevel=this.settings.logLevel,this.selfReportSessionTime=this.settings.selfReportSessionTime,this.apiLogLevel===void 0&&(this.apiLogLevel=re.LogLevelEnum.NONE)}return te.prototype.commonReset=function($){this.apiLog("reset","Called",re.LogLevelEnum.INFO),this.settings=(0,a.__assign)((0,a.__assign)({},this.settings),$),this.clearScheduledCommit(),this.currentState=d.global_constants.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this.startingData=void 0},te.prototype.initialize=function($,_e,j){var g=d.global_constants.SCORM_FALSE;return this.isInitialized()?this.throwSCORMError(this._error_codes.INITIALIZED,_e):this.isTerminated()?this.throwSCORMError(this._error_codes.TERMINATED,j):(this.selfReportSessionTime&&this.cmi.setStartTime(),this.currentState=d.global_constants.STATE_INITIALIZED,this.lastErrorCode="0",g=d.global_constants.SCORM_TRUE,this.processListeners($)),this.apiLog($,"returned: "+g,re.LogLevelEnum.INFO),this.clearSCORMError(g),g},te.prototype.apiLog=function($,_e,j,g){_e=(0,f.formatMessage)($,_e,g),j>=this.apiLogLevel&&this.settings.onLogMessage(j,_e)},Object.defineProperty(te.prototype,"error_codes",{get:function(){return this._error_codes},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"settings",{get:function(){return this._settings},set:function($){this._settings=(0,a.__assign)((0,a.__assign)({},this._settings),$)},enumerable:!1,configurable:!0}),te.prototype.terminate=function($,_e){return(0,a.__awaiter)(this,void 0,void 0,function(){var j,g;return(0,a.__generator)(this,function(ee){switch(ee.label){case 0:return j=d.global_constants.SCORM_FALSE,this.checkState(_e,this._error_codes.TERMINATION_BEFORE_INIT,this._error_codes.MULTIPLE_TERMINATION)?(this.currentState=d.global_constants.STATE_TERMINATED,[4,this.storeData(!0)]):[3,2];case 1:g=ee.sent(),typeof g.errorCode<"u"&&g.errorCode>0&&this.throwSCORMError(g.errorCode),j=typeof g<"u"&&g.result?g.result:d.global_constants.SCORM_FALSE,_e&&(this.lastErrorCode="0"),j=d.global_constants.SCORM_TRUE,this.processListeners($),ee.label=2;case 2:return this.apiLog($,"returned: "+j,re.LogLevelEnum.INFO),this.clearSCORMError(j),[2,j]}})})},te.prototype.getValue=function($,_e,j){var g="";if(this.checkState(_e,this._error_codes.RETRIEVE_BEFORE_INIT,this._error_codes.RETRIEVE_AFTER_TERM)){_e&&(this.lastErrorCode="0");try{g=this.getCMIValue(j)}catch(ee){g=this.handleValueAccessException(ee,g)}this.processListeners($,j)}return this.apiLog($,": returned: "+g,re.LogLevelEnum.INFO,j),g===void 0?"":(this.clearSCORMError(g),g)},te.prototype.setValue=function($,_e,j,g,ee){ee!==void 0&&(ee=String(ee));var ie=d.global_constants.SCORM_FALSE;if(this.checkState(j,this._error_codes.STORE_BEFORE_INIT,this._error_codes.STORE_AFTER_TERM)){j&&(this.lastErrorCode="0");try{ie=this.setCMIValue(g,ee)}catch(q){this.handleValueAccessException(q,ie)}this.processListeners($,g,ee)}return ie===void 0&&(ie=d.global_constants.SCORM_FALSE),String(this.lastErrorCode)==="0"&&this.settings.autocommit&&this.scheduleCommit(this.settings.autocommitSeconds*1e3,_e),this.apiLog($,": "+ee+": result: "+ie,re.LogLevelEnum.INFO,g),this.clearSCORMError(ie),ie},te.prototype.commit=function($){return(0,a.__awaiter)(this,arguments,void 0,function(_e,j){var g,ee;return j===void 0&&(j=!1),(0,a.__generator)(this,function(ie){switch(ie.label){case 0:return this.clearScheduledCommit(),g=d.global_constants.SCORM_FALSE,this.checkState(j,this._error_codes.COMMIT_BEFORE_INIT,this._error_codes.COMMIT_AFTER_TERM)?[4,this.storeData(!1)]:[3,2];case 1:ee=ie.sent(),ee.errorCode&&ee.errorCode>0&&this.throwSCORMError(ee.errorCode),g=typeof ee<"u"&&ee.result?ee.result:d.global_constants.SCORM_FALSE,this.apiLog(_e," Result: "+g,re.LogLevelEnum.DEBUG,"HttpRequest"),j&&(this.lastErrorCode="0"),this.processListeners(_e),ie.label=2;case 2:return this.apiLog(_e,"returned: "+g,re.LogLevelEnum.INFO),this.clearSCORMError(g),[2,g]}})})},te.prototype.getLastError=function($){var _e=String(this.lastErrorCode);return this.processListeners($),this.apiLog($,"returned: "+_e,re.LogLevelEnum.INFO),_e},te.prototype.getErrorString=function($,_e){var j="";return _e!==null&&_e!==""&&(j=this.getLmsErrorMessageDetails(_e),this.processListeners($)),this.apiLog($,"returned: "+j,re.LogLevelEnum.INFO),j},te.prototype.getDiagnostic=function($,_e){var j="";return _e!==null&&_e!==""&&(j=this.getLmsErrorMessageDetails(_e,!0),this.processListeners($)),this.apiLog($,"returned: "+j,re.LogLevelEnum.INFO),j},te.prototype.checkState=function($,_e,j){return this.isNotInitialized()?(this.throwSCORMError(_e),!1):$&&this.isTerminated()?(this.throwSCORMError(j),!1):!0},te.prototype.getLmsErrorMessageDetails=function($,_e){throw new Error("The getLmsErrorMessageDetails method has not been implemented")},te.prototype.getCMIValue=function($){throw new Error("The getCMIValue method has not been implemented")},te.prototype.setCMIValue=function($,_e){throw new Error("The setCMIValue method has not been implemented")},te.prototype._commonSetCMIValue=function($,_e,j,g){if(!j||j==="")return d.global_constants.SCORM_FALSE;for(var ee=j.split("."),ie=this,q=d.global_constants.SCORM_FALSE,ne=!1,he="The data model element passed to ".concat($," (").concat(j,") is not a valid SCORM data model element."),le=_e?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,oe=0;oe<ee.length;oe++){var ce=ee[oe];if(oe===ee.length-1)_e&&ce.substring(0,8)==="{target="?this.isInitialized()?this.throwSCORMError(this._error_codes.READ_ONLY_ELEMENT):ie=(0,a.__assign)((0,a.__assign)({},ie),{attribute:g}):this._checkObjectHasProperty(ie,ce)?((0,f.stringMatches)(j,"\\.correct_responses\\.\\d+")&&this.isInitialized()&&this.validateCorrectResponse(j,g),(!_e||this.lastErrorCode==="0")&&(ie[ce]=g,q=d.global_constants.SCORM_TRUE)):this.throwSCORMError(le,he);else{if(ie=ie[ce],!ie){this.throwSCORMError(le,he);break}if(ie instanceof c.CMIArray){var xe=parseInt(ee[oe+1],10);if(!isNaN(xe)){var se=ie.childArray[xe];if(se)ie=se,ne=!0;else{var be=this.getChildElement(j,g,ne);ne=!0,be?(ie.initialized&&be.initialize(),ie.childArray.push(be),ie=be):this.throwSCORMError(le,he)}oe++}}}}return q===d.global_constants.SCORM_FALSE&&this.apiLog($,"There was an error setting the value for: ".concat(j,", value of: ").concat(g),re.LogLevelEnum.WARN),q},te.prototype._commonGetCMIValue=function($,_e,j){if(!j||j==="")return"";for(var g=j.split("."),ee=this,ie=null,q="The data model element passed to ".concat($," (").concat(j,") has not been initialized."),ne="The data model element passed to ".concat($," (").concat(j,") is not a valid SCORM data model element."),he=_e?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,le=0;le<g.length;le++){if(ie=g[le],_e){if(String(ie).substring(0,8)==="{target="&&typeof ee._isTargetValid=="function"){var oe=String(ie).substring(8,String(ie).length-9);return ee._isTargetValid(oe)}else if(!this._checkObjectHasProperty(ee,ie)){this.throwSCORMError(he,ne);return}}else if(le===g.length-1&&!this._checkObjectHasProperty(ee,ie)){this.throwSCORMError(he,ne);return}if(ee=ee[ie],ee===void 0){this.throwSCORMError(he,ne);break}if(ee instanceof c.CMIArray){var ce=parseInt(g[le+1],10);if(!isNaN(ce)){var xe=ee.childArray[ce];if(xe)ee=xe;else{this.throwSCORMError(this._error_codes.VALUE_NOT_INITIALIZED,q);break}le++}}}if(ee==null)_e||(ie==="_children"?this.throwSCORMError(this._error_codes.CHILDREN_ERROR):ie==="_count"&&this.throwSCORMError(this._error_codes.COUNT_ERROR));else return ee},te.prototype.isInitialized=function(){return this.currentState===d.global_constants.STATE_INITIALIZED},te.prototype.isNotInitialized=function(){return this.currentState===d.global_constants.STATE_NOT_INITIALIZED},te.prototype.isTerminated=function(){return this.currentState===d.global_constants.STATE_TERMINATED},te.prototype.on=function($,_e){if(_e)for(var j=$.split(" "),g=0;g<j.length;g++){var ee=j[g].split(".");if(ee.length===0)return;var ie=ee[0],q=null;ee.length>1&&(q=$.replace(ie+".","")),this.listenerArray.push({functionName:ie,CMIElement:q,callback:_e}),this.apiLog("on","Added event listener: ".concat(this.listenerArray.length),re.LogLevelEnum.INFO,ie)}},te.prototype.off=function($,_e){if(_e)for(var j=$.split(" "),g=function(ne){var he=j[ne].split(".");if(he.length===0)return{value:void 0};var le=he[0],oe=null;he.length>1&&(oe=$.replace(le+".",""));var ce=ee.listenerArray.findIndex(function(xe){return xe.functionName===le&&xe.CMIElement===oe&&xe.callback===_e});ce!==-1&&(ee.listenerArray.splice(ce,1),ee.apiLog("off","Removed event listener: ".concat(ee.listenerArray.length),re.LogLevelEnum.INFO,le))},ee=this,ie=0;ie<j.length;ie++){var q=g(ie);if(typeof q=="object")return q.value}},te.prototype.clear=function($){for(var _e=$.split(" "),j=function(q){var ne=_e[q].split(".");if(ne.length===0)return{value:void 0};var he=ne[0],le=null;ne.length>1&&(le=$.replace(he+".","")),g.listenerArray=g.listenerArray.filter(function(oe){return oe.functionName!==he&&oe.CMIElement!==le})},g=this,ee=0;ee<_e.length;ee++){var ie=j(ee);if(typeof ie=="object")return ie.value}},te.prototype.processListeners=function($,_e,j){this.apiLog($,j,re.LogLevelEnum.INFO,_e);for(var g=0;g<this.listenerArray.length;g++){var ee=this.listenerArray[g],ie=ee.functionName===$,q=!!ee.CMIElement,ne=!1;_e&&ee.CMIElement&&ee.CMIElement.substring(ee.CMIElement.length-1)==="*"?ne=_e.indexOf(ee.CMIElement.substring(0,ee.CMIElement.length-1))===0:ne=ee.CMIElement===_e,ie&&(!q||ne)&&(this.apiLog("processListeners","Processing listener: ".concat(ee.functionName),re.LogLevelEnum.INFO,_e),ee.callback(_e,j))}},te.prototype.throwSCORMError=function($,_e){_e||(_e=this.getLmsErrorMessageDetails($)),this.apiLog("throwSCORMError",$+": "+_e,re.LogLevelEnum.ERROR),this.lastErrorCode=String($)},te.prototype.clearSCORMError=function($){$!==void 0&&$!==d.global_constants.SCORM_FALSE&&(this.lastErrorCode="0")},te.prototype.loadFromFlattenedJSON=function($,_e){var j=this;if(_e||(_e=""),!this.isNotInitialized()){console.error("loadFromFlattenedJSON can only be called before the call to lmsInitialize.");return}function g(he,le,oe){var ce=he.match(oe),xe;if(ce!==null&&(xe=le.match(oe))!==null){var se=Number(ce[2]),be=Number(xe[2]);return se===be?ce[3]==="id"?-1:ce[3]==="type"?xe[3]==="id"?1:-1:1:se-be}return null}var ee=/^(cmi\.interactions\.)(\d+)\.(.*)$/,ie=/^(cmi\.objectives\.)(\d+)\.(.*)$/,q=Object.keys($).map(function(he){return[String(he),$[he]]});q.sort(function(he,le){var oe=he[0];he[1];var ce=le[0];le[1];var xe;return(xe=g(oe,ce,ee))!==null||(xe=g(oe,ce,ie))!==null?xe:oe<ce?-1:oe>ce?1:0});var ne;q.forEach(function(he){ne={},ne[he[0]]=he[1],j.loadFromJSON((0,f.unflatten)(ne),_e)})},te.prototype.loadFromJSON=function($,_e){if(_e===void 0&&(_e=""),!this.isNotInitialized()){console.error("loadFromJSON can only be called before the call to lmsInitialize.");return}_e=_e!==void 0?_e:"cmi",this.startingData=$;for(var j in $)if({}.hasOwnProperty.call($,j)&&$[j]){var g=(_e?_e+".":"")+j,ee=$[j];if(ee.childArray)for(var ie=0;ie<ee.childArray.length;ie++)this.loadFromJSON(ee.childArray[ie],g+"."+ie);else ee.constructor===Object?this.loadFromJSON(ee,g):this.setCMIValue(g,ee)}},te.prototype.renderCMIToJSONString=function(){var $=this.cmi;return this.settings.sendFullCommit?JSON.stringify({cmi:$}):JSON.stringify({cmi:$},function(_e,j){return j===void 0?null:j},2)},te.prototype.renderCMIToJSONObject=function(){return JSON.parse(this.renderCMIToJSONString())},te.prototype.processHttpRequest=function($,_e){return(0,a.__awaiter)(this,arguments,void 0,function(j,g,ee){var ie,q,ne,he=this;return ee===void 0&&(ee=!1),(0,a.__generator)(this,function(le){switch(le.label){case 0:return ie=this,q={result:d.global_constants.SCORM_FALSE,errorCode:this.error_codes.GENERAL},ee?(this.performFetch(j,g).then(function(oe){return(0,a.__awaiter)(he,void 0,void 0,function(){return(0,a.__generator)(this,function(ce){switch(ce.label){case 0:return[4,this.transformResponse(oe)];case 1:return ce.sent(),[2]}})})}),[2,{result:d.global_constants.SCORM_TRUE,errorCode:0}]):(ne=function(oe,ce,xe){return(0,a.__awaiter)(he,void 0,void 0,function(){var se,be;return(0,a.__generator)(this,function(Ae){switch(Ae.label){case 0:return Ae.trys.push([0,2,,3]),ce=xe.requestHandler(ce),[4,this.performFetch(oe,ce)];case 1:return se=Ae.sent(),[2,this.transformResponse(se)];case 2:return be=Ae.sent(),this.apiLog("processHttpRequest",be,re.LogLevelEnum.ERROR),ie.processListeners("CommitError"),[2,q];case 3:return[2]}})})},[4,ne(j,g,this.settings)]);case 1:return[2,le.sent()]}})})},te.prototype.scheduleCommit=function($,_e){this._timeout||(this._timeout=new b(this,$,_e),this.apiLog("scheduleCommit","scheduled",re.LogLevelEnum.DEBUG,""))},te.prototype.clearScheduledCommit=function(){this._timeout&&(this._timeout.cancel(),this._timeout=void 0,this.apiLog("clearScheduledCommit","cleared",re.LogLevelEnum.DEBUG,""))},te.prototype._checkObjectHasProperty=function($,_e){return Object.hasOwnProperty.call($,_e)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf($),_e)!=null||_e in $},te.prototype.handleValueAccessException=function($,_e){return $ instanceof h.ValidationError?(this.lastErrorCode=String($.errorCode),_e=d.global_constants.SCORM_FALSE):($ instanceof Error&&$.message?console.error($.message):console.error($),this.throwSCORMError(this._error_codes.GENERAL)),_e},te.prototype.getCommitObject=function($){var _e=$||this.settings.alwaysSendTotalTime,j=this.settings.renderCommonCommitFields?this.renderCommitObject(_e):this.renderCommitCMI(_e);return[re.LogLevelEnum.DEBUG,"1",1,"DEBUG"].includes(this.apiLogLevel)&&(console.debug("Commit (terminated: "+($?"yes":"no")+"): "),console.debug(j)),j},te.prototype.performFetch=function($,_e){return(0,a.__awaiter)(this,void 0,void 0,function(){return(0,a.__generator)(this,function(j){return[2,fetch($,{method:"POST",mode:this.settings.fetchMode,body:_e instanceof Array?_e.join("&"):JSON.stringify(_e),headers:(0,a.__assign)((0,a.__assign)({},this.settings.xhrHeaders),{"Content-Type":this.settings.commitRequestDataType}),credentials:this.settings.xhrWithCredentials?"include":void 0,keepalive:!0})]})})},te.prototype.transformResponse=function($){return(0,a.__awaiter)(this,void 0,void 0,function(){var _e,j;return(0,a.__generator)(this,function(g){switch(g.label){case 0:return typeof this.settings.responseHandler!="function"?[3,2]:[4,this.settings.responseHandler($)];case 1:return j=g.sent(),[3,4];case 2:return[4,$.json()];case 3:j=g.sent(),g.label=4;case 4:return _e=j,$.status>=200&&$.status<=299&&(_e.result===!0||_e.result===d.global_constants.SCORM_TRUE)?this.processListeners("CommitSuccess"):this.processListeners("CommitError"),[2,_e]}})})},te}(),Se=me},941:function(e,i,o){o.r(i),o.d(i,{Scorm12Impl:function(){return $}});var a=o(635),c=o(989),h=o(864),d=o(340),f=o(797),re=o(176),_=o(833),b=o(331),me=o(56),Se=o(429),te=o(417),$=function(_e){(0,a.__extends)(j,_e);function j(g){var ee=this;return g&&g.mastery_override===void 0&&(g.mastery_override=!1),ee=_e.call(this,f.scorm12_errors,g)||this,ee.statusSetByModule=!1,ee.cmi=new c.CMI,ee.nav=new b.NAV,ee.LMSInitialize=ee.lmsInitialize,ee.LMSFinish=ee.lmsFinish,ee.LMSGetValue=ee.lmsGetValue,ee.LMSSetValue=ee.lmsSetValue,ee.LMSCommit=ee.lmsCommit,ee.LMSGetLastError=ee.lmsGetLastError,ee.LMSGetErrorString=ee.lmsGetErrorString,ee.LMSGetDiagnostic=ee.lmsGetDiagnostic,ee}return j.prototype.reset=function(g){var ee,ie;this.commonReset(g),(ee=this.cmi)===null||ee===void 0||ee.reset(),(ie=this.nav)===null||ie===void 0||ie.reset()},j.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.cmi.core.lesson_status?this.statusSetByModule=!0:this.cmi.core.lesson_status="not attempted",this.initialize("LMSInitialize","LMS was already initialized!","LMS is already finished!")},j.prototype.lmsFinish=function(){var g=this;return function(){return(0,a.__awaiter)(g,void 0,void 0,function(){return(0,a.__generator)(this,function(ee){switch(ee.label){case 0:return[4,this.internalFinish()];case 1:return ee.sent(),[2]}})})}(),d.global_constants.SCORM_TRUE},j.prototype.internalFinish=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var g;return(0,a.__generator)(this,function(ee){switch(ee.label){case 0:return[4,this.terminate("LMSFinish",!0)];case 1:return g=ee.sent(),g===d.global_constants.SCORM_TRUE&&(this.nav.event!==""?this.nav.event==="continue"?this.processListeners("SequenceNext"):this.processListeners("SequencePrevious"):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,g]}})})},j.prototype.lmsGetValue=function(g){return this.getValue("LMSGetValue",!1,g)},j.prototype.lmsSetValue=function(g,ee){return g==="cmi.core.lesson_status"&&(this.statusSetByModule=!0),this.setValue("LMSSetValue","LMSCommit",!1,g,ee)},j.prototype.lmsCommit=function(){var g=this;return this.settings.asyncCommit?this.scheduleCommit(500,"LMSCommit"):function(){return(0,a.__awaiter)(g,void 0,void 0,function(){return(0,a.__generator)(this,function(ee){switch(ee.label){case 0:return[4,this.commit("LMSCommit",!1)];case 1:return ee.sent(),[2]}})})}(),d.global_constants.SCORM_TRUE},j.prototype.lmsGetLastError=function(){return this.getLastError("LMSGetLastError")},j.prototype.lmsGetErrorString=function(g){return this.getErrorString("LMSGetErrorString",g)},j.prototype.lmsGetDiagnostic=function(g){return this.getDiagnostic("LMSGetDiagnostic",g)},j.prototype.setCMIValue=function(g,ee){return this._commonSetCMIValue("LMSSetValue",!1,g,ee)},j.prototype.getCMIValue=function(g){return this._commonGetCMIValue("getCMIValue",!1,g)},j.prototype.getChildElement=function(g,ee,ie){return(0,h.stringMatches)(g,"cmi\\.objectives\\.\\d+")?new re.CMIObjectivesObject:ie&&(0,h.stringMatches)(g,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+")?new _.CMIInteractionsCorrectResponsesObject:ie&&(0,h.stringMatches)(g,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+")?new _.CMIInteractionsObjectivesObject:!ie&&(0,h.stringMatches)(g,"cmi\\.interactions\\.\\d+")?new _.CMIInteractionsObject:null},j.prototype.validateCorrectResponse=function(g,ee){},j.prototype.getLmsErrorMessageDetails=function(g,ee){var ie="No Error",q="No Error";return g=String(g),d.scorm12_constants.error_descriptions[g]&&(ie=d.scorm12_constants.error_descriptions[g].basicMessage,q=d.scorm12_constants.error_descriptions[g].detailMessage),ee?q:ie},j.prototype.replaceWithAnotherScormAPI=function(g){this.cmi=g.cmi},j.prototype.renderCommitCMI=function(g){var ee=this.renderCMIToJSONObject();g&&(ee.cmi.core.total_time=this.cmi.getCurrentTotalTime());var ie=[],q=h.flatten(ee);switch(this.settings.dataCommitFormat){case"flattened":return h.flatten(ee);case"params":for(var ne in q)({}).hasOwnProperty.call(q,ne)&&ie.push("".concat(ne,"=").concat(q[ne]));return ie;case"json":default:return ee}},j.prototype.renderCommitObject=function(g){var ee=this.renderCommitCMI(g),ie=this.cmi.getCurrentTotalTime(),q=h.getTimeAsSeconds(ie,te.scorm12_regex.CMITimespan),ne=this.cmi.core.lesson_status,he=me.CompletionStatus.unknown,le=me.SuccessStatus.unknown;ne&&(he=ne==="completed"||ne==="passed"?me.CompletionStatus.completed:me.CompletionStatus.incomplete,ne==="passed"?le=me.SuccessStatus.passed:ne==="failed"&&(le=me.SuccessStatus.failed));var oe=this.cmi.core.score,ce=null;oe&&(ce={},Number.isNaN(Number.parseFloat(oe.raw))||(ce.raw=Number.parseFloat(oe.raw)),Number.isNaN(Number.parseFloat(oe.min))||(ce.min=Number.parseFloat(oe.min)),Number.isNaN(Number.parseFloat(oe.max))||(ce.max=Number.parseFloat(oe.max)));var xe={successStatus:le,completionStatus:he,runtimeData:ee,totalTimeSeconds:q};return ce&&(xe.score=ce),xe},j.prototype.storeData=function(g){return(0,a.__awaiter)(this,void 0,void 0,function(){var ee,ie,q,ne,he;return(0,a.__generator)(this,function(le){switch(le.label){case 0:return g&&(ee=this.cmi.core.lesson_status,(!this.cmi.core.lesson_status||!this.statusSetByModule&&this.cmi.core.lesson_status==="not attempted")&&(this.cmi.core.lesson_status="completed"),this.cmi.core.lesson_mode==="normal"?this.cmi.core.credit==="credit"&&this.settings.mastery_override&&this.cmi.student_data.mastery_score!==""&&this.cmi.core.score.raw!==""&&(this.cmi.core.lesson_status=parseFloat(this.cmi.core.score.raw)>=parseFloat(this.cmi.student_data.mastery_score)?"passed":"failed"):this.cmi.core.lesson_mode==="browse"&&(((he=(ne=(q=this.startingData)===null||q===void 0?void 0:q.cmi)===null||ne===void 0?void 0:ne.core)===null||he===void 0?void 0:he.lesson_status)||"")===""&&ee==="not attempted"&&(this.cmi.core.lesson_status="browsed")),ie=this.getCommitObject(g),typeof this.settings.lmsCommitUrl!="string"?[3,2]:[4,this.processHttpRequest(this.settings.lmsCommitUrl,ie,g)];case 1:return[2,le.sent()];case 2:return[2,{result:d.global_constants.SCORM_TRUE,errorCode:0}]}})})},j}(Se.default)},809:function(e,i,o){o.r(i),o.d(i,{Scorm2004Impl:function(){return de}});var a=o(635),c=o(429),h=o(340),d=o(417),f=o(797),re=o(784),_=h.scorm2004_constants.error_descriptions,b=function(ve){(0,a.__extends)(ue,ve);function ue(m){var Ee=this;return{}.hasOwnProperty.call(_,String(m))?Ee=ve.call(this,m,_[String(m)].basicMessage,_[String(m)].detailMessage)||this:Ee=ve.call(this,101,_[101].basicMessage,_[101].detailMessage)||this,Ee}return ue}(re.ValidationError),me=o(864),Se=o(319),te=o(449);function $(ve,ue,m){return(0,te.checkValidFormat)(ve,ue,f.scorm2004_errors.TYPE_MISMATCH,b,m)}function _e(ve,ue){return(0,te.checkValidRange)(ve,ue,f.scorm2004_errors.VALUE_OUT_OF_RANGE,b)}var j=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m.__children=h.scorm2004_constants.student_preference_children,m._audio_level="1",m._language="",m._delivery_speed="1",m._audio_captioning="0",m}return ue.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ue.prototype,"_children",{get:function(){return this.__children},set:function(m){throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"audio_level",{get:function(){return this._audio_level},set:function(m){$(m,d.scorm2004_regex.CMIDecimal)&&_e(m,d.scorm2004_regex.audio_range)&&(this._audio_level=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"language",{get:function(){return this._language},set:function(m){$(m,d.scorm2004_regex.CMILang)&&(this._language=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"delivery_speed",{get:function(){return this._delivery_speed},set:function(m){$(m,d.scorm2004_regex.CMIDecimal)&&_e(m,d.scorm2004_regex.speed_range)&&(this._delivery_speed=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"audio_captioning",{get:function(){return this._audio_captioning},set:function(m){$(m,d.scorm2004_regex.CMISInteger)&&_e(m,d.scorm2004_regex.text_range)&&(this._audio_captioning=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={audio_level:this.audio_level,language:this.language,delivery_speed:this.delivery_speed,audio_captioning:this.audio_captioning};return delete this.jsonString,m},ue}(Se.BaseCMI),g=o(589),ee={"true-false":{format:"^true$|^false$",max:1,delimiter:"",unique:!1},choice:{format:d.scorm2004_regex.CMILongIdentifier,max:36,delimiter:"[,]",unique:!0},"fill-in":{format:d.scorm2004_regex.CMILangString250,max:10,delimiter:"[,]",unique:!1},"long-fill-in":{format:d.scorm2004_regex.CMILangString4000,max:1,delimiter:"",unique:!1},matching:{format:d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIShortIdentifier,max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1},performance:{format:"^$|"+d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIDecimal+"|^$|"+d.scorm2004_regex.CMIShortIdentifier,max:250,delimiter:"[,]",delimiter2:"[.]",unique:!1},sequencing:{format:d.scorm2004_regex.CMIShortIdentifier,max:36,delimiter:"[,]",unique:!1},likert:{format:d.scorm2004_regex.CMIShortIdentifier,max:1,delimiter:"",unique:!1},numeric:{format:d.scorm2004_regex.CMIDecimal,max:1,delimiter:"",unique:!1},other:{format:d.scorm2004_regex.CMIString4000,max:1,delimiter:"",unique:!1}},ie={"true-false":{max:1,delimiter:"",unique:!1,duplicate:!1,format:"^true$|^false$",limit:1},choice:{max:36,delimiter:"[,]",unique:!0,duplicate:!1,format:d.scorm2004_regex.CMILongIdentifier},"fill-in":{max:10,delimiter:"[,]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMILangString250cr},"long-fill-in":{max:1,delimiter:"",unique:!1,duplicate:!0,format:d.scorm2004_regex.CMILangString4000},matching:{max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIShortIdentifier},performance:{max:250,delimiter:"[,]",delimiter2:"[.]",delimiter3:"[:]",unique:!1,duplicate:!1,format:"^$|"+d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIDecimal+"|^$|"+d.scorm2004_regex.CMIShortIdentifier},sequencing:{max:36,delimiter:"[,]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIShortIdentifier},likert:{max:1,delimiter:"",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIShortIdentifier,limit:1},numeric:{max:2,delimiter:"[:]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIDecimal,limit:1},other:{max:1,delimiter:"",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIString4000,limit:1}},q=function(ve){(0,a.__extends)(ue,ve);function ue(){return ve.call(this,{children:h.scorm2004_constants.interactions_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b})||this}return ue}(g.CMIArray),ne=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._id="",m._type="",m._timestamp="",m._weighting="",m._learner_response="",m._result="",m._latency="",m._description="",m.objectives=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b,children:h.scorm2004_constants.objectives_children}),m.correct_responses=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b,children:h.scorm2004_constants.correct_responses_children}),m}return ue.prototype.initialize=function(){var m,Ee;ve.prototype.initialize.call(this),(m=this.objectives)===null||m===void 0||m.initialize(),(Ee=this.correct_responses)===null||Ee===void 0||Ee.initialize()},ue.prototype.reset=function(){this._initialized=!1,this._id="",this._type="",this._timestamp="",this._weighting="",this._learner_response="",this._result="",this._latency="",this._description="",this.objectives=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b,children:h.scorm2004_constants.objectives_children}),this.correct_responses=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b,children:h.scorm2004_constants.correct_responses_children})},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){$(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"type",{get:function(){return this._type},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMIType)&&(this._type=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"timestamp",{get:function(){return this._timestamp},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMITime)&&(this._timestamp=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"weighting",{get:function(){return this._weighting},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMIDecimal)&&(this._weighting=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"learner_response",{get:function(){return this._learner_response},set:function(m){if(this.initialized&&(this._type===""||this._id===""))throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);var Ee=[],Te=ee[this.type];if(Te){if(Te!=null&&Te.delimiter?Ee=m.split(Te.delimiter):Ee[0]=m,Ee.length>0&&Ee.length<=Te.max)for(var Me=new RegExp(Te.format),Le=0;Le<Ee.length;Le++)if(Te!=null&&Te.delimiter2){var Ue=Ee[Le].split(Te.delimiter2);if(Ue.length===2)if(Ue[0].match(Me)){if(!Te.format2||!Ue[1].match(new RegExp(Te.format2)))throw new b(f.scorm2004_errors.TYPE_MISMATCH)}else throw new b(f.scorm2004_errors.TYPE_MISMATCH);else throw new b(f.scorm2004_errors.TYPE_MISMATCH)}else if(Ee[Le].match(Me)){if(Ee[Le]!==""&&Te.unique){for(var Xe=0;Xe<Le;Xe++)if(Ee[Le]===Ee[Xe])throw new b(f.scorm2004_errors.TYPE_MISMATCH)}}else throw new b(f.scorm2004_errors.TYPE_MISMATCH);else throw new b(f.scorm2004_errors.GENERAL_SET_FAILURE);this._learner_response=m}else throw new b(f.scorm2004_errors.TYPE_MISMATCH)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"result",{get:function(){return this._result},set:function(m){$(m,d.scorm2004_regex.CMIResult)&&(this._result=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"latency",{get:function(){return this._latency},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMITimespan)&&(this._latency=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"description",{get:function(){return this._description},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMILangString250,!0)&&(this._description=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this.id,type:this.type,objectives:this.objectives,timestamp:this.timestamp,weighting:this.weighting,learner_response:this.learner_response,result:this.result,latency:this.latency,description:this.description,correct_responses:this.correct_responses};return delete this.jsonString,m},ue}(Se.BaseCMI),he=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._id="",m}return ue.prototype.reset=function(){this._initialized=!1,this._id=""},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){$(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this.id};return delete this.jsonString,m},ue}(Se.BaseCMI),le=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._pattern="",m}return ue.prototype.reset=function(){this._initialized=!1,this._pattern=""},Object.defineProperty(ue.prototype,"pattern",{get:function(){return this._pattern},set:function(m){$(m,d.scorm2004_regex.CMIFeedback)&&(this._pattern=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={pattern:this.pattern};return delete this.jsonString,m},ue}(Se.BaseCMI),oe=o(434),ce=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this,{score_children:h.scorm2004_constants.score_children,max:"",invalidErrorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,invalidTypeCode:f.scorm2004_errors.TYPE_MISMATCH,invalidRangeCode:f.scorm2004_errors.VALUE_OUT_OF_RANGE,decimalRegex:d.scorm2004_regex.CMIDecimal,errorClass:b})||this;return m._scaled="",m}return ue.prototype.reset=function(){this._initialized=!1,this._scaled="",this._raw="",this._min="",this._max=""},Object.defineProperty(ue.prototype,"scaled",{get:function(){return this._scaled},set:function(m){$(m,d.scorm2004_regex.CMIDecimal)&&_e(m,d.scorm2004_regex.scaled_range)&&(this._scaled=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={scaled:this.scaled,raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,m},ue}(oe.CMIScore),xe=function(ve){(0,a.__extends)(ue,ve);function ue(){return ve.call(this,{children:h.scorm2004_constants.comments_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b})||this}return ue}(g.CMIArray),se=function(ve){(0,a.__extends)(ue,ve);function ue(){return ve.call(this,{children:h.scorm2004_constants.comments_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b})||this}return ue}(g.CMIArray),be=function(ve){(0,a.__extends)(ue,ve);function ue(m){m===void 0&&(m=!1);var Ee=ve.call(this)||this;return Ee._comment="",Ee._location="",Ee._timestamp="",Ee._comment="",Ee._location="",Ee._timestamp="",Ee._readOnlyAfterInit=m,Ee}return ue.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ue.prototype,"comment",{get:function(){return this._comment},set:function(m){if(this.initialized&&this._readOnlyAfterInit)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);$(m,d.scorm2004_regex.CMILangString4000,!0)&&(this._comment=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"location",{get:function(){return this._location},set:function(m){if(this.initialized&&this._readOnlyAfterInit)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);$(m,d.scorm2004_regex.CMIString250)&&(this._location=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"timestamp",{get:function(){return this._timestamp},set:function(m){if(this.initialized&&this._readOnlyAfterInit)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);$(m,d.scorm2004_regex.CMITime)&&(this._timestamp=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={comment:this.comment,location:this.location,timestamp:this.timestamp};return delete this.jsonString,m},ue}(Se.BaseCMI),Ae=function(ve){(0,a.__extends)(ue,ve);function ue(){return ve.call(this,{children:h.scorm2004_constants.objectives_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b})||this}return ue.prototype.findObjectiveById=function(m){return this.childArray.find(function(Ee){return Ee.id===m})},ue.prototype.findObjectiveByIndex=function(m){return this.childArray[m]},ue.prototype.setObjectiveByIndex=function(m,Ee){this.childArray[m]=Ee},ue}(g.CMIArray),Ie=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._id="",m._success_status="unknown",m._completion_status="unknown",m._progress_measure="",m._description="",m.score=new ce,m}return ue.prototype.reset=function(){this._initialized=!1},ue.prototype.initialize=function(){var m;ve.prototype.initialize.call(this),(m=this.score)===null||m===void 0||m.initialize()},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){$(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"success_status",{get:function(){return this._success_status},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMISStatus)&&(this._success_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"completion_status",{get:function(){return this._completion_status},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMICStatus)&&(this._completion_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"progress_measure",{get:function(){return this._progress_measure},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMIDecimal)&&_e(m,d.scorm2004_regex.progress_range)&&(this._progress_measure=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"description",{get:function(){return this._description},set:function(m){if(this.initialized&&this._id==="")throw new b(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);$(m,d.scorm2004_regex.CMILangString250,!0)&&(this._description=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this.id,success_status:this.success_status,completion_status:this.completion_status,progress_measure:this.progress_measure,description:this.description,score:this.score};return delete this.jsonString,m},ue}(Se.BaseCMI),Re=function(ve){(0,a.__extends)(ue,ve);function ue(m){m===void 0&&(m=!1);var Ee=ve.call(this)||this;return Ee.__version="1.0",Ee.__children=h.scorm2004_constants.cmi_children,Ee._completion_status="unknown",Ee._completion_threshold="",Ee._credit="credit",Ee._entry="",Ee._exit="",Ee._launch_data="",Ee._learner_id="",Ee._learner_name="",Ee._location="",Ee._max_time_allowed="",Ee._mode="normal",Ee._progress_measure="",Ee._scaled_passing_score="",Ee._session_time="PT0H0M0S",Ee._success_status="unknown",Ee._suspend_data="",Ee._time_limit_action="continue,no message",Ee._total_time="",Ee.learner_preference=new j,Ee.score=new ce,Ee.comments_from_learner=new se,Ee.comments_from_lms=new xe,Ee.interactions=new q,Ee.objectives=new Ae,m&&Ee.initialize(),Ee}return ue.prototype.initialize=function(){var m,Ee,Te,Me,Le,Ue;ve.prototype.initialize.call(this),(m=this.learner_preference)===null||m===void 0||m.initialize(),(Ee=this.score)===null||Ee===void 0||Ee.initialize(),(Te=this.comments_from_learner)===null||Te===void 0||Te.initialize(),(Me=this.comments_from_lms)===null||Me===void 0||Me.initialize(),(Le=this.interactions)===null||Le===void 0||Le.initialize(),(Ue=this.objectives)===null||Ue===void 0||Ue.initialize()},ue.prototype.reset=function(){var m,Ee,Te,Me,Le,Ue;this._initialized=!1,this._completion_status="incomplete",this._exit="",this._session_time="PT0H0M0S",this._progress_measure="",this._location="",(m=this.objectives)===null||m===void 0||m.reset(!1),(Ee=this.interactions)===null||Ee===void 0||Ee.reset(!0),(Te=this.score)===null||Te===void 0||Te.reset(),(Me=this.comments_from_learner)===null||Me===void 0||Me.reset(),(Le=this.comments_from_lms)===null||Le===void 0||Le.reset(),(Ue=this.learner_preference)===null||Ue===void 0||Ue.reset()},Object.defineProperty(ue.prototype,"_version",{get:function(){return this.__version},set:function(m){throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"_children",{get:function(){return this.__children},set:function(m){throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"completion_status",{get:function(){return this._completion_status},set:function(m){$(m,d.scorm2004_regex.CMICStatus)&&(this._completion_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"completion_threshold",{get:function(){return this._completion_threshold},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._completion_threshold=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"credit",{get:function(){return this._credit},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._credit=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"entry",{get:function(){return this._entry},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._entry=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"exit",{get:function(){if(!this.jsonString)throw new b(f.scorm2004_errors.WRITE_ONLY_ELEMENT);return this._exit},set:function(m){$(m,d.scorm2004_regex.CMIExit,!0)&&(this._exit=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"launch_data",{get:function(){return this._launch_data},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._launch_data=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"learner_id",{get:function(){return this._learner_id},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._learner_id=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"learner_name",{get:function(){return this._learner_name},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._learner_name=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"location",{get:function(){return this._location},set:function(m){$(m,d.scorm2004_regex.CMIString1000)&&(this._location=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._max_time_allowed=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"mode",{get:function(){return this._mode},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._mode=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"progress_measure",{get:function(){return this._progress_measure},set:function(m){$(m,d.scorm2004_regex.CMIDecimal)&&_e(m,d.scorm2004_regex.progress_range)&&(this._progress_measure=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"scaled_passing_score",{get:function(){return this._scaled_passing_score},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._scaled_passing_score=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"session_time",{get:function(){if(!this.jsonString)throw new b(f.scorm2004_errors.WRITE_ONLY_ELEMENT);return this._session_time},set:function(m){$(m,d.scorm2004_regex.CMITimespan)&&(this._session_time=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"success_status",{get:function(){return this._success_status},set:function(m){$(m,d.scorm2004_regex.CMISStatus)&&(this._success_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(m){$(m,d.scorm2004_regex.CMIString64000,!0)&&(this._suspend_data=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._time_limit_action=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"total_time",{get:function(){return this._total_time},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);this._total_time=m},enumerable:!1,configurable:!0}),ue.prototype.getCurrentTotalTime=function(){var m=this._session_time,Ee=this.start_time;if(typeof Ee<"u"&&Ee!==null){var Te=new Date().getTime()-Ee;m=me.getSecondsAsISODuration(Te/1e3)}return me.addTwoDurations(this._total_time,m,d.scorm2004_regex.CMITimespan)},ue.prototype.toJSON=function(){this.jsonString=!0;var m={comments_from_learner:this.comments_from_learner,comments_from_lms:this.comments_from_lms,completion_status:this.completion_status,completion_threshold:this.completion_threshold,credit:this.credit,entry:this.entry,exit:this.exit,interactions:this.interactions,launch_data:this.launch_data,learner_id:this.learner_id,learner_name:this.learner_name,learner_preference:this.learner_preference,location:this.location,max_time_allowed:this.max_time_allowed,mode:this.mode,objectives:this.objectives,progress_measure:this.progress_measure,scaled_passing_score:this.scaled_passing_score,score:this.score,session_time:this.session_time,success_status:this.success_status,suspend_data:this.suspend_data,time_limit_action:this.time_limit_action};return delete this.jsonString,m},ue}(Se.BaseRootCMI),Fe=["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","aar","abk","ave","afr","aka","amh","arg","ara","asm","ava","aym","aze","bak","bel","bul","bih","bis","bam","ben","tib","bod","bre","bos","cat","che","cha","cos","cre","cze","ces","chu","chv","wel","cym","dan","ger","deu","div","dzo","ewe","gre","ell","eng","epo","spa","est","baq","eus","per","fas","ful","fin","fij","fao","fre","fra","fry","gle","gla","glg","grn","guj","glv","hau","heb","hin","hmo","hrv","hat","hun","arm","hye","her","ina","ind","ile","ibo","iii","ipk","ido","ice","isl","ita","iku","jpn","jav","geo","kat","kon","kik","kua","kaz","kal","khm","kan","kor","kau","kas","kur","kom","cor","kir","lat","ltz","lug","lim","lin","lao","lit","lub","lav","mlg","mah","mao","mri","mac","mkd","mal","mon","mol","mar","may","msa","mlt","bur","mya","nau","nob","nde","nep","ndo","dut","nld","nno","nor","nbl","nav","nya","oci","oji","orm","ori","oss","pan","pli","pol","pus","por","que","roh","run","rum","ron","rus","kin","san","srd","snd","sme","sag","slo","sin","slk","slv","smo","sna","som","alb","sqi","srp","ssw","sot","sun","swe","swa","tam","tel","tgk","tha","tir","tuk","tgl","tsn","ton","tur","tso","tat","twi","tah","uig","ukr","urd","uzb","ven","vie","vol","wln","wol","xho","yid","yor","zha","chi","zho","zul"],Ce=Fe,ke=o(56),we=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m.data=new fe,m.nav=new Pe,m.data=new fe,m}return ue.prototype.initialize=function(){var m;ve.prototype.initialize.call(this),(m=this.nav)===null||m===void 0||m.initialize()},ue.prototype.reset=function(){var m;this._initialized=!1,(m=this.nav)===null||m===void 0||m.reset()},ue.prototype.toJSON=function(){this.jsonString=!0;var m={nav:this.nav,data:this.data};return delete this.jsonString,m},ue}(Se.BaseCMI),Pe=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._request="_none_",m.request_valid=new ae,m}return ue.prototype.initialize=function(){var m;ve.prototype.initialize.call(this),(m=this.request_valid)===null||m===void 0||m.initialize()},ue.prototype.reset=function(){var m;this._initialized=!1,this._request="_none_",(m=this.request_valid)===null||m===void 0||m.reset()},Object.defineProperty(ue.prototype,"request",{get:function(){return this._request},set:function(m){$(m,d.scorm2004_regex.NAVEvent)&&(this._request=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={request:this.request};return delete this.jsonString,m},ue}(Se.BaseCMI),fe=function(ve){(0,a.__extends)(ue,ve);function ue(){return ve.call(this,{children:h.scorm2004_constants.adl_data_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:b})||this}return ue}(g.CMIArray),ye=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._id="",m._store="",m}return ue.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){$(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"store",{get:function(){return this._store},set:function(m){$(m,d.scorm2004_regex.CMILangString4000)&&(this._store=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this._id,store:this._store};return delete this.jsonString,m},ue}(Se.BaseCMI),ae=function(ve){(0,a.__extends)(ue,ve);function ue(){var m=ve.call(this)||this;return m._continue="unknown",m._previous="unknown",m._choice={},m._jump={},m}return ue.prototype.reset=function(){this._initialized=!1,this._continue="unknown",this._previous="unknown"},Object.defineProperty(ue.prototype,"continue",{get:function(){return this._continue},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);$(m,d.scorm2004_regex.NAVBoolean)&&(this._continue=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"previous",{get:function(){return this._previous},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);$(m,d.scorm2004_regex.NAVBoolean)&&(this._previous=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"choice",{get:function(){return this._choice},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);if(typeof m!="object")throw new b(f.scorm2004_errors.TYPE_MISMATCH);for(var Ee in m)({}).hasOwnProperty.call(m,Ee)&&$(m[Ee],d.scorm2004_regex.NAVBoolean)&&$(Ee,d.scorm2004_regex.NAVTarget)&&(this._choice[Ee]=ke.NAVBoolean[m[Ee]])},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"jump",{get:function(){return this._jump},set:function(m){if(this.initialized)throw new b(f.scorm2004_errors.READ_ONLY_ELEMENT);if(typeof m!="object")throw new b(f.scorm2004_errors.TYPE_MISMATCH);for(var Ee in m)({}).hasOwnProperty.call(m,Ee)&&$(m[Ee],d.scorm2004_regex.NAVBoolean)&&$(Ee,d.scorm2004_regex.NAVTarget)&&(this._jump[Ee]=ke.NAVBoolean[m[Ee]])},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={previous:this._previous,continue:this._continue,choice:this._choice,jump:this._jump};return delete this.jsonString,m},ue}(Se.BaseCMI),de=function(ve){(0,a.__extends)(ue,ve);function ue(m){var Ee=this;return m&&m.mastery_override===void 0&&(m.mastery_override=!1),Ee=ve.call(this,f.scorm2004_errors,m)||this,Ee._version="1.0",Ee._globalObjectives=[],Ee.cmi=new Re,Ee.adl=new we,Ee.Initialize=Ee.lmsInitialize,Ee.Terminate=Ee.lmsFinish,Ee.GetValue=Ee.lmsGetValue,Ee.SetValue=Ee.lmsSetValue,Ee.Commit=Ee.lmsCommit,Ee.GetLastError=Ee.lmsGetLastError,Ee.GetErrorString=Ee.lmsGetErrorString,Ee.GetDiagnostic=Ee.lmsGetDiagnostic,Ee}return ue.prototype.reset=function(m){var Ee,Te;this.commonReset(m),(Ee=this.cmi)===null||Ee===void 0||Ee.reset(),(Te=this.adl)===null||Te===void 0||Te.reset()},Object.defineProperty(ue.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"globalObjectives",{get:function(){return this._globalObjectives},enumerable:!1,configurable:!0}),ue.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.initialize("Initialize")},ue.prototype.lmsFinish=function(){var m=this;return function(){return(0,a.__awaiter)(m,void 0,void 0,function(){return(0,a.__generator)(this,function(Ee){switch(Ee.label){case 0:return[4,this.internalFinish()];case 1:return Ee.sent(),[2]}})})}(),h.global_constants.SCORM_TRUE},ue.prototype.internalFinish=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var m,Ee,Te,Me,Le,Ue,Xe,Ve,Ke,ze,Ge;return(0,a.__generator)(this,function(Oe){switch(Oe.label){case 0:return[4,this.terminate("Terminate",!0)];case 1:return m=Oe.sent(),m===h.global_constants.SCORM_TRUE&&(this.adl.nav.request!=="_none_"?(Ee={continue:"SequenceNext",previous:"SequencePrevious",choice:"SequenceChoice",jump:"SequenceJump",exit:"SequenceExit",exitAll:"SequenceExitAll",abandon:"SequenceAbandon",abandonAll:"SequenceAbandonAll"},Te=this.adl.nav.request,Me=new RegExp(d.scorm2004_regex.NAVEvent),Le=Te.match(Me),Ue="",Le&&(!((Ve=Le.groups)===null||Ve===void 0)&&Ve.choice_target?(Ue=(Ke=Le.groups)===null||Ke===void 0?void 0:Ke.choice_target,Te="choice"):!((ze=Le.groups)===null||ze===void 0)&&ze.jump_target&&(Ue=(Ge=Le.groups)===null||Ge===void 0?void 0:Ge.jump_target,Te="jump")),Xe=Ee[Te],Xe&&this.processListeners(Xe,"adl.nav.request",Ue)):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,m]}})})},ue.prototype.lmsGetValue=function(m){var Ee="^adl\\.nav\\.request_valid\\.(choice|jump)\\.{target=\\S{0,}([a-zA-Z0-9-_]+)}$";if((0,me.stringMatches)(m,Ee)){var Te=m.match(Ee),Me=Te[1],Le=Te[2].replace("{target=","").replace("}","");if(Me==="choice"||Me==="jump")return this.settings.scoItemIdValidator?String(this.settings.scoItemIdValidator(Le)):String(this.settings.scoItemIds.includes(Le))}return this.getValue("GetValue",!0,m)},ue.prototype.lmsSetValue=function(m,Ee){return this.setValue("SetValue","Commit",!0,m,Ee)},ue.prototype.lmsCommit=function(){var m=this;return this.settings.asyncCommit?this.scheduleCommit(500,"LMSCommit"):function(){return(0,a.__awaiter)(m,void 0,void 0,function(){return(0,a.__generator)(this,function(Ee){switch(Ee.label){case 0:return[4,this.commit("LMSCommit",!1)];case 1:return Ee.sent(),[2]}})})}(),h.global_constants.SCORM_TRUE},ue.prototype.lmsGetLastError=function(){return this.getLastError("GetLastError")},ue.prototype.lmsGetErrorString=function(m){return this.getErrorString("GetErrorString",m)},ue.prototype.lmsGetDiagnostic=function(m){return this.getDiagnostic("GetDiagnostic",m)},ue.prototype.setCMIValue=function(m,Ee){if((0,me.stringMatches)(m,"cmi\\.objectives\\.\\d+")){var Te=m.split("."),Me=Number(Te[2]),Le="cmi.objectives.".concat(Me),Ue,Xe=(0,me.stringMatches)(m,"cmi\\.objectives\\.\\d+\\.id");if(Xe)Ue=Ee;else{var Ve=this.cmi.objectives.findObjectiveByIndex(Me);Ue=Ve?Ve.id:void 0}var Ke=Ue&&this.settings.globalObjectiveIds.includes(Ue);if(Ke){var ze=this._globalObjectives.findIndex(function($e){return $e.id===Ue});if(ze===-1){ze=this._globalObjectives.length;var Ge=new Ie;Ge.id=Ue,this._globalObjectives.push(Ge)}var Oe=m.replace(Le,"_globalObjectives.".concat(ze));this._commonSetCMIValue("SetGlobalObjectiveValue",!0,Oe,Ee)}}return this._commonSetCMIValue("SetValue",!0,m,Ee)},ue.prototype.getChildElement=function(m,Ee,Te){if((0,me.stringMatches)(m,"cmi\\.objectives\\.\\d+"))return new Ie;if(Te){if((0,me.stringMatches)(m,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+"))return this.createCorrectResponsesObject(m,Ee);if((0,me.stringMatches)(m,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+"))return new he}else if((0,me.stringMatches)(m,"cmi\\.interactions\\.\\d+"))return new ne;return(0,me.stringMatches)(m,"cmi\\.comments_from_learner\\.\\d+")?new be:(0,me.stringMatches)(m,"cmi\\.comments_from_lms\\.\\d+")?new be(!0):(0,me.stringMatches)(m,"adl\\.data\\.\\d+")?new ye:null},ue.prototype.createCorrectResponsesObject=function(m,Ee){var Te=m.split("."),Me=Number(Te[2]),Le=this.cmi.interactions.childArray[Me];if(this.isInitialized())if(!Le.type)this.throwSCORMError(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);else{this.checkDuplicateChoiceResponse(Le,Ee);var Ue=ie[Le.type];Ue?this.checkValidResponseType(Ue,Ee,Le.type):this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Incorrect Response Type: "+Le.type)}return this.lastErrorCode==="0"?new le:null},ue.prototype.checkValidResponseType=function(m,Ee,Te){var Me=[];m!=null&&m.delimiter?Me=String(Ee).split(m.delimiter):Me[0]=Ee,Me.length>0&&Me.length<=m.max?this.checkCorrectResponseValue(Te,Me,Ee):Me.length>m.max&&this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Pattern Too Long")},ue.prototype.checkDuplicateChoiceResponse=function(m,Ee){var Te=m.correct_responses._count;if(m.type==="choice")for(var Me=0;Me<Te&&this.lastErrorCode==="0";Me++){var Le=m.correct_responses.childArray[Me];Le.pattern===Ee&&this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE)}},ue.prototype.validateCorrectResponse=function(m,Ee){var Te=m.split("."),Me=Number(Te[2]),Le=Number(Te[4]),Ue=this.cmi.interactions.childArray[Me],Xe=Ue.correct_responses._count;this.checkDuplicateChoiceResponse(Ue,Ee);var Ve=ie[Ue.type];typeof Ve.limit>"u"||Xe<=Ve.limit?(this.checkValidResponseType(Ve,Ee,Ue.type),this.lastErrorCode==="0"&&(!Ve.duplicate||!this.checkDuplicatedPattern(Ue.correct_responses,Le,Ee))||this.lastErrorCode==="0"&&Ee===""||this.lastErrorCode==="0"&&this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Pattern Already Exists")):this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Collection Limit Reached")},ue.prototype.getCMIValue=function(m){return this._commonGetCMIValue("GetValue",!0,m)},ue.prototype.getLmsErrorMessageDetails=function(m,Ee){var Te="",Me="";return m=String(m),h.scorm2004_constants.error_descriptions[m]&&(Te=h.scorm2004_constants.error_descriptions[m].basicMessage,Me=h.scorm2004_constants.error_descriptions[m].detailMessage),Ee?Me:Te},ue.prototype.checkDuplicatedPattern=function(m,Ee,Te){for(var Me=!1,Le=m._count,Ue=0;Ue<Le&&!Me;Ue++)Ue!==Ee&&m.childArray[Ue]===Te&&(Me=!0);return Me},ue.prototype.checkCorrectResponseValue=function(m,Ee,Te){for(var Me=ie[m],Le=new RegExp(Me.format),Ue=0;Ue<Ee.length&&this.lastErrorCode==="0";Ue++)if(m.match("^(fill-in|long-fill-in|matching|performance|sequencing)$")&&(Ee[Ue]=this.removeCorrectResponsePrefixes(Ee[Ue])),Me!=null&&Me.delimiter2){var Xe=Ee[Ue].split(Me.delimiter2);if(Xe.length===2){var Ve=Xe[0].match(Le);Ve?(!Me.format2||!Xe[1].match(new RegExp(Me.format2)))&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH):this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH)}else this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH)}else{var Ve=Ee[Ue].match(Le);if(!Ve&&Te!==""||!Ve&&m==="true-false")this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH);else if(m==="numeric"&&Ee.length>1)Number(Ee[0])>Number(Ee[1])&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH);else if(Ee[Ue]!==""&&Me.unique)for(var Ke=0;Ke<Ue&&this.lastErrorCode==="0";Ke++)Ee[Ue]===Ee[Ke]&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH)}},ue.prototype.removeCorrectResponsePrefixes=function(m){for(var Ee=!1,Te=!1,Me=!1,Le=new RegExp("^({(lang|case_matters|order_matters)=([^}]+)})"),Ue=m.match(Le),Xe=null;Ue;){switch(Ue[2]){case"lang":if(Xe=m.match(d.scorm2004_regex.CMILangcr),Xe){var Ve=Xe[3];Ve!==void 0&&Ve.length>0&&(Ce.includes(Ve.toLowerCase())||this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH))}Me=!0;break;case"case_matters":!Me&&!Ee&&!Te&&Ue[3]!=="true"&&Ue[3]!=="false"&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH),Te=!0;break;case"order_matters":!Te&&!Me&&!Ee&&Ue[3]!=="true"&&Ue[3]!=="false"&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH),Ee=!0;break}m=m.substring(Ue[1].length),Ue=m.match(Le)}return m},ue.prototype.replaceWithAnotherScormAPI=function(m){this.cmi=m.cmi,this.adl=m.adl},ue.prototype.renderCommitCMI=function(m){var Ee=this.renderCMIToJSONObject();m&&(Ee.cmi.total_time=this.cmi.getCurrentTotalTime());var Te=[],Me=me.flatten(Ee);switch(this.settings.dataCommitFormat){case"flattened":return me.flatten(Ee);case"params":for(var Le in Me)({}).hasOwnProperty.call(Me,Le)&&Te.push("".concat(Le,"=").concat(Me[Le]));return Te;case"json":default:return Ee}},ue.prototype.renderCommitObject=function(m){var Ee=this.renderCommitCMI(m),Te=this.cmi.getCurrentTotalTime(),Me=me.getDurationAsSeconds(Te,d.scorm2004_regex.CMITimespan),Le=ke.CompletionStatus.unknown,Ue=ke.SuccessStatus.unknown;this.cmi.completion_status&&(this.cmi.completion_status==="completed"?Le=ke.CompletionStatus.completed:this.cmi.completion_status==="incomplete"&&(Le=ke.CompletionStatus.incomplete)),this.cmi.success_status&&(this.cmi.success_status==="passed"?Ue=ke.SuccessStatus.passed:this.cmi.success_status==="failed"&&(Ue=ke.SuccessStatus.failed));var Xe=this.cmi.score,Ve=null;Xe&&(Ve={},Number.isNaN(Number.parseFloat(Xe.raw))||(Ve.raw=Number.parseFloat(Xe.raw)),Number.isNaN(Number.parseFloat(Xe.min))||(Ve.min=Number.parseFloat(Xe.min)),Number.isNaN(Number.parseFloat(Xe.max))||(Ve.max=Number.parseFloat(Xe.max)),Number.isNaN(Number.parseFloat(Xe.scaled))||(Ve.scaled=Number.parseFloat(Xe.scaled)));var Ke={completionStatus:Le,successStatus:Ue,totalTimeSeconds:Me,runtimeData:Ee};return Ve&&(Ke.score=Ve),Ke},ue.prototype.storeData=function(m){return(0,a.__awaiter)(this,void 0,void 0,function(){var Ee,Te,Me,Le,Ue,Xe;return(0,a.__generator)(this,function(Ve){switch(Ve.label){case 0:return m&&this.cmi.mode==="normal"&&this.cmi.credit==="credit"&&(this.cmi.completion_threshold&&this.cmi.progress_measure&&(this.cmi.progress_measure>=this.cmi.completion_threshold?this.cmi.completion_status="completed":this.cmi.completion_status="incomplete"),this.cmi.scaled_passing_score&&this.cmi.score.scaled&&(this.cmi.score.scaled>=this.cmi.scaled_passing_score?this.cmi.success_status="passed":this.cmi.success_status="failed")),Ee=!1,this.adl.nav.request!==((Xe=(Ue=(Le=this.startingData)===null||Le===void 0?void 0:Le.adl)===null||Ue===void 0?void 0:Ue.nav)===null||Xe===void 0?void 0:Xe.request)&&this.adl.nav.request!=="_none_"&&(Ee=!0),Te=this.getCommitObject(m),typeof this.settings.lmsCommitUrl!="string"?[3,2]:[4,this.processHttpRequest(this.settings.lmsCommitUrl,Te,m)];case 1:return Me=Ve.sent(),Ee&&Me.navRequest!==void 0&&Me.navRequest!==""&&Function('"use strict";(() => { '.concat(Me.navRequest," })()"))(),[2,Me];case 2:return[2,{result:h.global_constants.SCORM_TRUE,errorCode:0}]}})})},ue}(c.default)},589:function(e,i,o){o.r(i),o.d(i,{CMIArray:function(){return f}});var a=o(635),c=o(319),h=o(784),d=o(797),f=function(re){(0,a.__extends)(_,re);function _(b){var me=re.call(this)||this;return me.__children=b.children,me._errorCode=b.errorCode||d.scorm12_errors.GENERAL,me._errorClass=b.errorClass||h.BaseScormValidationError,me.childArray=[],me}return _.prototype.reset=function(b){if(b===void 0&&(b=!1),this._initialized=!1,b)this.childArray=[];else for(var me=0;me<this.childArray.length;me++)this.childArray[me].reset()},Object.defineProperty(_.prototype,"_children",{get:function(){return this.__children},set:function(b){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"_count",{get:function(){return this.childArray.length},set:function(b){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),_.prototype.toJSON=function(){this.jsonString=!0;for(var b={},me=0;me<this.childArray.length;me++)b[me+""]=this.childArray[me];return delete this.jsonString,b},_}(c.BaseCMI)},319:function(e,i,o){o.r(i),o.d(i,{BaseCMI:function(){return c},BaseRootCMI:function(){return h}});var a=o(635),c=function(){function d(){this.jsonString=!1,this._initialized=!1}return Object.defineProperty(d.prototype,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start_time",{get:function(){return this._start_time},enumerable:!1,configurable:!0}),d.prototype.initialize=function(){this._initialized=!0},d.prototype.setStartTime=function(){this._start_time=new Date().getTime()},d}(),h=function(d){(0,a.__extends)(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f}(c)},434:function(e,i,o){o.r(i),o.d(i,{CMIScore:function(){return _}});var a=o(635),c=o(340),h=o(417),d=o(319),f=o(449),re=o(797),_=function(b){(0,a.__extends)(me,b);function me(Se){var te=b.call(this)||this;return te._raw="",te._min="",te.__children=Se.score_children||c.scorm12_constants.score_children,te.__score_range=Se.score_range?h.scorm12_regex.score_range:!1,te._max=Se.max||Se.max===""?Se.max:"100",te.__invalid_error_code=Se.invalidErrorCode||re.scorm12_errors.INVALID_SET_VALUE,te.__invalid_type_code=Se.invalidTypeCode||re.scorm12_errors.TYPE_MISMATCH,te.__invalid_range_code=Se.invalidRangeCode||re.scorm12_errors.VALUE_OUT_OF_RANGE,te.__decimal_regex=Se.decimalRegex||h.scorm12_regex.CMIDecimal,te.__error_class=Se.errorClass,te}return me.prototype.reset=function(){this._initialized=!1},Object.defineProperty(me.prototype,"_children",{get:function(){return this.__children},set:function(Se){throw new this.__error_class(this.__invalid_error_code)},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"raw",{get:function(){return this._raw},set:function(Se){(0,f.checkValidFormat)(Se,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,f.checkValidRange)(Se,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._raw=Se)},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"min",{get:function(){return this._min},set:function(Se){(0,f.checkValidFormat)(Se,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,f.checkValidRange)(Se,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._min=Se)},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"max",{get:function(){return this._max},set:function(Se){(0,f.checkValidFormat)(Se,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,f.checkValidRange)(Se,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._max=Se)},enumerable:!1,configurable:!0}),me.prototype.toJSON=function(){this.jsonString=!0;var Se={raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,Se},me}(d.BaseCMI)},449:function(e,i,o){o.r(i),o.d(i,{checkValidFormat:function(){return a},checkValidRange:function(){return c}});function a(h,d,f,re,_){if(typeof h!="string")return!1;var b=new RegExp(d),me=h.match(b);if(_&&h==="")return!0;if(h===void 0||!me||me[0]==="")throw new re(f);return!0}function c(h,d,f,re){var _=d.split("#");if(h=h*1,h>=_[0]){if(_[1]==="*"||h<=_[1])return!0;throw new re(f)}else throw new re(f)}},989:function(e,i,o){o.r(i),o.d(i,{CMI:function(){return g}});var a=o(635),c=o(340),h=o(797),d=o(417),f=o(179),re=o(319),_=o(915),b=o(434),me=o(864),Se=function(ee){(0,a.__extends)(ie,ee);function ie(){var q=ee.call(this)||this;return q.__children=c.scorm12_constants.core_children,q._student_id="",q._student_name="",q._lesson_location="",q._credit="",q._lesson_status="not attempted",q._entry="",q._total_time="",q._lesson_mode="normal",q._exit="",q._session_time="00:00:00",q._suspend_data="",q.score=new b.CMIScore({score_children:c.scorm12_constants.score_children,score_range:d.scorm12_regex.score_range,invalidErrorCode:h.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:h.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:h.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:f.Scorm12ValidationError}),q}return ie.prototype.initialize=function(){var q;ee.prototype.initialize.call(this),(q=this.score)===null||q===void 0||q.initialize()},ie.prototype.reset=function(){var q;this._initialized=!1,this._exit="",this._entry="",this._session_time="00:00:00",(q=this.score)===null||q===void 0||q.reset()},Object.defineProperty(ie.prototype,"_children",{get:function(){return this.__children},set:function(q){throw new f.Scorm12ValidationError(h.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"student_id",{get:function(){return this._student_id},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._student_id=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"student_name",{get:function(){return this._student_name},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._student_name=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"lesson_location",{get:function(){return this._lesson_location},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIString256,!0)&&(this._lesson_location=q)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"credit",{get:function(){return this._credit},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._credit=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(q){this.initialized?(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIStatus)&&(this._lesson_status=q):(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIStatus2)&&(this._lesson_status=q)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"entry",{get:function(){return this._entry},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._entry=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"total_time",{get:function(){return this._total_time},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._total_time=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"lesson_mode",{get:function(){return this._lesson_mode},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._lesson_mode=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"exit",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(h.scorm12_errors.WRITE_ONLY_ELEMENT);return this._exit},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIExit,!0)&&(this._exit=q)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"session_time",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(h.scorm12_errors.WRITE_ONLY_ELEMENT);return this._session_time},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMITimespan)&&(this._session_time=q)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIString4096,!0)&&(this._suspend_data=q)},enumerable:!1,configurable:!0}),ie.prototype.getCurrentTotalTime=function(q){var ne=this._session_time,he=q;if(typeof he<"u"&&he!==null){var le=new Date().getTime()-he;ne=me.getSecondsAsHHMMSS(le/1e3)}return me.addHHMMSSTimeStrings(this._total_time,ne,new RegExp(d.scorm12_regex.CMITimespan))},ie.prototype.toJSON=function(){this.jsonString=!0;var q={student_id:this.student_id,student_name:this.student_name,lesson_location:this.lesson_location,credit:this.credit,lesson_status:this.lesson_status,entry:this.entry,lesson_mode:this.lesson_mode,exit:this.exit,session_time:this.session_time,score:this.score};return delete this.jsonString,q},ie}(re.BaseCMI),te=o(176),$=o(532),_e=o(181),j=o(833),g=function(ee){(0,a.__extends)(ie,ee);function ie(q,ne,he){var le=ee.call(this)||this;return le.__children="",le.__version="3.4",le._launch_data="",le._comments="",le._comments_from_lms="",he&&le.initialize(),le.__children=q||c.scorm12_constants.cmi_children,le.core=new Se,le.objectives=new te.CMIObjectives,le.student_data=ne||new $.CMIStudentData,le.student_preference=new _e.CMIStudentPreference,le.interactions=new j.CMIInteractions,le}return ie.prototype.reset=function(){var q,ne,he;this._initialized=!1,this._launch_data="",this._comments="",(q=this.core)===null||q===void 0||q.reset(),this.objectives=new te.CMIObjectives,this.interactions=new j.CMIInteractions,(ne=this.student_data)===null||ne===void 0||ne.reset(),(he=this.student_preference)===null||he===void 0||he.reset()},ie.prototype.initialize=function(){var q,ne,he,le,oe;ee.prototype.initialize.call(this),(q=this.core)===null||q===void 0||q.initialize(),(ne=this.objectives)===null||ne===void 0||ne.initialize(),(he=this.student_data)===null||he===void 0||he.initialize(),(le=this.student_preference)===null||le===void 0||le.initialize(),(oe=this.interactions)===null||oe===void 0||oe.initialize()},ie.prototype.toJSON=function(){this.jsonString=!0;var q={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,interactions:this.interactions};return delete this.jsonString,q},Object.defineProperty(ie.prototype,"_version",{get:function(){return this.__version},set:function(q){throw new f.Scorm12ValidationError(h.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"_children",{get:function(){return this.__children},set:function(q){throw new f.Scorm12ValidationError(h.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"suspend_data",{get:function(){var q;return(q=this.core)===null||q===void 0?void 0:q.suspend_data},set:function(q){this.core&&(this.core.suspend_data=q)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"launch_data",{get:function(){return this._launch_data},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._launch_data=q},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"comments",{get:function(){return this._comments},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIString4096,!0)&&(this._comments=q)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"comments_from_lms",{get:function(){return this._comments_from_lms},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._comments_from_lms=q},enumerable:!1,configurable:!0}),ie.prototype.getCurrentTotalTime=function(){return this.core.getCurrentTotalTime(this.start_time)},ie}(re.BaseRootCMI)},833:function(e,i,o){o.r(i),o.d(i,{CMIInteractions:function(){return me},CMIInteractionsCorrectResponsesObject:function(){return $},CMIInteractionsObject:function(){return Se},CMIInteractionsObjectivesObject:function(){return te}});var a=o(635),c=o(589),h=o(340),d=o(797),f=o(179),re=o(319),_=o(915),b=o(417),me=function(_e){(0,a.__extends)(j,_e);function j(){return _e.call(this,{children:h.scorm12_constants.interactions_children,errorCode:d.scorm12_errors.INVALID_SET_VALUE,errorClass:f.Scorm12ValidationError})||this}return j}(c.CMIArray),Se=function(_e){(0,a.__extends)(j,_e);function j(){var g=_e.call(this)||this;return g._id="",g._time="",g._type="",g._weighting="",g._student_response="",g._result="",g._latency="",g.objectives=new c.CMIArray({errorCode:d.scorm12_errors.INVALID_SET_VALUE,errorClass:f.Scorm12ValidationError,children:h.scorm12_constants.objectives_children}),g.correct_responses=new c.CMIArray({errorCode:d.scorm12_errors.INVALID_SET_VALUE,errorClass:f.Scorm12ValidationError,children:h.scorm12_constants.correct_responses_children}),g}return j.prototype.initialize=function(){var g,ee;_e.prototype.initialize.call(this),(g=this.objectives)===null||g===void 0||g.initialize(),(ee=this.correct_responses)===null||ee===void 0||ee.initialize()},j.prototype.reset=function(){var g,ee;this._initialized=!1,this._id="",this._time="",this._type="",this._weighting="",this._student_response="",this._result="",this._latency="",(g=this.objectives)===null||g===void 0||g.reset(),(ee=this.correct_responses)===null||ee===void 0||ee.reset()},Object.defineProperty(j.prototype,"id",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._id},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIIdentifier)&&(this._id=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"time",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._time},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMITime)&&(this._time=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"type",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._type},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIType)&&(this._type=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"weighting",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._weighting},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIDecimal)&&(0,_.check12ValidRange)(g,b.scorm12_regex.weighting_range)&&(this._weighting=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"student_response",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._student_response},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIFeedback,!0)&&(this._student_response=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"result",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._result},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIResult)&&(this._result=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"latency",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._latency},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMITimespan)&&(this._latency=g)},enumerable:!1,configurable:!0}),j.prototype.toJSON=function(){this.jsonString=!0;var g={id:this.id,time:this.time,type:this.type,weighting:this.weighting,student_response:this.student_response,result:this.result,latency:this.latency,objectives:this.objectives,correct_responses:this.correct_responses};return delete this.jsonString,g},j}(re.BaseCMI),te=function(_e){(0,a.__extends)(j,_e);function j(){var g=_e.call(this)||this;return g._id="",g}return j.prototype.reset=function(){this._initialized=!1,this._id=""},Object.defineProperty(j.prototype,"id",{get:function(){return this._id},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIIdentifier)&&(this._id=g)},enumerable:!1,configurable:!0}),j.prototype.toJSON=function(){this.jsonString=!0;var g={id:this.id};return delete this.jsonString,g},j}(re.BaseCMI),$=function(_e){(0,a.__extends)(j,_e);function j(){var g=_e.call(this)||this;return g._pattern="",g}return j.prototype.reset=function(){this._initialized=!1,this._pattern=""},Object.defineProperty(j.prototype,"pattern",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._pattern},set:function(g){(0,_.check12ValidFormat)(g,b.scorm12_regex.CMIFeedback,!0)&&(this._pattern=g)},enumerable:!1,configurable:!0}),j.prototype.toJSON=function(){this.jsonString=!0;var g={pattern:this._pattern};return delete this.jsonString,g},j}(re.BaseCMI)},331:function(e,i,o){o.r(i),o.d(i,{NAV:function(){return f}});var a=o(635),c=o(319),h=o(915),d=o(417),f=function(re){(0,a.__extends)(_,re);function _(){var b=re.call(this)||this;return b._event="",b}return _.prototype.reset=function(){this._event="",this._initialized=!1},Object.defineProperty(_.prototype,"event",{get:function(){return this._event},set:function(b){(0,h.check12ValidFormat)(b,d.scorm12_regex.NAVEvent)&&(this._event=b)},enumerable:!1,configurable:!0}),_.prototype.toJSON=function(){this.jsonString=!0;var b={event:this.event};return delete this.jsonString,b},_}(c.BaseCMI)},176:function(e,i,o){o.r(i),o.d(i,{CMIObjectives:function(){return Se},CMIObjectivesObject:function(){return te}});var a=o(635),c=o(319),h=o(434),d=o(340),f=o(417),re=o(797),_=o(179),b=o(915),me=o(589),Se=function($){(0,a.__extends)(_e,$);function _e(){return $.call(this,{children:d.scorm12_constants.objectives_children,errorCode:re.scorm12_errors.INVALID_SET_VALUE,errorClass:_.Scorm12ValidationError})||this}return _e}(me.CMIArray),te=function($){(0,a.__extends)(_e,$);function _e(){var j=$.call(this)||this;return j._id="",j._status="",j.score=new h.CMIScore({score_children:d.scorm12_constants.score_children,score_range:f.scorm12_regex.score_range,invalidErrorCode:re.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:re.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:re.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:_.Scorm12ValidationError}),j}return _e.prototype.reset=function(){var j;this._initialized=!1,this._id="",this._status="",(j=this.score)===null||j===void 0||j.reset()},Object.defineProperty(_e.prototype,"id",{get:function(){return this._id},set:function(j){(0,b.check12ValidFormat)(j,f.scorm12_regex.CMIIdentifier)&&(this._id=j)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"status",{get:function(){return this._status},set:function(j){(0,b.check12ValidFormat)(j,f.scorm12_regex.CMIStatus2)&&(this._status=j)},enumerable:!1,configurable:!0}),_e.prototype.toJSON=function(){this.jsonString=!0;var j={id:this.id,status:this.status,score:this.score};return delete this.jsonString,j},_e}(c.BaseCMI)},532:function(e,i,o){o.r(i),o.d(i,{CMIStudentData:function(){return re}});var a=o(635),c=o(319),h=o(340),d=o(179),f=o(797),re=function(_){(0,a.__extends)(b,_);function b(me){var Se=_.call(this)||this;return Se._mastery_score="",Se._max_time_allowed="",Se._time_limit_action="",Se.__children=me||h.scorm12_constants.student_data_children,Se}return b.prototype.reset=function(){this._initialized=!1},Object.defineProperty(b.prototype,"_children",{get:function(){return this.__children},set:function(me){throw new d.Scorm12ValidationError(f.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"mastery_score",{get:function(){return this._mastery_score},set:function(me){if(this.initialized)throw new d.Scorm12ValidationError(f.scorm12_errors.READ_ONLY_ELEMENT);this._mastery_score=me},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(me){if(this.initialized)throw new d.Scorm12ValidationError(f.scorm12_errors.READ_ONLY_ELEMENT);this._max_time_allowed=me},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(me){if(this.initialized)throw new d.Scorm12ValidationError(f.scorm12_errors.READ_ONLY_ELEMENT);this._time_limit_action=me},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var me={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action};return delete this.jsonString,me},b}(c.BaseCMI)},181:function(e,i,o){o.r(i),o.d(i,{CMIStudentPreference:function(){return b}});var a=o(635),c=o(319),h=o(340),d=o(179),f=o(915),re=o(417),_=o(797),b=function(me){(0,a.__extends)(Se,me);function Se(te){var $=me.call(this)||this;return $._audio="",$._language="",$._speed="",$._text="",$.__children=te||h.scorm12_constants.student_preference_children,$}return Se.prototype.reset=function(){this._initialized=!1},Object.defineProperty(Se.prototype,"_children",{get:function(){return this.__children},set:function(te){throw new d.Scorm12ValidationError(_.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"audio",{get:function(){return this._audio},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMISInteger)&&(0,f.check12ValidRange)(te,re.scorm12_regex.audio_range)&&(this._audio=te)},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"language",{get:function(){return this._language},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMIString256)&&(this._language=te)},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"speed",{get:function(){return this._speed},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMISInteger)&&(0,f.check12ValidRange)(te,re.scorm12_regex.speed_range)&&(this._speed=te)},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"text",{get:function(){return this._text},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMISInteger)&&(0,f.check12ValidRange)(te,re.scorm12_regex.text_range)&&(this._text=te)},enumerable:!1,configurable:!0}),Se.prototype.toJSON=function(){this.jsonString=!0;var te={audio:this.audio,language:this.language,speed:this.speed,text:this.text};return delete this.jsonString,te},Se}(c.BaseCMI)},915:function(e,i,o){o.r(i),o.d(i,{check12ValidFormat:function(){return d},check12ValidRange:function(){return f}});var a=o(449),c=o(797),h=o(179);function d(re,_,b){return(0,a.checkValidFormat)(re,_,c.scorm12_errors.TYPE_MISMATCH,h.Scorm12ValidationError,b)}function f(re,_,b){if(!b&&re==="")throw new h.Scorm12ValidationError(c.scorm12_errors.VALUE_OUT_OF_RANGE);return(0,a.checkValidRange)(re,_,c.scorm12_errors.VALUE_OUT_OF_RANGE,h.Scorm12ValidationError)}},340:function(e,i,o){o.r(i),o.d(i,{aicc_constants:function(){return d},global_constants:function(){return c},scorm12_constants:function(){return h},scorm2004_constants:function(){return f}});var a=o(635),c={SCORM_TRUE:"true",SCORM_FALSE:"false",STATE_NOT_INITIALIZED:0,STATE_INITIALIZED:1,STATE_TERMINATED:2},h={cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions",core_children:"student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time",score_children:"raw,min,max",comments_children:"content,location,time",objectives_children:"id,score,status",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio,language,speed,text",interactions_children:"id,objectives,time,type,correct_responses,weighting,student_response,result,latency",error_descriptions:{101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use LMSGetDiagnostic for more information"},201:{basicMessage:"Invalid argument error",detailMessage:"Indicates that an argument represents an invalid data model element or is otherwise incorrect."},202:{basicMessage:"Element cannot have children",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_children" for a data model element that does not support the "_children" suffix.'},203:{basicMessage:"Element not an array - cannot have count",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_count" for a data model element that does not support the "_count" suffix.'},301:{basicMessage:"Not initialized",detailMessage:"Indicates that an API call was made before the call to lmsInitialize."},401:{basicMessage:"Not implemented error",detailMessage:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{basicMessage:"Invalid set value, element is a keyword",detailMessage:'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in "_children" and "_count").'},403:{basicMessage:"Element is read only",detailMessage:"LMSSetValue was called with a data model element that can only be read."},404:{basicMessage:"Element is write only",detailMessage:"LMSGetValue was called on a data model element that can only be written to."},405:{basicMessage:"Incorrect Data Type",detailMessage:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Element Value Out Of Range",detailMessage:"The numeric value supplied to a LMSSetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}},d=(0,a.__assign)((0,a.__assign)({},h),{cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation",student_preference_children:"audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows",student_data_children:"attempt_number,tries,mastery_score,max_time_allowed,time_limit_action",student_demographics_children:"city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience",tries_children:"time,status,score",attempt_records_children:"score,lesson_status",paths_children:"location_id,date,time,status,why_left,time_in_element"}),f={cmi_children:"_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time",comments_children:"comment,timestamp,location",score_children:"max,raw,scaled,min",objectives_children:"progress_measure,completion_status,success_status,description,score,id",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio_level,audio_captioning,delivery_speed,language",interactions_children:"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description",adl_data_children:"id,store",error_descriptions:{0:{basicMessage:"No Error",detailMessage:"No error occurred, the previous API call was successful."},101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use GetDiagnostic for more information."},102:{basicMessage:"General Initialization Failure",detailMessage:"Call to Initialize failed for an unknown reason."},103:{basicMessage:"Already Initialized",detailMessage:"Call to Initialize failed because Initialize was already called."},104:{basicMessage:"Content Instance Terminated",detailMessage:"Call to Initialize failed because Terminate was already called."},111:{basicMessage:"General Termination Failure",detailMessage:"Call to Terminate failed for an unknown reason."},112:{basicMessage:"Termination Before Initialization",detailMessage:"Call to Terminate failed because it was made before the call to Initialize."},113:{basicMessage:"Termination After Termination",detailMessage:"Call to Terminate failed because Terminate was already called."},122:{basicMessage:"Retrieve Data Before Initialization",detailMessage:"Call to GetValue failed because it was made before the call to Initialize."},123:{basicMessage:"Retrieve Data After Termination",detailMessage:"Call to GetValue failed because it was made after the call to Terminate."},132:{basicMessage:"Store Data Before Initialization",detailMessage:"Call to SetValue failed because it was made before the call to Initialize."},133:{basicMessage:"Store Data After Termination",detailMessage:"Call to SetValue failed because it was made after the call to Terminate."},142:{basicMessage:"Commit Before Initialization",detailMessage:"Call to Commit failed because it was made before the call to Initialize."},143:{basicMessage:"Commit After Termination",detailMessage:"Call to Commit failed because it was made after the call to Terminate."},201:{basicMessage:"General Argument Error",detailMessage:"An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument."},301:{basicMessage:"General Get Failure",detailMessage:"Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},351:{basicMessage:"General Set Failure",detailMessage:"Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},391:{basicMessage:"General Commit Failure",detailMessage:"Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information."},401:{basicMessage:"Undefined Data Model Element",detailMessage:"The data model element name passed to GetValue or SetValue is not a valid SCORM data model element."},402:{basicMessage:"Unimplemented Data Model Element",detailMessage:"The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant."},403:{basicMessage:"Data Model Element Value Not Initialized",detailMessage:"Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO."},404:{basicMessage:"Data Model Element Is Read Only",detailMessage:"SetValue was called with a data model element that can only be read."},405:{basicMessage:"Data Model Element Is Write Only",detailMessage:"GetValue was called on a data model element that can only be written to."},406:{basicMessage:"Data Model Element Type Mismatch",detailMessage:"SetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Data Model Element Value Out Of Range",detailMessage:"The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}}},56:function(e,i,o){o.r(i),o.d(i,{CompletionStatus:function(){return h},LogLevelEnum:function(){return d},NAVBoolean:function(){return a},SuccessStatus:function(){return c}});var a;(function(f){f.unknown="unknown",f.true="true",f.false="false"})(a||(a={}));var c;(function(f){f.passed="passed",f.failed="failed",f.unknown="unknown"})(c||(c={}));var h;(function(f){f.completed="completed",f.incomplete="incomplete",f.unknown="unknown"})(h||(h={}));var d;(function(f){f[f._=0]="_",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.NONE=5]="NONE"})(d||(d={}))},797:function(e,i,o){o.r(i),o.d(i,{global_errors:function(){return c},scorm12_errors:function(){return h},scorm2004_errors:function(){return d}});var a=o(635),c={GENERAL:101,INITIALIZATION_FAILED:101,INITIALIZED:101,TERMINATED:101,TERMINATION_FAILURE:101,TERMINATION_BEFORE_INIT:101,MULTIPLE_TERMINATION:101,RETRIEVE_BEFORE_INIT:101,RETRIEVE_AFTER_TERM:101,STORE_BEFORE_INIT:101,STORE_AFTER_TERM:101,COMMIT_BEFORE_INIT:101,COMMIT_AFTER_TERM:101,ARGUMENT_ERROR:101,CHILDREN_ERROR:101,COUNT_ERROR:101,GENERAL_GET_FAILURE:101,GENERAL_SET_FAILURE:101,GENERAL_COMMIT_FAILURE:101,UNDEFINED_DATA_MODEL:101,UNIMPLEMENTED_ELEMENT:101,VALUE_NOT_INITIALIZED:101,INVALID_SET_VALUE:101,READ_ONLY_ELEMENT:101,WRITE_ONLY_ELEMENT:101,TYPE_MISMATCH:101,VALUE_OUT_OF_RANGE:101,DEPENDENCY_NOT_ESTABLISHED:101},h=(0,a.__assign)((0,a.__assign)({},c),{RETRIEVE_BEFORE_INIT:301,STORE_BEFORE_INIT:301,COMMIT_BEFORE_INIT:301,ARGUMENT_ERROR:201,CHILDREN_ERROR:202,COUNT_ERROR:203,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:401,VALUE_NOT_INITIALIZED:301,INVALID_SET_VALUE:402,READ_ONLY_ELEMENT:403,WRITE_ONLY_ELEMENT:404,TYPE_MISMATCH:405,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408}),d=(0,a.__assign)((0,a.__assign)({},c),{INITIALIZATION_FAILED:102,INITIALIZED:103,TERMINATED:104,TERMINATION_FAILURE:111,TERMINATION_BEFORE_INIT:112,MULTIPLE_TERMINATIONS:113,RETRIEVE_BEFORE_INIT:122,RETRIEVE_AFTER_TERM:123,STORE_BEFORE_INIT:132,STORE_AFTER_TERM:133,COMMIT_BEFORE_INIT:142,COMMIT_AFTER_TERM:143,ARGUMENT_ERROR:201,GENERAL_GET_FAILURE:301,GENERAL_SET_FAILURE:351,GENERAL_COMMIT_FAILURE:391,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:402,VALUE_NOT_INITIALIZED:403,READ_ONLY_ELEMENT:404,WRITE_ONLY_ELEMENT:405,TYPE_MISMATCH:406,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408})},417:function(e,i,o){o.r(i),o.d(i,{aicc_regex:function(){return h},scorm12_regex:function(){return c},scorm2004_regex:function(){return d}});var a=o(635),c={CMIString256:"^.{0,255}$",CMIString4096:"^.{0,4096}$",CMITime:"^(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)$",CMITimespan:"^([0-9]{2,}):([0-9]{2}):([0-9]{2})(.[0-9]{1,2})?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{0,3})(.[0-9]*)?$",CMIIdentifier:"^[\\u0021-\\u007E\\s]{0,255}$",CMIFeedback:"^.{0,255}$",CMIIndex:"[._](\\d+).",CMIStatus:"^(passed|completed|failed|incomplete|browsed)$",CMIStatus2:"^(passed|completed|failed|incomplete|browsed|not attempted)$",CMIExit:"^(time-out|suspend|logout|)$",CMIType:"^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$",CMIResult:"^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\.[0-9]*)?)$",NAVEvent:"^(previous|continue)$",score_range:"0#100",audio_range:"-1#100",speed_range:"-100#100",weighting_range:"-100#100",text_range:"-1#1"},h=(0,a.__assign)((0,a.__assign)({},c),{CMIIdentifier:"^\\w{1,255}$"}),d={CMIString200:"^[\\u0000-\\uFFFF]{0,200}$",CMIString250:"^[\\u0000-\\uFFFF]{0,250}$",CMIString1000:"^[\\u0000-\\uFFFF]{0,1000}$",CMIString4000:"^[\\u0000-\\uFFFF]{0,4000}$",CMIString64000:"^[\\u0000-\\uFFFF]{0,64000}$",CMILang:"^([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?$|^$",CMILangString250:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,250}$)?$",CMILangcr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?}))(.*?)$",CMILangString250cr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?})?(.{0,250})?)?$",CMILangString4000:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,4000}$)?$",CMITime:"^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$",CMITimespan:"^P(?:([.,\\d]+)Y)?(?:([.,\\d]+)M)?(?:([.,\\d]+)W)?(?:([.,\\d]+)D)?(?:T?(?:([.,\\d]+)H)?(?:([.,\\d]+)M)?(?:([.,\\d]+)S)?)?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{1,5})(\\.[0-9]{1,18})?$",CMIIdentifier:"^\\S{1,250}[a-zA-Z0-9]$",CMIShortIdentifier:"^[\\w\\.\\-\\_]{1,250}$",CMILongIdentifier:"^(?:(?!urn:)\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\S{1,4000}|.{1,4000})$",CMIFeedback:"^.*$",CMIIndex:"[._](\\d+).",CMIIndexStore:".N(\\d+).",CMICStatus:"^(completed|incomplete|not attempted|unknown)$",CMISStatus:"^(passed|failed|unknown)$",CMIExit:"^(time-out|suspend|logout|normal)$",CMIType:"^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$",CMIResult:"^(correct|incorrect|unanticipated|neutral|-?([0-9]{1,4})(\\.[0-9]{1,18})?)$",NAVEvent:"^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|_none_|(\\{target=(?<choice_target>\\S{0,}[a-zA-Z0-9-_]+)})?choice|(\\{target=(?<jump_target>\\S{0,}[a-zA-Z0-9-_]+)})?jump)$",NAVBoolean:"^(unknown|true|false$)",NAVTarget:"^{target=\\S{0,}[a-zA-Z0-9-_]+}$",scaled_range:"-1#1",audio_range:"0#*",speed_range:"0#*",text_range:"-1#1",progress_range:"0#1"}},784:function(e,i,o){o.r(i),o.d(i,{BaseScormValidationError:function(){return c},ValidationError:function(){return h}});var a=o(635),c=function(d){(0,a.__extends)(f,d);function f(re){var _=d.call(this,re.toString())||this;return _._errorCode=re,_.name="ScormValidationError",_}return Object.defineProperty(f.prototype,"errorCode",{get:function(){return this._errorCode},enumerable:!1,configurable:!0}),f}(Error),h=function(d){(0,a.__extends)(f,d);function f(re,_,b){var me=d.call(this,re)||this;return me._detailedMessage="",me.message=_,me._errorMessage=_,b&&(me._detailedMessage=b),me}return Object.defineProperty(f.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"detailedMessage",{get:function(){return this._detailedMessage},enumerable:!1,configurable:!0}),f}(c)},179:function(e,i,o){o.r(i),o.d(i,{Scorm12ValidationError:function(){return f}});var a=o(635),c=o(784),h=o(340),d=h.scorm12_constants.error_descriptions,f=function(re){(0,a.__extends)(_,re);function _(b){var me=this;return{}.hasOwnProperty.call(d,String(b))?me=re.call(this,b,d[String(b)].basicMessage,d[String(b)].detailMessage)||this:me=re.call(this,101,d[101].basicMessage,d[101].detailMessage)||this,me}return _}(c.ValidationError)},864:function(e,i,o){o.r(i),o.d(i,{SECONDS_PER_DAY:function(){return d},SECONDS_PER_HOUR:function(){return h},SECONDS_PER_MINUTE:function(){return c},SECONDS_PER_SECOND:function(){return a},addHHMMSSTimeStrings:function(){return te},addTwoDurations:function(){return Se},countDecimals:function(){return j},flatten:function(){return $},formatMessage:function(){return g},getDurationAsSeconds:function(){return me},getSecondsAsHHMMSS:function(){return re},getSecondsAsISODuration:function(){return _},getTimeAsSeconds:function(){return b},stringMatches:function(){return ee},unflatten:function(){return _e}});var a=1,c=60,h=60*c,d=24*h,f={D:d,H:h,M:c,S:a};function re(ie){if(!ie||ie<=0)return"00:00:00";var q=Math.floor(ie/h),ne=new Date(ie*1e3),he=ne.getUTCMinutes(),le=ne.getSeconds(),oe=ie%1,ce="";return j(oe)>0&&(j(oe)>2?ce=oe.toFixed(2):ce=String(oe),ce="."+ce.split(".")[1]),(q+":"+he+":"+le).replace(/\b\d\b/g,"0$&")+ce}function _(ie){if(!ie||ie<=0)return"PT0S";var q="P",ne=ie;for(var he in f){var le=f[he],oe=Math.floor(ne/le);ne=ne%le,j(ne)>2&&(ne=Number(Number(ne).toFixed(2))),he==="S"&&ne>0&&(oe+=ne),oe&&((q.indexOf("D")>0||he==="H"||he==="M"||he==="S")&&q.indexOf("T")===-1&&(q+="T"),q+="".concat(oe).concat(he))}return q}function b(ie,q){if((typeof ie=="number"||typeof ie=="boolean")&&(ie=String(ie)),typeof q=="string"&&(q=new RegExp(q)),!ie||!ie.match(q))return 0;var ne=ie.split(":"),he=Number(ne[0]),le=Number(ne[1]),oe=Number(ne[2]);return he*3600+le*60+oe}function me(ie,q){if(typeof q=="string"&&(q=new RegExp(q)),!ie||!ie.match(q))return 0;var ne=new RegExp(q).exec(ie)||[],he=ne[1];ne[2];var le=ne[4],oe=ne[5],ce=ne[6],xe=ne[7],se=0;return se+=Number(xe)||0,se+=Number(ce)*60||0,se+=Number(oe)*3600||0,se+=Number(le)*(60*60*24)||0,se+=Number(he)*(60*60*24*365)||0,se}function Se(ie,q,ne){var he=typeof ne=="string"?new RegExp(ne):ne;return _(me(ie,he)+me(q,he))}function te(ie,q,ne){return typeof ne=="string"&&(ne=new RegExp(ne)),re(b(ie,ne)+b(q,ne))}function $(ie){var q={};function ne(he,le){if(Object(he)!==he)q[le]=he;else if(Array.isArray(he))for(var oe=0,ce=he.length;oe<ce;oe++)ne(he[oe],le+"["+oe+"]"),ce===0&&(q[le]=[]);else{var xe=!0;for(var se in he)({}).hasOwnProperty.call(he,se)&&(xe=!1,ne(he[se],le?le+"."+se:se));xe&&le&&(q[le]={})}}return ne(ie,""),q}function _e(ie){if(Object(ie)!==ie||Array.isArray(ie))return ie;var q=/\.?([^.[\]]+)|\[(\d+)]/g,ne={};for(var he in ie)if({}.hasOwnProperty.call(ie,he)){for(var le=ne,oe="",ce=q.exec(he);ce;)le=le[oe]||(le[oe]=ce[2]?[]:{}),oe=ce[2]||ce[1],ce=q.exec(he);le[oe]=ie[he]}return ne[""]||ne}function j(ie){if(Math.floor(ie)===ie||String(ie).indexOf(".")<0)return 0;var q=ie.toString().split(".")[1];return q.length||0}function g(ie,q,ne){var he=20,le="";le+=ie;for(var oe=he-le.length,ce=0;ce<oe;ce++)le+=" ";if(le+=": ",ne){var xe=70;le+=ne,oe=xe-le.length;for(var se=0;se<oe;se++)le+=" "}return q&&(le+=q),le}function ee(ie,q){return(ie==null?void 0:ie.match(q))!==null}},635:function(e,i,o){o.r(i),o.d(i,{__addDisposableResource:function(){return ke},__assign:function(){return h},__asyncDelegator:function(){return ce},__asyncGenerator:function(){return oe},__asyncValues:function(){return xe},__await:function(){return le},__awaiter:function(){return $},__classPrivateFieldGet:function(){return Re},__classPrivateFieldIn:function(){return Ce},__classPrivateFieldSet:function(){return Fe},__createBinding:function(){return j},__decorate:function(){return f},__disposeResources:function(){return Pe},__esDecorate:function(){return _},__exportStar:function(){return g},__extends:function(){return c},__generator:function(){return _e},__importDefault:function(){return Ie},__importStar:function(){return Ae},__makeTemplateObject:function(){return se},__metadata:function(){return te},__param:function(){return re},__propKey:function(){return me},__read:function(){return ie},__rest:function(){return d},__runInitializers:function(){return b},__setFunctionName:function(){return Se},__spread:function(){return q},__spreadArray:function(){return he},__spreadArrays:function(){return ne},__values:function(){return ee}});var a=function(fe,ye){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,de){ae.__proto__=de}||function(ae,de){for(var ve in de)Object.prototype.hasOwnProperty.call(de,ve)&&(ae[ve]=de[ve])},a(fe,ye)};function c(fe,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");a(fe,ye);function ae(){this.constructor=fe}fe.prototype=ye===null?Object.create(ye):(ae.prototype=ye.prototype,new ae)}var h=function(){return h=Object.assign||function(ye){for(var ae,de=1,ve=arguments.length;de<ve;de++){ae=arguments[de];for(var ue in ae)Object.prototype.hasOwnProperty.call(ae,ue)&&(ye[ue]=ae[ue])}return ye},h.apply(this,arguments)};function d(fe,ye){var ae={};for(var de in fe)Object.prototype.hasOwnProperty.call(fe,de)&&ye.indexOf(de)<0&&(ae[de]=fe[de]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ve=0,de=Object.getOwnPropertySymbols(fe);ve<de.length;ve++)ye.indexOf(de[ve])<0&&Object.prototype.propertyIsEnumerable.call(fe,de[ve])&&(ae[de[ve]]=fe[de[ve]]);return ae}function f(fe,ye,ae,de){var ve=arguments.length,ue=ve<3?ye:de===null?de=Object.getOwnPropertyDescriptor(ye,ae):de,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(fe,ye,ae,de);else for(var Ee=fe.length-1;Ee>=0;Ee--)(m=fe[Ee])&&(ue=(ve<3?m(ue):ve>3?m(ye,ae,ue):m(ye,ae))||ue);return ve>3&&ue&&Object.defineProperty(ye,ae,ue),ue}function re(fe,ye){return function(ae,de){ye(ae,de,fe)}}function _(fe,ye,ae,de,ve,ue){function m(Oe){if(Oe!==void 0&&typeof Oe!="function")throw new TypeError("Function expected");return Oe}for(var Ee=de.kind,Te=Ee==="getter"?"get":Ee==="setter"?"set":"value",Me=!ye&&fe?de.static?fe:fe.prototype:null,Le=ye||(Me?Object.getOwnPropertyDescriptor(Me,de.name):{}),Ue,Xe=!1,Ve=ae.length-1;Ve>=0;Ve--){var Ke={};for(var ze in de)Ke[ze]=ze==="access"?{}:de[ze];for(var ze in de.access)Ke.access[ze]=de.access[ze];Ke.addInitializer=function(Oe){if(Xe)throw new TypeError("Cannot add initializers after decoration has completed");ue.push(m(Oe||null))};var Ge=(0,ae[Ve])(Ee==="accessor"?{get:Le.get,set:Le.set}:Le[Te],Ke);if(Ee==="accessor"){if(Ge===void 0)continue;if(Ge===null||typeof Ge!="object")throw new TypeError("Object expected");(Ue=m(Ge.get))&&(Le.get=Ue),(Ue=m(Ge.set))&&(Le.set=Ue),(Ue=m(Ge.init))&&ve.unshift(Ue)}else(Ue=m(Ge))&&(Ee==="field"?ve.unshift(Ue):Le[Te]=Ue)}Me&&Object.defineProperty(Me,de.name,Le),Xe=!0}function b(fe,ye,ae){for(var de=arguments.length>2,ve=0;ve<ye.length;ve++)ae=de?ye[ve].call(fe,ae):ye[ve].call(fe);return de?ae:void 0}function me(fe){return typeof fe=="symbol"?fe:"".concat(fe)}function Se(fe,ye,ae){return typeof ye=="symbol"&&(ye=ye.description?"[".concat(ye.description,"]"):""),Object.defineProperty(fe,"name",{configurable:!0,value:ae?"".concat(ae," ",ye):ye})}function te(fe,ye){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(fe,ye)}function $(fe,ye,ae,de){function ve(ue){return ue instanceof ae?ue:new ae(function(m){m(ue)})}return new(ae||(ae=Promise))(function(ue,m){function Ee(Le){try{Me(de.next(Le))}catch(Ue){m(Ue)}}function Te(Le){try{Me(de.throw(Le))}catch(Ue){m(Ue)}}function Me(Le){Le.done?ue(Le.value):ve(Le.value).then(Ee,Te)}Me((de=de.apply(fe,ye||[])).next())})}function _e(fe,ye){var ae={label:0,sent:function(){if(ue[0]&1)throw ue[1];return ue[1]},trys:[],ops:[]},de,ve,ue,m=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return m.next=Ee(0),m.throw=Ee(1),m.return=Ee(2),typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function Ee(Me){return function(Le){return Te([Me,Le])}}function Te(Me){if(de)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Me[0]&&(ae=0)),ae;)try{if(de=1,ve&&(ue=Me[0]&2?ve.return:Me[0]?ve.throw||((ue=ve.return)&&ue.call(ve),0):ve.next)&&!(ue=ue.call(ve,Me[1])).done)return ue;switch(ve=0,ue&&(Me=[Me[0]&2,ue.value]),Me[0]){case 0:case 1:ue=Me;break;case 4:return ae.label++,{value:Me[1],done:!1};case 5:ae.label++,ve=Me[1],Me=[0];continue;case 7:Me=ae.ops.pop(),ae.trys.pop();continue;default:if(ue=ae.trys,!(ue=ue.length>0&&ue[ue.length-1])&&(Me[0]===6||Me[0]===2)){ae=0;continue}if(Me[0]===3&&(!ue||Me[1]>ue[0]&&Me[1]<ue[3])){ae.label=Me[1];break}if(Me[0]===6&&ae.label<ue[1]){ae.label=ue[1],ue=Me;break}if(ue&&ae.label<ue[2]){ae.label=ue[2],ae.ops.push(Me);break}ue[2]&&ae.ops.pop(),ae.trys.pop();continue}Me=ye.call(fe,ae)}catch(Le){Me=[6,Le],ve=0}finally{de=ue=0}if(Me[0]&5)throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}}var j=Object.create?function(fe,ye,ae,de){de===void 0&&(de=ae);var ve=Object.getOwnPropertyDescriptor(ye,ae);(!ve||("get"in ve?!ye.__esModule:ve.writable||ve.configurable))&&(ve={enumerable:!0,get:function(){return ye[ae]}}),Object.defineProperty(fe,de,ve)}:function(fe,ye,ae,de){de===void 0&&(de=ae),fe[de]=ye[ae]};function g(fe,ye){for(var ae in fe)ae!=="default"&&!Object.prototype.hasOwnProperty.call(ye,ae)&&j(ye,fe,ae)}function ee(fe){var ye=typeof Symbol=="function"&&Symbol.iterator,ae=ye&&fe[ye],de=0;if(ae)return ae.call(fe);if(fe&&typeof fe.length=="number")return{next:function(){return fe&&de>=fe.length&&(fe=void 0),{value:fe&&fe[de++],done:!fe}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(fe,ye){var ae=typeof Symbol=="function"&&fe[Symbol.iterator];if(!ae)return fe;var de=ae.call(fe),ve,ue=[],m;try{for(;(ye===void 0||ye-- >0)&&!(ve=de.next()).done;)ue.push(ve.value)}catch(Ee){m={error:Ee}}finally{try{ve&&!ve.done&&(ae=de.return)&&ae.call(de)}finally{if(m)throw m.error}}return ue}function q(){for(var fe=[],ye=0;ye<arguments.length;ye++)fe=fe.concat(ie(arguments[ye]));return fe}function ne(){for(var fe=0,ye=0,ae=arguments.length;ye<ae;ye++)fe+=arguments[ye].length;for(var de=Array(fe),ve=0,ye=0;ye<ae;ye++)for(var ue=arguments[ye],m=0,Ee=ue.length;m<Ee;m++,ve++)de[ve]=ue[m];return de}function he(fe,ye,ae){if(ae||arguments.length===2)for(var de=0,ve=ye.length,ue;de<ve;de++)(ue||!(de in ye))&&(ue||(ue=Array.prototype.slice.call(ye,0,de)),ue[de]=ye[de]);return fe.concat(ue||Array.prototype.slice.call(ye))}function le(fe){return this instanceof le?(this.v=fe,this):new le(fe)}function oe(fe,ye,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de=ae.apply(fe,ye||[]),ve,ue=[];return ve=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),Ee("next"),Ee("throw"),Ee("return",m),ve[Symbol.asyncIterator]=function(){return this},ve;function m(Ve){return function(Ke){return Promise.resolve(Ke).then(Ve,Ue)}}function Ee(Ve,Ke){de[Ve]&&(ve[Ve]=function(ze){return new Promise(function(Ge,Oe){ue.push([Ve,ze,Ge,Oe])>1||Te(Ve,ze)})},Ke&&(ve[Ve]=Ke(ve[Ve])))}function Te(Ve,Ke){try{Me(de[Ve](Ke))}catch(ze){Xe(ue[0][3],ze)}}function Me(Ve){Ve.value instanceof le?Promise.resolve(Ve.value.v).then(Le,Ue):Xe(ue[0][2],Ve)}function Le(Ve){Te("next",Ve)}function Ue(Ve){Te("throw",Ve)}function Xe(Ve,Ke){Ve(Ke),ue.shift(),ue.length&&Te(ue[0][0],ue[0][1])}}function ce(fe){var ye,ae;return ye={},de("next"),de("throw",function(ve){throw ve}),de("return"),ye[Symbol.iterator]=function(){return this},ye;function de(ve,ue){ye[ve]=fe[ve]?function(m){return(ae=!ae)?{value:le(fe[ve](m)),done:!1}:ue?ue(m):m}:ue}}function xe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye=fe[Symbol.asyncIterator],ae;return ye?ye.call(fe):(fe=typeof ee=="function"?ee(fe):fe[Symbol.iterator](),ae={},de("next"),de("throw"),de("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function de(ue){ae[ue]=fe[ue]&&function(m){return new Promise(function(Ee,Te){m=fe[ue](m),ve(Ee,Te,m.done,m.value)})}}function ve(ue,m,Ee,Te){Promise.resolve(Te).then(function(Me){ue({value:Me,done:Ee})},m)}}function se(fe,ye){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:ye}):fe.raw=ye,fe}var be=Object.create?function(fe,ye){Object.defineProperty(fe,"default",{enumerable:!0,value:ye})}:function(fe,ye){fe.default=ye};function Ae(fe){if(fe&&fe.__esModule)return fe;var ye={};if(fe!=null)for(var ae in fe)ae!=="default"&&Object.prototype.hasOwnProperty.call(fe,ae)&&j(ye,fe,ae);return be(ye,fe),ye}function Ie(fe){return fe&&fe.__esModule?fe:{default:fe}}function Re(fe,ye,ae,de){if(ae==="a"&&!de)throw new TypeError("Private accessor was defined without a getter");if(typeof ye=="function"?fe!==ye||!de:!ye.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ae==="m"?de:ae==="a"?de.call(fe):de?de.value:ye.get(fe)}function Fe(fe,ye,ae,de,ve){if(de==="m")throw new TypeError("Private method is not writable");if(de==="a"&&!ve)throw new TypeError("Private accessor was defined without a setter");if(typeof ye=="function"?fe!==ye||!ve:!ye.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return de==="a"?ve.call(fe,ae):ve?ve.value=ae:ye.set(fe,ae),ae}function Ce(fe,ye){if(ye===null||typeof ye!="object"&&typeof ye!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof fe=="function"?ye===fe:fe.has(ye)}function ke(fe,ye,ae){if(ye!=null){if(typeof ye!="object"&&typeof ye!="function")throw new TypeError("Object expected.");var de,ve;if(ae){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");de=ye[Symbol.asyncDispose]}if(de===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");de=ye[Symbol.dispose],ae&&(ve=de)}if(typeof de!="function")throw new TypeError("Object not disposable.");ve&&(de=function(){try{ve.call(this)}catch(ue){return Promise.reject(ue)}}),fe.stack.push({value:ye,dispose:de,async:ae})}else ae&&fe.stack.push({async:!0});return ye}var we=typeof SuppressedError=="function"?SuppressedError:function(fe,ye,ae){var de=new Error(ae);return de.name="SuppressedError",de.error=fe,de.suppressed=ye,de};function Pe(fe){function ye(ue){fe.error=fe.hasError?new we(ue,fe.error,"An error was suppressed during disposal."):ue,fe.hasError=!0}var ae,de=0;function ve(){for(;ae=fe.stack.pop();)try{if(!ae.async&&de===1)return de=0,fe.stack.push(ae),Promise.resolve().then(ve);if(ae.dispose){var ue=ae.dispose.call(ae.value);if(ae.async)return de|=2,Promise.resolve(ue).then(ve,function(m){return ye(m),ve()})}else de|=1}catch(m){ye(m)}if(de===1)return fe.hasError?Promise.reject(fe.error):Promise.resolve();if(fe.hasError)throw fe.error}return ve()}i.default={__extends:c,__assign:h,__rest:d,__decorate:f,__param:re,__metadata:te,__awaiter:$,__generator:_e,__createBinding:j,__exportStar:g,__values:ee,__read:ie,__spread:q,__spreadArrays:ne,__spreadArray:he,__await:le,__asyncGenerator:oe,__asyncDelegator:ce,__asyncValues:xe,__makeTemplateObject:se,__importStar:Ae,__importDefault:Ie,__classPrivateFieldGet:Re,__classPrivateFieldSet:Fe,__classPrivateFieldIn:Ce,__addDisposableResource:ke,__disposeResources:Pe}}},__webpack_module_cache__={};function __webpack_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}(function(){__webpack_require__.d=function(e,i){for(var o in i)__webpack_require__.o(i,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}})();(function(){__webpack_require__.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}})();(function(){__webpack_require__.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})();var __webpack_exports__={};__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{AICC:function(){return AICC},Scorm12API:function(){return Scorm12API},Scorm2004API:function(){return Scorm2004API}});var _AICC__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(916),_Scorm12API__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(941),_Scorm2004API__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(809),Scorm12API=_Scorm12API__WEBPACK_IMPORTED_MODULE_1__.Scorm12Impl,Scorm2004API=_Scorm2004API__WEBPACK_IMPORTED_MODULE_2__.Scorm2004Impl,AICC=_AICC__WEBPACK_IMPORTED_MODULE_0__.AICCImpl,__webpack_exports__AICC=__webpack_exports__.AICC,__webpack_exports__Scorm12API=__webpack_exports__.Scorm12API,__webpack_exports__Scorm2004API=__webpack_exports__.Scorm2004API;function styleInject(e,i){i===void 0&&(i={});var o=i.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",o==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}var css_248z=`.scorm-error {
  color: red;
}

.scorm-iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.scorm-loader {
  width: 48px;
  height: 48px;
  border: 3px solid #fff;
  border-bottom-color: grey;
  border-radius: 50%;
  display: inline-block;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
  margin: 0px auto !important;
}

@keyframes rotation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`;styleInject(css_248z);const ScormPreview=({uuid:e,apiUrl:i,serviceWorkerUrl:o="/service-worker-scorm.js",comunitate:a,onScormPost:c,onScormGet:h})=>{const[d,f]=reactExports.useState(!0),[re,_]=reactExports.useState(null),[b,me]=reactExports.useState(null),Se=async()=>{if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported in this browser."),null;try{const g=await navigator.serviceWorker.register(o,{scope:"/"});return g.active?g:await new Promise(ee=>{var ie;(ie=g.installing||g.waiting)===null||ie===void 0||ie.addEventListener("statechange",()=>{ee(g)})})}catch(g){return console.error("SW registration failed:",g),null}},te=g=>{window.API=new __webpack_exports__Scorm12API(g),a&&c&&h&&(window.API.on("LMSSetValue.cmi.*",(ee,ie)=>{c({cmi:{[ee]:ie}})}),window.API.on("LMSGetValue.cmi.*",async ee=>{const ie=await h(ee);window.API.LMSSetValue(ee,ie)}),window.API.on("LMSCommit",()=>{c({cmi:window.API.cmi})}))},$=g=>{window.API_1484_11=new __webpack_exports__Scorm2004API(g),a&&c&&h&&(window.API_1484_11.on("SetValue.cmi.*",(ee,ie)=>{c({cmi:{[ee]:ie}})}),window.API_1484_11.on("GetValue.cmi.*",async ee=>{const ie=await h(ee);window.API_1484_11.SetValue(ee,ie)}),window.API_1484_11.on("Commit",()=>{c({cmi:window.API_1484_11.cmi})}))},_e=g=>{window.API=new __webpack_exports__AICC(g)},j=async g=>{var ee;try{const ie=await fetch(`${i}/api/scorm/show/${e}`);if(!ie.ok)throw new Error("Failed to fetch SCORM settings");const{data:q}=await ie.json();(await fetch(q.entry_url_zip,{method:"HEAD"})).ok||await fetch(`${i}/api/scorm/zip/${e}`),(ee=g.active)===null||ee===void 0||ee.postMessage(q.entry_url_zip),navigator.serviceWorker.addEventListener("message",he=>{const{scormObj:le}=he.data;if(!le)return;switch(console.log("SW scormObj:",le),le.version){case"2004":$(q);break;case"AICC":_e(q);break;default:te(q)}const oe=`${le.PREFIX}/${q.entry_url}`;_(oe),f(!1)},{once:!0})}catch(ie){console.error(ie),me("Failed to load SCORM SCO"),f(!1)}};return reactExports.useEffect(()=>{(async()=>{f(!0),me(null),_(null);const g=await Se();if(!g){me("Service Worker registration failed."),f(!1);return}await j(g)})()},[e]),d?React.createElement("div",{className:"scorm-loader"}):b?React.createElement("div",{className:"scorm-serror"},b):re?React.createElement("iframe",{className:"scorm-iframe",src:re,title:"SCORM Content"}):null};export{API_1 as A,H5Player as H,ImagePlayer as I,OEmbedPlayer as O,PdfPlayer as P,ScormPreview as S,_default as _,AudioVideoPlayer as a,patterns as p,utils$1 as u};
//# sourceMappingURL=index.esm-nakNjHBM.js.map
