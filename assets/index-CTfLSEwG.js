import{z as h,k as L,r as u,h as f,f as j,i as R,j as s,o as w,C as E,w as l,l as p,n as g,A as x}from"./index-gbJMaPe7.js";import{A as F,R as k}from"./AuthWrapper-BA55z4XF.js";var S=h();const C=()=>{const{search:t,state:i}=L(),{user:n,socialAuthorize:d}=u.useContext(f.EscolaLMSContext),[m,a]=u.useState("login"),{t:r}=j(),e=R(),o=t.split("?token=")[1],c=i&&i.referrer||t.split("?referrer=")[1]||"/";return o&&(d(o),setTimeout(()=>{e.push(c)},1e3)),!n.loading&&!o&&n.value&&e.push(c),s.jsx(w,{metaTitle:r("LoginAndRegister"),children:s.jsx(F,{children:s.jsx(E,{children:s.jsx(l.Row,{justify:"center",children:s.jsx(l.Col,{md:12,children:m==="login"?s.jsx(S.LoginForm,{onResetPasswordLink:()=>a("forgotPassword"),onRegisterLink:()=>e.push(p.register),mobile:g}):s.jsx(k.ResetPasswordForm,{mobile:g,backToLogin:()=>a("login"),onRegisterLink:()=>e.push(p.register),return_url:"#/reset-password",onFirstStepSuccess:()=>x.success(r("LoginPage.ForgotSuccess")),onFirstStepError:()=>x.error(r("UnexpectedError"))})})})})})})};export{C as default};
