import{aR as C,f as I,r as s,A as h,j as t,J as r,aS as D,aT as E,aU as M,aV as S,aW as b,aX as A}from"./index-Cg8uAso-.js";import{P as B}from"./index-9n5NmUEp.js";import"./index-CcZE00-4.js";var v=C();const _=()=>{var u;const{t:o}=I(),[n,p]=s.useState(1),[l,f]=s.useState(2),y=n<=1,k=n>=l,[a,c]=s.useState({sort:"Ascending",createdBy:"Personal",done:!0}),{fetchTasks:x,fetchProgress:d,progress:i,fetchProgram:g,tasks:P}=s.useContext(h.EscolaLMSContext),j=[{id:1,content:t.jsx(r.IconText,{icon:a.done===!0?t.jsx(D,{}):t.jsx(E,{}),text:a.done===!0?o("MyProfilePage.HideDone"):o("MyProfilePage.ShowDone"),onClick:()=>c(e=>({...e,done:!e.done}))})}],m=[{id:0,content:t.jsx(r.IconText,{icon:t.jsx(M,{}),text:o("MyProfilePage.Ascending"),onClick:()=>c(e=>({...e,sort:"Ascending"}))})},{id:1,content:t.jsx(r.IconText,{icon:t.jsx(S,{}),text:o("MyProfilePage.Descending"),onClick:()=>c(e=>({...e,sort:"Descending"}))})}],T=[{id:0,content:t.jsx(r.IconText,{icon:t.jsx(b,{}),text:o("MyProfilePage.Personal"),onClick:()=>c(e=>({...e,createdBy:"Personal"}))})},{id:1,content:t.jsx(r.IconText,{icon:t.jsx(A,{}),text:o("MyProfilePage.Incoming"),onClick:()=>c(e=>({...e,createdBy:"Incoming"}))})}];return s.useEffect(()=>{var e;x({page:n,per_page:25}),f(Number((e=P.list)==null?void 0:e.meta.last_page)),d()},[d,x,n,(u=P.list)==null?void 0:u.meta.last_page]),s.useEffect(()=>{i.value&&i.value.forEach(e=>g(e.course.id))},[i,g]),t.jsx(B,{title:o("MyProfilePage.MyTasks"),children:t.jsx(v.TasksComponent,{taskShowAction:{options:j,showDone:a.done},sortOptions:{options:m,type:a.sort},createBy:{options:T,type:a.createdBy},tasksPagination:{previousDisabled:y,nextDisabled:k,currentPage:n,lastPage:l,setCurrentPage:p}})})};export{_ as default};
