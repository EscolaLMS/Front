{"version":3,"file":"index-GWPWgxEk.js","sources":["../../src/hooks/courses/useCourseProgress.ts","../../src/components/Courses/SingleCoursesTwo/CoursesDetailsSidebar/ProductModal/index.tsx","../../src/components/Courses/SingleCoursesTwo/CoursesDetailsSidebar/Buttons/index.tsx","../../src/components/Courses/SingleCoursesTwo/CoursesDetailsSidebar/index.tsx","../../node_modules/@escolalms/components/lib/components/organisms/CourseProgram/_components/CourseProgramTopic.js","../../node_modules/@escolalms/components/lib/components/organisms/CourseProgram/_components/CourseProgramLesson.js","../../node_modules/@escolalms/components/lib/components/organisms/CourseProgram/_components/RecursiveLessons.js","../../node_modules/@escolalms/components/lib/components/organisms/CourseProgram/_components/styles.js","../../node_modules/@escolalms/components/lib/components/organisms/CourseProgram/CourseProgram.js","../../node_modules/@escolalms/components/lib/components/players/MarkdownPlayer/MarkdownPlayer.js","../../src/components/Courses/Course/CourseProgramPreview/index.tsx","../../node_modules/@escolalms/components/lib/components/organisms/ModalCourseAccess/index.js","../../src/components/Skeletons/CoursePage/content.tsx","../../src/pages/courses/course/index.tsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { API } from \"@escolalms/sdk/lib\";\n\ntype PogressState = {\n  data: API.CourseProgressDetails | undefined;\n  loaded: boolean;\n  loading: boolean;\n};\n\nexport const useCourseProgress = (courseId: number) => {\n  const [progress, setProgress] = useState<PogressState>({\n    data: undefined,\n    loaded: false,\n    loading: false,\n  });\n  const { user, fetchCourseProgress, courseProgressDetails } =\n    useContext(EscolaLMSContext);\n\n  useEffect(() => {\n    if (\n      courseProgressDetails.byId &&\n      courseProgressDetails.byId[Number(courseId)] &&\n      courseProgressDetails.byId[Number(courseId)].value\n    ) {\n      setProgress({\n        ...progress,\n        data: courseProgressDetails.byId[Number(courseId)].value,\n        loaded: true,\n        loading: false,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId, courseProgressDetails]);\n\n  useEffect(() => {\n    if (user?.value && !user.loading && !progress.loading && !progress.loaded) {\n      setProgress({\n        ...progress,\n        loading: true,\n      });\n      fetchCourseProgress(courseId).catch(() =>\n        setProgress({\n          ...progress,\n          loaded: true,\n          loading: false,\n        })\n      );\n    } else if (!progress.loaded) {\n      setProgress({\n        ...progress,\n        loaded: true,\n      });\n    }\n  }, [user, progress, fetchCourseProgress, courseId]);\n\n  return {\n    progress,\n  };\n};\n","import routeRoutes from \"@/components/Routes/routes\";\nimport useSubscriptions from \"@/hooks/useSubscriptions\";\nimport { formatPrice } from \"@/utils/index\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Button } from \"@escolalms/components/lib/index\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { useCallback, useContext } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { Row, Col } from \"react-grid-system\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst StyledProductModal = styled.div`\n  text-align: center;\n  .modal-header {\n    margin-bottom: 10px;\n  }\n`;\n\nconst StyledProductBox = styled.div<{ $isMobile: boolean }>`\n  border-radius: ${({ theme }) => theme.cardRadius}px;\n  border: 1px solid ${({ theme }) => theme.gray3};\n  padding: 20px 40px;\n  margin-bottom: ${({ $isMobile }) => ($isMobile ? \"20px\" : \"0\")};\n  min-height: 240px;\n\n  .title {\n    min-height: 45px;\n  }\n  .divider {\n    width: 21px;\n    height: 3px;\n    border-radius: 18px;\n    background-color: ${({ theme }) => theme.primaryColor};\n    margin: 10px auto;\n  }\n  .description {\n    margin-bottom: 30px;\n    min-height: 30px;\n  }\n  .price {\n    margin-bottom: 22px;\n  }\n  button {\n    width: 100%;\n  }\n`;\n\ntype Props = {\n  course: API.Course;\n};\n\nconst ProductModal: React.FC<Props> = ({ course }) => {\n  const { getCheapestSubscription } = useSubscriptions();\n  const { cart, addToCart } = useContext(EscolaLMSContext);\n\n  const { t } = useTranslation();\n  const { push } = useHistory();\n\n  const handleBuyCourse = useCallback(() => {\n    addToCart(Number(course.product?.id)).then(() => push(routeRoutes.cart));\n  }, [course, addToCart, push]);\n\n  return (\n    <StyledProductModal>\n      <Title className=\"modal-header\" level={2}>\n        {t(\"Subscriptions.GetAccess\")}\n      </Title>\n      <Text>{t(\"Subscriptions.YouHaveTwoOptions\")}</Text>\n      <Row>\n        <Col lg={6} md={12} sm={12}>\n          <StyledProductBox className=\"product-box\" $isMobile={isMobile}>\n            <Title className=\"title\" level={3}>\n              {t(\"Buy Course\")}\n            </Title>\n            <div className=\"divider\"></div>\n            <Text className=\"description\" size={\"13\"}>\n              {course.title}\n            </Text>\n            <Text className=\"price\" size=\"24\" bold>\n              {formatPrice(course.product?.gross_price)} zł\n            </Text>\n            <Button loading={cart.loading} onClick={() => handleBuyCourse()}>\n              {t(\"Subscriptions.IPick\")}\n            </Button>\n          </StyledProductBox>\n        </Col>\n        {getCheapestSubscription?.id && (\n          <Col lg={6} md={12} sm={12}>\n            <StyledProductBox className=\"product-box\" $isMobile={isMobile}>\n              <Title className=\"title\" level={3}>\n                {getCheapestSubscription?.name}\n              </Title>\n              <div className=\"divider\"></div>\n              <Text className=\"description\" size={\"13\"}>\n                {getCheapestSubscription?.description}\n              </Text>\n              <Text className=\"price\" size=\"24\" bold>\n                {t(\"From\")} {formatPrice(getCheapestSubscription?.gross_price)}{\" \"}\n                zł\n              </Text>\n              <Button onClick={() => push(routeRoutes?.subscriptions)}>\n                {t(\"Subscriptions.IPick\")}\n              </Button>\n            </StyledProductBox>\n          </Col>\n        )}\n      </Row>\n    </StyledProductModal>\n  );\n};\n\nexport default ProductModal;\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport isPast from \"date-fns/isPast\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { Capacitor } from \"@capacitor/core\";\nimport { Purchases } from \"@revenuecat/purchases-capacitor\";\nimport { VITE_APP_ANDROID_APIKEY, VITE_APP_IOS_APIKEY } from \"@/config/index\";\nimport { Button } from \"@escolalms/components/lib/components/atoms/Button/Button\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { isMobilePlatform, userIsCourseAuthor } from \"@/utils/index\";\nimport routeRoutes from \"@/components/Routes/routes\";\nimport { Modal } from \"@escolalms/components/lib/components/atoms/Modal/Modal\";\nimport ProductModal from \"@/components/Courses/SingleCoursesTwo/CoursesDetailsSidebar/ProductModal\";\nimport useSubscriptions from \"@/hooks/useSubscriptions\";\nimport {\n  findProductByIdentifier,\n  getRevenuecatId,\n  revenuecatErrorHandler,\n} from \"@/utils/payment\";\nimport { CapacitorPaymentError } from \"@/types/index\";\nimport {\n  EntityRedirectBuyType,\n  useEntityBuyableType,\n} from \"@/hooks/useEntityPrice\";\nimport usePayment, { PaymentGateway } from \"@/hooks/usePayment\";\n\ninterface CourseAccessButtonProps {\n  course: API.Course;\n  onRequestAccess: () => void;\n  setModalVisible: (visible: boolean) => void;\n}\n\nconst StyledButton = styled(Button)`\n  display: block;\n  margin-bottom: 10px;\n`;\n\nconst CourseAccessButton: React.FC<CourseAccessButtonProps> = ({\n  course,\n  onRequestAccess,\n  setModalVisible,\n}) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const { courseAccess, fetchCourseAccess, user, fetchCourse, addToCart } =\n    useContext(EscolaLMSContext);\n  const { attachProduct, getActiveSubscription } = useSubscriptions();\n  const { payByStripe, payByP24, defaultGateway } = usePayment();\n  const buyableType = useEntityBuyableType(course);\n\n  useEffect(() => {\n    (async function () {\n      const id = user?.value?.id;\n\n      if (id && isMobilePlatform) {\n        if (Capacitor.getPlatform() === \"ios\") {\n          await Purchases.configure({\n            apiKey: VITE_APP_IOS_APIKEY,\n            appUserID: `${id}`,\n          });\n        } else if (Capacitor.getPlatform() === \"android\") {\n          await Purchases.configure({\n            apiKey: VITE_APP_ANDROID_APIKEY,\n            appUserID: `${id}`,\n          });\n        }\n      }\n    })();\n  }, [user?.value?.id]);\n\n  const buyOnMobile = useCallback(async () => {\n    const id = getRevenuecatId(course);\n    const offerings = await Purchases.getOfferings();\n    const packages = offerings?.current?.availablePackages || [];\n\n    const product = findProductByIdentifier(packages, id);\n\n    if (product) {\n      try {\n        await Purchases.purchaseStoreProduct({\n          product: product,\n        });\n        // Refresh course access after successful purchase\n        // We need timeout for android phones (3s is enough)\n        setTimeout(() => {\n          fetchCourse(Number(course.id));\n          fetchCourseAccess({\n            course_id: Number(course.id),\n            current_page: 1,\n            per_page: 1,\n          });\n        }, 3000);\n      } catch (error) {\n        revenuecatErrorHandler(error as CapacitorPaymentError);\n      }\n    }\n  }, [course, fetchCourse, fetchCourseAccess]);\n\n  const currentCourseAccess = useMemo(\n    () =>\n      courseAccess.list?.data?.find(\n        (courseAccessItem) => courseAccessItem?.course?.id === course.id\n      ),\n    [courseAccess.list?.data, course.id]\n  );\n\n  const handleBuyButtonClick = useCallback(() => {\n    if (buyableType === EntityRedirectBuyType.FREE && course?.product?.id) {\n      addToCart(Number(course.product?.id)).then(() =>\n        defaultGateway === PaymentGateway.Stripe\n          ? payByStripe(\"free\")\n          : payByP24()\n      );\n    } else {\n      setModalVisible(true);\n    }\n  }, [\n    setModalVisible,\n    addToCart,\n    course,\n    payByStripe,\n    buyableType,\n    payByP24,\n    defaultGateway,\n  ]);\n\n  const handleAttachProduct = useCallback(() => {\n    attachProduct(course.id, \"EscolaLms\\\\Courses\\\\Models\\\\Course\").then(() => [\n      push(`/course/${course.id}`),\n      fetchCourseAccess({\n        course_id: Number(course.id),\n        current_page: 1,\n        per_page: 1,\n      }),\n    ]);\n  }, [attachProduct, course.id, push, fetchCourseAccess]);\n\n  const BuyButton = useMemo(\n    () => (\n      <Button\n        mode=\"secondary\"\n        onClick={() => {\n          if (isMobilePlatform) {\n            buyOnMobile();\n            return;\n          }\n          handleBuyButtonClick();\n        }}\n      >\n        {buyableType === EntityRedirectBuyType.FREE\n          ? t(\"Go to the course\")\n          : t(\"Buy Course\")}\n      </Button>\n    ),\n    [t, handleBuyButtonClick, buyOnMobile, buyableType]\n  );\n\n  if (getActiveSubscription?.id) {\n    return (\n      <Button onClick={() => handleAttachProduct()} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n  if (!currentCourseAccess) {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" onClick={onRequestAccess}>\n          {t(\"CourseAccess.RequestAccess\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status !== \"approved\") {\n    return (\n      <>\n        <StyledButton mode=\"secondary\" disabled>\n          {t(\"CourseAccess.Pending\")}\n        </StyledButton>\n        {BuyButton}\n      </>\n    );\n  }\n\n  if (currentCourseAccess.status === \"approved\") {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  return BuyButton;\n};\n\ntype Props = {\n  course: API.Course;\n  userOwnThisCourse: boolean | undefined;\n  onRequestAccess: () => void;\n};\n\nconst CourseDetailsSidebarButtons: React.FC<Props> = ({\n  course,\n  userOwnThisCourse,\n  onRequestAccess,\n}) => {\n  const { cart, user, fetchCourseAccess } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const [modalVisible, setModalVisible] = useState(false);\n  const courseInCart = useMemo(() => {\n    return cart?.value?.items.some(\n      (item) => Number(item.product_id) === Number(course.product?.id)\n    );\n  }, [course.product?.id, cart]);\n\n  useEffect(() => {\n    fetchCourseAccess({\n      course_id: Number(course.id),\n      current_page: 1,\n      per_page: 1,\n    });\n  }, [course.id, fetchCourseAccess]);\n\n  if (userIsCourseAuthor(Number(user.value?.id), course)) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n\n  if (isPast(new Date(course.active_to || \"\"))) {\n    return <Text>{t(\"CoursePage.IsFinished\")}</Text>;\n  }\n  if (courseInCart) {\n    return (\n      <>\n        <Button mode=\"secondary\" onClick={() => push(routeRoutes.cart)}>\n          {t(\"CoursePage.GoToCheckout\")}\n        </Button>\n      </>\n    );\n  }\n  if (userOwnThisCourse && isPast(new Date(course.active_from || \"\"))) {\n    return (\n      <Button onClick={() => push(`/course/${course.id}`)} mode=\"secondary\">\n        {t(\"Go to the course\")}\n      </Button>\n    );\n  }\n  if (userOwnThisCourse) {\n    return <Text>{t(\"CoursePage.NotStarted\")}</Text>;\n  }\n  if (user.value && course.product) {\n    return (\n      <>\n        <CourseAccessButton\n          course={course}\n          onRequestAccess={onRequestAccess}\n          setModalVisible={setModalVisible}\n        />\n\n        <Modal\n          onClose={() => setModalVisible(false)}\n          visible={modalVisible}\n          animation=\"zoom\"\n          maskAnimation=\"fade\"\n          destroyOnClose\n          width={800}\n        >\n          <ProductModal course={course} />\n        </Modal>\n      </>\n    );\n  }\n  if (!course.product) {\n    return <Text>{t(\"CoursePage.UnavailableCourse\")}</Text>;\n  }\n  return (\n    <Button\n      onClick={() => push(`/login?referrer=/courses/${course.id}`)}\n      mode=\"secondary\"\n    >\n      {t(\"Buy Course\")}\n    </Button>\n  );\n};\n\nexport default CourseDetailsSidebarButtons;\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\n\nimport { IconText } from \"@escolalms/components/lib/components/atoms/IconText/IconText\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { CourseProgress } from \"@escolalms/components/lib/components/atoms/CourseProgress/CourseProgress\";\nimport { PricingCard } from \"@escolalms/components/lib/components/atoms/PricingCard/PricingCard\";\nimport { IconWin } from \"../../../../icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\nimport { isMobile } from \"react-device-detect\";\n\nimport { useCourseProgress } from \"../../../../hooks/courses/useCourseProgress\";\nimport CourseDetailsSidebarButtons from \"./Buttons\";\n\nimport ContentLoader from \"@/components/_App/ContentLoader\";\nimport ProductPrices from \"@/components/ProductPrices\";\nimport styled from \"styled-components\";\nimport {\n  EntityRedirectBuyType,\n  useEntityBuyableType,\n} from \"@/hooks/useEntityPrice\";\n\nconst CourseDetailsSidebarWrapper = styled.div`\n  width: 100%;\n  left: 0;\n  position: ${isMobile ? \"static\" : \"sticky\"};\n  top: ${isMobile ? \"unset\" : \"130px\"};\n  bottom: ${isMobile ? \"0\" : \"unset\"};\n  z-index: 100;\n  .course-sidebar-header {\n    p {\n      margin-bottom: 0;\n    }\n  }\n  .price-wrapper {\n    margin-bottom: 16px;\n    * {\n      font-weight: 700;\n    }\n  }\n  button {\n    width: 100%;\n  }\n`;\n\nconst IconTextWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  span {\n    font-size: 13px;\n    font-weight: 700;\n    &:first-of-type {\n      font-weight: 400;\n    }\n  }\n`;\n\ninterface Props {\n  course: API.Course;\n  onRequestAccess: () => void;\n}\n\nconst CoursesDetailsSidebar: React.FC<Props> = ({\n  course,\n  onRequestAccess,\n}) => {\n  const { user, courseAccess } = useContext(EscolaLMSContext);\n  const { t } = useTranslation();\n  const { id } = useParams<{ id: string }>();\n  const { progress } = useCourseProgress(Number(id));\n  const buyableType = useEntityBuyableType(course);\n  const isFree = buyableType === EntityRedirectBuyType.FREE;\n  const userOwnThisCourse = useMemo(\n    () => course?.product?.owned,\n    [course?.product?.owned]\n  );\n  const userCourseAccess = useMemo(\n    () =>\n      !!courseAccess.list?.data?.find(\n        (courseAccessItem) =>\n          courseAccessItem?.course?.id === course.id &&\n          courseAccessItem.status === \"approved\"\n      ),\n    [course.id, courseAccess.list?.data]\n  );\n\n  const currentCourse = useMemo(() => progress.data || [], [progress.data]);\n\n  const progressMap = useMemo(() => {\n    if (user.value && (userOwnThisCourse || userCourseAccess)) {\n      const finishedLessons =\n        currentCourse?.filter((item) => item.status === 1) || [];\n      return finishedLessons.length;\n    } else {\n      return 0;\n    }\n  }, [currentCourse, user.value, userCourseAccess, userOwnThisCourse]);\n\n  return (\n    <CourseDetailsSidebarWrapper>\n      <PricingCard>\n        <div className=\"course-sidebar-header\">\n          <Text size=\"13\">{t(\"PricePerAccess\")}</Text>\n          <div className=\"price-wrapper\">\n            <ProductPrices\n              price={course.product?.price}\n              taxRate={course.product?.tax_rate}\n              oldPrice={course.product?.price_old}\n              textSizes={{\n                old: \"18\",\n                new: \"24\",\n              }}\n              isFree={isFree}\n            />\n          </div>\n        </div>\n        {progress.loaded ? (\n          <CourseDetailsSidebarButtons\n            onRequestAccess={onRequestAccess}\n            course={course}\n            userOwnThisCourse={userOwnThisCourse}\n          />\n        ) : (\n          <ContentLoader />\n        )}\n        {/* <Text>{settings?.value?.mobile?.infotext}</Text> */}\n        <div className=\"pricing-card-features\">\n          {course.duration && (\n            <IconText\n              text={\n                <IconTextWrapper>\n                  <span>{t(\"CoursePage.Duration\")}</span>\n                  <span>{course.duration}</span>\n                </IconTextWrapper>\n              }\n            />\n          )}\n          {course.lessons && (\n            <IconText\n              text={\n                <IconTextWrapper>\n                  <span>{t(\"CoursePage.Lessons\")}</span>\n                  <span>{course.lessons.length}</span>\n                </IconTextWrapper>\n              }\n            />\n          )}\n          {course.language && (\n            <IconText\n              text={\n                <IconTextWrapper>\n                  <span>{t(\"CoursePage.Language\")}</span>\n                  <span>{course.language}</span>\n                </IconTextWrapper>\n              }\n            />\n          )}\n          {course.level && (\n            <IconText\n              text={\n                <IconTextWrapper>\n                  <span>{t(\"CoursePage.Level\")}</span>\n                  <span>{course.level}</span>\n                </IconTextWrapper>\n              }\n            />\n          )}\n          {/* {course.users_count ? (\n            <IconText\n              text={\n                <IconTextWrapper>\n                  <span>{t(\"CoursePage.Students\")}</span>\n                  <span>{course.users_count}</span>\n                </IconTextWrapper>\n              }\n            />\n          ) : (\n            \"\"\n          )} */}\n        </div>\n        {!user.value ? (\n          <></>\n        ) : (\n          // <Text size=\"12\">\n          //   <Link\n          //     to={`/login?referrer=/courses/${course.id}`}\n          //     style={{\n          //       marginRight: \"4px\",\n          //       color: theme.primaryColor,\n          //     }}\n          //   >\n          //     {t<string>(\"CoursePage.Login\")}\n          //   </Link>\n          //   {t(\"CoursePage.ToSeeProgress\")}\n          // </Text>\n          <CourseProgress\n            progress={\n              currentCourse && currentCourse?.length > 0\n                ? progressMap / currentCourse.length\n                : 0\n            }\n            icon={\n              progress.loaded ? (\n                <IconWin />\n              ) : (\n                <ContentLoader width=\"22px\" height=\"22px\" />\n              )\n            }\n            title={t(\"CoursePage.MyProgress\")}\n          >\n            <strong style={{ fontSize: 14 }}>\n              {t<string>(\"CoursePage.Finished\")} {progressMap || 0}{\" \"}\n              {t<string>(\"CoursePage.Of\")}{\" \"}\n              {currentCourse && currentCourse?.length > 0\n                ? currentCourse.length\n                : 0}{\" \"}\n              {t<string>(\"CoursePage.Lessons\")}\n            </strong>\n            <p style={{ marginTop: 9, marginBottom: 0 }}>\n              {t<string>(\"CoursePage.FinishToGetCertificate\")}\n            </p>\n          </CourseProgress>\n        )}\n      </PricingCard>\n    </CourseDetailsSidebarWrapper>\n  );\n};\n\nexport default CoursesDetailsSidebar;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CourseProgramTopic = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_i18next_1 = require(\"react-i18next\");\nvar index_1 = require(\"../../../../index\");\nvar CourseProgramTopic = function (_a) {\n    var index = _a.index, topic = _a.topic, onTopicClick = _a.onTopicClick, mobile = _a.mobile;\n    var t = (0, react_i18next_1.useTranslation)().t;\n    return ((0, jsx_runtime_1.jsxs)(\"li\", __assign({ className: \"lesson__topic\" }, { children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"lesson__description\" }, { children: [(0, jsx_runtime_1.jsxs)(index_1.Text, __assign({ className: \"lesson__index\", size: \"14\", noMargin: true }, { children: [index, \".\", \" \"] })), (0, jsx_runtime_1.jsx)(index_1.Text, __assign({ size: \"14\", noMargin: true }, { children: topic.title }))] })), topic.preview && ((0, jsx_runtime_1.jsx)(index_1.Button, __assign({ mode: \"outline\", onClick: function () { return onTopicClick(topic); }, block: mobile }, { children: t(\"Course.topicPreview\") })))] })));\n};\nexports.CourseProgramTopic = CourseProgramTopic;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CourseProgramLesson = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar react_i18next_1 = require(\"react-i18next\");\nvar index_1 = require(\"../../../../index\");\nvar CourseProgramTopic_1 = require(\"./CourseProgramTopic\");\nvar CourseProgramLesson = function (_a) {\n    var _b, _c;\n    var lesson = _a.lesson, index = _a.index, _d = _a.defaultOpen, defaultOpen = _d === void 0 ? false : _d, onTopicClick = _a.onTopicClick, mobile = _a.mobile, isSubLesson = _a.isSubLesson, children = _a.children;\n    var t = (0, react_i18next_1.useTranslation)().t;\n    var _e = (0, react_1.useState)(defaultOpen), open = _e[0], setOpen = _e[1];\n    return ((0, jsx_runtime_1.jsxs)(\"li\", __assign({ className: \"lesson__item \".concat(open ? \"open\" : \"closed\", \" \").concat(isSubLesson ? \"sub-lesson\" : \"\") }, { children: [(0, jsx_runtime_1.jsxs)(\"header\", { children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"lesson__details\" }, { children: [(0, jsx_runtime_1.jsxs)(index_1.Text, __assign({ noMargin: true, size: \"12\" }, { children: [t(isSubLesson ? \"Course.SubLesson\" : \"Course.Lesson\"), \" \", index + 1] })), (0, jsx_runtime_1.jsx)(index_1.Text, __assign({ noMargin: true, size: \"12\" }, { children: lesson.duration && lesson.duration }))] })), (0, jsx_runtime_1.jsx)(\"div\", { children: (0, jsx_runtime_1.jsx)(index_1.Text, __assign({ size: \"14\", bold: true, noMargin: true }, { children: lesson.title })) }), (0, jsx_runtime_1.jsx)(index_1.Button, __assign({ type: \"button\", onClick: function () { return setOpen(!open); }, mode: \"icon\", \"aria-label\": t(open ? \"Actions.Hide\" : \"Actions.Hide\") }, { children: (0, jsx_runtime_1.jsx)(index_1.Icon, { name: \"chevron\" }) }))] }), !!((_b = lesson.lessons) === null || _b === void 0 ? void 0 : _b.length) && ((0, jsx_runtime_1.jsx)(\"ul\", __assign({ className: \"lesson__lessons\" }, { children: children }))), (0, jsx_runtime_1.jsx)(\"ul\", __assign({ className: \"lesson__topics\" }, { children: (_c = lesson.topics) === null || _c === void 0 ? void 0 : _c.map(function (topic, topicIndex) { return ((0, jsx_runtime_1.jsx)(CourseProgramTopic_1.CourseProgramTopic, { topic: topic, index: topicIndex + 1, onTopicClick: onTopicClick, mobile: mobile }, topicIndex)); }) }))] })));\n};\nexports.CourseProgramLesson = CourseProgramLesson;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RecursiveLessons = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar CourseProgramLesson_1 = require(\"./CourseProgramLesson\");\nvar RecursiveLessons = function (_a) {\n    var lessons = _a.lessons, _b = _a.depth, depth = _b === void 0 ? 0 : _b, onTopicClick = _a.onTopicClick, mobile = _a.mobile;\n    return ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: lessons.map(function (l, index) {\n            var _a;\n            return ((0, jsx_runtime_1.jsx)(CourseProgramLesson_1.CourseProgramLesson, __assign({ defaultOpen: index === 0 ? true : false, index: index, lesson: l, isSubLesson: depth > 0, onTopicClick: onTopicClick, mobile: mobile }, { children: (0, jsx_runtime_1.jsx)(exports.RecursiveLessons, { lessons: (_a = l.lessons) !== null && _a !== void 0 ? _a : [], depth: depth + 1, onTopicClick: onTopicClick, mobile: mobile }) }), l.id));\n        }) }));\n};\nexports.RecursiveLessons = RecursiveLessons;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StyledSection = void 0;\nvar chroma_js_1 = __importDefault(require(\"chroma-js\"));\nvar styled_components_1 = __importDefault(require(\"styled-components\"));\nvar utils_1 = require(\"../../../../utils/utils\");\n// TODO: this should be divided into separate styled components\nexports.StyledSection = (0, styled_components_1.default)(\"section\")(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  > p {\\n    margin-bottom: 0px;\\n    font-weight: 700;\\n  }\\n  & > header {\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: nowrap;\\n    justify-content: space-between;\\n    align-items: flex-start;\\n    align-content: flex-start;\\n    margin-bottom: 20px;\\n\\n    .lms-icon-title {\\n      margin: 0;\\n      flex-wrap: nowrap;\\n    }\\n    & > div {\\n      display: inline-flex;\\n      align-items: center;\\n\\n      p {\\n        margin-right: 6px;\\n      }\\n    }\\n  }\\n\\n  .lessons__list {\\n    list-style-type: none;\\n    padding-left: 0;\\n  }\\n\\n  .lesson__item {\\n    background: \", \";\\n    border-left: 2px solid\\n      \", \";\\n    padding: 10px;\\n    margin: 10px 0;\\n    overflow: hidden;\\n\\n    .duration {\\n      margin: 1px 0;\\n    }\\n\\n    & > header {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: nowrap;\\n      align-items: center;\\n      align-content: flex-start;\\n\\n      button {\\n        margin-left: auto;\\n        margin-top: -2px;\\n        svg {\\n          transform: rotate(180deg);\\n          transition: transform 0.2s ease-in;\\n        }\\n      }\\n\\n      .lesson__details {\\n        flex-shrink: 0;\\n        margin-right: 10px;\\n\\n        > p:first-child {\\n          margin-bottom: 2px;\\n          margin-top: 3px;\\n          text-transform: uppercase;\\n          color: \", \";\\n        }\\n      }\\n\\n      .lesson__title {\\n        font-size: 16px;\\n        color: \", \";\\n        margin: 0;\\n        font-weight: bold;\\n        display: flex;\\n        small {\\n          font-size: 12px;\\n          font-weight: 300;\\n          .lesson__index {\\n            text-transform: uppercase;\\n            color: \", \";\\n            white-space: nowrap;\\n          }\\n          .lesson__duration {\\n            color: \", \";\\n          }\\n          margin-right: 12px;\\n        }\\n      }\\n    }\\n    &.open > header button svg {\\n      transform: rotate(0);\\n    }\\n\\n    .lesson__topics {\\n      list-style: none;\\n      margin: 0;\\n      padding: 0;\\n      transition: all 0.5s;\\n\\n      li {\\n        padding: 10px;\\n        position: relative;\\n        display: flex;\\n        flex-direction: \", \";\\n\\n        &:first-child {\\n          margin-top: 10px;\\n        }\\n\\n        &:last-child:not(.lesson__topic-current) {\\n          padding-bottom: 0;\\n          border-bottom: none;\\n        }\\n\\n        &:not(.lesson__topic-current):not(:last-child) {\\n          border-bottom: 2px solid\\n            \", \";\\n        }\\n\\n        button {\\n          margin-left: \", \";\\n          margin-top: \", \";\\n          font-size: 12px;\\n          padding: 3px 10px;\\n        }\\n\\n        &.lesson__topic-pending svg {\\n          margin-top: 4px;\\n\\n          path {\\n            fill: \", \";\\n          }\\n        }\\n\\n        &.lesson__topic-finished svg {\\n          margin-top: 7px;\\n        }\\n\\n        .lesson__description {\\n          display: flex;\\n          align-items: center;\\n\\n          svg {\\n            margin-right: 7px;\\n            width: 17px;\\n            flex-shrink: 0;\\n\\n            path {\\n              fill: \", \";\\n            }\\n          }\\n\\n          .lesson__index {\\n            opacity: \", \";\\n            margin-right: 4px;\\n          }\\n        }\\n      }\\n    }\\n  }\\n\\n  .lesson__lessons {\\n    list-style: none;\\n    padding-left: 0;\\n\\n    .sub-lesson {\\n      padding-inline: 5px;\\n      margin-block: 0;\\n      border-left: 2px solid transparent;\\n      border-bottom: 2px solid rgb(255, 255, 255);\\n    }\\n  }\\n\\n  .lesson__item.open .lesson__topics {\\n    max-height: 100vh;\\n    transition: all 0.35s ease-in;\\n  }\\n\\n  .lesson__item.closed .lesson__topics,\\n  .lesson__item.closed .lesson__lessons {\\n    max-height: 0;\\n    overflow: hidden;\\n    transition: all 0.35s ease-out;\\n  }\\n\"], [\"\\n  width: 100%;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  > p {\\n    margin-bottom: 0px;\\n    font-weight: 700;\\n  }\\n  & > header {\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: nowrap;\\n    justify-content: space-between;\\n    align-items: flex-start;\\n    align-content: flex-start;\\n    margin-bottom: 20px;\\n\\n    .lms-icon-title {\\n      margin: 0;\\n      flex-wrap: nowrap;\\n    }\\n    & > div {\\n      display: inline-flex;\\n      align-items: center;\\n\\n      p {\\n        margin-right: 6px;\\n      }\\n    }\\n  }\\n\\n  .lessons__list {\\n    list-style-type: none;\\n    padding-left: 0;\\n  }\\n\\n  .lesson__item {\\n    background: \", \";\\n    border-left: 2px solid\\n      \", \";\\n    padding: 10px;\\n    margin: 10px 0;\\n    overflow: hidden;\\n\\n    .duration {\\n      margin: 1px 0;\\n    }\\n\\n    & > header {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: nowrap;\\n      align-items: center;\\n      align-content: flex-start;\\n\\n      button {\\n        margin-left: auto;\\n        margin-top: -2px;\\n        svg {\\n          transform: rotate(180deg);\\n          transition: transform 0.2s ease-in;\\n        }\\n      }\\n\\n      .lesson__details {\\n        flex-shrink: 0;\\n        margin-right: 10px;\\n\\n        > p:first-child {\\n          margin-bottom: 2px;\\n          margin-top: 3px;\\n          text-transform: uppercase;\\n          color: \", \";\\n        }\\n      }\\n\\n      .lesson__title {\\n        font-size: 16px;\\n        color: \", \";\\n        margin: 0;\\n        font-weight: bold;\\n        display: flex;\\n        small {\\n          font-size: 12px;\\n          font-weight: 300;\\n          .lesson__index {\\n            text-transform: uppercase;\\n            color: \", \";\\n            white-space: nowrap;\\n          }\\n          .lesson__duration {\\n            color: \", \";\\n          }\\n          margin-right: 12px;\\n        }\\n      }\\n    }\\n    &.open > header button svg {\\n      transform: rotate(0);\\n    }\\n\\n    .lesson__topics {\\n      list-style: none;\\n      margin: 0;\\n      padding: 0;\\n      transition: all 0.5s;\\n\\n      li {\\n        padding: 10px;\\n        position: relative;\\n        display: flex;\\n        flex-direction: \", \";\\n\\n        &:first-child {\\n          margin-top: 10px;\\n        }\\n\\n        &:last-child:not(.lesson__topic-current) {\\n          padding-bottom: 0;\\n          border-bottom: none;\\n        }\\n\\n        &:not(.lesson__topic-current):not(:last-child) {\\n          border-bottom: 2px solid\\n            \", \";\\n        }\\n\\n        button {\\n          margin-left: \", \";\\n          margin-top: \", \";\\n          font-size: 12px;\\n          padding: 3px 10px;\\n        }\\n\\n        &.lesson__topic-pending svg {\\n          margin-top: 4px;\\n\\n          path {\\n            fill: \", \";\\n          }\\n        }\\n\\n        &.lesson__topic-finished svg {\\n          margin-top: 7px;\\n        }\\n\\n        .lesson__description {\\n          display: flex;\\n          align-items: center;\\n\\n          svg {\\n            margin-right: 7px;\\n            width: 17px;\\n            flex-shrink: 0;\\n\\n            path {\\n              fill: \", \";\\n            }\\n          }\\n\\n          .lesson__index {\\n            opacity: \", \";\\n            margin-right: 4px;\\n          }\\n        }\\n      }\\n    }\\n  }\\n\\n  .lesson__lessons {\\n    list-style: none;\\n    padding-left: 0;\\n\\n    .sub-lesson {\\n      padding-inline: 5px;\\n      margin-block: 0;\\n      border-left: 2px solid transparent;\\n      border-bottom: 2px solid rgb(255, 255, 255);\\n    }\\n  }\\n\\n  .lesson__item.open .lesson__topics {\\n    max-height: 100vh;\\n    transition: all 0.35s ease-in;\\n  }\\n\\n  .lesson__item.closed .lesson__topics,\\n  .lesson__item.closed .lesson__lessons {\\n    max-height: 0;\\n    overflow: hidden;\\n    transition: all 0.35s ease-out;\\n  }\\n\"])), function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.dm__cardBackgroundColor, theme.cardBackgroundColor);\n}, function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.dm__primaryColor, theme.primaryColor, theme.primaryColor);\n}, function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.dm__primaryColor, theme.primaryColor, theme.primaryColor);\n}, function (props) { return props.theme.gray1; }, function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.dm__primaryColor, theme.primaryColor, theme.primaryColor);\n}, function (props) { return props.theme.gray2; }, function (props) { return (props.$mobile ? \"column\" : \"row\"); }, function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, (0, chroma_js_1.default)(theme.white).alpha(0.2).hex(), theme.white);\n}, function (props) { return (props.$mobile ? \"0\" : \"auto\"); }, function (props) { return (props.$mobile ? \"6px\" : \"0\"); }, function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.white, theme.gray1);\n}, function (_a) {\n    var theme = _a.theme;\n    return (0, utils_1.getStylesBasedOnTheme)(theme.mode, theme.white, theme.gray1);\n}, function (props) {\n    return props.theme.dm__numerationsColor || props.theme.numerationsColor\n        ? 1\n        : 0.5;\n});\nvar templateObject_1;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CourseProgram = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_i18next_1 = require(\"react-i18next\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar index_1 = require(\"../../../index\");\nvar RecursiveLessons_1 = require(\"./_components/RecursiveLessons\");\nvar styles_1 = require(\"./_components/styles\");\nvar CourseProgram = function (_a) {\n    var lessons = _a.lessons, onTopicClick = _a.onTopicClick, _b = _a.mobile, mobile = _b === void 0 ? false : _b, _c = _a.className, className = _c === void 0 ? \"\" : _c;\n    var t = (0, react_i18next_1.useTranslation)().t;\n    return ((0, jsx_runtime_1.jsxs)(styles_1.StyledSection, __assign({ \"$mobile\": mobile, className: \"wellms-component \".concat(className) }, { children: [(0, jsx_runtime_1.jsx)(index_1.Text, { children: t(\"Course.Agenda\") }), (0, jsx_runtime_1.jsx)(\"ul\", __assign({ className: \"lessons__list\" }, { children: (0, jsx_runtime_1.jsx)(RecursiveLessons_1.RecursiveLessons, { lessons: lessons, onTopicClick: onTopicClick, mobile: mobile }) }))] })));\n};\nexports.CourseProgram = CourseProgram;\nvar NewComponent = (0, styled_components_1.default)(exports.CourseProgram)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\"], [\"\"])));\nexports.default = (0, styled_components_1.withTheme)(NewComponent);\nvar templateObject_1;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MarkdownPlayer = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar React = __importStar(require(\"react\"));\nvar MarkdownRenderer_1 = require(\"../../molecules/MarkdownRenderer/MarkdownRenderer\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar MarkdownPlayer = function (props) {\n    var onLoad = props.onLoad, children = props.children, _a = props.mobile, mobile = _a === void 0 ? false : _a;\n    React.useEffect(function () {\n        children && onLoad && onLoad();\n    }, [children, onLoad]);\n    return ((0, jsx_runtime_1.jsx)(MarkdownRenderer_1.MarkdownRenderer, { children: children, mobile: mobile }));\n};\nexports.MarkdownPlayer = MarkdownPlayer;\nexports.default = (0, styled_components_1.withTheme)((0, styled_components_1.default)(exports.MarkdownPlayer)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\"], [\"\"]))));\nvar templateObject_1;\n","import React, { useContext, useMemo } from \"react\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { TopicType } from \"@escolalms/sdk/lib/services/courses\";\nimport { OEmbedPlayer } from \"@escolalms/components/lib/components/players/OEmbedPlayer/OEmbedPlayer\";\nimport { AudioVideoPlayer } from \"@escolalms/components/lib/components/players/AudioVideoPlayer/AudioVideoPlayer\";\nimport { PdfPlayer } from \"@escolalms/components/lib/components/players/PdfPlayer/PdfPlayer\";\nimport { MarkdownPlayer } from \"@escolalms/components/lib/components/players/MarkdownPlayer/MarkdownPlayer\";\nimport { ImagePlayer } from \"@escolalms/components/lib/components/players/ImagePlayer/ImagePlayer\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport { H5Player } from \"@escolalms/components/lib/components/players/H5Player/H5Player\";\nimport GiftQuizPlayer from \"@escolalms/components/lib/components/quizzes\";\n\nexport const CourseProgramPreview: React.FC<{\n  topic: API.Topic;\n}> = ({ topic }) => {\n  const { apiUrl } = useContext(EscolaLMSContext);\n  const topicRender = useMemo(() => {\n    if (topic && topic.topicable_type) {\n      switch (topic.topicable_type) {\n        case TopicType.H5P:\n          // @ts-ignore\n          return (\n            <H5Player\n              //@ts-ignore\n              h5pObject={topic?.topicable?.content as API.H5PObject}\n              hideActionButtons\n            />\n          );\n        case TopicType.OEmbed:\n          return <OEmbedPlayer url={topic?.topicable?.value} />;\n        case TopicType.RichText:\n          return (\n            <div className=\"container-xl\">\n              <MarkdownPlayer\n                children={topic.topicable.value}\n                onLoad={() => console.log(\"MarkdownPlayer onLoad\")}\n              />\n            </div>\n          );\n        case TopicType.Video:\n        case TopicType.Audio:\n          return <AudioVideoPlayer url={topic.topicable.url} />;\n        case TopicType.Image:\n          return <ImagePlayer topic={topic} onLoad={() => console.log(\"\")} />;\n        case TopicType.Pdf:\n          return (\n            <PdfPlayer\n              url={topic.topicable.url}\n              pageConfig={{\n                width: 550,\n              }}\n            />\n          );\n        case TopicType.Scorm:\n          return (\n            <div className=\"scorm-wrapper\">\n              <iframe\n                title={topic.topicable.value}\n                width=\"100%\"\n                height=\"400px\"\n                style={{\n                  border: \"none\",\n                }}\n                src={`${apiUrl}/api/scorm/play/${topic.topicable.uuid}`}\n              />\n            </div>\n          );\n        case API.TopicType.GiftQuiz:\n          return <GiftQuizPlayer topic={topic} />;\n        default:\n          return <pre>{topic.topicable_type}</pre>;\n      }\n    }\n    return <React.Fragment />;\n  }, [topic, apiUrl]);\n\n  return (\n    <div className=\"topic-preview-modal\">\n      <div className=\"topic-preview-modal-content\">{topicRender}</div>\n    </div>\n  );\n};\n\nexport default CourseProgramPreview;\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModalCourseAccess = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar react_i18next_1 = require(\"react-i18next\");\nvar formik_1 = require(\"formik\");\nvar styled_components_1 = __importStar(require(\"styled-components\"));\nvar react_2 = require(\"@escolalms/sdk/lib/react\");\nvar Button_1 = require(\"../../atoms/Button/Button\");\nvar Input_1 = require(\"../../atoms/Input/Input\");\nvar TextArea_1 = require(\"../../atoms/TextArea/TextArea\");\nvar Title_1 = require(\"../../atoms/Typography/Title\");\nvar Text_1 = require(\"../../atoms/Typography/Text\");\nvar Container = styled_components_1.default.aside(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 24px;\\n\\n  header {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 6px;\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-between;\\n    gap: 24px;\\n\\n    & > .form-content {\\n      .error-msg {\\n        color: \", \";\\n      }\\n\\n      .input-group {\\n        display: flex;\\n        flex-direction: column;\\n        gap: 16px;\\n      }\\n    }\\n\\n    & > .button-group {\\n      display: flex;\\n      justify-content: flex-end;\\n      gap: 12px;\\n    }\\n  }\\n\"], [\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 24px;\\n\\n  header {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 6px;\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-between;\\n    gap: 24px;\\n\\n    & > .form-content {\\n      .error-msg {\\n        color: \", \";\\n      }\\n\\n      .input-group {\\n        display: flex;\\n        flex-direction: column;\\n        gap: 16px;\\n      }\\n    }\\n\\n    & > .button-group {\\n      display: flex;\\n      justify-content: flex-end;\\n      gap: 12px;\\n    }\\n  }\\n\"])), function (_a) {\n    var theme = _a.theme;\n    return theme.errorColor;\n});\nvar ModalCourseAccess = function (_a) {\n    var course = _a.course, className = _a.className, _b = _a.initialValues, initialValues = _b === void 0 ? { phone_number: \"\", contact_details: \"\" } : _b, onCancel = _a.onCancel, onSuccess = _a.onSuccess, onError = _a.onError;\n    var t = (0, react_i18next_1.useTranslation)().t;\n    var addCourseAccess = (0, react_1.useContext)(react_2.EscolaLMSContext).addCourseAccess;\n    return ((0, jsx_runtime_1.jsxs)(Container, __assign({ className: \"wellms-component \".concat(className), \"data-testid\": \"modal-course-access\" }, { children: [(0, jsx_runtime_1.jsxs)(\"header\", { children: [(0, jsx_runtime_1.jsx)(Title_1.Title, __assign({ level: 1 }, { children: course.title })), (0, jsx_runtime_1.jsx)(Text_1.Text, __assign({ size: \"14\", bold: true }, { children: t(\"ModalCourseAccess.Title\") }))] }), (0, jsx_runtime_1.jsx)(formik_1.Formik, __assign({ initialValues: initialValues, onSubmit: function (values, _a) {\n                    var setErrors = _a.setErrors, setSubmitting = _a.setSubmitting, resetForm = _a.resetForm;\n                    var payload = {\n                        course_id: course.id,\n                        data: values,\n                    };\n                    addCourseAccess(payload)\n                        .then(function () {\n                        resetForm();\n                        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n                    })\n                        .catch(function (err) {\n                        var _a, _b;\n                        setErrors(__assign({ error: (_a = err === null || err === void 0 ? void 0 : err.data) === null || _a === void 0 ? void 0 : _a.message }, (_b = err === null || err === void 0 ? void 0 : err.data) === null || _b === void 0 ? void 0 : _b.errors));\n                        onError === null || onError === void 0 ? void 0 : onError();\n                    })\n                        .finally(function () {\n                        setSubmitting(false);\n                    });\n                } }, { children: function (_a) {\n                    var values = _a.values, touched = _a.touched, errors = _a.errors, handleChange = _a.handleChange, handleBlur = _a.handleBlur, handleSubmit = _a.handleSubmit;\n                    return ((0, jsx_runtime_1.jsxs)(\"form\", __assign({ onSubmit: handleSubmit }, { children: [(0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"form-content\" }, { children: [errors && errors.error && ((0, jsx_runtime_1.jsx)(Text_1.Text, __assign({ className: \"error-msg\", size: \"12\", bold: true }, { children: errors.error }))), (0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"input-group\" }, { children: [(0, jsx_runtime_1.jsx)(Input_1.Input, { type: \"text\", label: t(\"ModalCourseAccess.PhoneNumber\"), error: touched.phone_number && errors.phone_number, id: \"phone_number\", name: \"phone_number\", onChange: handleChange, onBlur: handleBlur, value: values.phone_number }), (0, jsx_runtime_1.jsx)(TextArea_1.TextArea, { label: t(\"ModalCourseAccess.ContactDetails\"), error: touched.contact_details && errors.contact_details, id: \"contact_details\", name: \"contact_details\", onChange: handleChange, onBlur: handleBlur, value: values.contact_details })] }))] })), (0, jsx_runtime_1.jsxs)(\"div\", __assign({ className: \"button-group\" }, { children: [(0, jsx_runtime_1.jsx)(Button_1.Button, __assign({ type: \"button\", mode: \"secondary\", onClick: onCancel }, { children: t(\"ModalCourseAccess.Cancel\") })), (0, jsx_runtime_1.jsx)(Button_1.Button, __assign({ type: \"submit\", mode: \"secondary\" }, { children: t(\"ModalCourseAccess.Submit\") }))] }))] })));\n                } }))] })));\n};\nexports.ModalCourseAccess = ModalCourseAccess;\nexports.default = (0, styled_components_1.withTheme)((0, styled_components_1.default)(exports.ModalCourseAccess)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"]))));\nvar templateObject_1, templateObject_2;\n","import Skeleton from \"react-loading-skeleton\";\nimport styled from \"styled-components\";\n\nconst SkeletonWrapper = styled.div`\n  .tutors {\n    display: flex;\n    > div {\n      margin-left: 10px;\n    }\n  }\n`;\n\nconst CoursePageContentSkeleton = () => {\n  return (\n    <SkeletonWrapper>\n      <Skeleton width={\"20px\"} style={{ marginBottom: \"5px\" }} />\n      <Skeleton width={\"40%\"} height={37} style={{ marginBottom: \"10px\" }} />\n      <Skeleton width={\"40%\"} style={{ marginBottom: \"10px\" }} />{\" \"}\n      <Skeleton width={\"100%\"} height={490} style={{ marginBottom: \"40px\" }} />\n      <div style={{ marginBottom: \"40px\" }}>\n        <Skeleton width={\"100%\"} count={4} style={{ marginBottom: \"5px\" }} />\n      </div>\n      <div style={{ marginBottom: \"40px\" }}>\n        <Skeleton width={\"100%\"} count={5} style={{ marginBottom: \"5px\" }} />\n      </div>\n      <Skeleton width={\"80px\"} style={{ marginBottom: \"20px\" }} />\n      <div className=\"tutors\">\n        <Skeleton circle width={\"112px\"} height={\"112px\"} />\n        <div>\n          <Skeleton width={\"140px\"} style={{ marginBottom: \"20px\" }} />\n          <Skeleton width={\"140px\"} count={2} />\n        </div>\n      </div>\n      <div style={{ marginTop: \"40px\" }}>\n        <Skeleton\n          width={\"100%\"}\n          height={\"51px\"}\n          style={{ marginBottom: \"5px\" }}\n          count={8}\n        />\n      </div>\n    </SkeletonWrapper>\n  );\n};\n\nexport default CoursePageContentSkeleton;\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport CoursesDetailsSidebar from \"@/components/Courses/SingleCoursesTwo/CoursesDetailsSidebar/index\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react/context\";\nimport { useTranslation } from \"react-i18next\";\nimport Layout from \"@/components/_App/Layout\";\nimport { Title } from \"@escolalms/components/lib/components/atoms/Typography/Title\";\nimport { Text } from \"@escolalms/components/lib/components/atoms/Typography/Text\";\nimport { CourseProgram } from \"@escolalms/components/lib/components/organisms/CourseProgram/CourseProgram\";\nimport { MarkdownRenderer } from \"@escolalms/components/lib/components/molecules/MarkdownRenderer/MarkdownRenderer\";\nimport CourseProgramPreview from \"@/components/Courses/Course/CourseProgramPreview\";\nimport { API } from \"@escolalms/sdk/lib\";\nimport { Modal } from \"@escolalms/components/lib/components/atoms/Modal/Modal\";\nimport Breadcrumbs from \"@/components/Common/Breadcrumbs\";\nimport { fixContentForMarkdown } from \"@escolalms/components/lib/utils/components/markdown\";\nimport { Col, Row } from \"react-grid-system\";\nimport Container from \"@/components/Common/Container\";\nimport { ModalCourseAccess } from \"@escolalms/components/lib/components/organisms/ModalCourseAccess\";\nimport { QuestionnaireModelType } from \"@/types/questionnaire\";\nimport { ModalOverwriteGlobal, StyledCoursePage } from \"./styles\";\nimport {\n  CourseMainInfo,\n  CourseAuthor,\n  CourseRatings,\n  CourseRelated,\n} from \"./Components\";\nimport routeRoutes from \"@/components/Routes/routes\";\nimport { isMobile } from \"react-device-detect\";\nimport styled, { useTheme } from \"styled-components\";\nimport { ArrowRight } from \"@/icons/index\";\nimport SidebarSkeleton from \"@/components/Skeletons/CoursePage/sidebar\";\nimport CoursePageContentSkeleton from \"@/components/Skeletons/CoursePage/content\";\n\nconst BackButton = styled.button`\n  all: unset;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  svg {\n    transform: rotate(180deg);\n    width: 10px;\n    height: 17px;\n  }\n`;\n\nconst CoursePage = () => {\n  const [questionnaires, setQuestionnaires] = useState<API.Questionnaire[]>([]);\n  const [courseAccessModalVisible, setCourseAccessModalVisible] =\n    useState(false);\n\n  const [previewTopic, setPreviewTopic] = useState<API.Topic>();\n  const { id } = useParams<{ id: string }>();\n  const { t } = useTranslation();\n  const history = useHistory();\n  const theme = useTheme();\n  const {\n    course,\n    fetchCourse,\n    fetchCourses,\n    fetchCourseAccess,\n    fetchQuestionnaires,\n  } = useContext(EscolaLMSContext);\n\n  const closeCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(false),\n    []\n  );\n\n  const openCourseAccessModal = useCallback(\n    () => setCourseAccessModalVisible(true),\n    []\n  );\n\n  const refreshCurrentCourseAccess = useCallback(\n    () =>\n      fetchCourseAccess({\n        course_id: Number(id),\n        current_page: 1,\n        per_page: 1,\n      }),\n    [id, fetchCourseAccess]\n  );\n\n  useEffect(() => {\n    fetchCourses({ per_page: 6 });\n    if (id) {\n      fetchCourse(Number(id));\n      refreshCurrentCourseAccess();\n      fetchQuestionnaires(QuestionnaireModelType.COURSE, Number(id)).then(\n        (response) => response.success && setQuestionnaires(response.data)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  if (course.error) {\n    return <pre>{course.error.message}</pre>;\n  }\n\n  return (\n    <Layout metaTitle={course?.value?.title || \"Loading\"}>\n      {course.loading && (\n        <>\n          <StyledCoursePage>\n            <Container>\n              <Row>\n                <Col md={12} lg={8}>\n                  <CoursePageContentSkeleton />\n                </Col>\n                <Col md={12} lg={3} offset={{ lg: 1 }}>\n                  <SidebarSkeleton />\n                </Col>\n              </Row>\n            </Container>\n          </StyledCoursePage>\n        </>\n      )}\n\n      {!course.loading && course.value && (\n        <>\n          <StyledCoursePage>\n            <Container>\n              {!isMobile && (\n                <Breadcrumbs\n                  items={[\n                    <Link to={routeRoutes.home}>{t(\"Home\")}</Link>,\n                    <Link to={routeRoutes.courses}>{t(\"Courses\")}</Link>,\n                    <Text size=\"13\">{course.value.title}</Text>,\n                  ]}\n                />\n              )}\n\n              <Row>\n                <Col md={12} lg={8}>\n                  {isMobile && (\n                    <BackButton\n                      onClick={() => history.push(routeRoutes.courses)}\n                    >\n                      <ArrowRight color={theme.black} />\n                    </BackButton>\n                  )}\n                  <CourseMainInfo courseData={course.value} />\n                  {isMobile && course.value && (\n                    <CoursesDetailsSidebar\n                      course={course.value}\n                      onRequestAccess={openCourseAccessModal}\n                    />\n                  )}\n                  {course.value.description &&\n                    fixContentForMarkdown(course.value.description) !== \"\" && (\n                      <section className=\"course-description-short\">\n                        <MarkdownRenderer>\n                          {course.value.description}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  {course.value.summary &&\n                    fixContentForMarkdown(course.value.summary) !== \"\" && (\n                      <section className=\"course-description\">\n                        <MarkdownRenderer>\n                          {course.value.summary}\n                        </MarkdownRenderer>\n                      </section>\n                    )}\n                  <section className=\"\">\n                    <Title as=\"h3\" level={4} className=\"title\">\n                      {t<string>(\"CoursePage.Teacher\")}\n                    </Title>\n                    <Row>\n                      {course.value &&\n                        course.value.authors.map((author) => (\n                          <CourseAuthor author={author} />\n                        ))}\n                    </Row>\n                  </section>\n                  {course.value.lessons && course.value.lessons.length > 0 && (\n                    <CourseProgram\n                      lessons={course.value.lessons}\n                      onTopicClick={(topic) => setPreviewTopic(topic)}\n                    />\n                  )}\n                  <CourseRatings questionnaires={questionnaires} />\n                </Col>\n\n                {!isMobile && (\n                  <Col md={12} lg={3} offset={{ lg: 1 }}>\n                    {course.value && (\n                      <CoursesDetailsSidebar\n                        course={course.value}\n                        onRequestAccess={openCourseAccessModal}\n                      />\n                    )}\n                  </Col>\n                )}\n              </Row>\n            </Container>\n            <CourseRelated\n              relatedProducts={course.value.product?.related_products}\n            />\n          </StyledCoursePage>\n          <Modal\n            onClose={() => setPreviewTopic(undefined)}\n            visible={!!previewTopic}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose={true}\n            width={600}\n            bodyStyle={{\n              maxHeight: \"80vh\",\n              overflow: \"auto\",\n            }}\n          >\n            <ModalOverwriteGlobal />\n            {previewTopic && <CourseProgramPreview topic={previewTopic} />}\n          </Modal>\n          <Modal\n            onClose={closeCourseAccessModal}\n            visible={courseAccessModalVisible}\n            animation=\"zoom\"\n            maskAnimation=\"fade\"\n            destroyOnClose\n            width={600}\n          >\n            <ModalOverwriteGlobal />\n            <ModalCourseAccess\n              course={course.value}\n              onCancel={closeCourseAccessModal}\n              onSuccess={() => {\n                refreshCurrentCourseAccess();\n                closeCourseAccessModal();\n              }}\n            />\n          </Modal>\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default CoursePage;\n"],"names":["useCourseProgress","courseId","progress","setProgress","useState","user","fetchCourseProgress","courseProgressDetails","useContext","EscolaLMSContext","useEffect","StyledProductModal","styled","StyledProductBox","theme","$isMobile","ProductModal","course","getCheapestSubscription","useSubscriptions","cart","addToCart","t","useTranslation","push","useHistory","handleBuyCourse","useCallback","_a","routeRoutes","jsx","Title","Text","Row","Col","jsxs","isMobile","formatPrice","Button","StyledButton","CourseAccessButton","onRequestAccess","setModalVisible","courseAccess","fetchCourseAccess","fetchCourse","attachProduct","getActiveSubscription","payByStripe","payByP24","defaultGateway","usePayment","buyableType","useEntityBuyableType","id","isMobilePlatform","Capacitor","Purchases","VITE_APP_IOS_APIKEY","VITE_APP_ANDROID_APIKEY","buyOnMobile","getRevenuecatId","offerings","packages","product","findProductByIdentifier","error","revenuecatErrorHandler","currentCourseAccess","useMemo","_b","courseAccessItem","handleBuyButtonClick","EntityRedirectBuyType","PaymentGateway","handleAttachProduct","BuyButton","Fragment","CourseDetailsSidebarButtons","userOwnThisCourse","modalVisible","courseInCart","item","userIsCourseAuthor","isPast","Modal","CourseDetailsSidebarWrapper","IconTextWrapper","CoursesDetailsSidebar","useParams","isFree","userCourseAccess","currentCourse","progressMap","PricingCard","ProductPrices","_c","_d","_e","ContentLoader","IconText","CourseProgress","IconWin","__assign","this","s","i","n","p","CourseProgramTopic_1","jsx_runtime_1","require$$0","react_i18next_1","require$$1","index_1","require$$2","CourseProgramTopic","index","topic","onTopicClick","mobile","CourseProgramLesson_1","react_1","require$$3","require$$4","CourseProgramLesson","lesson","defaultOpen","isSubLesson","children","open","setOpen","topicIndex","exports","RecursiveLessons","lessons","depth","l","__makeTemplateObject","cooked","raw","__importDefault","mod","styles","chroma_js_1","styled_components_1","utils_1","templateObject_1","props","__createBinding","o","m","k","k2","desc","__setModuleDefault","v","__importStar","result","RecursiveLessons_1","styles_1","require$$5","CourseProgram","className","NewComponent","React","MarkdownRenderer_1","MarkdownPlayer","onLoad","CourseProgramPreview","apiUrl","topicRender","TopicType","H5Player","OEmbedPlayer","AudioVideoPlayer","ImagePlayer","PdfPlayer","API","GiftQuizPlayer","formik_1","react_2","Button_1","require$$6","Input_1","require$$7","TextArea_1","require$$8","Title_1","require$$9","Text_1","require$$10","Container","ModalCourseAccess","initialValues","onCancel","onSuccess","onError","addCourseAccess","values","setErrors","setSubmitting","resetForm","payload","err","touched","errors","handleChange","handleBlur","handleSubmit","templateObject_2","SkeletonWrapper","CoursePageContentSkeleton","Skeleton","BackButton","CoursePage","questionnaires","setQuestionnaires","courseAccessModalVisible","setCourseAccessModalVisible","previewTopic","setPreviewTopic","history","useTheme","fetchCourses","fetchQuestionnaires","closeCourseAccessModal","openCourseAccessModal","refreshCurrentCourseAccess","QuestionnaireModelType","response","Layout","StyledCoursePage","SidebarSkeleton","Breadcrumbs","Link","ArrowRight","CourseMainInfo","fixContentForMarkdown","MarkdownRenderer","author","CourseAuthor","CourseRatings","CourseRelated","ModalOverwriteGlobal"],"mappings":"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","x_google_ignoreList":[4,5,6,7,8,9,11]}