import{D as L,n as d,r as c,m as h,f,h as R,j as s,v as E,C as F,o as p,i as g}from"./index-DHovczjU.js";import{A as j,R as w}from"./AuthWrapper-C4ttALfu.js";import{t as l}from"./toast-DdvjuUw5.js";var k=L();const v=()=>{const{search:t,state:i}=d(),{user:n,socialAuthorize:m}=c.useContext(h.EscolaLMSContext),[x,a]=c.useState("login"),{t:r}=f(),e=R(),o=t.split("?token=")[1],u=i&&i.referrer||t.split("?referrer=")[1]||"/";return o&&(m(o),setTimeout(()=>{e.push(u)},1e3)),!n.loading&&!o&&n.value&&e.push(u),s.jsx(E,{metaTitle:r("LoginAndRegister"),children:s.jsx(j,{children:s.jsx(F,{children:x==="login"?s.jsx(k.LoginForm,{onResetPasswordLink:()=>a("forgotPassword"),onRegisterLink:()=>e.push(p.register),mobile:g}):s.jsx(w.ResetPasswordForm,{mobile:g,backToLogin:()=>a("login"),onRegisterLink:()=>e.push(p.register),return_url:"#/reset-password",onFirstStepSuccess:()=>l(r("LoginPage.ForgotSuccess"),"success"),onFirstStepError:()=>l(r("UnexpectedError"),"error")})})})})};export{v as default};
