{"version":3,"file":"useFetchCourses-BQ_6-cnc.js","sources":["../../src/hooks/courses/useFetchCourses.ts"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { EscolaLMSContext } from \"@escolalms/sdk/lib/react\";\nimport {\n  Course,\n  CourseParams,\n  PaginatedMetaList,\n} from \"@escolalms/sdk/lib/types/api\";\n\nconst useFetchCourses = (params?: CourseParams, noAutoFech?: boolean) => {\n  const [courses, setCourses] = useState<PaginatedMetaList<Course>>();\n  const [loading, setLoading] = useState(true);\n  const { fetchCourses } = useContext(EscolaLMSContext);\n\n  const fetchCoursesData = async (params: CourseParams) => {\n    setLoading(true);\n    try {\n      const request = await fetchCourses(params);\n      if (request) {\n        setCourses(request as PaginatedMetaList<Course>);\n      }\n    } catch (e) {\n      console.error(e);\n      setCourses(undefined);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    params && !noAutoFech && fetchCoursesData(params);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchCourses]);\n\n  return { courses, loading, fetchCoursesData };\n};\n\nexport default useFetchCourses;\n"],"names":["useFetchCourses","params","noAutoFech","courses","setCourses","useState","loading","setLoading","fetchCourses","useContext","EscolaLMSContext","fetchCoursesData","request","e","useEffect"],"mappings":"+CAQM,MAAAA,EAAkB,CAACC,EAAuBC,IAAyB,CACvE,KAAM,CAACC,EAASC,CAAU,EAAIC,WAAoC,EAC5D,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAAE,aAAAG,CAAA,EAAiBC,EAAA,WAAWC,kBAAgB,EAE9CC,EAAmB,MAAOV,GAAyB,CACvDM,EAAW,EAAI,EACX,GAAA,CACI,MAAAK,EAAU,MAAMJ,EAAaP,CAAM,EACrCW,GACFR,EAAWQ,CAAoC,QAE1CC,EAAG,CACV,QAAQ,MAAMA,CAAC,EACfT,EAAW,MAAS,CAAA,QACpB,CACAG,EAAW,EAAK,CAAA,CAEpB,EAEAO,OAAAA,EAAAA,UAAU,IAAM,CACJb,GAAA,CAACC,GAAcS,EAAiBV,CAAM,CAAA,EAE/C,CAACO,CAAY,CAAC,EAEV,CAAE,QAAAL,EAAS,QAAAG,EAAS,iBAAAK,CAAiB,CAC9C"}