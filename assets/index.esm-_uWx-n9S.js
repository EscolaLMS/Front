const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/YouTube-DU172sjZ.js","assets/index-DSBuD5SX.js","assets/index-BpyvSpzf.css","assets/SoundCloud-DpMldcwu.js","assets/Vimeo-DPxnyp2E.js","assets/Mux-DF-jATHQ.js","assets/Facebook-C6NNi4T0.js","assets/Streamable-ByOylrB1.js","assets/Wistia-D1g0gkv8.js","assets/Twitch-0BajuA7a.js","assets/DailyMotion-Dk6lwO8s.js","assets/Mixcloud-CWThziL5.js","assets/Vidyard-DyhEvtt0.js","assets/Kaltura-scDbhP3J.js","assets/FilePlayer-DVrcYovj.js","assets/Preview-DZ9stueZ.js"])))=>i.map(i=>d[i]);
var Lr=Object.defineProperty;var tr=e=>{throw TypeError(e)};var kr=(e,i,o)=>i in e?Lr(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o;var Lt=(e,i,o)=>kr(e,typeof i!="symbol"?i+"":i,o),bn=(e,i,o)=>i.has(e)||tr("Cannot "+o);var ge=(e,i,o)=>(bn(e,i,"read from private field"),o?o.call(e):i.get(e)),Qe=(e,i,o)=>i.has(e)?tr("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,o),Ze=(e,i,o,a)=>(bn(e,i,"write to private field"),a?a.call(e,o):i.set(e,o),o),We=(e,i,o)=>(bn(e,i,"access private method"),o);var Kt=(e,i,o,a)=>({set _(c){Ze(e,i,c,o)},get _(){return ge(e,i,a)}});import{e as commonjsGlobal,bh as api,N as react$1,bD as require$$5,r as reactExports,a7 as require$$6$1,a4 as requireLib,j as jsxRuntimeExports,aN as __vitePreload,d as getAugmentedNamespace,bE as propTypesExports,bF as require$$5$1,a as reactDomExports,a5 as require$$3,bG as require$$9,bH as clsx,bI as tinyInvariant,a8 as utils$3,bJ as require$$2$2,s as ResponsiveImage,bK as requireContext,bg as provider,S as Spin,bx as require$$0$1,by as utils$4,bL as require$$2$3,a6 as chromaExports,ab as require$$1$1,b as React}from"./index-DSBuD5SX.js";var lib$3={},__createBinding$l=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$l=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$l=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$l(i,e,o);return __setModuleDefault$l(i,e),i};Object.defineProperty(lib$3,"__esModule",{value:!0});lib$3.react=API_1=lib$3.API=void 0;var API=__importStar$l(api),API_1=lib$3.API=API,react=__importStar$l(react$1);lib$3.react=react;var OEmbedPlayer={},lib$2={exports:{}},concatMap,hasRequiredConcatMap;function requireConcatMap(){if(hasRequiredConcatMap)return concatMap;hasRequiredConcatMap=1,concatMap=function(i,o){for(var a=[],c=0;c<i.length;c++){var h=o(i[c],c);e(h)?a.push.apply(a,h):a.push(h)}return a};var e=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};return concatMap}var balancedMatch,hasRequiredBalancedMatch;function requireBalancedMatch(){if(hasRequiredBalancedMatch)return balancedMatch;hasRequiredBalancedMatch=1,balancedMatch=e;function e(a,c,h){a instanceof RegExp&&(a=i(a,h)),c instanceof RegExp&&(c=i(c,h));var d=o(a,c,h);return d&&{start:d[0],end:d[1],pre:h.slice(0,d[0]),body:h.slice(d[0]+a.length,d[1]),post:h.slice(d[1]+c.length)}}function i(a,c){var h=c.match(a);return h?h[0]:null}e.range=o;function o(a,c,h){var d,f,re,_,$,_e=h.indexOf(a),ve=h.indexOf(c,_e+1),te=_e;if(_e>=0&&ve>0){if(a===c)return[_e,ve];for(d=[],re=h.length;te>=0&&!$;)te==_e?(d.push(te),_e=h.indexOf(a,te+1)):d.length==1?$=[d.pop(),ve]:(f=d.pop(),f<re&&(re=f,_=ve),ve=h.indexOf(c,te+1)),te=_e<ve&&_e>=0?_e:ve;d.length&&($=[re,_])}return $}return balancedMatch}var braceExpansion,hasRequiredBraceExpansion;function requireBraceExpansion(){if(hasRequiredBraceExpansion)return braceExpansion;hasRequiredBraceExpansion=1;var e=requireConcatMap(),i=requireBalancedMatch();braceExpansion=_e;var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",d="\0PERIOD"+Math.random()+"\0";function f(g){return parseInt(g,10)==g?parseInt(g,10):g.charCodeAt(0)}function re(g){return g.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(c).split("\\,").join(h).split("\\.").join(d)}function _(g){return g.split(o).join("\\").split(a).join("{").split(c).join("}").split(h).join(",").split(d).join(".")}function $(g){if(!g)return[""];var ne=[],se=i("{","}",g);if(!se)return g.split(",");var q=se.pre,ee=se.body,he=se.post,oe=q.split(",");oe[oe.length-1]+="{"+ee+"}";var le=$(he);return he.length&&(oe[oe.length-1]+=le.shift(),oe.push.apply(oe,le)),ne.push.apply(ne,oe),ne}function _e(g){return g?(g.substr(0,2)==="{}"&&(g="\\{\\}"+g.substr(2)),j(re(g),!0).map(_)):[]}function ve(g){return"{"+g+"}"}function te(g){return/^-?0\d/.test(g)}function b(g,ne){return g<=ne}function me(g,ne){return g>=ne}function j(g,ne){var se=[],q=i("{","}",g);if(!q||/\$$/.test(q.pre))return[g];var ee=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(q.body),he=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(q.body),oe=ee||he,le=q.body.indexOf(",")>=0;if(!oe&&!le)return q.post.match(/,.*\}/)?(g=q.pre+"{"+q.body+c+q.post,j(g)):[g];var ie;if(oe)ie=q.body.split(/\.\./);else if(ie=$(q.body),ie.length===1&&(ie=j(ie[0],!1).map(ve),ie.length===1)){var ae=q.post.length?j(q.post,!1):[""];return ae.map(function(Se){return q.pre+ie[0]+Se})}var Ae=q.pre,ae=q.post.length?j(q.post,!1):[""],ye;if(oe){var Pe=f(ie[0]),Ie=f(ie[1]),Re=Math.max(ie[0].length,ie[1].length),Ne=ie.length==3?Math.abs(f(ie[2])):1,Ce=b,Fe=Ie<Pe;Fe&&(Ne*=-1,Ce=me);var we=ie.some(te);ye=[];for(var xe=Pe;Ce(xe,Ie);xe+=Ne){var fe;if(he)fe=String.fromCharCode(xe),fe==="\\"&&(fe="");else if(fe=String(xe),we){var Ee=Re-fe.length;if(Ee>0){var ce=new Array(Ee+1).join("0");xe<0?fe="-"+ce+fe.slice(1):fe=ce+fe}}ye.push(fe)}}else ye=e(ie,function(m){return j(m,!1)});for(var de=0;de<ye.length;de++)for(var be=0;be<ae.length;be++){var ue=Ae+ye[de]+ae[be];(!ne||oe||ue)&&se.push(ue)}return se}return braceExpansion}var minimatch_1,hasRequiredMinimatch;function requireMinimatch(){if(hasRequiredMinimatch)return minimatch_1;hasRequiredMinimatch=1,minimatch_1=te,te.Minimatch=b;var e=function(){try{return require$$5}catch{}}()||{sep:"/"};te.sep=e.sep;var i=te.GLOBSTAR=b.GLOBSTAR={},o=requireBraceExpansion(),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",h=c+"*?",d="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",f="(?:(?!(?:\\/|^)\\.).)*?",re=_("().*{}+?[]^$\\!");function _(ie){return ie.split("").reduce(function(Ae,ae){return Ae[ae]=!0,Ae},{})}var $=/\/+/;te.filter=_e;function _e(ie,Ae){return Ae=Ae||{},function(ae,ye,Pe){return te(ae,ie,Ae)}}function ve(ie,Ae){Ae=Ae||{};var ae={};return Object.keys(ie).forEach(function(ye){ae[ye]=ie[ye]}),Object.keys(Ae).forEach(function(ye){ae[ye]=Ae[ye]}),ae}te.defaults=function(ie){if(!ie||typeof ie!="object"||!Object.keys(ie).length)return te;var Ae=te,ae=function(Pe,Ie,Re){return Ae(Pe,Ie,ve(ie,Re))};return ae.Minimatch=function(Pe,Ie){return new Ae.Minimatch(Pe,ve(ie,Ie))},ae.Minimatch.defaults=function(Pe){return Ae.defaults(ve(ie,Pe)).Minimatch},ae.filter=function(Pe,Ie){return Ae.filter(Pe,ve(ie,Ie))},ae.defaults=function(Pe){return Ae.defaults(ve(ie,Pe))},ae.makeRe=function(Pe,Ie){return Ae.makeRe(Pe,ve(ie,Ie))},ae.braceExpand=function(Pe,Ie){return Ae.braceExpand(Pe,ve(ie,Ie))},ae.match=function(ye,Pe,Ie){return Ae.match(ye,Pe,ve(ie,Ie))},ae},b.defaults=function(ie){return te.defaults(ie).Minimatch};function te(ie,Ae,ae){return se(Ae),ae||(ae={}),!ae.nocomment&&Ae.charAt(0)==="#"?!1:new b(Ae,ae).match(ie)}function b(ie,Ae){if(!(this instanceof b))return new b(ie,Ae);se(ie),Ae||(Ae={}),ie=ie.trim(),!Ae.allowWindowsEscape&&e.sep!=="/"&&(ie=ie.split(e.sep).join("/")),this.options=Ae,this.set=[],this.pattern=ie,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!Ae.partial,this.make()}b.prototype.debug=function(){},b.prototype.make=me;function me(){var ie=this.pattern,Ae=this.options;if(!Ae.nocomment&&ie.charAt(0)==="#"){this.comment=!0;return}if(!ie){this.empty=!0;return}this.parseNegate();var ae=this.globSet=this.braceExpand();Ae.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,ae),ae=this.globParts=ae.map(function(ye){return ye.split($)}),this.debug(this.pattern,ae),ae=ae.map(function(ye,Pe,Ie){return ye.map(this.parse,this)},this),this.debug(this.pattern,ae),ae=ae.filter(function(ye){return ye.indexOf(!1)===-1}),this.debug(this.pattern,ae),this.set=ae}b.prototype.parseNegate=j;function j(){var ie=this.pattern,Ae=!1,ae=this.options,ye=0;if(!ae.nonegate){for(var Pe=0,Ie=ie.length;Pe<Ie&&ie.charAt(Pe)==="!";Pe++)Ae=!Ae,ye++;ye&&(this.pattern=ie.substr(ye)),this.negate=Ae}}te.braceExpand=function(ie,Ae){return g(ie,Ae)},b.prototype.braceExpand=g;function g(ie,Ae){return Ae||(this instanceof b?Ae=this.options:Ae={}),ie=typeof ie>"u"?this.pattern:ie,se(ie),Ae.nobrace||!/\{(?:(?!\{).)*\}/.test(ie)?[ie]:o(ie)}var ne=1024*64,se=function(ie){if(typeof ie!="string")throw new TypeError("invalid pattern");if(ie.length>ne)throw new TypeError("pattern is too long")};b.prototype.parse=ee;var q={};function ee(ie,Ae){se(ie);var ae=this.options;if(ie==="**")if(ae.noglobstar)ie="*";else return i;if(ie==="")return"";var ye="",Pe=!!ae.nocase,Ie=!1,Re=[],Ne=[],Ce,Fe=!1,we=-1,xe=-1,fe=ie.charAt(0)==="."?"":ae.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",Ee=this;function ce(){if(Ce){switch(Ce){case"*":ye+=h,Pe=!0;break;case"?":ye+=c,Pe=!0;break;default:ye+="\\"+Ce;break}Ee.debug("clearStateChar %j %j",Ce,ye),Ce=!1}}for(var de=0,be=ie.length,ue;de<be&&(ue=ie.charAt(de));de++){if(this.debug("%s	%s %s %j",ie,de,ye,ue),Ie&&re[ue]){ye+="\\"+ue,Ie=!1;continue}switch(ue){case"/":return!1;case"\\":ce(),Ie=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",ie,de,ye,ue),Fe){this.debug("  in class"),ue==="!"&&de===xe+1&&(ue="^"),ye+=ue;continue}Ee.debug("call clearStateChar %j",Ce),ce(),Ce=ue,ae.noext&&ce();continue;case"(":if(Fe){ye+="(";continue}if(!Ce){ye+="\\(";continue}Re.push({type:Ce,start:de-1,reStart:ye.length,open:a[Ce].open,close:a[Ce].close}),ye+=Ce==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",Ce,ye),Ce=!1;continue;case")":if(Fe||!Re.length){ye+="\\)";continue}ce(),Pe=!0;var m=Re.pop();ye+=m.close,m.type==="!"&&Ne.push(m),m.reEnd=ye.length;continue;case"|":if(Fe||!Re.length||Ie){ye+="\\|",Ie=!1;continue}ce(),ye+="|";continue;case"[":if(ce(),Fe){ye+="\\"+ue;continue}Fe=!0,xe=de,we=ye.length,ye+=ue;continue;case"]":if(de===xe+1||!Fe){ye+="\\"+ue,Ie=!1;continue}var Se=ie.substring(xe+1,de);try{RegExp("["+Se+"]")}catch{var Te=this.parse(Se,q);ye=ye.substr(0,we)+"\\["+Te[0]+"\\]",Pe=Pe||Te[1],Fe=!1;continue}Pe=!0,Fe=!1,ye+=ue;continue;default:ce(),Ie?Ie=!1:re[ue]&&!(ue==="^"&&Fe)&&(ye+="\\"),ye+=ue}}for(Fe&&(Se=ie.substr(xe+1),Te=this.parse(Se,q),ye=ye.substr(0,we)+"\\["+Te[0],Pe=Pe||Te[1]),m=Re.pop();m;m=Re.pop()){var Me=ye.slice(m.reStart+m.open.length);this.debug("setting tail",ye,m),Me=Me.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Be,ct,dt){return dt||(dt="\\"),ct+ct+dt+"|"}),this.debug(`tail=%j
   %s`,Me,Me,m,ye);var Le=m.type==="*"?h:m.type==="?"?c:"\\"+m.type;Pe=!0,ye=ye.slice(0,m.reStart)+Le+"\\("+Me}ce(),Ie&&(ye+="\\\\");var Ue=!1;switch(ye.charAt(0)){case"[":case".":case"(":Ue=!0}for(var Xe=Ne.length-1;Xe>-1;Xe--){var Ve=Ne[Xe],Ke=ye.slice(0,Ve.reStart),ze=ye.slice(Ve.reStart,Ve.reEnd-8),Ge=ye.slice(Ve.reEnd-8,Ve.reEnd),Oe=ye.slice(Ve.reEnd);Ge+=Oe;var $e=Ke.split("(").length-1,He=Oe;for(de=0;de<$e;de++)He=He.replace(/\)[+*?]?/,"");Oe=He;var Ye="";Oe===""&&Ae!==q&&(Ye="$");var nt=Ke+ze+Oe+Ye+Ge;ye=nt}if(ye!==""&&Pe&&(ye="(?=.)"+ye),Ue&&(ye=fe+ye),Ae===q)return[ye,Pe];if(!Pe)return oe(ie);var ot=ae.nocase?"i":"";try{var st=new RegExp("^"+ye+"$",ot)}catch{return new RegExp("$.")}return st._glob=ie,st._src=ye,st}te.makeRe=function(ie,Ae){return new b(ie,Ae||{}).makeRe()},b.prototype.makeRe=he;function he(){if(this.regexp||this.regexp===!1)return this.regexp;var ie=this.set;if(!ie.length)return this.regexp=!1,this.regexp;var Ae=this.options,ae=Ae.noglobstar?h:Ae.dot?d:f,ye=Ae.nocase?"i":"",Pe=ie.map(function(Ie){return Ie.map(function(Re){return Re===i?ae:typeof Re=="string"?le(Re):Re._src}).join("\\/")}).join("|");Pe="^(?:"+Pe+")$",this.negate&&(Pe="^(?!"+Pe+").*$");try{this.regexp=new RegExp(Pe,ye)}catch{this.regexp=!1}return this.regexp}te.match=function(ie,Ae,ae){ae=ae||{};var ye=new b(Ae,ae);return ie=ie.filter(function(Pe){return ye.match(Pe)}),ye.options.nonull&&!ie.length&&ie.push(Ae),ie},b.prototype.match=function(Ae,ae){if(typeof ae>"u"&&(ae=this.partial),this.debug("match",Ae,this.pattern),this.comment)return!1;if(this.empty)return Ae==="";if(Ae==="/"&&ae)return!0;var ye=this.options;e.sep!=="/"&&(Ae=Ae.split(e.sep).join("/")),Ae=Ae.split($),this.debug(this.pattern,"split",Ae);var Pe=this.set;this.debug(this.pattern,"set",Pe);var Ie,Re;for(Re=Ae.length-1;Re>=0&&(Ie=Ae[Re],!Ie);Re--);for(Re=0;Re<Pe.length;Re++){var Ne=Pe[Re],Ce=Ae;ye.matchBase&&Ne.length===1&&(Ce=[Ie]);var Fe=this.matchOne(Ce,Ne,ae);if(Fe)return ye.flipNegate?!0:!this.negate}return ye.flipNegate?!1:this.negate},b.prototype.matchOne=function(ie,Ae,ae){var ye=this.options;this.debug("matchOne",{this:this,file:ie,pattern:Ae}),this.debug("matchOne",ie.length,Ae.length);for(var Pe=0,Ie=0,Re=ie.length,Ne=Ae.length;Pe<Re&&Ie<Ne;Pe++,Ie++){this.debug("matchOne loop");var Ce=Ae[Ie],Fe=ie[Pe];if(this.debug(Ae,Ce,Fe),Ce===!1)return!1;if(Ce===i){this.debug("GLOBSTAR",[Ae,Ce,Fe]);var we=Pe,xe=Ie+1;if(xe===Ne){for(this.debug("** at the end");Pe<Re;Pe++)if(ie[Pe]==="."||ie[Pe]===".."||!ye.dot&&ie[Pe].charAt(0)===".")return!1;return!0}for(;we<Re;){var fe=ie[we];if(this.debug(`
globstar while`,ie,we,Ae,xe,fe),this.matchOne(ie.slice(we),Ae.slice(xe),ae))return this.debug("globstar found match!",we,Re,fe),!0;if(fe==="."||fe===".."||!ye.dot&&fe.charAt(0)==="."){this.debug("dot detected!",ie,we,Ae,xe);break}this.debug("globstar swallow a segment, and continue"),we++}return!!(ae&&(this.debug(`
>>> no match, partial?`,ie,we,Ae,xe),we===Re))}var Ee;if(typeof Ce=="string"?(Ee=Fe===Ce,this.debug("string match",Ce,Fe,Ee)):(Ee=Fe.match(Ce),this.debug("pattern match",Ce,Fe,Ee)),!Ee)return!1}if(Pe===Re&&Ie===Ne)return!0;if(Pe===Re)return ae;if(Ie===Ne)return Pe===Re-1&&ie[Pe]==="";throw new Error("wtf?")};function oe(ie){return ie.replace(/\\(.)/g,"$1")}function le(ie){return ie.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}return minimatch_1}var axios$1={exports:{}},bind,hasRequiredBind;function requireBind(){return hasRequiredBind||(hasRequiredBind=1,bind=function(i,o){return function(){for(var c=new Array(arguments.length),h=0;h<c.length;h++)c[h]=arguments[h];return i.apply(o,c)}}),bind}var utils$2,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var e=requireBind(),i=Object.prototype.toString;function o(le){return i.call(le)==="[object Array]"}function a(le){return typeof le>"u"}function c(le){return le!==null&&!a(le)&&le.constructor!==null&&!a(le.constructor)&&typeof le.constructor.isBuffer=="function"&&le.constructor.isBuffer(le)}function h(le){return i.call(le)==="[object ArrayBuffer]"}function d(le){return typeof FormData<"u"&&le instanceof FormData}function f(le){var ie;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ie=ArrayBuffer.isView(le):ie=le&&le.buffer&&le.buffer instanceof ArrayBuffer,ie}function re(le){return typeof le=="string"}function _(le){return typeof le=="number"}function $(le){return le!==null&&typeof le=="object"}function _e(le){if(i.call(le)!=="[object Object]")return!1;var ie=Object.getPrototypeOf(le);return ie===null||ie===Object.prototype}function ve(le){return i.call(le)==="[object Date]"}function te(le){return i.call(le)==="[object File]"}function b(le){return i.call(le)==="[object Blob]"}function me(le){return i.call(le)==="[object Function]"}function j(le){return $(le)&&me(le.pipe)}function g(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}function ne(le){return le.trim?le.trim():le.replace(/^\s+|\s+$/g,"")}function se(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function q(le,ie){if(!(le===null||typeof le>"u"))if(typeof le!="object"&&(le=[le]),o(le))for(var Ae=0,ae=le.length;Ae<ae;Ae++)ie.call(null,le[Ae],Ae,le);else for(var ye in le)Object.prototype.hasOwnProperty.call(le,ye)&&ie.call(null,le[ye],ye,le)}function ee(){var le={};function ie(ye,Pe){_e(le[Pe])&&_e(ye)?le[Pe]=ee(le[Pe],ye):_e(ye)?le[Pe]=ee({},ye):o(ye)?le[Pe]=ye.slice():le[Pe]=ye}for(var Ae=0,ae=arguments.length;Ae<ae;Ae++)q(arguments[Ae],ie);return le}function he(le,ie,Ae){return q(ie,function(ye,Pe){Ae&&typeof ye=="function"?le[Pe]=e(ye,Ae):le[Pe]=ye}),le}function oe(le){return le.charCodeAt(0)===65279&&(le=le.slice(1)),le}return utils$2={isArray:o,isArrayBuffer:h,isBuffer:c,isFormData:d,isArrayBufferView:f,isString:re,isNumber:_,isObject:$,isPlainObject:_e,isUndefined:a,isDate:ve,isFile:te,isBlob:b,isFunction:me,isStream:j,isURLSearchParams:g,isStandardBrowserEnv:se,forEach:q,merge:ee,extend:he,trim:ne,stripBOM:oe},utils$2}var buildURL,hasRequiredBuildURL;function requireBuildURL(){if(hasRequiredBuildURL)return buildURL;hasRequiredBuildURL=1;var e=requireUtils();function i(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return buildURL=function(a,c,h){if(!c)return a;var d;if(h)d=h(c);else if(e.isURLSearchParams(c))d=c.toString();else{var f=[];e.forEach(c,function($,_e){$===null||typeof $>"u"||(e.isArray($)?_e=_e+"[]":$=[$],e.forEach($,function(te){e.isDate(te)?te=te.toISOString():e.isObject(te)&&(te=JSON.stringify(te)),f.push(i(_e)+"="+i(te))}))}),d=f.join("&")}if(d){var re=a.indexOf("#");re!==-1&&(a=a.slice(0,re)),a+=(a.indexOf("?")===-1?"?":"&")+d}return a},buildURL}var InterceptorManager_1,hasRequiredInterceptorManager;function requireInterceptorManager(){if(hasRequiredInterceptorManager)return InterceptorManager_1;hasRequiredInterceptorManager=1;var e=requireUtils();function i(){this.handlers=[]}return i.prototype.use=function(a,c,h){return this.handlers.push({fulfilled:a,rejected:c,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)},i.prototype.forEach=function(a){e.forEach(this.handlers,function(h){h!==null&&a(h)})},InterceptorManager_1=i,InterceptorManager_1}var normalizeHeaderName,hasRequiredNormalizeHeaderName;function requireNormalizeHeaderName(){if(hasRequiredNormalizeHeaderName)return normalizeHeaderName;hasRequiredNormalizeHeaderName=1;var e=requireUtils();return normalizeHeaderName=function(o,a){e.forEach(o,function(h,d){d!==a&&d.toUpperCase()===a.toUpperCase()&&(o[a]=h,delete o[d])})},normalizeHeaderName}var enhanceError,hasRequiredEnhanceError;function requireEnhanceError(){return hasRequiredEnhanceError||(hasRequiredEnhanceError=1,enhanceError=function(i,o,a,c,h){return i.config=o,a&&(i.code=a),i.request=c,i.response=h,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}),enhanceError}var createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=requireEnhanceError();return createError=function(o,a,c,h,d){var f=new Error(o);return e(f,a,c,h,d)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(o,a,c){var h=c.config.validateStatus;!c.status||!h||h(c.status)?o(c):a(e("Request failed with status code "+c.status,c.config,null,c.request,c))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=requireUtils();return cookies=e.isStandardBrowserEnv()?function(){return{write:function(a,c,h,d,f,re){var _=[];_.push(a+"="+encodeURIComponent(c)),e.isNumber(h)&&_.push("expires="+new Date(h).toGMTString()),e.isString(d)&&_.push("path="+d),e.isString(f)&&_.push("domain="+f),re===!0&&_.push("secure"),document.cookie=_.join("; ")},read:function(a){var c=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(i,o){return o?i.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):i}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),i=requireCombineURLs();return buildFullPath=function(a,c){return a&&!e(c)?i(a,c):c},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=requireUtils(),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(a){var c={},h,d,f;return a&&e.forEach(a.split(`
`),function(_){if(f=_.indexOf(":"),h=e.trim(_.substr(0,f)).toLowerCase(),d=e.trim(_.substr(f+1)),h){if(c[h]&&i.indexOf(h)>=0)return;h==="set-cookie"?c[h]=(c[h]?c[h]:[]).concat([d]):c[h]=c[h]?c[h]+", "+d:d}}),c},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=requireUtils();return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),c;function h(d){var f=d;return o&&(a.setAttribute("href",f),f=a.href),a.setAttribute("href",f),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return c=h(window.location.href),function(f){var re=e.isString(f)?h(f):f;return re.protocol===c.protocol&&re.host===c.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=requireUtils(),i=requireSettle(),o=requireCookies(),a=requireBuildURL(),c=requireBuildFullPath(),h=requireParseHeaders(),d=requireIsURLSameOrigin(),f=requireCreateError();return xhr=function(_){return new Promise(function(_e,ve){var te=_.data,b=_.headers,me=_.responseType;e.isFormData(te)&&delete b["Content-Type"];var j=new XMLHttpRequest;if(_.auth){var g=_.auth.username||"",ne=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";b.Authorization="Basic "+btoa(g+":"+ne)}var se=c(_.baseURL,_.url);j.open(_.method.toUpperCase(),a(se,_.params,_.paramsSerializer),!0),j.timeout=_.timeout;function q(){if(j){var he="getAllResponseHeaders"in j?h(j.getAllResponseHeaders()):null,oe=!me||me==="text"||me==="json"?j.responseText:j.response,le={data:oe,status:j.status,statusText:j.statusText,headers:he,config:_,request:j};i(_e,ve,le),j=null}}if("onloadend"in j?j.onloadend=q:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(q)},j.onabort=function(){j&&(ve(f("Request aborted",_,"ECONNABORTED",j)),j=null)},j.onerror=function(){ve(f("Network Error",_,null,j)),j=null},j.ontimeout=function(){var oe="timeout of "+_.timeout+"ms exceeded";_.timeoutErrorMessage&&(oe=_.timeoutErrorMessage),ve(f(oe,_,_.transitional&&_.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",j)),j=null},e.isStandardBrowserEnv()){var ee=(_.withCredentials||d(se))&&_.xsrfCookieName?o.read(_.xsrfCookieName):void 0;ee&&(b[_.xsrfHeaderName]=ee)}"setRequestHeader"in j&&e.forEach(b,function(oe,le){typeof te>"u"&&le.toLowerCase()==="content-type"?delete b[le]:j.setRequestHeader(le,oe)}),e.isUndefined(_.withCredentials)||(j.withCredentials=!!_.withCredentials),me&&me!=="json"&&(j.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&j.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",_.onUploadProgress),_.cancelToken&&_.cancelToken.promise.then(function(oe){j&&(j.abort(),ve(oe),j=null)}),te||(te=null),j.send(te)})},xhr}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=requireUtils(),i=requireNormalizeHeaderName(),o=requireEnhanceError(),a={"Content-Type":"application/x-www-form-urlencoded"};function c(re,_){!e.isUndefined(re)&&e.isUndefined(re["Content-Type"])&&(re["Content-Type"]=_)}function h(){var re;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(re=requireXhr()),re}function d(re,_,$){if(e.isString(re))try{return(_||JSON.parse)(re),e.trim(re)}catch(_e){if(_e.name!=="SyntaxError")throw _e}return(0,JSON.stringify)(re)}var f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:h(),transformRequest:[function(_,$){return i($,"Accept"),i($,"Content-Type"),e.isFormData(_)||e.isArrayBuffer(_)||e.isBuffer(_)||e.isStream(_)||e.isFile(_)||e.isBlob(_)?_:e.isArrayBufferView(_)?_.buffer:e.isURLSearchParams(_)?(c($,"application/x-www-form-urlencoded;charset=utf-8"),_.toString()):e.isObject(_)||$&&$["Content-Type"]==="application/json"?(c($,"application/json"),d(_)):_}],transformResponse:[function(_){var $=this.transitional,_e=$&&$.silentJSONParsing,ve=$&&$.forcedJSONParsing,te=!_e&&this.responseType==="json";if(te||ve&&e.isString(_)&&_.length)try{return JSON.parse(_)}catch(b){if(te)throw b.name==="SyntaxError"?o(b,this,"E_JSON_PARSE"):b}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(_){return _>=200&&_<300}};return f.headers={common:{Accept:"application/json, text/plain, */*"}},e.forEach(["delete","get","head"],function(_){f.headers[_]={}}),e.forEach(["post","put","patch"],function(_){f.headers[_]=e.merge(a)}),defaults_1=f,defaults_1}var transformData,hasRequiredTransformData;function requireTransformData(){if(hasRequiredTransformData)return transformData;hasRequiredTransformData=1;var e=requireUtils(),i=requireDefaults();return transformData=function(a,c,h){var d=this||i;return e.forEach(h,function(re){a=re.call(d,a,c)}),a},transformData}var isCancel,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel=function(i){return!!(i&&i.__CANCEL__)}),isCancel}var dispatchRequest,hasRequiredDispatchRequest;function requireDispatchRequest(){if(hasRequiredDispatchRequest)return dispatchRequest;hasRequiredDispatchRequest=1;var e=requireUtils(),i=requireTransformData(),o=requireIsCancel(),a=requireDefaults();function c(h){h.cancelToken&&h.cancelToken.throwIfRequested()}return dispatchRequest=function(d){c(d),d.headers=d.headers||{},d.data=i.call(d,d.data,d.headers,d.transformRequest),d.headers=e.merge(d.headers.common||{},d.headers[d.method]||{},d.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(_){delete d.headers[_]});var f=d.adapter||a.adapter;return f(d).then(function(_){return c(d),_.data=i.call(d,_.data,_.headers,d.transformResponse),_},function(_){return o(_)||(c(d),_&&_.response&&(_.response.data=i.call(d,_.response.data,_.response.headers,d.transformResponse))),Promise.reject(_)})},dispatchRequest}var mergeConfig,hasRequiredMergeConfig;function requireMergeConfig(){if(hasRequiredMergeConfig)return mergeConfig;hasRequiredMergeConfig=1;var e=requireUtils();return mergeConfig=function(o,a){a=a||{};var c={},h=["url","method","data"],d=["headers","auth","proxy","params"],f=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],re=["validateStatus"];function _(te,b){return e.isPlainObject(te)&&e.isPlainObject(b)?e.merge(te,b):e.isPlainObject(b)?e.merge({},b):e.isArray(b)?b.slice():b}function $(te){e.isUndefined(a[te])?e.isUndefined(o[te])||(c[te]=_(void 0,o[te])):c[te]=_(o[te],a[te])}e.forEach(h,function(b){e.isUndefined(a[b])||(c[b]=_(void 0,a[b]))}),e.forEach(d,$),e.forEach(f,function(b){e.isUndefined(a[b])?e.isUndefined(o[b])||(c[b]=_(void 0,o[b])):c[b]=_(void 0,a[b])}),e.forEach(re,function(b){b in a?c[b]=_(o[b],a[b]):b in o&&(c[b]=_(void 0,o[b]))});var _e=h.concat(d).concat(f).concat(re),ve=Object.keys(o).concat(Object.keys(a)).filter(function(b){return _e.indexOf(b)===-1});return e.forEach(ve,$),c},mergeConfig}const name="axios",version="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}],require$$0={name,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize};var validator,hasRequiredValidator;function requireValidator(){if(hasRequiredValidator)return validator;hasRequiredValidator=1;var e=require$$0,i={};["object","boolean","number","function","string","symbol"].forEach(function(d,f){i[d]=function(_){return typeof _===d||"a"+(f<1?"n ":" ")+d}});var o={},a=e.version.split(".");function c(d,f){for(var re=f?f.split("."):a,_=d.split("."),$=0;$<3;$++){if(re[$]>_[$])return!0;if(re[$]<_[$])return!1}return!1}i.transitional=function(f,re,_){var $=re&&c(re);function _e(ve,te){return"[Axios v"+e.version+"] Transitional option '"+ve+"'"+te+(_?". "+_:"")}return function(ve,te,b){if(f===!1)throw new Error(_e(te," has been removed in "+re));return $&&!o[te]&&(o[te]=!0,console.warn(_e(te," has been deprecated since v"+re+" and will be removed in the near future"))),f?f(ve,te,b):!0}};function h(d,f,re){if(typeof d!="object")throw new TypeError("options must be an object");for(var _=Object.keys(d),$=_.length;$-- >0;){var _e=_[$],ve=f[_e];if(ve){var te=d[_e],b=te===void 0||ve(te,_e,d);if(b!==!0)throw new TypeError("option "+_e+" must be "+b);continue}if(re!==!0)throw Error("Unknown option "+_e)}}return validator={isOlderVersion:c,assertOptions:h,validators:i},validator}var Axios_1,hasRequiredAxios$2;function requireAxios$2(){if(hasRequiredAxios$2)return Axios_1;hasRequiredAxios$2=1;var e=requireUtils(),i=requireBuildURL(),o=requireInterceptorManager(),a=requireDispatchRequest(),c=requireMergeConfig(),h=requireValidator(),d=h.validators;function f(re){this.defaults=re,this.interceptors={request:new o,response:new o}}return f.prototype.request=function(_){typeof _=="string"?(_=arguments[1]||{},_.url=arguments[0]):_=_||{},_=c(this.defaults,_),_.method?_.method=_.method.toLowerCase():this.defaults.method?_.method=this.defaults.method.toLowerCase():_.method="get";var $=_.transitional;$!==void 0&&h.assertOptions($,{silentJSONParsing:d.transitional(d.boolean,"1.0.0"),forcedJSONParsing:d.transitional(d.boolean,"1.0.0"),clarifyTimeoutError:d.transitional(d.boolean,"1.0.0")},!1);var _e=[],ve=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(_)===!1||(ve=ve&&q.synchronous,_e.unshift(q.fulfilled,q.rejected))});var te=[];this.interceptors.response.forEach(function(q){te.push(q.fulfilled,q.rejected)});var b;if(!ve){var me=[a,void 0];for(Array.prototype.unshift.apply(me,_e),me=me.concat(te),b=Promise.resolve(_);me.length;)b=b.then(me.shift(),me.shift());return b}for(var j=_;_e.length;){var g=_e.shift(),ne=_e.shift();try{j=g(j)}catch(se){ne(se);break}}try{b=a(j)}catch(se){return Promise.reject(se)}for(;te.length;)b=b.then(te.shift(),te.shift());return b},f.prototype.getUri=function(_){return _=c(this.defaults,_),i(_.url,_.params,_.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(_){f.prototype[_]=function($,_e){return this.request(c(_e||{},{method:_,url:$,data:(_e||{}).data}))}}),e.forEach(["post","put","patch"],function(_){f.prototype[_]=function($,_e,ve){return this.request(c(ve||{},{method:_,url:$,data:_e}))}}),Axios_1=f,Axios_1}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function e(i){this.message=i}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e,Cancel_1}var CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function i(o){if(typeof o!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(d){a=d});var c=this;o(function(d){c.reason||(c.reason=new e(d),a(c.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var a,c=new i(function(d){a=d});return{token:c,cancel:a}},CancelToken_1=i,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(i){return function(a){return i.apply(null,a)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){return hasRequiredIsAxiosError||(hasRequiredIsAxiosError=1,isAxiosError=function(i){return typeof i=="object"&&i.isAxiosError===!0}),isAxiosError}var hasRequiredAxios$1;function requireAxios$1(){if(hasRequiredAxios$1)return axios$1.exports;hasRequiredAxios$1=1;var e=requireUtils(),i=requireBind(),o=requireAxios$2(),a=requireMergeConfig(),c=requireDefaults();function h(f){var re=new o(f),_=i(o.prototype.request,re);return e.extend(_,o.prototype,re),e.extend(_,re),_}var d=h(c);return d.Axios=o,d.create=function(re){return h(a(d.defaults,re))},d.Cancel=requireCancel(),d.CancelToken=requireCancelToken(),d.isCancel=requireIsCancel(),d.all=function(re){return Promise.all(re)},d.spread=requireSpread(),d.isAxiosError=requireIsAxiosError(),axios$1.exports=d,axios$1.exports.default=d,axios$1.exports}var axios,hasRequiredAxios;function requireAxios(){return hasRequiredAxios||(hasRequiredAxios=1,axios=requireAxios$1()),axios}(function(e,i){(function(o,a){a(i,reactExports,requireMinimatch(),requireAxios())})(commonjsGlobal,function(o,a,c,h){function d(g){return g&&typeof g=="object"&&"default"in g?g:{default:g}}var f=d(a),re=d(c),_=d(h),$=function(){return($=Object.assign||function(g){for(var ne,se=1,q=arguments.length;se<q;se++)for(var ee in ne=arguments[se])Object.prototype.hasOwnProperty.call(ne,ee)&&(g[ee]=ne[ee]);return g}).apply(this,arguments)};function _e(g,ne,se,q){return new(se||(se=Promise))(function(ee,he){function oe(Ae){try{ie(q.next(Ae))}catch(ae){he(ae)}}function le(Ae){try{ie(q.throw(Ae))}catch(ae){he(ae)}}function ie(Ae){var ae;Ae.done?ee(Ae.value):(ae=Ae.value,ae instanceof se?ae:new se(function(ye){ye(ae)})).then(oe,le)}ie((q=q.apply(g,[])).next())})}function ve(g,ne){var se,q,ee,he,oe={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return he={next:le(0),throw:le(1),return:le(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function le(ie){return function(Ae){return function(ae){if(se)throw new TypeError("Generator is already executing.");for(;oe;)try{if(se=1,q&&(ee=2&ae[0]?q.return:ae[0]?q.throw||((ee=q.return)&&ee.call(q),0):q.next)&&!(ee=ee.call(q,ae[1])).done)return ee;switch(q=0,ee&&(ae=[2&ae[0],ee.value]),ae[0]){case 0:case 1:ee=ae;break;case 4:return oe.label++,{value:ae[1],done:!1};case 5:oe.label++,q=ae[1],ae=[0];continue;case 7:ae=oe.ops.pop(),oe.trys.pop();continue;default:if(ee=oe.trys,!((ee=ee.length>0&&ee[ee.length-1])||ae[0]!==6&&ae[0]!==2)){oe=0;continue}if(ae[0]===3&&(!ee||ae[1]>ee[0]&&ae[1]<ee[3])){oe.label=ae[1];break}if(ae[0]===6&&oe.label<ee[1]){oe.label=ee[1],ee=ae;break}if(ee&&oe.label<ee[2]){oe.label=ee[2],oe.ops.push(ae);break}ee[2]&&oe.ops.pop(),oe.trys.pop();continue}ae=ne.call(g,oe)}catch(ye){ae=[6,ye],q=0}finally{se=ee=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ie,Ae])}}}var te=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}];function b(g,ne,se){return _e(this,void 0,void 0,function(){var q,ee,he,oe,le,ie,Ae;return ve(this,function(ae){switch(ae.label){case 0:if(q=me(se.url,ne),ee=q.base_url,he=q.requestInterceptor,oe=q.responceInterceptor,le=q.getResponce,!ee)throw Error("Invalid url: cannot guess oembed endpoint");return ee==="OVERRIDE"?[2,le==null?void 0:le(se)]:(ie=function(ye,Pe){ye.endsWith("/")&&(ye=ye.slice(0,-1));var Ie=/\{format\}/gi;if(ye.match(Ie)&&(ye=ye.replace(Ie,"json")),!Pe)return ye;var Re=/\{url\}/gi,Ne=/\{raw_url\}/gi;return Pe.match(Ne)?Pe.replace(Ne,ye):Pe.match(Re)?(ye=encodeURIComponent(ye),Pe.replace(Re,ye)):(Pe.endsWith("/")&&(Pe=Pe.slice(0,-1)),Pe+"/"+ye)}(ee,g),Ae=_.default.create(),he&&Ae.interceptors.request.use(he),oe&&Ae.interceptors.response.use(oe),[4,Ae.get(ie,{params:se})]);case 1:return[2,ae.sent().data]}})})}function me(g,ne){var se,q,ee,he;return(ne=ne||te).forEach(function(oe){var le;oe.endpoints.forEach(function(ie){(function(Ae,ae){var ye=!!ae.find(function(Pe){return re.default(Ae,Pe,{nocase:!0})});return ye||!!ae.find(function(Pe){return re.default(Ae,Pe.replace(/\*/g,"**"),{nocase:!0})})})(g,ie.schemes)&&(le=ie)}),le&&(se=le.url,q=oe.requestInterceptor,ee=oe.responceInterceptor,he=oe.getResponce)}),{base_url:se,requestInterceptor:q,responceInterceptor:ee,getResponce:he}}function j(g,ne,se){var q=[];a.useEffect(function(){var ee=document.createElement("div");return ee.innerHTML=g,ee.querySelectorAll("script").forEach(function(he){var oe=document.createElement("script");Array.from(he.attributes).forEach(function(le){le.nodeName!=="id"&&oe.setAttribute(le.nodeName,le.nodeValue||"")}),oe.innerHTML=he.innerHTML,Object.entries(ne||{}).forEach(function(le){var ie=le[0],Ae=le[1];oe.setAttribute(ie,Ae)}),document.body.appendChild(oe),q=q.concat(oe)}),function(){q.forEach(function(he){document.body.removeChild(he)}),q=[]}},se||[g])}o.default=function(g){var ne=g.url,se=g.proxy,q=g.style,ee=g.options,he=g.providers,oe=g.ImgComponent,le=g.LinkComponent,ie=g.FallbackElement,Ae=g.LoadingFallbackElement,ae=a.useState(void 0),ye=ae[0],Pe=ae[1],Ie=a.useState("idle"),Re=Ie[0],Ne=Ie[1],Ce=a.useState(""),Fe=Ce[0],we=Ce[1];j(Fe,{defer:""}),a.useEffect(function(){Re==="idle"&&function(){_e(this,void 0,void 0,function(){var Ee,ce;return ve(this,function(de){switch(de.label){case 0:return de.trys.push([0,2,,3]),Ne("loading"),[4,b(se,he,$($({url:ne,maxwidth:700,maxheight:500,align:"center"},ee),{format:"json"}))];case 1:if(!(Ee=de.sent()))throw Error("Nill embed responce");return Ne("done"),Pe(Ee),Ee.html&&we(Ee.html),[3,3];case 2:return ce=de.sent(),console.error("Error",ce),Ne("error"),[3,3];case 3:return[2]}})})}()},[Re]);var xe,fe=f.default.createElement("a",{href:ne,target:"_blank",rel:"nofollow noreferrer noopener"},ne);return ye&&!ye.html&&(ye.type==="photo"?xe=oe?f.default.createElement(oe,{responce:ye}):f.default.createElement("img",{alt:"",src:ye.url}):ye.type==="link"&&(xe=le?f.default.createElement(le,{responce:ye}):f.default.createElement("a",{href:ne,target:"_blank",rel:"nofollow noreferrer noopener"},ne))),Re==="loading"||Re==="idle"?Ae||fe:Re==="error"?ie||fe:f.default.createElement("span",{style:q,className:"__embed __embed_column"},xe,Fe&&f.default.createElement("span",{className:"__embed_column",dangerouslySetInnerHTML:{__html:Fe}}),f.default.createElement("style",null,`.__embed {
    margin: auto;
    width: 100%;
    max-width: 700px;
} 
.__embed iframe {
    width: 100%;
    margin: auto;
}
.__embed img, .__embed video {
    width: 100%;
    margin: 0;
}
.__embed blockquote {
    margin: 0;
}
.__embed span {
    border: 0;
} 
.__embed_column {
    width: 100%;
    display: flex;
    flex-direction: column;
}`))},o.defaultProviders=te,o.getEndpoint=me,o.requestEmbed=b,o.useScript=j,Object.defineProperty(o,"__esModule",{value:!0})})})(lib$2,lib$2.exports);var libExports=lib$2.exports;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(j,g){return Object.defineProperty?Object.defineProperty(j,"raw",{value:g}):j.raw=g,j},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(j){for(var g,ne=1,se=arguments.length;ne<se;ne++){g=arguments[ne];for(var q in g)Object.prototype.hasOwnProperty.call(g,q)&&(j[q]=g[q])}return j},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,g,ne,se){se===void 0&&(se=ne);var q=Object.getOwnPropertyDescriptor(g,ne);(!q||("get"in q?!g.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return g[ne]}}),Object.defineProperty(j,se,q)}:function(j,g,ne,se){se===void 0&&(se=ne),j[se]=g[ne]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(j,g){Object.defineProperty(j,"default",{enumerable:!0,value:g})}:function(j,g){j.default=g}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(j){if(j&&j.__esModule)return j;var g={};if(j!=null)for(var ne in j)ne!=="default"&&Object.prototype.hasOwnProperty.call(j,ne)&&a(g,j,ne);return c(g,j),g},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.OEmbedPlayer=void 0;var f=jsxRuntimeExports,re=d(libExports),_=h(require$$6$1),$=requireLib(),_e=[{provider_name:"YouTube",provider_url:"https://www.youtube.com/",endpoints:[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*","https://*.youtube.com/shorts/*","https://youtube.com/shorts/*"],url:"https://www.youtube.com/oembed",discovery:!0}]},{provider_name:"Reddit",provider_url:"https://reddit.com/",endpoints:[{schemes:["https://reddit.com/r/*/comments/*/*","https://www.reddit.com/r/*/comments/*/*"],url:"https://www.reddit.com/oembed"}]},{provider_name:"Flickr",provider_url:"https://www.flickr.com/",endpoints:[{schemes:["http://*.flickr.com/photos/*","http://flic.kr/p/*","https://*.flickr.com/photos/*","https://flic.kr/p/*"],url:"https://www.flickr.com/services/oembed/",discovery:!0}]},{provider_name:"Vimeo",provider_url:"https://vimeo.com/",endpoints:[{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.{format}",discovery:!0}]},{provider_name:"SoundCloud",provider_url:"http://soundcloud.com/",endpoints:[{schemes:["http://soundcloud.com/*","https://soundcloud.com/*","https://soundcloud.app.goog.gl/*"],url:"https://soundcloud.com/oembed"}]},{provider_name:"Twitter",provider_url:"http://www.twitter.com/",endpoints:[{schemes:["https://twitter.com/*/status/*","https://*.twitter.com/*/status/*","https://twitter.com/*/moments/*","https://*.twitter.com/*/moments/*"],url:"https://publish.twitter.com/oembed"}]},{provider_name:"GIPHY",provider_url:"https://giphy.com",endpoints:[{schemes:["https://giphy.com/gifs/*","http://gph.is/*","https://media.giphy.com/media/*/giphy.gif"],url:"https://giphy.com/services/oembed",discovery:!0}]}],ve=(0,_.default)("div")(b||(b=i([`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`],[`
  width: 100%;

  iframe {
    width: 100%;
    height: 100%;
  }

  .__embed {
    width: 100%;
    max-width: 100%;
  }

  .__embed_column {
    display: block;
    height: 100%;
  }
`]))),te=function(j){var g=j.ratio,ne=g===void 0?9/16:g,se=j.className,q=se===void 0?"":se;return(0,f.jsx)(ve,o({className:"wellms-component ".concat(q)},{children:(0,f.jsx)($.RatioBox,o({ratio:ne},{children:(0,f.jsx)(re.default,o({},j,{providers:_e}))}))}))};e.OEmbedPlayer=te,e.default=(0,_.withTheme)((0,_.default)(e.OEmbedPlayer)(me||(me=i([""],[""]))));var b,me})(OEmbedPlayer);var AudioVideoPlayer={},loadScript=function(i,o,a){var c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("script");typeof o=="function"&&(a=o,o={}),o=o||{},a=a||function(){},h.type=o.type||"text/javascript",h.charset=o.charset||"utf8",h.async="async"in o?!!o.async:!0,h.src=i,o.attrs&&setAttributes(h,o.attrs),o.text&&(h.text=""+o.text);var d="onload"in h?stdOnEnd:ieOnEnd;d(h,a),h.onload||stdOnEnd(h,a),c.appendChild(h)};function setAttributes(e,i){for(var o in i)e.setAttribute(o,i[o])}function stdOnEnd(e,i){e.onload=function(){this.onerror=this.onload=null,i(null,e)},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),e)}}function ieOnEnd(e,i){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,e))}}var isMergeableObject=function(i){return isNonNullObject(i)&&!isSpecial(i)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var i=Object.prototype.toString.call(e);return i==="[object RegExp]"||i==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,i){return i.clone!==!1&&i.isMergeableObject(e)?deepmerge(emptyTarget(e),e,i):e}function defaultArrayMerge(e,i,o){return e.concat(i).map(function(a){return cloneUnlessOtherwiseSpecified(a,o)})}function getMergeFunction(e,i){if(!i.customMerge)return deepmerge;var o=i.customMerge(e);return typeof o=="function"?o:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(i){return Object.propertyIsEnumerable.call(e,i)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,i){try{return i in e}catch{return!1}}function propertyIsUnsafe(e,i){return propertyIsOnObject(e,i)&&!(Object.hasOwnProperty.call(e,i)&&Object.propertyIsEnumerable.call(e,i))}function mergeObject(e,i,o){var a={};return o.isMergeableObject(e)&&getKeys(e).forEach(function(c){a[c]=cloneUnlessOtherwiseSpecified(e[c],o)}),getKeys(i).forEach(function(c){propertyIsUnsafe(e,c)||(propertyIsOnObject(e,c)&&o.isMergeableObject(i[c])?a[c]=getMergeFunction(c,o)(e[c],i[c],o):a[c]=cloneUnlessOtherwiseSpecified(i[c],o))}),a}function deepmerge(e,i,o){o=o||{},o.arrayMerge=o.arrayMerge||defaultArrayMerge,o.isMergeableObject=o.isMergeableObject||isMergeableObject,o.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var a=Array.isArray(i),c=Array.isArray(e),h=a===c;return h?a?o.arrayMerge(e,i,o):mergeObject(e,i,o):cloneUnlessOtherwiseSpecified(i,o)}deepmerge.all=function(i,o){if(!Array.isArray(i))throw new Error("first argument should be an array");return i.reduce(function(a,c){return deepmerge(a,c,o)},{})};var deepmerge_1=deepmerge,cjs$5=deepmerge_1,__create$4=Object.create,__defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__getProtoOf$4=Object.getPrototypeOf,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$6=(e,i)=>{for(var o in i)__defProp$6(e,o,{get:i[o],enumerable:!0})},__copyProps$6=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$6(i))!__hasOwnProp$6.call(e,c)&&c!==o&&__defProp$6(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$6(i,c))||a.enumerable});return e},__toESM$4=(e,i,o)=>(o=e!=null?__create$4(__getProtoOf$4(e)):{},__copyProps$6(!e||!e.__esModule?__defProp$6(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$6=e=>__copyProps$6(__defProp$6({},"__esModule",{value:!0}),e),utils_exports={};__export$6(utils_exports,{callPlayer:()=>callPlayer,getConfig:()=>getConfig,getSDK:()=>getSDK,isBlobUrl:()=>isBlobUrl,isMediaStream:()=>isMediaStream,lazy:()=>lazy,omit:()=>omit,parseEndTime:()=>parseEndTime,parseStartTime:()=>parseStartTime,queryString:()=>queryString,randomString:()=>randomString,supportsWebKitPresentationMode:()=>supportsWebKitPresentationMode});var utils$1=__toCommonJS$6(utils_exports),import_react$2=__toESM$4(reactExports),import_load_script=__toESM$4(loadScript),import_deepmerge$1=__toESM$4(cjs$5);const lazy=e=>import_react$2.default.lazy(async()=>{const i=await e();return typeof i.default=="function"?i:i.default}),MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(e,i){if(e instanceof Array)return;const o=e.match(i);if(o){const a=o[1];if(a.match(MATCH_START_STAMP))return parseTimeString(a);if(MATCH_NUMERIC.test(a))return parseInt(a)}}function parseTimeString(e){let i=0,o=MATCH_START_STAMP.exec(e);for(;o!==null;){const[,a,c]=o;c==="h"&&(i+=parseInt(a,10)*60*60),c==="m"&&(i+=parseInt(a,10)*60),c==="s"&&(i+=parseInt(a,10)),o=MATCH_START_STAMP.exec(e)}return i}function parseStartTime(e){return parseTimeParam(e,MATCH_START_QUERY)}function parseEndTime(e){return parseTimeParam(e,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(e){return Object.keys(e).map(i=>`${i}=${e[i]}`).join("&")}function getGlobal(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const requests={},getSDK=function(i,o,a=null,c=()=>!0,h=import_load_script.default){const d=getGlobal(o);return d&&c(d)?Promise.resolve(d):new Promise((f,re)=>{if(requests[i]){requests[i].push({resolve:f,reject:re});return}requests[i]=[{resolve:f,reject:re}];const _=$=>{requests[i].forEach(_e=>_e.resolve($))};if(a){const $=window[a];window[a]=function(){$&&$(),_(getGlobal(o))}}h(i,$=>{$?(requests[i].forEach(_e=>_e.reject($)),requests[i]=null):a||_(getGlobal(o))})})};function getConfig(e,i){return(0,import_deepmerge$1.default)(i.config,e.config)}function omit(e,...i){const o=[].concat(...i),a={},c=Object.keys(e);for(const h of c)o.indexOf(h)===-1&&(a[h]=e[h]);return a}function callPlayer(e,...i){if(!this.player||!this.player[e]){let o=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(o+="The method was not available"):o+="The player was not available",console.warn(o,"font-weight: bold",""),null}return this.player[e](...i)}function isMediaStream(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function isBlobUrl(e){return/^blob:/.test(e)}function supportsWebKitPresentationMode(e=document.createElement("video")){const i=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&i}function enableStubOn(e){return e}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$5=(e,i)=>{for(var o in i)__defProp$5(e,o,{get:i[o],enumerable:!0})},__copyProps$5=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$5(i))!__hasOwnProp$5.call(e,c)&&c!==o&&__defProp$5(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$5(i,c))||a.enumerable});return e},__toCommonJS$5=e=>__copyProps$5(__defProp$5({},"__esModule",{value:!0}),e),patterns_exports={};__export$5(patterns_exports,{AUDIO_EXTENSIONS:()=>AUDIO_EXTENSIONS,DASH_EXTENSIONS:()=>DASH_EXTENSIONS,FLV_EXTENSIONS:()=>FLV_EXTENSIONS,HLS_EXTENSIONS:()=>HLS_EXTENSIONS,MATCH_URL_DAILYMOTION:()=>MATCH_URL_DAILYMOTION,MATCH_URL_FACEBOOK:()=>MATCH_URL_FACEBOOK,MATCH_URL_FACEBOOK_WATCH:()=>MATCH_URL_FACEBOOK_WATCH,MATCH_URL_KALTURA:()=>MATCH_URL_KALTURA,MATCH_URL_MIXCLOUD:()=>MATCH_URL_MIXCLOUD,MATCH_URL_MUX:()=>MATCH_URL_MUX,MATCH_URL_SOUNDCLOUD:()=>MATCH_URL_SOUNDCLOUD,MATCH_URL_STREAMABLE:()=>MATCH_URL_STREAMABLE,MATCH_URL_TWITCH_CHANNEL:()=>MATCH_URL_TWITCH_CHANNEL,MATCH_URL_TWITCH_VIDEO:()=>MATCH_URL_TWITCH_VIDEO,MATCH_URL_VIDYARD:()=>MATCH_URL_VIDYARD,MATCH_URL_VIMEO:()=>MATCH_URL_VIMEO,MATCH_URL_WISTIA:()=>MATCH_URL_WISTIA,MATCH_URL_YOUTUBE:()=>MATCH_URL_YOUTUBE,VIDEO_EXTENSIONS:()=>VIDEO_EXTENSIONS,canPlay:()=>canPlay});var patterns=__toCommonJS$5(patterns_exports),import_utils$3=utils$1;const MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/,MATCH_URL_MUX=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/,MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/,MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/,MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,HLS_EXTENSIONS=/\.(m3u8)($|\?)/i,DASH_EXTENSIONS=/\.(mpd)($|\?)/i,FLV_EXTENSIONS=/\.(flv)($|\?)/i,canPlayFile=e=>{if(e instanceof Array){for(const i of e)if(typeof i=="string"&&canPlayFile(i)||canPlayFile(i.src))return!0;return!1}return(0,import_utils$3.isMediaStream)(e)||(0,import_utils$3.isBlobUrl)(e)?!0:AUDIO_EXTENSIONS.test(e)||VIDEO_EXTENSIONS.test(e)||HLS_EXTENSIONS.test(e)||DASH_EXTENSIONS.test(e)||FLV_EXTENSIONS.test(e)},canPlay={youtube:e=>e instanceof Array?e.every(i=>MATCH_URL_YOUTUBE.test(i)):MATCH_URL_YOUTUBE.test(e),soundcloud:e=>MATCH_URL_SOUNDCLOUD.test(e)&&!AUDIO_EXTENSIONS.test(e),vimeo:e=>MATCH_URL_VIMEO.test(e)&&!VIDEO_EXTENSIONS.test(e)&&!HLS_EXTENSIONS.test(e),mux:e=>MATCH_URL_MUX.test(e),facebook:e=>MATCH_URL_FACEBOOK.test(e)||MATCH_URL_FACEBOOK_WATCH.test(e),streamable:e=>MATCH_URL_STREAMABLE.test(e),wistia:e=>MATCH_URL_WISTIA.test(e),twitch:e=>MATCH_URL_TWITCH_VIDEO.test(e)||MATCH_URL_TWITCH_CHANNEL.test(e),dailymotion:e=>MATCH_URL_DAILYMOTION.test(e),mixcloud:e=>MATCH_URL_MIXCLOUD.test(e),vidyard:e=>MATCH_URL_VIDYARD.test(e),kaltura:e=>MATCH_URL_KALTURA.test(e),file:canPlayFile};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$4=(e,i)=>{for(var o in i)__defProp$4(e,o,{get:i[o],enumerable:!0})},__copyProps$4=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$4(i))!__hasOwnProp$4.call(e,c)&&c!==o&&__defProp$4(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$4(i,c))||a.enumerable});return e},__toCommonJS$4=e=>__copyProps$4(__defProp$4({},"__esModule",{value:!0}),e),players_exports={};__export$4(players_exports,{default:()=>players_default});var players=__toCommonJS$4(players_exports),import_utils$2=utils$1,import_patterns=patterns,players_default=[{key:"youtube",name:"YouTube",canPlay:import_patterns.canPlay.youtube,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./YouTube-DU172sjZ.js").then(e=>e.Y),__vite__mapDeps([0,1,2])))},{key:"soundcloud",name:"SoundCloud",canPlay:import_patterns.canPlay.soundcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./SoundCloud-DpMldcwu.js").then(e=>e.S),__vite__mapDeps([3,1,2])))},{key:"vimeo",name:"Vimeo",canPlay:import_patterns.canPlay.vimeo,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vimeo-DPxnyp2E.js").then(e=>e.V),__vite__mapDeps([4,1,2])))},{key:"mux",name:"Mux",canPlay:import_patterns.canPlay.mux,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mux-DF-jATHQ.js").then(e=>e.M),__vite__mapDeps([5,1,2])))},{key:"facebook",name:"Facebook",canPlay:import_patterns.canPlay.facebook,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Facebook-C6NNi4T0.js").then(e=>e.F),__vite__mapDeps([6,1,2])))},{key:"streamable",name:"Streamable",canPlay:import_patterns.canPlay.streamable,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Streamable-ByOylrB1.js").then(e=>e.S),__vite__mapDeps([7,1,2])))},{key:"wistia",name:"Wistia",canPlay:import_patterns.canPlay.wistia,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Wistia-D1g0gkv8.js").then(e=>e.W),__vite__mapDeps([8,1,2])))},{key:"twitch",name:"Twitch",canPlay:import_patterns.canPlay.twitch,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Twitch-0BajuA7a.js").then(e=>e.T),__vite__mapDeps([9,1,2])))},{key:"dailymotion",name:"DailyMotion",canPlay:import_patterns.canPlay.dailymotion,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./DailyMotion-Dk6lwO8s.js").then(e=>e.D),__vite__mapDeps([10,1,2])))},{key:"mixcloud",name:"Mixcloud",canPlay:import_patterns.canPlay.mixcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mixcloud-CWThziL5.js").then(e=>e.M),__vite__mapDeps([11,1,2])))},{key:"vidyard",name:"Vidyard",canPlay:import_patterns.canPlay.vidyard,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vidyard-DyhEvtt0.js").then(e=>e.V),__vite__mapDeps([12,1,2])))},{key:"kaltura",name:"Kaltura",canPlay:import_patterns.canPlay.kaltura,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Kaltura-scDbhP3J.js").then(e=>e.K),__vite__mapDeps([13,1,2])))},{key:"file",name:"FilePlayer",canPlay:import_patterns.canPlay.file,canEnablePIP:e=>import_patterns.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,import_utils$2.supportsWebKitPresentationMode)())&&!import_patterns.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./FilePlayer-DVrcYovj.js").then(e=>e.F),__vite__mapDeps([14,1,2])))}],safeIsNaN=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function isEqual(e,i){return!!(e===i||safeIsNaN(e)&&safeIsNaN(i))}function areInputsEqual(e,i){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!isEqual(e[o],i[o]))return!1;return!0}function memoizeOne(e,i){i===void 0&&(i=areInputsEqual);var o,a=[],c,h=!1;function d(){for(var f=[],re=0;re<arguments.length;re++)f[re]=arguments[re];return h&&o===this&&i(f,a)||(c=e.apply(this,f),h=!0,o=this,a=f),c}return d}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var o,a,c;if(Array.isArray(e)){if(o=e.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!equal(e[a],i[a]))return!1;return!0}var h;if(hasMap&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!i.has(a.value[0]))return!1;for(h=e.entries();!(a=h.next()).done;)if(!equal(a.value[1],i.get(a.value[0])))return!1;return!0}if(hasSet&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(h=e.entries();!(a=h.next()).done;)if(!i.has(a.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if(o=e.length,o!=i.length)return!1;for(a=o;a--!==0;)if(e[a]!==i[a])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof i.valueOf=="function")return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof i.toString=="function")return e.toString()===i.toString();if(c=Object.keys(e),o=c.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[a]))return!1;if(hasElementType&&e instanceof Element)return!1;for(a=o;a--!==0;)if(!((c[a]==="_owner"||c[a]==="__v"||c[a]==="__o")&&e.$$typeof)&&!equal(e[c[a]],i[c[a]]))return!1;return!0}return e!==e&&i!==i}var reactFastCompare=function(i,o){try{return equal(i,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},__create$3=Object.create,__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__getProtoOf$3=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$3=(e,i)=>{for(var o in i)__defProp$3(e,o,{get:i[o],enumerable:!0})},__copyProps$3=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$3(i))!__hasOwnProp$3.call(e,c)&&c!==o&&__defProp$3(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$3(i,c))||a.enumerable});return e},__toESM$3=(e,i,o)=>(o=e!=null?__create$3(__getProtoOf$3(e)):{},__copyProps$3(!e||!e.__esModule?__defProp$3(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$3=e=>__copyProps$3(__defProp$3({},"__esModule",{value:!0}),e),props_exports={};__export$3(props_exports,{defaultProps:()=>defaultProps,propTypes:()=>propTypes$1});var props=__toCommonJS$3(props_exports),import_prop_types=__toESM$3(propTypesExports);const{string,bool,number,array,oneOfType,shape,object,func,node}=import_prop_types.default,propTypes$1={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,previewAriaLabel:string,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),mux:shape({attributes:object,version:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDisableHls:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onPlaybackQualityChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func},noop=()=>{},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop,onStart:noop,onPlay:noop,onPause:noop,onBuffer:noop,onBufferEnd:noop,onEnded:noop,onError:noop,onDuration:noop,onSeek:noop,onPlaybackRateChange:noop,onPlaybackQualityChange:noop,onProgress:noop,onClickPreview:noop,onEnablePIP:noop,onDisablePIP:noop};var __create$2=Object.create,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__getProtoOf$2=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__defNormalProp$1=(e,i,o)=>i in e?__defProp$2(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,__export$2=(e,i)=>{for(var o in i)__defProp$2(e,o,{get:i[o],enumerable:!0})},__copyProps$2=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$2(i))!__hasOwnProp$2.call(e,c)&&c!==o&&__defProp$2(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$2(i,c))||a.enumerable});return e},__toESM$2=(e,i,o)=>(o=e!=null?__create$2(__getProtoOf$2(e)):{},__copyProps$2(!e||!e.__esModule?__defProp$2(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$2=e=>__copyProps$2(__defProp$2({},"__esModule",{value:!0}),e),__publicField$1=(e,i,o)=>(__defNormalProp$1(e,typeof i!="symbol"?i+"":i,o),o),Player_exports={};__export$2(Player_exports,{default:()=>Player});var Player_1=__toCommonJS$2(Player_exports),import_react$1=__toESM$2(reactExports),import_react_fast_compare$1=__toESM$2(reactFastCompare),import_props$1=props,import_utils$1=utils$1;const SEEK_ON_PLAY_EXPIRY=5e3;class Player extends import_react$1.Component{constructor(){super(...arguments),__publicField$1(this,"mounted",!1),__publicField$1(this,"isReady",!1),__publicField$1(this,"isPlaying",!1),__publicField$1(this,"isLoading",!0),__publicField$1(this,"loadOnReady",null),__publicField$1(this,"startOnPlay",!0),__publicField$1(this,"seekOnPlay",null),__publicField$1(this,"onDurationCalled",!1),__publicField$1(this,"handlePlayerMount",i=>{if(this.player){this.progress();return}this.player=i,this.player.load(this.props.url),this.progress()}),__publicField$1(this,"getInternalPlayer",i=>this.player?this.player[i]:null),__publicField$1(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const i=this.getCurrentTime()||0,o=this.getSecondsLoaded(),a=this.getDuration();if(a){const c={playedSeconds:i,played:i/a};o!==null&&(c.loadedSeconds=o,c.loaded=o/a),(c.playedSeconds!==this.prevPlayed||c.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(c),this.prevPlayed=c.playedSeconds,this.prevLoaded=c.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),__publicField$1(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:i,playing:o,volume:a,muted:c}=this.props;i(),!c&&a!==null&&this.player.setVolume(a),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):o&&this.player.play(),this.handleDurationCheck()}),__publicField$1(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:i,onPlay:o,playbackRate:a}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&a!==1&&this.player.setPlaybackRate(a),i(),this.startOnPlay=!1),o(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),__publicField$1(this,"handlePause",i=>{this.isPlaying=!1,this.isLoading||this.props.onPause(i)}),__publicField$1(this,"handleEnded",()=>{const{activePlayer:i,loop:o,onEnded:a}=this.props;i.loopOnEnded&&o&&this.seekTo(0),o||(this.isPlaying=!1,a())}),__publicField$1(this,"handleError",(...i)=>{this.isLoading=!1,this.props.onError(...i)}),__publicField$1(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const i=this.getDuration();i?this.onDurationCalled||(this.props.onDuration(i),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),__publicField$1(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(i){if(!this.player)return;const{url:o,playing:a,volume:c,muted:h,playbackRate:d,pip:f,loop:re,activePlayer:_,disableDeferredLoading:$}=this.props;if(!(0,import_react_fast_compare$1.default)(i.url,o)){if(this.isLoading&&!_.forceLoad&&!$&&!(0,import_utils$1.isMediaStream)(o)){console.warn(`ReactPlayer: the attempt to load ${o} is being deferred until the player has loaded`),this.loadOnReady=o;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(o,this.isReady)}!i.playing&&a&&!this.isPlaying&&this.player.play(),i.playing&&!a&&this.isPlaying&&this.player.pause(),!i.pip&&f&&this.player.enablePIP&&this.player.enablePIP(),i.pip&&!f&&this.player.disablePIP&&this.player.disablePIP(),i.volume!==c&&c!==null&&this.player.setVolume(c),i.muted!==h&&(h?this.player.mute():(this.player.unmute(),c!==null&&setTimeout(()=>this.player.setVolume(c)))),i.playbackRate!==d&&this.player.setPlaybackRate&&this.player.setPlaybackRate(d),i.loop!==re&&this.player.setLoop&&this.player.setLoop(re)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(i,o,a){if(!this.isReady){i!==0&&(this.seekOnPlay=i,setTimeout(()=>{this.seekOnPlay=null},SEEK_ON_PLAY_EXPIRY));return}if(o?o==="fraction":i>0&&i<1){const h=this.player.getDuration();if(!h){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(h*i,a);return}this.player.seekTo(i,a)}render(){const i=this.props.activePlayer;return i?import_react$1.default.createElement(i,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}__publicField$1(Player,"displayName","Player");__publicField$1(Player,"propTypes",import_props$1.propTypes);__publicField$1(Player,"defaultProps",import_props$1.defaultProps);var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__defNormalProp=(e,i,o)=>i in e?__defProp$1(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,__export$1=(e,i)=>{for(var o in i)__defProp$1(e,o,{get:i[o],enumerable:!0})},__copyProps$1=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames$1(i))!__hasOwnProp$1.call(e,c)&&c!==o&&__defProp$1(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc$1(i,c))||a.enumerable});return e},__toESM$1=(e,i,o)=>(o=e!=null?__create$1(__getProtoOf$1(e)):{},__copyProps$1(!e||!e.__esModule?__defProp$1(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS$1=e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),e),__publicField=(e,i,o)=>(__defNormalProp(e,typeof i!="symbol"?i+"":i,o),o),ReactPlayer_exports={};__export$1(ReactPlayer_exports,{createReactPlayer:()=>createReactPlayer});var ReactPlayer=__toCommonJS$1(ReactPlayer_exports),import_react=__toESM$1(reactExports),import_deepmerge=__toESM$1(cjs$5),import_memoize_one=__toESM$1(require$$2$1),import_react_fast_compare=__toESM$1(reactFastCompare),import_props=props,import_utils=utils$1,import_Player=__toESM$1(Player_1);const Preview=(0,import_utils.lazy)(()=>__vitePreload(()=>import("./Preview-DZ9stueZ.js").then(e=>e.P),__vite__mapDeps([15,1,2]))),IS_BROWSER=typeof window<"u"&&window.document&&typeof document<"u",IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(import_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?import_react.Suspense:()=>null,customPlayers=[],createReactPlayer=(e,i)=>{var o;return o=class extends import_react.Component{constructor(){super(...arguments),__publicField(this,"state",{showPreview:!!this.props.light}),__publicField(this,"references",{wrapper:a=>{this.wrapper=a},player:a=>{this.player=a}}),__publicField(this,"handleClickPreview",a=>{this.setState({showPreview:!1}),this.props.onClickPreview(a)}),__publicField(this,"showPreview",()=>{this.setState({showPreview:!0})}),__publicField(this,"getDuration",()=>this.player?this.player.getDuration():null),__publicField(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),__publicField(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),__publicField(this,"getInternalPlayer",(a="player")=>this.player?this.player.getInternalPlayer(a):null),__publicField(this,"seekTo",(a,c,h)=>{if(!this.player)return null;this.player.seekTo(a,c,h)}),__publicField(this,"handleReady",()=>{this.props.onReady(this)}),__publicField(this,"getActivePlayer",(0,import_memoize_one.default)(a=>{for(const c of[...customPlayers,...e])if(c.canPlay(a))return c;return i||null})),__publicField(this,"getConfig",(0,import_memoize_one.default)((a,c)=>{const{config:h}=this.props;return import_deepmerge.default.all([import_props.defaultProps.config,import_props.defaultProps.config[c]||{},h,h[c]||{}])})),__publicField(this,"getAttributes",(0,import_memoize_one.default)(a=>(0,import_utils.omit)(this.props,SUPPORTED_PROPS))),__publicField(this,"renderActivePlayer",a=>{if(!a)return null;const c=this.getActivePlayer(a);if(!c)return null;const h=this.getConfig(a,c.key);return import_react.default.createElement(import_Player.default,{...this.props,key:c.key,ref:this.references.player,config:h,activePlayer:c.lazyPlayer||c,onReady:this.handleReady})})}shouldComponentUpdate(a,c){return!(0,import_react_fast_compare.default)(this.props,a)||!(0,import_react_fast_compare.default)(this.state,c)}componentDidUpdate(a){const{light:c}=this.props;!a.light&&c&&this.setState({showPreview:!0}),a.light&&!c&&this.setState({showPreview:!1})}renderPreview(a){if(!a)return null;const{light:c,playIcon:h,previewTabIndex:d,oEmbedUrl:f,previewAriaLabel:re}=this.props;return import_react.default.createElement(Preview,{url:a,light:c,playIcon:h,previewTabIndex:d,previewAriaLabel:re,oEmbedUrl:f,onClick:this.handleClickPreview})}render(){const{url:a,style:c,width:h,height:d,fallback:f,wrapper:re}=this.props,{showPreview:_}=this.state,$=this.getAttributes(a),_e=typeof re=="string"?this.references.wrapper:void 0;return import_react.default.createElement(re,{ref:_e,style:{...c,width:h,height:d},...$},import_react.default.createElement(UniversalSuspense,{fallback:f},_?this.renderPreview(a):this.renderActivePlayer(a)))}},__publicField(o,"displayName","ReactPlayer"),__publicField(o,"propTypes",import_props.propTypes),__publicField(o,"defaultProps",import_props.defaultProps),__publicField(o,"addCustomPlayer",a=>{customPlayers.push(a)}),__publicField(o,"removeCustomPlayers",()=>{customPlayers.length=0}),__publicField(o,"canPlay",a=>{for(const c of[...customPlayers,...e])if(c.canPlay(a))return!0;return!1}),__publicField(o,"canEnablePIP",a=>{for(const c of[...customPlayers,...e])if(c.canEnablePIP&&c.canEnablePIP(a))return!0;return!1}),o};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,i)=>{for(var o in i)__defProp(e,o,{get:i[o],enumerable:!0})},__copyProps=(e,i,o,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of __getOwnPropNames(i))!__hasOwnProp.call(e,c)&&c!==o&&__defProp(e,c,{get:()=>i[c],enumerable:!(a=__getOwnPropDesc(i,c))||a.enumerable});return e},__toESM=(e,i,o)=>(o=e!=null?__create(__getProtoOf(e)):{},__copyProps(!e||!e.__esModule?__defProp(o,"default",{value:e,enumerable:!0}):o,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{default:()=>src_default});var lib$1=__toCommonJS(src_exports),import_players=__toESM(players),import_ReactPlayer=ReactPlayer;const fallback=import_players.default[import_players.default.length-1];var src_default=(0,import_ReactPlayer.createReactPlayer)(import_players.default,fallback);const methodMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],nativeAPI=(()=>{const e=methodMap[0],i={};for(const o of methodMap)if((o==null?void 0:o[1])in document){for(const[c,h]of o.entries())i[e[c]]=h;return i}return!1})(),eventNameMap={change:nativeAPI.fullscreenchange,error:nativeAPI.fullscreenerror};let screenfull={request(e=document.documentElement,i){return new Promise((o,a)=>{const c=()=>{screenfull.off("change",c),o()};screenfull.on("change",c);const h=e[nativeAPI.requestFullscreen](i);h instanceof Promise&&h.then(c).catch(a)})},exit(){return new Promise((e,i)=>{if(!screenfull.isFullscreen){e();return}const o=()=>{screenfull.off("change",o),e()};screenfull.on("change",o);const a=document[nativeAPI.exitFullscreen]();a instanceof Promise&&a.then(o).catch(i)})},toggle(e,i){return screenfull.isFullscreen?screenfull.exit():screenfull.request(e,i)},onchange(e){screenfull.on("change",e)},onerror(e){screenfull.on("error",e)},on(e,i){const o=eventNameMap[e];o&&document.addEventListener(o,i,!1)},off(e,i){const o=eventNameMap[e];o&&document.removeEventListener(o,i,!1)},raw:nativeAPI};Object.defineProperties(screenfull,{isFullscreen:{get:()=>!!document[nativeAPI.fullscreenElement]},element:{enumerable:!0,get:()=>document[nativeAPI.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[nativeAPI.fullscreenEnabled]}});nativeAPI||(screenfull={isEnabled:!1});const screenfull$1=screenfull,screenfull$2=Object.freeze(Object.defineProperty({__proto__:null,default:screenfull$1},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(screenfull$2);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(we,xe){return Object.defineProperty?Object.defineProperty(we,"raw",{value:xe}):we.raw=xe,we},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(we){for(var xe,fe=1,Ee=arguments.length;fe<Ee;fe++){xe=arguments[fe];for(var ce in xe)Object.prototype.hasOwnProperty.call(xe,ce)&&(we[ce]=xe[ce])}return we},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(we,xe,fe,Ee){Ee===void 0&&(Ee=fe);var ce=Object.getOwnPropertyDescriptor(xe,fe);(!ce||("get"in ce?!xe.__esModule:ce.writable||ce.configurable))&&(ce={enumerable:!0,get:function(){return xe[fe]}}),Object.defineProperty(we,Ee,ce)}:function(we,xe,fe,Ee){Ee===void 0&&(Ee=fe),we[Ee]=xe[fe]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(we,xe){Object.defineProperty(we,"default",{enumerable:!0,value:xe})}:function(we,xe){we.default=xe}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(we){if(we&&we.__esModule)return we;var xe={};if(we!=null)for(var fe in we)fe!=="default"&&Object.prototype.hasOwnProperty.call(we,fe)&&a(xe,we,fe);return c(xe,we),xe},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(we){return we&&we.__esModule?we:{default:we}};Object.defineProperty(e,"__esModule",{value:!0}),e.AudioVideoPlayer=void 0;var f=jsxRuntimeExports,re=h(reactExports),_=h(require$$6$1),$=d(lib$1),_e=requireLib(),ve=d(require$$5$1),te=d(require$$6),b=reactDomExports,me=require$$3,j=require$$9,g={ready:!1,playing:!0,progress:{played:0,playedSeconds:0,loaded:0,loadedSeconds:0},duration:0,volume:.8,controls:!1,playbackRate:1,level:0,quality:0,error:!1,muted:!0},ne=(0,_.default)("div")(Ne||(Ne=i([`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`],[`
  position: relative;
  background: `,`;

  `,`;

  .react-player__preview {
    &:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      content: "";
    }

    > svg {
      position: relative;
    }
  }

  .video-player-overlay {
    position: absolute;
    padding: 20px;
    bottom: `,`;
    right: `,`;
    top: `,`;
    display: flex;
    align-items: flex-end;
    left: 0;
    background-color: `,`;
    transition: `,`;
    opacity: `,`;

    * {
      color: `,`;
    }

    h3 {
      margin-bottom: 10px;
      margin-top: 10px;
    }
  }

  .video-player-header {
    display: flex;
    align-items: center;

    .video-player-badge {
      margin-right: 10px;
    }
  }

  .video-player-footer {
    display: flex;

    > p:first-child {
      margin-right: 35px;
    }
  }

  .video-player-breadcrumbs {
    display: inline-flex;

    a {
      position: relative;
      margin-right: 36px;

      &:not(:last-child):before {
        position: absolute;
        right: -24px;

        content: ">";
      }
    }
  }

  .video-player-error {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`])),function(we){return we.audio&&we.light&&"url(".concat(we.light,") no-repeat center / cover")},function(we){return!we.audio&&`
  &:hover {
    .video-player-controls {
      opacity: 1;
    }
  }`},function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.controls?"120px":"20px"},function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.controls?"0":""},function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.controls?"0":""},function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.controls?"rgba(0, 0, 0, 0.5)":"transparent"},function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.ready?"opacity 0.3s":"none"},function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.playing?we.audio?1:0:1},function(we){var xe=we.theme;return xe.white}),se=(0,_.default)("div")(Ce||(Ce=i([`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`],[`
  position: absolute;
  left: 0;
  bottom: 0;
  height: 120px;
  width: 100%;
  padding: 20px;
  display: flex;
  opacity: `,`;
  justify-content: end;
  flex-direction: column;
  background-color: rgba(0, 0, 0, 0.5);
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out;

  input[type="range"] {
    appearance: none;
    height: 3px;
    background: grey;
    border-radius: 3px;
    background-image: `,`;
    background-repeat: no-repeat;

    &::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      border-radius: 50%;
      background: `,`;
      cursor: pointer;
      box-shadow: 0 0 2px 0 #555;
    }

    &::-webkit-slider-runnable-track {
      appearance: none;
      box-shadow: none;
      border: none;
      background: transparent;
    }

    &.input-seek {
      width: 100%;
    }

    &.input-volume {
      margin-right: 10px;
      width: 105px;
    }
  }

  button {
    appearance: none;
    background-color: transparent;
    border: none;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }
  }

  .controls-group {
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
    }

    .control-button {
      button {
        display: flex;
        align-items: center;
      }
    }

    .control-button-volume {
      margin-left: 70px;
      display: flex;
      align-items: center;
    }
  }

  .control-duration {
    color: `,`;
  }

  .dropdown-playback-rate {
    &:not(.is-open) {
      color: `,`;

      * {
        background: transparent;
        color: `,`;
      }
    }
  }
`])),function(we){var xe;return!((xe=we.state)===null||xe===void 0)&&xe.playing?we.audio?1:0:1},function(we){var xe=we.theme;return"linear-gradient(".concat(xe.primaryColor,", ").concat(xe.primaryColor,")")},function(we){var xe=we.theme;return xe.white},function(we){var xe=we.theme;return xe.white},function(we){var xe=we.theme;return xe.white},function(we){var xe=we.theme;return xe.white}),q=function(){return(0,f.jsxs)("svg",o({width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M33 65C50.6731 65 65 50.6731 65 33C65 15.3269 50.6731 1 33 1C15.3269 1 1 15.3269 1 33C1 50.6731 15.3269 65 33 65Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M26.6016 20.2L45.8016 33L26.6016 45.8V20.2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},ee=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsxs)("g",o({clipPath:"url(#clip0_379_22702)"},{children:[(0,f.jsx)("path",{d:"M1.04688 4V10H7.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M3.55687 15.0004C4.20527 16.8408 5.43421 18.4206 7.05853 19.5018C8.68285 20.583 10.6146 21.107 12.5626 20.9949C14.5106 20.8828 16.3695 20.1406 17.859 18.8802C19.3486 17.6198 20.3881 15.9094 20.8211 14.0068C21.2541 12.1042 21.057 10.1124 20.2595 8.33154C19.462 6.55068 18.1074 5.07723 16.3997 4.1332C14.692 3.18917 12.7238 2.8257 10.7916 3.09755C8.85933 3.36941 7.06779 4.26186 5.68687 5.64044L1.04688 10.0004",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",o({id:"clip0_379_22702"},{children:(0,f.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},he=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M10.0469 4H6.04688V20H10.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M18.0469 4H14.0469V20H18.0469V4Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},oe=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M12.0469 22C17.5697 22 22.0469 17.5228 22.0469 12C22.0469 6.47715 17.5697 2 12.0469 2C6.52403 2 2.04688 6.47715 2.04688 12C2.04688 17.5228 6.52403 22 12.0469 22Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M10.0469 8L16.0469 12L10.0469 16V8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},le=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsxs)("g",o({clipPath:"url(#clip0_379_22706)"},{children:[(0,f.jsx)("path",{d:"M23.0469 4V10H17.0469",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M20.5368 15C19.8867 16.8399 18.6563 18.4187 17.0309 19.4985C15.4055 20.5783 13.4732 21.1006 11.5252 20.9866C9.57714 20.8726 7.71891 20.1286 6.23051 18.8667C4.74211 17.6047 3.70418 15.8932 3.27312 13.9901C2.84206 12.0869 3.04123 10.0952 3.84062 8.31508C4.64 6.53496 5.99629 5.06288 7.70511 4.12065C9.41392 3.17843 11.3827 2.81711 13.3147 3.09116C15.2467 3.3652 17.0374 4.25975 18.4168 5.64001L23.0468 10",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",o({id:"clip0_379_22706"},{children:(0,f.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},ie=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M19.1159 4.92969C20.9906 6.80496 22.0438 9.34805 22.0438 11.9997C22.0438 14.6513 20.9906 17.1944 19.1159 19.0697M15.5859 8.45969C16.5233 9.39733 17.0499 10.6689 17.0499 11.9947C17.0499 13.3205 16.5233 14.592 15.5859 15.5297",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},Ae=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsxs)("g",o({clipPath:"url(#clip0_379_22723)"},{children:[(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M23.0469 9L17.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M17.0469 9L23.0469 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",o({id:"clip0_379_22723"},{children:(0,f.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.046875)"})}))})]}))},ae=function(){return(0,f.jsxs)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M15.5859 8.45996C16.5233 9.3976 17.0499 10.6691 17.0499 11.995C17.0499 13.3208 16.5233 14.5923 15.5859 15.53",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},ye=function(){return(0,f.jsx)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,f.jsx)("path",{d:"M11.0469 5L6.04688 9H2.04688V15H6.04688L11.0469 19V5Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},Pe=function(){return(0,f.jsx)("svg",o({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,f.jsx)("path",{d:"M8.04688 3H5.04688C4.51644 3 4.00773 3.21071 3.63266 3.58579C3.25759 3.96086 3.04688 4.46957 3.04688 5V8M21.0469 8V5C21.0469 4.46957 20.8362 3.96086 20.4611 3.58579C20.086 3.21071 19.5773 3 19.0469 3H16.0469M16.0469 21H19.0469C19.5773 21 20.086 20.7893 20.4611 20.4142C20.8362 20.0391 21.0469 19.5304 21.0469 19V16M3.04688 16V19C3.04688 19.5304 3.25759 20.0391 3.63266 20.4142C4.00773 20.7893 4.51644 21 5.04688 21H8.04688",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},Ie=function(we){var xe=we.state,fe=xe===void 0?g:xe,Ee=we.onSeek,ce=we.onToggle,de=we.onVolume,be=we.onFullscreen,ue=function(Te,Me){return{backgroundSize:"".concat(Te*100/Me,"% 100%")}},m=function(){return fe.volume===0?(0,f.jsx)(Ae,{}):fe.volume<.3?(0,f.jsx)(ye,{}):fe.volume<.6?(0,f.jsx)(ae,{}):(0,f.jsx)(ie,{})},Se=function(){de&&de(fe.volume===0?g.volume:0)};return(0,f.jsx)(se,o({},we,{className:"video-player-controls"},{children:(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{"aria-label":(0,j.t)("VideoPlayer.Progress"),onChange:function(Te){return Ee&&Ee(Te.target.valueAsNumber)},type:"range",className:"input-seek",min:0,max:fe.duration,value:fe.progress.playedSeconds,style:ue(fe.progress.playedSeconds,fe.duration)}),(0,f.jsxs)("div",o({className:"controls-group"},{children:[(0,f.jsxs)("div",o({className:"controls-left"},{children:[(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsxs)("button",o({type:"button",title:(0,j.t)("VideoPlayer.SeekBackward"),onClick:function(){var Te=fe.progress.playedSeconds-10;Te<=fe.duration&&Ee&&Ee(Te)}},{children:[(0,f.jsx)(ee,{}),(0,f.jsx)(_e.Text,o({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsx)("button",o({type:"button",title:(0,j.t)(fe.playing?"VideoPlayer.Pause":"VideoPlayer.Play"),onClick:function(){return ce&&ce()}},{children:fe.playing?(0,f.jsx)(he,{}):(0,f.jsx)(oe,{})}))})),(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsxs)("button",o({title:(0,j.t)("VideoPlayer.SeekForward"),type:"button",onClick:function(){var Te=fe.progress.playedSeconds+10;Te<=fe.duration&&Ee&&Ee(Te)}},{children:[(0,f.jsx)(le,{}),(0,f.jsx)(_e.Text,o({noMargin:!0,size:14,style:{color:"white",marginTop:"-3px",marginLeft:"6px"}},{children:"10s"}))]}))})),(0,f.jsxs)("div",o({className:"control-button control-button-volume"},{children:[(0,f.jsx)("button",o({type:"button",title:(0,j.t)(fe.volume===0?"VideoPlayer.Unmute":"VideoPlayer.Mute"),onClick:function(){return Se()}},{children:m()})),(0,f.jsx)("input",{onChange:function(Te){return de&&de(Te.target.valueAsNumber)},"aria-label":(0,j.t)("VideoPlayer.Progress"),type:"range",min:0,max:.999999,value:fe.volume,step:"any",className:"input-volume",style:ue(fe.volume,.999999)}),(0,f.jsxs)(_e.Text,o({noMargin:!0,size:14,style:{color:"white"}},{children:[(0,ve.default)(fe.progress.playedSeconds*1e3,"mm:ss")," /"," ",(0,ve.default)(fe.duration*1e3,"mm:ss")]}))]}))]})),(0,f.jsxs)("div",o({className:"controls-right"},{children:[(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsx)(_e.Dropdown,{options:[{label:"1x",value:"1.0"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2.0"}],placeholder:"".concat(fe.playbackRate,"x"),onChange:function(Te){return fe.playbackRate=Number(Te.value)},placement:"top",className:"dropdown-playback-rate",styles:{minWidth:"40px"}})})),fe.quality>0&&(0,f.jsxs)(_e.Text,o({style:{margin:"0px 10px",color:"white",borderRadius:"4px",border:"2px solid white",padding:"0 4px"},size:"12",noMargin:!0},{children:[fe.quality,"p"]})),(0,f.jsx)("div",o({className:"control-button"},{children:(0,f.jsx)("button",o({type:"button",title:(0,j.t)("VideoPlayer.Fullscreen"),onClick:function(){return be&&be()}},{children:(0,f.jsx)(Pe,{})}))}))]}))]}))]})}))},Re=function(we){var xe=we.children,fe=we.mobile,Ee=we.audio,ce=Ee===void 0?!1:Ee,de=we.light,be=de===void 0?!0:de,ue=we.ratio,m=ue===void 0?9/16:ue,Se=we.className,Te=Se===void 0?"":Se,Me=we.onTopicEnd,Le=re.useRef(null),Ue=re.useRef(null),Xe=re.useState(g),Ve=Xe[0],Ke=Xe[1],ze=(0,me.useTranslation)().t,Ge=re.useCallback(function(Oe){if(Oe!=null&&Oe.getInternalPlayer("hls")){var $e=Oe==null?void 0:Oe.getInternalPlayer("hls");$e&&$e.on("hlsLevelSwitched",function(He,Ye){var nt=$e.levels[Ye.level].height;Ke(function(ot){return o(o({},ot),{quality:nt})})})}},[]);return re.useEffect(function(){var Oe=document.querySelectorAll(".react-player__preview");Oe&&Oe.forEach(function($e){return $e.click()})},[]),(0,f.jsxs)(ne,o({className:"wellms-component ".concat(Te),state:Ve,ref:Ue,audio:ce,light:be},{children:[(0,f.jsx)(_e.RatioBox,o({ratio:m},{children:(0,f.jsx)($.default,o({},we,{light:be,ref:Le,width:"100%",height:"100%",controls:!!fe,playIcon:q(),playing:Ve.playing,volume:Ve.volume,playbackRate:Ve.playbackRate,muted:Ve.muted,onReady:function(){Ke(function(Oe){return o(o({},Oe),{ready:!0})}),!ce&&Ge(Le.current)},onDuration:function(Oe){return Ke(function($e){return o(o({},$e),{duration:Oe})})},onStart:function(){setTimeout(function(){Ke(function(Oe){return o(o({},Oe),{playing:!1})}),Le.current&&Le.current.seekTo(0)},500),setTimeout(function(){Ke(function(Oe){return o(o({},Oe),{muted:!1})})},600)},onProgress:function(Oe){Ke(function($e){return o(o({},$e),{progress:Oe})})},onEnded:function(){var Oe;Ke(function($e){return o(o({},$e),{controls:!1,playing:!1})}),(Oe=Le.current)===null||Oe===void 0||Oe.showPreview(),Me&&Me()},onError:function(){Ke(function(Oe){return o(o({},Oe),{error:!0})})},onClickPreview:function(){return Ke(function(Oe){return o(o({},Oe),{controls:!0,playing:!0})})}}))})),!fe&&Ve.controls&&!Ve.error&&(0,f.jsx)(Ie,{audio:ce,state:Ve,onVolume:function(Oe){Ke(function($e){return o(o({},$e),{volume:Oe})})},onToggle:function(){Ke(function(Oe){return o(o({},Oe),{playing:!Oe.playing})})},onSeek:function(Oe){var $e;return($e=Le.current)===null||$e===void 0?void 0:$e.seekTo(Oe)},onFullscreen:function(){Ue.current&&te.default.toggle((0,b.findDOMNode)(Ue.current))}}),!fe&&!Ve.error&&(0,f.jsx)("div",o({onClick:function(){return Ve.ready&&Ke(function(Oe){return o(o({},Oe),{playing:!Oe.playing})})},title:"play/pause","aria-labelledby":"labeldiv",tabIndex:0,role:"button",onKeyDown:function(){return!0}},{children:xe})),Ve.error&&(0,f.jsx)("div",o({className:"video-player-error"},{children:(0,f.jsx)(_e.Text,o({size:"16"},{children:ze("VideoPlayer.Error")}))}))]}))};e.AudioVideoPlayer=Re,e.default=(0,_.withTheme)((0,_.default)(e.AudioVideoPlayer)(Fe||(Fe=i([""],[""]))));var Ne,Ce,Fe})(AudioVideoPlayer);var PdfPlayer={},cjs$4={},pdfjs$1={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};(function(module,exports){(function(i,o){module.exports=i.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Rt;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=we,i.bytesToString=Le,i.createValidAbsoluteUrl=fe,i.getModificationDate=dt,i.getUuid=gt,i.getVerbosityLevel=Re,i.info=Ne,i.isArrayBuffer=Be,i.isArrayEqual=ct,i.isNodeJS=void 0,i.normalizeUnicode=_t,i.objectFromMap=Ke,i.objectSize=Ve,i.setVerbosityLevel=Ie,i.shadow=Ee,i.string32=Xe,i.stringToBytes=Ue,i.stringToPDFString=nt,i.stringToUTF8String=ot,i.unreachable=Fe,i.utf8StringToString=st,i.warn=Ce;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=o;const a=[1,0,0,1,0,0];i.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const h=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=h;const d=1.35;i.LINE_FACTOR=d;const f=.35;i.LINE_DESCENT_FACTOR=f;const re=f/d;i.BASELINE_FACTOR=re;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=_;const $={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=$;const _e="pdfjs_internal_editor_";i.AnnotationEditorPrefix=_e;const ve={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=ve;const te={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=te;const b={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=b;const me={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=me;const j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=j;const g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=g;const ne={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ne;const se={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=se;const q={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=q;const ee={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ee;const he={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=he;const oe={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=oe;const le={O:"PageOpen",C:"PageClose"};i.PageActionEventType=le;const ie={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=ie;const Ae={NONE:0,BINARY:1};i.CMapCompressionType=Ae;const ae={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=ae;const ye={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=ye;let Pe=ie.WARNINGS;function Ie(lt){Number.isInteger(lt)&&(Pe=lt)}function Re(){return Pe}function Ne(lt){Pe>=ie.INFOS&&console.log(`Info: ${lt}`)}function Ce(lt){Pe>=ie.WARNINGS&&console.log(`Warning: ${lt}`)}function Fe(lt){throw new Error(lt)}function we(lt,Je){lt||Fe(Je)}function xe(lt){switch(lt==null?void 0:lt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function fe(lt,Je=null,et=null){if(!lt)return null;try{if(et&&typeof lt=="string"){if(et.addDefaultProtocol&&lt.startsWith("www.")){const jt=lt.match(/\./g);(jt==null?void 0:jt.length)>=2&&(lt=`http://${lt}`)}if(et.tryConvertEncoding)try{lt=ot(lt)}catch{}}const mt=Je?new URL(lt,Je):new URL(lt);if(xe(mt))return mt}catch{}return null}function Ee(lt,Je,et,mt=!1){return Object.defineProperty(lt,Je,{value:et,enumerable:!mt,configurable:!0,writable:!1}),et}const ce=function(){function Je(et,mt){this.constructor===Je&&Fe("Cannot initialize BaseException."),this.message=et,this.name=mt}return Je.prototype=new Error,Je.constructor=Je,Je}();i.BaseException=ce;class de extends ce{constructor(Je,et){super(Je,"PasswordException"),this.code=et}}i.PasswordException=de;class be extends ce{constructor(Je,et){super(Je,"UnknownErrorException"),this.details=et}}i.UnknownErrorException=be;class ue extends ce{constructor(Je){super(Je,"InvalidPDFException")}}i.InvalidPDFException=ue;class m extends ce{constructor(Je){super(Je,"MissingPDFException")}}i.MissingPDFException=m;class Se extends ce{constructor(Je,et){super(Je,"UnexpectedResponseException"),this.status=et}}i.UnexpectedResponseException=Se;class Te extends ce{constructor(Je){super(Je,"FormatError")}}i.FormatError=Te;class Me extends ce{constructor(Je){super(Je,"AbortException")}}i.AbortException=Me;function Le(lt){(typeof lt!="object"||(lt==null?void 0:lt.length)===void 0)&&Fe("Invalid argument for bytesToString");const Je=lt.length,et=8192;if(Je<et)return String.fromCharCode.apply(null,lt);const mt=[];for(let jt=0;jt<Je;jt+=et){const $t=Math.min(jt+et,Je),ke=lt.subarray(jt,$t);mt.push(String.fromCharCode.apply(null,ke))}return mt.join("")}function Ue(lt){typeof lt!="string"&&Fe("Invalid argument for stringToBytes");const Je=lt.length,et=new Uint8Array(Je);for(let mt=0;mt<Je;++mt)et[mt]=lt.charCodeAt(mt)&255;return et}function Xe(lt){return String.fromCharCode(lt>>24&255,lt>>16&255,lt>>8&255,lt&255)}function Ve(lt){return Object.keys(lt).length}function Ke(lt){const Je=Object.create(null);for(const[et,mt]of lt)Je[et]=mt;return Je}function ze(){const lt=new Uint8Array(4);return lt[0]=1,new Uint32Array(lt.buffer,0,1)[0]===1}function Ge(){try{return new Function(""),!0}catch{return!1}}class Oe{static get isLittleEndian(){return Ee(this,"isLittleEndian",ze())}static get isEvalSupported(){return Ee(this,"isEvalSupported",Ge())}static get isOffscreenCanvasSupported(){return Ee(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ee(this,"platform",{isWin:!1,isMac:!1}):Ee(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Je,et;return Ee(this,"isCSSRoundSupported",(et=(Je=globalThis.CSS)==null?void 0:Je.supports)==null?void 0:et.call(Je,"width: round(1.5px, 1px)"))}}i.FeatureTest=Oe;const $e=[...Array(256).keys()].map(lt=>lt.toString(16).padStart(2,"0"));class He{static makeHexColor(Je,et,mt){return`#${$e[Je]}${$e[et]}${$e[mt]}`}static scaleMinMax(Je,et){let mt;Je[0]?(Je[0]<0&&(mt=et[0],et[0]=et[1],et[1]=mt),et[0]*=Je[0],et[1]*=Je[0],Je[3]<0&&(mt=et[2],et[2]=et[3],et[3]=mt),et[2]*=Je[3],et[3]*=Je[3]):(mt=et[0],et[0]=et[2],et[2]=mt,mt=et[1],et[1]=et[3],et[3]=mt,Je[1]<0&&(mt=et[2],et[2]=et[3],et[3]=mt),et[2]*=Je[1],et[3]*=Je[1],Je[2]<0&&(mt=et[0],et[0]=et[1],et[1]=mt),et[0]*=Je[2],et[1]*=Je[2]),et[0]+=Je[4],et[1]+=Je[4],et[2]+=Je[5],et[3]+=Je[5]}static transform(Je,et){return[Je[0]*et[0]+Je[2]*et[1],Je[1]*et[0]+Je[3]*et[1],Je[0]*et[2]+Je[2]*et[3],Je[1]*et[2]+Je[3]*et[3],Je[0]*et[4]+Je[2]*et[5]+Je[4],Je[1]*et[4]+Je[3]*et[5]+Je[5]]}static applyTransform(Je,et){const mt=Je[0]*et[0]+Je[1]*et[2]+et[4],jt=Je[0]*et[1]+Je[1]*et[3]+et[5];return[mt,jt]}static applyInverseTransform(Je,et){const mt=et[0]*et[3]-et[1]*et[2],jt=(Je[0]*et[3]-Je[1]*et[2]+et[2]*et[5]-et[4]*et[3])/mt,$t=(-Je[0]*et[1]+Je[1]*et[0]+et[4]*et[1]-et[5]*et[0])/mt;return[jt,$t]}static getAxialAlignedBoundingBox(Je,et){const mt=this.applyTransform(Je,et),jt=this.applyTransform(Je.slice(2,4),et),$t=this.applyTransform([Je[0],Je[3]],et),ke=this.applyTransform([Je[2],Je[1]],et);return[Math.min(mt[0],jt[0],$t[0],ke[0]),Math.min(mt[1],jt[1],$t[1],ke[1]),Math.max(mt[0],jt[0],$t[0],ke[0]),Math.max(mt[1],jt[1],$t[1],ke[1])]}static inverseTransform(Je){const et=Je[0]*Je[3]-Je[1]*Je[2];return[Je[3]/et,-Je[1]/et,-Je[2]/et,Je[0]/et,(Je[2]*Je[5]-Je[4]*Je[3])/et,(Je[4]*Je[1]-Je[5]*Je[0])/et]}static singularValueDecompose2dScale(Je){const et=[Je[0],Je[2],Je[1],Je[3]],mt=Je[0]*et[0]+Je[1]*et[2],jt=Je[0]*et[1]+Je[1]*et[3],$t=Je[2]*et[0]+Je[3]*et[2],ke=Je[2]*et[1]+Je[3]*et[3],it=(mt+ke)/2,ht=Math.sqrt((mt+ke)**2-4*(mt*ke-$t*jt))/2,yt=it+ht||1,wt=it-ht||1;return[Math.sqrt(yt),Math.sqrt(wt)]}static normalizeRect(Je){const et=Je.slice(0);return Je[0]>Je[2]&&(et[0]=Je[2],et[2]=Je[0]),Je[1]>Je[3]&&(et[1]=Je[3],et[3]=Je[1]),et}static intersect(Je,et){const mt=Math.max(Math.min(Je[0],Je[2]),Math.min(et[0],et[2])),jt=Math.min(Math.max(Je[0],Je[2]),Math.max(et[0],et[2]));if(mt>jt)return null;const $t=Math.max(Math.min(Je[1],Je[3]),Math.min(et[1],et[3])),ke=Math.min(Math.max(Je[1],Je[3]),Math.max(et[1],et[3]));return $t>ke?null:[mt,$t,jt,ke]}static bezierBoundingBox(Je,et,mt,jt,$t,ke,it,ht){const yt=[],wt=[[],[]];let pt,De,je,qe,tt,rt,at,ut;for(let Pt=0;Pt<2;++Pt){if(Pt===0?(De=6*Je-12*mt+6*$t,pt=-3*Je+9*mt-9*$t+3*it,je=3*mt-3*Je):(De=6*et-12*jt+6*ke,pt=-3*et+9*jt-9*ke+3*ht,je=3*jt-3*et),Math.abs(pt)<1e-12){if(Math.abs(De)<1e-12)continue;qe=-je/De,0<qe&&qe<1&&yt.push(qe);continue}at=De*De-4*je*pt,ut=Math.sqrt(at),!(at<0)&&(tt=(-De+ut)/(2*pt),0<tt&&tt<1&&yt.push(tt),rt=(-De-ut)/(2*pt),0<rt&&rt<1&&yt.push(rt))}let Et=yt.length,vt;const ft=Et;for(;Et--;)qe=yt[Et],vt=1-qe,wt[0][Et]=vt*vt*vt*Je+3*vt*vt*qe*mt+3*vt*qe*qe*$t+qe*qe*qe*it,wt[1][Et]=vt*vt*vt*et+3*vt*vt*qe*jt+3*vt*qe*qe*ke+qe*qe*qe*ht;return wt[0][ft]=Je,wt[1][ft]=et,wt[0][ft+1]=it,wt[1][ft+1]=ht,wt[0].length=wt[1].length=ft+2,[Math.min(...wt[0]),Math.min(...wt[1]),Math.max(...wt[0]),Math.max(...wt[1])]}}i.Util=He;const Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function nt(lt){if(lt[0]>="ï"){let et;if(lt[0]==="þ"&&lt[1]==="ÿ"?et="utf-16be":lt[0]==="ÿ"&&lt[1]==="þ"?et="utf-16le":lt[0]==="ï"&&lt[1]==="»"&&lt[2]==="¿"&&(et="utf-8"),et)try{const mt=new TextDecoder(et,{fatal:!0}),jt=Ue(lt);return mt.decode(jt)}catch(mt){Ce(`stringToPDFString: "${mt}".`)}}const Je=[];for(let et=0,mt=lt.length;et<mt;et++){const jt=Ye[lt.charCodeAt(et)];Je.push(jt?String.fromCharCode(jt):lt.charAt(et))}return Je.join("")}function ot(lt){return decodeURIComponent(escape(lt))}function st(lt){return unescape(encodeURIComponent(lt))}function Be(lt){return typeof lt=="object"&&(lt==null?void 0:lt.byteLength)!==void 0}function ct(lt,Je){if(lt.length!==Je.length)return!1;for(let et=0,mt=lt.length;et<mt;et++)if(lt[et]!==Je[et])return!1;return!0}function dt(lt=new Date){return[lt.getUTCFullYear().toString(),(lt.getUTCMonth()+1).toString().padStart(2,"0"),lt.getUTCDate().toString().padStart(2,"0"),lt.getUTCHours().toString().padStart(2,"0"),lt.getUTCMinutes().toString().padStart(2,"0"),lt.getUTCSeconds().toString().padStart(2,"0")].join("")}class xt{constructor(){Qe(this,Rt,!1);this.promise=new Promise((Je,et)=>{this.resolve=mt=>{Ze(this,Rt,!0),Je(mt)},this.reject=mt=>{Ze(this,Rt,!0),et(mt)}})}get settled(){return ge(this,Rt)}}Rt=new WeakMap,i.PromiseCapability=xt;let At=null,Ot=null;function _t(lt){return At||(At=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ot=new Map([["ﬅ","ſt"]])),lt.replaceAll(At,(Je,et,mt)=>et?et.normalize("NFKC"):Ot.get(mt))}function gt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const lt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(lt);else for(let Je=0;Je<32;Je++)lt[Je]=Math.floor(Math.random()*255);return Le(lt)}const Tt="pdfjs_internal_id_";i.AnnotationPrefix=Tt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,o,a,c,Ht,sn,f,re,_,$,_e,ve,te,b,me,on,g,ne,yn,q,ee;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(oe){if(typeof oe=="string"||oe instanceof URL?oe={url:oe}:(0,_util.isArrayBuffer)(oe)&&(oe={data:oe}),typeof oe!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!oe.url&&!oe.data&&!oe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const le=new PDFDocumentLoadingTask,{docId:ie}=le,Ae=oe.url?getUrlProp(oe.url):null,ae=oe.data?getDataProp(oe.data):null,ye=oe.httpHeaders||null,Pe=oe.withCredentials===!0,Ie=oe.password??null,Re=oe.range instanceof PDFDataRangeTransport?oe.range:null,Ne=Number.isInteger(oe.rangeChunkSize)&&oe.rangeChunkSize>0?oe.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ce=oe.worker instanceof PDFWorker?oe.worker:null;const Fe=oe.verbosity,we=typeof oe.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(oe.docBaseUrl)?oe.docBaseUrl:null,xe=typeof oe.cMapUrl=="string"?oe.cMapUrl:null,fe=oe.cMapPacked!==!1,Ee=oe.CMapReaderFactory||DefaultCMapReaderFactory,ce=typeof oe.standardFontDataUrl=="string"?oe.standardFontDataUrl:null,de=oe.StandardFontDataFactory||DefaultStandardFontDataFactory,be=oe.stopAtErrors!==!0,ue=Number.isInteger(oe.maxImageSize)&&oe.maxImageSize>-1?oe.maxImageSize:-1,m=oe.isEvalSupported!==!1,Se=typeof oe.isOffscreenCanvasSupported=="boolean"?oe.isOffscreenCanvasSupported:!_util.isNodeJS,Te=Number.isInteger(oe.canvasMaxAreaInBytes)?oe.canvasMaxAreaInBytes:-1,Me=typeof oe.disableFontFace=="boolean"?oe.disableFontFace:_util.isNodeJS,Le=oe.fontExtraProperties===!0,Ue=oe.enableXfa===!0,Xe=oe.ownerDocument||globalThis.document,Ve=oe.disableRange===!0,Ke=oe.disableStream===!0,ze=oe.disableAutoFetch===!0,Ge=oe.pdfBug===!0,Oe=Re?Re.length:oe.length??NaN,$e=typeof oe.useSystemFonts=="boolean"?oe.useSystemFonts:!_util.isNodeJS&&!Me,He=typeof oe.useWorkerFetch=="boolean"?oe.useWorkerFetch:Ee===_display_utils.DOMCMapReaderFactory&&de===_display_utils.DOMStandardFontDataFactory&&xe&&ce&&(0,_display_utils.isValidFetchUrl)(xe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ce,document.baseURI),Ye=oe.canvasFactory||new DefaultCanvasFactory({ownerDocument:Xe}),nt=oe.filterFactory||new DefaultFilterFactory({docId:ie,ownerDocument:Xe}),ot=null;(0,_util.setVerbosityLevel)(Fe);const st={canvasFactory:Ye,filterFactory:nt};if(He||(st.cMapReaderFactory=new Ee({baseUrl:xe,isCompressed:fe}),st.standardFontDataFactory=new de({baseUrl:ce})),!Ce){const dt={verbosity:Fe,port:_worker_options.GlobalWorkerOptions.workerPort};Ce=dt.port?PDFWorker.fromPort(dt):new PDFWorker(dt),le._worker=Ce}const Be={docId:ie,apiVersion:"3.11.174",data:ae,password:Ie,disableAutoFetch:ze,rangeChunkSize:Ne,length:Oe,docBaseUrl:we,enableXfa:Ue,evaluatorOptions:{maxImageSize:ue,disableFontFace:Me,ignoreErrors:be,isEvalSupported:m,isOffscreenCanvasSupported:Se,canvasMaxAreaInBytes:Te,fontExtraProperties:Le,useSystemFonts:$e,cMapUrl:He?xe:null,standardFontDataUrl:He?ce:null}},ct={ignoreErrors:be,isEvalSupported:m,disableFontFace:Me,fontExtraProperties:Le,enableXfa:Ue,ownerDocument:Xe,disableAutoFetch:ze,pdfBug:Ge,styleElement:ot};return Ce.promise.then(function(){if(le.destroyed)throw new Error("Loading aborted");const dt=_fetchDocument(Ce,Be),xt=new Promise(function(At){let Ot;Re?Ot=new _transport_stream.PDFDataTransportStream({length:Oe,initialData:Re.initialData,progressiveDone:Re.progressiveDone,contentDispositionFilename:Re.contentDispositionFilename,disableRange:Ve,disableStream:Ke},Re):ae||(Ot=(gt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(gt):(0,_display_utils.isValidFetchUrl)(gt.url)?new _displayFetch_stream.PDFFetchStream(gt):new _displayNetwork.PDFNetworkStream(gt))({url:Ae,length:Oe,httpHeaders:ye,withCredentials:Pe,rangeChunkSize:Ne,disableRange:Ve,disableStream:Ke})),At(Ot)});return Promise.all([dt,xt]).then(function([At,Ot]){if(le.destroyed)throw new Error("Loading aborted");const _t=new _message_handler.MessageHandler(ie,At,Ce.port),gt=new WorkerTransport(_t,le,Ot,ct,st);le._transport=gt,_t.send("Ready",null)})}).catch(le._capability.reject),le}async function _fetchDocument(oe,le){if(oe.destroyed)throw new Error("Worker was destroyed");const ie=await oe.messageHandler.sendWithPromise("GetDocRequest",le,le.data?[le.data.buffer]:null);if(oe.destroyed)throw new Error("Worker was destroyed");return ie}function getUrlProp(oe){if(oe instanceof URL)return oe.href;try{return new URL(oe,window.location).href}catch{if(_util.isNodeJS&&typeof oe=="string")return oe}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(oe){if(_util.isNodeJS&&typeof Buffer<"u"&&oe instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(oe instanceof Uint8Array&&oe.byteLength===oe.buffer.byteLength)return oe;if(typeof oe=="string")return(0,_util.stringToBytes)(oe);if(typeof oe=="object"&&!isNaN(oe==null?void 0:oe.length)||(0,_util.isArrayBuffer)(oe))return new Uint8Array(oe);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Kt(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var le,ie,Ae;this.destroyed=!0;try{(le=this._worker)!=null&&le.port&&(this._worker._pendingDestroy=!0),await((ie=this._transport)==null?void 0:ie.destroy())}catch(ae){throw(Ae=this._worker)!=null&&Ae.port&&delete this._worker._pendingDestroy,ae}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Qe(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(le,ie,Ae=!1,ae=null){this.length=le,this.initialData=ie,this.progressiveDone=Ae,this.contentDispositionFilename=ae,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(le){this._rangeListeners.push(le)}addProgressListener(le){this._progressListeners.push(le)}addProgressiveReadListener(le){this._progressiveReadListeners.push(le)}addProgressiveDoneListener(le){this._progressiveDoneListeners.push(le)}onDataRange(le,ie){for(const Ae of this._rangeListeners)Ae(le,ie)}onDataProgress(le,ie){this._readyCapability.promise.then(()=>{for(const Ae of this._progressListeners)Ae(le,ie)})}onDataProgressiveRead(le){this._readyCapability.promise.then(()=>{for(const ie of this._progressiveReadListeners)ie(le)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const le of this._progressiveDoneListeners)le()})}transportReady(){this._readyCapability.resolve()}requestDataRange(le,ie){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(le,ie){this._pdfInfo=le,this._transport=ie,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ae=>{if(!Ae)return Ae;const ae=[];for(const ye in Ae)ae.push(...Ae[ye]);return ae}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(le){return this._transport.getPage(le)}getPageIndex(le){return this._transport.getPageIndex(le)}getDestinations(){return this._transport.getDestinations()}getDestination(le){return this._transport.getDestination(le)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(le=!1){return this._transport.startCleanup(le||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(le,ie,Ae,ae=!1){Qe(this,c);Qe(this,o,null);Qe(this,a,!1);this._pageIndex=le,this._pageInfo=ie,this._transport=Ae,this._stats=ae?new _display_utils.StatTimer:null,this._pdfBug=ae,this.commonObjs=Ae.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:le,rotation:ie=this.rotate,offsetX:Ae=0,offsetY:ae=0,dontFlip:ye=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:le,rotation:ie,offsetX:Ae,offsetY:ae,dontFlip:ye})}getAnnotations({intent:le="display"}={}){const ie=this._transport.getRenderingIntent(le);return this._transport.getAnnotations(this._pageIndex,ie.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var le;return((le=this._transport._htmlForXfa)==null?void 0:le.children[this._pageIndex])||null}render({canvasContext:le,viewport:ie,intent:Ae="display",annotationMode:ae=_util.AnnotationMode.ENABLE,transform:ye=null,background:Pe=null,optionalContentConfigPromise:Ie=null,annotationCanvasMap:Re=null,pageColors:Ne=null,printAnnotationStorage:Ce=null}){var de,be;(de=this._stats)==null||de.time("Overall");const Fe=this._transport.getRenderingIntent(Ae,ae,Ce);Ze(this,a,!1),We(this,c,sn).call(this),Ie||(Ie=this._transport.getOptionalContentConfig());let we=this._intentStates.get(Fe.cacheKey);we||(we=Object.create(null),this._intentStates.set(Fe.cacheKey,we)),we.streamReaderCancelTimeout&&(clearTimeout(we.streamReaderCancelTimeout),we.streamReaderCancelTimeout=null);const xe=!!(Fe.renderingIntent&_util.RenderingIntentFlag.PRINT);we.displayReadyCapability||(we.displayReadyCapability=new _util.PromiseCapability,we.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(be=this._stats)==null||be.time("Page Request"),this._pumpOperatorList(Fe));const fe=ue=>{var m,Se;we.renderTasks.delete(Ee),(this._maybeCleanupAfterRender||xe)&&Ze(this,a,!0),We(this,c,Ht).call(this,!xe),ue?(Ee.capability.reject(ue),this._abortOperatorList({intentState:we,reason:ue instanceof Error?ue:new Error(ue)})):Ee.capability.resolve(),(m=this._stats)==null||m.timeEnd("Rendering"),(Se=this._stats)==null||Se.timeEnd("Overall")},Ee=new InternalRenderTask({callback:fe,params:{canvasContext:le,viewport:ie,transform:ye,background:Pe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Re,operatorList:we.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!xe,pdfBug:this._pdfBug,pageColors:Ne});(we.renderTasks||(we.renderTasks=new Set)).add(Ee);const ce=Ee.task;return Promise.all([we.displayReadyCapability.promise,Ie]).then(([ue,m])=>{var Se;if(this.destroyed){fe();return}(Se=this._stats)==null||Se.time("Rendering"),Ee.initializeGraphics({transparency:ue,optionalContentConfig:m}),Ee.operatorListChanged()}).catch(fe),ce}getOperatorList({intent:le="display",annotationMode:ie=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ae=null}={}){var Re;function ae(){Pe.operatorList.lastChunk&&(Pe.opListReadCapability.resolve(Pe.operatorList),Pe.renderTasks.delete(Ie))}const ye=this._transport.getRenderingIntent(le,ie,Ae,!0);let Pe=this._intentStates.get(ye.cacheKey);Pe||(Pe=Object.create(null),this._intentStates.set(ye.cacheKey,Pe));let Ie;return Pe.opListReadCapability||(Ie=Object.create(null),Ie.operatorListChanged=ae,Pe.opListReadCapability=new _util.PromiseCapability,(Pe.renderTasks||(Pe.renderTasks=new Set)).add(Ie),Pe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Re=this._stats)==null||Re.time("Page Request"),this._pumpOperatorList(ye)),Pe.opListReadCapability.promise}streamTextContent({includeMarkedContent:le=!1,disableNormalization:ie=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:le===!0,disableNormalization:ie===!0},{highWaterMark:100,size(ae){return ae.items.length}})}getTextContent(le={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ae=>_xfa_text.XfaText.textContent(Ae));const ie=this.streamTextContent(le);return new Promise(function(Ae,ae){function ye(){Pe.read().then(function({value:Re,done:Ne}){if(Ne){Ae(Ie);return}Object.assign(Ie.styles,Re.styles),Ie.items.push(...Re.items),ye()},ae)}const Pe=ie.getReader(),Ie={items:[],styles:Object.create(null)};ye()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const le=[];for(const ie of this._intentStates.values())if(this._abortOperatorList({intentState:ie,reason:new Error("Page was destroyed."),force:!0}),!ie.opListReadCapability)for(const Ae of ie.renderTasks)le.push(Ae.completed),Ae.cancel();return this.objs.clear(),Ze(this,a,!1),We(this,c,sn).call(this),Promise.all(le)}cleanup(le=!1){Ze(this,a,!0);const ie=We(this,c,Ht).call(this,!1);return le&&ie&&this._stats&&(this._stats=new _display_utils.StatTimer),ie}_startRenderPage(le,ie){var ae,ye;const Ae=this._intentStates.get(ie);Ae&&((ae=this._stats)==null||ae.timeEnd("Page Request"),(ye=Ae.displayReadyCapability)==null||ye.resolve(le))}_renderPageChunk(le,ie){for(let Ae=0,ae=le.length;Ae<ae;Ae++)ie.operatorList.fnArray.push(le.fnArray[Ae]),ie.operatorList.argsArray.push(le.argsArray[Ae]);ie.operatorList.lastChunk=le.lastChunk,ie.operatorList.separateAnnots=le.separateAnnots;for(const Ae of ie.renderTasks)Ae.operatorListChanged();le.lastChunk&&We(this,c,Ht).call(this,!0)}_pumpOperatorList({renderingIntent:le,cacheKey:ie,annotationStorageSerializable:Ae}){const{map:ae,transfers:ye}=Ae,Ie=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:le,cacheKey:ie,annotationStorage:ae},ye).getReader(),Re=this._intentStates.get(ie);Re.streamReader=Ie;const Ne=()=>{Ie.read().then(({value:Ce,done:Fe})=>{if(Fe){Re.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ce,Re),Ne())},Ce=>{if(Re.streamReader=null,!this._transport.destroyed){if(Re.operatorList){Re.operatorList.lastChunk=!0;for(const Fe of Re.renderTasks)Fe.operatorListChanged();We(this,c,Ht).call(this,!0)}if(Re.displayReadyCapability)Re.displayReadyCapability.reject(Ce);else if(Re.opListReadCapability)Re.opListReadCapability.reject(Ce);else throw Ce}})};Ne()}_abortOperatorList({intentState:le,reason:ie,force:Ae=!1}){if(le.streamReader){if(le.streamReaderCancelTimeout&&(clearTimeout(le.streamReaderCancelTimeout),le.streamReaderCancelTimeout=null),!Ae){if(le.renderTasks.size>0)return;if(ie instanceof _display_utils.RenderingCancelledException){let ae=RENDERING_CANCELLED_TIMEOUT;ie.extraDelay>0&&ie.extraDelay<1e3&&(ae+=ie.extraDelay),le.streamReaderCancelTimeout=setTimeout(()=>{le.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:le,reason:ie,force:!0})},ae);return}}if(le.streamReader.cancel(new _util.AbortException(ie.message)).catch(()=>{}),le.streamReader=null,!this._transport.destroyed){for(const[ae,ye]of this._intentStates)if(ye===le){this._intentStates.delete(ae);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,a=new WeakMap,c=new WeakSet,Ht=function(le=!1){if(We(this,c,sn).call(this),!ge(this,a)||this.destroyed)return!1;if(le)return Ze(this,o,setTimeout(()=>{Ze(this,o,null),We(this,c,Ht).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ie,operatorList:Ae}of this._intentStates.values())if(ie.size>0||!Ae.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ze(this,a,!1),!0},sn=function(){ge(this,o)&&(clearTimeout(ge(this,o)),Ze(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Qe(this,f,new Set);Qe(this,re,Promise.resolve())}postMessage(le,ie){const Ae={data:structuredClone(le,ie?{transfer:ie}:null)};ge(this,re).then(()=>{for(const ae of ge(this,f))ae.call(this,Ae)})}addEventListener(le,ie){ge(this,f).add(ie)}removeEventListener(le,ie){ge(this,f).delete(ie)}terminate(){ge(this,f).clear()}}f=new WeakMap,re=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const oe=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;oe&&(PDFWorkerUtil.fallbackWorkerSrc=oe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(oe,le){let ie;try{if(ie=new URL(oe),!ie.origin||ie.origin==="null")return!1}catch{return!1}const Ae=new URL(le,ie);return ie.origin===Ae.origin},PDFWorkerUtil.createCDNWrapper=function(oe){const le=`importScripts("${oe}");`;return URL.createObjectURL(new Blob([le]))}}const _PDFWorker=class _PDFWorker{constructor({name:oe=null,port:le=null,verbosity:ie=(0,_util.getVerbosityLevel)()}={}){var Ae;if(this.name=oe,this.destroyed=!1,this.verbosity=ie,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,le){if((Ae=ge(_PDFWorker,$))!=null&&Ae.has(le))throw new Error("Cannot use more than one PDFWorker per port.");(ge(_PDFWorker,$)||Ze(_PDFWorker,$,new WeakMap)).set(le,this),this._initializeFromPort(le);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(oe){this._port=oe,this._messageHandler=new _message_handler.MessageHandler("main","worker",oe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:oe}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,oe)||(oe=PDFWorkerUtil.createCDNWrapper(new URL(oe,window.location).href));const le=new Worker(oe),ie=new _message_handler.MessageHandler("main","worker",le),Ae=()=>{le.removeEventListener("error",ae),ie.destroy(),le.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ae=()=>{this._webWorker||Ae()};le.addEventListener("error",ae),ie.on("test",Pe=>{if(le.removeEventListener("error",ae),this.destroyed){Ae();return}Pe?(this._messageHandler=ie,this._port=le,this._webWorker=le,this._readyCapability.resolve(),ie.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ie.destroy(),le.terminate())}),ie.on("ready",Pe=>{if(le.removeEventListener("error",ae),this.destroyed){Ae();return}try{ye()}catch{this._setupFakeWorker()}});const ye=()=>{const Pe=new Uint8Array;ie.send("test",Pe,[Pe.buffer])};ye();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(oe=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const le=new LoopbackPort;this._port=le;const ie=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ae=new _message_handler.MessageHandler(ie+"_worker",ie,le);oe.setup(Ae,le);const ae=new _message_handler.MessageHandler(ie,ie+"_worker",le);this._messageHandler=ae,this._readyCapability.resolve(),ae.send("configure",{verbosity:this.verbosity})}).catch(oe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${oe.message}".`))})}destroy(){var oe;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(oe=ge(_PDFWorker,$))==null||oe.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(oe){var ie;if(!(oe!=null&&oe.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const le=(ie=ge(this,$))==null?void 0:ie.get(oe.port);if(le){if(le._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return le}return new _PDFWorker(oe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var oe;try{return((oe=globalThis.pdfjsWorker)==null?void 0:oe.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};$=new WeakMap,Qe(_PDFWorker,$);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(le,ie,Ae,ae,ye){Qe(this,me);Qe(this,_e,new Map);Qe(this,ve,new Map);Qe(this,te,new Map);Qe(this,b,null);this.messageHandler=le,this.loadingTask=ie,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ae.ownerDocument,styleElement:ae.styleElement}),this._params=ae,this.canvasFactory=ye.canvasFactory,this.filterFactory=ye.filterFactory,this.cMapReaderFactory=ye.cMapReaderFactory,this.standardFontDataFactory=ye.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ae,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(le,ie=_util.AnnotationMode.ENABLE,Ae=null,ae=!1){let ye=_util.RenderingIntentFlag.DISPLAY,Pe=_annotation_storage.SerializableEmpty;switch(le){case"any":ye=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ye=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${le}`)}switch(ie){case _util.AnnotationMode.DISABLE:ye+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ye+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ye+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Pe=(ye&_util.RenderingIntentFlag.PRINT&&Ae instanceof _annotation_storage.PrintAnnotationStorage?Ae:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ie}`)}return ae&&(ye+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ye,cacheKey:`${ye}_${Pe.hash}`,annotationStorageSerializable:Pe}}destroy(){var Ae;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ae=ge(this,b))==null||Ae.reject(new Error("Worker was destroyed during onPassword callback"));const le=[];for(const ae of ge(this,ve).values())le.push(ae._destroy());ge(this,ve).clear(),ge(this,te).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ie=this.messageHandler.sendWithPromise("Terminate",null);return le.push(ie),Promise.all(le).then(()=>{var ae;this.commonObjs.clear(),this.fontLoader.clear(),ge(this,_e).clear(),this.filterFactory.destroy(),(ae=this._networkStream)==null||ae.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:le,loadingTask:ie}=this;le.on("GetReader",(Ae,ae)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ye=>{this._lastProgress={loaded:ye.loaded,total:ye.total}},ae.onPull=()=>{this._fullReader.read().then(function({value:ye,done:Pe}){if(Pe){ae.close();return}(0,_util.assert)(ye instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ae.enqueue(new Uint8Array(ye),1,[ye])}).catch(ye=>{ae.error(ye)})},ae.onCancel=ye=>{this._fullReader.cancel(ye),ae.ready.catch(Pe=>{if(!this.destroyed)throw Pe})}}),le.on("ReaderHeadersReady",Ae=>{const ae=new _util.PromiseCapability,ye=this._fullReader;return ye.headersReady.then(()=>{var Pe;(!ye.isStreamingSupported||!ye.isRangeSupported)&&(this._lastProgress&&((Pe=ie.onProgress)==null||Pe.call(ie,this._lastProgress)),ye.onProgress=Ie=>{var Re;(Re=ie.onProgress)==null||Re.call(ie,{loaded:Ie.loaded,total:Ie.total})}),ae.resolve({isStreamingSupported:ye.isStreamingSupported,isRangeSupported:ye.isRangeSupported,contentLength:ye.contentLength})},ae.reject),ae.promise}),le.on("GetRangeReader",(Ae,ae)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ye=this._networkStream.getRangeReader(Ae.begin,Ae.end);if(!ye){ae.close();return}ae.onPull=()=>{ye.read().then(function({value:Pe,done:Ie}){if(Ie){ae.close();return}(0,_util.assert)(Pe instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ae.enqueue(new Uint8Array(Pe),1,[Pe])}).catch(Pe=>{ae.error(Pe)})},ae.onCancel=Pe=>{ye.cancel(Pe),ae.ready.catch(Ie=>{if(!this.destroyed)throw Ie})}}),le.on("GetDoc",({pdfInfo:Ae})=>{this._numPages=Ae.numPages,this._htmlForXfa=Ae.htmlForXfa,delete Ae.htmlForXfa,ie._capability.resolve(new PDFDocumentProxy(Ae,this))}),le.on("DocException",function(Ae){let ae;switch(Ae.name){case"PasswordException":ae=new _util.PasswordException(Ae.message,Ae.code);break;case"InvalidPDFException":ae=new _util.InvalidPDFException(Ae.message);break;case"MissingPDFException":ae=new _util.MissingPDFException(Ae.message);break;case"UnexpectedResponseException":ae=new _util.UnexpectedResponseException(Ae.message,Ae.status);break;case"UnknownErrorException":ae=new _util.UnknownErrorException(Ae.message,Ae.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ie._capability.reject(ae)}),le.on("PasswordRequest",Ae=>{if(Ze(this,b,new _util.PromiseCapability),ie.onPassword){const ae=ye=>{ye instanceof Error?ge(this,b).reject(ye):ge(this,b).resolve({password:ye})};try{ie.onPassword(ae,Ae.code)}catch(ye){ge(this,b).reject(ye)}}else ge(this,b).reject(new _util.PasswordException(Ae.message,Ae.code));return ge(this,b).promise}),le.on("DataLoaded",Ae=>{var ae;(ae=ie.onProgress)==null||ae.call(ie,{loaded:Ae.length,total:Ae.length}),this.downloadInfoCapability.resolve(Ae)}),le.on("StartRenderPage",Ae=>{if(this.destroyed)return;ge(this,ve).get(Ae.pageIndex)._startRenderPage(Ae.transparency,Ae.cacheKey)}),le.on("commonobj",([Ae,ae,ye])=>{var Pe;if(!this.destroyed&&!this.commonObjs.has(Ae))switch(ae){case"Font":const Ie=this._params;if("error"in ye){const Ce=ye.error;(0,_util.warn)(`Error during font loading: ${Ce}`),this.commonObjs.resolve(Ae,Ce);break}const Re=Ie.pdfBug&&((Pe=globalThis.FontInspector)!=null&&Pe.enabled)?(Ce,Fe)=>globalThis.FontInspector.fontAdded(Ce,Fe):null,Ne=new _font_loader.FontFaceObject(ye,{isEvalSupported:Ie.isEvalSupported,disableFontFace:Ie.disableFontFace,ignoreErrors:Ie.ignoreErrors,inspectFont:Re});this.fontLoader.bind(Ne).catch(Ce=>le.sendWithPromise("FontFallback",{id:Ae})).finally(()=>{!Ie.fontExtraProperties&&Ne.data&&(Ne.data=null),this.commonObjs.resolve(Ae,Ne)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ae,ye);break;default:throw new Error(`Got unknown common object type ${ae}`)}}),le.on("obj",([Ae,ae,ye,Pe])=>{var Re;if(this.destroyed)return;const Ie=ge(this,ve).get(ae);if(!Ie.objs.has(Ae))switch(ye){case"Image":if(Ie.objs.resolve(Ae,Pe),Pe){let Ne;if(Pe.bitmap){const{width:Ce,height:Fe}=Pe;Ne=Ce*Fe*4}else Ne=((Re=Pe.data)==null?void 0:Re.length)||0;Ne>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ie._maybeCleanupAfterRender=!0)}break;case"Pattern":Ie.objs.resolve(Ae,Pe);break;default:throw new Error(`Got unknown object type ${ye}`)}}),le.on("DocProgress",Ae=>{var ae;this.destroyed||(ae=ie.onProgress)==null||ae.call(ie,{loaded:Ae.loaded,total:Ae.total})}),le.on("FetchBuiltInCMap",Ae=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ae):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),le.on("FetchStandardFontData",Ae=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ae):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ae;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:le,transfers:ie}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:le,filename:((Ae=this._fullReader)==null?void 0:Ae.filename)??null},ie).finally(()=>{this.annotationStorage.resetModified()})}getPage(le){if(!Number.isInteger(le)||le<=0||le>this._numPages)return Promise.reject(new Error("Invalid page request."));const ie=le-1,Ae=ge(this,te).get(ie);if(Ae)return Ae;const ae=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ie}).then(ye=>{if(this.destroyed)throw new Error("Transport destroyed");const Pe=new PDFPageProxy(ie,ye,this,this._params.pdfBug);return ge(this,ve).set(ie,Pe),Pe});return ge(this,te).set(ie,ae),ae}getPageIndex(le){return typeof le!="object"||le===null||!Number.isInteger(le.num)||le.num<0||!Number.isInteger(le.gen)||le.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:le.num,gen:le.gen})}getAnnotations(le,ie){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:le,intent:ie})}getFieldObjects(){return We(this,me,on).call(this,"GetFieldObjects")}hasJSActions(){return We(this,me,on).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(le){return typeof le!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:le})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return We(this,me,on).call(this,"GetDocJSActions")}getPageJSActions(le){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:le})}getStructTree(le){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:le})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(le=>new _optional_content_config.OptionalContentConfig(le))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const le="GetMetadata",ie=ge(this,_e).get(le);if(ie)return ie;const Ae=this.messageHandler.sendWithPromise(le,null).then(ae=>{var ye,Pe;return{info:ae[0],metadata:ae[1]?new _metadata.Metadata(ae[1]):null,contentDispositionFilename:((ye=this._fullReader)==null?void 0:ye.filename)??null,contentLength:((Pe=this._fullReader)==null?void 0:Pe.contentLength)??null}});return ge(this,_e).set(le,Ae),Ae}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(le=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ie of ge(this,ve).values())if(!ie.cleanup())throw new Error(`startCleanup: Page ${ie.pageNumber} is currently rendering.`);this.commonObjs.clear(),le||this.fontLoader.clear(),ge(this,_e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:le,enableXfa:ie}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:le,enableXfa:ie})}}_e=new WeakMap,ve=new WeakMap,te=new WeakMap,b=new WeakMap,me=new WeakSet,on=function(le,ie=null){const Ae=ge(this,_e).get(le);if(Ae)return Ae;const ae=this.messageHandler.sendWithPromise(le,ie);return ge(this,_e).set(le,ae),ae};class PDFObjects{constructor(){Qe(this,ne);Qe(this,g,Object.create(null))}get(le,ie=null){if(ie){const ae=We(this,ne,yn).call(this,le);return ae.capability.promise.then(()=>ie(ae.data)),null}const Ae=ge(this,g)[le];if(!(Ae!=null&&Ae.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${le}.`);return Ae.data}has(le){const ie=ge(this,g)[le];return(ie==null?void 0:ie.capability.settled)||!1}resolve(le,ie=null){const Ae=We(this,ne,yn).call(this,le);Ae.data=ie,Ae.capability.resolve()}clear(){var le;for(const ie in ge(this,g)){const{data:Ae}=ge(this,g)[ie];(le=Ae==null?void 0:Ae.bitmap)==null||le.close()}Ze(this,g,Object.create(null))}}g=new WeakMap,ne=new WeakSet,yn=function(le){var ie;return(ie=ge(this,g))[le]||(ie[le]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(le){Qe(this,q,null);Ze(this,q,le),this.onContinue=null}get promise(){return ge(this,q).capability.promise}cancel(le=0){ge(this,q).cancel(null,le)}get separateAnnots(){const{separateAnnots:le}=ge(this,q).operatorList;if(!le)return!1;const{annotationCanvasMap:ie}=ge(this,q);return le.form||le.canvas&&(ie==null?void 0:ie.size)>0}}q=new WeakMap,exports.RenderTask=RenderTask;const he=class he{constructor({callback:le,params:ie,objs:Ae,commonObjs:ae,annotationCanvasMap:ye,operatorList:Pe,pageIndex:Ie,canvasFactory:Re,filterFactory:Ne,useRequestAnimationFrame:Ce=!1,pdfBug:Fe=!1,pageColors:we=null}){this.callback=le,this.params=ie,this.objs=Ae,this.commonObjs=ae,this.annotationCanvasMap=ye,this.operatorListIdx=null,this.operatorList=Pe,this._pageIndex=Ie,this.canvasFactory=Re,this.filterFactory=Ne,this._pdfBug=Fe,this.pageColors=we,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ce===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ie.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:le=!1,optionalContentConfig:ie}){var Ie,Re;if(this.cancelled)return;if(this._canvas){if(ge(he,ee).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ge(he,ee).add(this._canvas)}this._pdfBug&&((Ie=globalThis.StepperManager)!=null&&Ie.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ae,viewport:ae,transform:ye,background:Pe}=this.params;this.gfx=new _canvas.CanvasGraphics(Ae,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ie},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ye,viewport:ae,transparency:le,background:Pe}),this.operatorListIdx=0,this.graphicsReady=!0,(Re=this.graphicsReadyCallback)==null||Re.call(this)}cancel(le=null,ie=0){var Ae;this.running=!1,this.cancelled=!0,(Ae=this.gfx)==null||Ae.endDrawing(),ge(he,ee).delete(this._canvas),this.callback(le||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ie))}operatorListChanged(){var le;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(le=this.stepper)==null||le.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ge(he,ee).delete(this._canvas),this.callback())))}};ee=new WeakMap,Qe(he,ee,new WeakSet);let InternalRenderTask=he;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,o)=>{var _,$,_e,nr,te;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var a=o(1),c=o(4),h=o(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class f{constructor(){Qe(this,_e);Qe(this,_,!1);Qe(this,$,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(me,j){const g=ge(this,$).get(me);return g===void 0?j:Object.assign(j,g)}getRawValue(me){return ge(this,$).get(me)}remove(me){if(ge(this,$).delete(me),ge(this,$).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const j of ge(this,$).values())if(j instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(me,j){const g=ge(this,$).get(me);let ne=!1;if(g!==void 0)for(const[se,q]of Object.entries(j))g[se]!==q&&(ne=!0,g[se]=q);else ne=!0,ge(this,$).set(me,j);ne&&We(this,_e,nr).call(this),j instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(j.constructor._type)}has(me){return ge(this,$).has(me)}getAll(){return ge(this,$).size>0?(0,a.objectFromMap)(ge(this,$)):null}setAll(me){for(const[j,g]of Object.entries(me))this.setValue(j,g)}get size(){return ge(this,$).size}resetModified(){ge(this,_)&&(Ze(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new re(this)}get serializable(){if(ge(this,$).size===0)return d;const me=new Map,j=new h.MurmurHash3_64,g=[],ne=Object.create(null);let se=!1;for(const[q,ee]of ge(this,$)){const he=ee instanceof c.AnnotationEditor?ee.serialize(!1,ne):ee;he&&(me.set(q,he),j.update(`${q}:${JSON.stringify(he)}`),se||(se=!!he.bitmap))}if(se)for(const q of me.values())q.bitmap&&g.push(q.bitmap);return me.size>0?{map:me,hash:j.hexdigest(),transfers:g}:d}}_=new WeakMap,$=new WeakMap,_e=new WeakSet,nr=function(){ge(this,_)||(Ze(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=f;class re extends f{constructor(j){super();Qe(this,te);const{map:g,hash:ne,transfers:se}=j.serializable,q=structuredClone(g,se?{transfer:se}:null);Ze(this,te,{map:q,hash:ne,transfers:se})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ge(this,te)}}te=new WeakMap,i.PrintAnnotationStorage=re},(e,i,o)=>{var re,_,$,_e,ve,te,b,me,j,g,ne,se,q,ee,he,En,Sn,ie,wn,An,rr,ir,sr,Cn,or;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var a=o(5),c=o(1),h=o(6);const Ce=class Ce{constructor(we){Qe(this,he);Qe(this,re,"");Qe(this,_,!1);Qe(this,$,null);Qe(this,_e,null);Qe(this,ve,null);Qe(this,te,!1);Qe(this,b,null);Qe(this,me,this.focusin.bind(this));Qe(this,j,this.focusout.bind(this));Qe(this,g,!1);Qe(this,ne,!1);Qe(this,se,!1);Lt(this,"_initialOptions",Object.create(null));Lt(this,"_uiManager",null);Lt(this,"_focusEventsAllowed",!0);Lt(this,"_l10nPromise",null);Qe(this,q,!1);Qe(this,ee,Ce._zIndex++);this.constructor===Ce&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=we.parent,this.id=we.id,this.width=this.height=null,this.pageIndex=we.parent.pageIndex,this.name=we.name,this.div=null,this._uiManager=we.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=we.isCentered,this._structTreeParentId=null;const{rotation:xe,rawDims:{pageWidth:fe,pageHeight:Ee,pageX:ce,pageY:de}}=this.parent.viewport;this.rotation=xe,this.pageRotation=(360+xe-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[fe,Ee],this.pageTranslation=[ce,de];const[be,ue]=this.parentDimensions;this.x=we.x/be,this.y=we.y/ue,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(we){const xe=new f({id:we.parent.getNextId(),parent:we.parent,uiManager:we._uiManager});xe.annotationElementId=we.annotationElementId,xe.deleted=!0,xe._uiManager.addToAnnotationStorage(xe)}static initialize(we,xe=null){if(Ce._l10nPromise||(Ce._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ee=>[Ee,we.get(Ee)]))),xe!=null&&xe.strings)for(const Ee of xe.strings)Ce._l10nPromise.set(Ee,we.get(Ee));if(Ce._borderLineWidth!==-1)return;const fe=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(fe.getPropertyValue("--outline-width"))||0}static updateDefaultParams(we,xe){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(we){return!1}static paste(we,xe){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ge(this,q)}set _isDraggable(we){var xe;Ze(this,q,we),(xe=this.div)==null||xe.classList.toggle("draggable",we)}center(){const[we,xe]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*xe/(we*2),this.y+=this.width*we/(xe*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*xe/(we*2),this.y-=this.width*we/(xe*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(we){this._uiManager.addCommands(we)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ge(this,ee)}setParent(we){we!==null&&(this.pageIndex=we.pageIndex,this.pageDimensions=we.pageDimensions),this.parent=we}focusin(we){this._focusEventsAllowed&&(ge(this,g)?Ze(this,g,!1):this.parent.setSelected(this))}focusout(we){var fe;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const xe=we.relatedTarget;xe!=null&&xe.closest(`#${this.id}`)||(we.preventDefault(),(fe=this.parent)!=null&&fe.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(we,xe,fe,Ee){const[ce,de]=this.parentDimensions;[fe,Ee]=this.screenToPageTranslation(fe,Ee),this.x=(we+fe)/ce,this.y=(xe+Ee)/de,this.fixAndSetPosition()}translate(we,xe){We(this,he,En).call(this,this.parentDimensions,we,xe)}translateInPage(we,xe){We(this,he,En).call(this,this.pageDimensions,we,xe),this.div.scrollIntoView({block:"nearest"})}drag(we,xe){const[fe,Ee]=this.parentDimensions;if(this.x+=we/fe,this.y+=xe/Ee,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:Se}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,Se)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ce,y:de}=this;const[be,ue]=We(this,he,Sn).call(this);ce+=be,de+=ue,this.div.style.left=`${(100*ce).toFixed(2)}%`,this.div.style.top=`${(100*de).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[we,xe]=this.pageDimensions;let{x:fe,y:Ee,width:ce,height:de}=this;switch(ce*=we,de*=xe,fe*=we,Ee*=xe,this.rotation){case 0:fe=Math.max(0,Math.min(we-ce,fe)),Ee=Math.max(0,Math.min(xe-de,Ee));break;case 90:fe=Math.max(0,Math.min(we-de,fe)),Ee=Math.min(xe,Math.max(ce,Ee));break;case 180:fe=Math.min(we,Math.max(ce,fe)),Ee=Math.min(xe,Math.max(de,Ee));break;case 270:fe=Math.min(we,Math.max(de,fe)),Ee=Math.max(0,Math.min(xe-ce,Ee));break}this.x=fe/=we,this.y=Ee/=xe;const[be,ue]=We(this,he,Sn).call(this);fe+=be,Ee+=ue;const{style:m}=this.div;m.left=`${(100*fe).toFixed(2)}%`,m.top=`${(100*Ee).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(we,xe){var fe;return We(fe=Ce,ie,wn).call(fe,we,xe,this.parentRotation)}pageTranslationToScreen(we,xe){var fe;return We(fe=Ce,ie,wn).call(fe,we,xe,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:we,pageDimensions:[xe,fe]}=this,Ee=xe*we,ce=fe*we;return c.FeatureTest.isCSSRoundSupported?[Math.round(Ee),Math.round(ce)]:[Ee,ce]}setDims(we,xe){var ce;const[fe,Ee]=this.parentDimensions;this.div.style.width=`${(100*we/fe).toFixed(2)}%`,ge(this,te)||(this.div.style.height=`${(100*xe/Ee).toFixed(2)}%`),(ce=ge(this,$))==null||ce.classList.toggle("small",we<Ce.SMALL_EDITOR_SIZE||xe<Ce.SMALL_EDITOR_SIZE)}fixDims(){const{style:we}=this.div,{height:xe,width:fe}=we,Ee=fe.endsWith("%"),ce=!ge(this,te)&&xe.endsWith("%");if(Ee&&ce)return;const[de,be]=this.parentDimensions;Ee||(we.width=`${(100*parseFloat(fe)/de).toFixed(2)}%`),!ge(this,te)&&!ce&&(we.height=`${(100*parseFloat(xe)/be).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(ge(this,$))return;const we=Ze(this,$,document.createElement("button"));we.className="altText";const xe=await Ce._l10nPromise.get("editor_alt_text_button_label");we.textContent=xe,we.setAttribute("aria-label",xe),we.tabIndex="0",we.addEventListener("contextmenu",h.noContextMenu),we.addEventListener("pointerdown",fe=>fe.stopPropagation()),we.addEventListener("click",fe=>{fe.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),we.addEventListener("keydown",fe=>{fe.target===we&&fe.key==="Enter"&&(fe.preventDefault(),this._uiManager.editAltText(this))}),We(this,he,Cn).call(this),this.div.append(we),Ce.SMALL_EDITOR_SIZE||(Ce.SMALL_EDITOR_SIZE=Math.min(128,Math.round(we.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:ge(this,re),decorative:ge(this,_)}}set altTextData({altText:we,decorative:xe}){ge(this,re)===we&&ge(this,_)===xe||(Ze(this,re,we),Ze(this,_,xe),We(this,he,Cn).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ge(this,me)),this.div.addEventListener("focusout",ge(this,j));const[we,xe]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*xe/we).toFixed(2)}%`,this.div.style.maxHeight=`${(100*we/xe).toFixed(2)}%`);const[fe,Ee]=this.getInitialTranslation();return this.translate(fe,Ee),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(we){const{isMac:xe}=c.FeatureTest.platform;if(we.button!==0||we.ctrlKey&&xe){we.preventDefault();return}Ze(this,g,!0),We(this,he,or).call(this,we)}moveInDOM(){var we;(we=this.parent)==null||we.moveEditorInDOM(this)}_setParentAndPosition(we,xe,fe){we.changeParent(this),this.x=xe,this.y=fe,this.fixAndSetPosition()}getRect(we,xe){const fe=this.parentScale,[Ee,ce]=this.pageDimensions,[de,be]=this.pageTranslation,ue=we/fe,m=xe/fe,Se=this.x*Ee,Te=this.y*ce,Me=this.width*Ee,Le=this.height*ce;switch(this.rotation){case 0:return[Se+ue+de,ce-Te-m-Le+be,Se+ue+Me+de,ce-Te-m+be];case 90:return[Se+m+de,ce-Te+ue+be,Se+m+Le+de,ce-Te+ue+Me+be];case 180:return[Se-ue-Me+de,ce-Te+m+be,Se-ue+de,ce-Te+m+Le+be];case 270:return[Se-m-Le+de,ce-Te-ue-Me+be,Se-m+de,ce-Te-ue+be];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(we,xe){const[fe,Ee,ce,de]=we,be=ce-fe,ue=de-Ee;switch(this.rotation){case 0:return[fe,xe-de,be,ue];case 90:return[fe,xe-Ee,ue,be];case 180:return[ce,xe-Ee,be,ue];case 270:return[ce,xe-de,ue,be];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ze(this,se,!0)}disableEditMode(){Ze(this,se,!1)}isInEditMode(){return ge(this,se)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var we,xe;(we=this.div)==null||we.addEventListener("focusin",ge(this,me)),(xe=this.div)==null||xe.addEventListener("focusout",ge(this,j))}serialize(we=!1,xe=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(we,xe,fe){const Ee=new this.prototype.constructor({parent:xe,id:xe.getNextId(),uiManager:fe});Ee.rotation=we.rotation;const[ce,de]=Ee.pageDimensions,[be,ue,m,Se]=Ee.getRectInCurrentCoords(we.rect,de);return Ee.x=be/ce,Ee.y=ue/de,Ee.width=m/ce,Ee.height=Se/de,Ee}remove(){var we;this.div.removeEventListener("focusin",ge(this,me)),this.div.removeEventListener("focusout",ge(this,j)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(we=ge(this,$))==null||we.remove(),Ze(this,$,null),Ze(this,_e,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(We(this,he,rr).call(this),ge(this,b).classList.remove("hidden"))}select(){var we;this.makeResizable(),(we=this.div)==null||we.classList.add("selectedEditor")}unselect(){var we,xe,fe;(we=ge(this,b))==null||we.classList.add("hidden"),(xe=this.div)==null||xe.classList.remove("selectedEditor"),(fe=this.div)!=null&&fe.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(we,xe){}disableEditing(){ge(this,$)&&(ge(this,$).hidden=!0)}enableEditing(){ge(this,$)&&(ge(this,$).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return ge(this,ne)}set isEditing(we){Ze(this,ne,we),this.parent&&(we?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(we,xe){Ze(this,te,!0);const fe=we/xe,{style:Ee}=this.div;Ee.aspectRatio=fe,Ee.height="auto"}static get MIN_SIZE(){return 16}};re=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,ve=new WeakMap,te=new WeakMap,b=new WeakMap,me=new WeakMap,j=new WeakMap,g=new WeakMap,ne=new WeakMap,se=new WeakMap,q=new WeakMap,ee=new WeakMap,he=new WeakSet,En=function([we,xe],fe,Ee){[fe,Ee]=this.screenToPageTranslation(fe,Ee),this.x+=fe/we,this.y+=Ee/xe,this.fixAndSetPosition()},Sn=function(){const[we,xe]=this.parentDimensions,{_borderLineWidth:fe}=Ce,Ee=fe/we,ce=fe/xe;switch(this.rotation){case 90:return[-Ee,ce];case 180:return[Ee,ce];case 270:return[Ee,-ce];default:return[-Ee,-ce]}},ie=new WeakSet,wn=function(we,xe,fe){switch(fe){case 90:return[xe,-we];case 180:return[-we,-xe];case 270:return[-xe,we];default:return[we,xe]}},An=function(we){switch(we){case 90:{const[xe,fe]=this.pageDimensions;return[0,-xe/fe,fe/xe,0]}case 180:return[-1,0,0,-1];case 270:{const[xe,fe]=this.pageDimensions;return[0,xe/fe,-fe/xe,0]}default:return[1,0,0,1]}},rr=function(){if(ge(this,b))return;Ze(this,b,document.createElement("div")),ge(this,b).classList.add("resizers");const we=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||we.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const xe of we){const fe=document.createElement("div");ge(this,b).append(fe),fe.classList.add("resizer",xe),fe.addEventListener("pointerdown",We(this,he,ir).bind(this,xe)),fe.addEventListener("contextmenu",h.noContextMenu)}this.div.prepend(ge(this,b))},ir=function(we,xe){xe.preventDefault();const{isMac:fe}=c.FeatureTest.platform;if(xe.button!==0||xe.ctrlKey&&fe)return;const Ee=We(this,he,sr).bind(this,we),ce=this._isDraggable;this._isDraggable=!1;const de={passive:!0,capture:!0};window.addEventListener("pointermove",Ee,de);const be=this.x,ue=this.y,m=this.width,Se=this.height,Te=this.parent.div.style.cursor,Me=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(xe.target).cursor;const Le=()=>{this._isDraggable=ce,window.removeEventListener("pointerup",Le),window.removeEventListener("blur",Le),window.removeEventListener("pointermove",Ee,de),this.parent.div.style.cursor=Te,this.div.style.cursor=Me;const Ue=this.x,Xe=this.y,Ve=this.width,Ke=this.height;Ue===be&&Xe===ue&&Ve===m&&Ke===Se||this.addCommands({cmd:()=>{this.width=Ve,this.height=Ke,this.x=Ue,this.y=Xe;const[ze,Ge]=this.parentDimensions;this.setDims(ze*Ve,Ge*Ke),this.fixAndSetPosition()},undo:()=>{this.width=m,this.height=Se,this.x=be,this.y=ue;const[ze,Ge]=this.parentDimensions;this.setDims(ze*m,Ge*Se),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Le),window.addEventListener("blur",Le)},sr=function(we,xe){const[fe,Ee]=this.parentDimensions,ce=this.x,de=this.y,be=this.width,ue=this.height,m=Ce.MIN_SIZE/fe,Se=Ce.MIN_SIZE/Ee,Te=_t=>Math.round(_t*1e4)/1e4,Me=We(this,he,An).call(this,this.rotation),Le=(_t,gt)=>[Me[0]*_t+Me[2]*gt,Me[1]*_t+Me[3]*gt],Ue=We(this,he,An).call(this,360-this.rotation),Xe=(_t,gt)=>[Ue[0]*_t+Ue[2]*gt,Ue[1]*_t+Ue[3]*gt];let Ve,Ke,ze=!1,Ge=!1;switch(we){case"topLeft":ze=!0,Ve=(_t,gt)=>[0,0],Ke=(_t,gt)=>[_t,gt];break;case"topMiddle":Ve=(_t,gt)=>[_t/2,0],Ke=(_t,gt)=>[_t/2,gt];break;case"topRight":ze=!0,Ve=(_t,gt)=>[_t,0],Ke=(_t,gt)=>[0,gt];break;case"middleRight":Ge=!0,Ve=(_t,gt)=>[_t,gt/2],Ke=(_t,gt)=>[0,gt/2];break;case"bottomRight":ze=!0,Ve=(_t,gt)=>[_t,gt],Ke=(_t,gt)=>[0,0];break;case"bottomMiddle":Ve=(_t,gt)=>[_t/2,gt],Ke=(_t,gt)=>[_t/2,0];break;case"bottomLeft":ze=!0,Ve=(_t,gt)=>[0,gt],Ke=(_t,gt)=>[_t,0];break;case"middleLeft":Ge=!0,Ve=(_t,gt)=>[0,gt/2],Ke=(_t,gt)=>[_t,gt/2];break}const Oe=Ve(be,ue),$e=Ke(be,ue);let He=Le(...$e);const Ye=Te(ce+He[0]),nt=Te(de+He[1]);let ot=1,st=1,[Be,ct]=this.screenToPageTranslation(xe.movementX,xe.movementY);if([Be,ct]=Xe(Be/fe,ct/Ee),ze){const _t=Math.hypot(be,ue);ot=st=Math.max(Math.min(Math.hypot($e[0]-Oe[0]-Be,$e[1]-Oe[1]-ct)/_t,1/be,1/ue),m/be,Se/ue)}else Ge?ot=Math.max(m,Math.min(1,Math.abs($e[0]-Oe[0]-Be)))/be:st=Math.max(Se,Math.min(1,Math.abs($e[1]-Oe[1]-ct)))/ue;const dt=Te(be*ot),xt=Te(ue*st);He=Le(...Ke(dt,xt));const At=Ye-He[0],Ot=nt-He[1];this.width=dt,this.height=xt,this.x=At,this.y=Ot,this.setDims(fe*dt,Ee*xt),this.fixAndSetPosition()},Cn=async function(){var fe;const we=ge(this,$);if(!we)return;if(!ge(this,re)&&!ge(this,_)){we.classList.remove("done"),(fe=ge(this,_e))==null||fe.remove();return}Ce._l10nPromise.get("editor_alt_text_edit_button_label").then(Ee=>{we.setAttribute("aria-label",Ee)});let xe=ge(this,_e);if(!xe){Ze(this,_e,xe=document.createElement("span")),xe.className="tooltip",xe.setAttribute("role","tooltip");const Ee=xe.id=`alt-text-tooltip-${this.id}`;we.setAttribute("aria-describedby",Ee);const ce=100;we.addEventListener("mouseenter",()=>{Ze(this,ve,setTimeout(()=>{Ze(this,ve,null),ge(this,_e).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},ce))}),we.addEventListener("mouseleave",()=>{var de;clearTimeout(ge(this,ve)),Ze(this,ve,null),(de=ge(this,_e))==null||de.classList.remove("show")})}we.classList.add("done"),xe.innerText=ge(this,_)?await Ce._l10nPromise.get("editor_alt_text_decorative_tooltip"):ge(this,re),xe.parentNode||we.append(xe)},or=function(we){if(!this._isDraggable)return;const xe=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let fe,Ee;xe&&(fe={passive:!0,capture:!0},Ee=de=>{const[be,ue]=this.screenToPageTranslation(de.movementX,de.movementY);this._uiManager.dragSelectedEditors(be,ue)},window.addEventListener("pointermove",Ee,fe));const ce=()=>{if(window.removeEventListener("pointerup",ce),window.removeEventListener("blur",ce),xe&&window.removeEventListener("pointermove",Ee,fe),Ze(this,g,!1),!this._uiManager.endDragSession()){const{isMac:de}=c.FeatureTest.platform;we.ctrlKey&&!de||we.shiftKey||we.metaKey&&de?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",ce),window.addEventListener("blur",ce)},Qe(Ce,ie),Lt(Ce,"_borderLineWidth",-1),Lt(Ce,"_colorManager",new a.ColorManager),Lt(Ce,"_zIndex",1),Lt(Ce,"SMALL_EDITOR_SIZE",0);let d=Ce;i.AnnotationEditor=d;class f extends d{constructor(we){super(we),this.annotationElementId=we.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,o)=>{var te,b,me,j,g,xn,q,ee,he,oe,le,ar,ae,ye,Pe,Ie,Re,Ne,Ce,Fe,we,xe,fe,Ee,ce,de,be,ue,m,Se,Te,Me,Le,Ue,Xe,Ve,Ke,ze,Ge,Oe,$e,He,Ye,nt,ot,st,Be,lr,Pn,On,an,Tn,Mn,Nt,Qt,cr,ur,$n,Jt,jn;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=h,i.opacityToHex=d;var a=o(1),c=o(6);function h($t,ke,it){for(const ht of it)ke.addEventListener(ht,$t[ht].bind($t))}function d($t){return Math.round(Math.min(255,Math.max(1,255*$t))).toString(16).padStart(2,"0")}class f{constructor(){Qe(this,te,0)}getId(){return`${a.AnnotationEditorPrefix}${Kt(this,te)._++}`}}te=new WeakMap;const se=class se{constructor(){Qe(this,g);Qe(this,b,(0,a.getUuid)());Qe(this,me,0);Qe(this,j,null)}static get _isSVGFittingCanvas(){const ke='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ht=new OffscreenCanvas(1,3).getContext("2d"),yt=new Image;yt.src=ke;const wt=yt.decode().then(()=>(ht.drawImage(yt,0,0,1,1,0,0,1,3),new Uint32Array(ht.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",wt)}async getFromFile(ke){const{lastModified:it,name:ht,size:yt,type:wt}=ke;return We(this,g,xn).call(this,`${it}_${ht}_${yt}_${wt}`,ke)}async getFromUrl(ke){return We(this,g,xn).call(this,ke,ke)}async getFromId(ke){ge(this,j)||Ze(this,j,new Map);const it=ge(this,j).get(ke);return it?it.bitmap?(it.refCounter+=1,it):it.file?this.getFromFile(it.file):this.getFromUrl(it.url):null}getSvgUrl(ke){const it=ge(this,j).get(ke);return it!=null&&it.isSvg?it.svgUrl:null}deleteId(ke){ge(this,j)||Ze(this,j,new Map);const it=ge(this,j).get(ke);it&&(it.refCounter-=1,it.refCounter===0&&(it.bitmap=null))}isValidId(ke){return ke.startsWith(`image_${ge(this,b)}_`)}};b=new WeakMap,me=new WeakMap,j=new WeakMap,g=new WeakSet,xn=async function(ke,it){ge(this,j)||Ze(this,j,new Map);let ht=ge(this,j).get(ke);if(ht===null)return null;if(ht!=null&&ht.bitmap)return ht.refCounter+=1,ht;try{ht||(ht={bitmap:null,id:`image_${ge(this,b)}_${Kt(this,me)._++}`,refCounter:0,isSvg:!1});let yt;if(typeof it=="string"){ht.url=it;const wt=await fetch(it);if(!wt.ok)throw new Error(wt.statusText);yt=await wt.blob()}else yt=ht.file=it;if(yt.type==="image/svg+xml"){const wt=se._isSVGFittingCanvas,pt=new FileReader,De=new Image,je=new Promise((qe,tt)=>{De.onload=()=>{ht.bitmap=De,ht.isSvg=!0,qe()},pt.onload=async()=>{const rt=ht.svgUrl=pt.result;De.src=await wt?`${rt}#svgView(preserveAspectRatio(none))`:rt},De.onerror=pt.onerror=tt});pt.readAsDataURL(yt),await je}else ht.bitmap=await createImageBitmap(yt);ht.refCounter=1}catch(yt){console.error(yt),ht=null}return ge(this,j).set(ke,ht),ht&&ge(this,j).set(ht.id,ht),ht};let re=se;class _{constructor(ke=128){Qe(this,q,[]);Qe(this,ee,!1);Qe(this,he);Qe(this,oe,-1);Ze(this,he,ke)}add({cmd:ke,undo:it,mustExec:ht,type:yt=NaN,overwriteIfSameType:wt=!1,keepUndo:pt=!1}){if(ht&&ke(),ge(this,ee))return;const De={cmd:ke,undo:it,type:yt};if(ge(this,oe)===-1){ge(this,q).length>0&&(ge(this,q).length=0),Ze(this,oe,0),ge(this,q).push(De);return}if(wt&&ge(this,q)[ge(this,oe)].type===yt){pt&&(De.undo=ge(this,q)[ge(this,oe)].undo),ge(this,q)[ge(this,oe)]=De;return}const je=ge(this,oe)+1;je===ge(this,he)?ge(this,q).splice(0,1):(Ze(this,oe,je),je<ge(this,q).length&&ge(this,q).splice(je)),ge(this,q).push(De)}undo(){ge(this,oe)!==-1&&(Ze(this,ee,!0),ge(this,q)[ge(this,oe)].undo(),Ze(this,ee,!1),Ze(this,oe,ge(this,oe)-1))}redo(){ge(this,oe)<ge(this,q).length-1&&(Ze(this,oe,ge(this,oe)+1),Ze(this,ee,!0),ge(this,q)[ge(this,oe)].cmd(),Ze(this,ee,!1))}hasSomethingToUndo(){return ge(this,oe)!==-1}hasSomethingToRedo(){return ge(this,oe)<ge(this,q).length-1}destroy(){Ze(this,q,null)}}q=new WeakMap,ee=new WeakMap,he=new WeakMap,oe=new WeakMap,i.CommandManager=_;class ${constructor(ke){Qe(this,le);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:it}=a.FeatureTest.platform;for(const[ht,yt,wt={}]of ke)for(const pt of ht){const De=pt.startsWith("mac+");it&&De?(this.callbacks.set(pt.slice(4),{callback:yt,options:wt}),this.allKeys.add(pt.split("+").at(-1))):!it&&!De&&(this.callbacks.set(pt,{callback:yt,options:wt}),this.allKeys.add(pt.split("+").at(-1)))}}exec(ke,it){if(!this.allKeys.has(it.key))return;const ht=this.callbacks.get(We(this,le,ar).call(this,it));if(!ht)return;const{callback:yt,options:{bubbles:wt=!1,args:pt=[],checker:De=null}}=ht;De&&!De(ke,it)||(yt.bind(ke,...pt)(),wt||(it.stopPropagation(),it.preventDefault()))}}le=new WeakSet,ar=function(ke){ke.altKey&&this.buffer.push("alt"),ke.ctrlKey&&this.buffer.push("ctrl"),ke.metaKey&&this.buffer.push("meta"),ke.shiftKey&&this.buffer.push("shift"),this.buffer.push(ke.key);const it=this.buffer.join("+");return this.buffer.length=0,it},i.KeyboardManager=$;const Ae=class Ae{get _colors(){const ke=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(ke),(0,a.shadow)(this,"_colors",ke)}convert(ke){const it=(0,c.getRGB)(ke);if(!window.matchMedia("(forced-colors: active)").matches)return it;for(const[ht,yt]of this._colors)if(yt.every((wt,pt)=>wt===it[pt]))return Ae._colorsMapping.get(ht);return it}getHexCode(ke){const it=this._colors.get(ke);return it?a.Util.makeHexColor(...it):ke}};Lt(Ae,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _e=Ae;i.ColorManager=_e;const jt=class jt{constructor(ke,it,ht,yt,wt,pt){Qe(this,Be);Qe(this,ae,null);Qe(this,ye,new Map);Qe(this,Pe,new Map);Qe(this,Ie,null);Qe(this,Re,null);Qe(this,Ne,new _);Qe(this,Ce,0);Qe(this,Fe,new Set);Qe(this,we,null);Qe(this,xe,null);Qe(this,fe,new Set);Qe(this,Ee,null);Qe(this,ce,new f);Qe(this,de,!1);Qe(this,be,!1);Qe(this,ue,null);Qe(this,m,a.AnnotationEditorType.NONE);Qe(this,Se,new Set);Qe(this,Te,null);Qe(this,Me,this.blur.bind(this));Qe(this,Le,this.focus.bind(this));Qe(this,Ue,this.copy.bind(this));Qe(this,Xe,this.cut.bind(this));Qe(this,Ve,this.paste.bind(this));Qe(this,Ke,this.keydown.bind(this));Qe(this,ze,this.onEditingAction.bind(this));Qe(this,Ge,this.onPageChanging.bind(this));Qe(this,Oe,this.onScaleChanging.bind(this));Qe(this,$e,this.onRotationChanging.bind(this));Qe(this,He,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Qe(this,Ye,[0,0]);Qe(this,nt,null);Qe(this,ot,null);Qe(this,st,null);Ze(this,ot,ke),Ze(this,st,it),Ze(this,Ie,ht),this._eventBus=yt,this._eventBus._on("editingaction",ge(this,ze)),this._eventBus._on("pagechanging",ge(this,Ge)),this._eventBus._on("scalechanging",ge(this,Oe)),this._eventBus._on("rotationchanging",ge(this,$e)),Ze(this,Re,wt.annotationStorage),Ze(this,Ee,wt.filterFactory),Ze(this,Te,pt),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const ke=jt.prototype,it=wt=>{const{activeElement:pt}=document;return pt&&ge(wt,ot).contains(pt)&&wt.hasSomethingToControl()},ht=this.TRANSLATE_SMALL,yt=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new $([[["ctrl+a","mac+meta+a"],ke.selectAll],[["ctrl+z","mac+meta+z"],ke.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ke.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ke.delete],[["Escape","mac+Escape"],ke.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ke.translateSelectedEditors,{args:[-ht,0],checker:it}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ke.translateSelectedEditors,{args:[-yt,0],checker:it}],[["ArrowRight","mac+ArrowRight"],ke.translateSelectedEditors,{args:[ht,0],checker:it}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ke.translateSelectedEditors,{args:[yt,0],checker:it}],[["ArrowUp","mac+ArrowUp"],ke.translateSelectedEditors,{args:[0,-ht],checker:it}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ke.translateSelectedEditors,{args:[0,-yt],checker:it}],[["ArrowDown","mac+ArrowDown"],ke.translateSelectedEditors,{args:[0,ht],checker:it}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ke.translateSelectedEditors,{args:[0,yt],checker:it}]]))}destroy(){We(this,Be,an).call(this),We(this,Be,Pn).call(this),this._eventBus._off("editingaction",ge(this,ze)),this._eventBus._off("pagechanging",ge(this,Ge)),this._eventBus._off("scalechanging",ge(this,Oe)),this._eventBus._off("rotationchanging",ge(this,$e));for(const ke of ge(this,Pe).values())ke.destroy();ge(this,Pe).clear(),ge(this,ye).clear(),ge(this,fe).clear(),Ze(this,ae,null),ge(this,Se).clear(),ge(this,Ne).destroy(),ge(this,Ie).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",ge(this,Te)?ge(this,Ee).addHCMFilter(ge(this,Te).foreground,ge(this,Te).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(ge(this,ot)).direction)}editAltText(ke){var it;(it=ge(this,Ie))==null||it.editAltText(this,ke)}onPageChanging({pageNumber:ke}){Ze(this,Ce,ke-1)}focusMainContainer(){ge(this,ot).focus()}findParent(ke,it){for(const ht of ge(this,Pe).values()){const{x:yt,y:wt,width:pt,height:De}=ht.div.getBoundingClientRect();if(ke>=yt&&ke<=yt+pt&&it>=wt&&it<=wt+De)return ht}return null}disableUserSelect(ke=!1){ge(this,st).classList.toggle("noUserSelect",ke)}addShouldRescale(ke){ge(this,fe).add(ke)}removeShouldRescale(ke){ge(this,fe).delete(ke)}onScaleChanging({scale:ke}){this.commitOrRemove(),this.viewParameters.realScale=ke*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const it of ge(this,fe))it.onScaleChanging()}onRotationChanging({pagesRotation:ke}){this.commitOrRemove(),this.viewParameters.rotation=ke}addToAnnotationStorage(ke){!ke.isEmpty()&&ge(this,Re)&&!ge(this,Re).has(ke.id)&&ge(this,Re).setValue(ke.id,ke)}blur(){if(!this.hasSelection)return;const{activeElement:ke}=document;for(const it of ge(this,Se))if(it.div.contains(ke)){Ze(this,ue,[it,ke]),it._focusEventsAllowed=!1;break}}focus(){if(!ge(this,ue))return;const[ke,it]=ge(this,ue);Ze(this,ue,null),it.addEventListener("focusin",()=>{ke._focusEventsAllowed=!0},{once:!0}),it.focus()}addEditListeners(){We(this,Be,On).call(this),We(this,Be,Tn).call(this)}removeEditListeners(){We(this,Be,an).call(this),We(this,Be,Mn).call(this)}copy(ke){var ht;if(ke.preventDefault(),(ht=ge(this,ae))==null||ht.commitOrRemove(),!this.hasSelection)return;const it=[];for(const yt of ge(this,Se)){const wt=yt.serialize(!0);wt&&it.push(wt)}it.length!==0&&ke.clipboardData.setData("application/pdfjs",JSON.stringify(it))}cut(ke){this.copy(ke),this.delete()}paste(ke){ke.preventDefault();const{clipboardData:it}=ke;for(const wt of it.items)for(const pt of ge(this,xe))if(pt.isHandlingMimeForPasting(wt.type)){pt.paste(wt,this.currentLayer);return}let ht=it.getData("application/pdfjs");if(!ht)return;try{ht=JSON.parse(ht)}catch(wt){(0,a.warn)(`paste: "${wt.message}".`);return}if(!Array.isArray(ht))return;this.unselectAll();const yt=this.currentLayer;try{const wt=[];for(const je of ht){const qe=yt.deserialize(je);if(!qe)return;wt.push(qe)}const pt=()=>{for(const je of wt)We(this,Be,$n).call(this,je);We(this,Be,jn).call(this,wt)},De=()=>{for(const je of wt)je.remove()};this.addCommands({cmd:pt,undo:De,mustExec:!0})}catch(wt){(0,a.warn)(`paste: "${wt.message}".`)}}keydown(ke){var it;(it=this.getActive())!=null&&it.shouldGetKeyboardEvents()||jt._keyboardManager.exec(this,ke)}onEditingAction(ke){["undo","redo","delete","selectAll"].includes(ke.name)&&this[ke.name]()}setEditingState(ke){ke?(We(this,Be,lr).call(this),We(this,Be,On).call(this),We(this,Be,Tn).call(this),We(this,Be,Nt).call(this,{isEditing:ge(this,m)!==a.AnnotationEditorType.NONE,isEmpty:We(this,Be,Jt).call(this),hasSomethingToUndo:ge(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:ge(this,Ne).hasSomethingToRedo(),hasSelectedEditor:!1})):(We(this,Be,Pn).call(this),We(this,Be,an).call(this),We(this,Be,Mn).call(this),We(this,Be,Nt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ke){if(!ge(this,xe)){Ze(this,xe,ke);for(const it of ge(this,xe))We(this,Be,Qt).call(this,it.defaultPropertiesToUpdate)}}getId(){return ge(this,ce).getId()}get currentLayer(){return ge(this,Pe).get(ge(this,Ce))}getLayer(ke){return ge(this,Pe).get(ke)}get currentPageIndex(){return ge(this,Ce)}addLayer(ke){ge(this,Pe).set(ke.pageIndex,ke),ge(this,de)?ke.enable():ke.disable()}removeLayer(ke){ge(this,Pe).delete(ke.pageIndex)}updateMode(ke,it=null){if(ge(this,m)!==ke){if(Ze(this,m,ke),ke===a.AnnotationEditorType.NONE){this.setEditingState(!1),We(this,Be,ur).call(this);return}this.setEditingState(!0),We(this,Be,cr).call(this),this.unselectAll();for(const ht of ge(this,Pe).values())ht.updateMode(ke);if(it){for(const ht of ge(this,ye).values())if(ht.annotationElementId===it){this.setSelected(ht),ht.enterInEditMode();break}}}}updateToolbar(ke){ke!==ge(this,m)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:ke})}updateParams(ke,it){if(ge(this,xe)){if(ke===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(ke);return}for(const ht of ge(this,Se))ht.updateParams(ke,it);for(const ht of ge(this,xe))ht.updateDefaultParams(ke,it)}}enableWaiting(ke=!1){if(ge(this,be)!==ke){Ze(this,be,ke);for(const it of ge(this,Pe).values())ke?it.disableClick():it.enableClick(),it.div.classList.toggle("waiting",ke)}}getEditors(ke){const it=[];for(const ht of ge(this,ye).values())ht.pageIndex===ke&&it.push(ht);return it}getEditor(ke){return ge(this,ye).get(ke)}addEditor(ke){ge(this,ye).set(ke.id,ke)}removeEditor(ke){var it;ge(this,ye).delete(ke.id),this.unselect(ke),(!ke.annotationElementId||!ge(this,Fe).has(ke.annotationElementId))&&((it=ge(this,Re))==null||it.remove(ke.id))}addDeletedAnnotationElement(ke){ge(this,Fe).add(ke.annotationElementId),ke.deleted=!0}isDeletedAnnotationElement(ke){return ge(this,Fe).has(ke)}removeDeletedAnnotationElement(ke){ge(this,Fe).delete(ke.annotationElementId),ke.deleted=!1}setActiveEditor(ke){ge(this,ae)!==ke&&(Ze(this,ae,ke),ke&&We(this,Be,Qt).call(this,ke.propertiesToUpdate))}toggleSelected(ke){if(ge(this,Se).has(ke)){ge(this,Se).delete(ke),ke.unselect(),We(this,Be,Nt).call(this,{hasSelectedEditor:this.hasSelection});return}ge(this,Se).add(ke),ke.select(),We(this,Be,Qt).call(this,ke.propertiesToUpdate),We(this,Be,Nt).call(this,{hasSelectedEditor:!0})}setSelected(ke){for(const it of ge(this,Se))it!==ke&&it.unselect();ge(this,Se).clear(),ge(this,Se).add(ke),ke.select(),We(this,Be,Qt).call(this,ke.propertiesToUpdate),We(this,Be,Nt).call(this,{hasSelectedEditor:!0})}isSelected(ke){return ge(this,Se).has(ke)}unselect(ke){ke.unselect(),ge(this,Se).delete(ke),We(this,Be,Nt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ge(this,Se).size!==0}undo(){ge(this,Ne).undo(),We(this,Be,Nt).call(this,{hasSomethingToUndo:ge(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:We(this,Be,Jt).call(this)})}redo(){ge(this,Ne).redo(),We(this,Be,Nt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ge(this,Ne).hasSomethingToRedo(),isEmpty:We(this,Be,Jt).call(this)})}addCommands(ke){ge(this,Ne).add(ke),We(this,Be,Nt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:We(this,Be,Jt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ke=[...ge(this,Se)],it=()=>{for(const yt of ke)yt.remove()},ht=()=>{for(const yt of ke)We(this,Be,$n).call(this,yt)};this.addCommands({cmd:it,undo:ht,mustExec:!0})}commitOrRemove(){var ke;(ke=ge(this,ae))==null||ke.commitOrRemove()}hasSomethingToControl(){return ge(this,ae)||this.hasSelection}selectAll(){for(const ke of ge(this,Se))ke.commit();We(this,Be,jn).call(this,ge(this,ye).values())}unselectAll(){if(ge(this,ae)){ge(this,ae).commitOrRemove();return}if(this.hasSelection){for(const ke of ge(this,Se))ke.unselect();ge(this,Se).clear(),We(this,Be,Nt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ke,it,ht=!1){if(ht||this.commitOrRemove(),!this.hasSelection)return;ge(this,Ye)[0]+=ke,ge(this,Ye)[1]+=it;const[yt,wt]=ge(this,Ye),pt=[...ge(this,Se)],De=1e3;ge(this,nt)&&clearTimeout(ge(this,nt)),Ze(this,nt,setTimeout(()=>{Ze(this,nt,null),ge(this,Ye)[0]=ge(this,Ye)[1]=0,this.addCommands({cmd:()=>{for(const je of pt)ge(this,ye).has(je.id)&&je.translateInPage(yt,wt)},undo:()=>{for(const je of pt)ge(this,ye).has(je.id)&&je.translateInPage(-yt,-wt)},mustExec:!1})},De));for(const je of pt)je.translateInPage(ke,it)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ze(this,we,new Map);for(const ke of ge(this,Se))ge(this,we).set(ke,{savedX:ke.x,savedY:ke.y,savedPageIndex:ke.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ge(this,we))return!1;this.disableUserSelect(!1);const ke=ge(this,we);Ze(this,we,null);let it=!1;for(const[{x:yt,y:wt,pageIndex:pt},De]of ke)De.newX=yt,De.newY=wt,De.newPageIndex=pt,it||(it=yt!==De.savedX||wt!==De.savedY||pt!==De.savedPageIndex);if(!it)return!1;const ht=(yt,wt,pt,De)=>{if(ge(this,ye).has(yt.id)){const je=ge(this,Pe).get(De);je?yt._setParentAndPosition(je,wt,pt):(yt.pageIndex=De,yt.x=wt,yt.y=pt)}};return this.addCommands({cmd:()=>{for(const[yt,{newX:wt,newY:pt,newPageIndex:De}]of ke)ht(yt,wt,pt,De)},undo:()=>{for(const[yt,{savedX:wt,savedY:pt,savedPageIndex:De}]of ke)ht(yt,wt,pt,De)},mustExec:!0}),!0}dragSelectedEditors(ke,it){if(ge(this,we))for(const ht of ge(this,we).keys())ht.drag(ke,it)}rebuild(ke){if(ke.parent===null){const it=this.getLayer(ke.pageIndex);it?(it.changeParent(ke),it.addOrRebuild(ke)):(this.addEditor(ke),this.addToAnnotationStorage(ke),ke.rebuild())}else ke.parent.addOrRebuild(ke)}isActive(ke){return ge(this,ae)===ke}getActive(){return ge(this,ae)}getMode(){return ge(this,m)}get imageManager(){return(0,a.shadow)(this,"imageManager",new re)}};ae=new WeakMap,ye=new WeakMap,Pe=new WeakMap,Ie=new WeakMap,Re=new WeakMap,Ne=new WeakMap,Ce=new WeakMap,Fe=new WeakMap,we=new WeakMap,xe=new WeakMap,fe=new WeakMap,Ee=new WeakMap,ce=new WeakMap,de=new WeakMap,be=new WeakMap,ue=new WeakMap,m=new WeakMap,Se=new WeakMap,Te=new WeakMap,Me=new WeakMap,Le=new WeakMap,Ue=new WeakMap,Xe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ge=new WeakMap,Oe=new WeakMap,$e=new WeakMap,He=new WeakMap,Ye=new WeakMap,nt=new WeakMap,ot=new WeakMap,st=new WeakMap,Be=new WeakSet,lr=function(){window.addEventListener("focus",ge(this,Le)),window.addEventListener("blur",ge(this,Me))},Pn=function(){window.removeEventListener("focus",ge(this,Le)),window.removeEventListener("blur",ge(this,Me))},On=function(){window.addEventListener("keydown",ge(this,Ke),{capture:!0})},an=function(){window.removeEventListener("keydown",ge(this,Ke),{capture:!0})},Tn=function(){document.addEventListener("copy",ge(this,Ue)),document.addEventListener("cut",ge(this,Xe)),document.addEventListener("paste",ge(this,Ve))},Mn=function(){document.removeEventListener("copy",ge(this,Ue)),document.removeEventListener("cut",ge(this,Xe)),document.removeEventListener("paste",ge(this,Ve))},Nt=function(ke){Object.entries(ke).some(([ht,yt])=>ge(this,He)[ht]!==yt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ge(this,He),ke)})},Qt=function(ke){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ke})},cr=function(){if(!ge(this,de)){Ze(this,de,!0);for(const ke of ge(this,Pe).values())ke.enable()}},ur=function(){if(this.unselectAll(),ge(this,de)){Ze(this,de,!1);for(const ke of ge(this,Pe).values())ke.disable()}},$n=function(ke){const it=ge(this,Pe).get(ke.pageIndex);it?it.addOrRebuild(ke):this.addEditor(ke)},Jt=function(){if(ge(this,ye).size===0)return!0;if(ge(this,ye).size===1)for(const ke of ge(this,ye).values())return ke.isEmpty();return!1},jn=function(ke){ge(this,Se).clear();for(const it of ke)it.isEmpty()||(ge(this,Se).add(it),it.select());We(this,Be,Nt).call(this,{hasSelectedEditor:!0})},Lt(jt,"TRANSLATE_SMALL",1),Lt(jt,"TRANSLATE_BIG",10);let ve=jt;i.AnnotationEditorUIManager=ve},(e,i,o)=>{var Ce,Fe,we,xe,fe,Ee,ce,de,be,ue,m,Se,qt,Wt,Rn,ln,cn,Zt,en;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=oe,i.getColorValues=ye,i.getCurrentTransform=Pe,i.getCurrentTransformInverse=Ie,i.getFilenameFromUrl=g,i.getPdfFilenameFromUrl=ne,i.getRGB=ae,i.getXfaPageViewport=Ae,i.isDataScheme=me,i.isPdfFile=j,i.isValidFetchUrl=q,i.loadScript=he,i.noContextMenu=ee,i.setLayerDimensions=Re;var a=o(7),c=o(1);const h="http://www.w3.org/2000/svg",Ne=class Ne{};Lt(Ne,"CSS",96),Lt(Ne,"PDF",72),Lt(Ne,"PDF_TO_CSS_UNITS",Ne.CSS/Ne.PDF);let d=Ne;i.PixelsPerInch=d;class f extends a.BaseFilterFactory{constructor({docId:Oe,ownerDocument:$e=globalThis.document}={}){super();Qe(this,Se);Qe(this,Ce);Qe(this,Fe);Qe(this,we);Qe(this,xe);Qe(this,fe);Qe(this,Ee);Qe(this,ce);Qe(this,de);Qe(this,be);Qe(this,ue);Qe(this,m,0);Ze(this,we,Oe),Ze(this,xe,$e)}addFilter(Oe){if(!Oe)return"none";let $e=ge(this,Se,qt).get(Oe);if($e)return $e;let He,Ye,nt,ot;if(Oe.length===1){const dt=Oe[0],xt=new Array(256);for(let At=0;At<256;At++)xt[At]=dt[At]/255;ot=He=Ye=nt=xt.join(",")}else{const[dt,xt,At]=Oe,Ot=new Array(256),_t=new Array(256),gt=new Array(256);for(let Tt=0;Tt<256;Tt++)Ot[Tt]=dt[Tt]/255,_t[Tt]=xt[Tt]/255,gt[Tt]=At[Tt]/255;He=Ot.join(","),Ye=_t.join(","),nt=gt.join(","),ot=`${He}${Ye}${nt}`}if($e=ge(this,Se,qt).get(ot),$e)return ge(this,Se,qt).set(Oe,$e),$e;const st=`g_${ge(this,we)}_transfer_map_${Kt(this,m)._++}`,Be=`url(#${st})`;ge(this,Se,qt).set(Oe,Be),ge(this,Se,qt).set(ot,Be);const ct=We(this,Se,ln).call(this,st);return We(this,Se,Zt).call(this,He,Ye,nt,ct),Be}addHCMFilter(Oe,$e){var xt;const He=`${Oe}-${$e}`;if(ge(this,Ee)===He)return ge(this,ce);if(Ze(this,Ee,He),Ze(this,ce,"none"),(xt=ge(this,fe))==null||xt.remove(),!Oe||!$e)return ge(this,ce);const Ye=We(this,Se,en).call(this,Oe);Oe=c.Util.makeHexColor(...Ye);const nt=We(this,Se,en).call(this,$e);if($e=c.Util.makeHexColor(...nt),ge(this,Se,Wt).style.color="",Oe==="#000000"&&$e==="#ffffff"||Oe===$e)return ge(this,ce);const ot=new Array(256);for(let At=0;At<=255;At++){const Ot=At/255;ot[At]=Ot<=.03928?Ot/12.92:((Ot+.055)/1.055)**2.4}const st=ot.join(","),Be=`g_${ge(this,we)}_hcm_filter`,ct=Ze(this,de,We(this,Se,ln).call(this,Be));We(this,Se,Zt).call(this,st,st,st,ct),We(this,Se,Rn).call(this,ct);const dt=(At,Ot)=>{const _t=Ye[At]/255,gt=nt[At]/255,Tt=new Array(Ot+1);for(let Rt=0;Rt<=Ot;Rt++)Tt[Rt]=_t+Rt/Ot*(gt-_t);return Tt.join(",")};return We(this,Se,Zt).call(this,dt(0,5),dt(1,5),dt(2,5),ct),Ze(this,ce,`url(#${Be})`),ge(this,ce)}addHighlightHCMFilter(Oe,$e,He,Ye){var gt;const nt=`${Oe}-${$e}-${He}-${Ye}`;if(ge(this,be)===nt)return ge(this,ue);if(Ze(this,be,nt),Ze(this,ue,"none"),(gt=ge(this,de))==null||gt.remove(),!Oe||!$e)return ge(this,ue);const[ot,st]=[Oe,$e].map(We(this,Se,en).bind(this));let Be=Math.round(.2126*ot[0]+.7152*ot[1]+.0722*ot[2]),ct=Math.round(.2126*st[0]+.7152*st[1]+.0722*st[2]),[dt,xt]=[He,Ye].map(We(this,Se,en).bind(this));ct<Be&&([Be,ct,dt,xt]=[ct,Be,xt,dt]),ge(this,Se,Wt).style.color="";const At=(Tt,Rt,lt)=>{const Je=new Array(256),et=(ct-Be)/lt,mt=Tt/255,jt=(Rt-Tt)/(255*lt);let $t=0;for(let ke=0;ke<=lt;ke++){const it=Math.round(Be+ke*et),ht=mt+ke*jt;for(let yt=$t;yt<=it;yt++)Je[yt]=ht;$t=it+1}for(let ke=$t;ke<256;ke++)Je[ke]=Je[$t-1];return Je.join(",")},Ot=`g_${ge(this,we)}_hcm_highlight_filter`,_t=Ze(this,de,We(this,Se,ln).call(this,Ot));return We(this,Se,Rn).call(this,_t),We(this,Se,Zt).call(this,At(dt[0],xt[0],5),At(dt[1],xt[1],5),At(dt[2],xt[2],5),_t),Ze(this,ue,`url(#${Ot})`),ge(this,ue)}destroy(Oe=!1){Oe&&(ge(this,ce)||ge(this,ue))||(ge(this,Fe)&&(ge(this,Fe).parentNode.parentNode.remove(),Ze(this,Fe,null)),ge(this,Ce)&&(ge(this,Ce).clear(),Ze(this,Ce,null)),Ze(this,m,0))}}Ce=new WeakMap,Fe=new WeakMap,we=new WeakMap,xe=new WeakMap,fe=new WeakMap,Ee=new WeakMap,ce=new WeakMap,de=new WeakMap,be=new WeakMap,ue=new WeakMap,m=new WeakMap,Se=new WeakSet,qt=function(){return ge(this,Ce)||Ze(this,Ce,new Map)},Wt=function(){if(!ge(this,Fe)){const Oe=ge(this,xe).createElement("div"),{style:$e}=Oe;$e.visibility="hidden",$e.contain="strict",$e.width=$e.height=0,$e.position="absolute",$e.top=$e.left=0,$e.zIndex=-1;const He=ge(this,xe).createElementNS(h,"svg");He.setAttribute("width",0),He.setAttribute("height",0),Ze(this,Fe,ge(this,xe).createElementNS(h,"defs")),Oe.append(He),He.append(ge(this,Fe)),ge(this,xe).body.append(Oe)}return ge(this,Fe)},Rn=function(Oe){const $e=ge(this,xe).createElementNS(h,"feColorMatrix");$e.setAttribute("type","matrix"),$e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Oe.append($e)},ln=function(Oe){const $e=ge(this,xe).createElementNS(h,"filter");return $e.setAttribute("color-interpolation-filters","sRGB"),$e.setAttribute("id",Oe),ge(this,Se,Wt).append($e),$e},cn=function(Oe,$e,He){const Ye=ge(this,xe).createElementNS(h,$e);Ye.setAttribute("type","discrete"),Ye.setAttribute("tableValues",He),Oe.append(Ye)},Zt=function(Oe,$e,He,Ye){const nt=ge(this,xe).createElementNS(h,"feComponentTransfer");Ye.append(nt),We(this,Se,cn).call(this,nt,"feFuncR",Oe),We(this,Se,cn).call(this,nt,"feFuncG",$e),We(this,Se,cn).call(this,nt,"feFuncB",He)},en=function(Oe){return ge(this,Se,Wt).style.color=Oe,ae(getComputedStyle(ge(this,Se,Wt)).getPropertyValue("color"))},i.DOMFilterFactory=f;class re extends a.BaseCanvasFactory{constructor({ownerDocument:Ge=globalThis.document}={}){super(),this._document=Ge}_createCanvas(Ge,Oe){const $e=this._document.createElement("canvas");return $e.width=Ge,$e.height=Oe,$e}}i.DOMCanvasFactory=re;async function _(ze,Ge=!1){if(q(ze,document.baseURI)){const Oe=await fetch(ze);if(!Oe.ok)throw new Error(Oe.statusText);return Ge?new Uint8Array(await Oe.arrayBuffer()):(0,c.stringToBytes)(await Oe.text())}return new Promise((Oe,$e)=>{const He=new XMLHttpRequest;He.open("GET",ze,!0),Ge&&(He.responseType="arraybuffer"),He.onreadystatechange=()=>{if(He.readyState===XMLHttpRequest.DONE){if(He.status===200||He.status===0){let Ye;if(Ge&&He.response?Ye=new Uint8Array(He.response):!Ge&&He.responseText&&(Ye=(0,c.stringToBytes)(He.responseText)),Ye){Oe(Ye);return}}$e(new Error(He.statusText))}},He.send(null)})}class $ extends a.BaseCMapReaderFactory{_fetchData(Ge,Oe){return _(Ge,this.isCompressed).then($e=>({cMapData:$e,compressionType:Oe}))}}i.DOMCMapReaderFactory=$;class _e extends a.BaseStandardFontDataFactory{_fetchData(Ge){return _(Ge,!0)}}i.DOMStandardFontDataFactory=_e;class ve extends a.BaseSVGFactory{_createSVG(Ge){return document.createElementNS(h,Ge)}}i.DOMSVGFactory=ve;class te{constructor({viewBox:Ge,scale:Oe,rotation:$e,offsetX:He=0,offsetY:Ye=0,dontFlip:nt=!1}){this.viewBox=Ge,this.scale=Oe,this.rotation=$e,this.offsetX=He,this.offsetY=Ye;const ot=(Ge[2]+Ge[0])/2,st=(Ge[3]+Ge[1])/2;let Be,ct,dt,xt;switch($e%=360,$e<0&&($e+=360),$e){case 180:Be=-1,ct=0,dt=0,xt=1;break;case 90:Be=0,ct=1,dt=1,xt=0;break;case 270:Be=0,ct=-1,dt=-1,xt=0;break;case 0:Be=1,ct=0,dt=0,xt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}nt&&(dt=-dt,xt=-xt);let At,Ot,_t,gt;Be===0?(At=Math.abs(st-Ge[1])*Oe+He,Ot=Math.abs(ot-Ge[0])*Oe+Ye,_t=(Ge[3]-Ge[1])*Oe,gt=(Ge[2]-Ge[0])*Oe):(At=Math.abs(ot-Ge[0])*Oe+He,Ot=Math.abs(st-Ge[1])*Oe+Ye,_t=(Ge[2]-Ge[0])*Oe,gt=(Ge[3]-Ge[1])*Oe),this.transform=[Be*Oe,ct*Oe,dt*Oe,xt*Oe,At-Be*Oe*ot-dt*Oe*st,Ot-ct*Oe*ot-xt*Oe*st],this.width=_t,this.height=gt}get rawDims(){const{viewBox:Ge}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:Ge[2]-Ge[0],pageHeight:Ge[3]-Ge[1],pageX:Ge[0],pageY:Ge[1]})}clone({scale:Ge=this.scale,rotation:Oe=this.rotation,offsetX:$e=this.offsetX,offsetY:He=this.offsetY,dontFlip:Ye=!1}={}){return new te({viewBox:this.viewBox.slice(),scale:Ge,rotation:Oe,offsetX:$e,offsetY:He,dontFlip:Ye})}convertToViewportPoint(Ge,Oe){return c.Util.applyTransform([Ge,Oe],this.transform)}convertToViewportRectangle(Ge){const Oe=c.Util.applyTransform([Ge[0],Ge[1]],this.transform),$e=c.Util.applyTransform([Ge[2],Ge[3]],this.transform);return[Oe[0],Oe[1],$e[0],$e[1]]}convertToPdfPoint(Ge,Oe){return c.Util.applyInverseTransform([Ge,Oe],this.transform)}}i.PageViewport=te;class b extends c.BaseException{constructor(Ge,Oe=0){super(Ge,"RenderingCancelledException"),this.extraDelay=Oe}}i.RenderingCancelledException=b;function me(ze){const Ge=ze.length;let Oe=0;for(;Oe<Ge&&ze[Oe].trim()==="";)Oe++;return ze.substring(Oe,Oe+5).toLowerCase()==="data:"}function j(ze){return typeof ze=="string"&&/\.pdf$/i.test(ze)}function g(ze,Ge=!1){return Ge||([ze]=ze.split(/[#?]/,1)),ze.substring(ze.lastIndexOf("/")+1)}function ne(ze,Ge="document.pdf"){if(typeof ze!="string")return Ge;if(me(ze))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ge;const Oe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,$e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,He=Oe.exec(ze);let Ye=$e.exec(He[1])||$e.exec(He[2])||$e.exec(He[3]);if(Ye&&(Ye=Ye[0],Ye.includes("%")))try{Ye=$e.exec(decodeURIComponent(Ye))[0]}catch{}return Ye||Ge}class se{constructor(){Lt(this,"started",Object.create(null));Lt(this,"times",[])}time(Ge){Ge in this.started&&(0,c.warn)(`Timer is already running for ${Ge}`),this.started[Ge]=Date.now()}timeEnd(Ge){Ge in this.started||(0,c.warn)(`Timer has not been started for ${Ge}`),this.times.push({name:Ge,start:this.started[Ge],end:Date.now()}),delete this.started[Ge]}toString(){const Ge=[];let Oe=0;for(const{name:$e}of this.times)Oe=Math.max($e.length,Oe);for(const{name:$e,start:He,end:Ye}of this.times)Ge.push(`${$e.padEnd(Oe)} ${Ye-He}ms
`);return Ge.join("")}}i.StatTimer=se;function q(ze,Ge){try{const{protocol:Oe}=Ge?new URL(ze,Ge):new URL(ze);return Oe==="http:"||Oe==="https:"}catch{return!1}}function ee(ze){ze.preventDefault()}function he(ze,Ge=!1){return new Promise((Oe,$e)=>{const He=document.createElement("script");He.src=ze,He.onload=function(Ye){Ge&&He.remove(),Oe(Ye)},He.onerror=function(){$e(new Error(`Cannot load script at: ${He.src}`))},(document.head||document.documentElement).append(He)})}function oe(ze){console.log("Deprecated API usage: "+ze)}let le;class ie{static toDateObject(Ge){if(!Ge||typeof Ge!="string")return null;le||(le=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Oe=le.exec(Ge);if(!Oe)return null;const $e=parseInt(Oe[1],10);let He=parseInt(Oe[2],10);He=He>=1&&He<=12?He-1:0;let Ye=parseInt(Oe[3],10);Ye=Ye>=1&&Ye<=31?Ye:1;let nt=parseInt(Oe[4],10);nt=nt>=0&&nt<=23?nt:0;let ot=parseInt(Oe[5],10);ot=ot>=0&&ot<=59?ot:0;let st=parseInt(Oe[6],10);st=st>=0&&st<=59?st:0;const Be=Oe[7]||"Z";let ct=parseInt(Oe[8],10);ct=ct>=0&&ct<=23?ct:0;let dt=parseInt(Oe[9],10)||0;return dt=dt>=0&&dt<=59?dt:0,Be==="-"?(nt+=ct,ot+=dt):Be==="+"&&(nt-=ct,ot-=dt),new Date(Date.UTC($e,He,Ye,nt,ot,st))}}i.PDFDateString=ie;function Ae(ze,{scale:Ge=1,rotation:Oe=0}){const{width:$e,height:He}=ze.attributes.style,Ye=[0,0,parseInt($e),parseInt(He)];return new te({viewBox:Ye,scale:Ge,rotation:Oe})}function ae(ze){if(ze.startsWith("#")){const Ge=parseInt(ze.slice(1),16);return[(Ge&16711680)>>16,(Ge&65280)>>8,Ge&255]}return ze.startsWith("rgb(")?ze.slice(4,-1).split(",").map(Ge=>parseInt(Ge)):ze.startsWith("rgba(")?ze.slice(5,-1).split(",").map(Ge=>parseInt(Ge)).slice(0,3):((0,c.warn)(`Not a valid color format: "${ze}"`),[0,0,0])}function ye(ze){const Ge=document.createElement("span");Ge.style.visibility="hidden",document.body.append(Ge);for(const Oe of ze.keys()){Ge.style.color=Oe;const $e=window.getComputedStyle(Ge).color;ze.set(Oe,ae($e))}Ge.remove()}function Pe(ze){const{a:Ge,b:Oe,c:$e,d:He,e:Ye,f:nt}=ze.getTransform();return[Ge,Oe,$e,He,Ye,nt]}function Ie(ze){const{a:Ge,b:Oe,c:$e,d:He,e:Ye,f:nt}=ze.getTransform().invertSelf();return[Ge,Oe,$e,He,Ye,nt]}function Re(ze,Ge,Oe=!1,$e=!0){if(Ge instanceof te){const{pageWidth:He,pageHeight:Ye}=Ge.rawDims,{style:nt}=ze,ot=c.FeatureTest.isCSSRoundSupported,st=`var(--scale-factor) * ${He}px`,Be=`var(--scale-factor) * ${Ye}px`,ct=ot?`round(${st}, 1px)`:`calc(${st})`,dt=ot?`round(${Be}, 1px)`:`calc(${Be})`;!Oe||Ge.rotation%180===0?(nt.width=ct,nt.height=dt):(nt.width=dt,nt.height=ct)}$e&&ze.setAttribute("data-main-rotation",Ge.rotation)}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var a=o(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,_e){return"none"}addHighlightHCMFilter($,_e,ve,te){return"none"}destroy($=!1){}}i.BaseFilterFactory=c;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create($,_e){if($<=0||_e<=0)throw new Error("Invalid canvas size");const ve=this._createCanvas($,_e);return{canvas:ve,context:ve.getContext("2d")}}reset($,_e,ve){if(!$.canvas)throw new Error("Canvas is not specified");if(_e<=0||ve<=0)throw new Error("Invalid canvas size");$.canvas.width=_e,$.canvas.height=ve}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,_e){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=h;class d{constructor({baseUrl:$=null,isCompressed:_e=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=_e}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const _e=this.baseUrl+$+(this.isCompressed?".bcmap":""),ve=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(_e,ve).catch(te=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData($,_e){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class f{constructor({baseUrl:$=null}){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${$}`;return this._fetchData(_e).catch(ve=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData($){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=f;class re{constructor(){this.constructor===re&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create($,_e,ve=!1){if($<=0||_e<=0)throw new Error("Invalid SVG dimensions");const te=this._createSVG("svg:svg");return te.setAttribute("version","1.1"),ve||(te.setAttribute("width",`${$}px`),te.setAttribute("height",`${_e}px`)),te.setAttribute("preserveAspectRatio","none"),te.setAttribute("viewBox",`0 0 ${$} ${_e}`),te}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){(0,a.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=re},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var a=o(1);const c=3285377520,h=4294901760,d=65535;class f{constructor(_){this.h1=_?_&4294967295:c,this.h2=_?_&4294967295:c}update(_){let $,_e;if(typeof _=="string"){$=new Uint8Array(_.length*2),_e=0;for(let oe=0,le=_.length;oe<le;oe++){const ie=_.charCodeAt(oe);ie<=255?$[_e++]=ie:($[_e++]=ie>>>8,$[_e++]=ie&255)}}else if((0,a.isArrayBuffer)(_))$=_.slice(),_e=$.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ve=_e>>2,te=_e-ve*4,b=new Uint32Array($.buffer,0,ve);let me=0,j=0,g=this.h1,ne=this.h2;const se=3432918353,q=461845907,ee=se&d,he=q&d;for(let oe=0;oe<ve;oe++)oe&1?(me=b[oe],me=me*se&h|me*ee&d,me=me<<15|me>>>17,me=me*q&h|me*he&d,g^=me,g=g<<13|g>>>19,g=g*5+3864292196):(j=b[oe],j=j*se&h|j*ee&d,j=j<<15|j>>>17,j=j*q&h|j*he&d,ne^=j,ne=ne<<13|ne>>>19,ne=ne*5+3864292196);switch(me=0,te){case 3:me^=$[ve*4+2]<<16;case 2:me^=$[ve*4+1]<<8;case 1:me^=$[ve*4],me=me*se&h|me*ee&d,me=me<<15|me>>>17,me=me*q&h|me*he&d,ve&1?g^=me:ne^=me}this.h1=g,this.h2=ne}hexdigest(){let _=this.h1,$=this.h2;return _^=$>>>1,_=_*3981806797&h|_*36045&d,$=$*4283543511&h|(($<<16|_>>>16)*2950163797&h)>>>16,_^=$>>>1,_=_*444984403&h|_*60499&d,$=$*3301882366&h|(($<<16|_>>>16)*3120437893&h)>>>16,_^=$>>>1,(_>>>0).toString(16).padStart(8,"0")+($>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=f},(e,i,o)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var a=o(1);class c{constructor({ownerDocument:re=globalThis.document,styleElement:_=null}){Qe(this,d,new Set);this._document=re,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(re){this.nativeFontFaces.add(re),this._document.fonts.add(re)}removeNativeFontFace(re){this.nativeFontFaces.delete(re),this._document.fonts.delete(re)}insertRule(re){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(re,_.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.clear(),ge(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(re){if(!(!re||ge(this,d).has(re.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:$,style:_e}=re,ve=new FontFace(_,$,_e);this.addNativeFontFace(ve);try{await ve.load(),ge(this,d).add(_)}catch{(0,a.warn)(`Cannot load system font: ${re.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ve)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(re){if(re.attached||re.missingFile&&!re.systemFontInfo)return;if(re.attached=!0,re.systemFontInfo){await this.loadSystemFont(re.systemFontInfo);return}if(this.isFontLoadingAPISupported){const $=re.createNativeFontFace();if($){this.addNativeFontFace($);try{await $.loaded}catch(_e){throw(0,a.warn)(`Failed to load font '${$.family}': '${_e}'.`),re.disableFontFace=!0,_e}}return}const _=re.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise($=>{const _e=this._queueLoadingCallback($);this._prepareFontLoadEvent(re,_e)})}}get isFontLoadingAPISupported(){var _;const re=!!((_=this._document)!=null&&_.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",re)}get isSyncFontLoadingSupported(){let re=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(re=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){function _(){for((0,a.assert)(!_e.done,"completeRequest() cannot be called twice."),_e.done=!0;$.length>0&&$[0].done;){const ve=$.shift();setTimeout(ve.callback,0)}}const{loadingRequests:$}=this,_e={done:!1,complete:_,callback:re};return $.push(_e),_e}get _loadTestFont(){const re=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",re)}_prepareFontLoadEvent(re,_){function $(ae,ye){return ae.charCodeAt(ye)<<24|ae.charCodeAt(ye+1)<<16|ae.charCodeAt(ye+2)<<8|ae.charCodeAt(ye+3)&255}function _e(ae,ye,Pe,Ie){const Re=ae.substring(0,ye),Ne=ae.substring(ye+Pe);return Re+Ie+Ne}let ve,te;const b=this._document.createElement("canvas");b.width=1,b.height=1;const me=b.getContext("2d");let j=0;function g(ae,ye){if(++j>30){(0,a.warn)("Load test font never loaded."),ye();return}if(me.font="30px "+ae,me.fillText(".",0,20),me.getImageData(0,0,1,1).data[3]>0){ye();return}setTimeout(g.bind(null,ae,ye))}const ne=`lt${Date.now()}${this.loadTestFontId++}`;let se=this._loadTestFont;se=_e(se,976,ne.length,ne);const ee=16,he=1482184792;let oe=$(se,ee);for(ve=0,te=ne.length-3;ve<te;ve+=4)oe=oe-he+$(ne,ve)|0;ve<ne.length&&(oe=oe-he+$(ne+"XXX",ve)|0),se=_e(se,ee,4,(0,a.string32)(oe));const le=`url(data:font/opentype;base64,${btoa(se)});`,ie=`@font-face {font-family:"${ne}";src:${le}}`;this.insertRule(ie);const Ae=this._document.createElement("div");Ae.style.visibility="hidden",Ae.style.width=Ae.style.height="10px",Ae.style.position="absolute",Ae.style.top=Ae.style.left="0px";for(const ae of[re.loadedName,ne]){const ye=this._document.createElement("span");ye.textContent="Hi",ye.style.fontFamily=ae,Ae.append(ye)}this._document.body.append(Ae),g(ne,()=>{Ae.remove(),_.complete()})}}d=new WeakMap,i.FontLoader=c;class h{constructor(re,{isEvalSupported:_=!0,disableFontFace:$=!1,ignoreErrors:_e=!1,inspectFont:ve=null}){this.compiledGlyphs=Object.create(null);for(const te in re)this[te]=re[te];this.isEvalSupported=_!==!1,this.disableFontFace=$===!0,this.ignoreErrors=_e===!0,this._inspectFont=ve}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let re;if(!this.cssFontInfo)re=new FontFace(this.loadedName,this.data,{});else{const $={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,$)}return(_=this._inspectFont)==null||_.call(this,this),re}createFontFaceRule(){var _e;if(!this.data||this.disableFontFace)return null;const re=(0,a.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(re)});`;let $;if(!this.cssFontInfo)$=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let ve=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ve+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ve}src:${_}}`}return(_e=this._inspectFont)==null||_e.call(this,this,_),$}getPathGenerator(re,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let $;try{$=re.get(this.loadedName+"_path_"+_)}catch(_e){if(!this.ignoreErrors)throw _e;return(0,a.warn)(`getPathGenerator - ignoring character: "${_e}".`),this.compiledGlyphs[_]=function(ve,te){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const _e=[];for(const ve of $){const te=ve.args!==void 0?ve.args.join(","):"";_e.push("c.",ve.cmd,"(",te,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",_e.join(""))}return this.compiledGlyphs[_]=function(_e,ve){for(const te of $)te.cmd==="scale"&&(te.args=[ve,-ve]),_e[te.cmd].apply(_e,te.args)}}}i.FontFaceObject=h},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var a=o(7);o(1);const c=function(_){return new Promise(($,_e)=>{require$$5.readFile(_,(te,b)=>{if(te||!b){_e(new Error(te));return}$(new Uint8Array(b))})})};class h extends a.BaseFilterFactory{}i.NodeFilterFactory=h;class d extends a.BaseCanvasFactory{_createCanvas($,_e){return require$$5.createCanvas($,_e)}}i.NodeCanvasFactory=d;class f extends a.BaseCMapReaderFactory{_fetchData($,_e){return c($).then(ve=>({cMapData:ve,compressionType:_e}))}}i.NodeCMapReaderFactory=f;class re extends a.BaseStandardFontDataFactory{_fetchData($){return c($)}}i.NodeStandardFontDataFactory=re},(e,i,o)=>{var Fe,In,Dn;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var a=o(1),c=o(6),h=o(12),d=o(13);const f=16,re=100,_=4096,$=15,_e=10,ve=1e3,te=16;function b(Ee,ce){if(Ee._removeMirroring)throw new Error("Context is already forwarding operations.");Ee.__originalSave=Ee.save,Ee.__originalRestore=Ee.restore,Ee.__originalRotate=Ee.rotate,Ee.__originalScale=Ee.scale,Ee.__originalTranslate=Ee.translate,Ee.__originalTransform=Ee.transform,Ee.__originalSetTransform=Ee.setTransform,Ee.__originalResetTransform=Ee.resetTransform,Ee.__originalClip=Ee.clip,Ee.__originalMoveTo=Ee.moveTo,Ee.__originalLineTo=Ee.lineTo,Ee.__originalBezierCurveTo=Ee.bezierCurveTo,Ee.__originalRect=Ee.rect,Ee.__originalClosePath=Ee.closePath,Ee.__originalBeginPath=Ee.beginPath,Ee._removeMirroring=()=>{Ee.save=Ee.__originalSave,Ee.restore=Ee.__originalRestore,Ee.rotate=Ee.__originalRotate,Ee.scale=Ee.__originalScale,Ee.translate=Ee.__originalTranslate,Ee.transform=Ee.__originalTransform,Ee.setTransform=Ee.__originalSetTransform,Ee.resetTransform=Ee.__originalResetTransform,Ee.clip=Ee.__originalClip,Ee.moveTo=Ee.__originalMoveTo,Ee.lineTo=Ee.__originalLineTo,Ee.bezierCurveTo=Ee.__originalBezierCurveTo,Ee.rect=Ee.__originalRect,Ee.closePath=Ee.__originalClosePath,Ee.beginPath=Ee.__originalBeginPath,delete Ee._removeMirroring},Ee.save=function(){ce.save(),this.__originalSave()},Ee.restore=function(){ce.restore(),this.__originalRestore()},Ee.translate=function(be,ue){ce.translate(be,ue),this.__originalTranslate(be,ue)},Ee.scale=function(be,ue){ce.scale(be,ue),this.__originalScale(be,ue)},Ee.transform=function(be,ue,m,Se,Te,Me){ce.transform(be,ue,m,Se,Te,Me),this.__originalTransform(be,ue,m,Se,Te,Me)},Ee.setTransform=function(be,ue,m,Se,Te,Me){ce.setTransform(be,ue,m,Se,Te,Me),this.__originalSetTransform(be,ue,m,Se,Te,Me)},Ee.resetTransform=function(){ce.resetTransform(),this.__originalResetTransform()},Ee.rotate=function(be){ce.rotate(be),this.__originalRotate(be)},Ee.clip=function(be){ce.clip(be),this.__originalClip(be)},Ee.moveTo=function(de,be){ce.moveTo(de,be),this.__originalMoveTo(de,be)},Ee.lineTo=function(de,be){ce.lineTo(de,be),this.__originalLineTo(de,be)},Ee.bezierCurveTo=function(de,be,ue,m,Se,Te){ce.bezierCurveTo(de,be,ue,m,Se,Te),this.__originalBezierCurveTo(de,be,ue,m,Se,Te)},Ee.rect=function(de,be,ue,m){ce.rect(de,be,ue,m),this.__originalRect(de,be,ue,m)},Ee.closePath=function(){ce.closePath(),this.__originalClosePath()},Ee.beginPath=function(){ce.beginPath(),this.__originalBeginPath()}}class me{constructor(ce){this.canvasFactory=ce,this.cache=Object.create(null)}getCanvas(ce,de,be){let ue;return this.cache[ce]!==void 0?(ue=this.cache[ce],this.canvasFactory.reset(ue,de,be)):(ue=this.canvasFactory.create(de,be),this.cache[ce]=ue),ue}delete(ce){delete this.cache[ce]}clear(){for(const ce in this.cache){const de=this.cache[ce];this.canvasFactory.destroy(de),delete this.cache[ce]}}}function j(Ee,ce,de,be,ue,m,Se,Te,Me,Le){const[Ue,Xe,Ve,Ke,ze,Ge]=(0,c.getCurrentTransform)(Ee);if(Xe===0&&Ve===0){const He=Se*Ue+ze,Ye=Math.round(He),nt=Te*Ke+Ge,ot=Math.round(nt),st=(Se+Me)*Ue+ze,Be=Math.abs(Math.round(st)-Ye)||1,ct=(Te+Le)*Ke+Ge,dt=Math.abs(Math.round(ct)-ot)||1;return Ee.setTransform(Math.sign(Ue),0,0,Math.sign(Ke),Ye,ot),Ee.drawImage(ce,de,be,ue,m,0,0,Be,dt),Ee.setTransform(Ue,Xe,Ve,Ke,ze,Ge),[Be,dt]}if(Ue===0&&Ke===0){const He=Te*Ve+ze,Ye=Math.round(He),nt=Se*Xe+Ge,ot=Math.round(nt),st=(Te+Le)*Ve+ze,Be=Math.abs(Math.round(st)-Ye)||1,ct=(Se+Me)*Xe+Ge,dt=Math.abs(Math.round(ct)-ot)||1;return Ee.setTransform(0,Math.sign(Xe),Math.sign(Ve),0,Ye,ot),Ee.drawImage(ce,de,be,ue,m,0,0,dt,Be),Ee.setTransform(Ue,Xe,Ve,Ke,ze,Ge),[dt,Be]}Ee.drawImage(ce,de,be,ue,m,Se,Te,Me,Le);const Oe=Math.hypot(Ue,Xe),$e=Math.hypot(Ve,Ke);return[Oe*Me,$e*Le]}function g(Ee){const{width:ce,height:de}=Ee;if(ce>ve||de>ve)return null;const be=1e3,ue=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),m=ce+1;let Se=new Uint8Array(m*(de+1)),Te,Me,Le;const Ue=ce+7&-8;let Xe=new Uint8Array(Ue*de),Ve=0;for(const $e of Ee.data){let He=128;for(;He>0;)Xe[Ve++]=$e&He?0:255,He>>=1}let Ke=0;for(Ve=0,Xe[Ve]!==0&&(Se[0]=1,++Ke),Me=1;Me<ce;Me++)Xe[Ve]!==Xe[Ve+1]&&(Se[Me]=Xe[Ve]?2:1,++Ke),Ve++;for(Xe[Ve]!==0&&(Se[Me]=2,++Ke),Te=1;Te<de;Te++){Ve=Te*Ue,Le=Te*m,Xe[Ve-Ue]!==Xe[Ve]&&(Se[Le]=Xe[Ve]?1:8,++Ke);let $e=(Xe[Ve]?4:0)+(Xe[Ve-Ue]?8:0);for(Me=1;Me<ce;Me++)$e=($e>>2)+(Xe[Ve+1]?4:0)+(Xe[Ve-Ue+1]?8:0),ue[$e]&&(Se[Le+Me]=ue[$e],++Ke),Ve++;if(Xe[Ve-Ue]!==Xe[Ve]&&(Se[Le+Me]=Xe[Ve]?2:4,++Ke),Ke>be)return null}for(Ve=Ue*(de-1),Le=Te*m,Xe[Ve]!==0&&(Se[Le]=8,++Ke),Me=1;Me<ce;Me++)Xe[Ve]!==Xe[Ve+1]&&(Se[Le+Me]=Xe[Ve]?4:8,++Ke),Ve++;if(Xe[Ve]!==0&&(Se[Le+Me]=4,++Ke),Ke>be)return null;const ze=new Int32Array([0,m,-1,0,-m,0,0,0,1]),Ge=new Path2D;for(Te=0;Ke&&Te<=de;Te++){let $e=Te*m;const He=$e+ce;for(;$e<He&&!Se[$e];)$e++;if($e===He)continue;Ge.moveTo($e%m,Te);const Ye=$e;let nt=Se[$e];do{const ot=ze[nt];do $e+=ot;while(!Se[$e]);const st=Se[$e];st!==5&&st!==10?(nt=st,Se[$e]=0):(nt=st&51*nt>>4,Se[$e]&=nt>>2|nt<<2),Ge.lineTo($e%m,$e/m|0),Se[$e]||--Ke}while(Ye!==$e);--Te}return Xe=null,Se=null,function($e){$e.save(),$e.scale(1/ce,-1/de),$e.translate(0,-de),$e.fill(Ge),$e.beginPath(),$e.restore()}}class ne{constructor(ce,de){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ce,de])}clone(){const ce=Object.create(this);return ce.clipBox=this.clipBox.slice(),ce}setCurrentPoint(ce,de){this.x=ce,this.y=de}updatePathMinMax(ce,de,be){[de,be]=a.Util.applyTransform([de,be],ce),this.minX=Math.min(this.minX,de),this.minY=Math.min(this.minY,be),this.maxX=Math.max(this.maxX,de),this.maxY=Math.max(this.maxY,be)}updateRectMinMax(ce,de){const be=a.Util.applyTransform(de,ce),ue=a.Util.applyTransform(de.slice(2),ce);this.minX=Math.min(this.minX,be[0],ue[0]),this.minY=Math.min(this.minY,be[1],ue[1]),this.maxX=Math.max(this.maxX,be[0],ue[0]),this.maxY=Math.max(this.maxY,be[1],ue[1])}updateScalingPathMinMax(ce,de){a.Util.scaleMinMax(ce,de),this.minX=Math.min(this.minX,de[0]),this.maxX=Math.max(this.maxX,de[1]),this.minY=Math.min(this.minY,de[2]),this.maxY=Math.max(this.maxY,de[3])}updateCurvePathMinMax(ce,de,be,ue,m,Se,Te,Me,Le,Ue){const Xe=a.Util.bezierBoundingBox(de,be,ue,m,Se,Te,Me,Le);if(Ue){Ue[0]=Math.min(Ue[0],Xe[0],Xe[2]),Ue[1]=Math.max(Ue[1],Xe[0],Xe[2]),Ue[2]=Math.min(Ue[2],Xe[1],Xe[3]),Ue[3]=Math.max(Ue[3],Xe[1],Xe[3]);return}this.updateRectMinMax(ce,Xe)}getPathBoundingBox(ce=h.PathType.FILL,de=null){const be=[this.minX,this.minY,this.maxX,this.maxY];if(ce===h.PathType.STROKE){de||(0,a.unreachable)("Stroke bounding box must include transform.");const ue=a.Util.singularValueDecompose2dScale(de),m=ue[0]*this.lineWidth/2,Se=ue[1]*this.lineWidth/2;be[0]-=m,be[1]-=Se,be[2]+=m,be[3]+=Se}return be}updateClipFromPath(){const ce=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ce||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ce){this.clipBox=ce,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ce=h.PathType.FILL,de=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ce,de))}}function se(Ee,ce){if(typeof ImageData<"u"&&ce instanceof ImageData){Ee.putImageData(ce,0,0);return}const de=ce.height,be=ce.width,ue=de%te,m=(de-ue)/te,Se=ue===0?m:m+1,Te=Ee.createImageData(be,te);let Me=0,Le;const Ue=ce.data,Xe=Te.data;let Ve,Ke,ze,Ge;if(ce.kind===a.ImageKind.GRAYSCALE_1BPP){const Oe=Ue.byteLength,$e=new Uint32Array(Xe.buffer,0,Xe.byteLength>>2),He=$e.length,Ye=be+7>>3,nt=4294967295,ot=a.FeatureTest.isLittleEndian?4278190080:255;for(Ve=0;Ve<Se;Ve++){for(ze=Ve<m?te:ue,Le=0,Ke=0;Ke<ze;Ke++){const st=Oe-Me;let Be=0;const ct=st>Ye?be:st*8-7,dt=ct&-8;let xt=0,At=0;for(;Be<dt;Be+=8)At=Ue[Me++],$e[Le++]=At&128?nt:ot,$e[Le++]=At&64?nt:ot,$e[Le++]=At&32?nt:ot,$e[Le++]=At&16?nt:ot,$e[Le++]=At&8?nt:ot,$e[Le++]=At&4?nt:ot,$e[Le++]=At&2?nt:ot,$e[Le++]=At&1?nt:ot;for(;Be<ct;Be++)xt===0&&(At=Ue[Me++],xt=128),$e[Le++]=At&xt?nt:ot,xt>>=1}for(;Le<He;)$e[Le++]=0;Ee.putImageData(Te,0,Ve*te)}}else if(ce.kind===a.ImageKind.RGBA_32BPP){for(Ke=0,Ge=be*te*4,Ve=0;Ve<m;Ve++)Xe.set(Ue.subarray(Me,Me+Ge)),Me+=Ge,Ee.putImageData(Te,0,Ke),Ke+=te;Ve<Se&&(Ge=be*ue*4,Xe.set(Ue.subarray(Me,Me+Ge)),Ee.putImageData(Te,0,Ke))}else if(ce.kind===a.ImageKind.RGB_24BPP)for(ze=te,Ge=be*ze,Ve=0;Ve<Se;Ve++){for(Ve>=m&&(ze=ue,Ge=be*ze),Le=0,Ke=Ge;Ke--;)Xe[Le++]=Ue[Me++],Xe[Le++]=Ue[Me++],Xe[Le++]=Ue[Me++],Xe[Le++]=255;Ee.putImageData(Te,0,Ve*te)}else throw new Error(`bad image kind: ${ce.kind}`)}function q(Ee,ce){if(ce.bitmap){Ee.drawImage(ce.bitmap,0,0);return}const de=ce.height,be=ce.width,ue=de%te,m=(de-ue)/te,Se=ue===0?m:m+1,Te=Ee.createImageData(be,te);let Me=0;const Le=ce.data,Ue=Te.data;for(let Xe=0;Xe<Se;Xe++){const Ve=Xe<m?te:ue;({srcPos:Me}=(0,d.convertBlackAndWhiteToRGBA)({src:Le,srcPos:Me,dest:Ue,width:be,height:Ve,nonBlackColor:0})),Ee.putImageData(Te,0,Xe*te)}}function ee(Ee,ce){const de=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const be of de)Ee[be]!==void 0&&(ce[be]=Ee[be]);Ee.setLineDash!==void 0&&(ce.setLineDash(Ee.getLineDash()),ce.lineDashOffset=Ee.lineDashOffset)}function he(Ee){if(Ee.strokeStyle=Ee.fillStyle="#000000",Ee.fillRule="nonzero",Ee.globalAlpha=1,Ee.lineWidth=1,Ee.lineCap="butt",Ee.lineJoin="miter",Ee.miterLimit=10,Ee.globalCompositeOperation="source-over",Ee.font="10px sans-serif",Ee.setLineDash!==void 0&&(Ee.setLineDash([]),Ee.lineDashOffset=0),!a.isNodeJS){const{filter:ce}=Ee;ce!=="none"&&ce!==""&&(Ee.filter="none")}}function oe(Ee,ce,de,be){const ue=Ee.length;for(let m=3;m<ue;m+=4){const Se=Ee[m];if(Se===0)Ee[m-3]=ce,Ee[m-2]=de,Ee[m-1]=be;else if(Se<255){const Te=255-Se;Ee[m-3]=Ee[m-3]*Se+ce*Te>>8,Ee[m-2]=Ee[m-2]*Se+de*Te>>8,Ee[m-1]=Ee[m-1]*Se+be*Te>>8}}}function le(Ee,ce,de){const be=Ee.length,ue=1/255;for(let m=3;m<be;m+=4){const Se=de?de[Ee[m]]:Ee[m];ce[m]=ce[m]*Se*ue|0}}function ie(Ee,ce,de){const be=Ee.length;for(let ue=3;ue<be;ue+=4){const m=Ee[ue-3]*77+Ee[ue-2]*152+Ee[ue-1]*28;ce[ue]=de?ce[ue]*de[m>>8]>>8:ce[ue]*m>>16}}function Ae(Ee,ce,de,be,ue,m,Se,Te,Me,Le,Ue){const Xe=!!m,Ve=Xe?m[0]:0,Ke=Xe?m[1]:0,ze=Xe?m[2]:0,Ge=ue==="Luminosity"?ie:le,$e=Math.min(be,Math.ceil(1048576/de));for(let He=0;He<be;He+=$e){const Ye=Math.min($e,be-He),nt=Ee.getImageData(Te-Le,He+(Me-Ue),de,Ye),ot=ce.getImageData(Te,He+Me,de,Ye);Xe&&oe(nt.data,Ve,Ke,ze),Ge(nt.data,ot.data,Se),ce.putImageData(ot,Te,He+Me)}}function ae(Ee,ce,de,be){const ue=be[0],m=be[1],Se=be[2]-ue,Te=be[3]-m;Se===0||Te===0||(Ae(ce.context,de,Se,Te,ce.subtype,ce.backdrop,ce.transferMap,ue,m,ce.offsetX,ce.offsetY),Ee.save(),Ee.globalAlpha=1,Ee.globalCompositeOperation="source-over",Ee.setTransform(1,0,0,1,0,0),Ee.drawImage(de.canvas,0,0),Ee.restore())}function ye(Ee,ce){const de=a.Util.singularValueDecompose2dScale(Ee);de[0]=Math.fround(de[0]),de[1]=Math.fround(de[1]);const be=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return ce!==void 0?ce:de[0]<=be||de[1]<=be}const Pe=["butt","round","square"],Ie=["miter","round","bevel"],Re={},Ne={},fe=class fe{constructor(ce,de,be,ue,m,{optionalContentConfig:Se,markedContentStack:Te=null},Me,Le){Qe(this,Fe);this.ctx=ce,this.current=new ne(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=de,this.objs=be,this.canvasFactory=ue,this.filterFactory=m,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Te||[],this.optionalContentConfig=Se,this.cachedCanvases=new me(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Me,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Le,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ce,de=null){return typeof ce=="string"?ce.startsWith("g_")?this.commonObjs.get(ce):this.objs.get(ce):de}beginDrawing({transform:ce,viewport:de,transparency:be=!1,background:ue=null}){const m=this.ctx.canvas.width,Se=this.ctx.canvas.height,Te=this.ctx.fillStyle;if(this.ctx.fillStyle=ue||"#ffffff",this.ctx.fillRect(0,0,m,Se),this.ctx.fillStyle=Te,be){const Me=this.cachedCanvases.getCanvas("transparent",m,Se);this.compositeCtx=this.ctx,this.transparentCanvas=Me.canvas,this.ctx=Me.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),he(this.ctx),ce&&(this.ctx.transform(...ce),this.outputScaleX=ce[0],this.outputScaleY=ce[0]),this.ctx.transform(...de.transform),this.viewportScale=de.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(ce,de,be,ue){const m=ce.argsArray,Se=ce.fnArray;let Te=de||0;const Me=m.length;if(Me===Te)return Te;const Le=Me-Te>_e&&typeof be=="function",Ue=Le?Date.now()+$:0;let Xe=0;const Ve=this.commonObjs,Ke=this.objs;let ze;for(;;){if(ue!==void 0&&Te===ue.nextBreakPoint)return ue.breakIt(Te,be),Te;if(ze=Se[Te],ze!==a.OPS.dependency)this[ze].apply(this,m[Te]);else for(const Ge of m[Te]){const Oe=Ge.startsWith("g_")?Ve:Ke;if(!Oe.has(Ge))return Oe.get(Ge,be),Te}if(Te++,Te===Me)return Te;if(Le&&++Xe>_e){if(Date.now()>Ue)return be(),Te;Xe=0}}}endDrawing(){We(this,Fe,In).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ce of this._cachedBitmapsMap.values()){for(const de of ce.values())typeof HTMLCanvasElement<"u"&&de instanceof HTMLCanvasElement&&(de.width=de.height=0);ce.clear()}this._cachedBitmapsMap.clear(),We(this,Fe,Dn).call(this)}_scaleImage(ce,de){const be=ce.width,ue=ce.height;let m=Math.max(Math.hypot(de[0],de[1]),1),Se=Math.max(Math.hypot(de[2],de[3]),1),Te=be,Me=ue,Le="prescale1",Ue,Xe;for(;m>2&&Te>1||Se>2&&Me>1;){let Ve=Te,Ke=Me;m>2&&Te>1&&(Ve=Te>=16384?Math.floor(Te/2)-1||1:Math.ceil(Te/2),m/=Te/Ve),Se>2&&Me>1&&(Ke=Me>=16384?Math.floor(Me/2)-1||1:Math.ceil(Me)/2,Se/=Me/Ke),Ue=this.cachedCanvases.getCanvas(Le,Ve,Ke),Xe=Ue.context,Xe.clearRect(0,0,Ve,Ke),Xe.drawImage(ce,0,0,Te,Me,0,0,Ve,Ke),ce=Ue.canvas,Te=Ve,Me=Ke,Le=Le==="prescale1"?"prescale2":"prescale1"}return{img:ce,paintWidth:Te,paintHeight:Me}}_createMaskCanvas(ce){const de=this.ctx,{width:be,height:ue}=ce,m=this.current.fillColor,Se=this.current.patternFill,Te=(0,c.getCurrentTransform)(de);let Me,Le,Ue,Xe;if((ce.bitmap||ce.data)&&ce.count>1){const Be=ce.bitmap||ce.data.buffer;Le=JSON.stringify(Se?Te:[Te.slice(0,4),m]),Me=this._cachedBitmapsMap.get(Be),Me||(Me=new Map,this._cachedBitmapsMap.set(Be,Me));const ct=Me.get(Le);if(ct&&!Se){const dt=Math.round(Math.min(Te[0],Te[2])+Te[4]),xt=Math.round(Math.min(Te[1],Te[3])+Te[5]);return{canvas:ct,offsetX:dt,offsetY:xt}}Ue=ct}Ue||(Xe=this.cachedCanvases.getCanvas("maskCanvas",be,ue),q(Xe.context,ce));let Ve=a.Util.transform(Te,[1/be,0,0,-1/ue,0,0]);Ve=a.Util.transform(Ve,[1,0,0,1,0,-ue]);const Ke=a.Util.applyTransform([0,0],Ve),ze=a.Util.applyTransform([be,ue],Ve),Ge=a.Util.normalizeRect([Ke[0],Ke[1],ze[0],ze[1]]),Oe=Math.round(Ge[2]-Ge[0])||1,$e=Math.round(Ge[3]-Ge[1])||1,He=this.cachedCanvases.getCanvas("fillCanvas",Oe,$e),Ye=He.context,nt=Math.min(Ke[0],ze[0]),ot=Math.min(Ke[1],ze[1]);Ye.translate(-nt,-ot),Ye.transform(...Ve),Ue||(Ue=this._scaleImage(Xe.canvas,(0,c.getCurrentTransformInverse)(Ye)),Ue=Ue.img,Me&&Se&&Me.set(Le,Ue)),Ye.imageSmoothingEnabled=ye((0,c.getCurrentTransform)(Ye),ce.interpolate),j(Ye,Ue,0,0,Ue.width,Ue.height,0,0,be,ue),Ye.globalCompositeOperation="source-in";const st=a.Util.transform((0,c.getCurrentTransformInverse)(Ye),[1,0,0,1,-nt,-ot]);return Ye.fillStyle=Se?m.getPattern(de,this,st,h.PathType.FILL):m,Ye.fillRect(0,0,be,ue),Me&&!Se&&(this.cachedCanvases.delete("fillCanvas"),Me.set(Le,He.canvas)),{canvas:He.canvas,offsetX:Math.round(nt),offsetY:Math.round(ot)}}setLineWidth(ce){ce!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ce,this.ctx.lineWidth=ce}setLineCap(ce){this.ctx.lineCap=Pe[ce]}setLineJoin(ce){this.ctx.lineJoin=Ie[ce]}setMiterLimit(ce){this.ctx.miterLimit=ce}setDash(ce,de){const be=this.ctx;be.setLineDash!==void 0&&(be.setLineDash(ce),be.lineDashOffset=de)}setRenderingIntent(ce){}setFlatness(ce){}setGState(ce){for(const[de,be]of ce)switch(de){case"LW":this.setLineWidth(be);break;case"LC":this.setLineCap(be);break;case"LJ":this.setLineJoin(be);break;case"ML":this.setMiterLimit(be);break;case"D":this.setDash(be[0],be[1]);break;case"RI":this.setRenderingIntent(be);break;case"FL":this.setFlatness(be);break;case"Font":this.setFont(be[0],be[1]);break;case"CA":this.current.strokeAlpha=be;break;case"ca":this.current.fillAlpha=be,this.ctx.globalAlpha=be;break;case"BM":this.ctx.globalCompositeOperation=be;break;case"SMask":this.current.activeSMask=be?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(be);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ce=this.inSMaskMode;this.current.activeSMask&&!ce?this.beginSMaskMode():!this.current.activeSMask&&ce&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ce=this.ctx.canvas.width,de=this.ctx.canvas.height,be="smaskGroupAt"+this.groupLevel,ue=this.cachedCanvases.getCanvas(be,ce,de);this.suspendedCtx=this.ctx,this.ctx=ue.context;const m=this.ctx;m.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),ee(this.suspendedCtx,m),b(m,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ee(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ce){if(!this.current.activeSMask)return;ce?(ce[0]=Math.floor(ce[0]),ce[1]=Math.floor(ce[1]),ce[2]=Math.ceil(ce[2]),ce[3]=Math.ceil(ce[3])):ce=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const de=this.current.activeSMask,be=this.suspendedCtx;ae(be,de,this.ctx,ce),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ee(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ce=this.current;this.stateStack.push(ce),this.current=ce.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ee(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ce,de,be,ue,m,Se){this.ctx.transform(ce,de,be,ue,m,Se),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ce,de,be){const ue=this.ctx,m=this.current;let Se=m.x,Te=m.y,Me,Le;const Ue=(0,c.getCurrentTransform)(ue),Xe=Ue[0]===0&&Ue[3]===0||Ue[1]===0&&Ue[2]===0,Ve=Xe?be.slice(0):null;for(let Ke=0,ze=0,Ge=ce.length;Ke<Ge;Ke++)switch(ce[Ke]|0){case a.OPS.rectangle:Se=de[ze++],Te=de[ze++];const Oe=de[ze++],$e=de[ze++],He=Se+Oe,Ye=Te+$e;ue.moveTo(Se,Te),Oe===0||$e===0?ue.lineTo(He,Ye):(ue.lineTo(He,Te),ue.lineTo(He,Ye),ue.lineTo(Se,Ye)),Xe||m.updateRectMinMax(Ue,[Se,Te,He,Ye]),ue.closePath();break;case a.OPS.moveTo:Se=de[ze++],Te=de[ze++],ue.moveTo(Se,Te),Xe||m.updatePathMinMax(Ue,Se,Te);break;case a.OPS.lineTo:Se=de[ze++],Te=de[ze++],ue.lineTo(Se,Te),Xe||m.updatePathMinMax(Ue,Se,Te);break;case a.OPS.curveTo:Me=Se,Le=Te,Se=de[ze+4],Te=de[ze+5],ue.bezierCurveTo(de[ze],de[ze+1],de[ze+2],de[ze+3],Se,Te),m.updateCurvePathMinMax(Ue,Me,Le,de[ze],de[ze+1],de[ze+2],de[ze+3],Se,Te,Ve),ze+=6;break;case a.OPS.curveTo2:Me=Se,Le=Te,ue.bezierCurveTo(Se,Te,de[ze],de[ze+1],de[ze+2],de[ze+3]),m.updateCurvePathMinMax(Ue,Me,Le,Se,Te,de[ze],de[ze+1],de[ze+2],de[ze+3],Ve),Se=de[ze+2],Te=de[ze+3],ze+=4;break;case a.OPS.curveTo3:Me=Se,Le=Te,Se=de[ze+2],Te=de[ze+3],ue.bezierCurveTo(de[ze],de[ze+1],Se,Te,Se,Te),m.updateCurvePathMinMax(Ue,Me,Le,de[ze],de[ze+1],Se,Te,Se,Te,Ve),ze+=4;break;case a.OPS.closePath:ue.closePath();break}Xe&&m.updateScalingPathMinMax(Ue,Ve),m.setCurrentPoint(Se,Te)}closePath(){this.ctx.closePath()}stroke(ce=!0){const de=this.ctx,be=this.current.strokeColor;de.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof be=="object"&&(be!=null&&be.getPattern)?(de.save(),de.strokeStyle=be.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),h.PathType.STROKE),this.rescaleAndStroke(!1),de.restore()):this.rescaleAndStroke(!0)),ce&&this.consumePath(this.current.getClippedPathBoundingBox()),de.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ce=!0){const de=this.ctx,be=this.current.fillColor,ue=this.current.patternFill;let m=!1;ue&&(de.save(),de.fillStyle=be.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),h.PathType.FILL),m=!0);const Se=this.current.getClippedPathBoundingBox();this.contentVisible&&Se!==null&&(this.pendingEOFill?(de.fill("evenodd"),this.pendingEOFill=!1):de.fill()),m&&de.restore(),ce&&this.consumePath(Se)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Re}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ce=this.pendingTextPaths,de=this.ctx;if(ce===void 0){de.beginPath();return}de.save(),de.beginPath();for(const be of ce)de.setTransform(...be.transform),de.translate(be.x,be.y),be.addToPath(de,be.fontSize);de.restore(),de.clip(),de.beginPath(),delete this.pendingTextPaths}setCharSpacing(ce){this.current.charSpacing=ce}setWordSpacing(ce){this.current.wordSpacing=ce}setHScale(ce){this.current.textHScale=ce/100}setLeading(ce){this.current.leading=-ce}setFont(ce,de){var Ue;const be=this.commonObjs.get(ce),ue=this.current;if(!be)throw new Error(`Can't find font for ${ce}`);if(ue.fontMatrix=be.fontMatrix||a.FONT_IDENTITY_MATRIX,(ue.fontMatrix[0]===0||ue.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ce),de<0?(de=-de,ue.fontDirection=-1):ue.fontDirection=1,this.current.font=be,this.current.fontSize=de,be.isType3Font)return;const m=be.loadedName||"sans-serif",Se=((Ue=be.systemFontInfo)==null?void 0:Ue.css)||`"${m}", ${be.fallbackName}`;let Te="normal";be.black?Te="900":be.bold&&(Te="bold");const Me=be.italic?"italic":"normal";let Le=de;de<f?Le=f:de>re&&(Le=re),this.current.fontSizeScale=de/Le,this.ctx.font=`${Me} ${Te} ${Le}px ${Se}`}setTextRenderingMode(ce){this.current.textRenderingMode=ce}setTextRise(ce){this.current.textRise=ce}moveText(ce,de){this.current.x=this.current.lineX+=ce,this.current.y=this.current.lineY+=de}setLeadingMoveText(ce,de){this.setLeading(-de),this.moveText(ce,de)}setTextMatrix(ce,de,be,ue,m,Se){this.current.textMatrix=[ce,de,be,ue,m,Se],this.current.textMatrixScale=Math.hypot(ce,de),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ce,de,be,ue){const m=this.ctx,Se=this.current,Te=Se.font,Me=Se.textRenderingMode,Le=Se.fontSize/Se.fontSizeScale,Ue=Me&a.TextRenderingMode.FILL_STROKE_MASK,Xe=!!(Me&a.TextRenderingMode.ADD_TO_PATH_FLAG),Ve=Se.patternFill&&!Te.missingFile;let Ke;(Te.disableFontFace||Xe||Ve)&&(Ke=Te.getPathGenerator(this.commonObjs,ce)),Te.disableFontFace||Ve?(m.save(),m.translate(de,be),m.beginPath(),Ke(m,Le),ue&&m.setTransform(...ue),(Ue===a.TextRenderingMode.FILL||Ue===a.TextRenderingMode.FILL_STROKE)&&m.fill(),(Ue===a.TextRenderingMode.STROKE||Ue===a.TextRenderingMode.FILL_STROKE)&&m.stroke(),m.restore()):((Ue===a.TextRenderingMode.FILL||Ue===a.TextRenderingMode.FILL_STROKE)&&m.fillText(ce,de,be),(Ue===a.TextRenderingMode.STROKE||Ue===a.TextRenderingMode.FILL_STROKE)&&m.strokeText(ce,de,be)),Xe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(m),x:de,y:be,fontSize:Le,addToPath:Ke})}get isFontSubpixelAAEnabled(){const{context:ce}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ce.scale(1.5,1),ce.fillText("I",0,10);const de=ce.getImageData(0,0,10,10).data;let be=!1;for(let ue=3;ue<de.length;ue+=4)if(de[ue]>0&&de[ue]<255){be=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",be)}showText(ce){const de=this.current,be=de.font;if(be.isType3Font)return this.showType3Text(ce);const ue=de.fontSize;if(ue===0)return;const m=this.ctx,Se=de.fontSizeScale,Te=de.charSpacing,Me=de.wordSpacing,Le=de.fontDirection,Ue=de.textHScale*Le,Xe=ce.length,Ve=be.vertical,Ke=Ve?1:-1,ze=be.defaultVMetrics,Ge=ue*de.fontMatrix[0],Oe=de.textRenderingMode===a.TextRenderingMode.FILL&&!be.disableFontFace&&!de.patternFill;m.save(),m.transform(...de.textMatrix),m.translate(de.x,de.y+de.textRise),Le>0?m.scale(Ue,-1):m.scale(Ue,1);let $e;if(de.patternFill){m.save();const st=de.fillColor.getPattern(m,this,(0,c.getCurrentTransformInverse)(m),h.PathType.FILL);$e=(0,c.getCurrentTransform)(m),m.restore(),m.fillStyle=st}let He=de.lineWidth;const Ye=de.textMatrixScale;if(Ye===0||He===0){const st=de.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(st===a.TextRenderingMode.STROKE||st===a.TextRenderingMode.FILL_STROKE)&&(He=this.getSinglePixelWidth())}else He/=Ye;if(Se!==1&&(m.scale(Se,Se),He/=Se),m.lineWidth=He,be.isInvalidPDFjsFont){const st=[];let Be=0;for(const ct of ce)st.push(ct.unicode),Be+=ct.width;m.fillText(st.join(""),0,0),de.x+=Be*Ge*Ue,m.restore(),this.compose();return}let nt=0,ot;for(ot=0;ot<Xe;++ot){const st=ce[ot];if(typeof st=="number"){nt+=Ke*st*ue/1e3;continue}let Be=!1;const ct=(st.isSpace?Me:0)+Te,dt=st.fontChar,xt=st.accent;let At,Ot,_t=st.width;if(Ve){const Tt=st.vmetric||ze,Rt=-(st.vmetric?Tt[1]:_t*.5)*Ge,lt=Tt[2]*Ge;_t=Tt?-Tt[0]:_t,At=Rt/Se,Ot=(nt+lt)/Se}else At=nt/Se,Ot=0;if(be.remeasure&&_t>0){const Tt=m.measureText(dt).width*1e3/ue*Se;if(_t<Tt&&this.isFontSubpixelAAEnabled){const Rt=_t/Tt;Be=!0,m.save(),m.scale(Rt,1),At/=Rt}else _t!==Tt&&(At+=(_t-Tt)/2e3*ue/Se)}if(this.contentVisible&&(st.isInFont||be.missingFile)){if(Oe&&!xt)m.fillText(dt,At,Ot);else if(this.paintChar(dt,At,Ot,$e),xt){const Tt=At+ue*xt.offset.x/Se,Rt=Ot-ue*xt.offset.y/Se;this.paintChar(xt.fontChar,Tt,Rt,$e)}}const gt=Ve?_t*Ge-ct*Le:_t*Ge+ct*Le;nt+=gt,Be&&m.restore()}Ve?de.y-=nt:de.x+=nt*Ue,m.restore(),this.compose()}showType3Text(ce){const de=this.ctx,be=this.current,ue=be.font,m=be.fontSize,Se=be.fontDirection,Te=ue.vertical?1:-1,Me=be.charSpacing,Le=be.wordSpacing,Ue=be.textHScale*Se,Xe=be.fontMatrix||a.FONT_IDENTITY_MATRIX,Ve=ce.length,Ke=be.textRenderingMode===a.TextRenderingMode.INVISIBLE;let ze,Ge,Oe,$e;if(!(Ke||m===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,de.save(),de.transform(...be.textMatrix),de.translate(be.x,be.y),de.scale(Ue,Se),ze=0;ze<Ve;++ze){if(Ge=ce[ze],typeof Ge=="number"){$e=Te*Ge*m/1e3,this.ctx.translate($e,0),be.x+=$e*Ue;continue}const He=(Ge.isSpace?Le:0)+Me,Ye=ue.charProcOperatorList[Ge.operatorListId];if(!Ye){(0,a.warn)(`Type3 character "${Ge.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ge,this.save(),de.scale(m,m),de.transform(...Xe),this.executeOperatorList(Ye),this.restore()),Oe=a.Util.applyTransform([Ge.width,0],Xe)[0]*m+He,de.translate(Oe,0),be.x+=Oe*Ue}de.restore(),this.processingType3=null}}setCharWidth(ce,de){}setCharWidthAndBounds(ce,de,be,ue,m,Se){this.ctx.rect(be,ue,m-be,Se-ue),this.ctx.clip(),this.endPath()}getColorN_Pattern(ce){let de;if(ce[0]==="TilingPattern"){const be=ce[1],ue=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),m={createCanvasGraphics:Se=>new fe(Se,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};de=new h.TilingPattern(ce,be,this.ctx,m,ue)}else de=this._getPattern(ce[1],ce[2]);return de}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ce,de,be){const ue=a.Util.makeHexColor(ce,de,be);this.ctx.strokeStyle=ue,this.current.strokeColor=ue}setFillRGBColor(ce,de,be){const ue=a.Util.makeHexColor(ce,de,be);this.ctx.fillStyle=ue,this.current.fillColor=ue,this.current.patternFill=!1}_getPattern(ce,de=null){let be;return this.cachedPatterns.has(ce)?be=this.cachedPatterns.get(ce):(be=(0,h.getShadingPattern)(this.getObject(ce)),this.cachedPatterns.set(ce,be)),de&&(be.matrix=de),be}shadingFill(ce){if(!this.contentVisible)return;const de=this.ctx;this.save();const be=this._getPattern(ce);de.fillStyle=be.getPattern(de,this,(0,c.getCurrentTransformInverse)(de),h.PathType.SHADING);const ue=(0,c.getCurrentTransformInverse)(de);if(ue){const{width:m,height:Se}=de.canvas,[Te,Me,Le,Ue]=a.Util.getAxialAlignedBoundingBox([0,0,m,Se],ue);this.ctx.fillRect(Te,Me,Le-Te,Ue-Me)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ce,de){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ce)&&ce.length===6&&this.transform(...ce),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),de)){const be=de[2]-de[0],ue=de[3]-de[1];this.ctx.rect(de[0],de[1],be,ue),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),de),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ce){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const de=this.ctx;ce.isolated||(0,a.info)("TODO: Support non-isolated groups."),ce.knockout&&(0,a.warn)("Knockout groups not supported.");const be=(0,c.getCurrentTransform)(de);if(ce.matrix&&de.transform(...ce.matrix),!ce.bbox)throw new Error("Bounding box is required.");let ue=a.Util.getAxialAlignedBoundingBox(ce.bbox,(0,c.getCurrentTransform)(de));const m=[0,0,de.canvas.width,de.canvas.height];ue=a.Util.intersect(ue,m)||[0,0,0,0];const Se=Math.floor(ue[0]),Te=Math.floor(ue[1]);let Me=Math.max(Math.ceil(ue[2])-Se,1),Le=Math.max(Math.ceil(ue[3])-Te,1),Ue=1,Xe=1;Me>_&&(Ue=Me/_,Me=_),Le>_&&(Xe=Le/_,Le=_),this.current.startNewPathAndClipBox([0,0,Me,Le]);let Ve="groupAt"+this.groupLevel;ce.smask&&(Ve+="_smask_"+this.smaskCounter++%2);const Ke=this.cachedCanvases.getCanvas(Ve,Me,Le),ze=Ke.context;ze.scale(1/Ue,1/Xe),ze.translate(-Se,-Te),ze.transform(...be),ce.smask?this.smaskStack.push({canvas:Ke.canvas,context:ze,offsetX:Se,offsetY:Te,scaleX:Ue,scaleY:Xe,subtype:ce.smask.subtype,backdrop:ce.smask.backdrop,transferMap:ce.smask.transferMap||null,startTransformInverse:null}):(de.setTransform(1,0,0,1,0,0),de.translate(Se,Te),de.scale(Ue,Xe),de.save()),ee(de,ze),this.ctx=ze,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(de),this.groupLevel++}endGroup(ce){if(!this.contentVisible)return;this.groupLevel--;const de=this.ctx,be=this.groupStack.pop();if(this.ctx=be,this.ctx.imageSmoothingEnabled=!1,ce.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ue=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ue);const m=a.Util.getAxialAlignedBoundingBox([0,0,de.canvas.width,de.canvas.height],ue);this.ctx.drawImage(de.canvas,0,0),this.ctx.restore(),this.compose(m)}}beginAnnotation(ce,de,be,ue,m){if(We(this,Fe,In).call(this),he(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(de)&&de.length===4){const Se=de[2]-de[0],Te=de[3]-de[1];if(m&&this.annotationCanvasMap){be=be.slice(),be[4]-=de[0],be[5]-=de[1],de=de.slice(),de[0]=de[1]=0,de[2]=Se,de[3]=Te;const[Me,Le]=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:Ue}=this,Xe=Math.ceil(Se*this.outputScaleX*Ue),Ve=Math.ceil(Te*this.outputScaleY*Ue);this.annotationCanvas=this.canvasFactory.create(Xe,Ve);const{canvas:Ke,context:ze}=this.annotationCanvas;this.annotationCanvasMap.set(ce,Ke),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ze,this.ctx.save(),this.ctx.setTransform(Me,0,0,-Le,0,Te*Le),he(this.ctx)}else he(this.ctx),this.ctx.rect(de[0],de[1],Se,Te),this.ctx.clip(),this.endPath()}this.current=new ne(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...be),this.transform(...ue)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),We(this,Fe,Dn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ce){if(!this.contentVisible)return;const de=ce.count;ce=this.getObject(ce.data,ce),ce.count=de;const be=this.ctx,ue=this.processingType3;if(ue&&(ue.compiled===void 0&&(ue.compiled=g(ce)),ue.compiled)){ue.compiled(be);return}const m=this._createMaskCanvas(ce),Se=m.canvas;be.save(),be.setTransform(1,0,0,1,0,0),be.drawImage(Se,m.offsetX,m.offsetY),be.restore(),this.compose()}paintImageMaskXObjectRepeat(ce,de,be=0,ue=0,m,Se){if(!this.contentVisible)return;ce=this.getObject(ce.data,ce);const Te=this.ctx;Te.save();const Me=(0,c.getCurrentTransform)(Te);Te.transform(de,be,ue,m,0,0);const Le=this._createMaskCanvas(ce);Te.setTransform(1,0,0,1,Le.offsetX-Me[4],Le.offsetY-Me[5]);for(let Ue=0,Xe=Se.length;Ue<Xe;Ue+=2){const Ve=a.Util.transform(Me,[de,be,ue,m,Se[Ue],Se[Ue+1]]),[Ke,ze]=a.Util.applyTransform([0,0],Ve);Te.drawImage(Le.canvas,Ke,ze)}Te.restore(),this.compose()}paintImageMaskXObjectGroup(ce){if(!this.contentVisible)return;const de=this.ctx,be=this.current.fillColor,ue=this.current.patternFill;for(const m of ce){const{data:Se,width:Te,height:Me,transform:Le}=m,Ue=this.cachedCanvases.getCanvas("maskCanvas",Te,Me),Xe=Ue.context;Xe.save();const Ve=this.getObject(Se,m);q(Xe,Ve),Xe.globalCompositeOperation="source-in",Xe.fillStyle=ue?be.getPattern(Xe,this,(0,c.getCurrentTransformInverse)(de),h.PathType.FILL):be,Xe.fillRect(0,0,Te,Me),Xe.restore(),de.save(),de.transform(...Le),de.scale(1,-1),j(de,Ue.canvas,0,0,Te,Me,0,-1,1,1),de.restore()}this.compose()}paintImageXObject(ce){if(!this.contentVisible)return;const de=this.getObject(ce);if(!de){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(de)}paintImageXObjectRepeat(ce,de,be,ue){if(!this.contentVisible)return;const m=this.getObject(ce);if(!m){(0,a.warn)("Dependent image isn't ready yet");return}const Se=m.width,Te=m.height,Me=[];for(let Le=0,Ue=ue.length;Le<Ue;Le+=2)Me.push({transform:[de,0,0,be,ue[Le],ue[Le+1]],x:0,y:0,w:Se,h:Te});this.paintInlineImageXObjectGroup(m,Me)}applyTransferMapsToCanvas(ce){return this.current.transferMaps!=="none"&&(ce.filter=this.current.transferMaps,ce.drawImage(ce.canvas,0,0),ce.filter="none"),ce.canvas}applyTransferMapsToBitmap(ce){if(this.current.transferMaps==="none")return ce.bitmap;const{bitmap:de,width:be,height:ue}=ce,m=this.cachedCanvases.getCanvas("inlineImage",be,ue),Se=m.context;return Se.filter=this.current.transferMaps,Se.drawImage(de,0,0),Se.filter="none",m.canvas}paintInlineImageXObject(ce){if(!this.contentVisible)return;const de=ce.width,be=ce.height,ue=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Te}=ue;Te!=="none"&&Te!==""&&(ue.filter="none")}ue.scale(1/de,-1/be);let m;if(ce.bitmap)m=this.applyTransferMapsToBitmap(ce);else if(typeof HTMLElement=="function"&&ce instanceof HTMLElement||!ce.data)m=ce;else{const Me=this.cachedCanvases.getCanvas("inlineImage",de,be).context;se(Me,ce),m=this.applyTransferMapsToCanvas(Me)}const Se=this._scaleImage(m,(0,c.getCurrentTransformInverse)(ue));ue.imageSmoothingEnabled=ye((0,c.getCurrentTransform)(ue),ce.interpolate),j(ue,Se.img,0,0,Se.paintWidth,Se.paintHeight,0,-be,de,be),this.compose(),this.restore()}paintInlineImageXObjectGroup(ce,de){if(!this.contentVisible)return;const be=this.ctx;let ue;if(ce.bitmap)ue=ce.bitmap;else{const m=ce.width,Se=ce.height,Me=this.cachedCanvases.getCanvas("inlineImage",m,Se).context;se(Me,ce),ue=this.applyTransferMapsToCanvas(Me)}for(const m of de)be.save(),be.transform(...m.transform),be.scale(1,-1),j(be,ue,m.x,m.y,m.w,m.h,0,-1,1,1),be.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ce){}markPointProps(ce,de){}beginMarkedContent(ce){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ce,de){ce==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(de)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ce){const de=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ce);const be=this.ctx;this.pendingClip&&(de||(this.pendingClip===Ne?be.clip("evenodd"):be.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),be.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ce=(0,c.getCurrentTransform)(this.ctx);if(ce[1]===0&&ce[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ce[0]),Math.abs(ce[3]));else{const de=Math.abs(ce[0]*ce[3]-ce[2]*ce[1]),be=Math.hypot(ce[0],ce[2]),ue=Math.hypot(ce[1],ce[3]);this._cachedGetSinglePixelWidth=Math.max(be,ue)/de}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ce}=this.current,{a:de,b:be,c:ue,d:m}=this.ctx.getTransform();let Se,Te;if(be===0&&ue===0){const Me=Math.abs(de),Le=Math.abs(m);if(Me===Le)if(ce===0)Se=Te=1/Me;else{const Ue=Me*ce;Se=Te=Ue<1?1/Ue:1}else if(ce===0)Se=1/Me,Te=1/Le;else{const Ue=Me*ce,Xe=Le*ce;Se=Ue<1?1/Ue:1,Te=Xe<1?1/Xe:1}}else{const Me=Math.abs(de*m-be*ue),Le=Math.hypot(de,be),Ue=Math.hypot(ue,m);if(ce===0)Se=Ue/Me,Te=Le/Me;else{const Xe=ce*Me;Se=Ue>Xe?Ue/Xe:1,Te=Le>Xe?Le/Xe:1}}this._cachedScaleForStroking[0]=Se,this._cachedScaleForStroking[1]=Te}return this._cachedScaleForStroking}rescaleAndStroke(ce){const{ctx:de}=this,{lineWidth:be}=this.current,[ue,m]=this.getScaleForStroking();if(de.lineWidth=be||1,ue===1&&m===1){de.stroke();return}const Se=de.getLineDash();if(ce&&de.save(),de.scale(ue,m),Se.length>0){const Te=Math.max(ue,m);de.setLineDash(Se.map(Me=>Me/Te)),de.lineDashOffset/=Te}de.stroke(),ce&&de.restore()}isContentVisible(){for(let ce=this.markedContentStack.length-1;ce>=0;ce--)if(!this.markedContentStack[ce].visible)return!1;return!0}};Fe=new WeakSet,In=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Dn=function(){if(this.pageColors){const ce=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ce!=="none"){const de=this.ctx.filter;this.ctx.filter=ce,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=de}}};let Ce=fe;i.CanvasGraphics=Ce;for(const Ee in a.OPS)Ce.prototype[Ee]!==void 0&&(Ce.prototype[a.OPS[Ee]]=Ce.prototype[Ee])},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=te;var a=o(1),c=o(6);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=h;function d(g,ne){if(!ne)return;const se=ne[2]-ne[0],q=ne[3]-ne[1],ee=new Path2D;ee.rect(ne[0],ne[1],se,q),g.clip(ee)}class f{constructor(){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class re extends f{constructor(ne){super(),this._type=ne[1],this._bbox=ne[2],this._colorStops=ne[3],this._p0=ne[4],this._p1=ne[5],this._r0=ne[6],this._r1=ne[7],this.matrix=null}_createGradient(ne){let se;this._type==="axial"?se=ne.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(se=ne.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const q of this._colorStops)se.addColorStop(q[0],q[1]);return se}getPattern(ne,se,q,ee){let he;if(ee===h.STROKE||ee===h.FILL){const oe=se.current.getClippedPathBoundingBox(ee,(0,c.getCurrentTransform)(ne))||[0,0,0,0],le=Math.ceil(oe[2]-oe[0])||1,ie=Math.ceil(oe[3]-oe[1])||1,Ae=se.cachedCanvases.getCanvas("pattern",le,ie,!0),ae=Ae.context;ae.clearRect(0,0,ae.canvas.width,ae.canvas.height),ae.beginPath(),ae.rect(0,0,ae.canvas.width,ae.canvas.height),ae.translate(-oe[0],-oe[1]),q=a.Util.transform(q,[1,0,0,1,oe[0],oe[1]]),ae.transform(...se.baseTransform),this.matrix&&ae.transform(...this.matrix),d(ae,this._bbox),ae.fillStyle=this._createGradient(ae),ae.fill(),he=ne.createPattern(Ae.canvas,"no-repeat");const ye=new DOMMatrix(q);he.setTransform(ye)}else d(ne,this._bbox),he=this._createGradient(ne);return he}}function _(g,ne,se,q,ee,he,oe,le){const ie=ne.coords,Ae=ne.colors,ae=g.data,ye=g.width*4;let Pe;ie[se+1]>ie[q+1]&&(Pe=se,se=q,q=Pe,Pe=he,he=oe,oe=Pe),ie[q+1]>ie[ee+1]&&(Pe=q,q=ee,ee=Pe,Pe=oe,oe=le,le=Pe),ie[se+1]>ie[q+1]&&(Pe=se,se=q,q=Pe,Pe=he,he=oe,oe=Pe);const Ie=(ie[se]+ne.offsetX)*ne.scaleX,Re=(ie[se+1]+ne.offsetY)*ne.scaleY,Ne=(ie[q]+ne.offsetX)*ne.scaleX,Ce=(ie[q+1]+ne.offsetY)*ne.scaleY,Fe=(ie[ee]+ne.offsetX)*ne.scaleX,we=(ie[ee+1]+ne.offsetY)*ne.scaleY;if(Re>=we)return;const xe=Ae[he],fe=Ae[he+1],Ee=Ae[he+2],ce=Ae[oe],de=Ae[oe+1],be=Ae[oe+2],ue=Ae[le],m=Ae[le+1],Se=Ae[le+2],Te=Math.round(Re),Me=Math.round(we);let Le,Ue,Xe,Ve,Ke,ze,Ge,Oe;for(let $e=Te;$e<=Me;$e++){if($e<Ce){const st=$e<Re?0:(Re-$e)/(Re-Ce);Le=Ie-(Ie-Ne)*st,Ue=xe-(xe-ce)*st,Xe=fe-(fe-de)*st,Ve=Ee-(Ee-be)*st}else{let st;$e>we?st=1:Ce===we?st=0:st=(Ce-$e)/(Ce-we),Le=Ne-(Ne-Fe)*st,Ue=ce-(ce-ue)*st,Xe=de-(de-m)*st,Ve=be-(be-Se)*st}let He;$e<Re?He=0:$e>we?He=1:He=(Re-$e)/(Re-we),Ke=Ie-(Ie-Fe)*He,ze=xe-(xe-ue)*He,Ge=fe-(fe-m)*He,Oe=Ee-(Ee-Se)*He;const Ye=Math.round(Math.min(Le,Ke)),nt=Math.round(Math.max(Le,Ke));let ot=ye*$e+Ye*4;for(let st=Ye;st<=nt;st++)He=(Le-st)/(Le-Ke),He<0?He=0:He>1&&(He=1),ae[ot++]=Ue-(Ue-ze)*He|0,ae[ot++]=Xe-(Xe-Ge)*He|0,ae[ot++]=Ve-(Ve-Oe)*He|0,ae[ot++]=255}}function $(g,ne,se){const q=ne.coords,ee=ne.colors;let he,oe;switch(ne.type){case"lattice":const le=ne.verticesPerRow,ie=Math.floor(q.length/le)-1,Ae=le-1;for(he=0;he<ie;he++){let ae=he*le;for(let ye=0;ye<Ae;ye++,ae++)_(g,se,q[ae],q[ae+1],q[ae+le],ee[ae],ee[ae+1],ee[ae+le]),_(g,se,q[ae+le+1],q[ae+1],q[ae+le],ee[ae+le+1],ee[ae+1],ee[ae+le])}break;case"triangles":for(he=0,oe=q.length;he<oe;he+=3)_(g,se,q[he],q[he+1],q[he+2],ee[he],ee[he+1],ee[he+2]);break;default:throw new Error("illegal figure")}}class _e extends f{constructor(ne){super(),this._coords=ne[2],this._colors=ne[3],this._figures=ne[4],this._bounds=ne[5],this._bbox=ne[7],this._background=ne[8],this.matrix=null}_createMeshCanvas(ne,se,q){const le=Math.floor(this._bounds[0]),ie=Math.floor(this._bounds[1]),Ae=Math.ceil(this._bounds[2])-le,ae=Math.ceil(this._bounds[3])-ie,ye=Math.min(Math.ceil(Math.abs(Ae*ne[0]*1.1)),3e3),Pe=Math.min(Math.ceil(Math.abs(ae*ne[1]*1.1)),3e3),Ie=Ae/ye,Re=ae/Pe,Ne={coords:this._coords,colors:this._colors,offsetX:-le,offsetY:-ie,scaleX:1/Ie,scaleY:1/Re},Ce=ye+2*2,Fe=Pe+2*2,we=q.getCanvas("mesh",Ce,Fe,!1),xe=we.context,fe=xe.createImageData(ye,Pe);if(se){const ce=fe.data;for(let de=0,be=ce.length;de<be;de+=4)ce[de]=se[0],ce[de+1]=se[1],ce[de+2]=se[2],ce[de+3]=255}for(const ce of this._figures)$(fe,ce,Ne);return xe.putImageData(fe,2,2),{canvas:we.canvas,offsetX:le-2*Ie,offsetY:ie-2*Re,scaleX:Ie,scaleY:Re}}getPattern(ne,se,q,ee){d(ne,this._bbox);let he;if(ee===h.SHADING)he=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(ne));else if(he=a.Util.singularValueDecompose2dScale(se.baseTransform),this.matrix){const le=a.Util.singularValueDecompose2dScale(this.matrix);he=[he[0]*le[0],he[1]*le[1]]}const oe=this._createMeshCanvas(he,ee===h.SHADING?null:this._background,se.cachedCanvases);return ee!==h.SHADING&&(ne.setTransform(...se.baseTransform),this.matrix&&ne.transform(...this.matrix)),ne.translate(oe.offsetX,oe.offsetY),ne.scale(oe.scaleX,oe.scaleY),ne.createPattern(oe.canvas,"no-repeat")}}class ve extends f{getPattern(){return"hotpink"}}function te(g){switch(g[0]){case"RadialAxial":return new re(g);case"Mesh":return new _e(g);case"Dummy":return new ve}throw new Error(`Unknown IR type: ${g[0]}`)}const b={COLORED:1,UNCOLORED:2},j=class j{constructor(ne,se,q,ee,he){this.operatorList=ne[2],this.matrix=ne[3]||[1,0,0,1,0,0],this.bbox=ne[4],this.xstep=ne[5],this.ystep=ne[6],this.paintType=ne[7],this.tilingType=ne[8],this.color=se,this.ctx=q,this.canvasGraphicsFactory=ee,this.baseTransform=he}createPatternCanvas(ne){const se=this.operatorList,q=this.bbox,ee=this.xstep,he=this.ystep,oe=this.paintType,le=this.tilingType,ie=this.color,Ae=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+le);const ae=q[0],ye=q[1],Pe=q[2],Ie=q[3],Re=a.Util.singularValueDecompose2dScale(this.matrix),Ne=a.Util.singularValueDecompose2dScale(this.baseTransform),Ce=[Re[0]*Ne[0],Re[1]*Ne[1]],Fe=this.getSizeAndScale(ee,this.ctx.canvas.width,Ce[0]),we=this.getSizeAndScale(he,this.ctx.canvas.height,Ce[1]),xe=ne.cachedCanvases.getCanvas("pattern",Fe.size,we.size,!0),fe=xe.context,Ee=Ae.createCanvasGraphics(fe);Ee.groupLevel=ne.groupLevel,this.setFillAndStrokeStyleToContext(Ee,oe,ie);let ce=ae,de=ye,be=Pe,ue=Ie;return ae<0&&(ce=0,be+=Math.abs(ae)),ye<0&&(de=0,ue+=Math.abs(ye)),fe.translate(-(Fe.scale*ce),-(we.scale*de)),Ee.transform(Fe.scale,0,0,we.scale,0,0),fe.save(),this.clipBbox(Ee,ce,de,be,ue),Ee.baseTransform=(0,c.getCurrentTransform)(Ee.ctx),Ee.executeOperatorList(se),Ee.endDrawing(),{canvas:xe.canvas,scaleX:Fe.scale,scaleY:we.scale,offsetX:ce,offsetY:de}}getSizeAndScale(ne,se,q){ne=Math.abs(ne);const ee=Math.max(j.MAX_PATTERN_SIZE,se);let he=Math.ceil(ne*q);return he>=ee?he=ee:q=he/ne,{scale:q,size:he}}clipBbox(ne,se,q,ee,he){const oe=ee-se,le=he-q;ne.ctx.rect(se,q,oe,le),ne.current.updateRectMinMax((0,c.getCurrentTransform)(ne.ctx),[se,q,ee,he]),ne.clip(),ne.endPath()}setFillAndStrokeStyleToContext(ne,se,q){const ee=ne.ctx,he=ne.current;switch(se){case b.COLORED:const oe=this.ctx;ee.fillStyle=oe.fillStyle,ee.strokeStyle=oe.strokeStyle,he.fillColor=oe.fillStyle,he.strokeColor=oe.strokeStyle;break;case b.UNCOLORED:const le=a.Util.makeHexColor(q[0],q[1],q[2]);ee.fillStyle=le,ee.strokeStyle=le,he.fillColor=le,he.strokeColor=le;break;default:throw new a.FormatError(`Unsupported paint type: ${se}`)}}getPattern(ne,se,q,ee){let he=q;ee!==h.SHADING&&(he=a.Util.transform(he,se.baseTransform),this.matrix&&(he=a.Util.transform(he,this.matrix)));const oe=this.createPatternCanvas(se);let le=new DOMMatrix(he);le=le.translate(oe.offsetX,oe.offsetY),le=le.scale(1/oe.scaleX,1/oe.scaleY);const ie=ne.createPattern(oe.canvas,"repeat");return ie.setTransform(le),ie}};Lt(j,"MAX_PATTERN_SIZE",3e3);let me=j;i.TilingPattern=me},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=h,i.convertToRGBA=c,i.grayToRGBA=f;var a=o(1);function c(re){switch(re.kind){case a.ImageKind.GRAYSCALE_1BPP:return h(re);case a.ImageKind.RGB_24BPP:return d(re)}return null}function h({src:re,srcPos:_=0,dest:$,width:_e,height:ve,nonBlackColor:te=4294967295,inverseDecode:b=!1}){const me=a.FeatureTest.isLittleEndian?4278190080:255,[j,g]=b?[te,me]:[me,te],ne=_e>>3,se=_e&7,q=re.length;$=new Uint32Array($.buffer);let ee=0;for(let he=0;he<ve;he++){for(const le=_+ne;_<le;_++){const ie=_<q?re[_]:255;$[ee++]=ie&128?g:j,$[ee++]=ie&64?g:j,$[ee++]=ie&32?g:j,$[ee++]=ie&16?g:j,$[ee++]=ie&8?g:j,$[ee++]=ie&4?g:j,$[ee++]=ie&2?g:j,$[ee++]=ie&1?g:j}if(se===0)continue;const oe=_<q?re[_++]:255;for(let le=0;le<se;le++)$[ee++]=oe&1<<7-le?g:j}return{srcPos:_,destPos:ee}}function d({src:re,srcPos:_=0,dest:$,destPos:_e=0,width:ve,height:te}){let b=0;const me=re.length>>2,j=new Uint32Array(re.buffer,_,me);if(a.FeatureTest.isLittleEndian){for(;b<me-2;b+=3,_e+=4){const g=j[b],ne=j[b+1],se=j[b+2];$[_e]=g|4278190080,$[_e+1]=g>>>24|ne<<8|4278190080,$[_e+2]=ne>>>16|se<<16|4278190080,$[_e+3]=se>>>8|4278190080}for(let g=b*4,ne=re.length;g<ne;g+=3)$[_e++]=re[g]|re[g+1]<<8|re[g+2]<<16|4278190080}else{for(;b<me-2;b+=3,_e+=4){const g=j[b],ne=j[b+1],se=j[b+2];$[_e]=g|255,$[_e+1]=g<<24|ne>>>8|255,$[_e+2]=ne<<16|se>>>16|255,$[_e+3]=se<<8|255}for(let g=b*4,ne=re.length;g<ne;g+=3)$[_e++]=re[g]<<24|re[g+1]<<16|re[g+2]<<8|255}return{srcPos:_,destPos:_e}}function f(re,_){if(a.FeatureTest.isLittleEndian)for(let $=0,_e=re.length;$<_e;$++)_[$]=re[$]*65793|4278190080;else for(let $=0,_e=re.length;$<_e;$++)_[$]=re[$]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const o=Object.create(null);i.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(e,i,o)=>{var re,dr,hr,un;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=o(1);const c={UNKNOWN:0,DATA:1,ERROR:2},h={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(ve){switch(ve instanceof Error||typeof ve=="object"&&ve!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ve.name){case"AbortException":return new a.AbortException(ve.message);case"MissingPDFException":return new a.MissingPDFException(ve.message);case"PasswordException":return new a.PasswordException(ve.message,ve.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(ve.message,ve.status);case"UnknownErrorException":return new a.UnknownErrorException(ve.message,ve.details);default:return new a.UnknownErrorException(ve.message,ve.toString())}}class f{constructor(te,b,me){Qe(this,re);this.sourceName=te,this.targetName=b,this.comObj=me,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const g=j.data;if(g.targetName!==this.sourceName)return;if(g.stream){We(this,re,hr).call(this,g);return}if(g.callback){const se=g.callbackId,q=this.callbackCapabilities[se];if(!q)throw new Error(`Cannot resolve callback ${se}`);if(delete this.callbackCapabilities[se],g.callback===c.DATA)q.resolve(g.data);else if(g.callback===c.ERROR)q.reject(d(g.reason));else throw new Error("Unexpected callback case");return}const ne=this.actionHandler[g.action];if(!ne)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const se=this.sourceName,q=g.sourceName;new Promise(function(ee){ee(ne(g.data))}).then(function(ee){me.postMessage({sourceName:se,targetName:q,callback:c.DATA,callbackId:g.callbackId,data:ee})},function(ee){me.postMessage({sourceName:se,targetName:q,callback:c.ERROR,callbackId:g.callbackId,reason:d(ee)})});return}if(g.streamId){We(this,re,dr).call(this,g);return}ne(g.data)},me.addEventListener("message",this._onComObjOnMessage)}on(te,b){const me=this.actionHandler;if(me[te])throw new Error(`There is already an actionName called "${te}"`);me[te]=b}send(te,b,me){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:te,data:b},me)}sendWithPromise(te,b,me){const j=this.callbackId++,g=new a.PromiseCapability;this.callbackCapabilities[j]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:te,callbackId:j,data:b},me)}catch(ne){g.reject(ne)}return g.promise}sendWithStream(te,b,me,j){const g=this.streamId++,ne=this.sourceName,se=this.targetName,q=this.comObj;return new ReadableStream({start:ee=>{const he=new a.PromiseCapability;return this.streamControllers[g]={controller:ee,startCall:he,pullCall:null,cancelCall:null,isClosed:!1},q.postMessage({sourceName:ne,targetName:se,action:te,streamId:g,data:b,desiredSize:ee.desiredSize},j),he.promise},pull:ee=>{const he=new a.PromiseCapability;return this.streamControllers[g].pullCall=he,q.postMessage({sourceName:ne,targetName:se,stream:h.PULL,streamId:g,desiredSize:ee.desiredSize}),he.promise},cancel:ee=>{(0,a.assert)(ee instanceof Error,"cancel must have a valid reason");const he=new a.PromiseCapability;return this.streamControllers[g].cancelCall=he,this.streamControllers[g].isClosed=!0,q.postMessage({sourceName:ne,targetName:se,stream:h.CANCEL,streamId:g,reason:d(ee)}),he.promise}},me)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}re=new WeakSet,dr=function(te){const b=te.streamId,me=this.sourceName,j=te.sourceName,g=this.comObj,ne=this,se=this.actionHandler[te.action],q={enqueue(ee,he=1,oe){if(this.isCancelled)return;const le=this.desiredSize;this.desiredSize-=he,le>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),g.postMessage({sourceName:me,targetName:j,stream:h.ENQUEUE,streamId:b,chunk:ee},oe)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:me,targetName:j,stream:h.CLOSE,streamId:b}),delete ne.streamSinks[b])},error(ee){(0,a.assert)(ee instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:me,targetName:j,stream:h.ERROR,streamId:b,reason:d(ee)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:te.desiredSize,ready:null};q.sinkCapability.resolve(),q.ready=q.sinkCapability.promise,this.streamSinks[b]=q,new Promise(function(ee){ee(se(te.data,q))}).then(function(){g.postMessage({sourceName:me,targetName:j,stream:h.START_COMPLETE,streamId:b,success:!0})},function(ee){g.postMessage({sourceName:me,targetName:j,stream:h.START_COMPLETE,streamId:b,reason:d(ee)})})},hr=function(te){const b=te.streamId,me=this.sourceName,j=te.sourceName,g=this.comObj,ne=this.streamControllers[b],se=this.streamSinks[b];switch(te.stream){case h.START_COMPLETE:te.success?ne.startCall.resolve():ne.startCall.reject(d(te.reason));break;case h.PULL_COMPLETE:te.success?ne.pullCall.resolve():ne.pullCall.reject(d(te.reason));break;case h.PULL:if(!se){g.postMessage({sourceName:me,targetName:j,stream:h.PULL_COMPLETE,streamId:b,success:!0});break}se.desiredSize<=0&&te.desiredSize>0&&se.sinkCapability.resolve(),se.desiredSize=te.desiredSize,new Promise(function(q){var ee;q((ee=se.onPull)==null?void 0:ee.call(se))}).then(function(){g.postMessage({sourceName:me,targetName:j,stream:h.PULL_COMPLETE,streamId:b,success:!0})},function(q){g.postMessage({sourceName:me,targetName:j,stream:h.PULL_COMPLETE,streamId:b,reason:d(q)})});break;case h.ENQUEUE:if((0,a.assert)(ne,"enqueue should have stream controller"),ne.isClosed)break;ne.controller.enqueue(te.chunk);break;case h.CLOSE:if((0,a.assert)(ne,"close should have stream controller"),ne.isClosed)break;ne.isClosed=!0,ne.controller.close(),We(this,re,un).call(this,ne,b);break;case h.ERROR:(0,a.assert)(ne,"error should have stream controller"),ne.controller.error(d(te.reason)),We(this,re,un).call(this,ne,b);break;case h.CANCEL_COMPLETE:te.success?ne.cancelCall.resolve():ne.cancelCall.reject(d(te.reason)),We(this,re,un).call(this,ne,b);break;case h.CANCEL:if(!se)break;new Promise(function(q){var ee;q((ee=se.onCancel)==null?void 0:ee.call(se,d(te.reason)))}).then(function(){g.postMessage({sourceName:me,targetName:j,stream:h.CANCEL_COMPLETE,streamId:b,success:!0})},function(q){g.postMessage({sourceName:me,targetName:j,stream:h.CANCEL_COMPLETE,streamId:b,reason:d(q)})}),se.sinkCapability.reject(d(te.reason)),se.isCancelled=!0,delete this.streamSinks[b];break;default:throw new Error("Unexpected stream case")}},un=async function(te,b){var me,j,g;await Promise.allSettled([(me=te.startCall)==null?void 0:me.promise,(j=te.pullCall)==null?void 0:j.promise,(g=te.cancelCall)==null?void 0:g.promise]),delete this.streamControllers[b]},i.MessageHandler=f},(e,i,o)=>{var h,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var a=o(1);class c{constructor({parsedData:re,rawData:_}){Qe(this,h);Qe(this,d);Ze(this,h,re),Ze(this,d,_)}getRaw(){return ge(this,d)}get(re){return ge(this,h).get(re)??null}getAll(){return(0,a.objectFromMap)(ge(this,h))}has(re){return ge(this,h).has(re)}}h=new WeakMap,d=new WeakMap,i.Metadata=c},(e,i,o)=>{var re,_,$,_e,ve,te,Ln;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var a=o(1),c=o(8);const h=Symbol("INTERNAL");class d{constructor(j,g){Qe(this,re,!0);this.name=j,this.intent=g}get visible(){return ge(this,re)}_setVisible(j,g){j!==h&&(0,a.unreachable)("Internal method `_setVisible` called."),Ze(this,re,g)}}re=new WeakMap;class f{constructor(j){Qe(this,te);Qe(this,_,null);Qe(this,$,new Map);Qe(this,_e,null);Qe(this,ve,null);if(this.name=null,this.creator=null,j!==null){this.name=j.name,this.creator=j.creator,Ze(this,ve,j.order);for(const g of j.groups)ge(this,$).set(g.id,new d(g.name,g.intent));if(j.baseState==="OFF")for(const g of ge(this,$).values())g._setVisible(h,!1);for(const g of j.on)ge(this,$).get(g)._setVisible(h,!0);for(const g of j.off)ge(this,$).get(g)._setVisible(h,!1);Ze(this,_e,this.getHash())}}isVisible(j){if(ge(this,$).size===0)return!0;if(!j)return(0,a.warn)("Optional content group not defined."),!0;if(j.type==="OCG")return ge(this,$).has(j.id)?ge(this,$).get(j.id).visible:((0,a.warn)(`Optional content group not found: ${j.id}`),!0);if(j.type==="OCMD"){if(j.expression)return We(this,te,Ln).call(this,j.expression);if(!j.policy||j.policy==="AnyOn"){for(const g of j.ids){if(!ge(this,$).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(ge(this,$).get(g).visible)return!0}return!1}else if(j.policy==="AllOn"){for(const g of j.ids){if(!ge(this,$).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(!ge(this,$).get(g).visible)return!1}return!0}else if(j.policy==="AnyOff"){for(const g of j.ids){if(!ge(this,$).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(!ge(this,$).get(g).visible)return!0}return!1}else if(j.policy==="AllOff"){for(const g of j.ids){if(!ge(this,$).has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(ge(this,$).get(g).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${j.policy}.`),!0}return(0,a.warn)(`Unknown group type ${j.type}.`),!0}setVisibility(j,g=!0){if(!ge(this,$).has(j)){(0,a.warn)(`Optional content group not found: ${j}`);return}ge(this,$).get(j)._setVisible(h,!!g),Ze(this,_,null)}get hasInitialVisibility(){return ge(this,_e)===null||this.getHash()===ge(this,_e)}getOrder(){return ge(this,$).size?ge(this,ve)?ge(this,ve).slice():[...ge(this,$).keys()]:null}getGroups(){return ge(this,$).size>0?(0,a.objectFromMap)(ge(this,$)):null}getGroup(j){return ge(this,$).get(j)||null}getHash(){if(ge(this,_)!==null)return ge(this,_);const j=new c.MurmurHash3_64;for(const[g,ne]of ge(this,$))j.update(`${g}:${ne.visible}`);return Ze(this,_,j.hexdigest())}}_=new WeakMap,$=new WeakMap,_e=new WeakMap,ve=new WeakMap,te=new WeakSet,Ln=function(j){const g=j.length;if(g<2)return!0;const ne=j[0];for(let se=1;se<g;se++){const q=j[se];let ee;if(Array.isArray(q))ee=We(this,te,Ln).call(this,q);else if(ge(this,$).has(q))ee=ge(this,$).get(q).visible;else return(0,a.warn)(`Optional content group not found: ${q}`),!0;switch(ne){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return ne==="And"},i.OptionalContentConfig=f},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var a=o(1),c=o(6);class h{constructor({length:_,initialData:$,progressiveDone:_e=!1,contentDispositionFilename:ve=null,disableRange:te=!1,disableStream:b=!1},me){if((0,a.assert)(me,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_e,this._contentDispositionFilename=ve,($==null?void 0:$.length)>0){const j=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=me,this._isStreamingSupported=!b,this._isRangeSupported=!te,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,g)=>{this._onReceiveData({begin:j,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((j,g)=>{this._onProgress({loaded:j,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:$}){const _e=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const ve=this._rangeReaders.some(function(te){return te._begin!==_?!1:(te._enqueue(_e),!0)});(0,a.assert)(ve,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var $,_e,ve,te;_.total===void 0?(_e=($=this._rangeReaders[0])==null?void 0:$.onProgress)==null||_e.call($,{loaded:_.loaded}):(te=(ve=this._fullRequestReader)==null?void 0:ve.onProgress)==null||te.call(ve,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const $=this._rangeReaders.indexOf(_);$>=0&&this._rangeReaders.splice($,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,$){if($<=this._progressiveDataLength)return null;const _e=new f(this,_,$);return this._pdfDataRangeTransport.requestDataRange(_,$),this._rangeReaders.push(_e),_e}cancelAllRequests(_){var $;($=this._fullRequestReader)==null||$.cancel(_);for(const _e of this._rangeReaders.slice(0))_e.cancel(_);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=h;class d{constructor(_,$,_e=!1,ve=null){this._stream=_,this._done=_e||!1,this._filename=(0,c.isPdfFile)(ve)?ve:null,this._queuedChunks=$||[],this._loaded=0;for(const te of this._queuedChunks)this._loaded+=te.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new a.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(_,$,_e){this._stream=_,this._begin=$,this._end=_e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $=this._queuedChunk;return this._queuedChunk=null,{value:$,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new a.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var a=o(1),c=o(20);function h(_e,ve,te){return{method:"GET",headers:_e,signal:te.signal,mode:"cors",credentials:ve?"include":"same-origin",redirect:"follow"}}function d(_e){const ve=new Headers;for(const te in _e){const b=_e[te];b!==void 0&&ve.append(te,b)}return ve}function f(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:((0,a.warn)(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class re{constructor(ve){this.source=ve,this.isHttp=/^https?:/i.test(ve.url),this.httpHeaders=this.isHttp&&ve.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ve;return((ve=this._fullRequestReader)==null?void 0:ve._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(ve,te){if(te<=this._progressiveDataLength)return null;const b=new $(this,ve,te);return this._rangeRequestReaders.push(b),b}cancelAllRequests(ve){var te;(te=this._fullRequestReader)==null||te.cancel(ve);for(const b of this._rangeRequestReaders.slice(0))b.cancel(ve)}}i.PDFFetchStream=re;class _{constructor(ve){this._stream=ve,this._reader=null,this._loaded=0,this._filename=null;const te=ve.source;this._withCredentials=te.withCredentials||!1,this._contentLength=te.length,this._headersCapability=new a.PromiseCapability,this._disableRange=te.disableRange||!1,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!te.disableStream,this._isRangeSupported=!te.disableRange,this._headers=d(this._stream.httpHeaders);const b=te.url;fetch(b,h(this._headers,this._withCredentials,this._abortController)).then(me=>{if(!(0,c.validateResponseStatus)(me.status))throw(0,c.createResponseStatusError)(me.status,b);this._reader=me.body.getReader(),this._headersCapability.resolve();const j=se=>me.headers.get(se),{allowRangeRequests:g,suggestedLength:ne}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=ne||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(j),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;await this._headersCapability.promise;const{value:ve,done:te}=await this._reader.read();return te?{value:ve,done:te}:(this._loaded+=ve.byteLength,(b=this.onProgress)==null||b.call(this,{loaded:this._loaded,total:this._contentLength}),{value:f(ve),done:!1})}cancel(ve){var te;(te=this._reader)==null||te.cancel(ve),this._abortController.abort()}}class ${constructor(ve,te,b){this._stream=ve,this._reader=null,this._loaded=0;const me=ve.source;this._withCredentials=me.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!me.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${te}-${b-1}`);const j=me.url;fetch(j,h(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,c.validateResponseStatus)(g.status))throw(0,c.createResponseStatusError)(g.status,j);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;await this._readCapability.promise;const{value:ve,done:te}=await this._reader.read();return te?{value:ve,done:te}:(this._loaded+=ve.byteLength,(b=this.onProgress)==null||b.call(this,{loaded:this._loaded}),{value:f(ve),done:!1})}cancel(ve){var te;(te=this._reader)==null||te.cancel(ve),this._abortController.abort()}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=re,i.extractFilenameFromHeader=f,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=_;var a=o(1),c=o(21),h=o(6);function d({getResponseHeader:$,isHttp:_e,rangeChunkSize:ve,disableRange:te}){const b={allowRangeRequests:!1,suggestedLength:void 0},me=parseInt($("Content-Length"),10);return!Number.isInteger(me)||(b.suggestedLength=me,me<=2*ve)||te||!_e||$("Accept-Ranges")!=="bytes"||($("Content-Encoding")||"identity")!=="identity"||(b.allowRangeRequests=!0),b}function f($){const _e=$("Content-Disposition");if(_e){let ve=(0,c.getFilenameFromContentDispositionHeader)(_e);if(ve.includes("%"))try{ve=decodeURIComponent(ve)}catch{}if((0,h.isPdfFile)(ve))return ve}return null}function re($,_e){return $===404||$===0&&_e.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+_e+'".'):new a.UnexpectedResponseException(`Unexpected server response (${$}) while retrieving PDF "${_e}".`,$)}function _($){return $===200||$===206}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var a=o(1);function c(h){let d=!0,f=re("filename\\*","i").exec(h);if(f){f=f[1];let me=ve(f);return me=unescape(me),me=te(me),me=b(me),$(me)}if(f=_e(h),f){const me=b(f);return $(me)}if(f=re("filename","i").exec(h),f){f=f[1];let me=ve(f);return me=b(me),$(me)}function re(me,j){return new RegExp("(?:^|;)\\s*"+me+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',j)}function _(me,j){if(me){if(!/^[\x00-\xFF]+$/.test(j))return j;try{const g=new TextDecoder(me,{fatal:!0}),ne=(0,a.stringToBytes)(j);j=g.decode(ne),d=!1}catch{}}return j}function $(me){return d&&/[\x80-\xff]/.test(me)&&(me=_("utf-8",me),d&&(me=_("iso-8859-1",me))),me}function _e(me){const j=[];let g;const ne=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=ne.exec(me))!==null;){let[,q,ee,he]=g;if(q=parseInt(q,10),q in j){if(q===0)break;continue}j[q]=[ee,he]}const se=[];for(let q=0;q<j.length&&q in j;++q){let[ee,he]=j[q];he=ve(he),ee&&(he=unescape(he),q===0&&(he=te(he))),se.push(he)}return se.join("")}function ve(me){if(me.startsWith('"')){const j=me.slice(1).split('\\"');for(let g=0;g<j.length;++g){const ne=j[g].indexOf('"');ne!==-1&&(j[g]=j[g].slice(0,ne),j.length=g+1),j[g]=j[g].replaceAll(/\\(.)/g,"$1")}me=j.join('"')}return me}function te(me){const j=me.indexOf("'");if(j===-1)return me;const g=me.slice(0,j),se=me.slice(j+1).replace(/^[^']*'/,"");return _(g,se)}function b(me){return!me.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(me)?me:me.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(j,g,ne,se){if(ne==="q"||ne==="Q")return se=se.replaceAll("_"," "),se=se.replaceAll(/=([0-9a-fA-F]{2})/g,function(q,ee){return String.fromCharCode(parseInt(ee,16))}),_(g,se);try{se=atob(se)}catch{}return _(g,se)})}return""}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var a=o(1),c=o(20);const h=200,d=206;function f(ve){const te=ve.response;return typeof te!="string"?te:(0,a.stringToBytes)(te).buffer}class re{constructor(te,b={}){this.url=te,this.isHttp=/^https?:/i.test(te),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(te,b,me){const j={begin:te,end:b};for(const g in me)j[g]=me[g];return this.request(j)}requestFull(te){return this.request(te)}request(te){const b=new XMLHttpRequest,me=this.currXhrId++,j=this.pendingRequests[me]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const ne=this.httpHeaders[g];ne!==void 0&&b.setRequestHeader(g,ne)}return this.isHttp&&"begin"in te&&"end"in te?(b.setRequestHeader("Range",`bytes=${te.begin}-${te.end-1}`),j.expectedStatus=d):j.expectedStatus=h,b.responseType="arraybuffer",te.onError&&(b.onerror=function(g){te.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,me),b.onprogress=this.onProgress.bind(this,me),j.onHeadersReceived=te.onHeadersReceived,j.onDone=te.onDone,j.onError=te.onError,j.onProgress=te.onProgress,b.send(null),me}onProgress(te,b){var j;const me=this.pendingRequests[te];me&&((j=me.onProgress)==null||j.call(me,b))}onStateChange(te,b){var q,ee,he;const me=this.pendingRequests[te];if(!me)return;const j=me.xhr;if(j.readyState>=2&&me.onHeadersReceived&&(me.onHeadersReceived(),delete me.onHeadersReceived),j.readyState!==4||!(te in this.pendingRequests))return;if(delete this.pendingRequests[te],j.status===0&&this.isHttp){(q=me.onError)==null||q.call(me,j.status);return}const g=j.status||h;if(!(g===h&&me.expectedStatus===d)&&g!==me.expectedStatus){(ee=me.onError)==null||ee.call(me,j.status);return}const se=f(j);if(g===d){const oe=j.getResponseHeader("Content-Range"),le=/bytes (\d+)-(\d+)\/(\d+)/.exec(oe);me.onDone({begin:parseInt(le[1],10),chunk:se})}else se?me.onDone({begin:0,chunk:se}):(he=me.onError)==null||he.call(me,j.status)}getRequestXhr(te){return this.pendingRequests[te].xhr}isPendingRequest(te){return te in this.pendingRequests}abortRequest(te){const b=this.pendingRequests[te].xhr;delete this.pendingRequests[te],b.abort()}}class _{constructor(te){this._source=te,this._manager=new re(te.url,{httpHeaders:te.httpHeaders,withCredentials:te.withCredentials}),this._rangeChunkSize=te.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(te){const b=this._rangeRequestReaders.indexOf(te);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $(this._manager,this._source),this._fullRequestReader}getRangeReader(te,b){const me=new _e(this._manager,te,b);return me.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(me),me}cancelAllRequests(te){var b;(b=this._fullRequestReader)==null||b.cancel(te);for(const me of this._rangeRequestReaders.slice(0))me.cancel(te)}}i.PDFNetworkStream=_;class ${constructor(te,b){this._manager=te;const me={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=te.requestFull(me),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const te=this._fullRequestId,b=this._manager.getRequestXhr(te),me=ne=>b.getResponseHeader(ne),{allowRangeRequests:j,suggestedLength:g}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:me,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});j&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(me),this._isRangeSupported&&this._manager.abortRequest(te),this._headersReceivedCapability.resolve()}_onDone(te){if(te&&(this._requests.length>0?this._requests.shift().resolve({value:te.chunk,done:!1}):this._cachedChunks.push(te.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(te){this._storedError=(0,c.createResponseStatusError)(te,this._url),this._headersReceivedCapability.reject(this._storedError);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(te){var b;(b=this.onProgress)==null||b.call(this,{loaded:te.loaded,total:te.lengthComputable?te.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const te=new a.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0,this._headersReceivedCapability.reject(te);for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _e{constructor(te,b,me){this._manager=te;const j={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._requestId=te.requestRange(b,me,j),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var te;(te=this.onClosed)==null||te.call(this,this)}_onDone(te){const b=te.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;for(const me of this._requests)me.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(te){this._storedError=(0,c.createResponseStatusError)(te,this._url);for(const b of this._requests)b.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(te){var b;this.isStreamingSupported||(b=this.onProgress)==null||b.call(this,{loaded:te.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const b=this._queuedChunk;return this._queuedChunk=null,{value:b,done:!1}}if(this._done)return{value:void 0,done:!0};const te=new a.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var a=o(1),c=o(20);const h=/^file:\/\/\/[a-zA-Z]:\//;function d(me){const j=require$$5,g=j.parse(me);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(me)?j.parse(`file:///${me}`):(g.host||(g.protocol="file:"),g)}class f{constructor(j){this.source=j,this.url=d(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new te(this):new _e(this),this._fullRequestReader}getRangeReader(j,g){if(g<=this._progressiveDataLength)return null;const ne=this.isFsUrl?new b(this,j,g):new ve(this,j,g);return this._rangeRequestReaders.push(ne),ne}cancelAllRequests(j){var g;(g=this._fullRequestReader)==null||g.cancel(j);for(const ne of this._rangeRequestReaders.slice(0))ne.cancel(j)}}i.PDFNodeStream=f;class re{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=j.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ne;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=j.length,(ne=this.onProgress)==null||ne.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const g=j.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ne;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=j.length,(ne=this.onProgress)==null||ne.call(this,{loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function $(me,j){return{protocol:me.protocol,auth:me.auth,host:me.hostname,port:me.port,path:me.path,method:"GET",headers:j}}class _e extends re{constructor(j){super(j);const g=ne=>{if(ne.statusCode===404){const he=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=he,this._headersCapability.reject(he);return}this._headersCapability.resolve(),this._setReadableStream(ne);const se=he=>this._readableStream.headers[he.toLowerCase()],{allowRangeRequests:q,suggestedLength:ee}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:se,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=q,this._contentLength=ee||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(se)};if(this._request=null,this._url.protocol==="http:"){const ne=require$$5;this._request=ne.request($(this._url,j.httpHeaders),g)}else{const ne=require$$5;this._request=ne.request($(this._url,j.httpHeaders),g)}this._request.on("error",ne=>{this._storedError=ne,this._headersCapability.reject(ne)}),this._request.end()}}class ve extends _{constructor(j,g,ne){super(j),this._httpHeaders={};for(const q in j.httpHeaders){const ee=j.httpHeaders[q];ee!==void 0&&(this._httpHeaders[q]=ee)}this._httpHeaders.Range=`bytes=${g}-${ne-1}`;const se=q=>{if(q.statusCode===404){const ee=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ee;return}this._setReadableStream(q)};if(this._request=null,this._url.protocol==="http:"){const q=require$$5;this._request=q.request($(this._url,this._httpHeaders),se)}else{const q=require$$5;this._request=q.request($(this._url,this._httpHeaders),se)}this._request.on("error",q=>{this._storedError=q}),this._request.end()}}class te extends re{constructor(j){super(j);let g=decodeURIComponent(this._url.path);h.test(this._url.href)&&(g=g.replace(/^\//,""));const ne=require$$5;ne.lstat(g,(se,q)=>{if(se){se.code==="ENOENT"&&(se=new a.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=se,this._headersCapability.reject(se);return}this._contentLength=q.size,this._setReadableStream(ne.createReadStream(g)),this._headersCapability.resolve()})}}class b extends _{constructor(j,g,ne){super(j);let se=decodeURIComponent(this._url.path);h.test(this._url.href)&&(se=se.replace(/^\//,""));const q=require$$5;this._setReadableStream(q.createReadStream(se,{start:g,end:ne-1}))}}},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var a=o(6),c=o(1);const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",re=["butt","round","square"],_=["miter","round","bevel"],$=function(q,ee="",he=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!he)return URL.createObjectURL(new Blob([q],{type:ee}));const oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let le=`data:${ee};base64,`;for(let ie=0,Ae=q.length;ie<Ae;ie+=3){const ae=q[ie]&255,ye=q[ie+1]&255,Pe=q[ie+2]&255,Ie=ae>>2,Re=(ae&3)<<4|ye>>4,Ne=ie+1<Ae?(ye&15)<<2|Pe>>6:64,Ce=ie+2<Ae?Pe&63:64;le+=oe[Ie]+oe[Re]+oe[Ne]+oe[Ce]}return le},_e=function(){const q=new Uint8Array([137,80,78,71,13,10,26,10]),ee=12,he=new Int32Array(256);for(let Pe=0;Pe<256;Pe++){let Ie=Pe;for(let Re=0;Re<8;Re++)Ie=Ie&1?3988292384^Ie>>1&2147483647:Ie>>1&2147483647;he[Pe]=Ie}function oe(Pe,Ie,Re){let Ne=-1;for(let Ce=Ie;Ce<Re;Ce++){const Fe=(Ne^Pe[Ce])&255,we=he[Fe];Ne=Ne>>>8^we}return Ne^-1}function le(Pe,Ie,Re,Ne){let Ce=Ne;const Fe=Ie.length;Re[Ce]=Fe>>24&255,Re[Ce+1]=Fe>>16&255,Re[Ce+2]=Fe>>8&255,Re[Ce+3]=Fe&255,Ce+=4,Re[Ce]=Pe.charCodeAt(0)&255,Re[Ce+1]=Pe.charCodeAt(1)&255,Re[Ce+2]=Pe.charCodeAt(2)&255,Re[Ce+3]=Pe.charCodeAt(3)&255,Ce+=4,Re.set(Ie,Ce),Ce+=Ie.length;const we=oe(Re,Ne+4,Ce);Re[Ce]=we>>24&255,Re[Ce+1]=we>>16&255,Re[Ce+2]=we>>8&255,Re[Ce+3]=we&255}function ie(Pe,Ie,Re){let Ne=1,Ce=0;for(let Fe=Ie;Fe<Re;++Fe)Ne=(Ne+(Pe[Fe]&255))%65521,Ce=(Ce+Ne)%65521;return Ce<<16|Ne}function Ae(Pe){if(!c.isNodeJS)return ae(Pe);try{const Ie=parseInt(process.versions.node)>=8?Pe:Buffer.from(Pe),Re=require$$5.deflateSync(Ie,{level:9});return Re instanceof Uint8Array?Re:new Uint8Array(Re)}catch(Ie){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ie)}return ae(Pe)}function ae(Pe){let Ie=Pe.length;const Re=65535,Ne=Math.ceil(Ie/Re),Ce=new Uint8Array(2+Ie+Ne*5+4);let Fe=0;Ce[Fe++]=120,Ce[Fe++]=156;let we=0;for(;Ie>Re;)Ce[Fe++]=0,Ce[Fe++]=255,Ce[Fe++]=255,Ce[Fe++]=0,Ce[Fe++]=0,Ce.set(Pe.subarray(we,we+Re),Fe),Fe+=Re,we+=Re,Ie-=Re;Ce[Fe++]=1,Ce[Fe++]=Ie&255,Ce[Fe++]=Ie>>8&255,Ce[Fe++]=~Ie&65535&255,Ce[Fe++]=(~Ie&65535)>>8&255,Ce.set(Pe.subarray(we),Fe),Fe+=Pe.length-we;const xe=ie(Pe,0,Pe.length);return Ce[Fe++]=xe>>24&255,Ce[Fe++]=xe>>16&255,Ce[Fe++]=xe>>8&255,Ce[Fe++]=xe&255,Ce}function ye(Pe,Ie,Re,Ne){const Ce=Pe.width,Fe=Pe.height;let we,xe,fe;const Ee=Pe.data;switch(Ie){case c.ImageKind.GRAYSCALE_1BPP:xe=0,we=1,fe=Ce+7>>3;break;case c.ImageKind.RGB_24BPP:xe=2,we=8,fe=Ce*3;break;case c.ImageKind.RGBA_32BPP:xe=6,we=8,fe=Ce*4;break;default:throw new Error("invalid format")}const ce=new Uint8Array((1+fe)*Fe);let de=0,be=0;for(let Le=0;Le<Fe;++Le)ce[de++]=0,ce.set(Ee.subarray(be,be+fe),de),be+=fe,de+=fe;if(Ie===c.ImageKind.GRAYSCALE_1BPP&&Ne){de=0;for(let Le=0;Le<Fe;Le++){de++;for(let Ue=0;Ue<fe;Ue++)ce[de++]^=255}}const ue=new Uint8Array([Ce>>24&255,Ce>>16&255,Ce>>8&255,Ce&255,Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255,we,xe,0,0,0]),m=Ae(ce),Se=q.length+ee*3+ue.length+m.length,Te=new Uint8Array(Se);let Me=0;return Te.set(q,Me),Me+=q.length,le("IHDR",ue,Te,Me),Me+=ee+ue.length,le("IDATA",m,Te,Me),Me+=ee+m.length,le("IEND",new Uint8Array(0),Te,Me),$(Te,"image/png",Re)}return function(Ie,Re,Ne){const Ce=Ie.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Ie.kind;return ye(Ie,Ce,Re,Ne)}}();class ve{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ee,he){this.x=ee,this.y=he}}function te(q){let ee=[];const he=[];for(const oe of q){if(oe.fn==="save"){ee.push({fnId:92,fn:"group",items:[]}),he.push(ee),ee=ee.at(-1).items;continue}oe.fn==="restore"?ee=he.pop():ee.push(oe)}return ee}function b(q){if(Number.isInteger(q))return q.toString();const ee=q.toFixed(10);let he=ee.length-1;if(ee[he]!=="0")return ee;do he--;while(ee[he]==="0");return ee.substring(0,ee[he]==="."?he:he+1)}function me(q){if(q[4]===0&&q[5]===0){if(q[1]===0&&q[2]===0)return q[0]===1&&q[3]===1?"":`scale(${b(q[0])} ${b(q[3])})`;if(q[0]===q[3]&&q[1]===-q[2]){const ee=Math.acos(q[0])*180/Math.PI;return`rotate(${b(ee)})`}}else if(q[0]===1&&q[1]===0&&q[2]===0&&q[3]===1)return`translate(${b(q[4])} ${b(q[5])})`;return`matrix(${b(q[0])} ${b(q[1])} ${b(q[2])} ${b(q[3])} ${b(q[4])} ${b(q[5])})`}let j=0,g=0,ne=0;class se{constructor(ee,he,oe=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new ve,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ee,this.objs=he,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!oe,this._operatorIdMapping=[];for(const le in c.OPS)this._operatorIdMapping[c.OPS[le]]=le}getObject(ee,he=null){return typeof ee=="string"?ee.startsWith("g_")?this.commonObjs.get(ee):this.objs.get(ee):he}save(){this.transformStack.push(this.transformMatrix);const ee=this.current;this.extraStack.push(ee),this.current=ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ee){this.save(),this.executeOpTree(ee),this.restore()}loadDependencies(ee){const he=ee.fnArray,oe=ee.argsArray;for(let le=0,ie=he.length;le<ie;le++)if(he[le]===c.OPS.dependency)for(const Ae of oe[le]){const ae=Ae.startsWith("g_")?this.commonObjs:this.objs,ye=new Promise(Pe=>{ae.get(Ae,Pe)});this.current.dependencies.push(ye)}return Promise.all(this.current.dependencies)}transform(ee,he,oe,le,ie,Ae){const ae=[ee,he,oe,le,ie,Ae];this.transformMatrix=c.Util.transform(this.transformMatrix,ae),this.tgrp=null}getSVG(ee,he){this.viewport=he;const oe=this._initialize(he);return this.loadDependencies(ee).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ee)),oe))}convertOpList(ee){const he=this._operatorIdMapping,oe=ee.argsArray,le=ee.fnArray,ie=[];for(let Ae=0,ae=le.length;Ae<ae;Ae++){const ye=le[Ae];ie.push({fnId:ye,fn:he[ye],args:oe[Ae]})}return te(ie)}executeOpTree(ee){for(const he of ee){const oe=he.fn,le=he.fnId,ie=he.args;switch(le|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(ie);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(ie[0],ie[1]);break;case c.OPS.setFont:this.setFont(ie);break;case c.OPS.showText:this.showText(ie[0]);break;case c.OPS.showSpacedText:this.showText(ie[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(ie[0],ie[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(ie[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(ie[0]);break;case c.OPS.setHScale:this.setHScale(ie[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);break;case c.OPS.setTextRise:this.setTextRise(ie[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(ie[0]);break;case c.OPS.setLineWidth:this.setLineWidth(ie[0]);break;case c.OPS.setLineJoin:this.setLineJoin(ie[0]);break;case c.OPS.setLineCap:this.setLineCap(ie[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(ie[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(ie[0],ie[1],ie[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ie[0],ie[1],ie[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(ie);break;case c.OPS.setFillColorN:this.setFillColorN(ie);break;case c.OPS.shadingFill:this.shadingFill(ie[0]);break;case c.OPS.setDash:this.setDash(ie[0],ie[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(ie[0]);break;case c.OPS.setFlatness:this.setFlatness(ie[0]);break;case c.OPS.setGState:this.setGState(ie[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(ie[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ie[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ie[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ie[0],ie[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);break;case c.OPS.constructPath:this.constructPath(ie[0],ie[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(he.items);break;default:(0,c.warn)(`Unimplemented operator ${oe}`);break}}}setWordSpacing(ee){this.current.wordSpacing=ee}setCharSpacing(ee){this.current.charSpacing=ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ee,he,oe,le,ie,Ae){const ae=this.current;ae.textMatrix=ae.lineMatrix=[ee,he,oe,le,ie,Ae],ae.textMatrixScale=Math.hypot(ee,he),ae.x=ae.lineX=0,ae.y=ae.lineY=0,ae.xcoords=[],ae.ycoords=[],ae.tspan=this.svgFactory.createElement("svg:tspan"),ae.tspan.setAttributeNS(null,"font-family",ae.fontFamily),ae.tspan.setAttributeNS(null,"font-size",`${b(ae.fontSize)}px`),ae.tspan.setAttributeNS(null,"y",b(-ae.y)),ae.txtElement=this.svgFactory.createElement("svg:text"),ae.txtElement.append(ae.tspan)}beginText(){const ee=this.current;ee.x=ee.lineX=0,ee.y=ee.lineY=0,ee.textMatrix=c.IDENTITY_MATRIX,ee.lineMatrix=c.IDENTITY_MATRIX,ee.textMatrixScale=1,ee.tspan=this.svgFactory.createElement("svg:tspan"),ee.txtElement=this.svgFactory.createElement("svg:text"),ee.txtgrp=this.svgFactory.createElement("svg:g"),ee.xcoords=[],ee.ycoords=[]}moveText(ee,he){const oe=this.current;oe.x=oe.lineX+=ee,oe.y=oe.lineY+=he,oe.xcoords=[],oe.ycoords=[],oe.tspan=this.svgFactory.createElement("svg:tspan"),oe.tspan.setAttributeNS(null,"font-family",oe.fontFamily),oe.tspan.setAttributeNS(null,"font-size",`${b(oe.fontSize)}px`),oe.tspan.setAttributeNS(null,"y",b(-oe.y))}showText(ee){const he=this.current,oe=he.font,le=he.fontSize;if(le===0)return;const ie=he.fontSizeScale,Ae=he.charSpacing,ae=he.wordSpacing,ye=he.fontDirection,Pe=he.textHScale*ye,Ie=oe.vertical,Re=Ie?1:-1,Ne=oe.defaultVMetrics,Ce=le*he.fontMatrix[0];let Fe=0;for(const fe of ee){if(fe===null){Fe+=ye*ae;continue}else if(typeof fe=="number"){Fe+=Re*fe*le/1e3;continue}const Ee=(fe.isSpace?ae:0)+Ae,ce=fe.fontChar;let de,be,ue=fe.width;if(Ie){let Se;const Te=fe.vmetric||Ne;Se=fe.vmetric?Te[1]:ue*.5,Se=-Se*Ce;const Me=Te[2]*Ce;ue=Te?-Te[0]:ue,de=Se/ie,be=(Fe+Me)/ie}else de=Fe/ie,be=0;(fe.isInFont||oe.missingFile)&&(he.xcoords.push(he.x+de),Ie&&he.ycoords.push(-he.y+be),he.tspan.textContent+=ce);const m=Ie?ue*Ce-Ee*ye:ue*Ce+Ee*ye;Fe+=m}he.tspan.setAttributeNS(null,"x",he.xcoords.map(b).join(" ")),Ie?he.tspan.setAttributeNS(null,"y",he.ycoords.map(b).join(" ")):he.tspan.setAttributeNS(null,"y",b(-he.y)),Ie?he.y-=Fe:he.x+=Fe*Pe,he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${b(he.fontSize)}px`),he.fontStyle!==h.fontStyle&&he.tspan.setAttributeNS(null,"font-style",he.fontStyle),he.fontWeight!==h.fontWeight&&he.tspan.setAttributeNS(null,"font-weight",he.fontWeight);const we=he.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(we===c.TextRenderingMode.FILL||we===c.TextRenderingMode.FILL_STROKE?(he.fillColor!==h.fillColor&&he.tspan.setAttributeNS(null,"fill",he.fillColor),he.fillAlpha<1&&he.tspan.setAttributeNS(null,"fill-opacity",he.fillAlpha)):he.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?he.tspan.setAttributeNS(null,"fill","transparent"):he.tspan.setAttributeNS(null,"fill","none"),we===c.TextRenderingMode.STROKE||we===c.TextRenderingMode.FILL_STROKE){const fe=1/(he.textMatrixScale||1);this._setStrokeAttributes(he.tspan,fe)}let xe=he.textMatrix;he.textRise!==0&&(xe=xe.slice(),xe[5]+=he.textRise),he.txtElement.setAttributeNS(null,"transform",`${me(xe)} scale(${b(Pe)}, -1)`),he.txtElement.setAttributeNS(d,"xml:space","preserve"),he.txtElement.append(he.tspan),he.txtgrp.append(he.txtElement),this._ensureTransformGroup().append(he.txtElement)}setLeadingMoveText(ee,he){this.setLeading(-he),this.moveText(ee,he)}addFontStyle(ee){if(!ee.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const he=$(ee.data,ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ee.loadedName}"; src: url(${he}); }
`}setFont(ee){const he=this.current,oe=this.commonObjs.get(ee[0]);let le=ee[1];he.font=oe,this.embedFonts&&!oe.missingFile&&!this.embeddedFonts[oe.loadedName]&&(this.addFontStyle(oe),this.embeddedFonts[oe.loadedName]=oe),he.fontMatrix=oe.fontMatrix||c.FONT_IDENTITY_MATRIX;let ie="normal";oe.black?ie="900":oe.bold&&(ie="bold");const Ae=oe.italic?"italic":"normal";le<0?(le=-le,he.fontDirection=-1):he.fontDirection=1,he.fontSize=le,he.fontFamily=oe.loadedName,he.fontWeight=ie,he.fontStyle=Ae,he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"y",b(-he.y)),he.xcoords=[],he.ycoords=[]}endText(){var he;const ee=this.current;ee.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((he=ee.txtElement)!=null&&he.hasChildNodes())&&(ee.element=ee.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ee){ee>0&&(this.current.lineWidth=ee)}setLineCap(ee){this.current.lineCap=re[ee]}setLineJoin(ee){this.current.lineJoin=_[ee]}setMiterLimit(ee){this.current.miterLimit=ee}setStrokeAlpha(ee){this.current.strokeAlpha=ee}setStrokeRGBColor(ee,he,oe){this.current.strokeColor=c.Util.makeHexColor(ee,he,oe)}setFillAlpha(ee){this.current.fillAlpha=ee}setFillRGBColor(ee,he,oe){this.current.fillColor=c.Util.makeHexColor(ee,he,oe),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ee){this.current.strokeColor=this._makeColorN_Pattern(ee)}setFillColorN(ee){this.current.fillColor=this._makeColorN_Pattern(ee)}shadingFill(ee){const{width:he,height:oe}=this.viewport,le=c.Util.inverseTransform(this.transformMatrix),[ie,Ae,ae,ye]=c.Util.getAxialAlignedBoundingBox([0,0,he,oe],le),Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x",ie),Pe.setAttributeNS(null,"y",Ae),Pe.setAttributeNS(null,"width",ae-ie),Pe.setAttributeNS(null,"height",ye-Ae),Pe.setAttributeNS(null,"fill",this._makeShadingPattern(ee)),this.current.fillAlpha<1&&Pe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Pe)}_makeColorN_Pattern(ee){return ee[0]==="TilingPattern"?this._makeTilingPattern(ee):this._makeShadingPattern(ee)}_makeTilingPattern(ee){const he=ee[1],oe=ee[2],le=ee[3]||c.IDENTITY_MATRIX,[ie,Ae,ae,ye]=ee[4],Pe=ee[5],Ie=ee[6],Re=ee[7],Ne=`shading${ne++}`,[Ce,Fe,we,xe]=c.Util.normalizeRect([...c.Util.applyTransform([ie,Ae],le),...c.Util.applyTransform([ae,ye],le)]),[fe,Ee]=c.Util.singularValueDecompose2dScale(le),ce=Pe*fe,de=Ie*Ee,be=this.svgFactory.createElement("svg:pattern");be.setAttributeNS(null,"id",Ne),be.setAttributeNS(null,"patternUnits","userSpaceOnUse"),be.setAttributeNS(null,"width",ce),be.setAttributeNS(null,"height",de),be.setAttributeNS(null,"x",`${Ce}`),be.setAttributeNS(null,"y",`${Fe}`);const ue=this.svg,m=this.transformMatrix,Se=this.current.fillColor,Te=this.current.strokeColor,Me=this.svgFactory.create(we-Ce,xe-Fe);if(this.svg=Me,this.transformMatrix=le,Re===2){const Le=c.Util.makeHexColor(...he);this.current.fillColor=Le,this.current.strokeColor=Le}return this.executeOpTree(this.convertOpList(oe)),this.svg=ue,this.transformMatrix=m,this.current.fillColor=Se,this.current.strokeColor=Te,be.append(Me.childNodes[0]),this.defs.append(be),`url(#${Ne})`}_makeShadingPattern(ee){switch(typeof ee=="string"&&(ee=this.objs.get(ee)),ee[0]){case"RadialAxial":const he=`shading${ne++}`,oe=ee[3];let le;switch(ee[1]){case"axial":const ie=ee[4],Ae=ee[5];le=this.svgFactory.createElement("svg:linearGradient"),le.setAttributeNS(null,"id",he),le.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),le.setAttributeNS(null,"x1",ie[0]),le.setAttributeNS(null,"y1",ie[1]),le.setAttributeNS(null,"x2",Ae[0]),le.setAttributeNS(null,"y2",Ae[1]);break;case"radial":const ae=ee[4],ye=ee[5],Pe=ee[6],Ie=ee[7];le=this.svgFactory.createElement("svg:radialGradient"),le.setAttributeNS(null,"id",he),le.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),le.setAttributeNS(null,"cx",ye[0]),le.setAttributeNS(null,"cy",ye[1]),le.setAttributeNS(null,"r",Ie),le.setAttributeNS(null,"fx",ae[0]),le.setAttributeNS(null,"fy",ae[1]),le.setAttributeNS(null,"fr",Pe);break;default:throw new Error(`Unknown RadialAxial type: ${ee[1]}`)}for(const ie of oe){const Ae=this.svgFactory.createElement("svg:stop");Ae.setAttributeNS(null,"offset",ie[0]),Ae.setAttributeNS(null,"stop-color",ie[1]),le.append(Ae)}return this.defs.append(le),`url(#${he})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ee[0]}`)}}setDash(ee,he){this.current.dashArray=ee,this.current.dashPhase=he}constructPath(ee,he){const oe=this.current;let le=oe.x,ie=oe.y,Ae=[],ae=0;for(const ye of ee)switch(ye|0){case c.OPS.rectangle:le=he[ae++],ie=he[ae++];const Pe=he[ae++],Ie=he[ae++],Re=le+Pe,Ne=ie+Ie;Ae.push("M",b(le),b(ie),"L",b(Re),b(ie),"L",b(Re),b(Ne),"L",b(le),b(Ne),"Z");break;case c.OPS.moveTo:le=he[ae++],ie=he[ae++],Ae.push("M",b(le),b(ie));break;case c.OPS.lineTo:le=he[ae++],ie=he[ae++],Ae.push("L",b(le),b(ie));break;case c.OPS.curveTo:le=he[ae+4],ie=he[ae+5],Ae.push("C",b(he[ae]),b(he[ae+1]),b(he[ae+2]),b(he[ae+3]),b(le),b(ie)),ae+=6;break;case c.OPS.curveTo2:Ae.push("C",b(le),b(ie),b(he[ae]),b(he[ae+1]),b(he[ae+2]),b(he[ae+3])),le=he[ae+2],ie=he[ae+3],ae+=4;break;case c.OPS.curveTo3:le=he[ae+2],ie=he[ae+3],Ae.push("C",b(he[ae]),b(he[ae+1]),b(le),b(ie),b(le),b(ie)),ae+=4;break;case c.OPS.closePath:Ae.push("Z");break}Ae=Ae.join(" "),oe.path&&ee.length>0&&ee[0]!==c.OPS.rectangle&&ee[0]!==c.OPS.moveTo?Ae=oe.path.getAttributeNS(null,"d")+Ae:(oe.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(oe.path)),oe.path.setAttributeNS(null,"d",Ae),oe.path.setAttributeNS(null,"fill","none"),oe.element=oe.path,oe.setCurrentPoint(le,ie)}endPath(){const ee=this.current;if(ee.path=null,!this.pendingClip)return;if(!ee.element){this.pendingClip=null;return}const he=`clippath${j++}`,oe=this.svgFactory.createElement("svg:clipPath");oe.setAttributeNS(null,"id",he),oe.setAttributeNS(null,"transform",me(this.transformMatrix));const le=ee.element.cloneNode(!0);if(this.pendingClip==="evenodd"?le.setAttributeNS(null,"clip-rule","evenodd"):le.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,oe.append(le),this.defs.append(oe),ee.activeClipUrl){ee.clipGroup=null;for(const ie of this.extraStack)ie.clipGroup=null;oe.setAttributeNS(null,"clip-path",ee.activeClipUrl)}ee.activeClipUrl=`url(#${he})`,this.tgrp=null}clip(ee){this.pendingClip=ee}closePath(){const ee=this.current;if(ee.path){const he=`${ee.path.getAttributeNS(null,"d")}Z`;ee.path.setAttributeNS(null,"d",he)}}setLeading(ee){this.current.leading=-ee}setTextRise(ee){this.current.textRise=ee}setTextRenderingMode(ee){this.current.textRenderingMode=ee}setHScale(ee){this.current.textHScale=ee/100}setRenderingIntent(ee){}setFlatness(ee){}setGState(ee){for(const[he,oe]of ee)switch(he){case"LW":this.setLineWidth(oe);break;case"LC":this.setLineCap(oe);break;case"LJ":this.setLineJoin(oe);break;case"ML":this.setMiterLimit(oe);break;case"D":this.setDash(oe[0],oe[1]);break;case"RI":this.setRenderingIntent(oe);break;case"FL":this.setFlatness(oe);break;case"Font":this.setFont(oe);break;case"CA":this.setStrokeAlpha(oe);break;case"ca":this.setFillAlpha(oe);break;default:(0,c.warn)(`Unimplemented graphic state operator ${he}`);break}}fill(){const ee=this.current;ee.element&&(ee.element.setAttributeNS(null,"fill",ee.fillColor),ee.element.setAttributeNS(null,"fill-opacity",ee.fillAlpha),this.endPath())}stroke(){const ee=this.current;ee.element&&(this._setStrokeAttributes(ee.element),ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ee,he=1){const oe=this.current;let le=oe.dashArray;he!==1&&le.length>0&&(le=le.map(function(ie){return he*ie})),ee.setAttributeNS(null,"stroke",oe.strokeColor),ee.setAttributeNS(null,"stroke-opacity",oe.strokeAlpha),ee.setAttributeNS(null,"stroke-miterlimit",b(oe.miterLimit)),ee.setAttributeNS(null,"stroke-linecap",oe.lineCap),ee.setAttributeNS(null,"stroke-linejoin",oe.lineJoin),ee.setAttributeNS(null,"stroke-width",b(he*oe.lineWidth)+"px"),ee.setAttributeNS(null,"stroke-dasharray",le.map(b).join(" ")),ee.setAttributeNS(null,"stroke-dashoffset",b(he*oe.dashPhase)+"px")}eoFill(){var ee;(ee=this.current.element)==null||ee.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ee;(ee=this.current.element)==null||ee.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width","1px"),ee.setAttributeNS(null,"height","1px"),ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ee)}paintImageXObject(ee){const he=this.getObject(ee);if(!he){(0,c.warn)(`Dependent image with object ID ${ee} is not ready yet`);return}this.paintInlineImageXObject(he)}paintInlineImageXObject(ee,he){const oe=ee.width,le=ee.height,ie=_e(ee,this.forceDataSchema,!!he),Ae=this.svgFactory.createElement("svg:rect");Ae.setAttributeNS(null,"x","0"),Ae.setAttributeNS(null,"y","0"),Ae.setAttributeNS(null,"width",b(oe)),Ae.setAttributeNS(null,"height",b(le)),this.current.element=Ae,this.clip("nonzero");const ae=this.svgFactory.createElement("svg:image");ae.setAttributeNS(f,"xlink:href",ie),ae.setAttributeNS(null,"x","0"),ae.setAttributeNS(null,"y",b(-le)),ae.setAttributeNS(null,"width",b(oe)+"px"),ae.setAttributeNS(null,"height",b(le)+"px"),ae.setAttributeNS(null,"transform",`scale(${b(1/oe)} ${b(-1/le)})`),he?he.append(ae):this._ensureTransformGroup().append(ae)}paintImageMaskXObject(ee){const he=this.getObject(ee.data,ee);if(he.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const oe=this.current,le=he.width,ie=he.height,Ae=oe.fillColor;oe.maskId=`mask${g++}`;const ae=this.svgFactory.createElement("svg:mask");ae.setAttributeNS(null,"id",oe.maskId);const ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y","0"),ye.setAttributeNS(null,"width",b(le)),ye.setAttributeNS(null,"height",b(ie)),ye.setAttributeNS(null,"fill",Ae),ye.setAttributeNS(null,"mask",`url(#${oe.maskId})`),this.defs.append(ae),this._ensureTransformGroup().append(ye),this.paintInlineImageXObject(he,ae)}paintFormXObjectBegin(ee,he){if(Array.isArray(ee)&&ee.length===6&&this.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),he){const oe=he[2]-he[0],le=he[3]-he[1],ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x",he[0]),ie.setAttributeNS(null,"y",he[1]),ie.setAttributeNS(null,"width",b(oe)),ie.setAttributeNS(null,"height",b(le)),this.current.element=ie,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ee){const he=this.svgFactory.create(ee.width,ee.height),oe=this.svgFactory.createElement("svg:defs");he.append(oe),this.defs=oe;const le=this.svgFactory.createElement("svg:g");return le.setAttributeNS(null,"transform",me(ee.transform)),he.append(le),this.svg=le,he}_ensureClipGroup(){if(!this.current.clipGroup){const ee=this.svgFactory.createElement("svg:g");ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ee),this.current.clipGroup=ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",me(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=se},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class o{static textContent(c){const h=[],d={items:h,styles:Object.create(null)};function f(re){var _e;if(!re)return;let _=null;const $=re.name;if($==="#text")_=re.value;else if(o.shouldBuildText($))(_e=re==null?void 0:re.attributes)!=null&&_e.textContent?_=re.attributes.textContent:re.value&&(_=re.value);else return;if(_!==null&&h.push({str:_}),!!re.children)for(const ve of re.children)f(ve)}return f(c),d}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=o},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=me,i.updateTextLayer=j;var a=o(1),c=o(6);const h=1e5,d=30,f=.8,re=new Map;function _(g,ne){let se;if(ne&&a.FeatureTest.isOffscreenCanvasSupported)se=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const q=document.createElement("canvas");q.width=q.height=g,se=q.getContext("2d",{alpha:!1})}return se}function $(g,ne){const se=re.get(g);if(se)return se;const q=_(d,ne);q.font=`${d}px ${g}`;const ee=q.measureText("");let he=ee.fontBoundingBoxAscent,oe=Math.abs(ee.fontBoundingBoxDescent);if(he){const ie=he/(he+oe);return re.set(g,ie),q.canvas.width=q.canvas.height=0,ie}q.strokeStyle="red",q.clearRect(0,0,d,d),q.strokeText("g",0,0);let le=q.getImageData(0,0,d,d).data;oe=0;for(let ie=le.length-1-3;ie>=0;ie-=4)if(le[ie]>0){oe=Math.ceil(ie/4/d);break}q.clearRect(0,0,d,d),q.strokeText("A",0,d),le=q.getImageData(0,0,d,d).data,he=0;for(let ie=0,Ae=le.length;ie<Ae;ie+=4)if(le[ie]>0){he=d-Math.floor(ie/4/d);break}if(q.canvas.width=q.canvas.height=0,he){const ie=he/(he+oe);return re.set(g,ie),ie}return re.set(g,f),f}function _e(g,ne,se){const q=document.createElement("span"),ee={angle:0,canvasWidth:0,hasText:ne.str!=="",hasEOL:ne.hasEOL,fontSize:0};g._textDivs.push(q);const he=a.Util.transform(g._transform,ne.transform);let oe=Math.atan2(he[1],he[0]);const le=se[ne.fontName];le.vertical&&(oe+=Math.PI/2);const ie=Math.hypot(he[2],he[3]),Ae=ie*$(le.fontFamily,g._isOffscreenCanvasSupported);let ae,ye;oe===0?(ae=he[4],ye=he[5]-Ae):(ae=he[4]+Ae*Math.sin(oe),ye=he[5]-Ae*Math.cos(oe));const Pe="calc(var(--scale-factor)*",Ie=q.style;g._container===g._rootContainer?(Ie.left=`${(100*ae/g._pageWidth).toFixed(2)}%`,Ie.top=`${(100*ye/g._pageHeight).toFixed(2)}%`):(Ie.left=`${Pe}${ae.toFixed(2)}px)`,Ie.top=`${Pe}${ye.toFixed(2)}px)`),Ie.fontSize=`${Pe}${ie.toFixed(2)}px)`,Ie.fontFamily=le.fontFamily,ee.fontSize=ie,q.setAttribute("role","presentation"),q.textContent=ne.str,q.dir=ne.dir,g._fontInspectorEnabled&&(q.dataset.fontName=ne.fontName),oe!==0&&(ee.angle=oe*(180/Math.PI));let Re=!1;if(ne.str.length>1)Re=!0;else if(ne.str!==" "&&ne.transform[0]!==ne.transform[3]){const Ne=Math.abs(ne.transform[0]),Ce=Math.abs(ne.transform[3]);Ne!==Ce&&Math.max(Ne,Ce)/Math.min(Ne,Ce)>1.5&&(Re=!0)}Re&&(ee.canvasWidth=le.vertical?ne.height:ne.width),g._textDivProperties.set(q,ee),g._isReadableStream&&g._layoutText(q)}function ve(g){const{div:ne,scale:se,properties:q,ctx:ee,prevFontSize:he,prevFontFamily:oe}=g,{style:le}=ne;let ie="";if(q.canvasWidth!==0&&q.hasText){const{fontFamily:Ae}=le,{canvasWidth:ae,fontSize:ye}=q;(he!==ye||oe!==Ae)&&(ee.font=`${ye*se}px ${Ae}`,g.prevFontSize=ye,g.prevFontFamily=Ae);const{width:Pe}=ee.measureText(ne.textContent);Pe>0&&(ie=`scaleX(${ae*se/Pe})`)}q.angle!==0&&(ie=`rotate(${q.angle}deg) ${ie}`),ie.length>0&&(le.transform=ie)}function te(g){if(g._canceled)return;const ne=g._textDivs,se=g._capability;if(ne.length>h){se.resolve();return}if(!g._isReadableStream)for(const ee of ne)g._layoutText(ee);se.resolve()}class b{constructor({textContentSource:ne,container:se,viewport:q,textDivs:ee,textDivProperties:he,textContentItemsStr:oe,isOffscreenCanvasSupported:le}){var Pe;this._textContentSource=ne,this._isReadableStream=ne instanceof ReadableStream,this._container=this._rootContainer=se,this._textDivs=ee||[],this._textContentItemsStr=oe||[],this._isOffscreenCanvasSupported=le,this._fontInspectorEnabled=!!((Pe=globalThis.FontInspector)!=null&&Pe.enabled),this._reader=null,this._textDivProperties=he||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,le)};const{pageWidth:ie,pageHeight:Ae,pageX:ae,pageY:ye}=q.rawDims;this._transform=[1,0,0,-1,-ae,ye+Ae],this._pageWidth=ie,this._pageHeight=Ae,(0,c.setLayerDimensions)(se,q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(ne,se){for(const q of ne){if(q.str===void 0){if(q.type==="beginMarkedContentProps"||q.type==="beginMarkedContent"){const ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),q.id!==null&&this._container.setAttribute("id",`${q.id}`),ee.append(this._container)}else q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(q.str),_e(this,q,se)}}_layoutText(ne){const se=this._layoutTextParams.properties=this._textDivProperties.get(ne);if(this._layoutTextParams.div=ne,ve(this._layoutTextParams),se.hasText&&this._container.append(ne),se.hasEOL){const q=document.createElement("br");q.setAttribute("role","presentation"),this._container.append(q)}}_render(){const ne=new a.PromiseCapability;let se=Object.create(null);if(this._isReadableStream){const q=()=>{this._reader.read().then(({value:ee,done:he})=>{if(he){ne.resolve();return}Object.assign(se,ee.styles),this._processItems(ee.items,se),q()},ne.reject)};this._reader=this._textContentSource.getReader(),q()}else if(this._textContentSource){const{items:q,styles:ee}=this._textContentSource;this._processItems(q,ee),ne.resolve()}else throw new Error('No "textContentSource" parameter specified.');ne.promise.then(()=>{se=null,te(this)},this._capability.reject)}}i.TextLayerRenderTask=b;function me(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const{container:ne,viewport:se}=g,q=getComputedStyle(ne),ee=q.getPropertyValue("visibility"),he=parseFloat(q.getPropertyValue("--scale-factor"));ee==="visible"&&(!he||Math.abs(he-se.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const oe=new b(g);return oe._render(),oe}function j({container:g,viewport:ne,textDivs:se,textDivProperties:q,isOffscreenCanvasSupported:ee,mustRotate:he=!0,mustRescale:oe=!0}){if(he&&(0,c.setLayerDimensions)(g,{rotation:ne.rotation}),oe){const le=_(0,ee),Ae={prevFontSize:null,prevFontFamily:null,div:null,scale:ne.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:le};for(const ae of se)Ae.properties=q.get(ae),Ae.div=ae,ve(Ae)}}},(e,i,o)=>{var $,_e,ve,te,b,me,j,g,ne,se,q,kn,dn,Fn,Nn;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var a=o(1),c=o(4),h=o(28),d=o(33),f=o(6),re=o(34);const ie=class ie{constructor({uiManager:ae,pageIndex:ye,div:Pe,accessibilityManager:Ie,annotationLayer:Re,viewport:Ne,l10n:Ce}){Qe(this,q);Qe(this,$);Qe(this,_e,!1);Qe(this,ve,null);Qe(this,te,this.pointerup.bind(this));Qe(this,b,this.pointerdown.bind(this));Qe(this,me,new Map);Qe(this,j,!1);Qe(this,g,!1);Qe(this,ne,!1);Qe(this,se);const Fe=[h.FreeTextEditor,d.InkEditor,re.StampEditor];if(!ie._initialized){ie._initialized=!0;for(const we of Fe)we.initialize(Ce)}ae.registerEditorTypes(Fe),Ze(this,se,ae),this.pageIndex=ye,this.div=Pe,Ze(this,$,Ie),Ze(this,ve,Re),this.viewport=Ne,ge(this,se).addLayer(this)}get isEmpty(){return ge(this,me).size===0}updateToolbar(ae){ge(this,se).updateToolbar(ae)}updateMode(ae=ge(this,se).getMode()){We(this,q,Nn).call(this),ae===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ae!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ae===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ae===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ae===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ae){if(!ae&&ge(this,se).getMode()!==a.AnnotationEditorType.INK)return;if(!ae){for(const Pe of ge(this,me).values())if(Pe.isEmpty()){Pe.setInBackground();return}}We(this,q,dn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ae){ge(this,se).setEditingState(ae)}addCommands(ae){ge(this,se).addCommands(ae)}enable(){this.div.style.pointerEvents="auto";const ae=new Set;for(const Pe of ge(this,me).values())Pe.enableEditing(),Pe.annotationElementId&&ae.add(Pe.annotationElementId);if(!ge(this,ve))return;const ye=ge(this,ve).getEditableAnnotations();for(const Pe of ye){if(Pe.hide(),ge(this,se).isDeletedAnnotationElement(Pe.data.id)||ae.has(Pe.data.id))continue;const Ie=this.deserialize(Pe);Ie&&(this.addOrRebuild(Ie),Ie.enableEditing())}}disable(){var ye;Ze(this,ne,!0),this.div.style.pointerEvents="none";const ae=new Set;for(const Pe of ge(this,me).values()){if(Pe.disableEditing(),!Pe.annotationElementId||Pe.serialize()!==null){ae.add(Pe.annotationElementId);continue}(ye=this.getEditableAnnotation(Pe.annotationElementId))==null||ye.show(),Pe.remove()}if(ge(this,ve)){const Pe=ge(this,ve).getEditableAnnotations();for(const Ie of Pe){const{id:Re}=Ie.data;ae.has(Re)||ge(this,se).isDeletedAnnotationElement(Re)||Ie.show()}}We(this,q,Nn).call(this),this.isEmpty&&(this.div.hidden=!0),Ze(this,ne,!1)}getEditableAnnotation(ae){var ye;return((ye=ge(this,ve))==null?void 0:ye.getEditableAnnotation(ae))||null}setActiveEditor(ae){ge(this,se).getActive()!==ae&&ge(this,se).setActiveEditor(ae)}enableClick(){this.div.addEventListener("pointerdown",ge(this,b)),this.div.addEventListener("pointerup",ge(this,te))}disableClick(){this.div.removeEventListener("pointerdown",ge(this,b)),this.div.removeEventListener("pointerup",ge(this,te))}attach(ae){ge(this,me).set(ae.id,ae);const{annotationElementId:ye}=ae;ye&&ge(this,se).isDeletedAnnotationElement(ye)&&ge(this,se).removeDeletedAnnotationElement(ae)}detach(ae){var ye;ge(this,me).delete(ae.id),(ye=ge(this,$))==null||ye.removePointerInTextLayer(ae.contentDiv),!ge(this,ne)&&ae.annotationElementId&&ge(this,se).addDeletedAnnotationElement(ae)}remove(ae){this.detach(ae),ge(this,se).removeEditor(ae),ae.div.contains(document.activeElement)&&setTimeout(()=>{ge(this,se).focusMainContainer()},0),ae.div.remove(),ae.isAttachedToDOM=!1,ge(this,g)||this.addInkEditorIfNeeded(!1)}changeParent(ae){var ye;ae.parent!==this&&(ae.annotationElementId&&(ge(this,se).addDeletedAnnotationElement(ae.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(ae),ae.annotationElementId=null),this.attach(ae),(ye=ae.parent)==null||ye.detach(ae),ae.setParent(this),ae.div&&ae.isAttachedToDOM&&(ae.div.remove(),this.div.append(ae.div)))}add(ae){if(this.changeParent(ae),ge(this,se).addEditor(ae),this.attach(ae),!ae.isAttachedToDOM){const ye=ae.render();this.div.append(ye),ae.isAttachedToDOM=!0}ae.fixAndSetPosition(),ae.onceAdded(),ge(this,se).addToAnnotationStorage(ae)}moveEditorInDOM(ae){var Pe;if(!ae.isAttachedToDOM)return;const{activeElement:ye}=document;ae.div.contains(ye)&&(ae._focusEventsAllowed=!1,setTimeout(()=>{ae.div.contains(document.activeElement)?ae._focusEventsAllowed=!0:(ae.div.addEventListener("focusin",()=>{ae._focusEventsAllowed=!0},{once:!0}),ye.focus())},0)),ae._structTreeParentId=(Pe=ge(this,$))==null?void 0:Pe.moveElementInDOM(this.div,ae.div,ae.contentDiv,!0)}addOrRebuild(ae){ae.needsToBeRebuilt()?ae.rebuild():this.add(ae)}addUndoableEditor(ae){const ye=()=>ae._uiManager.rebuild(ae),Pe=()=>{ae.remove()};this.addCommands({cmd:ye,undo:Pe,mustExec:!1})}getNextId(){return ge(this,se).getId()}pasteEditor(ae,ye){ge(this,se).updateToolbar(ae),ge(this,se).updateMode(ae);const{offsetX:Pe,offsetY:Ie}=We(this,q,Fn).call(this),Re=this.getNextId(),Ne=We(this,q,kn).call(this,{parent:this,id:Re,x:Pe,y:Ie,uiManager:ge(this,se),isCentered:!0,...ye});Ne&&this.add(Ne)}deserialize(ae){switch(ae.annotationType??ae.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(ae,this,ge(this,se));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(ae,this,ge(this,se));case a.AnnotationEditorType.STAMP:return re.StampEditor.deserialize(ae,this,ge(this,se))}return null}addNewEditor(){We(this,q,dn).call(this,We(this,q,Fn).call(this),!0)}setSelected(ae){ge(this,se).setSelected(ae)}toggleSelected(ae){ge(this,se).toggleSelected(ae)}isSelected(ae){return ge(this,se).isSelected(ae)}unselect(ae){ge(this,se).unselect(ae)}pointerup(ae){const{isMac:ye}=a.FeatureTest.platform;if(!(ae.button!==0||ae.ctrlKey&&ye)&&ae.target===this.div&&ge(this,j)){if(Ze(this,j,!1),!ge(this,_e)){Ze(this,_e,!0);return}if(ge(this,se).getMode()===a.AnnotationEditorType.STAMP){ge(this,se).unselectAll();return}We(this,q,dn).call(this,ae,!1)}}pointerdown(ae){if(ge(this,j)){Ze(this,j,!1);return}const{isMac:ye}=a.FeatureTest.platform;if(ae.button!==0||ae.ctrlKey&&ye||ae.target!==this.div)return;Ze(this,j,!0);const Pe=ge(this,se).getActive();Ze(this,_e,!Pe||Pe.isEmpty())}findNewParent(ae,ye,Pe){const Ie=ge(this,se).findParent(ye,Pe);return Ie===null||Ie===this?!1:(Ie.changeParent(ae),!0)}destroy(){var ae,ye;((ae=ge(this,se).getActive())==null?void 0:ae.parent)===this&&(ge(this,se).commitOrRemove(),ge(this,se).setActiveEditor(null));for(const Pe of ge(this,me).values())(ye=ge(this,$))==null||ye.removePointerInTextLayer(Pe.contentDiv),Pe.setParent(null),Pe.isAttachedToDOM=!1,Pe.div.remove();this.div=null,ge(this,me).clear(),ge(this,se).removeLayer(this)}render({viewport:ae}){this.viewport=ae,(0,f.setLayerDimensions)(this.div,ae);for(const ye of ge(this,se).getEditors(this.pageIndex))this.add(ye);this.updateMode()}update({viewport:ae}){ge(this,se).commitOrRemove(),this.viewport=ae,(0,f.setLayerDimensions)(this.div,{rotation:ae.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ae,pageHeight:ye}=this.viewport.rawDims;return[ae,ye]}};$=new WeakMap,_e=new WeakMap,ve=new WeakMap,te=new WeakMap,b=new WeakMap,me=new WeakMap,j=new WeakMap,g=new WeakMap,ne=new WeakMap,se=new WeakMap,q=new WeakSet,kn=function(ae){switch(ge(this,se).getMode()){case a.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(ae);case a.AnnotationEditorType.INK:return new d.InkEditor(ae);case a.AnnotationEditorType.STAMP:return new re.StampEditor(ae)}return null},dn=function(ae,ye){const Pe=this.getNextId(),Ie=We(this,q,kn).call(this,{parent:this,id:Pe,x:ae.offsetX,y:ae.offsetY,uiManager:ge(this,se),isCentered:ye});return Ie&&this.add(Ie),Ie},Fn=function(){const{x:ae,y:ye,width:Pe,height:Ie}=this.div.getBoundingClientRect(),Re=Math.max(0,ae),Ne=Math.max(0,ye),Ce=Math.min(window.innerWidth,ae+Pe),Fe=Math.min(window.innerHeight,ye+Ie),we=(Re+Ce)/2-ae,xe=(Ne+Fe)/2-ye,[fe,Ee]=this.viewport.rotation%180===0?[we,xe]:[xe,we];return{offsetX:fe,offsetY:Ee}},Nn=function(){Ze(this,g,!0);for(const ae of ge(this,me).values())ae.isEmpty()&&ae.remove();Ze(this,g,!1)},Lt(ie,"_initialized",!1);let _=ie;i.AnnotationEditorLayer=_},(e,i,o)=>{var re,_,$,_e,ve,te,b,me,j,g,fr,pr,_r,tn,Bn,mr,Un;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var a=o(1),c=o(5),h=o(4),d=o(29);const ie=class ie extends h.AnnotationEditor{constructor(ye){super({...ye,name:"freeTextEditor"});Qe(this,g);Qe(this,re,this.editorDivBlur.bind(this));Qe(this,_,this.editorDivFocus.bind(this));Qe(this,$,this.editorDivInput.bind(this));Qe(this,_e,this.editorDivKeydown.bind(this));Qe(this,ve);Qe(this,te,"");Qe(this,b,`${this.id}-editor`);Qe(this,me);Qe(this,j,null);Ze(this,ve,ye.color||ie._defaultColor||h.AnnotationEditor._defaultLineColor),Ze(this,me,ye.fontSize||ie._defaultFontSize)}static get _keyboardManager(){const ye=ie.prototype,Pe=Ne=>Ne.isEmpty(),Ie=c.AnnotationEditorUIManager.TRANSLATE_SMALL,Re=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ye.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ye.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ye._translateEmpty,{args:[-Ie,0],checker:Pe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ye._translateEmpty,{args:[-Re,0],checker:Pe}],[["ArrowRight","mac+ArrowRight"],ye._translateEmpty,{args:[Ie,0],checker:Pe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ye._translateEmpty,{args:[Re,0],checker:Pe}],[["ArrowUp","mac+ArrowUp"],ye._translateEmpty,{args:[0,-Ie],checker:Pe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ye._translateEmpty,{args:[0,-Re],checker:Pe}],[["ArrowDown","mac+ArrowDown"],ye._translateEmpty,{args:[0,Ie],checker:Pe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ye._translateEmpty,{args:[0,Re],checker:Pe}]]))}static initialize(ye){h.AnnotationEditor.initialize(ye,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Pe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Pe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ye,Pe){switch(ye){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ie._defaultFontSize=Pe;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ie._defaultColor=Pe;break}}updateParams(ye,Pe){switch(ye){case a.AnnotationEditorParamsType.FREETEXT_SIZE:We(this,g,fr).call(this,Pe);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:We(this,g,pr).call(this,Pe);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ie._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ie._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ge(this,me)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ge(this,ve)]]}_translateEmpty(ye,Pe){this._uiManager.translateSelectedEditors(ye,Pe,!0)}getInitialTranslation(){const ye=this.parentScale;return[-ie._internalPadding*ye,-(ie._internalPadding+ge(this,me))*ye]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ge(this,_e)),this.editorDiv.addEventListener("focus",ge(this,_)),this.editorDiv.addEventListener("blur",ge(this,re)),this.editorDiv.addEventListener("input",ge(this,$)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ge(this,b)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",ge(this,_e)),this.editorDiv.removeEventListener("focus",ge(this,_)),this.editorDiv.removeEventListener("blur",ge(this,re)),this.editorDiv.removeEventListener("input",ge(this,$)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ye){this._focusEventsAllowed&&(super.focusin(ye),ye.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ye;if(this.width){We(this,g,Un).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ye=this._initialOptions)!=null&&ye.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ye=ge(this,te),Pe=Ze(this,te,We(this,g,_r).call(this).trimEnd());if(ye===Pe)return;const Ie=Re=>{if(Ze(this,te,Re),!Re){this.remove();return}We(this,g,Bn).call(this),this._uiManager.rebuild(this),We(this,g,tn).call(this)};this.addCommands({cmd:()=>{Ie(Pe)},undo:()=>{Ie(ye)},mustExec:!1}),We(this,g,tn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ye){this.enterInEditMode()}keydown(ye){ye.target===this.div&&ye.key==="Enter"&&(this.enterInEditMode(),ye.preventDefault())}editorDivKeydown(ye){ie._keyboardManager.exec(this,ye)}editorDivFocus(ye){this.isEditing=!0}editorDivBlur(ye){this.isEditing=!1}editorDivInput(ye){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ye,Pe;this.width&&(ye=this.x,Pe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ge(this,b)),this.enableEditing(),h.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Re=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("aria-label",Re)}),h.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Re=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("default-content",Re)}),this.editorDiv.contentEditable=!0;const{style:Ie}=this.editorDiv;if(Ie.fontSize=`calc(${ge(this,me)}px * var(--scale-factor))`,Ie.color=ge(this,ve),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Re,Ne]=this.parentDimensions;if(this.annotationElementId){const{position:Ce}=ge(this,j);let[Fe,we]=this.getInitialTranslation();[Fe,we]=this.pageTranslationToScreen(Fe,we);const[xe,fe]=this.pageDimensions,[Ee,ce]=this.pageTranslation;let de,be;switch(this.rotation){case 0:de=ye+(Ce[0]-Ee)/xe,be=Pe+this.height-(Ce[1]-ce)/fe;break;case 90:de=ye+(Ce[0]-Ee)/xe,be=Pe-(Ce[1]-ce)/fe,[Fe,we]=[we,-Fe];break;case 180:de=ye-this.width+(Ce[0]-Ee)/xe,be=Pe-(Ce[1]-ce)/fe,[Fe,we]=[-Fe,-we];break;case 270:de=ye+(Ce[0]-Ee-this.height*fe)/xe,be=Pe+(Ce[1]-ce-this.width*xe)/fe,[Fe,we]=[-we,Fe];break}this.setAt(de*Re,be*Ne,Fe,we)}else this.setAt(ye*Re,Pe*Ne,this.width*Re,this.height*Ne);We(this,g,Bn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ye,Pe,Ie){let Re=null;if(ye instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ce,fontColor:Fe},rect:we,rotation:xe,id:fe},textContent:Ee,textPosition:ce,parent:{page:{pageNumber:de}}}=ye;if(!Ee||Ee.length===0)return null;Re=ye={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Fe),fontSize:Ce,value:Ee.join(`
`),position:ce,pageIndex:de-1,rect:we,rotation:xe,id:fe,deleted:!1}}const Ne=super.deserialize(ye,Pe,Ie);return Ze(Ne,me,ye.fontSize),Ze(Ne,ve,a.Util.makeHexColor(...ye.color)),Ze(Ne,te,ye.value),Ne.annotationElementId=ye.id||null,Ze(Ne,j,Re),Ne}serialize(ye=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Pe=ie._internalPadding*this.parentScale,Ie=this.getRect(Pe,Pe),Re=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ge(this,ve)),Ne={annotationType:a.AnnotationEditorType.FREETEXT,color:Re,fontSize:ge(this,me),value:ge(this,te),pageIndex:this.pageIndex,rect:Ie,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ye?Ne:this.annotationElementId&&!We(this,g,mr).call(this,Ne)?null:(Ne.id=this.annotationElementId,Ne)}};re=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,ve=new WeakMap,te=new WeakMap,b=new WeakMap,me=new WeakMap,j=new WeakMap,g=new WeakSet,fr=function(ye){const Pe=Re=>{this.editorDiv.style.fontSize=`calc(${Re}px * var(--scale-factor))`,this.translate(0,-(Re-ge(this,me))*this.parentScale),Ze(this,me,Re),We(this,g,tn).call(this)},Ie=ge(this,me);this.addCommands({cmd:()=>{Pe(ye)},undo:()=>{Pe(Ie)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pr=function(ye){const Pe=ge(this,ve);this.addCommands({cmd:()=>{Ze(this,ve,this.editorDiv.style.color=ye)},undo:()=>{Ze(this,ve,this.editorDiv.style.color=Pe)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_r=function(){const ye=this.editorDiv.getElementsByTagName("div");if(ye.length===0)return this.editorDiv.innerText;const Pe=[];for(const Ie of ye)Pe.push(Ie.innerText.replace(/\r\n?|\n/,""));return Pe.join(`
`)},tn=function(){const[ye,Pe]=this.parentDimensions;let Ie;if(this.isAttachedToDOM)Ie=this.div.getBoundingClientRect();else{const{currentLayer:Re,div:Ne}=this,Ce=Ne.style.display;Ne.style.display="hidden",Re.div.append(this.div),Ie=Ne.getBoundingClientRect(),Ne.remove(),Ne.style.display=Ce}this.rotation%180===this.parentRotation%180?(this.width=Ie.width/ye,this.height=Ie.height/Pe):(this.width=Ie.height/ye,this.height=Ie.width/Pe),this.fixAndSetPosition()},Bn=function(){if(this.editorDiv.replaceChildren(),!!ge(this,te))for(const ye of ge(this,te).split(`
`)){const Pe=document.createElement("div");Pe.append(ye?document.createTextNode(ye):document.createElement("br")),this.editorDiv.append(Pe)}},mr=function(ye){const{value:Pe,fontSize:Ie,color:Re,rect:Ne,pageIndex:Ce}=ge(this,j);return ye.value!==Pe||ye.fontSize!==Ie||ye.rect.some((Fe,we)=>Math.abs(Fe-Ne[we])>=1)||ye.color.some((Fe,we)=>Fe!==Re[we])||ye.pageIndex!==Ce},Un=function(ye=!1){if(!this.annotationElementId)return;if(We(this,g,tn).call(this),!ye&&(this.width===0||this.height===0)){setTimeout(()=>We(this,g,Un).call(this,!0),0);return}const Pe=ie._internalPadding*this.parentScale;ge(this,j).rect=this.getRect(Pe,Pe)},Lt(ie,"_freeTextDefaultContent",""),Lt(ie,"_internalPadding",0),Lt(ie,"_defaultColor",null),Lt(ie,"_defaultFontSize",10),Lt(ie,"_type","freetext");let f=ie;i.FreeTextEditor=f},(e,i,o)=>{var be,m,Vt,gr,Me,Le,Ue,Xe,Ve,Ke,ze,Ge,Oe,$e,He,Ye,nt,ot,st,Be,ct,dt,vr,hn,zn,Gn,gt,Tt,Rt,lt,Je,et,mt,Vn,$t,ke,it,ht,br,Hn;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var a=o(1),c=o(6),h=o(3),d=o(30),f=o(31),re=o(32);const _=1e3,$=9,_e=new WeakSet;function ve(pt){return{width:pt[2]-pt[0],height:pt[3]-pt[1]}}class te{static create(De){switch(De.data.annotationType){case a.AnnotationType.LINK:return new me(De);case a.AnnotationType.TEXT:return new j(De);case a.AnnotationType.WIDGET:switch(De.data.fieldType){case"Tx":return new ne(De);case"Btn":return De.data.radioButton?new ee(De):De.data.checkBox?new q(De):new he(De);case"Ch":return new oe(De);case"Sig":return new se(De)}return new g(De);case a.AnnotationType.POPUP:return new le(De);case a.AnnotationType.FREETEXT:return new Ae(De);case a.AnnotationType.LINE:return new ae(De);case a.AnnotationType.SQUARE:return new ye(De);case a.AnnotationType.CIRCLE:return new Pe(De);case a.AnnotationType.POLYLINE:return new Ie(De);case a.AnnotationType.CARET:return new Ne(De);case a.AnnotationType.INK:return new Ce(De);case a.AnnotationType.POLYGON:return new Re(De);case a.AnnotationType.HIGHLIGHT:return new Fe(De);case a.AnnotationType.UNDERLINE:return new we(De);case a.AnnotationType.SQUIGGLY:return new xe(De);case a.AnnotationType.STRIKEOUT:return new fe(De);case a.AnnotationType.STAMP:return new Ee(De);case a.AnnotationType.FILEATTACHMENT:return new ce(De);default:return new b(De)}}}const ue=class ue{constructor(De,{isRenderable:je=!1,ignoreBorder:qe=!1,createQuadrilaterals:tt=!1}={}){Qe(this,be,!1);this.isRenderable=je,this.data=De.data,this.layer=De.layer,this.linkService=De.linkService,this.downloadManager=De.downloadManager,this.imageResourcesPath=De.imageResourcesPath,this.renderForms=De.renderForms,this.svgFactory=De.svgFactory,this.annotationStorage=De.annotationStorage,this.enableScripting=De.enableScripting,this.hasJSActions=De.hasJSActions,this._fieldObjects=De.fieldObjects,this.parent=De.parent,je&&(this.container=this._createContainer(qe)),tt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:De,contentsObj:je,richText:qe}){return!!(De!=null&&De.str||je!=null&&je.str||qe!=null&&qe.str)}get hasPopupData(){return ue._hasPopupData(this.data)}_createContainer(De){const{data:je,parent:{page:qe,viewport:tt}}=this,rt=document.createElement("section");rt.setAttribute("data-annotation-id",je.id),this instanceof g||(rt.tabIndex=_),rt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&rt.setAttribute("aria-haspopup","dialog"),je.noRotate&&rt.classList.add("norotate");const{pageWidth:at,pageHeight:ut,pageX:Et,pageY:vt}=tt.rawDims;if(!je.rect||this instanceof le){const{rotation:Ct}=je;return!je.hasOwnCanvas&&Ct!==0&&this.setRotation(Ct,rt),rt}const{width:ft,height:Pt}=ve(je.rect),bt=a.Util.normalizeRect([je.rect[0],qe.view[3]-je.rect[1]+qe.view[1],je.rect[2],qe.view[3]-je.rect[3]+qe.view[1]]);if(!De&&je.borderStyle.width>0){rt.style.borderWidth=`${je.borderStyle.width}px`;const Ct=je.borderStyle.horizontalCornerRadius,Mt=je.borderStyle.verticalCornerRadius;if(Ct>0||Mt>0){const Dt=`calc(${Ct}px * var(--scale-factor)) / calc(${Mt}px * var(--scale-factor))`;rt.style.borderRadius=Dt}else if(this instanceof ee){const Dt=`calc(${ft}px * var(--scale-factor)) / calc(${Pt}px * var(--scale-factor))`;rt.style.borderRadius=Dt}switch(je.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:rt.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:rt.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:rt.style.borderBottomStyle="solid";break}const It=je.borderColor||null;It?(Ze(this,be,!0),rt.style.borderColor=a.Util.makeHexColor(It[0]|0,It[1]|0,It[2]|0)):rt.style.borderWidth=0}rt.style.left=`${100*(bt[0]-Et)/at}%`,rt.style.top=`${100*(bt[1]-vt)/ut}%`;const{rotation:St}=je;return je.hasOwnCanvas||St===0?(rt.style.width=`${100*ft/at}%`,rt.style.height=`${100*Pt/ut}%`):this.setRotation(St,rt),rt}setRotation(De,je=this.container){if(!this.data.rect)return;const{pageWidth:qe,pageHeight:tt}=this.parent.viewport.rawDims,{width:rt,height:at}=ve(this.data.rect);let ut,Et;De%180===0?(ut=100*rt/qe,Et=100*at/tt):(ut=100*at/qe,Et=100*rt/tt),je.style.width=`${ut}%`,je.style.height=`${Et}%`,je.setAttribute("data-main-rotation",(360-De)%360)}get _commonActions(){const De=(je,qe,tt)=>{const rt=tt.detail[je],at=rt[0],ut=rt.slice(1);tt.target.style[qe]=d.ColorConverters[`${at}_HTML`](ut),this.annotationStorage.setValue(this.data.id,{[qe]:d.ColorConverters[`${at}_rgb`](ut)})};return(0,a.shadow)(this,"_commonActions",{display:je=>{const{display:qe}=je.detail,tt=qe%2===1;this.container.style.visibility=tt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:tt,noPrint:qe===1||qe===2})},print:je=>{this.annotationStorage.setValue(this.data.id,{noPrint:!je.detail.print})},hidden:je=>{const{hidden:qe}=je.detail;this.container.style.visibility=qe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:qe,noView:qe})},focus:je=>{setTimeout(()=>je.target.focus({preventScroll:!1}),0)},userName:je=>{je.target.title=je.detail.userName},readonly:je=>{je.target.disabled=je.detail.readonly},required:je=>{this._setRequired(je.target,je.detail.required)},bgColor:je=>{De("bgColor","backgroundColor",je)},fillColor:je=>{De("fillColor","backgroundColor",je)},fgColor:je=>{De("fgColor","color",je)},textColor:je=>{De("textColor","color",je)},borderColor:je=>{De("borderColor","borderColor",je)},strokeColor:je=>{De("strokeColor","borderColor",je)},rotation:je=>{const qe=je.detail.rotation;this.setRotation(qe),this.annotationStorage.setValue(this.data.id,{rotation:qe})}})}_dispatchEventFromSandbox(De,je){const qe=this._commonActions;for(const tt of Object.keys(je.detail)){const rt=De[tt]||qe[tt];rt==null||rt(je)}}_setDefaultPropertiesFromJS(De){if(!this.enableScripting)return;const je=this.annotationStorage.getRawValue(this.data.id);if(!je)return;const qe=this._commonActions;for(const[tt,rt]of Object.entries(je)){const at=qe[tt];if(at){const ut={detail:{[tt]:rt},target:De};at(ut),delete je[tt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:De}=this.data;if(!De)return;const[je,qe,tt,rt]=this.data.rect;if(De.length===1){const[,{x:Mt,y:It},{x:Dt,y:Ft}]=De[0];if(tt===Mt&&rt===It&&je===Dt&&qe===Ft)return}const{style:at}=this.container;let ut;if(ge(this,be)){const{borderColor:Mt,borderWidth:It}=at;at.borderWidth=0,ut=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mt}" stroke-width="${It}">`],this.container.classList.add("hasBorder")}const Et=tt-je,vt=rt-qe,{svgFactory:ft}=this,Pt=ft.createElement("svg");Pt.classList.add("quadrilateralsContainer"),Pt.setAttribute("width",0),Pt.setAttribute("height",0);const bt=ft.createElement("defs");Pt.append(bt);const St=ft.createElement("clipPath"),Ct=`clippath_${this.data.id}`;St.setAttribute("id",Ct),St.setAttribute("clipPathUnits","objectBoundingBox"),bt.append(St);for(const[,{x:Mt,y:It},{x:Dt,y:Ft}]of De){const kt=ft.createElement("rect"),Bt=(Dt-je)/Et,zt=(rt-It)/vt,Gt=(Mt-Dt)/Et,er=(It-Ft)/vt;kt.setAttribute("x",Bt),kt.setAttribute("y",zt),kt.setAttribute("width",Gt),kt.setAttribute("height",er),St.append(kt),ut==null||ut.push(`<rect vector-effect="non-scaling-stroke" x="${Bt}" y="${zt}" width="${Gt}" height="${er}"/>`)}ge(this,be)&&(ut.push("</g></svg>')"),at.backgroundImage=ut.join("")),this.container.append(Pt),this.container.style.clipPath=`url(#${Ct})`}_createPopup(){const{container:De,data:je}=this;De.setAttribute("aria-haspopup","dialog");const qe=new le({data:{color:je.color,titleObj:je.titleObj,modificationDate:je.modificationDate,contentsObj:je.contentsObj,richText:je.richText,parentRect:je.rect,borderStyle:0,id:`popup_${je.id}`,rotation:je.rotation},parent:this.parent,elements:[this]});this.parent.div.append(qe.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(De,je=null){const qe=[];if(this._fieldObjects){const tt=this._fieldObjects[De];if(tt)for(const{page:rt,id:at,exportValues:ut}of tt){if(rt===-1||at===je)continue;const Et=typeof ut=="string"?ut:null,vt=document.querySelector(`[data-element-id="${at}"]`);if(vt&&!_e.has(vt)){(0,a.warn)(`_getElementsByName - element not allowed: ${at}`);continue}qe.push({id:at,exportValue:Et,domElement:vt})}return qe}for(const tt of document.getElementsByName(De)){const{exportValue:rt}=tt,at=tt.getAttribute("data-element-id");at!==je&&_e.has(tt)&&qe.push({id:at,exportValue:rt,domElement:tt})}return qe}show(){var De;this.container&&(this.container.hidden=!1),(De=this.popup)==null||De.maybeShow()}hide(){var De;this.container&&(this.container.hidden=!0),(De=this.popup)==null||De.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const De=this.getElementsToTriggerPopup();if(Array.isArray(De))for(const je of De)je.classList.add("highlightArea");else De.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:De,data:{id:je}}=this;this.container.addEventListener("dblclick",()=>{var qe;(qe=this.linkService.eventBus)==null||qe.dispatch("switchannotationeditormode",{source:this,mode:De,editId:je})})}};be=new WeakMap;let b=ue;class me extends b{constructor(je,qe=null){super(je,{isRenderable:!0,ignoreBorder:!!(qe!=null&&qe.ignoreBorder),createQuadrilaterals:!0});Qe(this,m);this.isTooltipOnly=je.data.isTooltipOnly}render(){const{data:je,linkService:qe}=this,tt=document.createElement("a");tt.setAttribute("data-element-id",je.id);let rt=!1;return je.url?(qe.addLinkAttributes(tt,je.url,je.newWindow),rt=!0):je.action?(this._bindNamedAction(tt,je.action),rt=!0):je.attachment?(this._bindAttachment(tt,je.attachment),rt=!0):je.setOCGState?(We(this,m,gr).call(this,tt,je.setOCGState),rt=!0):je.dest?(this._bindLink(tt,je.dest),rt=!0):(je.actions&&(je.actions.Action||je.actions["Mouse Up"]||je.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(tt,je),rt=!0),je.resetForm?(this._bindResetFormAction(tt,je.resetForm),rt=!0):this.isTooltipOnly&&!rt&&(this._bindLink(tt,""),rt=!0)),this.container.classList.add("linkAnnotation"),rt&&this.container.append(tt),this.container}_bindLink(je,qe){je.href=this.linkService.getDestinationHash(qe),je.onclick=()=>(qe&&this.linkService.goToDestination(qe),!1),(qe||qe==="")&&We(this,m,Vt).call(this)}_bindNamedAction(je,qe){je.href=this.linkService.getAnchorUrl(""),je.onclick=()=>(this.linkService.executeNamedAction(qe),!1),We(this,m,Vt).call(this)}_bindAttachment(je,qe){je.href=this.linkService.getAnchorUrl(""),je.onclick=()=>{var tt;return(tt=this.downloadManager)==null||tt.openOrDownloadData(this.container,qe.content,qe.filename),!1},We(this,m,Vt).call(this)}_bindJSAction(je,qe){je.href=this.linkService.getAnchorUrl("");const tt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const rt of Object.keys(qe.actions)){const at=tt.get(rt);at&&(je[at]=()=>{var ut;return(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qe.id,name:rt}}),!1})}je.onclick||(je.onclick=()=>!1),We(this,m,Vt).call(this)}_bindResetFormAction(je,qe){const tt=je.onclick;if(tt||(je.href=this.linkService.getAnchorUrl("")),We(this,m,Vt).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),tt||(je.onclick=()=>!1);return}je.onclick=()=>{var Pt;tt==null||tt();const{fields:rt,refs:at,include:ut}=qe,Et=[];if(rt.length!==0||at.length!==0){const bt=new Set(at);for(const St of rt){const Ct=this._fieldObjects[St]||[];for(const{id:Mt}of Ct)bt.add(Mt)}for(const St of Object.values(this._fieldObjects))for(const Ct of St)bt.has(Ct.id)===ut&&Et.push(Ct)}else for(const bt of Object.values(this._fieldObjects))Et.push(...bt);const vt=this.annotationStorage,ft=[];for(const bt of Et){const{id:St}=bt;switch(ft.push(St),bt.type){case"text":{const Mt=bt.defaultValue||"";vt.setValue(St,{value:Mt});break}case"checkbox":case"radiobutton":{const Mt=bt.defaultValue===bt.exportValues;vt.setValue(St,{value:Mt});break}case"combobox":case"listbox":{const Mt=bt.defaultValue||"";vt.setValue(St,{value:Mt});break}default:continue}const Ct=document.querySelector(`[data-element-id="${St}"]`);if(Ct){if(!_e.has(Ct)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${St}`);continue}}else continue;Ct.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ft,name:"ResetForm"}})),!1}}}m=new WeakSet,Vt=function(){this.container.setAttribute("data-internal-link","")},gr=function(je,qe){je.href=this.linkService.getAnchorUrl(""),je.onclick=()=>(this.linkService.executeSetOCGState(qe),!1),We(this,m,Vt).call(this)};class j extends b{constructor(De){super(De,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const De=document.createElement("img");return De.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",De.alt="[{{type}} Annotation]",De.dataset.l10nId="text_annotation_type",De.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(De),this.container}}class g extends b{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(De){var je;this.data.hasOwnCanvas&&(((je=De.previousSibling)==null?void 0:je.nodeName)==="CANVAS"&&(De.previousSibling.hidden=!0),De.hidden=!1)}_getKeyModifier(De){const{isWin:je,isMac:qe}=a.FeatureTest.platform;return je&&De.ctrlKey||qe&&De.metaKey}_setEventListener(De,je,qe,tt,rt){qe.includes("mouse")?De.addEventListener(qe,at=>{var ut;(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:tt,value:rt(at),shift:at.shiftKey,modifier:this._getKeyModifier(at)}})}):De.addEventListener(qe,at=>{var ut;if(qe==="blur"){if(!je.focused||!at.relatedTarget)return;je.focused=!1}else if(qe==="focus"){if(je.focused)return;je.focused=!0}rt&&((ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:tt,value:rt(at)}}))})}_setEventListeners(De,je,qe,tt){var rt,at,ut;for(const[Et,vt]of qe)(vt==="Action"||(rt=this.data.actions)!=null&&rt[vt])&&((vt==="Focus"||vt==="Blur")&&(je||(je={focused:!1})),this._setEventListener(De,je,Et,vt,tt),vt==="Focus"&&!((at=this.data.actions)!=null&&at.Blur)?this._setEventListener(De,je,"blur","Blur",null):vt==="Blur"&&!((ut=this.data.actions)!=null&&ut.Focus)&&this._setEventListener(De,je,"focus","Focus",null))}_setBackgroundColor(De){const je=this.data.backgroundColor||null;De.style.backgroundColor=je===null?"transparent":a.Util.makeHexColor(je[0],je[1],je[2])}_setTextStyle(De){const je=["left","center","right"],{fontColor:qe}=this.data.defaultAppearanceData,tt=this.data.defaultAppearanceData.fontSize||$,rt=De.style;let at;const ut=2,Et=vt=>Math.round(10*vt)/10;if(this.data.multiLine){const vt=Math.abs(this.data.rect[3]-this.data.rect[1]-ut),ft=Math.round(vt/(a.LINE_FACTOR*tt))||1,Pt=vt/ft;at=Math.min(tt,Et(Pt/a.LINE_FACTOR))}else{const vt=Math.abs(this.data.rect[3]-this.data.rect[1]-ut);at=Math.min(tt,Et(vt/a.LINE_FACTOR))}rt.fontSize=`calc(${at}px * var(--scale-factor))`,rt.color=a.Util.makeHexColor(qe[0],qe[1],qe[2]),this.data.textAlignment!==null&&(rt.textAlign=je[this.data.textAlignment])}_setRequired(De,je){je?De.setAttribute("required",!0):De.removeAttribute("required"),De.setAttribute("aria-required",je)}}class ne extends g{constructor(De){const je=De.renderForms||!De.data.hasAppearance&&!!De.data.fieldValue;super(De,{isRenderable:je})}setPropertyOnSiblings(De,je,qe,tt){const rt=this.annotationStorage;for(const at of this._getElementsByName(De.name,De.id))at.domElement&&(at.domElement[je]=qe),rt.setValue(at.id,{[tt]:qe})}render(){var tt,rt;const De=this.annotationStorage,je=this.data.id;this.container.classList.add("textWidgetAnnotation");let qe=null;if(this.renderForms){const at=De.getValue(je,{value:this.data.fieldValue});let ut=at.value||"";const Et=De.getValue(je,{charLimit:this.data.maxLen}).charLimit;Et&&ut.length>Et&&(ut=ut.slice(0,Et));let vt=at.formattedValue||((tt=this.data.textContent)==null?void 0:tt.join(`
`))||null;vt&&this.data.comb&&(vt=vt.replaceAll(/\s+/g,""));const ft={userValue:ut,formattedValue:vt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(qe=document.createElement("textarea"),qe.textContent=vt??ut,this.data.doNotScroll&&(qe.style.overflowY="hidden")):(qe=document.createElement("input"),qe.type="text",qe.setAttribute("value",vt??ut),this.data.doNotScroll&&(qe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(qe.hidden=!0),_e.add(qe),qe.setAttribute("data-element-id",je),qe.disabled=this.data.readOnly,qe.name=this.data.fieldName,qe.tabIndex=_,this._setRequired(qe,this.data.required),Et&&(qe.maxLength=Et),qe.addEventListener("input",bt=>{De.setValue(je,{value:bt.target.value}),this.setPropertyOnSiblings(qe,"value",bt.target.value,"value"),ft.formattedValue=null}),qe.addEventListener("resetform",bt=>{const St=this.data.defaultFieldValue??"";qe.value=ft.userValue=St,ft.formattedValue=null});let Pt=bt=>{const{formattedValue:St}=ft;St!=null&&(bt.target.value=St),bt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){qe.addEventListener("focus",St=>{if(ft.focused)return;const{target:Ct}=St;ft.userValue&&(Ct.value=ft.userValue),ft.lastCommittedValue=Ct.value,ft.commitKey=1,ft.focused=!0}),qe.addEventListener("updatefromsandbox",St=>{this.showElementAndHideCanvas(St.target);const Ct={value(Mt){ft.userValue=Mt.detail.value??"",De.setValue(je,{value:ft.userValue.toString()}),Mt.target.value=ft.userValue},formattedValue(Mt){const{formattedValue:It}=Mt.detail;ft.formattedValue=It,It!=null&&Mt.target!==document.activeElement&&(Mt.target.value=It),De.setValue(je,{formattedValue:It})},selRange(Mt){Mt.target.setSelectionRange(...Mt.detail.selRange)},charLimit:Mt=>{var kt;const{charLimit:It}=Mt.detail,{target:Dt}=Mt;if(It===0){Dt.removeAttribute("maxLength");return}Dt.setAttribute("maxLength",It);let Ft=ft.userValue;!Ft||Ft.length<=It||(Ft=Ft.slice(0,It),Dt.value=ft.userValue=Ft,De.setValue(je,{value:Ft}),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Ft,willCommit:!0,commitKey:1,selStart:Dt.selectionStart,selEnd:Dt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ct,St)}),qe.addEventListener("keydown",St=>{var It;ft.commitKey=1;let Ct=-1;if(St.key==="Escape"?Ct=0:St.key==="Enter"&&!this.data.multiLine?Ct=2:St.key==="Tab"&&(ft.commitKey=3),Ct===-1)return;const{value:Mt}=St.target;ft.lastCommittedValue!==Mt&&(ft.lastCommittedValue=Mt,ft.userValue=Mt,(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Mt,willCommit:!0,commitKey:Ct,selStart:St.target.selectionStart,selEnd:St.target.selectionEnd}}))});const bt=Pt;Pt=null,qe.addEventListener("blur",St=>{var Mt;if(!ft.focused||!St.relatedTarget)return;ft.focused=!1;const{value:Ct}=St.target;ft.userValue=Ct,ft.lastCommittedValue!==Ct&&((Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Ct,willCommit:!0,commitKey:ft.commitKey,selStart:St.target.selectionStart,selEnd:St.target.selectionEnd}})),bt(St)}),(rt=this.data.actions)!=null&&rt.Keystroke&&qe.addEventListener("beforeinput",St=>{var zt;ft.lastCommittedValue=null;const{data:Ct,target:Mt}=St,{value:It,selectionStart:Dt,selectionEnd:Ft}=Mt;let kt=Dt,Bt=Ft;switch(St.inputType){case"deleteWordBackward":{const Gt=It.substring(0,Dt).match(/\w*[^\w]*$/);Gt&&(kt-=Gt[0].length);break}case"deleteWordForward":{const Gt=It.substring(Dt).match(/^[^\w]*\w*/);Gt&&(Bt+=Gt[0].length);break}case"deleteContentBackward":Dt===Ft&&(kt-=1);break;case"deleteContentForward":Dt===Ft&&(Bt+=1);break}St.preventDefault(),(zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:It,change:Ct||"",willCommit:!1,selStart:kt,selEnd:Bt}})}),this._setEventListeners(qe,ft,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],St=>St.target.value)}if(Pt&&qe.addEventListener("blur",Pt),this.data.comb){const St=(this.data.rect[2]-this.data.rect[0])/Et;qe.classList.add("comb"),qe.style.letterSpacing=`calc(${St}px * var(--scale-factor) - 1ch)`}}else qe=document.createElement("div"),qe.textContent=this.data.fieldValue,qe.style.verticalAlign="middle",qe.style.display="table-cell";return this._setTextStyle(qe),this._setBackgroundColor(qe),this._setDefaultPropertiesFromJS(qe),this.container.append(qe),this.container}}class se extends g{constructor(De){super(De,{isRenderable:!!De.data.hasOwnCanvas})}}class q extends g{constructor(De){super(De,{isRenderable:De.renderForms})}render(){const De=this.annotationStorage,je=this.data,qe=je.id;let tt=De.getValue(qe,{value:je.exportValue===je.fieldValue}).value;typeof tt=="string"&&(tt=tt!=="Off",De.setValue(qe,{value:tt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const rt=document.createElement("input");return _e.add(rt),rt.setAttribute("data-element-id",qe),rt.disabled=je.readOnly,this._setRequired(rt,this.data.required),rt.type="checkbox",rt.name=je.fieldName,tt&&rt.setAttribute("checked",!0),rt.setAttribute("exportValue",je.exportValue),rt.tabIndex=_,rt.addEventListener("change",at=>{const{name:ut,checked:Et}=at.target;for(const vt of this._getElementsByName(ut,qe)){const ft=Et&&vt.exportValue===je.exportValue;vt.domElement&&(vt.domElement.checked=ft),De.setValue(vt.id,{value:ft})}De.setValue(qe,{value:Et})}),rt.addEventListener("resetform",at=>{const ut=je.defaultFieldValue||"Off";at.target.checked=ut===je.exportValue}),this.enableScripting&&this.hasJSActions&&(rt.addEventListener("updatefromsandbox",at=>{const ut={value(Et){Et.target.checked=Et.detail.value!=="Off",De.setValue(qe,{value:Et.target.checked})}};this._dispatchEventFromSandbox(ut,at)}),this._setEventListeners(rt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],at=>at.target.checked)),this._setBackgroundColor(rt),this._setDefaultPropertiesFromJS(rt),this.container.append(rt),this.container}}class ee extends g{constructor(De){super(De,{isRenderable:De.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const De=this.annotationStorage,je=this.data,qe=je.id;let tt=De.getValue(qe,{value:je.fieldValue===je.buttonValue}).value;typeof tt=="string"&&(tt=tt!==je.buttonValue,De.setValue(qe,{value:tt}));const rt=document.createElement("input");if(_e.add(rt),rt.setAttribute("data-element-id",qe),rt.disabled=je.readOnly,this._setRequired(rt,this.data.required),rt.type="radio",rt.name=je.fieldName,tt&&rt.setAttribute("checked",!0),rt.tabIndex=_,rt.addEventListener("change",at=>{const{name:ut,checked:Et}=at.target;for(const vt of this._getElementsByName(ut,qe))De.setValue(vt.id,{value:!1});De.setValue(qe,{value:Et})}),rt.addEventListener("resetform",at=>{const ut=je.defaultFieldValue;at.target.checked=ut!=null&&ut===je.buttonValue}),this.enableScripting&&this.hasJSActions){const at=je.buttonValue;rt.addEventListener("updatefromsandbox",ut=>{const Et={value:vt=>{const ft=at===vt.detail.value;for(const Pt of this._getElementsByName(vt.target.name)){const bt=ft&&Pt.id===qe;Pt.domElement&&(Pt.domElement.checked=bt),De.setValue(Pt.id,{value:bt})}}};this._dispatchEventFromSandbox(Et,ut)}),this._setEventListeners(rt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ut=>ut.target.checked)}return this._setBackgroundColor(rt),this._setDefaultPropertiesFromJS(rt),this.container.append(rt),this.container}}class he extends me{constructor(De){super(De,{ignoreBorder:De.data.hasAppearance})}render(){const De=super.render();De.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(De.title=this.data.alternativeText);const je=De.lastChild;return this.enableScripting&&this.hasJSActions&&je&&(this._setDefaultPropertiesFromJS(je),je.addEventListener("updatefromsandbox",qe=>{this._dispatchEventFromSandbox({},qe)})),De}}class oe extends g{constructor(De){super(De,{isRenderable:De.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const De=this.annotationStorage,je=this.data.id,qe=De.getValue(je,{value:this.data.fieldValue}),tt=document.createElement("select");_e.add(tt),tt.setAttribute("data-element-id",je),tt.disabled=this.data.readOnly,this._setRequired(tt,this.data.required),tt.name=this.data.fieldName,tt.tabIndex=_;let rt=this.data.combo&&this.data.options.length>0;this.data.combo||(tt.size=this.data.options.length,this.data.multiSelect&&(tt.multiple=!0)),tt.addEventListener("resetform",ft=>{const Pt=this.data.defaultFieldValue;for(const bt of tt.options)bt.selected=bt.value===Pt});for(const ft of this.data.options){const Pt=document.createElement("option");Pt.textContent=ft.displayValue,Pt.value=ft.exportValue,qe.value.includes(ft.exportValue)&&(Pt.setAttribute("selected",!0),rt=!1),tt.append(Pt)}let at=null;if(rt){const ft=document.createElement("option");ft.value=" ",ft.setAttribute("hidden",!0),ft.setAttribute("selected",!0),tt.prepend(ft),at=()=>{ft.remove(),tt.removeEventListener("input",at),at=null},tt.addEventListener("input",at)}const ut=ft=>{const Pt=ft?"value":"textContent",{options:bt,multiple:St}=tt;return St?Array.prototype.filter.call(bt,Ct=>Ct.selected).map(Ct=>Ct[Pt]):bt.selectedIndex===-1?null:bt[bt.selectedIndex][Pt]};let Et=ut(!1);const vt=ft=>{const Pt=ft.target.options;return Array.prototype.map.call(Pt,bt=>({displayValue:bt.textContent,exportValue:bt.value}))};return this.enableScripting&&this.hasJSActions?(tt.addEventListener("updatefromsandbox",ft=>{const Pt={value(bt){at==null||at();const St=bt.detail.value,Ct=new Set(Array.isArray(St)?St:[St]);for(const Mt of tt.options)Mt.selected=Ct.has(Mt.value);De.setValue(je,{value:ut(!0)}),Et=ut(!1)},multipleSelection(bt){tt.multiple=!0},remove(bt){const St=tt.options,Ct=bt.detail.remove;St[Ct].selected=!1,tt.remove(Ct),St.length>0&&Array.prototype.findIndex.call(St,It=>It.selected)===-1&&(St[0].selected=!0),De.setValue(je,{value:ut(!0),items:vt(bt)}),Et=ut(!1)},clear(bt){for(;tt.length!==0;)tt.remove(0);De.setValue(je,{value:null,items:[]}),Et=ut(!1)},insert(bt){const{index:St,displayValue:Ct,exportValue:Mt}=bt.detail.insert,It=tt.children[St],Dt=document.createElement("option");Dt.textContent=Ct,Dt.value=Mt,It?It.before(Dt):tt.append(Dt),De.setValue(je,{value:ut(!0),items:vt(bt)}),Et=ut(!1)},items(bt){const{items:St}=bt.detail;for(;tt.length!==0;)tt.remove(0);for(const Ct of St){const{displayValue:Mt,exportValue:It}=Ct,Dt=document.createElement("option");Dt.textContent=Mt,Dt.value=It,tt.append(Dt)}tt.options.length>0&&(tt.options[0].selected=!0),De.setValue(je,{value:ut(!0),items:vt(bt)}),Et=ut(!1)},indices(bt){const St=new Set(bt.detail.indices);for(const Ct of bt.target.options)Ct.selected=St.has(Ct.index);De.setValue(je,{value:ut(!0)}),Et=ut(!1)},editable(bt){bt.target.disabled=!bt.detail.editable}};this._dispatchEventFromSandbox(Pt,ft)}),tt.addEventListener("input",ft=>{var bt;const Pt=ut(!0);De.setValue(je,{value:Pt}),ft.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:je,name:"Keystroke",value:Et,changeEx:Pt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(tt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ft=>ft.target.value)):tt.addEventListener("input",function(ft){De.setValue(je,{value:ut(!0)})}),this.data.combo&&this._setTextStyle(tt),this._setBackgroundColor(tt),this._setDefaultPropertiesFromJS(tt),this.container.append(tt),this.container}}class le extends b{constructor(De){const{data:je,elements:qe}=De;super(De,{isRenderable:b._hasPopupData(je)}),this.elements=qe}render(){this.container.classList.add("popupAnnotation");const De=new ie({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),je=[];for(const qe of this.elements)qe.popup=De,je.push(qe.data.id),qe.addHighlightArea();return this.container.setAttribute("aria-controls",je.map(qe=>`${a.AnnotationPrefix}${qe}`).join(",")),this.container}}class ie{constructor({container:De,color:je,elements:qe,titleObj:tt,modificationDate:rt,contentsObj:at,richText:ut,parent:Et,rect:vt,parentRect:ft,open:Pt}){Qe(this,dt);Qe(this,Me,null);Qe(this,Le,We(this,dt,vr).bind(this));Qe(this,Ue,We(this,dt,Gn).bind(this));Qe(this,Xe,We(this,dt,zn).bind(this));Qe(this,Ve,We(this,dt,hn).bind(this));Qe(this,Ke,null);Qe(this,ze,null);Qe(this,Ge,null);Qe(this,Oe,null);Qe(this,$e,null);Qe(this,He,null);Qe(this,Ye,!1);Qe(this,nt,null);Qe(this,ot,null);Qe(this,st,null);Qe(this,Be,null);Qe(this,ct,!1);var St;Ze(this,ze,De),Ze(this,Be,tt),Ze(this,Ge,at),Ze(this,st,ut),Ze(this,$e,Et),Ze(this,Ke,je),Ze(this,ot,vt),Ze(this,He,ft),Ze(this,Oe,qe);const bt=c.PDFDateString.toDateObject(rt);bt&&Ze(this,Me,Et.l10n.get("annotation_date_string",{date:bt.toLocaleDateString(),time:bt.toLocaleTimeString()})),this.trigger=qe.flatMap(Ct=>Ct.getElementsToTriggerPopup());for(const Ct of this.trigger)Ct.addEventListener("click",ge(this,Ve)),Ct.addEventListener("mouseenter",ge(this,Xe)),Ct.addEventListener("mouseleave",ge(this,Ue)),Ct.classList.add("popupTriggerArea");for(const Ct of qe)(St=Ct.container)==null||St.addEventListener("keydown",ge(this,Le));ge(this,ze).hidden=!0,Pt&&We(this,dt,hn).call(this)}render(){if(ge(this,nt))return;const{page:{view:De},viewport:{rawDims:{pageWidth:je,pageHeight:qe,pageX:tt,pageY:rt}}}=ge(this,$e),at=Ze(this,nt,document.createElement("div"));if(at.className="popup",ge(this,Ke)){const kt=at.style.outlineColor=a.Util.makeHexColor(...ge(this,Ke));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?at.style.backgroundColor=`color-mix(in srgb, ${kt} 30%, white)`:at.style.backgroundColor=a.Util.makeHexColor(...ge(this,Ke).map(zt=>Math.floor(.7*(255-zt)+zt)))}const ut=document.createElement("span");ut.className="header";const Et=document.createElement("h1");if(ut.append(Et),{dir:Et.dir,str:Et.textContent}=ge(this,Be),at.append(ut),ge(this,Me)){const kt=document.createElement("span");kt.classList.add("popupDate"),ge(this,Me).then(Bt=>{kt.textContent=Bt}),ut.append(kt)}const vt=ge(this,Ge),ft=ge(this,st);if(ft!=null&&ft.str&&(!(vt!=null&&vt.str)||vt.str===ft.str))re.XfaLayer.render({xfaHtml:ft.html,intent:"richText",div:at}),at.lastChild.classList.add("richText","popupContent");else{const kt=this._formatContents(vt);at.append(kt)}let Pt=!!ge(this,He),bt=Pt?ge(this,He):ge(this,ot);for(const kt of ge(this,Oe))if(!bt||a.Util.intersect(kt.data.rect,bt)!==null){bt=kt.data.rect,Pt=!0;break}const St=a.Util.normalizeRect([bt[0],De[3]-bt[1]+De[1],bt[2],De[3]-bt[3]+De[1]]),Mt=Pt?bt[2]-bt[0]+5:0,It=St[0]+Mt,Dt=St[1],{style:Ft}=ge(this,ze);Ft.left=`${100*(It-tt)/je}%`,Ft.top=`${100*(Dt-rt)/qe}%`,ge(this,ze).append(at)}_formatContents({str:De,dir:je}){const qe=document.createElement("p");qe.classList.add("popupContent"),qe.dir=je;const tt=De.split(/(?:\r\n?|\n)/);for(let rt=0,at=tt.length;rt<at;++rt){const ut=tt[rt];qe.append(document.createTextNode(ut)),rt<at-1&&qe.append(document.createElement("br"))}return qe}forceHide(){Ze(this,ct,this.isVisible),ge(this,ct)&&(ge(this,ze).hidden=!0)}maybeShow(){ge(this,ct)&&(Ze(this,ct,!1),ge(this,ze).hidden=!1)}get isVisible(){return ge(this,ze).hidden===!1}}Me=new WeakMap,Le=new WeakMap,Ue=new WeakMap,Xe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ge=new WeakMap,Oe=new WeakMap,$e=new WeakMap,He=new WeakMap,Ye=new WeakMap,nt=new WeakMap,ot=new WeakMap,st=new WeakMap,Be=new WeakMap,ct=new WeakMap,dt=new WeakSet,vr=function(De){De.altKey||De.shiftKey||De.ctrlKey||De.metaKey||(De.key==="Enter"||De.key==="Escape"&&ge(this,Ye))&&We(this,dt,hn).call(this)},hn=function(){Ze(this,Ye,!ge(this,Ye)),ge(this,Ye)?(We(this,dt,zn).call(this),ge(this,ze).addEventListener("click",ge(this,Ve)),ge(this,ze).addEventListener("keydown",ge(this,Le))):(We(this,dt,Gn).call(this),ge(this,ze).removeEventListener("click",ge(this,Ve)),ge(this,ze).removeEventListener("keydown",ge(this,Le)))},zn=function(){ge(this,nt)||this.render(),this.isVisible?ge(this,Ye)&&ge(this,ze).classList.add("focused"):(ge(this,ze).hidden=!1,ge(this,ze).style.zIndex=parseInt(ge(this,ze).style.zIndex)+1e3)},Gn=function(){ge(this,ze).classList.remove("focused"),!(ge(this,Ye)||!this.isVisible)&&(ge(this,ze).hidden=!0,ge(this,ze).style.zIndex=parseInt(ge(this,ze).style.zIndex)-1e3)};class Ae extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0}),this.textContent=De.data.textContent,this.textPosition=De.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const De=document.createElement("div");De.classList.add("annotationTextContent"),De.setAttribute("role","comment");for(const je of this.textContent){const qe=document.createElement("span");qe.textContent=je,De.append(qe)}this.container.append(De)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=Ae;class ae extends b{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,gt,null)}render(){this.container.classList.add("lineAnnotation");const je=this.data,{width:qe,height:tt}=ve(je.rect),rt=this.svgFactory.create(qe,tt,!0),at=Ze(this,gt,this.svgFactory.createElement("svg:line"));return at.setAttribute("x1",je.rect[2]-je.lineCoordinates[0]),at.setAttribute("y1",je.rect[3]-je.lineCoordinates[1]),at.setAttribute("x2",je.rect[2]-je.lineCoordinates[2]),at.setAttribute("y2",je.rect[3]-je.lineCoordinates[3]),at.setAttribute("stroke-width",je.borderStyle.width||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),rt.append(at),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,gt)}addHighlightArea(){this.container.classList.add("highlightArea")}}gt=new WeakMap;class ye extends b{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,Tt,null)}render(){this.container.classList.add("squareAnnotation");const je=this.data,{width:qe,height:tt}=ve(je.rect),rt=this.svgFactory.create(qe,tt,!0),at=je.borderStyle.width,ut=Ze(this,Tt,this.svgFactory.createElement("svg:rect"));return ut.setAttribute("x",at/2),ut.setAttribute("y",at/2),ut.setAttribute("width",qe-at),ut.setAttribute("height",tt-at),ut.setAttribute("stroke-width",at||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,Tt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tt=new WeakMap;class Pe extends b{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,Rt,null)}render(){this.container.classList.add("circleAnnotation");const je=this.data,{width:qe,height:tt}=ve(je.rect),rt=this.svgFactory.create(qe,tt,!0),at=je.borderStyle.width,ut=Ze(this,Rt,this.svgFactory.createElement("svg:ellipse"));return ut.setAttribute("cx",qe/2),ut.setAttribute("cy",tt/2),ut.setAttribute("rx",qe/2-at/2),ut.setAttribute("ry",tt/2-at/2),ut.setAttribute("stroke-width",at||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,Rt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rt=new WeakMap;class Ie extends b{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,lt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const je=this.data,{width:qe,height:tt}=ve(je.rect),rt=this.svgFactory.create(qe,tt,!0);let at=[];for(const Et of je.vertices){const vt=Et.x-je.rect[0],ft=je.rect[3]-Et.y;at.push(vt+","+ft)}at=at.join(" ");const ut=Ze(this,lt,this.svgFactory.createElement(this.svgElementName));return ut.setAttribute("points",at),ut.setAttribute("stroke-width",je.borderStyle.width||1),ut.setAttribute("stroke","transparent"),ut.setAttribute("fill","transparent"),rt.append(ut),this.container.append(rt),!je.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ge(this,lt)}addHighlightArea(){this.container.classList.add("highlightArea")}}lt=new WeakMap;class Re extends Ie{constructor(De){super(De),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ne extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ce extends b{constructor(je){super(je,{isRenderable:!0,ignoreBorder:!0});Qe(this,Je,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const je=this.data,{width:qe,height:tt}=ve(je.rect),rt=this.svgFactory.create(qe,tt,!0);for(const at of je.inkLists){let ut=[];for(const vt of at){const ft=vt.x-je.rect[0],Pt=je.rect[3]-vt.y;ut.push(`${ft},${Pt}`)}ut=ut.join(" ");const Et=this.svgFactory.createElement(this.svgElementName);ge(this,Je).push(Et),Et.setAttribute("points",ut),Et.setAttribute("stroke-width",je.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),!je.popupRef&&this.hasPopupData&&this._createPopup(),rt.append(Et)}return this.container.append(rt),this.container}getElementsToTriggerPopup(){return ge(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap,i.InkAnnotationElement=Ce;class Fe extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class we extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class xe extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class fe extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ee extends b{constructor(De){super(De,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=Ee;class ce extends b{constructor(je){var rt;super(je,{isRenderable:!0});Qe(this,mt);Qe(this,et,null);const{filename:qe,content:tt}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(qe,!0),this.content=tt,(rt=this.linkService.eventBus)==null||rt.dispatch("fileattachmentannotation",{source:this,filename:qe,content:tt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:je,data:qe}=this;let tt;qe.hasAppearance||qe.fillAlpha===0?tt=document.createElement("div"):(tt=document.createElement("img"),tt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(qe.name)?"paperclip":"pushpin"}.svg`,qe.fillAlpha&&qe.fillAlpha<1&&(tt.style=`filter: opacity(${Math.round(qe.fillAlpha*100)}%);`)),tt.addEventListener("dblclick",We(this,mt,Vn).bind(this)),Ze(this,et,tt);const{isMac:rt}=a.FeatureTest.platform;return je.addEventListener("keydown",at=>{at.key==="Enter"&&(rt?at.metaKey:at.ctrlKey)&&We(this,mt,Vn).call(this)}),!qe.popupRef&&this.hasPopupData?this._createPopup():tt.classList.add("popupTriggerArea"),je.append(tt),je}getElementsToTriggerPopup(){return ge(this,et)}addHighlightArea(){this.container.classList.add("highlightArea")}}et=new WeakMap,mt=new WeakSet,Vn=function(){var je;(je=this.downloadManager)==null||je.openOrDownloadData(this.container,this.content,this.filename)};class de{constructor({div:De,accessibilityManager:je,annotationCanvasMap:qe,l10n:tt,page:rt,viewport:at}){Qe(this,ht);Qe(this,$t,null);Qe(this,ke,null);Qe(this,it,new Map);this.div=De,Ze(this,$t,je),Ze(this,ke,qe),this.l10n=tt,this.page=rt,this.viewport=at,this.zIndex=0,this.l10n||(this.l10n=f.NullL10n)}async render(De){const{annotations:je}=De,qe=this.div;(0,c.setLayerDimensions)(qe,this.viewport);const tt=new Map,rt={data:null,layer:qe,linkService:De.linkService,downloadManager:De.downloadManager,imageResourcesPath:De.imageResourcesPath||"",renderForms:De.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:De.annotationStorage||new h.AnnotationStorage,enableScripting:De.enableScripting===!0,hasJSActions:De.hasJSActions,fieldObjects:De.fieldObjects,parent:this,elements:null};for(const at of je){if(at.noHTML)continue;const ut=at.annotationType===a.AnnotationType.POPUP;if(ut){const ft=tt.get(at.id);if(!ft)continue;rt.elements=ft}else{const{width:ft,height:Pt}=ve(at.rect);if(ft<=0||Pt<=0)continue}rt.data=at;const Et=te.create(rt);if(!Et.isRenderable)continue;if(!ut&&at.popupRef){const ft=tt.get(at.popupRef);ft?ft.push(Et):tt.set(at.popupRef,[Et])}Et.annotationEditorType>0&&ge(this,it).set(Et.data.id,Et);const vt=Et.render();at.hidden&&(vt.style.visibility="hidden"),We(this,ht,br).call(this,vt,at.id)}We(this,ht,Hn).call(this),await this.l10n.translate(qe)}update({viewport:De}){const je=this.div;this.viewport=De,(0,c.setLayerDimensions)(je,{rotation:De.rotation}),We(this,ht,Hn).call(this),je.hidden=!1}getEditableAnnotations(){return Array.from(ge(this,it).values())}getEditableAnnotation(De){return ge(this,it).get(De)}}$t=new WeakMap,ke=new WeakMap,it=new WeakMap,ht=new WeakSet,br=function(De,je){var tt;const qe=De.firstChild||De;qe.id=`${a.AnnotationPrefix}${je}`,this.div.append(De),(tt=ge(this,$t))==null||tt.moveElementInDOM(this.div,De,qe,!1)},Hn=function(){if(!ge(this,ke))return;const De=this.div;for(const[je,qe]of ge(this,ke)){const tt=De.querySelector(`[data-annotation-id="${je}"]`);if(!tt)continue;const{firstChild:rt}=tt;rt?rt.nodeName==="CANVAS"?rt.replaceWith(qe):rt.before(qe):tt.append(qe)}ge(this,ke).clear()},i.AnnotationLayer=de},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function o(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function a(h){return Math.max(0,Math.min(255,255*h))}class c{static CMYK_G([d,f,re,_]){return["G",1-Math.min(1,.3*d+.59*re+.11*f+_)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const f=o(d);return`#${f}${f}${f}`}static RGB_G([d,f,re]){return["G",.3*d+.59*f+.11*re]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,f,re,_]){return["RGB",1-Math.min(1,d+_),1-Math.min(1,re+_),1-Math.min(1,f+_)]}static CMYK_rgb([d,f,re,_]){return[a(1-Math.min(1,d+_)),a(1-Math.min(1,re+_)),a(1-Math.min(1,f+_))]}static CMYK_HTML(d){const f=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([d,f,re]){const _=1-d,$=1-f,_e=1-re,ve=Math.min(_,$,_e);return["CMYK",_,$,_e,ve]}}i.ColorConverters=c},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=a;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function a(d,f){switch(d){case"find_match_count":d=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return o[d]||""}function c(d,f){return f?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(re,_)=>_ in f?f[_]:"{{"+_+"}}"):d}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,f=null,re=a(d,f)){return c(re,f)},async translate(d){}};i.NullL10n=h},(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var a=o(25);class c{static setupStorage(d,f,re,_,$){const _e=_.getValue(f,{value:null});switch(re.name){case"textarea":if(_e.value!==null&&(d.textContent=_e.value),$==="print")break;d.addEventListener("input",ve=>{_.setValue(f,{value:ve.target.value})});break;case"input":if(re.attributes.type==="radio"||re.attributes.type==="checkbox"){if(_e.value===re.attributes.xfaOn?d.setAttribute("checked",!0):_e.value===re.attributes.xfaOff&&d.removeAttribute("checked"),$==="print")break;d.addEventListener("change",ve=>{_.setValue(f,{value:ve.target.checked?ve.target.getAttribute("xfaOn"):ve.target.getAttribute("xfaOff")})})}else{if(_e.value!==null&&d.setAttribute("value",_e.value),$==="print")break;d.addEventListener("input",ve=>{_.setValue(f,{value:ve.target.value})})}break;case"select":if(_e.value!==null){d.setAttribute("value",_e.value);for(const ve of re.children)ve.attributes.value===_e.value?ve.attributes.selected=!0:ve.attributes.hasOwnProperty("selected")&&delete ve.attributes.selected}d.addEventListener("input",ve=>{const te=ve.target.options,b=te.selectedIndex===-1?"":te[te.selectedIndex].value;_.setValue(f,{value:b})});break}}static setAttributes({html:d,element:f,storage:re=null,intent:_,linkService:$}){const{attributes:_e}=f,ve=d instanceof HTMLAnchorElement;_e.type==="radio"&&(_e.name=`${_e.name}-${_}`);for(const[te,b]of Object.entries(_e))if(b!=null)switch(te){case"class":b.length&&d.setAttribute(te,b.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",b);break;case"style":Object.assign(d.style,b);break;case"textContent":d.textContent=b;break;default:(!ve||te!=="href"&&te!=="newWindow")&&d.setAttribute(te,b)}ve&&$.addLinkAttributes(d,_e.href,_e.newWindow),re&&_e.dataId&&this.setupStorage(d,_e.dataId,f,re)}static render(d){var me;const f=d.annotationStorage,re=d.linkService,_=d.xfaHtml,$=d.intent||"display",_e=document.createElement(_.name);_.attributes&&this.setAttributes({html:_e,element:_,intent:$,linkService:re});const ve=[[_,-1,_e]],te=d.div;if(te.append(_e),d.viewport){const j=`matrix(${d.viewport.transform.join(",")})`;te.style.transform=j}$!=="richText"&&te.setAttribute("class","xfaLayer xfaFont");const b=[];for(;ve.length>0;){const[j,g,ne]=ve.at(-1);if(g+1===j.children.length){ve.pop();continue}const se=j.children[++ve.at(-1)[1]];if(se===null)continue;const{name:q}=se;if(q==="#text"){const he=document.createTextNode(se.value);b.push(he),ne.append(he);continue}const ee=(me=se==null?void 0:se.attributes)!=null&&me.xmlns?document.createElementNS(se.attributes.xmlns,q):document.createElement(q);if(ne.append(ee),se.attributes&&this.setAttributes({html:ee,element:se,storage:f,intent:$,linkService:re}),se.children&&se.children.length>0)ve.push([se,-1,ee]);else if(se.value){const he=document.createTextNode(se.value);a.XfaText.shouldBuildText(q)&&b.push(he),ee.append(he)}}for(const j of te.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))j.setAttribute("readOnly",!0);return{textDivs:b}}static update(d){const f=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=f,d.div.hidden=!1}}i.XfaLayer=c},(e,i,o)=>{var _,$,_e,ve,te,b,me,j,g,ne,se,q,ee,he,oe,yr,Er,Sr,wr,qn,Ar,Wn,Cr,xr,Pr,Or,Tr,Ut,Yn,fn,pn,Yt,Xn,_n,m,Mr,Kn,$r,jr,Qn,mn,Xt;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var a=o(1),c=o(4),h=o(29),d=o(6),f=o(5);const Ke=class Ke extends c.AnnotationEditor{constructor(Oe){super({...Oe,name:"inkEditor"});Qe(this,oe);Qe(this,_,0);Qe(this,$,0);Qe(this,_e,this.canvasPointermove.bind(this));Qe(this,ve,this.canvasPointerleave.bind(this));Qe(this,te,this.canvasPointerup.bind(this));Qe(this,b,this.canvasPointerdown.bind(this));Qe(this,me,new Path2D);Qe(this,j,!1);Qe(this,g,!1);Qe(this,ne,!1);Qe(this,se,null);Qe(this,q,0);Qe(this,ee,0);Qe(this,he,null);this.color=Oe.color||null,this.thickness=Oe.thickness||null,this.opacity=Oe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Oe){c.AnnotationEditor.initialize(Oe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Oe,$e){switch(Oe){case a.AnnotationEditorParamsType.INK_THICKNESS:Ke._defaultThickness=$e;break;case a.AnnotationEditorParamsType.INK_COLOR:Ke._defaultColor=$e;break;case a.AnnotationEditorParamsType.INK_OPACITY:Ke._defaultOpacity=$e/100;break}}updateParams(Oe,$e){switch(Oe){case a.AnnotationEditorParamsType.INK_THICKNESS:We(this,oe,yr).call(this,$e);break;case a.AnnotationEditorParamsType.INK_COLOR:We(this,oe,Er).call(this,$e);break;case a.AnnotationEditorParamsType.INK_OPACITY:We(this,oe,Sr).call(this,$e);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,Ke._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,Ke._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ke._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ke._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||Ke._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ke._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(We(this,oe,fn).call(this),We(this,oe,pn).call(this)),this.isAttachedToDOM||(this.parent.add(this),We(this,oe,Yt).call(this)),We(this,oe,Xt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ge(this,se).disconnect(),Ze(this,se,null),super.remove())}setParent(Oe){!this.parent&&Oe?this._uiManager.removeShouldRescale(this):this.parent&&Oe===null&&this._uiManager.addShouldRescale(this),super.setParent(Oe)}onScaleChanging(){const[Oe,$e]=this.parentDimensions,He=this.width*Oe,Ye=this.height*$e;this.setDimensions(He,Ye)}enableEditMode(){ge(this,j)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",ge(this,b)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ge(this,b)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ge(this,j)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ze(this,j,!0),this.div.classList.add("disabled"),We(this,oe,Xt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Oe){this._focusEventsAllowed&&(super.focusin(Oe),this.enableEditMode())}canvasPointerdown(Oe){Oe.button!==0||!this.isInEditMode()||ge(this,j)||(this.setInForeground(),Oe.preventDefault(),Oe.type!=="mouse"&&this.div.focus(),We(this,oe,Ar).call(this,Oe.offsetX,Oe.offsetY))}canvasPointermove(Oe){Oe.preventDefault(),We(this,oe,Wn).call(this,Oe.offsetX,Oe.offsetY)}canvasPointerup(Oe){Oe.preventDefault(),We(this,oe,Yn).call(this,Oe)}canvasPointerleave(Oe){We(this,oe,Yn).call(this,Oe)}get isResizable(){return!this.isEmpty()&&ge(this,j)}render(){if(this.div)return this.div;let Oe,$e;this.width&&(Oe=this.x,$e=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(st=>{var Be;return(Be=this.div)==null?void 0:Be.setAttribute("aria-label",st)});const[He,Ye,nt,ot]=We(this,oe,wr).call(this);if(this.setAt(He,Ye,0,0),this.setDims(nt,ot),We(this,oe,fn).call(this),this.width){const[st,Be]=this.parentDimensions;this.setAspectRatio(this.width*st,this.height*Be),this.setAt(Oe*st,$e*Be,this.width*st,this.height*Be),Ze(this,ne,!0),We(this,oe,Yt).call(this),this.setDims(this.width*st,this.height*Be),We(this,oe,Ut).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return We(this,oe,pn).call(this),this.div}setDimensions(Oe,$e){const He=Math.round(Oe),Ye=Math.round($e);if(ge(this,q)===He&&ge(this,ee)===Ye)return;Ze(this,q,He),Ze(this,ee,Ye),this.canvas.style.visibility="hidden";const[nt,ot]=this.parentDimensions;this.width=Oe/nt,this.height=$e/ot,this.fixAndSetPosition(),ge(this,j)&&We(this,oe,Xn).call(this,Oe,$e),We(this,oe,Yt).call(this),We(this,oe,Ut).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Oe,$e,He){var gt,Tt,Rt;if(Oe instanceof h.InkAnnotationElement)return null;const Ye=super.deserialize(Oe,$e,He);Ye.thickness=Oe.thickness,Ye.color=a.Util.makeHexColor(...Oe.color),Ye.opacity=Oe.opacity;const[nt,ot]=Ye.pageDimensions,st=Ye.width*nt,Be=Ye.height*ot,ct=Ye.parentScale,dt=Oe.thickness/2;Ze(Ye,j,!0),Ze(Ye,q,Math.round(st)),Ze(Ye,ee,Math.round(Be));const{paths:xt,rect:At,rotation:Ot}=Oe;for(let{bezier:lt}of xt){lt=We(gt=Ke,m,$r).call(gt,lt,At,Ot);const Je=[];Ye.paths.push(Je);let et=ct*(lt[0]-dt),mt=ct*(lt[1]-dt);for(let $t=2,ke=lt.length;$t<ke;$t+=6){const it=ct*(lt[$t]-dt),ht=ct*(lt[$t+1]-dt),yt=ct*(lt[$t+2]-dt),wt=ct*(lt[$t+3]-dt),pt=ct*(lt[$t+4]-dt),De=ct*(lt[$t+5]-dt);Je.push([[et,mt],[it,ht],[yt,wt],[pt,De]]),et=pt,mt=De}const jt=We(this,m,Mr).call(this,Je);Ye.bezierPath2D.push(jt)}const _t=We(Tt=Ye,oe,Qn).call(Tt);return Ze(Ye,$,Math.max(c.AnnotationEditor.MIN_SIZE,_t[2]-_t[0])),Ze(Ye,_,Math.max(c.AnnotationEditor.MIN_SIZE,_t[3]-_t[1])),We(Rt=Ye,oe,Xn).call(Rt,st,Be),Ye}serialize(){if(this.isEmpty())return null;const Oe=this.getRect(0,0),$e=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:$e,thickness:this.thickness,opacity:this.opacity,paths:We(this,oe,jr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Oe),pageIndex:this.pageIndex,rect:Oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,$=new WeakMap,_e=new WeakMap,ve=new WeakMap,te=new WeakMap,b=new WeakMap,me=new WeakMap,j=new WeakMap,g=new WeakMap,ne=new WeakMap,se=new WeakMap,q=new WeakMap,ee=new WeakMap,he=new WeakMap,oe=new WeakSet,yr=function(Oe){const $e=this.thickness;this.addCommands({cmd:()=>{this.thickness=Oe,We(this,oe,Xt).call(this)},undo:()=>{this.thickness=$e,We(this,oe,Xt).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Er=function(Oe){const $e=this.color;this.addCommands({cmd:()=>{this.color=Oe,We(this,oe,Ut).call(this)},undo:()=>{this.color=$e,We(this,oe,Ut).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sr=function(Oe){Oe/=100;const $e=this.opacity;this.addCommands({cmd:()=>{this.opacity=Oe,We(this,oe,Ut).call(this)},undo:()=>{this.opacity=$e,We(this,oe,Ut).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},wr=function(){const{parentRotation:Oe,parentDimensions:[$e,He]}=this;switch(Oe){case 90:return[0,He,He,$e];case 180:return[$e,He,$e,He];case 270:return[$e,0,He,$e];default:return[0,0,$e,He]}},qn=function(){const{ctx:Oe,color:$e,opacity:He,thickness:Ye,parentScale:nt,scaleFactor:ot}=this;Oe.lineWidth=Ye*nt/ot,Oe.lineCap="round",Oe.lineJoin="round",Oe.miterLimit=10,Oe.strokeStyle=`${$e}${(0,f.opacityToHex)(He)}`},Ar=function(Oe,$e){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",ge(this,ve)),this.canvas.addEventListener("pointermove",ge(this,_e)),this.canvas.addEventListener("pointerup",ge(this,te)),this.canvas.removeEventListener("pointerdown",ge(this,b)),this.isEditing=!0,ge(this,ne)||(Ze(this,ne,!0),We(this,oe,Yt).call(this),this.thickness||(this.thickness=Ke._defaultThickness),this.color||(this.color=Ke._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ke._defaultOpacity)),this.currentPath.push([Oe,$e]),Ze(this,g,!1),We(this,oe,qn).call(this),Ze(this,he,()=>{We(this,oe,Pr).call(this),ge(this,he)&&window.requestAnimationFrame(ge(this,he))}),window.requestAnimationFrame(ge(this,he))},Wn=function(Oe,$e){const[He,Ye]=this.currentPath.at(-1);if(this.currentPath.length>1&&Oe===He&&$e===Ye)return;const nt=this.currentPath;let ot=ge(this,me);if(nt.push([Oe,$e]),Ze(this,g,!0),nt.length<=2){ot.moveTo(...nt[0]),ot.lineTo(Oe,$e);return}nt.length===3&&(Ze(this,me,ot=new Path2D),ot.moveTo(...nt[0])),We(this,oe,Or).call(this,ot,...nt.at(-3),...nt.at(-2),Oe,$e)},Cr=function(){if(this.currentPath.length===0)return;const Oe=this.currentPath.at(-1);ge(this,me).lineTo(...Oe)},xr=function(Oe,$e){Ze(this,he,null),Oe=Math.min(Math.max(Oe,0),this.canvas.width),$e=Math.min(Math.max($e,0),this.canvas.height),We(this,oe,Wn).call(this,Oe,$e),We(this,oe,Cr).call(this);let He;if(this.currentPath.length!==1)He=We(this,oe,Tr).call(this);else{const Be=[Oe,$e];He=[[Be,Be.slice(),Be.slice(),Be]]}const Ye=ge(this,me),nt=this.currentPath;this.currentPath=[],Ze(this,me,new Path2D);const ot=()=>{this.allRawPaths.push(nt),this.paths.push(He),this.bezierPath2D.push(Ye),this.rebuild()},st=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(We(this,oe,fn).call(this),We(this,oe,pn).call(this)),We(this,oe,Xt).call(this))};this.addCommands({cmd:ot,undo:st,mustExec:!0})},Pr=function(){if(!ge(this,g))return;Ze(this,g,!1);const Oe=Math.ceil(this.thickness*this.parentScale),$e=this.currentPath.slice(-3),He=$e.map(ot=>ot[0]),Ye=$e.map(ot=>ot[1]);Math.min(...He)-Oe,Math.max(...He)+Oe,Math.min(...Ye)-Oe,Math.max(...Ye)+Oe;const{ctx:nt}=this;nt.save(),nt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ot of this.bezierPath2D)nt.stroke(ot);nt.stroke(ge(this,me)),nt.restore()},Or=function(Oe,$e,He,Ye,nt,ot,st){const Be=($e+Ye)/2,ct=(He+nt)/2,dt=(Ye+ot)/2,xt=(nt+st)/2;Oe.bezierCurveTo(Be+2*(Ye-Be)/3,ct+2*(nt-ct)/3,dt+2*(Ye-dt)/3,xt+2*(nt-xt)/3,dt,xt)},Tr=function(){const Oe=this.currentPath;if(Oe.length<=2)return[[Oe[0],Oe[0],Oe.at(-1),Oe.at(-1)]];const $e=[];let He,[Ye,nt]=Oe[0];for(He=1;He<Oe.length-2;He++){const[At,Ot]=Oe[He],[_t,gt]=Oe[He+1],Tt=(At+_t)/2,Rt=(Ot+gt)/2,lt=[Ye+2*(At-Ye)/3,nt+2*(Ot-nt)/3],Je=[Tt+2*(At-Tt)/3,Rt+2*(Ot-Rt)/3];$e.push([[Ye,nt],lt,Je,[Tt,Rt]]),[Ye,nt]=[Tt,Rt]}const[ot,st]=Oe[He],[Be,ct]=Oe[He+1],dt=[Ye+2*(ot-Ye)/3,nt+2*(st-nt)/3],xt=[Be+2*(ot-Be)/3,ct+2*(st-ct)/3];return $e.push([[Ye,nt],dt,xt,[Be,ct]]),$e},Ut=function(){if(this.isEmpty()){We(this,oe,_n).call(this);return}We(this,oe,qn).call(this);const{canvas:Oe,ctx:$e}=this;$e.setTransform(1,0,0,1,0,0),$e.clearRect(0,0,Oe.width,Oe.height),We(this,oe,_n).call(this);for(const He of this.bezierPath2D)$e.stroke(He)},Yn=function(Oe){this.canvas.removeEventListener("pointerleave",ge(this,ve)),this.canvas.removeEventListener("pointermove",ge(this,_e)),this.canvas.removeEventListener("pointerup",ge(this,te)),this.canvas.addEventListener("pointerdown",ge(this,b)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),We(this,oe,xr).call(this,Oe.offsetX,Oe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Oe=>{var $e;return($e=this.canvas)==null?void 0:$e.setAttribute("aria-label",Oe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pn=function(){Ze(this,se,new ResizeObserver(Oe=>{const $e=Oe[0].contentRect;$e.width&&$e.height&&this.setDimensions($e.width,$e.height)})),ge(this,se).observe(this.div)},Yt=function(){if(!ge(this,ne))return;const[Oe,$e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Oe),this.canvas.height=Math.ceil(this.height*$e),We(this,oe,_n).call(this)},Xn=function(Oe,$e){const He=We(this,oe,mn).call(this),Ye=(Oe-He)/ge(this,$),nt=($e-He)/ge(this,_);this.scaleFactor=Math.min(Ye,nt)},_n=function(){const Oe=We(this,oe,mn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Oe,this.translationY*this.scaleFactor+Oe)},m=new WeakSet,Mr=function(Oe){const $e=new Path2D;for(let He=0,Ye=Oe.length;He<Ye;He++){const[nt,ot,st,Be]=Oe[He];He===0&&$e.moveTo(...nt),$e.bezierCurveTo(ot[0],ot[1],st[0],st[1],Be[0],Be[1])}return $e},Kn=function(Oe,$e,He){const[Ye,nt,ot,st]=$e;switch(He){case 0:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]+=Ye,Oe[Be+1]=st-Oe[Be+1];break;case 90:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=Oe[Be+1]+Ye,Oe[Be+1]=dt+nt}break;case 180:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]=ot-Oe[Be],Oe[Be+1]+=nt;break;case 270:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=ot-Oe[Be+1],Oe[Be+1]=st-dt}break;default:throw new Error("Invalid rotation")}return Oe},$r=function(Oe,$e,He){const[Ye,nt,ot,st]=$e;switch(He){case 0:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]-=Ye,Oe[Be+1]=st-Oe[Be+1];break;case 90:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=Oe[Be+1]-nt,Oe[Be+1]=dt-Ye}break;case 180:for(let Be=0,ct=Oe.length;Be<ct;Be+=2)Oe[Be]=ot-Oe[Be],Oe[Be+1]-=nt;break;case 270:for(let Be=0,ct=Oe.length;Be<ct;Be+=2){const dt=Oe[Be];Oe[Be]=st-Oe[Be+1],Oe[Be+1]=ot-dt}break;default:throw new Error("Invalid rotation")}return Oe},jr=function(Oe,$e,He,Ye){var ct,dt;const nt=[],ot=this.thickness/2,st=Oe*$e+ot,Be=Oe*He+ot;for(const xt of this.paths){const At=[],Ot=[];for(let _t=0,gt=xt.length;_t<gt;_t++){const[Tt,Rt,lt,Je]=xt[_t],et=Oe*Tt[0]+st,mt=Oe*Tt[1]+Be,jt=Oe*Rt[0]+st,$t=Oe*Rt[1]+Be,ke=Oe*lt[0]+st,it=Oe*lt[1]+Be,ht=Oe*Je[0]+st,yt=Oe*Je[1]+Be;_t===0&&(At.push(et,mt),Ot.push(et,mt)),At.push(jt,$t,ke,it,ht,yt),Ot.push(jt,$t),_t===gt-1&&Ot.push(ht,yt)}nt.push({bezier:We(ct=Ke,m,Kn).call(ct,At,Ye,this.rotation),points:We(dt=Ke,m,Kn).call(dt,Ot,Ye,this.rotation)})}return nt},Qn=function(){let Oe=1/0,$e=-1/0,He=1/0,Ye=-1/0;for(const nt of this.paths)for(const[ot,st,Be,ct]of nt){const dt=a.Util.bezierBoundingBox(...ot,...st,...Be,...ct);Oe=Math.min(Oe,dt[0]),He=Math.min(He,dt[1]),$e=Math.max($e,dt[2]),Ye=Math.max(Ye,dt[3])}return[Oe,He,$e,Ye]},mn=function(){return ge(this,j)?Math.ceil(this.thickness*this.parentScale):0},Xt=function(Oe=!1){if(this.isEmpty())return;if(!ge(this,j)){We(this,oe,Ut).call(this);return}const $e=We(this,oe,Qn).call(this),He=We(this,oe,mn).call(this);Ze(this,$,Math.max(c.AnnotationEditor.MIN_SIZE,$e[2]-$e[0])),Ze(this,_,Math.max(c.AnnotationEditor.MIN_SIZE,$e[3]-$e[1]));const Ye=Math.ceil(He+ge(this,$)*this.scaleFactor),nt=Math.ceil(He+ge(this,_)*this.scaleFactor),[ot,st]=this.parentDimensions;this.width=Ye/ot,this.height=nt/st,this.setAspectRatio(Ye,nt);const Be=this.translationX,ct=this.translationY;this.translationX=-$e[0],this.translationY=-$e[1],We(this,oe,Yt).call(this),We(this,oe,Ut).call(this),Ze(this,q,Ye),Ze(this,ee,nt),this.setDims(Ye,nt);const dt=Oe?He/this.scaleFactor/2:0;this.translate(Be-this.translationX-dt,ct-this.translationY-dt)},Qe(Ke,m),Lt(Ke,"_defaultColor",null),Lt(Ke,"_defaultOpacity",1),Lt(Ke,"_defaultThickness",1),Lt(Ke,"_type","ink");let re=Ke;i.InkEditor=re},(e,i,o)=>{var re,_,$,_e,ve,te,b,me,j,g,ne,nn,rn,gn,Jn,Rr,Ir,Zn,vn,Dr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var a=o(1),c=o(4),h=o(6),d=o(29);const ye=class ye extends c.AnnotationEditor{constructor(Re){super({...Re,name:"stampEditor"});Qe(this,ne);Qe(this,re,null);Qe(this,_,null);Qe(this,$,null);Qe(this,_e,null);Qe(this,ve,null);Qe(this,te,null);Qe(this,b,null);Qe(this,me,null);Qe(this,j,!1);Qe(this,g,!1);Ze(this,_e,Re.bitmapUrl),Ze(this,ve,Re.bitmapFile)}static initialize(Re){c.AnnotationEditor.initialize(Re)}static get supportedTypes(){const Re=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",Re.map(Ne=>`image/${Ne}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Re){return this.supportedTypes.includes(Re)}static paste(Re,Ne){Ne.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:Re.getAsFile()})}remove(){var Re,Ne;ge(this,_)&&(Ze(this,re,null),this._uiManager.imageManager.deleteId(ge(this,_)),(Re=ge(this,te))==null||Re.remove(),Ze(this,te,null),(Ne=ge(this,b))==null||Ne.disconnect(),Ze(this,b,null)),super.remove()}rebuild(){if(!this.parent){ge(this,_)&&We(this,ne,gn).call(this);return}super.rebuild(),this.div!==null&&(ge(this,_)&&We(this,ne,gn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(ge(this,$)||ge(this,re)||ge(this,_e)||ge(this,ve))}get isResizable(){return!0}render(){if(this.div)return this.div;let Re,Ne;if(this.width&&(Re=this.x,Ne=this.y),super.render(),this.div.hidden=!0,ge(this,re)?We(this,ne,Jn).call(this):We(this,ne,gn).call(this),this.width){const[Ce,Fe]=this.parentDimensions;this.setAt(Re*Ce,Ne*Fe,this.width*Ce,this.height*Fe)}return this.div}static deserialize(Re,Ne,Ce){if(Re instanceof d.StampAnnotationElement)return null;const Fe=super.deserialize(Re,Ne,Ce),{rect:we,bitmapUrl:xe,bitmapId:fe,isSvg:Ee,accessibilityData:ce}=Re;fe&&Ce.imageManager.isValidId(fe)?Ze(Fe,_,fe):Ze(Fe,_e,xe),Ze(Fe,j,Ee);const[de,be]=Fe.pageDimensions;return Fe.width=(we[2]-we[0])/de,Fe.height=(we[3]-we[1])/be,ce&&(Fe.altTextData=ce),Fe}serialize(Re=!1,Ne=null){if(this.isEmpty())return null;const Ce={annotationType:a.AnnotationEditorType.STAMP,bitmapId:ge(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:ge(this,j),structTreeParentId:this._structTreeParentId};if(Re)return Ce.bitmapUrl=We(this,ne,vn).call(this,!0),Ce.accessibilityData=this.altTextData,Ce;const{decorative:Fe,altText:we}=this.altTextData;if(!Fe&&we&&(Ce.accessibilityData={type:"Figure",alt:we}),Ne===null)return Ce;Ne.stamps||(Ne.stamps=new Map);const xe=ge(this,j)?(Ce.rect[2]-Ce.rect[0])*(Ce.rect[3]-Ce.rect[1]):null;if(!Ne.stamps.has(ge(this,_)))Ne.stamps.set(ge(this,_),{area:xe,serialized:Ce}),Ce.bitmap=We(this,ne,vn).call(this,!1);else if(ge(this,j)){const fe=Ne.stamps.get(ge(this,_));xe>fe.area&&(fe.area=xe,fe.serialized.bitmap.close(),fe.serialized.bitmap=We(this,ne,vn).call(this,!1))}return Ce}};re=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,ve=new WeakMap,te=new WeakMap,b=new WeakMap,me=new WeakMap,j=new WeakMap,g=new WeakMap,ne=new WeakSet,nn=function(Re,Ne=!1){if(!Re){this.remove();return}Ze(this,re,Re.bitmap),Ne||(Ze(this,_,Re.id),Ze(this,j,Re.isSvg)),We(this,ne,Jn).call(this)},rn=function(){Ze(this,$,null),this._uiManager.enableWaiting(!1),ge(this,te)&&this.div.focus()},gn=function(){if(ge(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(ge(this,_)).then(Ne=>We(this,ne,nn).call(this,Ne,!0)).finally(()=>We(this,ne,rn).call(this));return}if(ge(this,_e)){const Ne=ge(this,_e);Ze(this,_e,null),this._uiManager.enableWaiting(!0),Ze(this,$,this._uiManager.imageManager.getFromUrl(Ne).then(Ce=>We(this,ne,nn).call(this,Ce)).finally(()=>We(this,ne,rn).call(this)));return}if(ge(this,ve)){const Ne=ge(this,ve);Ze(this,ve,null),this._uiManager.enableWaiting(!0),Ze(this,$,this._uiManager.imageManager.getFromFile(Ne).then(Ce=>We(this,ne,nn).call(this,Ce)).finally(()=>We(this,ne,rn).call(this)));return}const Re=document.createElement("input");Re.type="file",Re.accept=ye.supportedTypesStr,Ze(this,$,new Promise(Ne=>{Re.addEventListener("change",async()=>{if(!Re.files||Re.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ce=await this._uiManager.imageManager.getFromFile(Re.files[0]);We(this,ne,nn).call(this,Ce)}Ne()}),Re.addEventListener("cancel",()=>{this.remove(),Ne()})}).finally(()=>We(this,ne,rn).call(this))),Re.click()},Jn=function(){const{div:Re}=this;let{width:Ne,height:Ce}=ge(this,re);const[Fe,we]=this.pageDimensions,xe=.75;if(this.width)Ne=this.width*Fe,Ce=this.height*we;else if(Ne>xe*Fe||Ce>xe*we){const de=Math.min(xe*Fe/Ne,xe*we/Ce);Ne*=de,Ce*=de}const[fe,Ee]=this.parentDimensions;this.setDims(Ne*fe/Fe,Ce*Ee/we),this._uiManager.enableWaiting(!1);const ce=Ze(this,te,document.createElement("canvas"));Re.append(ce),Re.hidden=!1,We(this,ne,Zn).call(this,Ne,Ce),We(this,ne,Dr).call(this),ge(this,g)||(this.parent.addUndoableEditor(this),Ze(this,g,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Rr=function(Re,Ne){var xe;const[Ce,Fe]=this.parentDimensions;this.width=Re/Ce,this.height=Ne/Fe,this.setDims(Re,Ne),(xe=this._initialOptions)!=null&&xe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,ge(this,me)!==null&&clearTimeout(ge(this,me)),Ze(this,me,setTimeout(()=>{Ze(this,me,null),We(this,ne,Zn).call(this,Re,Ne)},200))},Ir=function(Re,Ne){const{width:Ce,height:Fe}=ge(this,re);let we=Ce,xe=Fe,fe=ge(this,re);for(;we>2*Re||xe>2*Ne;){const Ee=we,ce=xe;we>2*Re&&(we=we>=16384?Math.floor(we/2)-1:Math.ceil(we/2)),xe>2*Ne&&(xe=xe>=16384?Math.floor(xe/2)-1:Math.ceil(xe/2));const de=new OffscreenCanvas(we,xe);de.getContext("2d").drawImage(fe,0,0,Ee,ce,0,0,we,xe),fe=de.transferToImageBitmap()}return fe},Zn=function(Re,Ne){Re=Math.ceil(Re),Ne=Math.ceil(Ne);const Ce=ge(this,te);if(!Ce||Ce.width===Re&&Ce.height===Ne)return;Ce.width=Re,Ce.height=Ne;const Fe=ge(this,j)?ge(this,re):We(this,ne,Ir).call(this,Re,Ne),we=Ce.getContext("2d");we.filter=this._uiManager.hcmFilter,we.drawImage(Fe,0,0,Fe.width,Fe.height,0,0,Re,Ne)},vn=function(Re){if(Re){if(ge(this,j)){const Fe=this._uiManager.imageManager.getSvgUrl(ge(this,_));if(Fe)return Fe}const Ne=document.createElement("canvas");return{width:Ne.width,height:Ne.height}=ge(this,re),Ne.getContext("2d").drawImage(ge(this,re),0,0),Ne.toDataURL()}if(ge(this,j)){const[Ne,Ce]=this.pageDimensions,Fe=Math.round(this.width*Ne*h.PixelsPerInch.PDF_TO_CSS_UNITS),we=Math.round(this.height*Ce*h.PixelsPerInch.PDF_TO_CSS_UNITS),xe=new OffscreenCanvas(Fe,we);return xe.getContext("2d").drawImage(ge(this,re),0,0,ge(this,re).width,ge(this,re).height,0,0,Fe,we),xe.transferToImageBitmap()}return structuredClone(ge(this,re))},Dr=function(){Ze(this,b,new ResizeObserver(Re=>{const Ne=Re[0].contentRect;Ne.width&&Ne.height&&We(this,ne,Rr).call(this,Ne.width,Ne.height)})),ge(this,b).observe(this.div)},Lt(ye,"_type","stamp");let f=ye;i.StampEditor=f}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return re.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.version}});var i=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),h=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),f=__w_pdfjs_require__(29),re=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,__createBinding$k=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$k=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$k=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$k(i,e,o);return __setModuleDefault$k(i,e),i};Object.defineProperty(pdfjs$1,"__esModule",{value:!0});const pdfjsModule=__importStar$k(pdfExports),pdfjs="default"in pdfjsModule?pdfjsModule.default:pdfjsModule;pdfjs$1.default=pdfjs;var Document$1={},cjs$3={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__spreadArray||function(a,c,h){if(h||arguments.length===2)for(var d=0,f=c.length,re;d<f;d++)(re||!(d in c))&&(re||(re=Array.prototype.slice.call(c,0,d)),re[d]=c[d]);return a.concat(re||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.allEvents=e.changeEvents=e.otherEvents=e.transitionEvents=e.animationEvents=e.wheelEvents=e.uiEvents=e.pointerEvents=e.touchEvents=e.selectionEvents=e.dragEvents=e.mouseEvents=e.mediaEvents=e.keyboardEvents=e.imageEvents=e.formEvents=e.focusEvents=e.compositionEvents=e.clipboardEvents=void 0,e.clipboardEvents=["onCopy","onCut","onPaste"],e.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],e.focusEvents=["onFocus","onBlur"],e.formEvents=["onInput","onInvalid","onReset","onSubmit"],e.imageEvents=["onLoad","onError"],e.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],e.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],e.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],e.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],e.selectionEvents=["onSelect"],e.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],e.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],e.uiEvents=["onScroll"],e.wheelEvents=["onWheel"],e.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],e.transitionEvents=["onTransitionEnd"],e.otherEvents=["onToggle"],e.changeEvents=["onChange"],e.allEvents=i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i(i([],e.clipboardEvents,!0),e.compositionEvents,!0),e.focusEvents,!0),e.formEvents,!0),e.imageEvents,!0),e.keyboardEvents,!0),e.mediaEvents,!0),e.mouseEvents,!0),e.dragEvents,!0),e.selectionEvents,!0),e.touchEvents,!0),e.pointerEvents,!0),e.uiEvents,!0),e.wheelEvents,!0),e.animationEvents,!0),e.transitionEvents,!0),e.changeEvents,!0),e.otherEvents,!0);function o(a,c){var h={};return e.allEvents.forEach(function(d){var f=a[d];f&&(c?h[d]=function(re){return f(re,c(d))}:h[d]=f)}),h}e.default=o})(cjs$3);var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});function makeCancellablePromise(e){var i=!1,o=new Promise(function(a,c){e.then(function(h){return!i&&a(h)}).catch(function(h){return!i&&c(h)})});return{promise:o,cancel:function(){i=!0}}}cjs$2.default=makeCancellablePromise;const require$$1=getAugmentedNamespace(clsx),require$$2=getAugmentedNamespace(tinyInvariant);var warning=function(){},warning_1$8=warning,dist={},has=Object.prototype.hasOwnProperty;function find(e,i,o){for(o of e.keys())if(dequal(o,i))return o}function dequal(e,i){var o,a,c;if(e===i)return!0;if(e&&i&&(o=e.constructor)===i.constructor){if(o===Date)return e.getTime()===i.getTime();if(o===RegExp)return e.toString()===i.toString();if(o===Array){if((a=e.length)===i.length)for(;a--&&dequal(e[a],i[a]););return a===-1}if(o===Set){if(e.size!==i.size)return!1;for(a of e)if(c=a,c&&typeof c=="object"&&(c=find(i,c),!c)||!i.has(c))return!1;return!0}if(o===Map){if(e.size!==i.size)return!1;for(a of e)if(c=a[0],c&&typeof c=="object"&&(c=find(i,c),!c)||!dequal(a[1],i.get(c)))return!1;return!0}if(o===ArrayBuffer)e=new Uint8Array(e),i=new Uint8Array(i);else if(o===DataView){if((a=e.byteLength)===i.byteLength)for(;a--&&e.getInt8(a)===i.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===i.byteLength)for(;a--&&e[a]===i[a];);return a===-1}if(!o||typeof e=="object"){a=0;for(o in e)if(has.call(e,o)&&++a&&!has.call(i,o)||!(o in i)||!dequal(e[o],i[o]))return!1;return Object.keys(i).length===a}}return e!==e&&i!==i}dist.dequal=dequal;var DocumentContext={};Object.defineProperty(DocumentContext,"__esModule",{value:!0});const react_1$n=reactExports;DocumentContext.default=(0,react_1$n.createContext)(null);var Message$1={},__importDefault$p=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Message$1,"__esModule",{value:!0});const react_1$m=__importDefault$p(reactExports);function Message({children:e,type:i}){return react_1$m.default.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}Message$1.default=Message;var LinkService$1={},__importDefault$o=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LinkService$1,"__esModule",{value:!0});const tiny_invariant_1$a=__importDefault$o(require$$2),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(i){(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(o=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),(0,tiny_invariant_1$a.default)(i,"Destination is not specified."),typeof i=="string"?this.pdfDocument.getDestination(i).then(o):Array.isArray(i)?o(i):i.then(o)}).then(o=>{(0,tiny_invariant_1$a.default)(Array.isArray(o),`"${o}" is not a valid destination array.`);const a=o[0];new Promise(c=>{(0,tiny_invariant_1$a.default)(this.pdfDocument,"PDF document not loaded."),a instanceof Object?this.pdfDocument.getPageIndex(a).then(h=>{c(h)}).catch(()=>{(0,tiny_invariant_1$a.default)(!1,`"${a}" is not a valid page reference.`)}):typeof a=="number"?c(a):(0,tiny_invariant_1$a.default)(!1,`"${a}" is not a valid destination reference.`)}).then(c=>{const h=c+1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(h>=1&&h<=this.pagesCount,`"${h}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:o,pageIndex:c,pageNumber:h})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const o=i-1;(0,tiny_invariant_1$a.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$a.default)(i>=1&&i<=this.pagesCount,`"${i}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:o,pageNumber:i})}addLinkAttributes(i,o,a){i.href=o,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}LinkService$1.default=LinkService;var PasswordResponses$1={};Object.defineProperty(PasswordResponses$1,"__esModule",{value:!0});const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};PasswordResponses$1.default=PasswordResponses;var utils={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(se){return se&&se.__esModule?se:{default:se}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadFromFile=e.isCancelException=e.makePageCallback=e.cancelRunningTask=e.displayWorkerWarning=e.displayCORSWarning=e.getDevicePixelRatio=e.dataURItoByteString=e.isDataURI=e.isBlob=e.isArrayBuffer=e.isString=e.isProvided=e.isDefined=e.isLocalFileSystem=e.isBrowser=void 0;const o=i(require$$2),a=i(warning_1$8);e.isBrowser=typeof document<"u",e.isLocalFileSystem=e.isBrowser&&window.location.protocol==="file:";function c(se){return typeof se<"u"}e.isDefined=c;function h(se){return c(se)&&se!==null}e.isProvided=h;function d(se){return typeof se=="string"}e.isString=d;function f(se){return se instanceof ArrayBuffer}e.isArrayBuffer=f;function re(se){return(0,o.default)(e.isBrowser,"isBlob can only be used in a browser environment"),se instanceof Blob}e.isBlob=re;function _(se){return d(se)&&/^data:/.test(se)}e.isDataURI=_;function $(se){(0,o.default)(_(se),"Invalid data URI.");const[q="",ee=""]=se.split(",");return q.split(";").indexOf("base64")!==-1?atob(ee):unescape(ee)}e.dataURItoByteString=$;function _e(){return e.isBrowser&&window.devicePixelRatio||1}e.getDevicePixelRatio=_e;const ve="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function te(){(0,a.default)(!e.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ve}`)}e.displayCORSWarning=te;function b(){(0,a.default)(!e.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ve}`)}e.displayWorkerWarning=b;function me(se){se&&se.cancel&&se.cancel()}e.cancelRunningTask=me;function j(se,q){return Object.defineProperty(se,"width",{get(){return this.view[2]*q},configurable:!0}),Object.defineProperty(se,"height",{get(){return this.view[3]*q},configurable:!0}),Object.defineProperty(se,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(se,"originalHeight",{get(){return this.view[3]},configurable:!0}),se}e.makePageCallback=j;function g(se){return se.name==="RenderingCancelledException"}e.isCancelException=g;function ne(se){return new Promise((q,ee)=>{const he=new FileReader;he.onload=()=>{if(!he.result)return ee(new Error("Error while reading a file."));q(he.result)},he.onerror=oe=>{if(!oe.target)return ee(new Error("Error while reading a file."));const{error:le}=oe.target;if(!le)return ee(new Error("Error while reading a file."));switch(le.code){case le.NOT_FOUND_ERR:return ee(new Error("Error while reading a file: File not found."));case le.SECURITY_ERR:return ee(new Error("Error while reading a file: Security error."));case le.ABORT_ERR:return ee(new Error("Error while reading a file: Aborted."));default:return ee(new Error("Error while reading a file."))}},he.readAsArrayBuffer(se)})}e.loadFromFile=ne})(utils);var useResolver$1={};Object.defineProperty(useResolver$1,"__esModule",{value:!0});const react_1$l=reactExports;function reducer(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return(0,react_1$l.useReducer)(reducer,{value:void 0,error:void 0})}useResolver$1.default=useResolver;var propTypes={},__importDefault$n=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(propTypes,"__esModule",{value:!0});propTypes.isRotate=propTypes.isRenderMode=propTypes.isRef=propTypes.isPdf=propTypes.isPageNumber=propTypes.isPageIndex=propTypes.isPage=propTypes.isLinkTarget=propTypes.isLinkService=propTypes.isFile=propTypes.isClassName=propTypes.eventProps=void 0;const prop_types_1$3=__importDefault$n(propTypesExports),make_event_props_1$3=cjs$3,pdfjs_js_1$6=__importDefault$n(pdfjs$1),utils_js_1$b=utils,LinkService_js_1$1=__importDefault$n(LinkService$1),{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs_js_1$6.default;propTypes.eventProps=(()=>{const e={};return make_event_props_1$3.allEvents.forEach(i=>{e[i]=prop_types_1$3.default.func}),e})();const isTypedArray=prop_types_1$3.default.oneOfType([prop_types_1$3.default.instanceOf(Int8Array),prop_types_1$3.default.instanceOf(Uint8Array),prop_types_1$3.default.instanceOf(Uint8ClampedArray),prop_types_1$3.default.instanceOf(Int16Array),prop_types_1$3.default.instanceOf(Uint16Array),prop_types_1$3.default.instanceOf(Int32Array),prop_types_1$3.default.instanceOf(Uint32Array),prop_types_1$3.default.instanceOf(Float32Array),prop_types_1$3.default.instanceOf(Float64Array)]),fileTypes=[prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.shape({data:prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.instanceOf(ArrayBuffer),prop_types_1$3.default.arrayOf(prop_types_1$3.default.number.isRequired),isTypedArray]).isRequired}),prop_types_1$3.default.shape({range:prop_types_1$3.default.instanceOf(PDFDataRangeTransport$1).isRequired}),prop_types_1$3.default.shape({url:prop_types_1$3.default.string.isRequired})];typeof Blob<"u"&&fileTypes.push(prop_types_1$3.default.instanceOf(Blob));propTypes.isClassName=prop_types_1$3.default.oneOfType([prop_types_1$3.default.string,prop_types_1$3.default.arrayOf(prop_types_1$3.default.string)]);propTypes.isFile=prop_types_1$3.default.oneOfType(fileTypes);propTypes.isLinkService=prop_types_1$3.default.instanceOf(LinkService_js_1$1.default);propTypes.isLinkTarget=prop_types_1$3.default.oneOf(["_self","_blank","_parent","_top"]);propTypes.isPage=prop_types_1$3.default.shape({commonObjs:prop_types_1$3.default.shape({}).isRequired,getAnnotations:prop_types_1$3.default.func.isRequired,getTextContent:prop_types_1$3.default.func.isRequired,getViewport:prop_types_1$3.default.func.isRequired,render:prop_types_1$3.default.func.isRequired});const isPageIndex=function e(i,o,a){const{[o]:c,pageNumber:h,pdf:d}=i;if(!(0,utils_js_1$b.isDefined)(d))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${o}\` of type \`${typeof c}\` supplied to \`${a}\`, expected \`number\`.`);if(c<0)return new Error(`Expected \`${o}\` to be greater or equal to 0.`);const{numPages:f}=d;if(c+1>f)return new Error(`Expected \`${o}\` to be less or equal to ${f-1}.`)}else if(!(0,utils_js_1$b.isDefined)(h))return new Error(`\`${o}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null};propTypes.isPageIndex=isPageIndex;const isPageNumber=function e(i,o,a){const{[o]:c,pageIndex:h,pdf:d}=i;if(!(0,utils_js_1$b.isDefined)(d))return null;if((0,utils_js_1$b.isDefined)(c)){if(typeof c!="number")return new Error(`\`${o}\` of type \`${typeof c}\` supplied to \`${a}\`, expected \`number\`.`);if(c<1)return new Error(`Expected \`${o}\` to be greater or equal to 1.`);const{numPages:f}=d;if(c>f)return new Error(`Expected \`${o}\` to be less or equal to ${f}.`)}else if(!(0,utils_js_1$b.isDefined)(h))return new Error(`\`${o}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null};propTypes.isPageNumber=isPageNumber;propTypes.isPdf=prop_types_1$3.default.oneOfType([prop_types_1$3.default.any,prop_types_1$3.default.oneOf([!1])]);propTypes.isRef=prop_types_1$3.default.oneOfType([prop_types_1$3.default.func,prop_types_1$3.default.exact({current:prop_types_1$3.default.any})]);propTypes.isRenderMode=prop_types_1$3.default.oneOf(["canvas","custom","none","svg"]);propTypes.isRotate=prop_types_1$3.default.oneOf([0,90,180,270]);var __createBinding$j=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$j=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$j=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$j(i,e,o);return __setModuleDefault$j(i,e),i},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,o,a){function c(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function f($){try{_(a.next($))}catch(_e){d(_e)}}function re($){try{_(a.throw($))}catch(_e){d(_e)}}function _($){$.done?h($.value):c($.value).then(f,re)}_((a=a.apply(e,i||[])).next())})},__rest$5=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Document$1,"__esModule",{value:!0});const react_1$k=__importStar$j(reactExports),prop_types_1$2=__importDefault$m(propTypesExports),make_event_props_1$2=__importDefault$m(cjs$3),make_cancellable_promise_1$6=__importDefault$m(cjs$2),clsx_1$5=__importDefault$m(require$$1),tiny_invariant_1$9=__importDefault$m(require$$2),warning_1$7=__importDefault$m(warning_1$8),dequal_1=dist,pdfjs_js_1$5=__importDefault$m(pdfjs$1),DocumentContext_js_1$1=__importDefault$m(DocumentContext),Message_js_1$1=__importDefault$m(Message$1),LinkService_js_1=__importDefault$m(LinkService$1),PasswordResponses_js_1$1=__importDefault$m(PasswordResponses$1),utils_js_1$a=utils,useResolver_js_1$6=__importDefault$m(useResolver$1),propTypes_js_1$2=propTypes,{PDFDataRangeTransport}=pdfjs_js_1$5.default,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses_js_1$1.default.NEED_PASSWORD:{const o=prompt("Enter the password to open this PDF file.");e(o);break}case PasswordResponses_js_1$1.default.INCORRECT_PASSWORD:{const o=prompt("Invalid password. Please try again.");e(o);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=(0,react_1$k.forwardRef)(function e(i,o){var{children:a,className:c,error:h="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:f,file:re,inputRef:_,imageResourcesPath:$,loading:_e="Loading PDF…",noData:ve="No PDF file specified.",onItemClick:te,onLoadError:b,onLoadProgress:me,onLoadSuccess:j,onPassword:g=defaultOnPassword,onSourceError:ne,onSourceSuccess:se,options:q,renderMode:ee,rotate:he}=i,oe=__rest$5(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[le,ie]=(0,useResolver_js_1$6.default)(),{value:Ae,error:ae}=le,[ye,Pe]=(0,useResolver_js_1$6.default)(),{value:Ie,error:Re}=ye,Ne=(0,react_1$k.useRef)(new LinkService_js_1.default),Ce=(0,react_1$k.useRef)([]),Fe=(0,react_1$k.useRef)(),we=(0,react_1$k.useRef)();(0,react_1$k.useEffect)(()=>{re&&re!==Fe.current&&isParameterObject(re)&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(re,Fe.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Fe.current=re)},[re]),(0,react_1$k.useEffect)(()=>{q&&q!==we.current&&((0,warning_1$7.default)(!(0,dequal_1.dequal)(q,we.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),we.current=q)},[q]);const xe=(0,react_1$k.useRef)({scrollPageIntoView:ze=>{const{dest:Ge,pageNumber:Oe,pageIndex:$e=Oe-1}=ze;if(te){te({dest:Ge,pageIndex:$e,pageNumber:Oe});return}const He=Ce.current[$e];if(He){He.scrollIntoView();return}(0,warning_1$7.default)(!1,`An internal link leading to page ${Oe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,react_1$k.useImperativeHandle)(o,()=>({linkService:Ne,pages:Ce,viewer:xe}),[]);function fe(){se&&se()}function Ee(){ae&&((0,warning_1$7.default)(!1,ae.toString()),ne&&ne(ae))}function ce(){ie({type:"RESET"})}(0,react_1$k.useEffect)(ce,[re,ie]);const de=(0,react_1$k.useCallback)(()=>__awaiter$2(this,void 0,void 0,function*(){if(!re)return null;if(typeof re=="string")return(0,utils_js_1$a.isDataURI)(re)?{data:(0,utils_js_1$a.dataURItoByteString)(re)}:((0,utils_js_1$a.displayCORSWarning)(),{url:re});if(re instanceof PDFDataRangeTransport)return{range:re};if((0,utils_js_1$a.isArrayBuffer)(re))return{data:re};if(utils_js_1$a.isBrowser&&(0,utils_js_1$a.isBlob)(re))return{data:yield(0,utils_js_1$a.loadFromFile)(re)};if((0,tiny_invariant_1$9.default)(typeof re=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,tiny_invariant_1$9.default)(isParameterObject(re),"Invalid parameter object: need either .data, .range or .url"),"url"in re&&typeof re.url=="string"){if((0,utils_js_1$a.isDataURI)(re.url)){const{url:ze}=re,Ge=__rest$5(re,["url"]),Oe=(0,utils_js_1$a.dataURItoByteString)(ze);return Object.assign({data:Oe},Ge)}(0,utils_js_1$a.displayCORSWarning)()}return re}),[re]);(0,react_1$k.useEffect)(()=>{const ze=(0,make_cancellable_promise_1$6.default)(de());return ze.promise.then(Ge=>{ie({type:"RESOLVE",value:Ge})}).catch(Ge=>{ie({type:"REJECT",error:Ge})}),()=>{(0,utils_js_1$a.cancelRunningTask)(ze)}},[de,ie]),(0,react_1$k.useEffect)(()=>{if(!(typeof Ae>"u")){if(Ae===!1){Ee();return}fe()}},[Ae]);function be(){Ie&&(j&&j(Ie),Ce.current=new Array(Ie.numPages),Ne.current.setDocument(Ie))}function ue(){Re&&((0,warning_1$7.default)(!1,Re.toString()),b&&b(Re))}function m(){Pe({type:"RESET"})}(0,react_1$k.useEffect)(m,[Pe,Ae]);function Se(){if(!Ae)return;const ze=Object.assign(Object.assign({},q),{isEvalSupported:!1}),Ge=Object.assign(Object.assign({},Ae),ze),Oe=pdfjs_js_1$5.default.getDocument(Ge);me&&(Oe.onProgress=me),g&&(Oe.onPassword=g);const $e=Oe;return $e.promise.then(He=>{Pe({type:"RESOLVE",value:He})}).catch(He=>{$e.destroyed||Pe({type:"REJECT",error:He})}),()=>{$e.destroy()}}(0,react_1$k.useEffect)(Se,[q,Pe,Ae]),(0,react_1$k.useEffect)(()=>{if(!(typeof Ie>"u")){if(Ie===!1){ue();return}be()}},[Ie]);function Te(){Ne.current.setViewer(xe.current),Ne.current.setExternalLinkRel(d),Ne.current.setExternalLinkTarget(f)}(0,react_1$k.useEffect)(Te,[d,f]);function Me(ze,Ge){Ce.current[ze]=Ge}function Le(ze){delete Ce.current[ze]}const Ue=(0,react_1$k.useMemo)(()=>({imageResourcesPath:$,linkService:Ne.current,onItemClick:te,pdf:Ie,registerPage:Me,renderMode:ee,rotate:he,unregisterPage:Le}),[$,te,Ie,ee,he]),Xe=(0,react_1$k.useMemo)(()=>(0,make_event_props_1$2.default)(oe,()=>Ie),[oe,Ie]);function Ve(){return react_1$k.default.createElement(DocumentContext_js_1$1.default.Provider,{value:Ue},a)}function Ke(){return re?Ie==null?react_1$k.default.createElement(Message_js_1$1.default,{type:"loading"},typeof _e=="function"?_e():_e):Ie===!1?react_1$k.default.createElement(Message_js_1$1.default,{type:"error"},typeof h=="function"?h():h):Ve():react_1$k.default.createElement(Message_js_1$1.default,{type:"no-data"},typeof ve=="function"?ve():ve)}return react_1$k.default.createElement("div",Object.assign({className:(0,clsx_1$5.default)("react-pdf__Document",c),ref:_,style:{"--scale-factor":"1"}},Xe),Ke())}),isFunctionOrNode$1=prop_types_1$2.default.oneOfType([prop_types_1$2.default.func,prop_types_1$2.default.node]);Document.propTypes=Object.assign(Object.assign({},propTypes_js_1$2.eventProps),{children:prop_types_1$2.default.node,className:propTypes_js_1$2.isClassName,error:isFunctionOrNode$1,externalLinkRel:prop_types_1$2.default.string,externalLinkTarget:prop_types_1$2.default.oneOf(["_self","_blank","_parent","_top"]),file:propTypes_js_1$2.isFile,imageResourcesPath:prop_types_1$2.default.string,inputRef:propTypes_js_1$2.isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:prop_types_1$2.default.func,onLoadError:prop_types_1$2.default.func,onLoadProgress:prop_types_1$2.default.func,onLoadSuccess:prop_types_1$2.default.func,onPassword:prop_types_1$2.default.func,onSourceError:prop_types_1$2.default.func,onSourceSuccess:prop_types_1$2.default.func,options:prop_types_1$2.default.shape({canvasFactory:prop_types_1$2.default.any,canvasMaxAreaInBytes:prop_types_1$2.default.number,cMapPacked:prop_types_1$2.default.bool,CMapReaderFactory:prop_types_1$2.default.any,cMapUrl:prop_types_1$2.default.string,disableAutoFetch:prop_types_1$2.default.bool,disableFontFace:prop_types_1$2.default.bool,disableRange:prop_types_1$2.default.bool,disableStream:prop_types_1$2.default.bool,docBaseUrl:prop_types_1$2.default.string,enableXfa:prop_types_1$2.default.bool,filterFactory:prop_types_1$2.default.any,fontExtraProperties:prop_types_1$2.default.bool,httpHeaders:prop_types_1$2.default.object,isEvalSupported:prop_types_1$2.default.bool,isOffscreenCanvasSupported:prop_types_1$2.default.bool,length:prop_types_1$2.default.number,maxImageSize:prop_types_1$2.default.number,ownerDocument:prop_types_1$2.default.any,password:prop_types_1$2.default.string,pdfBug:prop_types_1$2.default.bool,rangeChunkSize:prop_types_1$2.default.number,StandardFontDataFactory:prop_types_1$2.default.any,standardFontDataUrl:prop_types_1$2.default.string,stopAtErrors:prop_types_1$2.default.bool,useSystemFonts:prop_types_1$2.default.bool,useWorkerFetch:prop_types_1$2.default.bool,verbosity:prop_types_1$2.default.number,withCredentials:prop_types_1$2.default.bool,worker:prop_types_1$2.default.any}),rotate:prop_types_1$2.default.number});Document$1.default=Document;var Outline$1={},OutlineContext={};Object.defineProperty(OutlineContext,"__esModule",{value:!0});const react_1$j=reactExports;OutlineContext.default=(0,react_1$j.createContext)(null);var OutlineItem$1={},Ref$1={};Object.defineProperty(Ref$1,"__esModule",{value:!0});class Ref{constructor({num:i,gen:o}){this.num=i,this.gen=o}toString(){let i=`${this.num}R`;return this.gen!==0&&(i+=this.gen),i}}Ref$1.default=Ref;var useCachedValue$1={};Object.defineProperty(useCachedValue$1,"__esModule",{value:!0});const react_1$i=reactExports,utils_js_1$9=utils;function useCachedValue(e){const i=(0,react_1$i.useRef)(),o=i.current;return(0,utils_js_1$9.isDefined)(o)?()=>o:()=>{const a=e();return i.current=a,a}}useCachedValue$1.default=useCachedValue;var useDocumentContext$1={},__importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useDocumentContext$1,"__esModule",{value:!0});const react_1$h=reactExports,DocumentContext_js_1=__importDefault$l(DocumentContext);function useDocumentContext(){return(0,react_1$h.useContext)(DocumentContext_js_1.default)}useDocumentContext$1.default=useDocumentContext;var useOutlineContext$1={},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(useOutlineContext$1,"__esModule",{value:!0});const react_1$g=reactExports,OutlineContext_js_1$1=__importDefault$k(OutlineContext);function useOutlineContext(){return(0,react_1$g.useContext)(OutlineContext_js_1$1.default)}useOutlineContext$1.default=useOutlineContext;var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,o,a){function c(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function f($){try{_(a.next($))}catch(_e){d(_e)}}function re($){try{_(a.throw($))}catch(_e){d(_e)}}function _($){$.done?h($.value):c($.value).then(f,re)}_((a=a.apply(e,i||[])).next())})},__rest$4=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OutlineItem$1,"__esModule",{value:!0});const react_1$f=__importDefault$j(reactExports),tiny_invariant_1$8=__importDefault$j(require$$2),Ref_js_1=__importDefault$j(Ref$1),useCachedValue_js_1=__importDefault$j(useCachedValue$1),useDocumentContext_js_1$5=__importDefault$j(useDocumentContext$1),useOutlineContext_js_1$1=__importDefault$j(useOutlineContext$1);function OutlineItem(e){const i=(0,useDocumentContext_js_1$5.default)(),o=(0,useOutlineContext_js_1$1.default)();(0,tiny_invariant_1$8.default)(o,"Unable to find Outline context.");const a=Object.assign(Object.assign(Object.assign({},i),o),e),{item:c,linkService:h,onItemClick:d,pdf:f}=a,re=__rest$4(a,["item","linkService","onItemClick","pdf"]);(0,tiny_invariant_1$8.default)(f,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const _=(0,useCachedValue_js_1.default)(()=>typeof c.dest=="string"?f.getDestination(c.dest):c.dest),$=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){const b=yield _();if(!b)throw new Error("Destination not found.");const[me]=b;return f.getPageIndex(new Ref_js_1.default(me))})),_e=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){return(yield $())+1}));function ve(b){b.preventDefault(),(0,tiny_invariant_1$8.default)(d||h,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),d?Promise.all([_(),$(),_e()]).then(([me,j,g])=>{d({dest:me,pageIndex:j,pageNumber:g})}):h&&h.goToDestination(c.dest)}function te(){if(!c.items||!c.items.length)return null;const{items:b}=c;return react_1$f.default.createElement("ul",null,b.map((me,j)=>react_1$f.default.createElement(OutlineItem,Object.assign({key:typeof me.dest=="string"?me.dest:j,item:me,pdf:f},re))))}return react_1$f.default.createElement("li",null,react_1$f.default.createElement("a",{href:"#",onClick:ve},c.title),te())}OutlineItem$1.default=OutlineItem;var __createBinding$i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$i=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$i=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$i(i,e,o);return __setModuleDefault$i(i,e),i},__rest$3=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Outline$1,"__esModule",{value:!0});const react_1$e=__importStar$i(reactExports),prop_types_1$1=__importDefault$i(propTypesExports),make_cancellable_promise_1$5=__importDefault$i(cjs$2),make_event_props_1$1=__importDefault$i(cjs$3),clsx_1$4=__importDefault$i(require$$1),tiny_invariant_1$7=__importDefault$i(require$$2),warning_1$6=__importDefault$i(warning_1$8),OutlineContext_js_1=__importDefault$i(OutlineContext),OutlineItem_js_1=__importDefault$i(OutlineItem$1),utils_js_1$8=utils,useDocumentContext_js_1$4=__importDefault$i(useDocumentContext$1),useResolver_js_1$5=__importDefault$i(useResolver$1),propTypes_js_1$1=propTypes,Outline=function e(i){const o=(0,useDocumentContext_js_1$4.default)(),a=Object.assign(Object.assign({},o),i),{className:c,inputRef:h,onItemClick:d,onLoadError:f,onLoadSuccess:re,pdf:_}=a,$=__rest$3(a,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,tiny_invariant_1$7.default)(_,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[_e,ve]=(0,useResolver_js_1$5.default)(),{value:te,error:b}=_e;function me(){typeof te>"u"||te===!1||re&&re(te)}function j(){b&&((0,warning_1$6.default)(!1,b.toString()),f&&f(b))}function g(){ve({type:"RESET"})}(0,react_1$e.useEffect)(g,[ve,_]);function ne(){if(!_)return;const he=(0,make_cancellable_promise_1$5.default)(_.getOutline()),oe=he;return he.promise.then(le=>{ve({type:"RESOLVE",value:le})}).catch(le=>{ve({type:"REJECT",error:le})}),()=>(0,utils_js_1$8.cancelRunningTask)(oe)}(0,react_1$e.useEffect)(ne,[ve,_]),(0,react_1$e.useEffect)(()=>{if(te!==void 0){if(te===!1){j();return}me()}},[te]);const se=(0,react_1$e.useMemo)(()=>({onItemClick:d}),[d]),q=(0,react_1$e.useMemo)(()=>(0,make_event_props_1$1.default)($,()=>te),[$,te]);if(!te)return null;function ee(){return te?react_1$e.default.createElement("ul",null,te.map((he,oe)=>react_1$e.default.createElement(OutlineItem_js_1.default,{key:typeof he.dest=="string"?he.dest:oe,item:he,pdf:_}))):null}return react_1$e.default.createElement("div",Object.assign({className:(0,clsx_1$4.default)("react-pdf__Outline",c),ref:h},q),react_1$e.default.createElement(OutlineContext_js_1.default.Provider,{value:se},ee()))};Outline.propTypes=Object.assign(Object.assign({},propTypes_js_1$1.eventProps),{className:propTypes_js_1$1.isClassName,inputRef:propTypes_js_1$1.isRef,onItemClick:prop_types_1$1.default.func,onLoadError:prop_types_1$1.default.func,onLoadSuccess:prop_types_1$1.default.func,pdf:propTypes_js_1$1.isPdf});Outline$1.default=Outline;var Page$1={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=e.filter(Boolean);if(o.length<=1){var a=o[0];return a||null}return function(h){o.forEach(function(d){typeof d=="function"?d(h):d&&(d.current=h)})}}cjs$1.default=mergeRefs;var PageContext={};Object.defineProperty(PageContext,"__esModule",{value:!0});const react_1$d=reactExports;PageContext.default=(0,react_1$d.createContext)(null);var PageCanvas$1={},StructTree$1={},StructTreeItem$1={},structTreeUtils={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.HEADING_PATTERN=constants.PDF_ROLE_TO_HTML_ROLE=void 0;constants.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};constants.HEADING_PATTERN=/^H(\d+)$/;Object.defineProperty(structTreeUtils,"__esModule",{value:!0});structTreeUtils.getAttributes=structTreeUtils.getBaseAttributes=structTreeUtils.getRoleAttributes=structTreeUtils.isStructTreeNodeWithOnlyContentChild=structTreeUtils.isStructTreeNode=structTreeUtils.isPdfRole=void 0;const constants_js_1=constants;function isPdfRole(e){return e in constants_js_1.PDF_ROLE_TO_HTML_ROLE}structTreeUtils.isPdfRole=isPdfRole;function isStructTreeNode(e){return"children"in e}structTreeUtils.isStructTreeNode=isStructTreeNode;function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}structTreeUtils.isStructTreeNodeWithOnlyContentChild=isStructTreeNodeWithOnlyContentChild;function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:o}=e,a=o.match(constants_js_1.HEADING_PATTERN);if(a)i.role="heading",i["aria-level"]=Number(a[1]);else if(isPdfRole(o)){const c=constants_js_1.PDF_ROLE_TO_HTML_ROLE[o];c&&(i.role=c)}}return i}structTreeUtils.getRoleAttributes=getRoleAttributes;function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[o]=e.children;if(o){const a=getBaseAttributes(o);return Object.assign(Object.assign({},i),a)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}structTreeUtils.getBaseAttributes=getBaseAttributes;function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}structTreeUtils.getAttributes=getAttributes;var __createBinding$h=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$h=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$h=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$h(i,e,o);return __setModuleDefault$h(i,e),i};Object.defineProperty(StructTreeItem$1,"__esModule",{value:!0});const react_1$c=__importStar$h(reactExports),structTreeUtils_js_1=structTreeUtils;function StructTreeItem({className:e,node:i}){const o=(0,react_1$c.useMemo)(()=>(0,structTreeUtils_js_1.getAttributes)(i),[i]),a=(0,react_1$c.useMemo)(()=>!(0,structTreeUtils_js_1.isStructTreeNode)(i)||(0,structTreeUtils_js_1.isStructTreeNodeWithOnlyContentChild)(i)?null:i.children.map((c,h)=>react_1$c.default.createElement(StructTreeItem,{key:h,node:c})),[i]);return react_1$c.default.createElement("span",Object.assign({className:e},o),a)}StructTreeItem$1.default=StructTreeItem;var usePageContext$1={},__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(usePageContext$1,"__esModule",{value:!0});const react_1$b=reactExports,PageContext_js_1$1=__importDefault$h(PageContext);function usePageContext(){return(0,react_1$b.useContext)(PageContext_js_1$1.default)}usePageContext$1.default=usePageContext;var __createBinding$g=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$g=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$g=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$g(i,e,o);return __setModuleDefault$g(i,e),i},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(StructTree$1,"__esModule",{value:!0});const react_1$a=__importStar$g(reactExports),make_cancellable_promise_1$4=__importDefault$g(cjs$2),tiny_invariant_1$6=__importDefault$g(require$$2),warning_1$5=__importDefault$g(warning_1$8),StructTreeItem_js_1=__importDefault$g(StructTreeItem$1),usePageContext_js_1$5=__importDefault$g(usePageContext$1),useResolver_js_1$4=__importDefault$g(useResolver$1),utils_js_1$7=utils;function StructTree(){const e=(0,usePageContext_js_1$5.default)();(0,tiny_invariant_1$6.default)(e,"Unable to find Page context.");const{onGetStructTreeError:i,onGetStructTreeSuccess:o}=e,[a,c]=(0,useResolver_js_1$4.default)(),{value:h,error:d}=a,{customTextRenderer:f,page:re}=e;function _(){h&&o&&o(h)}function $(){d&&((0,warning_1$5.default)(!1,d.toString()),i&&i(d))}function _e(){c({type:"RESET"})}(0,react_1$a.useEffect)(_e,[c,re]);function ve(){if(f||!re)return;const te=(0,make_cancellable_promise_1$4.default)(re.getStructTree()),b=te;return te.promise.then(me=>{c({type:"RESOLVE",value:me})}).catch(me=>{c({type:"REJECT",error:me})}),()=>(0,utils_js_1$7.cancelRunningTask)(b)}return(0,react_1$a.useEffect)(ve,[f,re,c]),(0,react_1$a.useEffect)(()=>{if(h!==void 0){if(h===!1){$();return}_()}},[h]),h?react_1$a.default.createElement(StructTreeItem_js_1.default,{className:"react-pdf__Page__structTree structTree",node:h}):null}StructTree$1.default=StructTree;var __createBinding$f=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$f=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$f=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$f(i,e,o);return __setModuleDefault$f(i,e),i},__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageCanvas$1,"__esModule",{value:!0});const react_1$9=__importStar$f(reactExports),merge_refs_1$1=__importDefault$f(cjs$1),tiny_invariant_1$5=__importDefault$f(require$$2),warning_1$4=__importDefault$f(warning_1$8),pdfjs_js_1$4=__importDefault$f(pdfjs$1),StructTree_js_1=__importDefault$f(StructTree$1),usePageContext_js_1$4=__importDefault$f(usePageContext$1),utils_js_1$6=utils,ANNOTATION_MODE=pdfjs_js_1$4.default.AnnotationMode;function PageCanvas(e){const i=(0,usePageContext_js_1$4.default)();(0,tiny_invariant_1$5.default)(i,"Unable to find Page context.");const o=Object.assign(Object.assign({},i),e),{_className:a,canvasBackground:c,devicePixelRatio:h=(0,utils_js_1$6.getDevicePixelRatio)(),onRenderError:d,onRenderSuccess:f,page:re,renderForms:_,renderTextLayer:$,rotate:_e,scale:ve}=o,{canvasRef:te}=e;(0,tiny_invariant_1$5.default)(re,"Attempted to render page canvas, but no page was specified.");const b=(0,react_1$9.useRef)(null);function me(){re&&f&&f((0,utils_js_1$6.makePageCallback)(re,ve))}function j(ee){(0,utils_js_1$6.isCancelException)(ee)||((0,warning_1$4.default)(!1,ee.toString()),d&&d(ee))}const g=(0,react_1$9.useMemo)(()=>re.getViewport({scale:ve*h,rotation:_e}),[h,re,_e,ve]),ne=(0,react_1$9.useMemo)(()=>re.getViewport({scale:ve,rotation:_e}),[re,_e,ve]);function se(){if(!re)return;re.cleanup();const{current:ee}=b;if(!ee)return;ee.width=g.width,ee.height=g.height,ee.style.width=`${Math.floor(ne.width)}px`,ee.style.height=`${Math.floor(ne.height)}px`,ee.style.visibility="hidden";const he={annotationMode:_?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ee.getContext("2d",{alpha:!1}),viewport:g};c&&(he.background=c);const oe=re.render(he),le=oe;return oe.promise.then(()=>{ee.style.visibility="",me()}).catch(j),()=>(0,utils_js_1$6.cancelRunningTask)(le)}(0,react_1$9.useEffect)(se,[c,b,h,re,_,g,ne]);const q=(0,react_1$9.useCallback)(()=>{const{current:ee}=b;ee&&(ee.width=0,ee.height=0)},[b]);return(0,react_1$9.useEffect)(()=>q,[q]),react_1$9.default.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:(0,merge_refs_1$1.default)(te,b),style:{display:"block",userSelect:"none"}},$?react_1$9.default.createElement(StructTree_js_1.default,null):null)}PageCanvas$1.default=PageCanvas;var PageSVG$1={},__createBinding$e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$e=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$e(i,e,o);return __setModuleDefault$e(i,e),i},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PageSVG$1,"__esModule",{value:!0});const react_1$8=__importStar$e(reactExports),make_cancellable_promise_1$3=__importDefault$e(cjs$2),tiny_invariant_1$4=__importDefault$e(require$$2),warning_1$3=__importDefault$e(warning_1$8),pdfjs_js_1$3=__importDefault$e(pdfjs$1),usePageContext_js_1$3=__importDefault$e(usePageContext$1),useResolver_js_1$3=__importDefault$e(useResolver$1),utils_js_1$5=utils;function PageSVG(){const e=(0,usePageContext_js_1$3.default)();(0,tiny_invariant_1$4.default)(e,"Unable to find Page context.");const{_className:i,onRenderSuccess:o,onRenderError:a,page:c,rotate:h,scale:d}=e;(0,tiny_invariant_1$4.default)(c,"Attempted to render page SVG, but no page was specified.");const[f,re]=(0,useResolver_js_1$3.default)(),{value:_,error:$}=f;function _e(){c&&o&&o((0,utils_js_1$5.makePageCallback)(c,d))}function ve(){$&&((0,utils_js_1$5.isCancelException)($)||((0,warning_1$3.default)(!1,$.toString()),a&&a($)))}const te=(0,react_1$8.useMemo)(()=>c.getViewport({scale:d,rotation:h}),[c,h,d]);function b(){re({type:"RESET"})}(0,react_1$8.useEffect)(b,[c,re,te]);function me(){if(!c)return;const se=(0,make_cancellable_promise_1$3.default)(c.getOperatorList());return se.promise.then(q=>{new pdfjs_js_1$3.default.SVGGraphics(c.commonObjs,c.objs).getSVG(q,te).then(he=>{if(!(he instanceof SVGElement))throw new Error("getSVG returned unexpected result.");re({type:"RESOLVE",value:he})}).catch(he=>{re({type:"REJECT",error:he})})}).catch(q=>{re({type:"REJECT",error:q})}),()=>(0,utils_js_1$5.cancelRunningTask)(se)}(0,react_1$8.useEffect)(me,[c,re,te]),(0,react_1$8.useEffect)(()=>{if(_!==void 0){if(_===!1){ve();return}_e()}},[_]);function j(se){if(!se||!_)return;se.firstElementChild||se.appendChild(_);const{width:q,height:ee}=te;_.setAttribute("width",`${q}`),_.setAttribute("height",`${ee}`)}const{width:g,height:ne}=te;return react_1$8.default.createElement("div",{className:`${i}__svg`,ref:se=>j(se),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:g,height:ne,userSelect:"none"}})}PageSVG$1.default=PageSVG;var TextLayer$1={},__createBinding$d=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$d=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$d(i,e,o);return __setModuleDefault$d(i,e),i},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TextLayer$1,"__esModule",{value:!0});const react_1$7=__importStar$d(reactExports),make_cancellable_promise_1$2=__importDefault$d(cjs$2),clsx_1$3=__importDefault$d(require$$1),tiny_invariant_1$3=__importDefault$d(require$$2),warning_1$2=__importDefault$d(warning_1$8),pdfjs_js_1$2=__importDefault$d(pdfjs$1),usePageContext_js_1$2=__importDefault$d(usePageContext$1),useResolver_js_1$2=__importDefault$d(useResolver$1),utils_js_1$4=utils;function isTextItem(e){return"str"in e}function TextLayer(){const e=(0,usePageContext_js_1$2.default)();(0,tiny_invariant_1$3.default)(e,"Unable to find Page context.");const{customTextRenderer:i,onGetTextError:o,onGetTextSuccess:a,onRenderTextLayerError:c,onRenderTextLayerSuccess:h,page:d,pageIndex:f,pageNumber:re,rotate:_,scale:$}=e;(0,tiny_invariant_1$3.default)(d,"Attempted to load page text content, but no page was specified.");const[_e,ve]=(0,useResolver_js_1$2.default)(),{value:te,error:b}=_e,me=(0,react_1$7.useRef)(null),j=(0,react_1$7.useRef)();(0,warning_1$2.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function g(){te&&a&&a(te)}function ne(){b&&((0,warning_1$2.default)(!1,b.toString()),o&&o(b))}function se(){ve({type:"RESET"})}(0,react_1$7.useEffect)(se,[d,ve]);function q(){if(!d)return;const ae=(0,make_cancellable_promise_1$2.default)(d.getTextContent()),ye=ae;return ae.promise.then(Pe=>{ve({type:"RESOLVE",value:Pe})}).catch(Pe=>{ve({type:"REJECT",error:Pe})}),()=>(0,utils_js_1$4.cancelRunningTask)(ye)}(0,react_1$7.useEffect)(q,[d,ve]),(0,react_1$7.useEffect)(()=>{if(te!==void 0){if(te===!1){ne();return}g()}},[te]);const ee=(0,react_1$7.useCallback)(()=>{h&&h()},[h]),he=(0,react_1$7.useCallback)(ae=>{(0,warning_1$2.default)(!1,ae.toString()),c&&c(ae)},[c]);function oe(){const ae=j.current;ae&&ae.classList.add("active")}function le(){const ae=j.current;ae&&ae.classList.remove("active")}const ie=(0,react_1$7.useMemo)(()=>d.getViewport({scale:$,rotation:_}),[d,_,$]);function Ae(){if(!d||!te)return;const{current:ae}=me;if(!ae)return;ae.innerHTML="";const ye=d.streamTextContent({includeMarkedContent:!0}),Pe={container:ae,textContentSource:ye,viewport:ie},Ie=pdfjs_js_1$2.default.renderTextLayer(Pe),Re=Ie;return Ie.promise.then(()=>{const Ne=document.createElement("div");Ne.className="endOfContent",ae.append(Ne),j.current=Ne;const Ce=ae.querySelectorAll('[role="presentation"]');if(i){let Fe=0;te.items.forEach((we,xe)=>{if(!isTextItem(we))return;const fe=Ce[Fe];if(!fe)return;const Ee=i(Object.assign({pageIndex:f,pageNumber:re,itemIndex:xe},we));fe.innerHTML=Ee,Fe+=we.str&&we.hasEOL?2:1})}ee()}).catch(he),()=>(0,utils_js_1$4.cancelRunningTask)(Re)}return(0,react_1$7.useLayoutEffect)(Ae,[i,he,ee,d,f,re,te,ie]),react_1$7.default.createElement("div",{className:(0,clsx_1$3.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:le,onMouseDown:oe,ref:me})}TextLayer$1.default=TextLayer;var AnnotationLayer$1={},__createBinding$c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$c=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$c(i,e,o);return __setModuleDefault$c(i,e),i},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AnnotationLayer$1,"__esModule",{value:!0});const react_1$6=__importStar$c(reactExports),make_cancellable_promise_1$1=__importDefault$c(cjs$2),clsx_1$2=__importDefault$c(require$$1),tiny_invariant_1$2=__importDefault$c(require$$2),warning_1$1=__importDefault$c(warning_1$8),pdfjs_js_1$1=__importDefault$c(pdfjs$1),useDocumentContext_js_1$3=__importDefault$c(useDocumentContext$1),usePageContext_js_1$1=__importDefault$c(usePageContext$1),useResolver_js_1$1=__importDefault$c(useResolver$1),utils_js_1$3=utils;function AnnotationLayer(){const e=(0,useDocumentContext_js_1$3.default)(),i=(0,usePageContext_js_1$1.default)();(0,tiny_invariant_1$2.default)(i,"Unable to find Page context.");const o=Object.assign(Object.assign({},e),i),{imageResourcesPath:a,linkService:c,onGetAnnotationsError:h,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:f,onRenderAnnotationLayerSuccess:re,page:_,pdf:$,renderForms:_e,rotate:ve,scale:te=1}=o;(0,tiny_invariant_1$2.default)($,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,tiny_invariant_1$2.default)(_,"Attempted to load page annotations, but no page was specified."),(0,tiny_invariant_1$2.default)(c,"Attempted to load page annotations, but no linkService was specified.");const[b,me]=(0,useResolver_js_1$1.default)(),{value:j,error:g}=b,ne=(0,react_1$6.useRef)(null);(0,warning_1$1.default)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function se(){j&&d&&d(j)}function q(){g&&((0,warning_1$1.default)(!1,g.toString()),h&&h(g))}function ee(){me({type:"RESET"})}(0,react_1$6.useEffect)(ee,[me,_]);function he(){if(!_)return;const ae=(0,make_cancellable_promise_1$1.default)(_.getAnnotations()),ye=ae;return ae.promise.then(Pe=>{me({type:"RESOLVE",value:Pe})}).catch(Pe=>{me({type:"REJECT",error:Pe})}),()=>{(0,utils_js_1$3.cancelRunningTask)(ye)}}(0,react_1$6.useEffect)(he,[me,_,_e]),(0,react_1$6.useEffect)(()=>{if(j!==void 0){if(j===!1){q();return}se()}},[j]);function oe(){re&&re()}function le(ae){(0,warning_1$1.default)(!1,`${ae}`),f&&f(ae)}const ie=(0,react_1$6.useMemo)(()=>_.getViewport({scale:te,rotation:ve}),[_,ve,te]);function Ae(){if(!$||!_||!c||!j)return;const{current:ae}=ne;if(!ae)return;const ye=ie.clone({dontFlip:!0}),Pe={accessibilityManager:null,annotationCanvasMap:null,div:ae,l10n:null,page:_,viewport:ye},Ie={annotations:j,annotationStorage:$.annotationStorage,div:ae,downloadManager:null,imageResourcesPath:a,linkService:c,page:_,renderForms:_e,viewport:ye};ae.innerHTML="";try{new pdfjs_js_1$1.default.AnnotationLayer(Pe).render(Ie),oe()}catch(Re){le(Re)}return()=>{}}return(0,react_1$6.useEffect)(Ae,[j,a,c,_,_e,ie]),react_1$6.default.createElement("div",{className:(0,clsx_1$2.default)("react-pdf__Page__annotations","annotationLayer"),ref:ne})}AnnotationLayer$1.default=AnnotationLayer;var __createBinding$b=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$b=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$b=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$b(i,e,o);return __setModuleDefault$b(i,e),i},__rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Page$1,"__esModule",{value:!0});const react_1$5=__importStar$b(reactExports),prop_types_1=__importDefault$b(propTypesExports),make_cancellable_promise_1=__importDefault$b(cjs$2),make_event_props_1=__importDefault$b(cjs$3),clsx_1$1=__importDefault$b(require$$1),merge_refs_1=__importDefault$b(cjs$1),tiny_invariant_1$1=__importDefault$b(require$$2),warning_1=__importDefault$b(warning_1$8),PageContext_js_1=__importDefault$b(PageContext),Message_js_1=__importDefault$b(Message$1),PageCanvas_js_1=__importDefault$b(PageCanvas$1),PageSVG_js_1=__importDefault$b(PageSVG$1),TextLayer_js_1=__importDefault$b(TextLayer$1),AnnotationLayer_js_1=__importDefault$b(AnnotationLayer$1),utils_js_1$2=utils,useDocumentContext_js_1$2=__importDefault$b(useDocumentContext$1),useResolver_js_1=__importDefault$b(useResolver$1),propTypes_js_1=propTypes,defaultScale=1,Page=function e(i){const o=(0,useDocumentContext_js_1$2.default)(),a=Object.assign(Object.assign({},o),i),{_className:c="react-pdf__Page",_enableRegisterUnregisterPage:h=!0,canvasBackground:d,canvasRef:f,children:re,className:_,customRenderer:$,customTextRenderer:_e,devicePixelRatio:ve,error:te="Failed to load the page.",height:b,inputRef:me,loading:j="Loading page…",noData:g="No page specified.",onGetAnnotationsError:ne,onGetAnnotationsSuccess:se,onGetStructTreeError:q,onGetStructTreeSuccess:ee,onGetTextError:he,onGetTextSuccess:oe,onLoadError:le,onLoadSuccess:ie,onRenderAnnotationLayerError:Ae,onRenderAnnotationLayerSuccess:ae,onRenderError:ye,onRenderSuccess:Pe,onRenderTextLayerError:Ie,onRenderTextLayerSuccess:Re,pageIndex:Ne,pageNumber:Ce,pdf:Fe,registerPage:we,renderAnnotationLayer:xe=!0,renderForms:fe=!1,renderMode:Ee="canvas",renderTextLayer:ce=!0,rotate:de,scale:be=defaultScale,unregisterPage:ue,width:m}=a,Se=__rest$2(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Te,Me]=(0,useResolver_js_1.default)(),{value:Le,error:Ue}=Te,Xe=(0,react_1$5.useRef)(null);(0,tiny_invariant_1$1.default)(Fe,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Ve=(0,utils_js_1$2.isProvided)(Ce)?Ce-1:Ne??null,Ke=Ce??((0,utils_js_1$2.isProvided)(Ne)?Ne+1:null),ze=de??(Le?Le.rotate:null),Ge=(0,react_1$5.useMemo)(()=>{if(!Le)return null;let gt=1;const Tt=be??defaultScale;if(m||b){const Rt=Le.getViewport({scale:1,rotation:ze});m?gt=m/Rt.width:b&&(gt=b/Rt.height)}return Tt*gt},[b,Le,ze,be,m]);function Oe(){return()=>{(0,utils_js_1$2.isProvided)(Ve)&&h&&ue&&ue(Ve)}}(0,react_1$5.useEffect)(Oe,[h,Fe,Ve,ue]);function $e(){if(ie){if(!Le||!Ge)return;ie((0,utils_js_1$2.makePageCallback)(Le,Ge))}if(h&&we){if(!(0,utils_js_1$2.isProvided)(Ve)||!Xe.current)return;we(Ve,Xe.current)}}function He(){Ue&&((0,warning_1.default)(!1,Ue.toString()),le&&le(Ue))}function Ye(){Me({type:"RESET"})}(0,react_1$5.useEffect)(Ye,[Me,Fe,Ve]);function nt(){if(!Fe||!Ke)return;const gt=(0,make_cancellable_promise_1.default)(Fe.getPage(Ke)),Tt=gt;return gt.promise.then(Rt=>{Me({type:"RESOLVE",value:Rt})}).catch(Rt=>{Me({type:"REJECT",error:Rt})}),()=>(0,utils_js_1$2.cancelRunningTask)(Tt)}(0,react_1$5.useEffect)(nt,[Me,Fe,Ve,Ke,we]),(0,react_1$5.useEffect)(()=>{if(Le!==void 0){if(Le===!1){He();return}$e()}},[Le,Ge]);const ot=(0,react_1$5.useMemo)(()=>Le&&(0,utils_js_1$2.isProvided)(Ve)&&Ke&&(0,utils_js_1$2.isProvided)(ze)&&(0,utils_js_1$2.isProvided)(Ge)?{_className:c,canvasBackground:d,customTextRenderer:_e,devicePixelRatio:ve,onGetAnnotationsError:ne,onGetAnnotationsSuccess:se,onGetStructTreeError:q,onGetStructTreeSuccess:ee,onGetTextError:he,onGetTextSuccess:oe,onRenderAnnotationLayerError:Ae,onRenderAnnotationLayerSuccess:ae,onRenderError:ye,onRenderSuccess:Pe,onRenderTextLayerError:Ie,onRenderTextLayerSuccess:Re,page:Le,pageIndex:Ve,pageNumber:Ke,renderForms:fe,renderTextLayer:ce,rotate:ze,scale:Ge}:null,[c,d,_e,ve,ne,se,q,ee,he,oe,Ae,ae,ye,Pe,Ie,Re,Le,Ve,Ke,fe,ce,ze,Ge]),st=(0,react_1$5.useMemo)(()=>(0,make_event_props_1.default)(Se,()=>Le&&(Ge?(0,utils_js_1$2.makePageCallback)(Le,Ge):void 0)),[Se,Le,Ge]),Be=`${Ve}@${Ge}/${ze}`,ct=`${Ve}/${ze}`;function dt(){switch(Ee){case"custom":return(0,tiny_invariant_1$1.default)($,'renderMode was set to "custom", but no customRenderer was passed.'),react_1$5.default.createElement($,{key:`${Be}_custom`});case"none":return null;case"svg":return react_1$5.default.createElement(PageSVG_js_1.default,{key:`${ct}_svg`});case"canvas":default:return react_1$5.default.createElement(PageCanvas_js_1.default,{key:`${Be}_canvas`,canvasRef:f})}}function xt(){return ce?react_1$5.default.createElement(TextLayer_js_1.default,{key:`${Be}_text`}):null}function At(){return xe?react_1$5.default.createElement(AnnotationLayer_js_1.default,{key:`${Be}_annotations`}):null}function Ot(){return react_1$5.default.createElement(PageContext_js_1.default.Provider,{value:ot},dt(),xt(),At(),re)}function _t(){return Ke?Fe===null||Le===void 0||Le===null?react_1$5.default.createElement(Message_js_1.default,{type:"loading"},typeof j=="function"?j():j):Fe===!1||Le===!1?react_1$5.default.createElement(Message_js_1.default,{type:"error"},typeof te=="function"?te():te):Ot():react_1$5.default.createElement(Message_js_1.default,{type:"no-data"},typeof g=="function"?g():g)}return react_1$5.default.createElement("div",Object.assign({className:(0,clsx_1$1.default)(c,_),"data-page-number":Ke,ref:(0,merge_refs_1.default)(me,Xe),style:{"--scale-factor":`${Ge}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},st),_t())},isFunctionOrNode=prop_types_1.default.oneOfType([prop_types_1.default.func,prop_types_1.default.node]);Page.propTypes=Object.assign(Object.assign({},propTypes_js_1.eventProps),{canvasBackground:prop_types_1.default.string,canvasRef:propTypes_js_1.isRef,children:prop_types_1.default.node,className:propTypes_js_1.isClassName,customRenderer:prop_types_1.default.func,customTextRenderer:prop_types_1.default.func,devicePixelRatio:prop_types_1.default.number,error:isFunctionOrNode,height:prop_types_1.default.number,imageResourcesPath:prop_types_1.default.string,inputRef:propTypes_js_1.isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:prop_types_1.default.func,onGetTextSuccess:prop_types_1.default.func,onLoadError:prop_types_1.default.func,onLoadSuccess:prop_types_1.default.func,onRenderError:prop_types_1.default.func,onRenderSuccess:prop_types_1.default.func,onRenderTextLayerError:prop_types_1.default.func,onRenderTextLayerSuccess:prop_types_1.default.func,pageIndex:propTypes_js_1.isPageIndex,pageNumber:propTypes_js_1.isPageNumber,pdf:propTypes_js_1.isPdf,renderAnnotationLayer:prop_types_1.default.bool,renderForms:prop_types_1.default.bool,renderMode:propTypes_js_1.isRenderMode,renderTextLayer:prop_types_1.default.bool,rotate:propTypes_js_1.isRotate,scale:prop_types_1.default.number,width:prop_types_1.default.number});Page$1.default=Page;var Thumbnail$1={},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Thumbnail$1,"__esModule",{value:!0});const react_1$4=__importDefault$a(reactExports),clsx_1=__importDefault$a(require$$1),tiny_invariant_1=__importDefault$a(require$$2),Page_js_1$1=__importDefault$a(Page$1),utils_js_1$1=utils,useDocumentContext_js_1$1=__importDefault$a(useDocumentContext$1),Thumbnail=function e(i){const o=(0,useDocumentContext_js_1$1.default)(),a=Object.assign(Object.assign({},o),i),{className:c,linkService:h,onItemClick:d,pageIndex:f,pageNumber:re,pdf:_}=a;(0,tiny_invariant_1.default)(_,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const $=(0,utils_js_1$1.isProvided)(re)?re-1:f??null,_e=re??((0,utils_js_1$1.isProvided)(f)?f+1:null);function ve(b){b.preventDefault(),!(!(0,utils_js_1$1.isProvided)($)||!_e)&&((0,tiny_invariant_1.default)(d||h,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),d?d({pageIndex:$,pageNumber:_e}):h&&h.goToPage(_e))}const te=__rest$1(i,["className","onItemClick"]);return react_1$4.default.createElement("a",{className:(0,clsx_1.default)("react-pdf__Thumbnail",c),href:_e?"#":void 0,onClick:ve},react_1$4.default.createElement(Page_js_1$1.default,Object.assign({},te,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1})))};Thumbnail$1.default=Thumbnail;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$4,"__esModule",{value:!0});cjs$4.PasswordResponses=cjs$4.usePageContext=cjs$4.useOutlineContext=cjs$4.useDocumentContext=cjs$4.Thumbnail=cjs$4.Page=cjs$4.Outline=cjs$4.Document=cjs$4.pdfjs=void 0;const pdfjs_js_1=__importDefault$9(pdfjs$1);cjs$4.pdfjs=pdfjs_js_1.default;const Document_js_1=__importDefault$9(Document$1);cjs$4.Document=Document_js_1.default;const Outline_js_1=__importDefault$9(Outline$1);cjs$4.Outline=Outline_js_1.default;const Page_js_1=__importDefault$9(Page$1);cjs$4.Page=Page_js_1.default;const Thumbnail_js_1=__importDefault$9(Thumbnail$1);cjs$4.Thumbnail=Thumbnail_js_1.default;const useDocumentContext_js_1=__importDefault$9(useDocumentContext$1);cjs$4.useDocumentContext=useDocumentContext_js_1.default;const useOutlineContext_js_1=__importDefault$9(useOutlineContext$1);cjs$4.useOutlineContext=useOutlineContext_js_1.default;const usePageContext_js_1=__importDefault$9(usePageContext$1);cjs$4.usePageContext=usePageContext_js_1.default;const PasswordResponses_js_1=__importDefault$9(PasswordResponses$1);cjs$4.PasswordResponses=PasswordResponses_js_1.default;const utils_js_1=utils;(0,utils_js_1.displayWorkerWarning)();pdfjs_js_1.default.GlobalWorkerOptions.workerSrc="pdf.worker.js";(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(j,g){return Object.defineProperty?Object.defineProperty(j,"raw",{value:g}):j.raw=g,j},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(j){for(var g,ne=1,se=arguments.length;ne<se;ne++){g=arguments[ne];for(var q in g)Object.prototype.hasOwnProperty.call(g,q)&&(j[q]=g[q])}return j},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,g,ne,se){se===void 0&&(se=ne);var q=Object.getOwnPropertyDescriptor(g,ne);(!q||("get"in q?!g.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return g[ne]}}),Object.defineProperty(j,se,q)}:function(j,g,ne,se){se===void 0&&(se=ne),j[se]=g[ne]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(j,g){Object.defineProperty(j,"default",{enumerable:!0,value:g})}:function(j,g){j.default=g}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(j){if(j&&j.__esModule)return j;var g={};if(j!=null)for(var ne in j)ne!=="default"&&Object.prototype.hasOwnProperty.call(j,ne)&&a(g,j,ne);return c(g,j),g};Object.defineProperty(e,"__esModule",{value:!0}),e.PdfPlayer=void 0;var d=jsxRuntimeExports,f=h(reactExports),re=h(require$$6$1),_=cjs$4,$=requireLib(),_e=require$$3,ve=(0,re.default)("div")(b||(b=i([`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`],[`
  display: inline-block;

  .pagination-area {
    margin-top: 5px;
    display: flex;
    justify-content: space-between;
  }
`]))),te=function(j){var g=j.url,ne=j.onLoad,se=j.onTopicEnd,q=j.documentConfig,ee=q===void 0?{}:q,he=j.pageConfig,oe=he===void 0?{}:he,le=j.className,ie=le===void 0?"":le,Ae=f.useState(null),ae=Ae[0],ye=Ae[1],Pe=f.useState(1),Ie=Pe[0],Re=Pe[1],Ne=f.useState(!1),Ce=Ne[0],Fe=Ne[1],we=f.useState(!1),xe=we[0],fe=we[1],Ee=(0,_e.useTranslation)().t,ce=function(){se&&ae&&!(ae>Ie+1)&&(fe(!0),se()),Re(Ie+1)},de=function(){Re(Ie-1),xe&&fe(!1)};return f.useEffect(function(){return _.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_.pdfjs.version,"/pdf.worker.js"),Fe(!0),function(){return Fe(!1)}},[]),f.useEffect(function(){Ie===ae&&ne&&ne()},[ae,Ie]),g?(0,d.jsxs)(ve,o({className:"wellms-component ".concat(ie)},{children:[Ce&&g&&(0,d.jsx)(_.Document,o({loading:Ee("Loading"),onLoadSuccess:function(be){var ue=be.numPages;return ye(ue)},file:g},ee,{children:(0,d.jsx)(_.Page,o({pageNumber:Ie,renderAnnotationLayer:!1},oe))})),ae&&ae>1&&(0,d.jsxs)("div",o({className:"pagination-area"},{children:[(0,d.jsxs)($.Text,{children:[(0,d.jsx)("strong",{children:Ie})," ",Ee("PdfPlayer.of")," ",(0,d.jsx)("strong",{children:ae})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)($.Button,o({mode:"secondary",disabled:!(Ie>1),className:"nav-btn-modal",onClick:de},{children:Ee("Prev")})),(0,d.jsx)($.Button,o({style:{marginLeft:"10px"},mode:"secondary",disabled:se?xe:!(ae>Ie),className:"nav-btn-modal",onClick:ce},{children:Ee("Next")}))]})]}))]})):(0,d.jsx)("p",{children:Ee("PdfPlayer.notFound")})};e.PdfPlayer=te,e.default=(0,re.withTheme)((0,re.default)(e.PdfPlayer)(me||(me=i([""],[""]))));var b,me})(PdfPlayer);var ImagePlayer={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ne,se){return Object.defineProperty?Object.defineProperty(ne,"raw",{value:se}):ne.raw=se,ne},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(ne){for(var se,q=1,ee=arguments.length;q<ee;q++){se=arguments[q];for(var he in se)Object.prototype.hasOwnProperty.call(se,he)&&(ne[he]=se[he])}return ne},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,se,q,ee){ee===void 0&&(ee=q);var he=Object.getOwnPropertyDescriptor(se,q);(!he||("get"in he?!se.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return se[q]}}),Object.defineProperty(ne,ee,he)}:function(ne,se,q,ee){ee===void 0&&(ee=q),ne[ee]=se[q]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ne,se){Object.defineProperty(ne,"default",{enumerable:!0,value:se})}:function(ne,se){ne.default=se}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(ne){if(ne&&ne.__esModule)return ne;var se={};if(ne!=null)for(var q in ne)q!=="default"&&Object.prototype.hasOwnProperty.call(ne,q)&&a(se,ne,q);return c(se,ne),se};Object.defineProperty(e,"__esModule",{value:!0}),e.ImagePlayer=void 0;var d=jsxRuntimeExports,f=reactExports,re=require$$2$2,_=h(require$$6$1),$=utils$3,_e=ResponsiveImage,ve=(0,_.default)("div")(me||(me=i([`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`],[`
  > div {
    cursor: pointer;

    img {
      width: 100%;
      transition: transform 0.5s ease-out;
    }
    &:hover {
      img {
        transform: scale(1.02);
      }
    }
  }
`]))),te=(0,_.createGlobalStyle)(j||(j=i([`
`,`
`],[`
`,`
`])),$.SharedLightboxStyle),b=function(ne){var se=ne.topic,q=ne.onLoad,ee=ne.className,he=ee===void 0?"":ee,oe=(0,f.useState)(""),le=oe[0],ie=oe[1];return(0,f.useEffect)(function(){q()},[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(re.Gallery,o({options:{arrowPrev:!1,arrowNext:!1,imageClickAction:"zoom",initialZoomLevel:"fit",secondaryZoomLevel:2,maxZoomLevel:3}},{children:[(0,d.jsx)(te,{}),(0,d.jsx)(ve,o({className:"wellms-component ".concat(he)},{children:(0,d.jsx)(re.Item,o({original:le,width:se.topicable.width,height:se.topicable.height,alt:"LMS Image ".concat(se.topicable.id)},{children:function(Ae){var ae=Ae.ref,ye=Ae.open;return(0,d.jsx)(_e.ResponsiveImage,{path:se.topicable.value,onClick:ye,onLoad:function(Pe){return ie(Pe.currentTarget.currentSrc)},ref:ae,srcSizes:[500,750,1e3]})}}))}))]}))})};e.ImagePlayer=b,e.default=(0,_.withTheme)((0,_.default)(e.ImagePlayer)(g||(g=i([""],[""]))));var me,j,g})(ImagePlayer);var H5Player={},lib={},context={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(_){for(var $,_e=1,ve=arguments.length;_e<ve;_e++){$=arguments[_e];for(var te in $)Object.prototype.hasOwnProperty.call($,te)&&(_[te]=$[te])}return _},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,$,_e,ve){ve===void 0&&(ve=_e);var te=Object.getOwnPropertyDescriptor($,_e);(!te||("get"in te?!$.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return $[_e]}}),Object.defineProperty(_,ve,te)}:function(_,$,_e,ve){ve===void 0&&(ve=_e),_[ve]=$[_e]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(_,$){Object.defineProperty(_,"default",{enumerable:!0,value:$})}:function(_,$){_.default=$}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(_){if(_&&_.__esModule)return _;var $={};if(_!=null)for(var _e in _)_e!=="default"&&Object.prototype.hasOwnProperty.call(_,_e)&&o($,_,_e);return a($,_),$};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextProvider=e.EditorContext=void 0;var h=jsxRuntimeExports,d=c(reactExports),f={url:"http://localhost:1000/api/hh5p/",state:{value:"initial"}};e.EditorContext=d.default.createContext(f);var re=function(_){var $=_.children,_e=_.url,ve=_.defaultLang,te=ve===void 0?"en":ve,b=(0,d.useState)({value:"initial"}),me=b[0],j=b[1],g=(0,d.useState)(te),ne=g[0],se=g[1],q=(0,d.useState)(new Headers({"Content-Type":"application/json",Accept:"application/json"})),ee=q[0],he=q[1],oe=(0,d.useCallback)(function(ae){var ye=ae?"".concat(_e,"/editor/").concat(ae):"".concat(_e,"/editor");return ye=ne?"".concat(ye,"?lang=").concat(ne):ye,fetch(ye,{headers:ee}).then(function(Pe){if(!Pe.ok)throw Error("response error status ".concat(Pe.status));return Pe.json()}).then(function(Pe){return j(function(Ie){return i(i({},Ie),{value:"loaded",settings:Pe.data})}),Pe}).catch(function(Pe){j(function(Ie){return i(i({},Ie),{value:"error",error:Pe.toString()})})})},[_e,ee,ne]),le=(0,d.useCallback)(function(ae){ae&&j(function(ye){return i(i({},ye),{value:"loaded",settings:ae})})},[_e,ee]),ie=(0,d.useCallback)(function(ae){return fetch(ae?"".concat(_e,"/content/").concat(ae):"".concat(_e,"/content"),{headers:ee}).then(function(ye){if(!ye.ok)throw Error("response error status ".concat(ye.status));return ye.json()}).then(function(ye){return j(function(Pe){return i(i({},Pe),{value:"loaded",settings:ye.data})}),ye}).catch(function(ye){j(function(Pe){return i(i({},Pe),{value:"error",error:ye.toString()})})})},[_e,ee]),Ae=(0,d.useCallback)(function(ae,ye){return fetch(ye?"".concat(_e,"/content/").concat(ye):"".concat(_e,"/content"),{method:"POST",body:JSON.stringify(ae),headers:ee}).then(function(Pe){if(!Pe.ok)throw Error("response error status ".concat(Pe.status));return Pe.json()}).then(function(Pe){return Pe}).catch(function(Pe){j(function(Ie){return i(i({},Ie),{value:"error",error:Pe.toString()})})})},[_e,ee]);return(0,h.jsx)(e.EditorContext.Provider,i({value:{url:_e,state:me,getEditorConfig:oe,getContentConfig:ie,submitContent:Ae,seth5pObject:le,setLang:se,setHeaders:he}},{children:$}))};e.EditorContextProvider=re})(context);var editor$1={},server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports;function l$2(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p$1=Object.prototype.hasOwnProperty,fa$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha$1={},ia$1={};function ja$1(e){return p$1.call(ia$1,e)?!0:p$1.call(ha$1,e)?!1:fa$1.test(e)?ia$1[e]=!0:(ha$1[e]=!0,!1)}function r(e,i,o,a,c,h,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=i,this.sanitizeURL=h,this.removeEmptyString=d}var t$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){t$1[e]=new r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];t$1[i]=new r(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){t$1[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){t$1[e]=new r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){t$1[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){t$1[e]=new r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){t$1[e]=new r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){t$1[e]=new r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){t$1[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)});var ka$1=/[\-:]([a-z])/g;function la$1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ka$1,la$1);t$1[i]=new r(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)});t$1.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){t$1[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)});var u$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma=["Webkit","ms","Moz","O"];Object.keys(u$1).forEach(function(e){ma.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),u$1[i]=u$1[e]})});var na=/["'&<>]/;function v(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=na.exec(e);if(i){var o="",a,c=0;for(a=i.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==a&&(o+=e.substring(c,a)),c=a+1,o+=i}e=c!==a?o+e.substring(c,a):o}return e}var oa$1=/([A-Z])/g,pa$1=/^ms-/,qa$1=Array.isArray;function w$1(e,i){return{insertionMode:e,selectedValue:i}}function ra$1(e,i,o){switch(i){case"select":return w$1(1,o.value!=null?o.value:o.defaultValue);case"svg":return w$1(2,null);case"math":return w$1(3,null);case"foreignObject":return w$1(1,null);case"table":return w$1(4,null);case"thead":case"tbody":case"tfoot":return w$1(5,null);case"colgroup":return w$1(7,null);case"tr":return w$1(6,null)}return 4<=e.insertionMode||e.insertionMode===0?w$1(1,null):e}var sa$1=new Map;function ta$1(e,i,o){if(typeof o!="object")throw Error(l$2(62));i=!0;for(var a in o)if(p$1.call(o,a)){var c=o[a];if(c!=null&&typeof c!="boolean"&&c!==""){if(a.indexOf("--")===0){var h=v(a);c=v((""+c).trim())}else{h=a;var d=sa$1.get(h);d!==void 0||(d=v(h.replace(oa$1,"-$1").toLowerCase().replace(pa$1,"-ms-")),sa$1.set(h,d)),h=d,c=typeof c=="number"?c===0||p$1.call(u$1,a)?""+c:c+"px":v((""+c).trim())}i?(i=!1,e.push(' style="',h,":",c)):e.push(";",h,":",c)}}i||e.push('"')}function x$1(e,i,o,a){switch(o){case"style":ta$1(e,i,a);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(i=t$1.hasOwnProperty(o)?t$1[o]:null,i!==null){switch(typeof a){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(o=i.attributeName,i.type){case 3:a&&e.push(" ",o,'=""');break;case 4:a===!0?e.push(" ",o,'=""'):a!==!1&&e.push(" ",o,'="',v(a),'"');break;case 5:isNaN(a)||e.push(" ",o,'="',v(a),'"');break;case 6:!isNaN(a)&&1<=a&&e.push(" ",o,'="',v(a),'"');break;default:i.sanitizeURL&&(a=""+a),e.push(" ",o,'="',v(a),'"')}}else if(ja$1(o)){switch(typeof a){case"function":case"symbol":return;case"boolean":if(i=o.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(" ",o,'="',v(a),'"')}}}function y$1(e,i,o){if(i!=null){if(o!=null)throw Error(l$2(60));if(typeof i!="object"||!("__html"in i))throw Error(l$2(61));i=i.__html,i!=null&&e.push(""+i)}}function ua$1(e){var i="";return aa$1.Children.forEach(e,function(o){o!=null&&(i+=o)}),i}function va$1(e,i,o,a){e.push(A(o));var c=o=null,h;for(h in i)if(p$1.call(i,h)){var d=i[h];if(d!=null)switch(h){case"children":o=d;break;case"dangerouslySetInnerHTML":c=d;break;default:x$1(e,a,h,d)}}return e.push(">"),y$1(e,c,o),typeof o=="string"?(e.push(v(o)),null):o}var wa$1=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xa$1=new Map;function A(e){var i=xa$1.get(e);if(i===void 0){if(!wa$1.test(e))throw Error(l$2(65,e));i="<"+e,xa$1.set(e,i)}return i}function ya$1(e,i,o,a,c){switch(i){case"select":e.push(A("select"));var h=null,d=null;for($ in o)if(p$1.call(o,$)){var f=o[$];if(f!=null)switch($){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"defaultValue":case"value":break;default:x$1(e,a,$,f)}}return e.push(">"),y$1(e,d,h),h;case"option":d=c.selectedValue,e.push(A("option"));var re=f=null,_=null,$=null;for(h in o)if(p$1.call(o,h)){var _e=o[h];if(_e!=null)switch(h){case"children":f=_e;break;case"selected":_=_e;break;case"dangerouslySetInnerHTML":$=_e;break;case"value":re=_e;default:x$1(e,a,h,_e)}}if(d!=null)if(o=re!==null?""+re:ua$1(f),qa$1(d)){for(a=0;a<d.length;a++)if(""+d[a]===o){e.push(' selected=""');break}}else""+d===o&&e.push(' selected=""');else _&&e.push(' selected=""');return e.push(">"),y$1(e,$,f),f;case"textarea":e.push(A("textarea")),$=d=h=null;for(f in o)if(p$1.call(o,f)&&(re=o[f],re!=null))switch(f){case"children":$=re;break;case"value":h=re;break;case"defaultValue":d=re;break;case"dangerouslySetInnerHTML":throw Error(l$2(91));default:x$1(e,a,f,re)}if(h===null&&d!==null&&(h=d),e.push(">"),$!=null){if(h!=null)throw Error(l$2(92));if(qa$1($)&&1<$.length)throw Error(l$2(93));h=""+$}return typeof h=="string"&&h[0]===`
`&&e.push(`
`),h!==null&&e.push(v(""+h)),null;case"input":e.push(A("input")),re=$=f=h=null;for(d in o)if(p$1.call(o,d)&&(_=o[d],_!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,"input"));case"defaultChecked":re=_;break;case"defaultValue":f=_;break;case"checked":$=_;break;case"value":h=_;break;default:x$1(e,a,d,_)}return $!==null?x$1(e,a,"checked",$):re!==null&&x$1(e,a,"checked",re),h!==null?x$1(e,a,"value",h):f!==null&&x$1(e,a,"value",f),e.push("/>"),null;case"menuitem":e.push(A("menuitem"));for(var ve in o)if(p$1.call(o,ve)&&(h=o[ve],h!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(400));default:x$1(e,a,ve,h)}return e.push(">"),null;case"title":e.push(A("title")),h=null;for(_e in o)if(p$1.call(o,_e)&&(d=o[_e],d!=null))switch(_e){case"children":h=d;break;case"dangerouslySetInnerHTML":throw Error(l$2(434));default:x$1(e,a,_e,d)}return e.push(">"),h;case"listing":case"pre":e.push(A(i)),d=h=null;for(re in o)if(p$1.call(o,re)&&(f=o[re],f!=null))switch(re){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;default:x$1(e,a,re,f)}if(e.push(">"),d!=null){if(h!=null)throw Error(l$2(60));if(typeof d!="object"||!("__html"in d))throw Error(l$2(61));o=d.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?e.push(`
`,o):e.push(""+o))}return typeof h=="string"&&h[0]===`
`&&e.push(`
`),h;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(A(i));for(var te in o)if(p$1.call(o,te)&&(h=o[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l$2(399,i));default:x$1(e,a,te,h)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return va$1(e,o,i,a);case"html":return c.insertionMode===0&&e.push("<!DOCTYPE html>"),va$1(e,o,i,a);default:if(i.indexOf("-")===-1&&typeof o.is!="string")return va$1(e,o,i,a);e.push(A(i)),d=h=null;for(_ in o)if(p$1.call(o,_)&&(f=o[_],f!=null))switch(_){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"style":ta$1(e,a,f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ja$1(_)&&typeof f!="function"&&typeof f!="symbol"&&e.push(" ",_,'="',v(f),'"')}return e.push(">"),y$1(e,d,h),h}}function za$1(e,i,o){if(e.push('<!--$?--><template id="'),o===null)throw Error(l$2(395));return e.push(o),e.push('"></template>')}function Aa$1(e,i,o,a){switch(o.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 4:return e.push('<table hidden id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(i.segmentPrefix),i=a.toString(16),e.push(i),e.push('">');default:throw Error(l$2(397))}}function Ba$1(e,i){switch(i.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(l$2(397))}}var Ca$1=/[<\u2028\u2029]/g;function Da$1(e){return JSON.stringify(e).replace(Ca$1,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ea$1(e,i){return i=i===void 0?"":i,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:i+"P:",segmentPrefix:i+"S:",boundaryPrefix:i+"B:",idPrefix:i,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Fa$1(e,i,o,a){return o.generateStaticMarkup?(e.push(v(i)),!1):(i===""?e=a:(a&&e.push("<!-- -->"),e.push(v(i)),e=!0),e)}var B$1=Object.assign,Ga$1=Symbol.for("react.element"),Ha$1=Symbol.for("react.portal"),Ia$1=Symbol.for("react.fragment"),Ja$1=Symbol.for("react.strict_mode"),Ka$1=Symbol.for("react.profiler"),La$1=Symbol.for("react.provider"),Ma$1=Symbol.for("react.context"),Na$1=Symbol.for("react.forward_ref"),Oa$1=Symbol.for("react.suspense"),Pa$1=Symbol.for("react.suspense_list"),Qa$1=Symbol.for("react.memo"),Ra$1=Symbol.for("react.lazy"),Sa$1=Symbol.for("react.scope"),Ta$1=Symbol.for("react.debug_trace_mode"),Ua$1=Symbol.for("react.legacy_hidden"),Va$1=Symbol.for("react.default_value"),Wa$1=Symbol.iterator;function Xa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia$1:return"Fragment";case Ha$1:return"Portal";case Ka$1:return"Profiler";case Ja$1:return"StrictMode";case Oa$1:return"Suspense";case Pa$1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ma$1:return(e.displayName||"Context")+".Consumer";case La$1:return(e._context.displayName||"Context")+".Provider";case Na$1:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa$1:return i=e.displayName||null,i!==null?i:Xa$1(e.type)||"Memo";case Ra$1:i=e._payload,e=e._init;try{return Xa$1(e(i))}catch{}}return null}var Ya$1={};function Za$1(e,i){if(e=e.contextTypes,!e)return Ya$1;var o={},a;for(a in e)o[a]=i[a];return o}var E$1=null;function F(e,i){if(e!==i){e.context._currentValue2=e.parentValue,e=e.parent;var o=i.parent;if(e===null){if(o!==null)throw Error(l$2(401))}else{if(o===null)throw Error(l$2(401));F(e,o)}i.context._currentValue2=i.value}}function $a$1(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&$a$1(e)}function ab$1(e){var i=e.parent;i!==null&&ab$1(i),e.context._currentValue2=e.value}function bb$1(e,i){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(l$2(402));e.depth===i.depth?F(e,i):bb$1(e,i)}function cb$1(e,i){var o=i.parent;if(o===null)throw Error(l$2(402));e.depth===o.depth?F(e,o):cb$1(e,o),i.context._currentValue2=i.value}function G(e){var i=E$1;i!==e&&(i===null?ab$1(e):e===null?$a$1(i):i.depth===e.depth?F(i,e):i.depth>e.depth?bb$1(i,e):cb$1(i,e),E$1=e)}var db$1={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function eb$1(e,i,o,a){var c=e.state!==void 0?e.state:null;e.updater=db$1,e.props=o,e.state=c;var h={queue:[],replace:!1};e._reactInternals=h;var d=i.contextType;if(e.context=typeof d=="object"&&d!==null?d._currentValue2:a,d=i.getDerivedStateFromProps,typeof d=="function"&&(d=d(o,c),c=d==null?c:B$1({},c,d),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&db$1.enqueueReplaceState(e,e.state,null),h.queue!==null&&0<h.queue.length)if(i=h.queue,d=h.replace,h.queue=null,h.replace=!1,d&&i.length===1)e.state=i[0];else{for(h=d?i[0]:e.state,c=!0,d=d?1:0;d<i.length;d++){var f=i[d];f=typeof f=="function"?f.call(e,h,o,a):f,f!=null&&(c?(c=!1,h=B$1({},h,f)):B$1(h,f))}e.state=h}else h.queue=null}var fb$1={id:1,overflow:""};function gb$1(e,i,o){var a=e.id;e=e.overflow;var c=32-H$1(a)-1;a&=~(1<<c),o+=1;var h=32-H$1(i)+c;if(30<h){var d=c-c%5;return h=(a&(1<<d)-1).toString(32),a>>=d,c-=d,{id:1<<32-H$1(i)+c|o<<c|a,overflow:h+e}}return{id:1<<h|o<<c|a,overflow:e}}var H$1=Math.clz32?Math.clz32:hb$1,ib$1=Math.log,jb$1=Math.LN2;function hb$1(e){return e>>>=0,e===0?32:31-(ib$1(e)/jb$1|0)|0}function kb$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var lb$1=typeof Object.is=="function"?Object.is:kb$1,I$1=null,ob$1=null,J$1=null,K$1=null,L$1=!1,M$1=!1,N$1=0,O$1=null,P$1=0;function Q$1(){if(I$1===null)throw Error(l$2(321));return I$1}function pb$1(){if(0<P$1)throw Error(l$2(312));return{memoizedState:null,queue:null,next:null}}function qb$1(){return K$1===null?J$1===null?(L$1=!1,J$1=K$1=pb$1()):(L$1=!0,K$1=J$1):K$1.next===null?(L$1=!1,K$1=K$1.next=pb$1()):(L$1=!0,K$1=K$1.next),K$1}function rb$1(){ob$1=I$1=null,M$1=!1,J$1=null,P$1=0,K$1=O$1=null}function sb$1(e,i){return typeof i=="function"?i(e):i}function tb$1(e,i,o){if(I$1=Q$1(),K$1=qb$1(),L$1){var a=K$1.queue;if(i=a.dispatch,O$1!==null&&(o=O$1.get(a),o!==void 0)){O$1.delete(a),a=K$1.memoizedState;do a=e(a,o.action),o=o.next;while(o!==null);return K$1.memoizedState=a,[a,i]}return[K$1.memoizedState,i]}return e=e===sb$1?typeof i=="function"?i():i:o!==void 0?o(i):i,K$1.memoizedState=e,e=K$1.queue={last:null,dispatch:null},e=e.dispatch=ub$1.bind(null,I$1,e),[K$1.memoizedState,e]}function vb$1(e,i){if(I$1=Q$1(),K$1=qb$1(),i=i===void 0?null:i,K$1!==null){var o=K$1.memoizedState;if(o!==null&&i!==null){var a=o[1];e:if(a===null)a=!1;else{for(var c=0;c<a.length&&c<i.length;c++)if(!lb$1(i[c],a[c])){a=!1;break e}a=!0}if(a)return o[0]}}return e=e(),K$1.memoizedState=[e,i],e}function ub$1(e,i,o){if(25<=P$1)throw Error(l$2(301));if(e===I$1)if(M$1=!0,e={action:o,next:null},O$1===null&&(O$1=new Map),o=O$1.get(i),o===void 0)O$1.set(i,e);else{for(i=o;i.next!==null;)i=i.next;i.next=e}}function wb$1(){throw Error(l$2(394))}function R$1(){}var xb$1={readContext:function(e){return e._currentValue2},useContext:function(e){return Q$1(),e._currentValue2},useMemo:vb$1,useReducer:tb$1,useRef:function(e){I$1=Q$1(),K$1=qb$1();var i=K$1.memoizedState;return i===null?(e={current:e},K$1.memoizedState=e):i},useState:function(e){return tb$1(sb$1,e)},useInsertionEffect:R$1,useLayoutEffect:function(){},useCallback:function(e,i){return vb$1(function(){return e},i)},useImperativeHandle:R$1,useEffect:R$1,useDebugValue:R$1,useDeferredValue:function(e){return Q$1(),e},useTransition:function(){return Q$1(),[!1,wb$1]},useId:function(){var e=ob$1.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-H$1(e)-1)).toString(32)+i;var o=S$1;if(o===null)throw Error(l$2(404));return i=N$1++,e=":"+o.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return Q$1(),i(e._source)},useSyncExternalStore:function(e,i,o){if(o===void 0)throw Error(l$2(407));return o()}},S$1=null,yb$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb$1(e){return console.error(e),null}function T$1(){}function Ab$1(e,i,o,a,c,h,d,f,re){var _=[],$=new Set;return i={destination:null,responseState:i,progressiveChunkSize:a===void 0?12800:a,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:$,pingedTasks:_,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?zb$1:c,onAllReady:T$1,onShellReady:d===void 0?T$1:d,onShellError:T$1,onFatalError:T$1},o=U$1(i,0,null,o,!1,!1),o.parentFlushed=!0,e=Bb$1(i,e,null,o,$,Ya$1,null,fb$1),_.push(e),i}function Bb$1(e,i,o,a,c,h,d,f){e.allPendingTasks++,o===null?e.pendingRootTasks++:o.pendingTasks++;var re={node:i,ping:function(){var _=e.pingedTasks;_.push(re),_.length===1&&Cb$1(e)},blockedBoundary:o,blockedSegment:a,abortSet:c,legacyContext:h,context:d,treeContext:f};return c.add(re),re}function U$1(e,i,o,a,c,h){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:a,boundary:o,lastPushedText:c,textEmbedded:h}}function V$1(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function W$1(e,i){var o=e.onShellError;o(i),o=e.onFatalError,o(i),e.destination!==null?(e.status=2,e.destination.destroy(i)):(e.status=1,e.fatalError=i)}function Db$1(e,i,o,a,c){for(I$1={},ob$1=i,N$1=0,e=o(a,c);M$1;)M$1=!1,N$1=0,P$1+=1,K$1=null,e=o(a,c);return rb$1(),e}function Eb$1(e,i,o,a){var c=o.render(),h=a.childContextTypes;if(h!=null){var d=i.legacyContext;if(typeof o.getChildContext!="function")a=d;else{o=o.getChildContext();for(var f in o)if(!(f in h))throw Error(l$2(108,Xa$1(a)||"Unknown",f));a=B$1({},d,o)}i.legacyContext=a,X$1(e,i,c),i.legacyContext=d}else X$1(e,i,c)}function Fb(e,i){if(e&&e.defaultProps){i=B$1({},i),e=e.defaultProps;for(var o in e)i[o]===void 0&&(i[o]=e[o]);return i}return i}function Gb$1(e,i,o,a,c){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){c=Za$1(o,i.legacyContext);var h=o.contextType;h=new o(a,typeof h=="object"&&h!==null?h._currentValue2:c),eb$1(h,o,a,c),Eb$1(e,i,h,o)}else{h=Za$1(o,i.legacyContext),c=Db$1(e,i,o,a,h);var d=N$1!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)eb$1(c,o,a,h),Eb$1(e,i,c,o);else if(d){a=i.treeContext,i.treeContext=gb$1(a,1,0);try{X$1(e,i,c)}finally{i.treeContext=a}}else X$1(e,i,c)}else if(typeof o=="string"){switch(c=i.blockedSegment,h=ya$1(c.chunks,o,a,e.responseState,c.formatContext),c.lastPushedText=!1,d=c.formatContext,c.formatContext=ra$1(d,o,a),Hb$1(e,i,h),c.formatContext=d,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push("</",o,">")}c.lastPushedText=!1}else{switch(o){case Ua$1:case Ta$1:case Ja$1:case Ka$1:case Ia$1:X$1(e,i,a.children);return;case Pa$1:X$1(e,i,a.children);return;case Sa$1:throw Error(l$2(343));case Oa$1:e:{o=i.blockedBoundary,c=i.blockedSegment,h=a.fallback,a=a.children,d=new Set;var f={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:d,errorDigest:null},re=U$1(e,c.chunks.length,f,c.formatContext,!1,!1);c.children.push(re),c.lastPushedText=!1;var _=U$1(e,0,null,c.formatContext,!1,!1);_.parentFlushed=!0,i.blockedBoundary=f,i.blockedSegment=_;try{if(Hb$1(e,i,a),e.responseState.generateStaticMarkup||_.lastPushedText&&_.textEmbedded&&_.chunks.push("<!-- -->"),_.status=1,Y$1(f,_),f.pendingTasks===0)break e}catch($){_.status=4,f.forceClientRender=!0,f.errorDigest=V$1(e,$)}finally{i.blockedBoundary=o,i.blockedSegment=c}i=Bb$1(e,h,o,re,d,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Na$1:if(a=Db$1(e,i,o.render,a,c),N$1!==0){o=i.treeContext,i.treeContext=gb$1(o,1,0);try{X$1(e,i,a)}finally{i.treeContext=o}}else X$1(e,i,a);return;case Qa$1:o=o.type,a=Fb(o,a),Gb$1(e,i,o,a,c);return;case La$1:if(c=a.children,o=o._context,a=a.value,h=o._currentValue2,o._currentValue2=a,d=E$1,E$1=a={parent:d,depth:d===null?0:d.depth+1,context:o,parentValue:h,value:a},i.context=a,X$1(e,i,c),e=E$1,e===null)throw Error(l$2(403));a=e.parentValue,e.context._currentValue2=a===Va$1?e.context._defaultValue:a,e=E$1=e.parent,i.context=e;return;case Ma$1:a=a.children,a=a(o._currentValue2),X$1(e,i,a);return;case Ra$1:c=o._init,o=c(o._payload),a=Fb(o,a),Gb$1(e,i,o,a,void 0);return}throw Error(l$2(130,o==null?o:typeof o,""))}}function X$1(e,i,o){if(i.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case Ga$1:Gb$1(e,i,o.type,o.props,o.ref);return;case Ha$1:throw Error(l$2(257));case Ra$1:var a=o._init;o=a(o._payload),X$1(e,i,o);return}if(qa$1(o)){Ib$1(e,i,o);return}if(o===null||typeof o!="object"?a=null:(a=Wa$1&&o[Wa$1]||o["@@iterator"],a=typeof a=="function"?a:null),a&&(a=a.call(o))){if(o=a.next(),!o.done){var c=[];do c.push(o.value),o=a.next();while(!o.done);Ib$1(e,i,c)}return}throw e=Object.prototype.toString.call(o),Error(l$2(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}typeof o=="string"?(a=i.blockedSegment,a.lastPushedText=Fa$1(i.blockedSegment.chunks,o,e.responseState,a.lastPushedText)):typeof o=="number"&&(a=i.blockedSegment,a.lastPushedText=Fa$1(i.blockedSegment.chunks,""+o,e.responseState,a.lastPushedText))}function Ib$1(e,i,o){for(var a=o.length,c=0;c<a;c++){var h=i.treeContext;i.treeContext=gb$1(h,a,c);try{Hb$1(e,i,o[c])}finally{i.treeContext=h}}}function Hb$1(e,i,o){var a=i.blockedSegment.formatContext,c=i.legacyContext,h=i.context;try{return X$1(e,i,o)}catch(re){if(rb$1(),typeof re=="object"&&re!==null&&typeof re.then=="function"){o=re;var d=i.blockedSegment,f=U$1(e,d.chunks.length,null,d.formatContext,d.lastPushedText,!0);d.children.push(f),d.lastPushedText=!1,e=Bb$1(e,i.node,i.blockedBoundary,f,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,o.then(e,e),i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,G(h)}else throw i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,G(h),re}}function Jb$1(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,Kb$1(this,i,e)}function Lb$1(e,i,o){var a=e.blockedBoundary;e.blockedSegment.status=3,a===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.push(null))):(a.pendingTasks--,a.forceClientRender||(a.forceClientRender=!0,e=o===void 0?Error(l$2(432)):o,a.errorDigest=i.onError(e),a.parentFlushed&&i.clientRenderedBoundaries.push(a)),a.fallbackAbortableTasks.forEach(function(c){return Lb$1(c,i,o)}),a.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(a=i.onAllReady,a()))}function Y$1(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var o=i.children[0];o.id=i.id,o.parentFlushed=!0,o.status===1&&Y$1(e,o)}else e.completedSegments.push(i)}function Kb$1(e,i,o){if(i===null){if(o.parentFlushed){if(e.completedRootSegment!==null)throw Error(l$2(389));e.completedRootSegment=o}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=T$1,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(o.parentFlushed&&o.status===1&&Y$1(i,o),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(Jb$1,e),i.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(Y$1(i,o),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Cb$1(e){if(e.status!==2){var i=E$1,o=yb$1.current;yb$1.current=xb$1;var a=S$1;S$1=e.responseState;try{var c=e.pingedTasks,h;for(h=0;h<c.length;h++){var d=c[h],f=e,re=d.blockedSegment;if(re.status===0){G(d.context);try{X$1(f,d,d.node),f.responseState.generateStaticMarkup||re.lastPushedText&&re.textEmbedded&&re.chunks.push("<!-- -->"),d.abortSet.delete(d),re.status=1,Kb$1(f,d.blockedBoundary,re)}catch(b){if(rb$1(),typeof b=="object"&&b!==null&&typeof b.then=="function"){var _=d.ping;b.then(_,_)}else{d.abortSet.delete(d),re.status=4;var $=d.blockedBoundary,_e=b,ve=V$1(f,_e);if($===null?W$1(f,_e):($.pendingTasks--,$.forceClientRender||($.forceClientRender=!0,$.errorDigest=ve,$.parentFlushed&&f.clientRenderedBoundaries.push($))),f.allPendingTasks--,f.allPendingTasks===0){var te=f.onAllReady;te()}}}finally{}}}c.splice(0,h),e.destination!==null&&Mb$1(e,e.destination)}catch(b){V$1(e,b),W$1(e,b)}finally{S$1=a,yb$1.current=o,o===xb$1&&G(i)}}}function Z$1(e,i,o){switch(o.parentFlushed=!0,o.status){case 0:var a=o.id=e.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,e=e.responseState,i.push('<template id="'),i.push(e.placeholderPrefix),e=a.toString(16),i.push(e),i.push('"></template>');case 1:o.status=2;var c=!0;a=o.chunks;var h=0;o=o.children;for(var d=0;d<o.length;d++){for(c=o[d];h<c.index;h++)i.push(a[h]);c=Nb$1(e,i,c)}for(;h<a.length-1;h++)i.push(a[h]);return h<a.length&&(c=i.push(a[h])),c;default:throw Error(l$2(390))}}function Nb$1(e,i,o){var a=o.boundary;if(a===null)return Z$1(e,i,o);if(a.parentFlushed=!0,a.forceClientRender)return e.responseState.generateStaticMarkup||(a=a.errorDigest,i.push("<!--$!-->"),i.push("<template"),a&&(i.push(' data-dgst="'),a=v(a),i.push(a),i.push('"')),i.push("></template>")),Z$1(e,i,o),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e;if(0<a.pendingTasks){a.rootSegmentID=e.nextSegmentId++,0<a.completedSegments.length&&e.partialBoundaries.push(a);var c=e.responseState,h=c.nextSuspenseID++;return c=c.boundaryPrefix+h.toString(16),a=a.id=c,za$1(i,e.responseState,a),Z$1(e,i,o),i.push("<!--/$-->")}if(a.byteSize>e.progressiveChunkSize)return a.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(a),za$1(i,e.responseState,a.id),Z$1(e,i,o),i.push("<!--/$-->");if(e.responseState.generateStaticMarkup||i.push("<!--$-->"),o=a.completedSegments,o.length!==1)throw Error(l$2(391));return Nb$1(e,i,o[0]),e=e.responseState.generateStaticMarkup?!0:i.push("<!--/$-->"),e}function Ob$1(e,i,o){return Aa$1(i,e.responseState,o.formatContext,o.id),Nb$1(e,i,o),Ba$1(i,o.formatContext)}function Pb$1(e,i,o){for(var a=o.completedSegments,c=0;c<a.length;c++)Qb$1(e,i,o,a[c]);if(a.length=0,e=e.responseState,a=o.id,o=o.rootSegmentID,i.push(e.startInlineScript),e.sentCompleteBoundaryFunction?i.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,i.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),a===null)throw Error(l$2(395));return o=o.toString(16),i.push(a),i.push('","'),i.push(e.segmentPrefix),i.push(o),i.push('")<\/script>')}function Qb$1(e,i,o,a){if(a.status===2)return!0;var c=a.id;if(c===-1){if((a.id=o.rootSegmentID)===-1)throw Error(l$2(392));return Ob$1(e,i,a)}return Ob$1(e,i,a),e=e.responseState,i.push(e.startInlineScript),e.sentCompleteSegmentFunction?i.push('$RS("'):(e.sentCompleteSegmentFunction=!0,i.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),i.push(e.segmentPrefix),c=c.toString(16),i.push(c),i.push('","'),i.push(e.placeholderPrefix),i.push(c),i.push('")<\/script>')}function Mb$1(e,i){try{var o=e.completedRootSegment;if(o!==null&&e.pendingRootTasks===0){Nb$1(e,i,o),e.completedRootSegment=null;var a=e.responseState.bootstrapChunks;for(o=0;o<a.length-1;o++)i.push(a[o]);o<a.length&&i.push(a[o])}var c=e.clientRenderedBoundaries,h;for(h=0;h<c.length;h++){var d=c[h];a=i;var f=e.responseState,re=d.id,_=d.errorDigest,$=d.errorMessage,_e=d.errorComponentStack;if(a.push(f.startInlineScript),f.sentClientRenderFunction?a.push('$RX("'):(f.sentClientRenderFunction=!0,a.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),re===null)throw Error(l$2(395));if(a.push(re),a.push('"'),_||$||_e){a.push(",");var ve=Da$1(_||"");a.push(ve)}if($||_e){a.push(",");var te=Da$1($||"");a.push(te)}if(_e){a.push(",");var b=Da$1(_e);a.push(b)}if(!a.push(")<\/script>")){e.destination=null,h++,c.splice(0,h);return}}c.splice(0,h);var me=e.completedBoundaries;for(h=0;h<me.length;h++)if(!Pb$1(e,i,me[h])){e.destination=null,h++,me.splice(0,h);return}me.splice(0,h);var j=e.partialBoundaries;for(h=0;h<j.length;h++){var g=j[h];e:{c=e,d=i;var ne=g.completedSegments;for(f=0;f<ne.length;f++)if(!Qb$1(c,d,g,ne[f])){f++,ne.splice(0,f);var se=!1;break e}ne.splice(0,f),se=!0}if(!se){e.destination=null,h++,j.splice(0,h);return}}j.splice(0,h);var q=e.completedBoundaries;for(h=0;h<q.length;h++)if(!Pb$1(e,i,q[h])){e.destination=null,h++,q.splice(0,h);return}q.splice(0,h)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.push(null)}}function Rb$1(e,i){try{var o=e.abortableTasks;o.forEach(function(a){return Lb$1(a,e,i)}),o.clear(),e.destination!==null&&Mb$1(e,e.destination)}catch(a){V$1(e,a),W$1(e,a)}}function Sb$1(){}function Tb$1(e,i,o,a){var c=!1,h=null,d="",f={push:function(_){return _!==null&&(d+=_),!0},destroy:function(_){c=!0,h=_}},re=!1;if(e=Ab$1(e,Ea$1(o,i?i.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Sb$1,void 0,function(){re=!0}),Cb$1(e),Rb$1(e,a),e.status===1)e.status=2,f.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=f;try{Mb$1(e,f)}catch(_){V$1(e,_),W$1(e,_)}}if(c)throw h;if(!re)throw Error(l$2(426));return d}reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(l$2(207))};reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(e,i){return Tb$1(e,i,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(l$2(208))};reactDomServerLegacy_browser_production_min.renderToString=function(e,i){return Tb$1(e,i,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};reactDomServerLegacy_browser_production_min.version="18.3.1";var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports;function k(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l$1=null,n=0;function p(e,i){if(i.length!==0)if(512<i.length)0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=new Uint8Array(512),n=0),e.enqueue(i);else{var o=l$1.length-n;o<i.length&&(o===0?e.enqueue(l$1):(l$1.set(i.subarray(0,o),n),e.enqueue(l$1),i=i.subarray(o)),l$1=new Uint8Array(512),n=0),l$1.set(i,n),n+=i.length}}function t(e,i){return p(e,i),!0}function ba(e){l$1&&0<n&&(e.enqueue(new Uint8Array(l$1.buffer,0,n)),l$1=null,n=0)}var ca$1=new TextEncoder;function u(e){return ca$1.encode(e)}function w(e){return ca$1.encode(e)}function da(e,i){typeof e.error=="function"?e.error(i):e.close()}var x=Object.prototype.hasOwnProperty,ea=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa={},ha={};function ia(e){return x.call(ha,e)?!0:x.call(fa,e)?!1:ea.test(e)?ha[e]=!0:(fa[e]=!0,!1)}function y(e,i,o,a,c,h,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=e,this.type=i,this.sanitizeURL=h,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new y(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new y(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new y(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new y(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new y(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new y(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var ja=/[\-:]([a-z])/g;function ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ja,ka);z[i]=new y(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(e){la.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),B[i]=B[e]})});var oa=/["'&<>]/;function C(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var i=oa.exec(e);if(i){var o="",a,c=0;for(a=i.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}c!==a&&(o+=e.substring(c,a)),c=a+1,o+=i}e=c!==a?o+e.substring(c,a):o}return e}var pa=/([A-Z])/g,qa=/^ms-/,ra=Array.isArray,sa=w("<script>"),ta=w("<\/script>"),ua=w('<script src="'),va=w('<script type="module" src="'),wa=w('" async=""><\/script>'),xa=/(<\/|<)(s)(cript)/gi;function ya(e,i,o,a){return""+i+(o==="s"?"\\u0073":"\\u0053")+a}function za(e,i,o,a,c){e=e===void 0?"":e,i=i===void 0?sa:w('<script nonce="'+C(i)+'">');var h=[];if(o!==void 0&&h.push(i,u((""+o).replace(xa,ya)),ta),a!==void 0)for(o=0;o<a.length;o++)h.push(ua,u(C(a[o])),wa);if(c!==void 0)for(a=0;a<c.length;a++)h.push(va,u(C(c[a])),wa);return{bootstrapChunks:h,startInlineScript:i,placeholderPrefix:w(e+"P:"),segmentPrefix:w(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function D(e,i){return{insertionMode:e,selectedValue:i}}function Aa(e){return D(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Ba(e,i,o){switch(i){case"select":return D(1,o.value!=null?o.value:o.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=e.insertionMode||e.insertionMode===0?D(1,null):e}var Ca=w("<!-- -->");function Da(e,i,o,a){return i===""?a:(a&&e.push(Ca),e.push(u(C(i))),!0)}var Ea=new Map,Fa=w(' style="'),Ga=w(":"),Ha=w(";");function Ia(e,i,o){if(typeof o!="object")throw Error(k(62));i=!0;for(var a in o)if(x.call(o,a)){var c=o[a];if(c!=null&&typeof c!="boolean"&&c!==""){if(a.indexOf("--")===0){var h=u(C(a));c=u(C((""+c).trim()))}else{h=a;var d=Ea.get(h);d!==void 0||(d=w(C(h.replace(pa,"-$1").toLowerCase().replace(qa,"-ms-"))),Ea.set(h,d)),h=d,c=typeof c=="number"?c===0||x.call(B,a)?u(""+c):u(c+"px"):u(C((""+c).trim()))}i?(i=!1,e.push(Fa,h,Ga,c)):e.push(Ha,h,Ga,c)}}i||e.push(E)}var H=w(" "),I=w('="'),E=w('"'),Ja=w('=""');function J(e,i,o,a){switch(o){case"style":Ia(e,i,a);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(i=z.hasOwnProperty(o)?z[o]:null,i!==null){switch(typeof a){case"function":case"symbol":return;case"boolean":if(!i.acceptsBooleans)return}switch(o=u(i.attributeName),i.type){case 3:a&&e.push(H,o,Ja);break;case 4:a===!0?e.push(H,o,Ja):a!==!1&&e.push(H,o,I,u(C(a)),E);break;case 5:isNaN(a)||e.push(H,o,I,u(C(a)),E);break;case 6:!isNaN(a)&&1<=a&&e.push(H,o,I,u(C(a)),E);break;default:i.sanitizeURL&&(a=""+a),e.push(H,o,I,u(C(a)),E)}}else if(ia(o)){switch(typeof a){case"function":case"symbol":return;case"boolean":if(i=o.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-")return}e.push(H,u(o),I,u(C(a)),E)}}}var K=w(">"),Ka=w("/>");function L(e,i,o){if(i!=null){if(o!=null)throw Error(k(60));if(typeof i!="object"||!("__html"in i))throw Error(k(61));i=i.__html,i!=null&&e.push(u(""+i))}}function La(e){var i="";return aa.Children.forEach(e,function(o){o!=null&&(i+=o)}),i}var Ma=w(' selected=""');function Na(e,i,o,a){e.push(M(o));var c=o=null,h;for(h in i)if(x.call(i,h)){var d=i[h];if(d!=null)switch(h){case"children":o=d;break;case"dangerouslySetInnerHTML":c=d;break;default:J(e,a,h,d)}}return e.push(K),L(e,c,o),typeof o=="string"?(e.push(u(C(o))),null):o}var Oa=w(`
`),Pa=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qa=new Map;function M(e){var i=Qa.get(e);if(i===void 0){if(!Pa.test(e))throw Error(k(65,e));i=w("<"+e),Qa.set(e,i)}return i}var Ra=w("<!DOCTYPE html>");function Sa(e,i,o,a,c){switch(i){case"select":e.push(M("select"));var h=null,d=null;for($ in o)if(x.call(o,$)){var f=o[$];if(f!=null)switch($){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"defaultValue":case"value":break;default:J(e,a,$,f)}}return e.push(K),L(e,d,h),h;case"option":d=c.selectedValue,e.push(M("option"));var re=f=null,_=null,$=null;for(h in o)if(x.call(o,h)){var _e=o[h];if(_e!=null)switch(h){case"children":f=_e;break;case"selected":_=_e;break;case"dangerouslySetInnerHTML":$=_e;break;case"value":re=_e;default:J(e,a,h,_e)}}if(d!=null)if(o=re!==null?""+re:La(f),ra(d)){for(a=0;a<d.length;a++)if(""+d[a]===o){e.push(Ma);break}}else""+d===o&&e.push(Ma);else _&&e.push(Ma);return e.push(K),L(e,$,f),f;case"textarea":e.push(M("textarea")),$=d=h=null;for(f in o)if(x.call(o,f)&&(re=o[f],re!=null))switch(f){case"children":$=re;break;case"value":h=re;break;case"defaultValue":d=re;break;case"dangerouslySetInnerHTML":throw Error(k(91));default:J(e,a,f,re)}if(h===null&&d!==null&&(h=d),e.push(K),$!=null){if(h!=null)throw Error(k(92));if(ra($)&&1<$.length)throw Error(k(93));h=""+$}return typeof h=="string"&&h[0]===`
`&&e.push(Oa),h!==null&&e.push(u(C(""+h))),null;case"input":e.push(M("input")),re=$=f=h=null;for(d in o)if(x.call(o,d)&&(_=o[d],_!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,"input"));case"defaultChecked":re=_;break;case"defaultValue":f=_;break;case"checked":$=_;break;case"value":h=_;break;default:J(e,a,d,_)}return $!==null?J(e,a,"checked",$):re!==null&&J(e,a,"checked",re),h!==null?J(e,a,"value",h):f!==null&&J(e,a,"value",f),e.push(Ka),null;case"menuitem":e.push(M("menuitem"));for(var ve in o)if(x.call(o,ve)&&(h=o[ve],h!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(k(400));default:J(e,a,ve,h)}return e.push(K),null;case"title":e.push(M("title")),h=null;for(_e in o)if(x.call(o,_e)&&(d=o[_e],d!=null))switch(_e){case"children":h=d;break;case"dangerouslySetInnerHTML":throw Error(k(434));default:J(e,a,_e,d)}return e.push(K),h;case"listing":case"pre":e.push(M(i)),d=h=null;for(re in o)if(x.call(o,re)&&(f=o[re],f!=null))switch(re){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;default:J(e,a,re,f)}if(e.push(K),d!=null){if(h!=null)throw Error(k(60));if(typeof d!="object"||!("__html"in d))throw Error(k(61));o=d.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?e.push(Oa,u(o)):e.push(u(""+o)))}return typeof h=="string"&&h[0]===`
`&&e.push(Oa),h;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(M(i));for(var te in o)if(x.call(o,te)&&(h=o[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(k(399,i));default:J(e,a,te,h)}return e.push(Ka),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Na(e,o,i,a);case"html":return c.insertionMode===0&&e.push(Ra),Na(e,o,i,a);default:if(i.indexOf("-")===-1&&typeof o.is!="string")return Na(e,o,i,a);e.push(M(i)),d=h=null;for(_ in o)if(x.call(o,_)&&(f=o[_],f!=null))switch(_){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"style":Ia(e,a,f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ia(_)&&typeof f!="function"&&typeof f!="symbol"&&e.push(H,u(_),I,u(C(f)),E)}return e.push(K),L(e,d,h),h}}var Ta=w("</"),Ua=w(">"),Va=w('<template id="'),Wa=w('"></template>'),Xa=w("<!--$-->"),Ya=w('<!--$?--><template id="'),Za=w('"></template>'),$a=w("<!--$!-->"),ab=w("<!--/$-->"),bb=w("<template"),cb=w('"'),db=w(' data-dgst="');w(' data-msg="');w(' data-stck="');var eb=w("></template>");function fb(e,i,o){if(p(e,Ya),o===null)throw Error(k(395));return p(e,o),t(e,Za)}var gb=w('<div hidden id="'),hb=w('">'),ib=w("</div>"),jb=w('<svg aria-hidden="true" style="display:none" id="'),kb=w('">'),lb=w("</svg>"),mb=w('<math aria-hidden="true" style="display:none" id="'),nb=w('">'),ob=w("</math>"),pb=w('<table hidden id="'),qb=w('">'),rb=w("</table>"),sb=w('<table hidden><tbody id="'),tb=w('">'),ub=w("</tbody></table>"),vb=w('<table hidden><tr id="'),wb=w('">'),xb=w("</tr></table>"),yb=w('<table hidden><colgroup id="'),zb=w('">'),Ab=w("</colgroup></table>");function Bb(e,i,o,a){switch(o.insertionMode){case 0:case 1:return p(e,gb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,hb);case 2:return p(e,jb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,kb);case 3:return p(e,mb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,nb);case 4:return p(e,pb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,qb);case 5:return p(e,sb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,tb);case 6:return p(e,vb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,wb);case 7:return p(e,yb),p(e,i.segmentPrefix),p(e,u(a.toString(16))),t(e,zb);default:throw Error(k(397))}}function Cb(e,i){switch(i.insertionMode){case 0:case 1:return t(e,ib);case 2:return t(e,lb);case 3:return t(e,ob);case 4:return t(e,rb);case 5:return t(e,ub);case 6:return t(e,xb);case 7:return t(e,Ab);default:throw Error(k(397))}}var Db=w('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Eb=w('$RS("'),Gb=w('","'),Hb=w('")<\/script>'),Ib=w('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jb=w('$RC("'),Kb=w('","'),Lb=w('")<\/script>'),Mb=w('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Nb=w('$RX("'),Ob=w('"'),Pb=w(")<\/script>"),Qb=w(","),Rb=/[<\u2028\u2029]/g;function Sb(e){return JSON.stringify(e).replace(Rb,function(i){switch(i){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var N=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),hc=Symbol.for("react.default_value"),ic=Symbol.iterator;function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zb:return(e.displayName||"Context")+".Consumer";case Yb:return(e._context.displayName||"Context")+".Provider";case $b:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cc:return i=e.displayName||null,i!==null?i:jc(e.type)||"Memo";case dc:i=e._payload,e=e._init;try{return jc(e(i))}catch{}}return null}var kc={};function lc(e,i){if(e=e.contextTypes,!e)return kc;var o={},a;for(a in e)o[a]=i[a];return o}var O=null;function P(e,i){if(e!==i){e.context._currentValue=e.parentValue,e=e.parent;var o=i.parent;if(e===null){if(o!==null)throw Error(k(401))}else{if(o===null)throw Error(k(401));P(e,o)}i.context._currentValue=i.value}}function mc(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&mc(e)}function nc(e){var i=e.parent;i!==null&&nc(i),e.context._currentValue=e.value}function oc(e,i){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(k(402));e.depth===i.depth?P(e,i):oc(e,i)}function pc(e,i){var o=i.parent;if(o===null)throw Error(k(402));e.depth===o.depth?P(e,o):pc(e,o),i.context._currentValue=i.value}function Q(e){var i=O;i!==e&&(i===null?nc(e):e===null?mc(i):i.depth===e.depth?P(i,e):i.depth>e.depth?oc(i,e):pc(i,e),O=e)}var qc={isMounted:function(){return!1},enqueueSetState:function(e,i){e=e._reactInternals,e.queue!==null&&e.queue.push(i)},enqueueReplaceState:function(e,i){e=e._reactInternals,e.replace=!0,e.queue=[i]},enqueueForceUpdate:function(){}};function rc(e,i,o,a){var c=e.state!==void 0?e.state:null;e.updater=qc,e.props=o,e.state=c;var h={queue:[],replace:!1};e._reactInternals=h;var d=i.contextType;if(e.context=typeof d=="object"&&d!==null?d._currentValue:a,d=i.getDerivedStateFromProps,typeof d=="function"&&(d=d(o,c),c=d==null?c:N({},c,d),e.state=c),typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(i=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),i!==e.state&&qc.enqueueReplaceState(e,e.state,null),h.queue!==null&&0<h.queue.length)if(i=h.queue,d=h.replace,h.queue=null,h.replace=!1,d&&i.length===1)e.state=i[0];else{for(h=d?i[0]:e.state,c=!0,d=d?1:0;d<i.length;d++){var f=i[d];f=typeof f=="function"?f.call(e,h,o,a):f,f!=null&&(c?(c=!1,h=N({},h,f)):N(h,f))}e.state=h}else h.queue=null}var sc={id:1,overflow:""};function tc(e,i,o){var a=e.id;e=e.overflow;var c=32-uc(a)-1;a&=~(1<<c),o+=1;var h=32-uc(i)+c;if(30<h){var d=c-c%5;return h=(a&(1<<d)-1).toString(32),a>>=d,c-=d,{id:1<<32-uc(i)+c|o<<c|a,overflow:h+e}}return{id:1<<h|o<<c|a,overflow:e}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(e){return e>>>=0,e===0?32:31-(wc(e)/xc|0)|0}function yc(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zc=typeof Object.is=="function"?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(R===null)throw Error(k(321));return R}function Ec(){if(0<Dc)throw Error(k(312));return{memoizedState:null,queue:null,next:null}}function Fc(){return S===null?Bc===null?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):S.next===null?(T=!1,S=S.next=Ec()):(T=!0,S=S.next),S}function Gc(){Ac=R=null,Cc=!1,Bc=null,Dc=0,S=V=null}function Hc(e,i){return typeof i=="function"?i(e):i}function Ic(e,i,o){if(R=W(),S=Fc(),T){var a=S.queue;if(i=a.dispatch,V!==null&&(o=V.get(a),o!==void 0)){V.delete(a),a=S.memoizedState;do a=e(a,o.action),o=o.next;while(o!==null);return S.memoizedState=a,[a,i]}return[S.memoizedState,i]}return e=e===Hc?typeof i=="function"?i():i:o!==void 0?o(i):i,S.memoizedState=e,e=S.queue={last:null,dispatch:null},e=e.dispatch=Jc.bind(null,R,e),[S.memoizedState,e]}function Kc(e,i){if(R=W(),S=Fc(),i=i===void 0?null:i,S!==null){var o=S.memoizedState;if(o!==null&&i!==null){var a=o[1];e:if(a===null)a=!1;else{for(var c=0;c<a.length&&c<i.length;c++)if(!zc(i[c],a[c])){a=!1;break e}a=!0}if(a)return o[0]}}return e=e(),S.memoizedState=[e,i],e}function Jc(e,i,o){if(25<=Dc)throw Error(k(301));if(e===R)if(Cc=!0,e={action:o,next:null},V===null&&(V=new Map),o=V.get(i),o===void 0)V.set(i,e);else{for(i=o;i.next!==null;)i=i.next;i.next=e}}function Lc(){throw Error(k(394))}function Mc(){}var Oc={readContext:function(e){return e._currentValue},useContext:function(e){return W(),e._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(e){R=W(),S=Fc();var i=S.memoizedState;return i===null?(e={current:e},S.memoizedState=e):i},useState:function(e){return Ic(Hc,e)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(e,i){return Kc(function(){return e},i)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(e){return W(),e},useTransition:function(){return W(),[!1,Lc]},useId:function(){var e=Ac.treeContext,i=e.overflow;e=e.id,e=(e&~(1<<32-uc(e)-1)).toString(32)+i;var o=Nc;if(o===null)throw Error(k(404));return i=U++,e=":"+o.idPrefix+"R"+e,0<i&&(e+="H"+i.toString(32)),e+":"},useMutableSource:function(e,i){return W(),i(e._source)},useSyncExternalStore:function(e,i,o){if(o===void 0)throw Error(k(407));return o()}},Nc=null,Pc=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(e){return console.error(e),null}function X(){}function Rc(e,i,o,a,c,h,d,f,re){var _=[],$=new Set;return i={destination:null,responseState:i,progressiveChunkSize:a===void 0?12800:a,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:$,pingedTasks:_,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:c===void 0?Qc:c,onAllReady:h===void 0?X:h,onShellReady:d===void 0?X:d,onShellError:f===void 0?X:f,onFatalError:re===void 0?X:re},o=Sc(i,0,null,o,!1,!1),o.parentFlushed=!0,e=Tc(i,e,null,o,$,kc,null,sc),_.push(e),i}function Tc(e,i,o,a,c,h,d,f){e.allPendingTasks++,o===null?e.pendingRootTasks++:o.pendingTasks++;var re={node:i,ping:function(){var _=e.pingedTasks;_.push(re),_.length===1&&Uc(e)},blockedBoundary:o,blockedSegment:a,abortSet:c,legacyContext:h,context:d,treeContext:f};return c.add(re),re}function Sc(e,i,o,a,c,h){return{status:0,id:-1,index:i,parentFlushed:!1,chunks:[],children:[],formatContext:a,boundary:o,lastPushedText:c,textEmbedded:h}}function Y(e,i){if(e=e.onError(i),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Vc(e,i){var o=e.onShellError;o(i),o=e.onFatalError,o(i),e.destination!==null?(e.status=2,da(e.destination,i)):(e.status=1,e.fatalError=i)}function Wc(e,i,o,a,c){for(R={},Ac=i,U=0,e=o(a,c);Cc;)Cc=!1,U=0,Dc+=1,S=null,e=o(a,c);return Gc(),e}function Xc(e,i,o,a){var c=o.render(),h=a.childContextTypes;if(h!=null){var d=i.legacyContext;if(typeof o.getChildContext!="function")a=d;else{o=o.getChildContext();for(var f in o)if(!(f in h))throw Error(k(108,jc(a)||"Unknown",f));a=N({},d,o)}i.legacyContext=a,Z(e,i,c),i.legacyContext=d}else Z(e,i,c)}function Yc(e,i){if(e&&e.defaultProps){i=N({},i),e=e.defaultProps;for(var o in e)i[o]===void 0&&(i[o]=e[o]);return i}return i}function Zc(e,i,o,a,c){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){c=lc(o,i.legacyContext);var h=o.contextType;h=new o(a,typeof h=="object"&&h!==null?h._currentValue:c),rc(h,o,a,c),Xc(e,i,h,o)}else{h=lc(o,i.legacyContext),c=Wc(e,i,o,a,h);var d=U!==0;if(typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0)rc(c,o,a,h),Xc(e,i,c,o);else if(d){a=i.treeContext,i.treeContext=tc(a,1,0);try{Z(e,i,c)}finally{i.treeContext=a}}else Z(e,i,c)}else if(typeof o=="string"){switch(c=i.blockedSegment,h=Sa(c.chunks,o,a,e.responseState,c.formatContext),c.lastPushedText=!1,d=c.formatContext,c.formatContext=Ba(d,o,a),$c(e,i,h),c.formatContext=d,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:c.chunks.push(Ta,u(o),Ua)}c.lastPushedText=!1}else{switch(o){case gc:case fc:case Wb:case Xb:case Vb:Z(e,i,a.children);return;case bc:Z(e,i,a.children);return;case ec:throw Error(k(343));case ac:e:{o=i.blockedBoundary,c=i.blockedSegment,h=a.fallback,a=a.children,d=new Set;var f={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:d,errorDigest:null},re=Sc(e,c.chunks.length,f,c.formatContext,!1,!1);c.children.push(re),c.lastPushedText=!1;var _=Sc(e,0,null,c.formatContext,!1,!1);_.parentFlushed=!0,i.blockedBoundary=f,i.blockedSegment=_;try{if($c(e,i,a),_.lastPushedText&&_.textEmbedded&&_.chunks.push(Ca),_.status=1,ad(f,_),f.pendingTasks===0)break e}catch($){_.status=4,f.forceClientRender=!0,f.errorDigest=Y(e,$)}finally{i.blockedBoundary=o,i.blockedSegment=c}i=Tc(e,h,o,re,d,i.legacyContext,i.context,i.treeContext),e.pingedTasks.push(i)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $b:if(a=Wc(e,i,o.render,a,c),U!==0){o=i.treeContext,i.treeContext=tc(o,1,0);try{Z(e,i,a)}finally{i.treeContext=o}}else Z(e,i,a);return;case cc:o=o.type,a=Yc(o,a),Zc(e,i,o,a,c);return;case Yb:if(c=a.children,o=o._context,a=a.value,h=o._currentValue,o._currentValue=a,d=O,O=a={parent:d,depth:d===null?0:d.depth+1,context:o,parentValue:h,value:a},i.context=a,Z(e,i,c),e=O,e===null)throw Error(k(403));a=e.parentValue,e.context._currentValue=a===hc?e.context._defaultValue:a,e=O=e.parent,i.context=e;return;case Zb:a=a.children,a=a(o._currentValue),Z(e,i,a);return;case dc:c=o._init,o=c(o._payload),a=Yc(o,a),Zc(e,i,o,a,void 0);return}throw Error(k(130,o==null?o:typeof o,""))}}function Z(e,i,o){if(i.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case Tb:Zc(e,i,o.type,o.props,o.ref);return;case Ub:throw Error(k(257));case dc:var a=o._init;o=a(o._payload),Z(e,i,o);return}if(ra(o)){bd(e,i,o);return}if(o===null||typeof o!="object"?a=null:(a=ic&&o[ic]||o["@@iterator"],a=typeof a=="function"?a:null),a&&(a=a.call(o))){if(o=a.next(),!o.done){var c=[];do c.push(o.value),o=a.next();while(!o.done);bd(e,i,c)}return}throw e=Object.prototype.toString.call(o),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}typeof o=="string"?(a=i.blockedSegment,a.lastPushedText=Da(i.blockedSegment.chunks,o,e.responseState,a.lastPushedText)):typeof o=="number"&&(a=i.blockedSegment,a.lastPushedText=Da(i.blockedSegment.chunks,""+o,e.responseState,a.lastPushedText))}function bd(e,i,o){for(var a=o.length,c=0;c<a;c++){var h=i.treeContext;i.treeContext=tc(h,a,c);try{$c(e,i,o[c])}finally{i.treeContext=h}}}function $c(e,i,o){var a=i.blockedSegment.formatContext,c=i.legacyContext,h=i.context;try{return Z(e,i,o)}catch(re){if(Gc(),typeof re=="object"&&re!==null&&typeof re.then=="function"){o=re;var d=i.blockedSegment,f=Sc(e,d.chunks.length,null,d.formatContext,d.lastPushedText,!0);d.children.push(f),d.lastPushedText=!1,e=Tc(e,i.node,i.blockedBoundary,f,i.abortSet,i.legacyContext,i.context,i.treeContext).ping,o.then(e,e),i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,Q(h)}else throw i.blockedSegment.formatContext=a,i.legacyContext=c,i.context=h,Q(h),re}}function cd(e){var i=e.blockedBoundary;e=e.blockedSegment,e.status=3,dd(this,i,e)}function ed(e,i,o){var a=e.blockedBoundary;e.blockedSegment.status=3,a===null?(i.allPendingTasks--,i.status!==2&&(i.status=2,i.destination!==null&&i.destination.close())):(a.pendingTasks--,a.forceClientRender||(a.forceClientRender=!0,e=o===void 0?Error(k(432)):o,a.errorDigest=i.onError(e),a.parentFlushed&&i.clientRenderedBoundaries.push(a)),a.fallbackAbortableTasks.forEach(function(c){return ed(c,i,o)}),a.fallbackAbortableTasks.clear(),i.allPendingTasks--,i.allPendingTasks===0&&(a=i.onAllReady,a()))}function ad(e,i){if(i.chunks.length===0&&i.children.length===1&&i.children[0].boundary===null){var o=i.children[0];o.id=i.id,o.parentFlushed=!0,o.status===1&&ad(e,o)}else e.completedSegments.push(i)}function dd(e,i,o){if(i===null){if(o.parentFlushed){if(e.completedRootSegment!==null)throw Error(k(389));e.completedRootSegment=o}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=X,i=e.onShellReady,i())}else i.pendingTasks--,i.forceClientRender||(i.pendingTasks===0?(o.parentFlushed&&o.status===1&&ad(i,o),i.parentFlushed&&e.completedBoundaries.push(i),i.fallbackAbortableTasks.forEach(cd,e),i.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(ad(i,o),i.completedSegments.length===1&&i.parentFlushed&&e.partialBoundaries.push(i)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Uc(e){if(e.status!==2){var i=O,o=Pc.current;Pc.current=Oc;var a=Nc;Nc=e.responseState;try{var c=e.pingedTasks,h;for(h=0;h<c.length;h++){var d=c[h],f=e,re=d.blockedSegment;if(re.status===0){Q(d.context);try{Z(f,d,d.node),re.lastPushedText&&re.textEmbedded&&re.chunks.push(Ca),d.abortSet.delete(d),re.status=1,dd(f,d.blockedBoundary,re)}catch(b){if(Gc(),typeof b=="object"&&b!==null&&typeof b.then=="function"){var _=d.ping;b.then(_,_)}else{d.abortSet.delete(d),re.status=4;var $=d.blockedBoundary,_e=b,ve=Y(f,_e);if($===null?Vc(f,_e):($.pendingTasks--,$.forceClientRender||($.forceClientRender=!0,$.errorDigest=ve,$.parentFlushed&&f.clientRenderedBoundaries.push($))),f.allPendingTasks--,f.allPendingTasks===0){var te=f.onAllReady;te()}}}finally{}}}c.splice(0,h),e.destination!==null&&fd(e,e.destination)}catch(b){Y(e,b),Vc(e,b)}finally{Nc=a,Pc.current=o,o===Oc&&Q(i)}}}function gd(e,i,o){switch(o.parentFlushed=!0,o.status){case 0:var a=o.id=e.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,e=e.responseState,p(i,Va),p(i,e.placeholderPrefix),e=u(a.toString(16)),p(i,e),t(i,Wa);case 1:o.status=2;var c=!0;a=o.chunks;var h=0;o=o.children;for(var d=0;d<o.length;d++){for(c=o[d];h<c.index;h++)p(i,a[h]);c=hd(e,i,c)}for(;h<a.length-1;h++)p(i,a[h]);return h<a.length&&(c=t(i,a[h])),c;default:throw Error(k(390))}}function hd(e,i,o){var a=o.boundary;if(a===null)return gd(e,i,o);if(a.parentFlushed=!0,a.forceClientRender)a=a.errorDigest,t(i,$a),p(i,bb),a&&(p(i,db),p(i,u(C(a))),p(i,cb)),t(i,eb),gd(e,i,o);else if(0<a.pendingTasks){a.rootSegmentID=e.nextSegmentId++,0<a.completedSegments.length&&e.partialBoundaries.push(a);var c=e.responseState,h=c.nextSuspenseID++;c=w(c.boundaryPrefix+h.toString(16)),a=a.id=c,fb(i,e.responseState,a),gd(e,i,o)}else if(a.byteSize>e.progressiveChunkSize)a.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(a),fb(i,e.responseState,a.id),gd(e,i,o);else{if(t(i,Xa),o=a.completedSegments,o.length!==1)throw Error(k(391));hd(e,i,o[0])}return t(i,ab)}function id(e,i,o){return Bb(i,e.responseState,o.formatContext,o.id),hd(e,i,o),Cb(i,o.formatContext)}function jd(e,i,o){for(var a=o.completedSegments,c=0;c<a.length;c++)kd(e,i,o,a[c]);if(a.length=0,e=e.responseState,a=o.id,o=o.rootSegmentID,p(i,e.startInlineScript),e.sentCompleteBoundaryFunction?p(i,Jb):(e.sentCompleteBoundaryFunction=!0,p(i,Ib)),a===null)throw Error(k(395));return o=u(o.toString(16)),p(i,a),p(i,Kb),p(i,e.segmentPrefix),p(i,o),t(i,Lb)}function kd(e,i,o,a){if(a.status===2)return!0;var c=a.id;if(c===-1){if((a.id=o.rootSegmentID)===-1)throw Error(k(392));return id(e,i,a)}return id(e,i,a),e=e.responseState,p(i,e.startInlineScript),e.sentCompleteSegmentFunction?p(i,Eb):(e.sentCompleteSegmentFunction=!0,p(i,Db)),p(i,e.segmentPrefix),c=u(c.toString(16)),p(i,c),p(i,Gb),p(i,e.placeholderPrefix),p(i,c),t(i,Hb)}function fd(e,i){l$1=new Uint8Array(512),n=0;try{var o=e.completedRootSegment;if(o!==null&&e.pendingRootTasks===0){hd(e,i,o),e.completedRootSegment=null;var a=e.responseState.bootstrapChunks;for(o=0;o<a.length-1;o++)p(i,a[o]);o<a.length&&t(i,a[o])}var c=e.clientRenderedBoundaries,h;for(h=0;h<c.length;h++){var d=c[h];a=i;var f=e.responseState,re=d.id,_=d.errorDigest,$=d.errorMessage,_e=d.errorComponentStack;if(p(a,f.startInlineScript),f.sentClientRenderFunction?p(a,Nb):(f.sentClientRenderFunction=!0,p(a,Mb)),re===null)throw Error(k(395));p(a,re),p(a,Ob),(_||$||_e)&&(p(a,Qb),p(a,u(Sb(_||"")))),($||_e)&&(p(a,Qb),p(a,u(Sb($||"")))),_e&&(p(a,Qb),p(a,u(Sb(_e)))),t(a,Pb)}c.splice(0,h);var ve=e.completedBoundaries;for(h=0;h<ve.length;h++)jd(e,i,ve[h]);ve.splice(0,h),ba(i),l$1=new Uint8Array(512),n=0;var te=e.partialBoundaries;for(h=0;h<te.length;h++){var b=te[h];e:{c=e,d=i;var me=b.completedSegments;for(f=0;f<me.length;f++)if(!kd(c,d,b,me[f])){f++,me.splice(0,f);var j=!1;break e}me.splice(0,f),j=!0}if(!j){e.destination=null,h++,te.splice(0,h);return}}te.splice(0,h);var g=e.completedBoundaries;for(h=0;h<g.length;h++)jd(e,i,g[h]);g.splice(0,h)}finally{ba(i),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&i.close()}}function ld(e,i){try{var o=e.abortableTasks;o.forEach(function(a){return ed(a,e,i)}),o.clear(),e.destination!==null&&fd(e,e.destination)}catch(a){Y(e,a),Vc(e,a)}}reactDomServer_browser_production_min.renderToReadableStream=function(e,i){return new Promise(function(o,a){var c,h,d=new Promise(function($,_e){h=$,c=_e}),f=Rc(e,za(i?i.identifierPrefix:void 0,i?i.nonce:void 0,i?i.bootstrapScriptContent:void 0,i?i.bootstrapScripts:void 0,i?i.bootstrapModules:void 0),Aa(i?i.namespaceURI:void 0),i?i.progressiveChunkSize:void 0,i?i.onError:void 0,h,function(){var $=new ReadableStream({type:"bytes",pull:function(_e){if(f.status===1)f.status=2,da(_e,f.fatalError);else if(f.status!==2&&f.destination===null){f.destination=_e;try{fd(f,_e)}catch(ve){Y(f,ve),Vc(f,ve)}}},cancel:function(){ld(f)}},{highWaterMark:0});$.allReady=d,o($)},function($){d.catch(function(){}),a($)},c);if(i&&i.signal){var re=i.signal,_=function(){ld(f,re.reason),re.removeEventListener("abort",_)};re.addEventListener("abort",_)}Uc(f)})};reactDomServer_browser_production_min.version="18.3.1";var l,s;l=reactDomServerLegacy_browser_production_min,s=reactDomServer_browser_production_min;server_browser.version=l.version;server_browser.renderToString=l.renderToString;server_browser.renderToStaticMarkup=l.renderToStaticMarkup;server_browser.renderToNodeStream=l.renderToNodeStream;server_browser.renderToStaticNodeStream=l.renderToStaticNodeStream;server_browser.renderToReadableStream=s.renderToReadableStream;var cjs={};const{replace}="",es=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,ca=/[&<>'"]/g,esca={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},pe=e=>esca[e],escape$1=e=>replace.call(e,ca,pe);cjs.escape=escape$1;const unes={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},cape=e=>unes[e],unescape$1=e=>replace.call(e,es,cape);cjs.unescape=unescape$1;var loader={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(h){for(var d,f=1,re=arguments.length;f<re;f++){d=arguments[f];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(h[_]=d[_])}return h},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var o=jsxRuntimeExports,a={position:"absolute",width:"100%",height:"100",zIndex:"9999",background:"rgba(255, 255, 255, 0.4)",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",alignContent:"center"},c=function(){return(0,o.jsx)("div",i({className:"h5p-loader",style:a},{children:(0,o.jsxs)("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"101px",height:"101px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},{children:[(0,o.jsx)("g",i({transform:"rotate(0 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(30 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(60 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(90 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(120 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(150 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(180 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(210 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(240 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(270 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(300 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"})}))})),(0,o.jsx)("g",i({transform:"rotate(330 50 50)"},{children:(0,o.jsx)("rect",i({x:"47.5",y:"24",rx:"2.5",ry:"6",width:"5",height:"12",fill:"#3080c9"},{children:(0,o.jsx)("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})}))}))]}))}))};e.Loader=c,e.default=e.Loader})(loader);(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(_e){for(var ve,te=1,b=arguments.length;te<b;te++){ve=arguments[te];for(var me in ve)Object.prototype.hasOwnProperty.call(ve,me)&&(_e[me]=ve[me])}return _e},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var a=jsxRuntimeExports,c=reactExports,h=server_browser,d=cjs,f=o(loader),re=context,_=function(_e){return(0,d.unescape)(_e)},$=function(_e){var ve=_e.id,te=_e.onSubmit,b=(0,c.useState)(100),me=b[0],j=b[1],g=(0,c.useRef)(null),ne=(0,c.useState)({state:"initial"}),se=ne[0],q=ne[1],ee=(0,c.useContext)(re.EditorContext),he=ee.state,oe=ee.getEditorConfig,le=ee.submitContent;(0,c.useEffect)(function(){oe&&oe(ve)},[ve,oe]),(0,c.useEffect)(function(){var Ae=function(ae){if(ae.origin===window.location.origin&&(ae.data.iFrameHeight&&j(ae.data.iFrameHeight),ae.data.h5pEditorStatus)){var ye=ae.data;ye.h5pEditorStatus==="success"&&he.value==="loaded"&&(q({state:"loading"}),le&&le(i(i({},ye.data),{nonce:he.settings.nonce}),ve).then(function(Pe){te&&Pe&&te(Pe),q({state:"loaded"})}).catch(function(Pe){q({state:"error",error:Pe.toString()})})),ye.h5pEditorStatus==="error"&&console.log(ye.error)}};return window&&window.addEventListener("message",Ae),function(){window&&window.removeEventListener("message",Ae)}},[g,le,he,te,ve]);var ie=(0,c.useMemo)(function(){var Ae,ae,ye,Pe=he.value==="loaded"&&he.settings;if(!Pe)return"";var Ie=he.value==="loaded"&&(!((Ae=he.settings)===null||Ae===void 0)&&Ae.contents)?(ae=he.settings)===null||ae===void 0?void 0:ae.contents[Object.keys((ye=he.settings)===null||ye===void 0?void 0:ye.contents)[0]]:null,Re=Ie?Ie.jsonContent:"";try{Re&&JSON.parse(Re)}catch(xe){return q({state:"error",error:xe&&xe.toString()}),null}var Ne=Ie?Ie.library:"",Ce=`
    (function ($) {
        const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
        const resizeObserver = new ResizeObserver((entries) =>
            postMessage({ iFrameHeight: entries[0].contentRect.height })
        );
        const params = `).concat("`").concat(Re).concat("`",`.split("\\n").join('');
            
        ns.init = function () {
            ns.$ = H5P.jQuery;
            ns.basePath = H5PIntegration.editor.libraryUrl;
            ns.fileIcon = H5PIntegration.editor.fileIcon;
            ns.ajaxPath = H5PIntegration.editor.ajaxPath;
            ns.filesPath = H5PIntegration.editor.filesPath;
            ns.apiVersion = H5PIntegration.editor.apiVersion;
            ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
            ns.assets = H5PIntegration.editor.assets;
            ns.baseUrl = H5PIntegration.baseUrl;
            ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
            if (H5PIntegration.editor.nodeVersionId !== undefined) {
                ns.contentId = H5PIntegration.editor.nodeVersionId;
            }
            const h5peditor = new ns.Editor('`).concat(Ne,`', params, document.getElementById("h5p-editor"));
            H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
            H5P.externalDispatcher.on("resize", (event) => postMessage(event));
            resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
            $("#h5p-editor-submit").click(() => {
                h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
            } );
        };
        ns.getAjaxUrl = function (action, parameters) {
            var url = H5PIntegration.editor.ajaxPath + action;
            url += action === "files" ? "/`).concat(Pe.nonce,`" : "";
            url += "`).concat(Pe.token?"?_token="+Pe.token:"",`";
            if (parameters !== undefined) {
                var separator = url.indexOf("?") === -1 ? "?" : "&";
                for (var property in parameters) {
                    if (parameters.hasOwnProperty(property)) {
                        url += separator + property + "=" + parameters[property];
                        separator = "&";
                    }
                }
            }
            return url;
        };
        $(document).ready(ns.init);
    })(H5P.jQuery);
    `),Fe=(0,h.renderToStaticMarkup)((0,a.jsxs)("html",{children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Pe),"; ")}}),Pe.core.scripts.map(function(xe){return(0,a.jsx)("script",{src:xe},xe)}),Pe.core.styles.map(function(xe){return(0,a.jsx)("link",{type:"text/css",rel:"stylesheet",href:xe},xe)})]}),(0,a.jsx)("body",{children:(0,a.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,a.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:"loading"})),(0,a.jsx)("p",{}),(0,a.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:"submit data"})),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:Ce}})]}))})]})),we=_(Fe);return window.URL.createObjectURL(new Blob([we],{type:"text/html"}))},[he]);return(0,a.jsxs)("div",i({className:"h5p-editor",style:{height:me,position:"relative"}},{children:[se.state==="loading"&&(0,a.jsx)(f.default,{}),se.state==="error"&&(0,a.jsxs)("p",{children:[(0,a.jsx)("pre",{children:"Error:"})," ",se.error]}),ie&&(0,a.jsx)("iframe",{ref:g,title:"editor",src:ie,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=$,e.default=e.Editor})(editor$1);var player$1={},FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,i,o){var a,c,h,d,f,re,_=0,$=!1,_e=!1,ve=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);i=toNumber(i)||0,isObject(o)&&($=!!o.leading,_e="maxWait"in o,h=_e?nativeMax(toNumber(o.maxWait)||0,i):h,ve="trailing"in o?!!o.trailing:ve);function te(he){var oe=a,le=c;return a=c=void 0,_=he,d=e.apply(le,oe),d}function b(he){return _=he,f=setTimeout(g,i),$?te(he):d}function me(he){var oe=he-re,le=he-_,ie=i-oe;return _e?nativeMin(ie,h-le):ie}function j(he){var oe=he-re,le=he-_;return re===void 0||oe>=i||oe<0||_e&&le>=h}function g(){var he=now();if(j(he))return ne(he);f=setTimeout(g,me(he))}function ne(he){return f=void 0,ve&&a?te(he):(a=c=void 0,d)}function se(){f!==void 0&&clearTimeout(f),_=0,a=re=c=f=void 0}function q(){return f===void 0?d:ne(now())}function ee(){var he=now(),oe=j(he);if(a=arguments,c=this,re=he,oe){if(f===void 0)return b(re);if(_e)return f=setTimeout(g,i),te(re)}return f===void 0&&(f=setTimeout(g,i)),d}return ee.cancel=se,ee.flush=q,ee}function throttle(e,i,o){var a=!0,c=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),debounce(e,i,{leading:a,maxWait:i,trailing:c})}function isObject(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(reTrim,"");var o=reIsBinary.test(e);return o||reIsOctal.test(e)?freeParseInt(e.slice(2),o?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_throttle=throttle;(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(ve){for(var te,b=1,me=arguments.length;b<me;b++){te=arguments[b];for(var j in te)Object.prototype.hasOwnProperty.call(te,j)&&(ve[j]=te[j])}return ve},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__spreadArray||function(ve,te,b){if(b||arguments.length===2)for(var me=0,j=te.length,g;me<j;me++)(g||!(me in te))&&(g||(g=Array.prototype.slice.call(te,0,me)),g[me]=te[me]);return ve.concat(g||Array.prototype.slice.call(te))},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(ve){return ve&&ve.__esModule?ve:{default:ve}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,h=reactExports,d=server_browser,f=cjs,re=a(lodash_throttle),_=a(loader),$=context,_e=function(ve){var te=ve.h5pObject,b=ve.id,me=ve.onXAPI,j=ve.styles,g=j===void 0?[]:j,ne=(0,h.useState)(100),se=ne[0],q=ne[1],ee=(0,h.useRef)(null),he=(0,h.useState)(!0),oe=he[0],le=he[1],ie=(0,h.useContext)($.EditorContext),Ae=ie.state,ae=ie.seth5pObject;(0,h.useEffect)(function(){te&&ae&&(ae(te),le(!1))},[te]);var ye=(0,h.useCallback)((0,re.default)(function(Re){q(Re)},200,{leading:!1}),[]),Pe=(0,h.useCallback)(function(Re){Re.data.iFrameHeight&&ye(Re.data.iFrameHeight),Re.data.statement&&me&&me(Re.data)},[me,te,b]);(0,h.useEffect)(function(){return window&&window.addEventListener("message",Pe),function(){window&&window.removeEventListener("message",Pe)}},[ee,Ae,me,b]);var Ie=(0,h.useMemo)(function(){var Re,Ne,Ce,Fe=Ae.value==="loaded"&&Ae.settings;if(!Fe)return"";var we=Ae.value==="loaded"&&(!((Re=Ae.settings)===null||Re===void 0)&&Re.contents)?(Ne=Ae.settings)===null||Ne===void 0?void 0:Ne.contents[Object.keys((Ce=Ae.settings)===null||Ce===void 0?void 0:Ce.contents)[0]]:null;Fe.core.styles=Fe.core.styles.concat(g);var xe=we==null?void 0:we.content.library.embedTypes,fe=(0,d.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
          body, html {margin:0; padding:0;}
          iframe { border:none; margin:0; padding:0; }
          `}),(0,c.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Fe),"; ")}),o(o([],Fe.core.scripts,!0),Fe.loadedJs,!0).map(function(Ee){return(0,c.jsx)("script",{src:Ee},Ee)}),o(o([],Fe.core.styles,!0),Fe.loadedCss,!0).map(function(Ee){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:Ee},Ee)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[xe&&xe==="div"||xe===""&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":b}),xe&&xe==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat(b),className:"h5p-iframe","data-content-id":b,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
            (function ($) {
                const replacerFunc = () => {
                    const visited = new WeakSet();
                    return (key, value) => {
                      if (value.nodeType) return;
                      if (typeof value === "object" && value !== null) {
                        if (visited.has(value)) {
                          return;
                        }
                        visited.add(value);
                      }
                      return value;
                    };
                  };
                const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                const resizeObserver = new ResizeObserver((entries) =>
                    postMessage({ iFrameHeight: entries[0].contentRect.height })
                );
                resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                H5P.externalDispatcher.on('xAPI', function (event) {
                    try {
                      postMessage(event.data, replacerFunc())
                    } catch(err) {
                      console.error(event, err)
                    }
                });
            })(H5P.jQuery);
            `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,f.unescape)(fe).split("&#x27;").join("'")],{type:"text/html"}))},[Ae,b,te]);return(0,c.jsxs)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:[oe&&(0,c.jsx)(_.default,{}),!oe&&(0,c.jsx)("iframe",{ref:ee,title:"player",src:Ie,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:se}})]}))};e.Player=_e,e.default=e.Player})(player$1);var editor={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(_e){for(var ve,te=1,b=arguments.length;te<b;te++){ve=arguments[te];for(var me in ve)Object.prototype.hasOwnProperty.call(ve,me)&&(_e[me]=ve[me])}return _e},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var a=jsxRuntimeExports,c=reactExports,h=server_browser,d=cjs,f=o(loader),re=function(_e){return(0,d.unescape)(_e)},_=function(_e,ve){var te={pl:{loading:"wgrywam dane","submit data":"prześlij dane"},en:{loading:"loading","submit data":"submit data"}},b=ve;return te[b]&&te[b][_e]?te[b][_e]:_e},$=function(_e){var ve=_e.id,te=_e.onSubmit,b=_e.state,me=_e.allowSameOrigin,j=me===void 0?!1:me,g=_e.onError,ne=_e.loading,se=ne===void 0?!1:ne,q=_e.lang,ee=q===void 0?"pl":q,he=_e.iframeId,oe=he===void 0?"h5p-editor":he,le=(0,c.useState)(100),ie=le[0],Ae=le[1],ae=(0,c.useRef)(null);(0,c.useEffect)(function(){var Pe=function(Ie){if(!(Ie.origin!==window.location.origin&&!j)&&(Ie.data.iFrameHeight&&Ae(Ie.data.iFrameHeight),Ie.data.h5pEditorStatus)){var Re=Ie.data;Re.h5pEditorStatus==="success"&&te&&te(i(i({},Re.data),{nonce:b.nonce}),ve),Re.h5pEditorStatus==="error"&&g&&g(Re.error)}};return window&&window.addEventListener("message",Pe),function(){window&&window.removeEventListener("message",Pe)}},[ae,b,te,ve]);var ye=(0,c.useMemo)(function(){var Pe=b;if(!Pe)return"";var Ie=b.contents?b==null?void 0:b.contents[Object.keys(b.contents)[0]]:null,Re=Ie?Ie.jsonContent:"";try{Re&&JSON.parse(Re)}catch(xe){return g&&g(xe&&xe.toString()),null}var Ne=Ie?Ie.library:"",Ce=`
      (function ($) {
          const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
          const resizeObserver = new ResizeObserver((entries) =>
              postMessage({ iFrameHeight: entries[0].contentRect.height })
          );
          const params = `).concat("`").concat(Re).concat("`",`.split("\\n").join('');
          let token = "`).concat(b.token,`";
          
          const onMessage = (e) => {
            if(e.data?.type === "TOKEN_CHANGED") {
              token = e.data?.token ?? null;
            }
          };
          
          window.addEventListener("message", onMessage);
              
          ns.init = function () {
              ns.$ = H5P.jQuery;
              ns.basePath = H5PIntegration.editor.libraryUrl;
              ns.fileIcon = H5PIntegration.editor.fileIcon;
              ns.ajaxPath = H5PIntegration.editor.ajaxPath;
              ns.filesPath = H5PIntegration.editor.filesPath;
              ns.apiVersion = H5PIntegration.editor.apiVersion;
              ns.copyrightSemantics = H5PIntegration.editor.copyrightSemantics;
              ns.assets = H5PIntegration.editor.assets;
              ns.baseUrl = H5PIntegration.baseUrl;
              ns.metadataSemantics = H5PIntegration.editor.metadataSemantics;
              if (H5PIntegration.editor.nodeVersionId !== undefined) {
                  ns.contentId = H5PIntegration.editor.nodeVersionId;
              }
              const h5peditor = new ns.Editor('`).concat(Ne,`', params, document.getElementById("h5p-editor"));
              H5P.externalDispatcher.on("xAPI", (event) => postMessage(event));
              H5P.externalDispatcher.on("resize", (event) => postMessage(event));
              resizeObserver.observe(document.querySelector(".h5p-editor-wrapper"));
              $("#h5p-editor-submit").click(() => {
                  h5peditor.getContent(data => postMessage({h5pEditorStatus:"success", data}), error =>  postMessage({h5pEditorStatus:"error", error}))
              } );
          };
          ns.getAjaxUrl = function (action, parameters) {
              var url = H5PIntegration.editor.ajaxPath + action;
              url += action === "files" ? "/`).concat(Pe.nonce,`" : "";
              url += token ? "?_token=" + token : "";
              url += "`).concat(ee?"&lang="+ee:"",`";
              if (parameters !== undefined) {
                  var separator = url.indexOf("?") === -1 ? "?" : "&";
                  for (var property in parameters) {
                      if (parameters.hasOwnProperty(property)) {
                          url += separator + property + "=" + parameters[property];
                          separator = "&";
                      }
                  }
              }
              return url;
          };
          $(document).ready(ns.init);
      })(H5P.jQuery);
      `),Fe=(0,h.renderToStaticMarkup)((0,a.jsxs)("html",{children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("style",{children:" body, html {margin:0; padding:0;}"}),(0,a.jsx)("script",{children:"const H5PIntegration = window.H5PIntegration = ".concat(JSON.stringify(Pe),"; ")}),Pe.core.scripts.map(function(xe){return(0,a.jsx)("script",{src:xe},xe)}),Pe.core.styles.map(function(xe){return(0,a.jsx)("link",{type:"text/css",rel:"stylesheet",href:xe},xe)})]}),(0,a.jsx)("body",{children:(0,a.jsxs)("div",i({className:"h5p-editor-wrapper"},{children:[(0,a.jsx)("div",i({id:"h5p-editor",className:"height-observer"},{children:_("loading",ee)})),(0,a.jsx)("p",{}),(0,a.jsx)("button",i({className:"h5p-core-button",id:"h5p-editor-submit"},{children:_("submit data",ee)})),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:Ce}})]}))})]})),we=re(Fe);return window.URL.createObjectURL(new Blob([we],{type:"text/html"}))},[b]);return(0,a.jsxs)("div",i({className:"h5p-editor",style:{height:ie,position:"relative"}},{children:[se&&(0,a.jsx)(f.default,{}),ye&&(0,a.jsx)("iframe",{ref:ae,title:"editor",src:ye,id:oe,style:{width:"100%",height:"100%",margin:0,padding:0,border:"none"}})]}))};e.Editor=$,e.default=e.Editor})(editor);var player={};(function(e){var i=commonjsGlobal&&commonjsGlobal.__assign||function(){return i=Object.assign||function(ve){for(var te,b=1,me=arguments.length;b<me;b++){te=arguments[b];for(var j in te)Object.prototype.hasOwnProperty.call(te,j)&&(ve[j]=te[j])}return ve},i.apply(this,arguments)},o=commonjsGlobal&&commonjsGlobal.__spreadArray||function(ve,te,b){if(b||arguments.length===2)for(var me=0,j=te.length,g;me<j;me++)(g||!(me in te))&&(g||(g=Array.prototype.slice.call(te,0,me)),g[me]=te[me]);return ve.concat(g||Array.prototype.slice.call(te))},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(ve){return ve&&ve.__esModule?ve:{default:ve}};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=jsxRuntimeExports,h=reactExports,d=server_browser,f=cjs,re=a(lodash_throttle),_=function(ve){return ve.includes("://")};function $(ve){var te=Uint16Array.from({length:ve.length},function(j,g){return ve.charCodeAt(g)}),b=new Uint8Array(te.buffer),me="";return b.forEach(function(j){me+=String.fromCharCode(j)}),me}var _e=function(ve){var te=ve.onXAPI,b=ve.state,me=ve.styles,j=me===void 0?[]:me;ve.lang;var g=(0,h.useState)(100),ne=g[0],se=g[1],q=(0,h.useRef)(null),ee=(0,h.useMemo)(function(){if(b!=null&&b.contents){var ie=Number(Object.keys(b==null?void 0:b.contents)[0].split("-")[1]);return isNaN(ie)?0:ie}return 0},[b]),he=(0,h.useCallback)((0,re.default)(function(ie){se(ie)},200,{leading:!1}),[]),oe=(0,h.useCallback)(function(ie){ie.data.iFrameHeight&&he(ie.data.iFrameHeight),ie.data.statement&&te&&te(ie.data)},[te,b,q]);(0,h.useEffect)(function(){return window&&window.addEventListener("message",oe),function(){window&&window.removeEventListener("message",oe)}},[q,b,te]);var le=(0,h.useMemo)(function(){var ie=b;if(!ie)return"";ie.core.styles=ie.core.styles.concat(j);var Ae=b!=null&&b.contents?b==null?void 0:b.contents[Object.keys(b==null?void 0:b.contents)[0]]:null,ae=ie.loadedJs&&ie.loadedJs.length>0?"div":"iframe";ie.core.scripts=ie.core.scripts.map(function(Ie){return _(Ie)?Ie:_(ie.baseUrl)?"".concat(ie.baseUrl,"/").concat(Ie,";"):Ie});var ye=_(ie.baseUrl)?ie.baseUrl+"/":"",Pe=(0,d.renderToStaticMarkup)((0,c.jsxs)("html",{children:[(0,c.jsxs)("head",{children:[(0,c.jsx)("style",{children:`
            body, html {margin:0; padding:0;}
            iframe { border:none; margin:0; padding:0; }
            `}),(0,c.jsx)("script",{children:`
            window._aaa = '`.concat(btoa($(JSON.stringify(ie,null,2))),`';          
            function fromBinary(r){let e=Uint8Array.from({length:r.length},(e,n)=>r.charCodeAt(n)),n=new Uint16Array(e.buffer),o="";return n.forEach(r=>{o+=String.fromCharCode(r)}),o};
            const H5PIntegration = window.H5PIntegration = JSON.parse(fromBinary(atob('`).concat(btoa($(JSON.stringify(ie,null,2))),`')))
            `)}),o(o(o([],ie.core.scripts?ie.core.scripts:[],!0),ie.loadedJs?ie.loadedJs:[],!0),Ae!=null&&Ae.scripts?Ae==null?void 0:Ae.scripts:[],!0).map(function(Ie){return(0,c.jsx)("script",{src:_(Ie)?Ie:ye+Ie},Ie)}),o(o(o([],ie.core.styles?ie.core.styles:[],!0),ie.loadedCss?ie.loadedCss:[],!0),Ae!=null&&Ae.styles?Ae==null?void 0:Ae.styles:[],!0).map(function(Ie){return(0,c.jsx)("link",{type:"text/css",rel:"stylesheet",href:_(Ie)?Ie:ye+Ie},Ie)}),(0,c.jsx)("script",{children:'H5P.getCrossOrigin = function (source) { return "anonymous" }'})]}),(0,c.jsx)("body",{children:(0,c.jsxs)("div",i({className:"h5p-player-wrapper h5p-resize-observer"},{children:[ae&&ae==="div"&&(0,c.jsx)("div",{className:"h5p-content","data-content-id":ee}),ae&&ae==="iframe"&&(0,c.jsx)("div",i({className:"h5p-iframe-wrapper"},{children:(0,c.jsx)("iframe",{id:"h5p-iframe-".concat(ee),className:"h5p-iframe","data-content-id":ee,src:"about:blank",frameBorder:"0",scrolling:"no",title:"player"})})),(0,c.jsx)("script",{children:`
              (function ($) {
                  const replacerFunc = () => {
                      const visited = new WeakSet();
                      return (key, value) => {
                        if (value.nodeType) return;
                        if (typeof value === "object" && value !== null) {
                          if (visited.has(value)) {
                            return;
                          }
                          visited.add(value);
                        }
                        return value;
                      };
                    };
                  const postMessage = (data) => parent.postMessage(data, "`.concat(window.location.origin,`");
                  const resizeObserver = new ResizeObserver((entries) =>
                      postMessage({ iFrameHeight: entries[0].contentRect.height })
                  );
                  resizeObserver.observe(document.querySelector(".h5p-resize-observer"));
                  H5P.externalDispatcher.on('xAPI', function (event) {
                      try {
                        postMessage(event.data, replacerFunc())
                      } catch(err) {
                        console.error(event, err)
                      }
                  });
              })(H5P.jQuery);
              `)})]}))})]}));return window.URL.createObjectURL(new Blob([(0,f.unescape)(Pe).split("&#x27;").join("'")],{type:"text/html"}))},[b]);return(0,c.jsx)("div",i({className:"h5p-player",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"row"}},{children:(0,c.jsx)("iframe",{ref:q,title:"player",src:le,style:{display:"block",border:"none",flexGrow:1,flexShrink:1,height:ne}})}))};e.Player=_e,e.default=e.Player})(player);(function(e){var i=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextlessPlayer=e.ContextlessEditor=e.Player=e.Editor=e.EditorContext=e.EditorContextProvider=void 0;var o=context;Object.defineProperty(e,"EditorContextProvider",{enumerable:!0,get:function(){return o.EditorContextProvider}}),Object.defineProperty(e,"EditorContext",{enumerable:!0,get:function(){return o.EditorContext}});var a=i(editor$1);e.Editor=a.default;var c=i(player$1);e.Player=c.default;var h=i(editor);e.ContextlessEditor=h.default;var d=i(player);e.ContextlessPlayer=d.default,e.default={EditorContextProvider:o.EditorContextProvider,EditorContext:o.EditorContext,Editor:a.default,Player:c.default,ContextlessEditor:h.default,ContextlessPlayer:d.default}})(lib);(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ne,se){return Object.defineProperty?Object.defineProperty(ne,"raw",{value:se}):ne.raw=se,ne},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(ne){for(var se,q=1,ee=arguments.length;q<ee;q++){se=arguments[q];for(var he in se)Object.prototype.hasOwnProperty.call(se,he)&&(ne[he]=se[he])}return ne},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,se,q,ee){ee===void 0&&(ee=q);var he=Object.getOwnPropertyDescriptor(se,q);(!he||("get"in he?!se.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return se[q]}}),Object.defineProperty(ne,ee,he)}:function(ne,se,q,ee){ee===void 0&&(ee=q),ne[ee]=se[q]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ne,se){Object.defineProperty(ne,"default",{enumerable:!0,value:se})}:function(ne,se){ne.default=se}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(ne){if(ne&&ne.__esModule)return ne;var se={};if(ne!=null)for(var q in ne)q!=="default"&&Object.prototype.hasOwnProperty.call(ne,q)&&a(se,ne,q);return c(se,ne),se};Object.defineProperty(e,"__esModule",{value:!0}),e.H5Player=void 0;var d=jsxRuntimeExports,f=reactExports,re=h(require$$6$1),_=lib,$=requireContext(),_e=provider,ve=Spin,te=utils$3,b=(0,re.default)("div")(j||(j=i([`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`],[`
  border-radius: `,`px;
  position: relative;
  width: 100%;
`])),function(ne){return ne.theme.buttonRadius||0}),me=function(ne){var se=ne.uuid,q=ne.onXAPI,ee=ne.onTopicEnd,he=ne.overwriteFileName,oe=he===void 0?"h5p_overwrite.css":he,le=ne.h5pObject,ie=ne.loading,Ae=ie===void 0?!1:ie,ae=ne.className,ye=ae===void 0?"":ae,Pe=ne.hideActionButtons,Ie=(0,f.useContext)($.EscolaLMSContext),Re=Ie.fetchH5P,Ne=Ie.h5p;(0,f.useEffect)(function(){se&&Re(se)},[se,Re]);var Ce=(0,f.useContext)(re.ThemeContext),Fe=(0,te.getStylesBasedOnTheme)(Ce.mode,Ce.white,Ce.black),we=(0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__background,Ce.background),xe=(0,te.getStylesBasedOnTheme)(Ce.mode,"transparent",Ce.gray5),fe=(0,te.getStylesBasedOnTheme)(Ce.mode,Ce.white,Ce.gray1),Ee=(0,f.useMemo)(function(){var ce=`
    @import url("https://fonts.googleapis.com/css2?family=`.concat(Ce.font,`:wght@400;500;700&display=swap");

    *:not([class^="h5p-icon"]) {
      font-family: `).concat((0,_e.getFontFromTheme)(Ce).fontFamily,`!important;
    }
    button {
      border-radius: `).concat(Ce.buttonRadius,`px!important;
    }
    input, textarea {
      border-radius: `).concat(Ce.inputRadius,`px!important;
    }
    .h5p-baq-intro-page {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__secondaryColor,Ce.secondaryColor,Ce.primaryColor),` !important;
      color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    }
    .h5p-joubelui-button.mq-control-button {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      border-bottom: none!important;
      text-shadow: none!important;
      border-radius: `).concat(Ce.buttonRadius,`px!important;
    }
    .h5p-joubelui-button {
      border-radius: `).concat(Ce.buttonRadius,`px!important;
    }
    .h5p-baq-intro-page-title {
      text-shadow: none!important;
      color: `).concat(Ce.white,` !important;
    }
    .h5p-baq {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    }
    .h5p-baq-countdown-text {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    }
    .h5p-baq-countdown-bg.fuel {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-joubelui-progressbar-background {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
    .h5p-baq-alternatives > .h5p-joubelui-button:active, .h5p-baq-alternatives > .h5p-joubelui-button:hover {
      background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
      filter: brightness(0.8) !important;
    }
   .odometer-value {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-question {
    background: `).concat(we,` !important;
    color: `).concat(Fe,`!important;
   }
   .h5peditor .ui-dialog .h5p-joubelui-button, .h5peditor .h5p-joubelui-button, .h5p-joubelui-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-crossword-cell.h5p-crossword-cell-empty {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray2,Ce.gray3),` !important;
   }
   .h5p-crossword-input-fields-group-input {
    background:`).concat(xe,` !important;
    border: 1px solid `).concat(fe,`!important;
    color: `).concat(Fe,` !important;
   }
   .h5p-crossword .h5p-crossword-cell:not(.h5p-crossword-solution-correct):not(.h5p-crossword-solution-wrong):not(.h5p-crossword-solution-neutral).h5p-crossword-highlight-normal {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-crossword .h5p-crossword-input-fields-group-wrapper-clue.h5p-crossword-input-fields-group-clue-highlight-focus .h5p-crossword-input-fields-group-clue-id {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    color: `).concat(Ce.white,`!important;
   }
   .h5p-crossword .h5p-crossword-cell.h5p-crossword-highlight-normal .h5p-crossword-cell-canvas {
    color: `).concat(Ce.white,`!important;
   }
   .h5p-dialogcards {
      background: `).concat(we,` !important;
      color: `).concat(Fe,`!important;
   }
   .h5p-dialogcards-card-content {
    background: `).concat(we,` !important;
   }
   .h5p-dialogcards .h5p-audio-minimal-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-essay-input-field-textfield {
    background: `).concat(xe,` !important;
    border: 1px solid `).concat(fe,`!important;
    color: `).concat(Fe,`!important;
   }
   .h5p-question-feedback-content-text {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-question-explanation-container {
    background: `).concat(we,` !important;
   }
   .h5p-question-explanation-item {
    background: `).concat(we,` !important;
   }
   .h5p-accordion .h5p-panel-content {
    color: `).concat(Fe,`!important;
   }
   .h5p-accordion .h5p-panel-title {
    color: `).concat(Fe,`!important;
   }
   .h5p-panel-content h5p-advanced-text {
    color: `).concat(Fe,`!important;
   }
   .h5p-status dt {
    color: `).concat(Fe,`!important;  
   }
   .h5p-status dd {
    color: `).concat(Fe,`!important;  
   }
   .h5p-accordion .h5p-panel-title:before {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-accordion {
    background: `).concat(we,` !important;
    color: `).concat(Fe,`!important;
   }
   .h5p-panel-title {
    color: `).concat(Fe,`!important;
   }
   .h5p-panel-expanded {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-questionnaire-element.h5p-questionnaire-required .h5p-subcontent-question {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    color: `).concat(Ce.white,`!important;
   }
   .h5p-questionnaire-required-symbol {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-questionnaire-progress-bar-current {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    filter: brightness(0.8) !important;
   }
   .h5p-questionnaire-footer {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray2,Ce.gray4),` !important;
    border: none!important;
   }
   .h5p-questionnaire-button, .h5peditor .h5p-questionnaire-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    border: none!important;
   }
   .h5p-open-ended-question-input {
    background: `).concat(xe,` !important;
    border: 1px solid `).concat(fe,`!important;
    color: `).concat(Fe,`!important;
    width: 100%!important;
    max-width: 100%!important;
   }
   .h5p-open-ended-question-content {
    background: `).concat(we,` !important;
   }
   .h5p-open-ended-question-question:before {
    background: `).concat(we,` !important;
   }
   .h5p-questionnaire-progress-bar {
    background: `).concat(Ce.gray2,` !important;
   }
   .h5p-open-ended-question-question, 
   .h5p-simple-multiple-choice-question, 
   h5p-subcontent-question {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-true-false-answer {
    background: `).concat(we,`!important;
   }
   .h5p-true-false-answer[aria-checked=true] {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    color: `).concat(Ce.white,`!important;
    border: 1px solid `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-true-false-answer:focus {
    box-shadow: 0 0 0 1px `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-alternative-container {
    background: `).concat(xe,` !important;
    border: 1px solid `).concat(fe,`!important;
    box-shadow: none!important;
   }
   .h5p-multichoice .h5p-answer[aria-checked="true"] .h5p-alternative-container {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-multichoice .h5p-answer .h5p-alternative-container:before {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray4,Ce.gray2),`!important;
    border-radius: `).concat(Ce.checkboxRadius,`!important;
   }
   .h5p-question-feedback {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   ul.h5p-sc-alternatives li.h5p-sc-alternative {
    background: `).concat(xe,` !important;
    border: 1px solid `).concat(fe,`!important;
    box-shadow: none!important;
   }
   li.h5p-sc-alternative .h5p-sc-progressbar {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
  
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:hover, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:active, 
   ul.h5p-sc-alternatives.h5p-sc-selected li.h5p-sc-alternative.h5p-sc-reveal-correct:focus {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,"lime","green"),`!important;
   }
   .h5p-image-hotspot-popup {
    background: `).concat(we,` !important;
    color: `).concat(Fe,`!important;
   }
   .h5p-image-hotspots {
    background-color: `).concat(we,` !important;
   }
   .h5p-image-hotspot-popup-pointer {
    border-left: 0.6em solid `).concat(we,`!important;
   }
   .h5p-image-sequencing {
    background: `).concat(we,` !important;
    color: `).concat(Fe,`!important;
   }
   .h5p-task-description {
    color: `).concat(Fe,`!important;
   }
   .draggabled .image-desc .text {
    color: `).concat(Fe,`!important;
   }
   .h5p-guess-answer {
    background: `).concat(we,` !important;
   }
   .h5p-content {
    background: `).concat(we,` !important;
   }
   .h5p-guess-answer-title {
    color: `).concat(Fe,`!important;
   }
   .show-solution-button {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    color: `).concat(Ce.white,`!important;
   }
   .solution-text {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-image-slider-progress-element {
    background: transparent !important;
    border: 1px solid `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
    border-radius: `).concat(Ce.buttonRadius,`px!important;
    width: 9px!important;
    height: 9px!important;
   }
   .h5p-image-slider-current-progress-element {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
   }
   .h5p-memory-reset {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),` !important;
    color: "#fff"!important;
   }
   .h5p-feedback h5p-show {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-memory-game .h5p-memory-top {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray2,Ce.gray4),` !important;
   }
   .h5p-memory-game .h5p-memory-pop {
    background: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.gray1,Ce.gray3),` !important;
   }
   .h5p-memory-game .h5p-programatically-focusable {
    color: `).concat((0,te.getStylesBasedOnTheme)(Ce.mode,Ce.dm__primaryColor,Ce.primaryColor,Ce.primaryColor),`!important;
   }
   .h5p-content ul.h5p-actions {
    display: `).concat(Pe?"none":"block",`;
  }
  `);return"data:text/css;base64,".concat(btoa(ce))},[Ce,Pe]);return(0,d.jsxs)(b,o({className:"wellms-component ".concat(ye)},{children:[(Ne&&Ne.loading||Ae)&&(0,d.jsx)("div",o({className:"h5p-loading"},{children:(0,d.jsx)(ve.Spin,{})})),(Ne.value||le)&&(0,d.jsx)(_.ContextlessPlayer,{state:Ne.value||le,onXAPI:function(ce){var de,be;q==null||q(ce),!((be=(de=ce==null?void 0:ce.statement)===null||de===void 0?void 0:de.result)===null||be===void 0)&&be.success&&(ee==null||ee())},styles:["".concat(window.location.origin,"/").concat(oe),Ee]},Ee)]}))};e.H5Player=me,e.default=(0,re.withTheme)((0,re.default)(e.H5Player)(g||(g=i([""],[""]))));var j,g})(H5Player);var quizzes={},gfit_quiz={},__assign$c=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$c=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$c.apply(this,arguments)},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,i,o,a){function c(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function f($){try{_(a.next($))}catch(_e){d(_e)}}function re($){try{_(a.throw($))}catch(_e){d(_e)}}function _($){$.done?h($.value):c($.value).then(f,re)}_((a=a.apply(e,i||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(e,i){var o={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(_){return function($){return re([_,$])}}function re(_){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,c&&(h=_[0]&2?c.return:_[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,_[1])).done)return h;switch(c=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return o.label++,{value:_[1],done:!1};case 5:o.label++,c=_[1],_=[0];continue;case 7:_=o.ops.pop(),o.trys.pop();continue;default:if(h=o.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){o=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){o.label=_[1];break}if(_[0]===6&&o.label<h[1]){o.label=h[1],h=_;break}if(h&&o.label<h[2]){o.label=h[2],o.ops.push(_);break}h[2]&&o.ops.pop(),o.trys.pop();continue}_=i.call(e,o)}catch($){_=[6,$],c=0}finally{a=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gfit_quiz,"__esModule",{value:!0});gfit_quiz.quizAttemptFinish=gfit_quiz.getQuizAttempt=gfit_quiz.getQuizAttempts=gfit_quiz.quizAnswer=gfit_quiz.quizAttempt=void 0;var umi_request_1=__importDefault$8(require$$0$1),utils_1$7=utils$4;function quizAttempt(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"POST",data:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.quizAttempt=quizAttempt;function quizAnswer(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-answers"),__assign$c({method:"POST",data:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.quizAnswer=quizAnswer;function getQuizAttempts(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts"),__assign$c({method:"GET",params:o,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.getQuizAttempts=getQuizAttempts;function getQuizAttempt(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(o),__assign$c({method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.getQuizAttempt=getQuizAttempt;function quizAttemptFinish(e,i,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,(0,umi_request_1.default)("".concat(e,"/api/quiz-attempts/").concat(o,"/end"),__assign$c({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i),"Current-timezone":(0,utils_1$7.currentTimezone)()}},a||{}))]})})}gfit_quiz.quizAttemptFinish=quizAttemptFinish;var GiftQuizPlayerContent={},MultipleChoice$1={},DefaultQuestionLayout$1={},__makeTemplateObject$a=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$b=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$b=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$b.apply(this,arguments)},__createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$a(i,e,o);return __setModuleDefault$a(i,e),i},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(e,i){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(o[a[c]]=e[a[c]]);return o};Object.defineProperty(DefaultQuestionLayout$1,"__esModule",{value:!0});var jsx_runtime_1$b=jsxRuntimeExports,react_1$3=reactExports,react_transition_group_1=require$$2$3,styled_components_1$a=__importStar$a(require$$6$1),__1$a=requireLib(),RelativeText=(0,styled_components_1$a.default)(__1$a.Text)(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  position: relative;
  width: max-content;
`],[`
  position: relative;
  width: max-content;
`]))),scoreBackgrounds=function(e,i){switch(e){case"positive":return i.positive;case"negative":return i.dm__errorColor;default:return i.primaryColor}},ScoreIndicator=styled_components_1$a.default.span(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$a([`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`],[`
  position: absolute;
  top: -8px;
  right: -12px;
  padding-inline: 4px;
  border-radius: 4px;
  background-color: `,`;
  line-height: 1.3;

  &.fade-enter {
    opacity: 0;
    transform: scale(0.9);
  }
  &.fade-enter-active {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-enter-done {
    opacity: 1;
    transform: scale(1);
  }
  &.fade-exit-active {
    opacity: 0;
    transform: scale(0.9);
  }
`])),function(e){var i=e.theme,o=e.$scoreState;return scoreBackgrounds(o,i)}),LeftPaddingStack=(0,styled_components_1$a.default)(__1$a.Stack)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$a([`
  padding-left: 12px;
`],[`
  padding-left: 12px;
`])));function determineResultScoreState(e){if(e){if(e>0)return"positive";if(e<0)return"negative"}else return"neutral";return"neutral"}var resultScoreSign={positive:"+",neutral:"",negative:"-"},DefaultQuestionLayout=function(e){var i=e.title,o=e.question,a=e.children,c=e.showScore,h=e.resultScore,d=__rest(e,["title","question","children","showScore","resultScore"]),f=determineResultScoreState(h),re=(0,react_1$3.useRef)(null);return(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({},d,{$gap:6},{children:[(0,jsx_runtime_1$b.jsxs)(__1$a.Stack,__assign$b({$gap:2},{children:[i&&(0,jsx_runtime_1$b.jsx)(__1$a.Title,__assign$b({level:"2"},{children:i})),(0,jsx_runtime_1$b.jsxs)(RelativeText,{children:[o,(0,jsx_runtime_1$b.jsx)(react_transition_group_1.CSSTransition,__assign$b({in:c,nodeRef:re,timeout:200,classNames:"fade",unmountOnExit:!0},{children:(0,jsx_runtime_1$b.jsx)(ScoreIndicator,__assign$b({ref:re,$scoreState:f},{children:"".concat(resultScoreSign[f]).concat(h??0)}))}))]})]})),(0,jsx_runtime_1$b.jsx)(LeftPaddingStack,__assign$b({$gap:4},{children:a}))]}))};DefaultQuestionLayout$1.default=(0,styled_components_1$a.withTheme)((0,styled_components_1$a.default)(DefaultQuestionLayout)(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$a([""],[""]))));var templateObject_1$a,templateObject_2$3,templateObject_3$3,templateObject_4$1,__makeTemplateObject$9=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$a=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$a=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$a.apply(this,arguments)},__createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$9(i,e,o);return __setModuleDefault$9(i,e),i},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoice$1,"__esModule",{value:!0});var jsx_runtime_1$a=jsxRuntimeExports,__1$9=requireLib(),utils_1$6=utils$3,DefaultQuestionLayout_1$6=__importDefault$7(DefaultQuestionLayout$1),styled_components_1$9=__importStar$9(require$$6$1),MultipleChoice=function(e){var i=e.question,o=e.id,a=e.options,c=e.title,h=e.onChange,d=e.onBlur,f=e.value,re=e.hasQuizEnded,_=e.resultScore;return(0,jsx_runtime_1$a.jsx)(DefaultQuestionLayout_1$6.default,__assign$a({"data-testid":"multiple-choice-".concat(i),title:c,question:i,resultScore:_,showScore:re},{children:a==null?void 0:a.answers.map(function($){return(0,jsx_runtime_1$a.jsx)(__1$9.Radio,{label:$,id:(0,utils_1$6.getUniqueId)($),value:$,disabled:re,name:"".concat(o),checked:f===$,onChange:h,onBlur:d},$)})}))};MultipleChoice$1.default=(0,styled_components_1$9.withTheme)((0,styled_components_1$9.default)(MultipleChoice)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([""],[""]))));var templateObject_1$9,MultipleChoiceWithMultipleRightAnswers$1={},__makeTemplateObject$8=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$9.apply(this,arguments)},__createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$8(i,e,o);return __setModuleDefault$8(i,e),i},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(MultipleChoiceWithMultipleRightAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$9=jsxRuntimeExports,__1$8=requireLib(),utils_1$5=utils$3,DefaultQuestionLayout_1$5=__importDefault$6(DefaultQuestionLayout$1),styled_components_1$8=__importStar$8(require$$6$1),MultipleChoiceWithMultipleRightAnswers=function(e){var i=e.id,o=e.question,a=e.title,c=e.options,h=e.onChange,d=e.onBlur,f=e.values,re=e.hasQuizEnded,_=e.resultScore,$=function(_e){var ve;return(ve=Object.entries(f).find(function(te){var b=te[0];return b===_e}))===null||ve===void 0?void 0:ve[1]};return(0,jsx_runtime_1$9.jsx)(DefaultQuestionLayout_1$5.default,__assign$9({"data-testid":"multiple-choice-multiple-right-".concat(o),title:a,question:o,resultScore:_,showScore:re},{children:c==null?void 0:c.answers.map(function(_e){return(0,jsx_runtime_1$9.jsx)(__1$8.Checkbox,{label:_e,disabled:re,id:(0,utils_1$5.getUniqueId)(_e),value:_e,name:"".concat(i,".").concat(_e),checked:$(_e),onChange:h,onBlur:d},_e)})}))};MultipleChoiceWithMultipleRightAnswers$1.default=(0,styled_components_1$8.withTheme)((0,styled_components_1$8.default)(MultipleChoiceWithMultipleRightAnswers)(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([""],[""]))));var templateObject_1$8,TrueFalse$1={},__makeTemplateObject$7=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$8.apply(this,arguments)},__createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$7(i,e,o);return __setModuleDefault$7(i,e),i},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TrueFalse$1,"__esModule",{value:!0});var jsx_runtime_1$8=jsxRuntimeExports,__1$7=requireLib(),utils_1$4=utils$3,DefaultQuestionLayout_1$4=__importDefault$5(DefaultQuestionLayout$1),styled_components_1$7=__importStar$7(require$$6$1),inputs=[{value:"true",label:"True"},{value:"false",label:"False"}],TrueFalse=function(e){var i=e.question,o=e.id,a=e.title,c=e.onChange,h=e.onBlur,d=e.value,f=e.hasQuizEnded,re=e.resultScore;return(0,jsx_runtime_1$8.jsx)(DefaultQuestionLayout_1$4.default,__assign$8({"data-testid":"true-false-".concat(i),title:a,question:i,resultScore:re,showScore:f},{children:inputs.map(function(_){return(0,jsx_runtime_1$8.jsx)(__1$7.Radio,{label:_.label,disabled:f,id:(0,utils_1$4.getUniqueId)(_.label),value:_.value,name:"".concat(o),checked:d===_.value,onChange:c,onBlur:h},_.value)})}))};TrueFalse$1.default=(0,styled_components_1$7.withTheme)((0,styled_components_1$7.default)(TrueFalse)(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([""],[""]))));var templateObject_1$7,ShortAnswers$1={},__makeTemplateObject$6=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$7.apply(this,arguments)},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$6(i,e,o);return __setModuleDefault$6(i,e),i},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ShortAnswers$1,"__esModule",{value:!0});var jsx_runtime_1$7=jsxRuntimeExports,react_i18next_1$4=require$$3,__1$6=requireLib(),utils_1$3=utils$3,DefaultQuestionLayout_1$3=__importDefault$4(DefaultQuestionLayout$1),styled_components_1$6=__importStar$6(require$$6$1),ShortAnswers=function(e){var i=e.question,o=e.title,a=e.id,c=e.onChange,h=e.onBlur,d=e.value,f=e.hasQuizEnded,re=e.resultScore,_=(0,react_i18next_1$4.useTranslation)().t;return(0,jsx_runtime_1$7.jsx)(DefaultQuestionLayout_1$3.default,__assign$7({"data-testid":"short-answers-".concat(i),title:o,question:i,resultScore:re,showScore:f},{children:(0,jsx_runtime_1$7.jsx)(__1$6.Input,{placeholder:_("Quiz.TypeAnswer"),id:(0,utils_1$3.getUniqueId)("ShortAnswers-".concat(a)),name:"".concat(a),disabled:f,value:d,onChange:c,onBlur:h})}))};ShortAnswers$1.default=(0,styled_components_1$6.withTheme)((0,styled_components_1$6.default)(ShortAnswers)(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([""],[""]))));var templateObject_1$6,Matching$1={},bezierLine={},__assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$6.apply(this,arguments)};Object.defineProperty(bezierLine,"__esModule",{value:!0});bezierLine.BezierLine=void 0;var jsx_runtime_1$6=jsxRuntimeExports,BezierLine=function(e){var i=e.x1,o=e.y1,a=e.x2,c=e.y2,h=(o+c)/2,d=(i+a)/4,f="M ".concat(i," ").concat(o," Q ").concat(d," ").concat(o,", ").concat(2*d," ").concat(h," T ").concat(a," ").concat(c);return(0,jsx_runtime_1$6.jsx)("svg",__assign$6({fill:"none",style:{position:"absolute",width:"100%",height:"100%"}},{children:(0,jsx_runtime_1$6.jsx)("path",{d:f,stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}))};bezierLine.BezierLine=BezierLine;var __makeTemplateObject$5=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$5.apply(this,arguments)},__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$5(i,e,o);return __setModuleDefault$5(i,e),i},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Matching$1,"__esModule",{value:!0});var jsx_runtime_1$5=jsxRuntimeExports,react_1$2=reactExports,__1$5=requireLib(),styled_components_1$5=__importStar$5(require$$6$1),bezierLine_1=bezierLine,DefaultQuestionLayout_1$2=__importDefault$3(DefaultQuestionLayout$1),utils_1$2=utils$3,chroma_js_1=__importDefault$3(chromaExports),MatcherWrapper=styled_components_1$5.default.div(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  position: relative;
`],[`
  position: relative;
`]))),StyledRow=(0,styled_components_1$5.default)(__1$5.Row)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$5([`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`],[`
  & ul {
    padding: 0px;
  }
  & svg {
    color: `,`;
  }
`])),function(e){var i=e.theme;return(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),circle=(0,styled_components_1$5.css)(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$5([`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`],[`
  position: absolute;
  height: 8px;
  width: 8px;
  top: 42%;
  background-color: `,`;
  border-radius: 50%;
`])),function(e){var i=e.theme;return(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__cardBackgroundColor,i.cardBackgroundColor)}),StartCircle=styled_components_1$5.default.div(templateObject_4||(templateObject_4=__makeTemplateObject$5([`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  right: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,o=e.checked;return o?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),EndCircle=styled_components_1$5.default.div(templateObject_5||(templateObject_5=__makeTemplateObject$5([`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`],[`
  `,`;
  left: -4px;
  border: 1px solid
    `,`;
`])),circle,function(e){var i=e.theme,o=e.checked;return o?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()}),OptionListItem=styled_components_1$5.default.li(templateObject_6||(templateObject_6=__makeTemplateObject$5([`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`],[`
  position: relative;
  padding: 16px;
  border: 1px solid
    `,`;
  border-radius: 32px;
  text-align: center;
  list-style: none;
  margin: 16px 0;
  z-index: 99;
  cursor: `,`;
  pointer-events: `,`;
  opacity: `,`;
  transition: 0.3s;
`])),function(e){var i=e.theme,o=e.checked;return o?(0,utils_1$2.getStylesBasedOnTheme)(i.mode,i.dm__primaryColor,i.primaryColor,i.primaryColor):(0,chroma_js_1.default)(i.primaryColor).alpha(.5).css()},function(e){var i=e.disabled;return i?"default":"pointer"},function(e){var i=e.disabled;return i?"none":"all"},function(e){var i=e.disabled;return i?"0.5":"1"}),getDefaultValues=function(e,i){var o;return(o=e??[])===null||o===void 0?void 0:o.map(function(a){return{startOption:{name:a,x:0,y:0},endOption:i[a]?{name:i[a],x:0,y:0}:null}})},createStartOptionObj=function(e){return e.reduce(function(i,o){var a;return __assign$5(__assign$5({},i),(a={},a[o.id]={name:o.id,x:o==null?void 0:o.offsetWidth,y:(o==null?void 0:o.offsetTop)+(o==null?void 0:o.offsetHeight)/2},a))},{})},createEndOptionObj=function(e,i){return e.reduce(function(o,a){var c;return __assign$5(__assign$5({},o),(c={},c[a.id]={name:a.id,x:i.offsetWidth-a.offsetWidth,y:a.offsetTop+a.offsetHeight/2},c))},{})},Matching=function(e){var i=e.question,o=e.options,a=e.onChange,c=e.title,h=e.values,d=e.hasQuizEnded,f=e.resultScore,re=(0,react_1$2.useState)(null),_=re[0],$=re[1],_e=(0,react_1$2.useState)(getDefaultValues(o==null?void 0:o.sub_questions,h)),ve=_e[0],te=_e[1],b=(0,react_1$2.useRef)(null),me=(0,react_1$2.useRef)(null),j=(0,react_1$2.useRef)(null),g=(0,react_1$2.useCallback)(function(q){return function(ee){if(!d){var he={name:q,x:ee.currentTarget.offsetWidth,y:ee.currentTarget.offsetTop+ee.currentTarget.offsetHeight/2};$(he),te(function(oe){return oe.map(function(le){return le.startOption.name===q?{startOption:he,endOption:le.endOption}:le})})}}},[d]),ne=(0,react_1$2.useCallback)(function(q){return function(ee){if(b.current&&!d){var he={name:q,x:b.current.offsetWidth-ee.currentTarget.offsetWidth,y:ee.currentTarget.offsetTop+ee.currentTarget.offsetHeight/2};te(function(oe){return oe.map(function(le){var ie=le.startOption,Ae=le.endOption;return ie.name===(_==null?void 0:_.name)?{startOption:ie,endOption:he}:{startOption:ie,endOption:Ae}})}),$(null)}}},[d,_==null?void 0:_.name]),se=(0,react_1$2.useCallback)(function(){if(me.current&&j.current&&b.current){var q=Array.from(me.current.children),ee=Array.from(j.current.children),he=createStartOptionObj(q),oe=createEndOptionObj(ee,b.current);te(function(le){return le.map(function(ie){var Ae=ie.startOption,ae=ie.endOption;return{startOption:he[Ae.name],endOption:ae!=null&&ae.name?oe[ae.name]:ae}})})}},[]);return(0,react_1$2.useEffect)(function(){a({matching:ve.reduce(function(q,ee){var he,oe,le;return __assign$5(__assign$5({},q),(he={},he[ee.startOption.name]=(le=(oe=ee.endOption)===null||oe===void 0?void 0:oe.name)!==null&&le!==void 0?le:"",he))},{})})},[ve]),(0,react_1$2.useEffect)(function(){var q=Object.values(h).length===0;q&&te(getDefaultValues(o.sub_questions,h))},[o,h]),(0,react_1$2.useEffect)(function(){se()},[se]),(0,jsx_runtime_1$5.jsx)(DefaultQuestionLayout_1$2.default,__assign$5({"data-testid":"matching-".concat(i),title:c,question:i,resultScore:f,showScore:d},{children:(0,jsx_runtime_1$5.jsx)(MatcherWrapper,__assign$5({ref:b},{children:(0,jsx_runtime_1$5.jsxs)(StyledRow,__assign$5({$justifyContent:"space-between"},{children:[(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:me},{children:o==null?void 0:o.sub_questions.map(function(q){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({className:q,id:q,disabled:d,onClick:g(q),checked:(_==null?void 0:_.name)===q},{children:[(0,jsx_runtime_1$5.jsx)(StartCircle,{checked:(_==null?void 0:_.name)===q}),q]}),q)})})),ve.map(function(q,ee){return q.endOption&&(0,jsx_runtime_1$5.jsx)(bezierLine_1.BezierLine,{x1:q.startOption.x,x2:q.endOption.x,y1:q.startOption.y,y2:q.endOption.y},ee)}),(0,jsx_runtime_1$5.jsx)("ul",__assign$5({ref:j},{children:o==null?void 0:o.sub_answers.map(function(q){return(0,jsx_runtime_1$5.jsxs)(OptionListItem,__assign$5({id:q,className:q,disabled:d,onClick:ne(q)},{children:[(0,jsx_runtime_1$5.jsx)(EndCircle,{}),q]}),q)})}))]}))}))}))};Matching$1.default=(0,styled_components_1$5.withTheme)((0,styled_components_1$5.default)(Matching)(templateObject_7||(templateObject_7=__makeTemplateObject$5([""],[""]))));var templateObject_1$5,templateObject_2$2,templateObject_3$2,templateObject_4,templateObject_5,templateObject_6,templateObject_7,NumericalQuestion$1={},__makeTemplateObject$4=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$4.apply(this,arguments)},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$4(i,e,o);return __setModuleDefault$4(i,e),i},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NumericalQuestion$1,"__esModule",{value:!0});var jsx_runtime_1$4=jsxRuntimeExports,react_i18next_1$3=require$$3,__1$4=requireLib(),utils_1$1=utils$3,DefaultQuestionLayout_1$1=__importDefault$2(DefaultQuestionLayout$1),styled_components_1$4=__importStar$4(require$$6$1),NumericalQuestion=function(e){var i=e.id,o=e.question,a=e.title,c=e.onBlur,h=e.onChange,d=e.value,f=e.hasQuizEnded,re=e.resultScore,_=(0,react_i18next_1$3.useTranslation)().t;return(0,jsx_runtime_1$4.jsx)(DefaultQuestionLayout_1$1.default,__assign$4({"data-testid":"numerical-question-".concat(o),title:a,question:o,resultScore:re,showScore:f},{children:(0,jsx_runtime_1$4.jsx)(__1$4.Input,{placeholder:_("Quiz.TypeNumber"),type:"number",name:"".concat(i),id:(0,utils_1$1.getUniqueId)("Numerical-".concat(i)),disabled:f,value:d,onChange:h,onBlur:c})}))};NumericalQuestion$1.default=(0,styled_components_1$4.withTheme)((0,styled_components_1$4.default)(NumericalQuestion)(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([""],[""]))));var templateObject_1$4,Essay$1={},__makeTemplateObject$3=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$3.apply(this,arguments)},__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$3(i,e,o);return __setModuleDefault$3(i,e),i},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Essay$1,"__esModule",{value:!0});var jsx_runtime_1$3=jsxRuntimeExports,react_i18next_1$2=require$$3,__1$3=requireLib(),utils_1=utils$3,DefaultQuestionLayout_1=__importDefault$1(DefaultQuestionLayout$1),styled_components_1$3=__importStar$3(require$$6$1),Essay=function(e){var i=e.id,o=e.title,a=e.question,c=e.onChange,h=e.onBlur,d=e.value,f=e.hasQuizEnded,re=e.resultScore,_=(0,react_i18next_1$2.useTranslation)().t;return(0,jsx_runtime_1$3.jsx)(DefaultQuestionLayout_1.default,__assign$3({"data-testid":"essay-".concat(a),title:o,question:a,resultScore:re,showScore:f},{children:(0,jsx_runtime_1$3.jsx)(__1$3.TextArea,{placeholder:_("Quiz.TypeAnswer"),name:"".concat(i),disabled:f,id:(0,utils_1.getUniqueId)("Essay-".concat(i)),value:d,onChange:c,onBlur:h})}))};Essay$1.default=(0,styled_components_1$3.withTheme)((0,styled_components_1$3.default)(Essay)(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([""],[""]))));var templateObject_1$3,Description$1={},__makeTemplateObject$2=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$2.apply(this,arguments)},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$2(i,e,o);return __setModuleDefault$2(i,e),i};Object.defineProperty(Description$1,"__esModule",{value:!0});var jsx_runtime_1$2=jsxRuntimeExports,__1$2=requireLib(),styled_components_1$2=__importStar$2(require$$6$1),Description=function(e){var i=e.title,o=e.question;return(0,jsx_runtime_1$2.jsxs)(__1$2.Stack,__assign$2({"data-testid":"description-".concat(o),$gap:2},{children:[i&&(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({weight:"bold",size:"lg"},{children:i})),(0,jsx_runtime_1$2.jsx)(__1$2.Text,__assign$2({family:"secondary",weight:"semiBold"},{children:o}))]}))};Description$1.default=(0,styled_components_1$2.withTheme)((0,styled_components_1$2.default)(Description)(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([""],[""]))));var templateObject_1$2,GiftQuizScore$1={},__makeTemplateObject$1=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign$1.apply(this,arguments)},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding$1(i,e,o);return __setModuleDefault$1(i,e),i};Object.defineProperty(GiftQuizScore$1,"__esModule",{value:!0});var jsx_runtime_1$1=jsxRuntimeExports,react_1$1=reactExports,react_i18next_1$1=require$$3,styled_components_1$1=__importStar$1(require$$6$1),__1$1=requireLib(),Wrapper$1=(0,styled_components_1$1.default)(__1$1.Row)(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`],[`
  padding: 12px;
  border-radius: 12px;

  border: 1px solid `,`;
`])),function(e){var i=e.theme;return i.primaryColor}),Progress=styled_components_1$1.default.span(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$1([`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`],[`
  position: relative;
  display: block;
  width: 52px;
  height: 12px;
  background-color: `,`;
  border-radius: 4px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: `,`px;
    height: 12px;
    background-color: `,`;
  }
`])),function(e){var i=e.theme;return i.secondaryColor},function(e){var i=e.$percentage;return i*52},function(e){var i=e.theme;return i.primaryColor}),GiftQuizScore=function(e){var i=e.result,o=e.max,a=(0,react_i18next_1$1.useTranslation)().t,c=(0,react_1$1.useMemo)(function(){var h=(i??0)/(o??0);return Number.isNaN(h)?0:h},[o,i]);return(0,jsx_runtime_1$1.jsxs)(Wrapper$1,__assign$1({"data-testid":"gift-quiz-score",$gap:12,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(__1$1.Row,__assign$1({$gap:6,$alignItems:"center"},{children:(0,jsx_runtime_1$1.jsx)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:a("Quiz.YourScore")}))})),(0,jsx_runtime_1$1.jsxs)(__1$1.Row,__assign$1({$gap:8,$alignItems:"center"},{children:[(0,jsx_runtime_1$1.jsx)(Progress,{$percentage:c}),(0,jsx_runtime_1$1.jsxs)(__1$1.Text,__assign$1({family:"secondary",size:"xs",weight:"bold"},{children:[i,"/",o]}))]}))]}))};GiftQuizScore$1.default=(0,styled_components_1$1.withTheme)((0,styled_components_1$1.default)(GiftQuizScore)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$1([""],[""]))));var templateObject_1$1,templateObject_2$1,templateObject_3$1;(function(e){var i=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(ue,m){return Object.defineProperty?Object.defineProperty(ue,"raw",{value:m}):ue.raw=m,ue},o=commonjsGlobal&&commonjsGlobal.__assign||function(){return o=Object.assign||function(ue){for(var m,Se=1,Te=arguments.length;Se<Te;Se++){m=arguments[Se];for(var Me in m)Object.prototype.hasOwnProperty.call(m,Me)&&(ue[Me]=m[Me])}return ue},o.apply(this,arguments)},a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ue,m,Se,Te){Te===void 0&&(Te=Se);var Me=Object.getOwnPropertyDescriptor(m,Se);(!Me||("get"in Me?!m.__esModule:Me.writable||Me.configurable))&&(Me={enumerable:!0,get:function(){return m[Se]}}),Object.defineProperty(ue,Te,Me)}:function(ue,m,Se,Te){Te===void 0&&(Te=Se),ue[Te]=m[Se]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ue,m){Object.defineProperty(ue,"default",{enumerable:!0,value:m})}:function(ue,m){ue.default=m}),h=commonjsGlobal&&commonjsGlobal.__importStar||function(ue){if(ue&&ue.__esModule)return ue;var m={};if(ue!=null)for(var Se in ue)Se!=="default"&&Object.prototype.hasOwnProperty.call(ue,Se)&&a(m,ue,Se);return c(m,ue),m},d=commonjsGlobal&&commonjsGlobal.__spreadArray||function(ue,m,Se){if(Se||arguments.length===2)for(var Te=0,Me=m.length,Le;Te<Me;Te++)(Le||!(Te in m))&&(Le||(Le=Array.prototype.slice.call(m,0,Te)),Le[Te]=m[Te]);return ue.concat(Le||Array.prototype.slice.call(m))},f=commonjsGlobal&&commonjsGlobal.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(e,"__esModule",{value:!0}),e.GiftQuizPlayerContent=void 0;var re=reactExports,_=jsxRuntimeExports,$=h(reactExports),_e=require$$3,ve=h(require$$6$1),te=require$$1$1,b=lib$3,me=react$1,j=gfit_quiz,g=requireLib(),ne=f(MultipleChoice$1),se=f(MultipleChoiceWithMultipleRightAnswers$1),q=f(TrueFalse$1),ee=f(ShortAnswers$1),he=f(Matching$1),oe=f(NumericalQuestion$1),le=f(Essay$1),ie=f(Description$1),Ae=f(GiftQuizScore$1),ae=ve.default.form(Ee||(Ee=i([`
  display: flex;
  flex-direction: column;
  gap: 16px;
`],[`
  display: flex;
  flex-direction: column;
  gap: 16px;
`]))),ye=(0,ve.default)(g.Row)(ce||(ce=i([`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`],[`
  padding: 16px;
  border-radius: 4px;
  background-color: `,`;
`])),function(ue){var m=ue.theme;return m.primaryColor}),Pe=(0,ve.default)(g.Button)(de||(de=i([`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`],[`
  color: `,`;

  &:hover {
    background-color: `,`;
  }
`])),function(ue){var m=ue.theme;return m.primaryColor},function(ue){var m=ue.theme;return m.secondaryColor});function Ie(ue){return typeof(ue==null?void 0:ue.text)=="string"}function Re(ue){return Array.isArray(ue==null?void 0:ue.multiple)}function Ne(ue){return typeof(ue==null?void 0:ue.numeric)=="number"}function Ce(ue){return typeof(ue==null?void 0:ue.bool)=="boolean"}function Fe(ue){return typeof(ue==null?void 0:ue.matching)=="object"}var we=function(ue,m){var Se=function(Te){var Me;return(Me=m==null?void 0:m.find(function(Le){return Le.topic_gift_question_id===Te}))===null||Me===void 0?void 0:Me.answer};return ue.reduce(function(Te,Me){var Le,Ue,Xe,Ve,Ke,ze=Me.id,Ge=Me.type,Oe=Me.options,$e=Se(ze);switch(Ge){case b.API.QuestionType.ESSAY:case b.API.QuestionType.SHORT_ANSWERS:case b.API.QuestionType.MULTIPLE_CHOICE:var He=Ie($e)?$e.text:"";return o(o({},Te),(Le={},Le["".concat(ze)]=He,Le));case b.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:var Ye=Re($e)?$e.multiple:[];return o(o({},Te),(Ue={},Ue["".concat(ze)]=Oe.answers.reduce(function(Be,ct){var dt;return o(o({},Be),(dt={},dt[ct]=Ye.includes(ct),dt))},{}),Ue));case b.API.QuestionType.NUMERICAL_QUESTION:var nt=Ne($e)?"".concat($e.numeric):"";return o(o({},Te),(Xe={},Xe["".concat(ze)]=nt,Xe));case b.API.QuestionType.TRUE_FALSE:var ot=Ce($e)?$e.bool?"true":"false":"";return o(o({},Te),(Ve={},Ve["".concat(ze)]=ot,Ve));case b.API.QuestionType.MATCHING:var st=Fe($e)?$e.matching:{};return o(o({},Te),(Ke={},Ke["".concat(ze)]=st,Ke));default:return Te}},{})};function xe(ue){var m=(0,$.useContext)(me.EscolaLMSContext),Se=m.token,Te=m.apiUrl,Me=(0,$.useState)({loading:!1,count:0,tooltipOpen:!1}),Le=Me[0],Ue=Me[1],Xe=(0,$.useCallback)(function(){Se&&ue&&(0,j.getQuizAttempts)(Te,Se,{topic_gift_quiz_id:ue}).then(function(Ve){Ve.success&&Ue(function(Ke){return o(o({},Ke),{count:Ve.meta.total,tooltipOpen:!0})})}).finally(function(){Ue(function(Ve){return o(o({},Ve),{loading:!1})})})},[Te,ue,Se]);return(0,$.useMemo)(function(){return{attempts:Le,refreshAttemptsCount:Xe,closeTooltip:function(){return Ue(function(Ve){return o(o({},Ve),{tooltipOpen:!1})})}}},[Le,Xe])}var fe=function(ue){var m=ue.attempt,Se=ue.startQuiz,Te=ue.endQuiz,Me=ue.sendAnswer,Le=(0,_e.useTranslation)().t,Ue=xe(m.topic_gift_quiz_id),Xe=Ue.attempts,Ve=Ue.refreshAttemptsCount,Ke=Ue.closeTooltip,ze=(0,$.useMemo)(function(){return we(m.questions,m.answers)},[m.questions,m.answers]),Ge=(0,$.useCallback)(function(Oe){var $e;return($e=m.answers.find(function(He){var Ye=He.topic_gift_question_id;return Ye===Oe}))===null||$e===void 0?void 0:$e.score},[m.answers]);return(0,_.jsx)(te.Formik,o({enableReinitialize:!0,initialValues:ze,onSubmit:function(){Te(m.id),Ve()}},{children:function(Oe){var $e=Oe.handleSubmit,He=Oe.handleChange,Ye=Oe.values,nt=Oe.handleBlur,ot=Oe.resetForm,st=Oe.setFieldValue;return(0,_.jsxs)(ae,o({onSubmit:$e,"data-testid":"gift-quiz-player-content",className:"quiz__questions-form"},{children:[(0,_.jsxs)(g.Stack,o({$gap:8},{children:[(0,_.jsxs)(g.Row,o({$justifyContent:"space-between"},{children:[(0,_.jsx)(g.Title,o({className:"quiz__title"},{children:Le("Quiz.Questions")})),(0,_.jsx)(g.Row,o({$gap:24,$alignItems:"center"},{children:m!=null&&m.is_ended?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(Ae.default,{result:m==null?void 0:m.result_score,max:m==null?void 0:m.max_score}),(0,_.jsx)(g.Button,o({type:"button",onClick:function(){Se(),ot()}},{children:Le("Quiz.Retry")}))]}):(0,_.jsxs)(_.Fragment,{children:[(m==null?void 0:m.end_at)&&(0,_.jsx)(g.Countdown,{targetDate:String(m==null?void 0:m.end_at),onCountdownEnd:function(){return Te(m==null?void 0:m.id)}}),(0,_.jsx)(g.Button,o({type:"submit",mode:"primary"},{children:Le("Quiz.Submit")}))]})}))]})),Xe.tooltipOpen&&(0,_.jsxs)(ye,o({$alignItems:"center",$justifyContent:"space-between"},{children:[Le("Quiz.YouHaveMade")," ".concat(Xe.count," "),Le("Quiz.Attempts"),(0,_.jsx)(Pe,{onClick:Ke})]}))]})),m.questions.map(function(Be){switch(Be.type){case b.API.QuestionType.MULTIPLE_CHOICE:return(0,re.createElement)(ne.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{text:ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],hasQuizEnded:m==null?void 0:m.is_ended,resultScore:Ge(Be.id)}));case b.API.QuestionType.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS:return(0,re.createElement)(se.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct);var dt=ct.target.value,xt=ct.target.checked,At=Object.entries(Ye["".concat(Be.id)]).reduce(function(Ot,_t){var gt=_t[0],Tt=_t[1];return gt===dt?xt?d(d([],Ot,!0),[dt],!1):Ot:Tt?d(d([],Ot,!0),[gt],!1):Ot},[]);Me(Be.id,{multiple:At})},onBlur:nt,values:Ye["".concat(Be.id)],hasQuizEnded:m==null?void 0:m.is_ended,resultScore:Ge(Be.id)}));case b.API.QuestionType.TRUE_FALSE:return(0,re.createElement)(q.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{bool:ct.target.value==="true"})},onBlur:nt,value:Ye["".concat(Be.id)],hasQuizEnded:m==null?void 0:m.is_ended,resultScore:Ge(Be.id)}));case b.API.QuestionType.SHORT_ANSWERS:return(0,re.createElement)(ee.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{text:ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case b.API.QuestionType.MATCHING:return(0,re.createElement)(he.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){st("".concat(Be.id),ct),Me(Be.id,ct)},values:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case b.API.QuestionType.NUMERICAL_QUESTION:return(0,re.createElement)(oe.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{numeric:+ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case b.API.QuestionType.ESSAY:return(0,re.createElement)(le.default,o({},Be,{key:Be.type+Be.id,onChange:function(ct){He(ct),Me(Be.id,{text:ct.target.value})},onBlur:nt,value:Ye["".concat(Be.id)],resultScore:Ge(Be.id),hasQuizEnded:m==null?void 0:m.is_ended}));case b.API.QuestionType.DESCRIPTION:return(0,re.createElement)(ie.default,o({},Be,{key:Be.type+Be.id}));default:return(0,_.jsx)($.default.Fragment,{})}})]}))}}))};e.GiftQuizPlayerContent=fe,e.default=(0,ve.withTheme)((0,ve.default)(e.GiftQuizPlayerContent)(be||(be=i([""],[""]))));var Ee,ce,de,be})(GiftQuizPlayerContent);var __makeTemplateObject=commonjsGlobal&&commonjsGlobal.__makeTemplateObject||function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,a,c)}:function(e,i,o,a){a===void 0&&(a=o),e[a]=i[o]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding(i,e,o);return __setModuleDefault(i,e),i},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(quizzes,"__esModule",{value:!0});var jsx_runtime_1=jsxRuntimeExports,react_1=reactExports,react_i18next_1=require$$3,styled_components_1=__importStar(require$$6$1),gfit_quiz_1=gfit_quiz,react_2=react$1,__1=requireLib(),GiftQuizPlayerContent_1=__importDefault(GiftQuizPlayerContent),Wrapper=styled_components_1.default.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  & > .spinner__overlay {
    min-height: 529px;
  }
`],[`
  & > .spinner__overlay {
    min-height: 529px;
  }
`]))),StartButtonWrapper=styled_components_1.default.div(templateObject_2||(templateObject_2=__makeTemplateObject([`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`],[`
  width: 100%;
  min-height: 529px;
  display: grid;
  place-items: center;
`])));function useQuiz(e,i){var o,a,c,h=(0,react_1.useState)({loading:!1}),d=h[0],f=h[1],re=(0,react_1.useContext)(react_2.EscolaLMSContext),_=re.token,$=re.apiUrl,_e=(0,react_1.useRef)(i),ve=(0,react_1.useCallback)(function(){e&&_&&(f(function(j){return __assign(__assign({},j),{loading:!0})}),(0,gfit_quiz_1.quizAttempt)($,_,{topic_gift_quiz_id:e}).then(function(j){j.success?f(function(g){return __assign(__assign({},g),{value:j.data})}):f(function(g){return __assign(__assign({},g),{error:j})})}).catch(function(j){f(function(g){return __assign(__assign({},g),{error:j})})}).finally(function(){f(function(j){return __assign(__assign({},j),{loading:!1})})}))},[e,$,_]),te=(0,react_1.useCallback)(function(j){_&&(0,gfit_quiz_1.quizAttemptFinish)($,_,j).then(function(g){var ne;g.success&&(f(function(se){return __assign(__assign({},se),{value:g.data})}),(ne=_e.current)===null||ne===void 0||ne.call(_e))})},[_,$]),b=(0,react_1.useCallback)(function(j,g){var ne,se;!((ne=d==null?void 0:d.value)===null||ne===void 0)&&ne.id&&_&&!(!((se=d==null?void 0:d.value)===null||se===void 0)&&se.is_ended)&&(0,gfit_quiz_1.quizAnswer)($,_,{topic_gift_question_id:j,topic_gift_quiz_attempt_id:d.value.id,answer:g})},[_,$,(o=d==null?void 0:d.value)===null||o===void 0?void 0:o.id,(a=d==null?void 0:d.value)===null||a===void 0?void 0:a.is_ended]),me=(0,react_1.useCallback)(function(j){var g,ne;return(ne=(g=d.value)===null||g===void 0?void 0:g.answers)===null||ne===void 0?void 0:ne.find(function(se){return(se==null?void 0:se.topic_gift_question_id)===j})},[(c=d.value)===null||c===void 0?void 0:c.answers]);return(0,react_1.useMemo)(function(){return{data:d,startQuiz:ve,sendAnswer:b,getQuestionAnswerObj:me,endQuiz:te}},[d,b,me,ve,te])}var GiftQuizPlayer=function(e){var i=e.topic,o=e.className,a=e.onTopicEnd,c=(0,react_i18next_1.useTranslation)().t,h=useQuiz(i.topicable.id,a),d=h.data,f=h.startQuiz,re=h.sendAnswer,_=h.endQuiz;return(0,jsx_runtime_1.jsxs)(Wrapper,__assign({"data-testid":"gift-quiz-player",className:o},{children:[!d.value&&!d.loading&&(0,jsx_runtime_1.jsx)(StartButtonWrapper,{children:(0,jsx_runtime_1.jsx)(__1.Button,__assign({mode:"secondary",type:"button",onClick:f},{children:c("Quiz.Start")}))}),d.loading&&!d.value&&(0,jsx_runtime_1.jsx)(__1.Spin,{}),d.value&&(0,jsx_runtime_1.jsx)(GiftQuizPlayerContent_1.default,{attempt:d.value,startQuiz:f,sendAnswer:re,endQuiz:_})]}))},_default=quizzes.default=(0,styled_components_1.withTheme)((0,styled_components_1.default)(GiftQuizPlayer)(templateObject_3||(templateObject_3=__makeTemplateObject([""],[""])))),templateObject_1,templateObject_2,templateObject_3,__webpack_modules__={916:function(e,i,o){o.r(i),o.d(i,{AICCImpl:function(){return Fe}});var a=o(635),c=o(941),h=o(989),d=o(340),f=o(589),re=o(784),_=d.aicc_constants.error_descriptions,$=function(we){(0,a.__extends)(xe,we);function xe(fe){var Ee=this;return{}.hasOwnProperty.call(_,String(fe))?Ee=we.call(this,fe,_[String(fe)].basicMessage,_[String(fe)].detailMessage)||this:Ee=we.call(this,101,_[101].basicMessage,_[101].detailMessage)||this,Ee}return xe}(re.ValidationError),_e=o(319),ve=o(797),te=o(449);function b(we,xe,fe){return(0,te.checkValidFormat)(we,xe,ve.scorm12_errors.TYPE_MISMATCH,$,fe)}var me=o(417),j=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this)||this;return fe.comments=new g,fe}return xe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),(fe=this.comments)===null||fe===void 0||fe.initialize()},xe.prototype.reset=function(){var fe;this._initialized=!1,(fe=this.comments)===null||fe===void 0||fe.reset()},xe.prototype.toJSON=function(){this.jsonString=!0;var fe={comments:this.comments};return delete this.jsonString,fe},xe}(_e.BaseCMI),g=function(we){(0,a.__extends)(xe,we);function xe(){return we.call(this,{children:d.aicc_constants.comments_children,errorCode:ve.scorm12_errors.INVALID_SET_VALUE,errorClass:$})||this}return xe}(f.CMIArray),ne=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this)||this;return fe._content="",fe._location="",fe._time="",fe}return xe.prototype.reset=function(){this._initialized=!1,this._content="",this._location="",this._time=""},Object.defineProperty(xe.prototype,"content",{get:function(){return this._content},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._content=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"location",{get:function(){return this._location},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._location=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"time",{get:function(){return this._time},set:function(fe){b(fe,me.aicc_regex.CMITime)&&(this._time=fe)},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={content:this.content,location:this.location,time:this.time};return delete this.jsonString,fe},xe}(_e.BaseCMI),se=o(181),q=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this,d.aicc_constants.student_preference_children)||this;return fe._lesson_type="",fe._text_color="",fe._text_location="",fe._text_size="",fe._video="",fe.windows=new f.CMIArray({errorCode:ve.scorm12_errors.INVALID_SET_VALUE,errorClass:$,children:""}),fe}return xe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),(fe=this.windows)===null||fe===void 0||fe.initialize()},Object.defineProperty(xe.prototype,"lesson_type",{get:function(){return this._lesson_type},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._lesson_type=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"text_color",{get:function(){return this._text_color},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._text_color=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"text_location",{get:function(){return this._text_location},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._text_location=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"text_size",{get:function(){return this._text_size},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._text_size=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"video",{get:function(){return this._video},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._video=fe)},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={audio:this.audio,language:this.language,lesson_type:this.lesson_type,speed:this.speed,text:this.text,text_color:this.text_color,text_location:this.text_location,text_size:this.text_size,video:this.video,windows:this.windows};return delete this.jsonString,fe},xe}(se.CMIStudentPreference),ee=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this)||this;return fe.__children=d.aicc_constants.student_demographics_children,fe._city="",fe._class="",fe._company="",fe._country="",fe._experience="",fe._familiar_name="",fe._instructor_name="",fe._title="",fe._native_language="",fe._state="",fe._street_address="",fe._telephone="",fe._years_experience="",fe}return xe.prototype.reset=function(){this._initialized=!1},Object.defineProperty(xe.prototype,"_children",{get:function(){return this.__children},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"city",{get:function(){return this._city},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._city=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"class",{get:function(){return this._class},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._class=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"company",{get:function(){return this._company},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._company=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"country",{get:function(){return this._country},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._country=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"experience",{get:function(){return this._experience},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._experience=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"familiar_name",{get:function(){return this._familiar_name},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._familiar_name=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"instructor_name",{get:function(){return this._instructor_name},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._instructor_name=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"title",{get:function(){return this._title},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._title=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"native_language",{get:function(){return this._native_language},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._native_language=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"state",{get:function(){return this._state},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._state=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"street_address",{get:function(){return this._street_address},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._street_address=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"telephone",{get:function(){return this._telephone},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._telephone=fe},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"years_experience",{get:function(){return this._years_experience},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._years_experience=fe},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={city:this.city,class:this.class,company:this.company,country:this.country,experience:this.experience,familiar_name:this.familiar_name,instructor_name:this.instructor_name,title:this.title,native_language:this.native_language,state:this.state,street_address:this.street_address,telephone:this.telephone,years_experience:this.years_experience};return delete this.jsonString,fe},xe}(_e.BaseCMI),he=o(434),oe=function(we){(0,a.__extends)(xe,we);function xe(){return we.call(this,{children:d.aicc_constants.tries_children})||this}return xe}(f.CMIArray),le=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this)||this;return fe._status="",fe._time="",fe.score=new he.CMIScore({score_children:d.aicc_constants.score_children,score_range:me.aicc_regex.score_range,invalidErrorCode:ve.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:ve.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:ve.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:$}),fe}return xe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),(fe=this.score)===null||fe===void 0||fe.initialize()},xe.prototype.reset=function(){var fe;this._initialized=!1,this._status="",this._time="",(fe=this.score)===null||fe===void 0||fe.reset()},Object.defineProperty(xe.prototype,"status",{get:function(){return this._status},set:function(fe){b(fe,me.aicc_regex.CMIStatus2)&&(this._status=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"time",{get:function(){return this._time},set:function(fe){b(fe,me.aicc_regex.CMITime)&&(this._time=fe)},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={status:this.status,time:this.time,score:this.score};return delete this.jsonString,fe},xe}(_e.BaseCMI),ie=o(532),Ae=function(we){(0,a.__extends)(xe,we);function xe(){return we.call(this,{children:d.aicc_constants.attempt_records_children})||this}return xe}(f.CMIArray),ae=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this)||this;return fe._lesson_status="",fe.score=new he.CMIScore({score_children:d.aicc_constants.score_children,score_range:me.aicc_regex.score_range,invalidErrorCode:ve.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:ve.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:ve.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:$}),fe}return xe.prototype.initialize=function(){var fe;we.prototype.initialize.call(this),this._lesson_status="",(fe=this.score)===null||fe===void 0||fe.initialize()},xe.prototype.reset=function(){var fe;this._initialized=!1,(fe=this.score)===null||fe===void 0||fe.reset()},Object.defineProperty(xe.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(fe){b(fe,me.aicc_regex.CMIStatus2)&&(this._lesson_status=fe)},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={lesson_status:this.lesson_status,score:this.score};return delete this.jsonString,fe},xe}(_e.BaseCMI),ye=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this,d.aicc_constants.student_data_children)||this;return fe._tries_during_lesson="",fe.tries=new oe,fe.attempt_records=new Ae,fe}return xe.prototype.initialize=function(){var fe,Ee;we.prototype.initialize.call(this),(fe=this.tries)===null||fe===void 0||fe.initialize(),(Ee=this.attempt_records)===null||Ee===void 0||Ee.initialize()},xe.prototype.reset=function(){var fe,Ee;this._initialized=!1,(fe=this.tries)===null||fe===void 0||fe.reset(!0),(Ee=this.attempt_records)===null||Ee===void 0||Ee.reset(!0)},Object.defineProperty(xe.prototype,"tries_during_lesson",{get:function(){return this._tries_during_lesson},set:function(fe){if(this.initialized)throw new $(ve.scorm12_errors.READ_ONLY_ELEMENT);this._tries_during_lesson=fe},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action,tries:this.tries,attempt_records:this.attempt_records};return delete this.jsonString,fe},xe}(ie.CMIStudentData),Pe=function(we){(0,a.__extends)(xe,we);function xe(){return we.call(this,{children:d.aicc_constants.paths_children})||this}return xe}(f.CMIArray),Ie=function(we){(0,a.__extends)(xe,we);function xe(){var fe=we.call(this)||this;return fe._location_id="",fe._date="",fe._time="",fe._status="",fe._why_left="",fe._time_in_element="",fe}return xe.prototype.reset=function(){this._initialized=!1,this._location_id="",this._date="",this._time="",this._status="",this._why_left="",this._time_in_element=""},Object.defineProperty(xe.prototype,"location_id",{get:function(){return this._location_id},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._location_id=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"date",{get:function(){return this._date},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._date=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"time",{get:function(){return this._time},set:function(fe){b(fe,me.aicc_regex.CMITime)&&(this._time=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"status",{get:function(){return this._status},set:function(fe){b(fe,me.aicc_regex.CMIStatus2)&&(this._status=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"why_left",{get:function(){return this._why_left},set:function(fe){b(fe,me.aicc_regex.CMIString256)&&(this._why_left=fe)},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"time_in_element",{get:function(){return this._time_in_element},set:function(fe){b(fe,me.aicc_regex.CMITime)&&(this._time_in_element=fe)},enumerable:!1,configurable:!0}),xe.prototype.toJSON=function(){this.jsonString=!0;var fe={location_id:this.location_id,date:this.date,time:this.time,status:this.status,why_left:this.why_left,time_in_element:this.time_in_element};return delete this.jsonString,fe},xe}(_e.BaseCMI),Re=function(we){(0,a.__extends)(xe,we);function xe(fe){fe===void 0&&(fe=!1);var Ee=we.call(this,d.aicc_constants.cmi_children)||this;return fe&&Ee.initialize(),Ee.student_preference=new q,Ee.student_data=new ye,Ee.student_demographics=new ee,Ee.evaluation=new j,Ee.paths=new Pe,Ee}return xe.prototype.initialize=function(){var fe,Ee,ce,de,be;we.prototype.initialize.call(this),(fe=this.student_preference)===null||fe===void 0||fe.initialize(),(Ee=this.student_data)===null||Ee===void 0||Ee.initialize(),(ce=this.student_demographics)===null||ce===void 0||ce.initialize(),(de=this.evaluation)===null||de===void 0||de.initialize(),(be=this.paths)===null||be===void 0||be.initialize()},xe.prototype.toJSON=function(){this.jsonString=!0;var fe={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,student_demographics:this.student_demographics,interactions:this.interactions,evaluation:this.evaluation,paths:this.paths};return delete this.jsonString,fe},xe}(h.CMI),Ne=o(331),Ce=o(864),Fe=function(we){(0,a.__extends)(xe,we);function xe(fe){var Ee=we.call(this,fe)||this;return Ee.cmi=new Re,Ee.nav=new Ne.NAV,Ee}return xe.prototype.getChildElement=function(fe,Ee,ce){var de=we.prototype.getChildElement.call(this,fe,Ee,ce);return de||((0,Ce.stringMatches)(fe,"cmi\\.evaluation\\.comments\\.\\d+")?de=new ne:(0,Ce.stringMatches)(fe,"cmi\\.student_data\\.tries\\.\\d+")?de=new le:(0,Ce.stringMatches)(fe,"cmi\\.student_data\\.attempt_records\\.\\d+")?de=new ae:(0,Ce.stringMatches)(fe,"cmi\\.paths\\.\\d+")&&(de=new Ie)),de},xe.prototype.replaceWithAnotherScormAPI=function(fe){this.cmi=fe.cmi,this.nav=fe.nav},xe}(c.Scorm12Impl)},429:function(e,i,o){o.r(i),o.d(i,{default:function(){return ve}});var a=o(635),c=o(589),h=o(784),d=o(340),f=o(864),re=o(56),_={autocommit:!1,autocommitSeconds:10,asyncCommit:!1,sendFullCommit:!0,lmsCommitUrl:!1,dataCommitFormat:"json",commitRequestDataType:"application/json;charset=UTF-8",autoProgress:!1,logLevel:re.LogLevelEnum.ERROR,selfReportSessionTime:!1,alwaysSendTotalTime:!1,renderCommonCommitFields:!1,strict_errors:!0,xhrHeaders:{},xhrWithCredentials:!1,fetchMode:"cors",responseHandler:function(te){return(0,a.__awaiter)(this,void 0,void 0,function(){var b,me;return(0,a.__generator)(this,function(j){switch(j.label){case 0:return typeof te<"u"?[4,te.text()]:[3,2];case 1:return b=j.sent(),me=null,b&&(me=JSON.parse(b)),me===null||!{}.hasOwnProperty.call(me,"result")?te.status===200?[2,{result:d.global_constants.SCORM_TRUE,errorCode:0}]:[2,{result:d.global_constants.SCORM_FALSE,errorCode:101}]:[2,{result:me.result,errorCode:me.errorCode?me.errorCode:me.result===d.global_constants.SCORM_TRUE?0:101}];case 2:return[2,{result:d.global_constants.SCORM_FALSE,errorCode:101}]}})})},requestHandler:function(te){return te},onLogMessage:function(te,b){switch(te){case"4":case 4:case"ERROR":case re.LogLevelEnum.ERROR:console.error(b);break;case"3":case 3:case"WARN":case re.LogLevelEnum.WARN:console.warn(b);break;case"2":case 2:case"INFO":case re.LogLevelEnum.INFO:console.info(b);break;case"1":case 1:case"DEBUG":case re.LogLevelEnum.DEBUG:console.debug?console.debug(b):console.log(b);break}},scoItemIds:[],scoItemIdValidator:!1,globalObjectiveIds:[]},$=function(){function te(b,me,j){this._cancelled=!1,this._API=b,this._timeout=setTimeout(this.wrapper.bind(this),me),this._callback=j}return te.prototype.cancel=function(){this._cancelled=!0,this._timeout&&clearTimeout(this._timeout)},te.prototype.wrapper=function(){var b=this;this._cancelled||function(){return(0,a.__awaiter)(b,void 0,void 0,function(){return(0,a.__generator)(this,function(me){switch(me.label){case 0:return[4,this._API.commit(this._callback)];case 1:return[2,me.sent()]}})})}()},te}(),_e=function(){function te(b,me){var j=this.constructor;if(this._settings=_,j===te)throw new TypeError("Cannot construct BaseAPI instances directly");this.currentState=d.global_constants.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this._error_codes=b,me&&(this.settings=me),this.apiLogLevel=this.settings.logLevel,this.selfReportSessionTime=this.settings.selfReportSessionTime,this.apiLogLevel===void 0&&(this.apiLogLevel=re.LogLevelEnum.NONE)}return te.prototype.commonReset=function(b){this.apiLog("reset","Called",re.LogLevelEnum.INFO),this.settings=(0,a.__assign)((0,a.__assign)({},this.settings),b),this.clearScheduledCommit(),this.currentState=d.global_constants.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this.startingData=void 0},te.prototype.initialize=function(b,me,j){var g=d.global_constants.SCORM_FALSE;return this.isInitialized()?this.throwSCORMError(this._error_codes.INITIALIZED,me):this.isTerminated()?this.throwSCORMError(this._error_codes.TERMINATED,j):(this.selfReportSessionTime&&this.cmi.setStartTime(),this.currentState=d.global_constants.STATE_INITIALIZED,this.lastErrorCode="0",g=d.global_constants.SCORM_TRUE,this.processListeners(b)),this.apiLog(b,"returned: "+g,re.LogLevelEnum.INFO),this.clearSCORMError(g),g},te.prototype.apiLog=function(b,me,j,g){me=(0,f.formatMessage)(b,me,g),j>=this.apiLogLevel&&this.settings.onLogMessage(j,me)},Object.defineProperty(te.prototype,"error_codes",{get:function(){return this._error_codes},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"settings",{get:function(){return this._settings},set:function(b){this._settings=(0,a.__assign)((0,a.__assign)({},this._settings),b)},enumerable:!1,configurable:!0}),te.prototype.terminate=function(b,me){return(0,a.__awaiter)(this,void 0,void 0,function(){var j,g;return(0,a.__generator)(this,function(ne){switch(ne.label){case 0:return j=d.global_constants.SCORM_FALSE,this.checkState(me,this._error_codes.TERMINATION_BEFORE_INIT,this._error_codes.MULTIPLE_TERMINATION)?(this.currentState=d.global_constants.STATE_TERMINATED,[4,this.storeData(!0)]):[3,2];case 1:g=ne.sent(),typeof g.errorCode<"u"&&g.errorCode>0&&this.throwSCORMError(g.errorCode),j=typeof g<"u"&&g.result?g.result:d.global_constants.SCORM_FALSE,me&&(this.lastErrorCode="0"),j=d.global_constants.SCORM_TRUE,this.processListeners(b),ne.label=2;case 2:return this.apiLog(b,"returned: "+j,re.LogLevelEnum.INFO),this.clearSCORMError(j),[2,j]}})})},te.prototype.getValue=function(b,me,j){var g="";if(this.checkState(me,this._error_codes.RETRIEVE_BEFORE_INIT,this._error_codes.RETRIEVE_AFTER_TERM)){me&&(this.lastErrorCode="0");try{g=this.getCMIValue(j)}catch(ne){g=this.handleValueAccessException(ne,g)}this.processListeners(b,j)}return this.apiLog(b,": returned: "+g,re.LogLevelEnum.INFO,j),g===void 0?"":(this.clearSCORMError(g),g)},te.prototype.setValue=function(b,me,j,g,ne){ne!==void 0&&(ne=String(ne));var se=d.global_constants.SCORM_FALSE;if(this.checkState(j,this._error_codes.STORE_BEFORE_INIT,this._error_codes.STORE_AFTER_TERM)){j&&(this.lastErrorCode="0");try{se=this.setCMIValue(g,ne)}catch(q){this.handleValueAccessException(q,se)}this.processListeners(b,g,ne)}return se===void 0&&(se=d.global_constants.SCORM_FALSE),String(this.lastErrorCode)==="0"&&this.settings.autocommit&&this.scheduleCommit(this.settings.autocommitSeconds*1e3,me),this.apiLog(b,": "+ne+": result: "+se,re.LogLevelEnum.INFO,g),this.clearSCORMError(se),se},te.prototype.commit=function(b){return(0,a.__awaiter)(this,arguments,void 0,function(me,j){var g,ne;return j===void 0&&(j=!1),(0,a.__generator)(this,function(se){switch(se.label){case 0:return this.clearScheduledCommit(),g=d.global_constants.SCORM_FALSE,this.checkState(j,this._error_codes.COMMIT_BEFORE_INIT,this._error_codes.COMMIT_AFTER_TERM)?[4,this.storeData(!1)]:[3,2];case 1:ne=se.sent(),ne.errorCode&&ne.errorCode>0&&this.throwSCORMError(ne.errorCode),g=typeof ne<"u"&&ne.result?ne.result:d.global_constants.SCORM_FALSE,this.apiLog(me," Result: "+g,re.LogLevelEnum.DEBUG,"HttpRequest"),j&&(this.lastErrorCode="0"),this.processListeners(me),se.label=2;case 2:return this.apiLog(me,"returned: "+g,re.LogLevelEnum.INFO),this.clearSCORMError(g),[2,g]}})})},te.prototype.getLastError=function(b){var me=String(this.lastErrorCode);return this.processListeners(b),this.apiLog(b,"returned: "+me,re.LogLevelEnum.INFO),me},te.prototype.getErrorString=function(b,me){var j="";return me!==null&&me!==""&&(j=this.getLmsErrorMessageDetails(me),this.processListeners(b)),this.apiLog(b,"returned: "+j,re.LogLevelEnum.INFO),j},te.prototype.getDiagnostic=function(b,me){var j="";return me!==null&&me!==""&&(j=this.getLmsErrorMessageDetails(me,!0),this.processListeners(b)),this.apiLog(b,"returned: "+j,re.LogLevelEnum.INFO),j},te.prototype.checkState=function(b,me,j){return this.isNotInitialized()?(this.throwSCORMError(me),!1):b&&this.isTerminated()?(this.throwSCORMError(j),!1):!0},te.prototype.getLmsErrorMessageDetails=function(b,me){throw new Error("The getLmsErrorMessageDetails method has not been implemented")},te.prototype.getCMIValue=function(b){throw new Error("The getCMIValue method has not been implemented")},te.prototype.setCMIValue=function(b,me){throw new Error("The setCMIValue method has not been implemented")},te.prototype._commonSetCMIValue=function(b,me,j,g){if(!j||j==="")return d.global_constants.SCORM_FALSE;for(var ne=j.split("."),se=this,q=d.global_constants.SCORM_FALSE,ee=!1,he="The data model element passed to ".concat(b," (").concat(j,") is not a valid SCORM data model element."),oe=me?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,le=0;le<ne.length;le++){var ie=ne[le];if(le===ne.length-1)me&&ie.substring(0,8)==="{target="?this.isInitialized()?this.throwSCORMError(this._error_codes.READ_ONLY_ELEMENT):se=(0,a.__assign)((0,a.__assign)({},se),{attribute:g}):this._checkObjectHasProperty(se,ie)?((0,f.stringMatches)(j,"\\.correct_responses\\.\\d+")&&this.isInitialized()&&this.validateCorrectResponse(j,g),(!me||this.lastErrorCode==="0")&&(se[ie]=g,q=d.global_constants.SCORM_TRUE)):this.throwSCORMError(oe,he);else{if(se=se[ie],!se){this.throwSCORMError(oe,he);break}if(se instanceof c.CMIArray){var Ae=parseInt(ne[le+1],10);if(!isNaN(Ae)){var ae=se.childArray[Ae];if(ae)se=ae,ee=!0;else{var ye=this.getChildElement(j,g,ee);ee=!0,ye?(se.initialized&&ye.initialize(),se.childArray.push(ye),se=ye):this.throwSCORMError(oe,he)}le++}}}}return q===d.global_constants.SCORM_FALSE&&this.apiLog(b,"There was an error setting the value for: ".concat(j,", value of: ").concat(g),re.LogLevelEnum.WARN),q},te.prototype._commonGetCMIValue=function(b,me,j){if(!j||j==="")return"";for(var g=j.split("."),ne=this,se=null,q="The data model element passed to ".concat(b," (").concat(j,") has not been initialized."),ee="The data model element passed to ".concat(b," (").concat(j,") is not a valid SCORM data model element."),he=me?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,oe=0;oe<g.length;oe++){if(se=g[oe],me){if(String(se).substring(0,8)==="{target="&&typeof ne._isTargetValid=="function"){var le=String(se).substring(8,String(se).length-9);return ne._isTargetValid(le)}else if(!this._checkObjectHasProperty(ne,se)){this.throwSCORMError(he,ee);return}}else if(oe===g.length-1&&!this._checkObjectHasProperty(ne,se)){this.throwSCORMError(he,ee);return}if(ne=ne[se],ne===void 0){this.throwSCORMError(he,ee);break}if(ne instanceof c.CMIArray){var ie=parseInt(g[oe+1],10);if(!isNaN(ie)){var Ae=ne.childArray[ie];if(Ae)ne=Ae;else{this.throwSCORMError(this._error_codes.VALUE_NOT_INITIALIZED,q);break}oe++}}}if(ne==null)me||(se==="_children"?this.throwSCORMError(this._error_codes.CHILDREN_ERROR):se==="_count"&&this.throwSCORMError(this._error_codes.COUNT_ERROR));else return ne},te.prototype.isInitialized=function(){return this.currentState===d.global_constants.STATE_INITIALIZED},te.prototype.isNotInitialized=function(){return this.currentState===d.global_constants.STATE_NOT_INITIALIZED},te.prototype.isTerminated=function(){return this.currentState===d.global_constants.STATE_TERMINATED},te.prototype.on=function(b,me){if(me)for(var j=b.split(" "),g=0;g<j.length;g++){var ne=j[g].split(".");if(ne.length===0)return;var se=ne[0],q=null;ne.length>1&&(q=b.replace(se+".","")),this.listenerArray.push({functionName:se,CMIElement:q,callback:me}),this.apiLog("on","Added event listener: ".concat(this.listenerArray.length),re.LogLevelEnum.INFO,se)}},te.prototype.off=function(b,me){if(me)for(var j=b.split(" "),g=function(ee){var he=j[ee].split(".");if(he.length===0)return{value:void 0};var oe=he[0],le=null;he.length>1&&(le=b.replace(oe+".",""));var ie=ne.listenerArray.findIndex(function(Ae){return Ae.functionName===oe&&Ae.CMIElement===le&&Ae.callback===me});ie!==-1&&(ne.listenerArray.splice(ie,1),ne.apiLog("off","Removed event listener: ".concat(ne.listenerArray.length),re.LogLevelEnum.INFO,oe))},ne=this,se=0;se<j.length;se++){var q=g(se);if(typeof q=="object")return q.value}},te.prototype.clear=function(b){for(var me=b.split(" "),j=function(q){var ee=me[q].split(".");if(ee.length===0)return{value:void 0};var he=ee[0],oe=null;ee.length>1&&(oe=b.replace(he+".","")),g.listenerArray=g.listenerArray.filter(function(le){return le.functionName!==he&&le.CMIElement!==oe})},g=this,ne=0;ne<me.length;ne++){var se=j(ne);if(typeof se=="object")return se.value}},te.prototype.processListeners=function(b,me,j){this.apiLog(b,j,re.LogLevelEnum.INFO,me);for(var g=0;g<this.listenerArray.length;g++){var ne=this.listenerArray[g],se=ne.functionName===b,q=!!ne.CMIElement,ee=!1;me&&ne.CMIElement&&ne.CMIElement.substring(ne.CMIElement.length-1)==="*"?ee=me.indexOf(ne.CMIElement.substring(0,ne.CMIElement.length-1))===0:ee=ne.CMIElement===me,se&&(!q||ee)&&(this.apiLog("processListeners","Processing listener: ".concat(ne.functionName),re.LogLevelEnum.INFO,me),ne.callback(me,j))}},te.prototype.throwSCORMError=function(b,me){me||(me=this.getLmsErrorMessageDetails(b)),this.apiLog("throwSCORMError",b+": "+me,re.LogLevelEnum.ERROR),this.lastErrorCode=String(b)},te.prototype.clearSCORMError=function(b){b!==void 0&&b!==d.global_constants.SCORM_FALSE&&(this.lastErrorCode="0")},te.prototype.loadFromFlattenedJSON=function(b,me){var j=this;if(me||(me=""),!this.isNotInitialized()){console.error("loadFromFlattenedJSON can only be called before the call to lmsInitialize.");return}function g(he,oe,le){var ie=he.match(le),Ae;if(ie!==null&&(Ae=oe.match(le))!==null){var ae=Number(ie[2]),ye=Number(Ae[2]);return ae===ye?ie[3]==="id"?-1:ie[3]==="type"?Ae[3]==="id"?1:-1:1:ae-ye}return null}var ne=/^(cmi\.interactions\.)(\d+)\.(.*)$/,se=/^(cmi\.objectives\.)(\d+)\.(.*)$/,q=Object.keys(b).map(function(he){return[String(he),b[he]]});q.sort(function(he,oe){var le=he[0];he[1];var ie=oe[0];oe[1];var Ae;return(Ae=g(le,ie,ne))!==null||(Ae=g(le,ie,se))!==null?Ae:le<ie?-1:le>ie?1:0});var ee;q.forEach(function(he){ee={},ee[he[0]]=he[1],j.loadFromJSON((0,f.unflatten)(ee),me)})},te.prototype.loadFromJSON=function(b,me){if(me===void 0&&(me=""),!this.isNotInitialized()){console.error("loadFromJSON can only be called before the call to lmsInitialize.");return}me=me!==void 0?me:"cmi",this.startingData=b;for(var j in b)if({}.hasOwnProperty.call(b,j)&&b[j]){var g=(me?me+".":"")+j,ne=b[j];if(ne.childArray)for(var se=0;se<ne.childArray.length;se++)this.loadFromJSON(ne.childArray[se],g+"."+se);else ne.constructor===Object?this.loadFromJSON(ne,g):this.setCMIValue(g,ne)}},te.prototype.renderCMIToJSONString=function(){var b=this.cmi;return this.settings.sendFullCommit?JSON.stringify({cmi:b}):JSON.stringify({cmi:b},function(me,j){return j===void 0?null:j},2)},te.prototype.renderCMIToJSONObject=function(){return JSON.parse(this.renderCMIToJSONString())},te.prototype.processHttpRequest=function(b,me){return(0,a.__awaiter)(this,arguments,void 0,function(j,g,ne){var se,q,ee,he=this;return ne===void 0&&(ne=!1),(0,a.__generator)(this,function(oe){switch(oe.label){case 0:return se=this,q={result:d.global_constants.SCORM_FALSE,errorCode:this.error_codes.GENERAL},ne?(this.performFetch(j,g).then(function(le){return(0,a.__awaiter)(he,void 0,void 0,function(){return(0,a.__generator)(this,function(ie){switch(ie.label){case 0:return[4,this.transformResponse(le)];case 1:return ie.sent(),[2]}})})}),[2,{result:d.global_constants.SCORM_TRUE,errorCode:0}]):(ee=function(le,ie,Ae){return(0,a.__awaiter)(he,void 0,void 0,function(){var ae,ye;return(0,a.__generator)(this,function(Pe){switch(Pe.label){case 0:return Pe.trys.push([0,2,,3]),ie=Ae.requestHandler(ie),[4,this.performFetch(le,ie)];case 1:return ae=Pe.sent(),[2,this.transformResponse(ae)];case 2:return ye=Pe.sent(),this.apiLog("processHttpRequest",ye,re.LogLevelEnum.ERROR),se.processListeners("CommitError"),[2,q];case 3:return[2]}})})},[4,ee(j,g,this.settings)]);case 1:return[2,oe.sent()]}})})},te.prototype.scheduleCommit=function(b,me){this._timeout||(this._timeout=new $(this,b,me),this.apiLog("scheduleCommit","scheduled",re.LogLevelEnum.DEBUG,""))},te.prototype.clearScheduledCommit=function(){this._timeout&&(this._timeout.cancel(),this._timeout=void 0,this.apiLog("clearScheduledCommit","cleared",re.LogLevelEnum.DEBUG,""))},te.prototype._checkObjectHasProperty=function(b,me){return Object.hasOwnProperty.call(b,me)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(b),me)!=null||me in b},te.prototype.handleValueAccessException=function(b,me){return b instanceof h.ValidationError?(this.lastErrorCode=String(b.errorCode),me=d.global_constants.SCORM_FALSE):(b instanceof Error&&b.message?console.error(b.message):console.error(b),this.throwSCORMError(this._error_codes.GENERAL)),me},te.prototype.getCommitObject=function(b){var me=b||this.settings.alwaysSendTotalTime,j=this.settings.renderCommonCommitFields?this.renderCommitObject(me):this.renderCommitCMI(me);return[re.LogLevelEnum.DEBUG,"1",1,"DEBUG"].includes(this.apiLogLevel)&&(console.debug("Commit (terminated: "+(b?"yes":"no")+"): "),console.debug(j)),j},te.prototype.performFetch=function(b,me){return(0,a.__awaiter)(this,void 0,void 0,function(){return(0,a.__generator)(this,function(j){return[2,fetch(b,{method:"POST",mode:this.settings.fetchMode,body:me instanceof Array?me.join("&"):JSON.stringify(me),headers:(0,a.__assign)((0,a.__assign)({},this.settings.xhrHeaders),{"Content-Type":this.settings.commitRequestDataType}),credentials:this.settings.xhrWithCredentials?"include":void 0,keepalive:!0})]})})},te.prototype.transformResponse=function(b){return(0,a.__awaiter)(this,void 0,void 0,function(){var me,j;return(0,a.__generator)(this,function(g){switch(g.label){case 0:return typeof this.settings.responseHandler!="function"?[3,2]:[4,this.settings.responseHandler(b)];case 1:return j=g.sent(),[3,4];case 2:return[4,b.json()];case 3:j=g.sent(),g.label=4;case 4:return me=j,b.status>=200&&b.status<=299&&(me.result===!0||me.result===d.global_constants.SCORM_TRUE)?this.processListeners("CommitSuccess"):this.processListeners("CommitError"),[2,me]}})})},te}(),ve=_e},941:function(e,i,o){o.r(i),o.d(i,{Scorm12Impl:function(){return b}});var a=o(635),c=o(989),h=o(864),d=o(340),f=o(797),re=o(176),_=o(833),$=o(331),_e=o(56),ve=o(429),te=o(417),b=function(me){(0,a.__extends)(j,me);function j(g){var ne=this;return g&&g.mastery_override===void 0&&(g.mastery_override=!1),ne=me.call(this,f.scorm12_errors,g)||this,ne.statusSetByModule=!1,ne.cmi=new c.CMI,ne.nav=new $.NAV,ne.LMSInitialize=ne.lmsInitialize,ne.LMSFinish=ne.lmsFinish,ne.LMSGetValue=ne.lmsGetValue,ne.LMSSetValue=ne.lmsSetValue,ne.LMSCommit=ne.lmsCommit,ne.LMSGetLastError=ne.lmsGetLastError,ne.LMSGetErrorString=ne.lmsGetErrorString,ne.LMSGetDiagnostic=ne.lmsGetDiagnostic,ne}return j.prototype.reset=function(g){var ne,se;this.commonReset(g),(ne=this.cmi)===null||ne===void 0||ne.reset(),(se=this.nav)===null||se===void 0||se.reset()},j.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.cmi.core.lesson_status?this.statusSetByModule=!0:this.cmi.core.lesson_status="not attempted",this.initialize("LMSInitialize","LMS was already initialized!","LMS is already finished!")},j.prototype.lmsFinish=function(){var g=this;return function(){return(0,a.__awaiter)(g,void 0,void 0,function(){return(0,a.__generator)(this,function(ne){switch(ne.label){case 0:return[4,this.internalFinish()];case 1:return ne.sent(),[2]}})})}(),d.global_constants.SCORM_TRUE},j.prototype.internalFinish=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var g;return(0,a.__generator)(this,function(ne){switch(ne.label){case 0:return[4,this.terminate("LMSFinish",!0)];case 1:return g=ne.sent(),g===d.global_constants.SCORM_TRUE&&(this.nav.event!==""?this.nav.event==="continue"?this.processListeners("SequenceNext"):this.processListeners("SequencePrevious"):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,g]}})})},j.prototype.lmsGetValue=function(g){return this.getValue("LMSGetValue",!1,g)},j.prototype.lmsSetValue=function(g,ne){return g==="cmi.core.lesson_status"&&(this.statusSetByModule=!0),this.setValue("LMSSetValue","LMSCommit",!1,g,ne)},j.prototype.lmsCommit=function(){var g=this;return this.settings.asyncCommit?this.scheduleCommit(500,"LMSCommit"):function(){return(0,a.__awaiter)(g,void 0,void 0,function(){return(0,a.__generator)(this,function(ne){switch(ne.label){case 0:return[4,this.commit("LMSCommit",!1)];case 1:return ne.sent(),[2]}})})}(),d.global_constants.SCORM_TRUE},j.prototype.lmsGetLastError=function(){return this.getLastError("LMSGetLastError")},j.prototype.lmsGetErrorString=function(g){return this.getErrorString("LMSGetErrorString",g)},j.prototype.lmsGetDiagnostic=function(g){return this.getDiagnostic("LMSGetDiagnostic",g)},j.prototype.setCMIValue=function(g,ne){return this._commonSetCMIValue("LMSSetValue",!1,g,ne)},j.prototype.getCMIValue=function(g){return this._commonGetCMIValue("getCMIValue",!1,g)},j.prototype.getChildElement=function(g,ne,se){return(0,h.stringMatches)(g,"cmi\\.objectives\\.\\d+")?new re.CMIObjectivesObject:se&&(0,h.stringMatches)(g,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+")?new _.CMIInteractionsCorrectResponsesObject:se&&(0,h.stringMatches)(g,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+")?new _.CMIInteractionsObjectivesObject:!se&&(0,h.stringMatches)(g,"cmi\\.interactions\\.\\d+")?new _.CMIInteractionsObject:null},j.prototype.validateCorrectResponse=function(g,ne){},j.prototype.getLmsErrorMessageDetails=function(g,ne){var se="No Error",q="No Error";return g=String(g),d.scorm12_constants.error_descriptions[g]&&(se=d.scorm12_constants.error_descriptions[g].basicMessage,q=d.scorm12_constants.error_descriptions[g].detailMessage),ne?q:se},j.prototype.replaceWithAnotherScormAPI=function(g){this.cmi=g.cmi},j.prototype.renderCommitCMI=function(g){var ne=this.renderCMIToJSONObject();g&&(ne.cmi.core.total_time=this.cmi.getCurrentTotalTime());var se=[],q=h.flatten(ne);switch(this.settings.dataCommitFormat){case"flattened":return h.flatten(ne);case"params":for(var ee in q)({}).hasOwnProperty.call(q,ee)&&se.push("".concat(ee,"=").concat(q[ee]));return se;case"json":default:return ne}},j.prototype.renderCommitObject=function(g){var ne=this.renderCommitCMI(g),se=this.cmi.getCurrentTotalTime(),q=h.getTimeAsSeconds(se,te.scorm12_regex.CMITimespan),ee=this.cmi.core.lesson_status,he=_e.CompletionStatus.unknown,oe=_e.SuccessStatus.unknown;ee&&(he=ee==="completed"||ee==="passed"?_e.CompletionStatus.completed:_e.CompletionStatus.incomplete,ee==="passed"?oe=_e.SuccessStatus.passed:ee==="failed"&&(oe=_e.SuccessStatus.failed));var le=this.cmi.core.score,ie=null;le&&(ie={},Number.isNaN(Number.parseFloat(le.raw))||(ie.raw=Number.parseFloat(le.raw)),Number.isNaN(Number.parseFloat(le.min))||(ie.min=Number.parseFloat(le.min)),Number.isNaN(Number.parseFloat(le.max))||(ie.max=Number.parseFloat(le.max)));var Ae={successStatus:oe,completionStatus:he,runtimeData:ne,totalTimeSeconds:q};return ie&&(Ae.score=ie),Ae},j.prototype.storeData=function(g){return(0,a.__awaiter)(this,void 0,void 0,function(){var ne,se,q,ee,he;return(0,a.__generator)(this,function(oe){switch(oe.label){case 0:return g&&(ne=this.cmi.core.lesson_status,(!this.cmi.core.lesson_status||!this.statusSetByModule&&this.cmi.core.lesson_status==="not attempted")&&(this.cmi.core.lesson_status="completed"),this.cmi.core.lesson_mode==="normal"?this.cmi.core.credit==="credit"&&this.settings.mastery_override&&this.cmi.student_data.mastery_score!==""&&this.cmi.core.score.raw!==""&&(this.cmi.core.lesson_status=parseFloat(this.cmi.core.score.raw)>=parseFloat(this.cmi.student_data.mastery_score)?"passed":"failed"):this.cmi.core.lesson_mode==="browse"&&(((he=(ee=(q=this.startingData)===null||q===void 0?void 0:q.cmi)===null||ee===void 0?void 0:ee.core)===null||he===void 0?void 0:he.lesson_status)||"")===""&&ne==="not attempted"&&(this.cmi.core.lesson_status="browsed")),se=this.getCommitObject(g),typeof this.settings.lmsCommitUrl!="string"?[3,2]:[4,this.processHttpRequest(this.settings.lmsCommitUrl,se,g)];case 1:return[2,oe.sent()];case 2:return[2,{result:d.global_constants.SCORM_TRUE,errorCode:0}]}})})},j}(ve.default)},809:function(e,i,o){o.r(i),o.d(i,{Scorm2004Impl:function(){return de}});var a=o(635),c=o(429),h=o(340),d=o(417),f=o(797),re=o(784),_=h.scorm2004_constants.error_descriptions,$=function(be){(0,a.__extends)(ue,be);function ue(m){var Se=this;return{}.hasOwnProperty.call(_,String(m))?Se=be.call(this,m,_[String(m)].basicMessage,_[String(m)].detailMessage)||this:Se=be.call(this,101,_[101].basicMessage,_[101].detailMessage)||this,Se}return ue}(re.ValidationError),_e=o(864),ve=o(319),te=o(449);function b(be,ue,m){return(0,te.checkValidFormat)(be,ue,f.scorm2004_errors.TYPE_MISMATCH,$,m)}function me(be,ue){return(0,te.checkValidRange)(be,ue,f.scorm2004_errors.VALUE_OUT_OF_RANGE,$)}var j=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m.__children=h.scorm2004_constants.student_preference_children,m._audio_level="1",m._language="",m._delivery_speed="1",m._audio_captioning="0",m}return ue.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ue.prototype,"_children",{get:function(){return this.__children},set:function(m){throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"audio_level",{get:function(){return this._audio_level},set:function(m){b(m,d.scorm2004_regex.CMIDecimal)&&me(m,d.scorm2004_regex.audio_range)&&(this._audio_level=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"language",{get:function(){return this._language},set:function(m){b(m,d.scorm2004_regex.CMILang)&&(this._language=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"delivery_speed",{get:function(){return this._delivery_speed},set:function(m){b(m,d.scorm2004_regex.CMIDecimal)&&me(m,d.scorm2004_regex.speed_range)&&(this._delivery_speed=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"audio_captioning",{get:function(){return this._audio_captioning},set:function(m){b(m,d.scorm2004_regex.CMISInteger)&&me(m,d.scorm2004_regex.text_range)&&(this._audio_captioning=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={audio_level:this.audio_level,language:this.language,delivery_speed:this.delivery_speed,audio_captioning:this.audio_captioning};return delete this.jsonString,m},ue}(ve.BaseCMI),g=o(589),ne={"true-false":{format:"^true$|^false$",max:1,delimiter:"",unique:!1},choice:{format:d.scorm2004_regex.CMILongIdentifier,max:36,delimiter:"[,]",unique:!0},"fill-in":{format:d.scorm2004_regex.CMILangString250,max:10,delimiter:"[,]",unique:!1},"long-fill-in":{format:d.scorm2004_regex.CMILangString4000,max:1,delimiter:"",unique:!1},matching:{format:d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIShortIdentifier,max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1},performance:{format:"^$|"+d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIDecimal+"|^$|"+d.scorm2004_regex.CMIShortIdentifier,max:250,delimiter:"[,]",delimiter2:"[.]",unique:!1},sequencing:{format:d.scorm2004_regex.CMIShortIdentifier,max:36,delimiter:"[,]",unique:!1},likert:{format:d.scorm2004_regex.CMIShortIdentifier,max:1,delimiter:"",unique:!1},numeric:{format:d.scorm2004_regex.CMIDecimal,max:1,delimiter:"",unique:!1},other:{format:d.scorm2004_regex.CMIString4000,max:1,delimiter:"",unique:!1}},se={"true-false":{max:1,delimiter:"",unique:!1,duplicate:!1,format:"^true$|^false$",limit:1},choice:{max:36,delimiter:"[,]",unique:!0,duplicate:!1,format:d.scorm2004_regex.CMILongIdentifier},"fill-in":{max:10,delimiter:"[,]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMILangString250cr},"long-fill-in":{max:1,delimiter:"",unique:!1,duplicate:!0,format:d.scorm2004_regex.CMILangString4000},matching:{max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIShortIdentifier},performance:{max:250,delimiter:"[,]",delimiter2:"[.]",delimiter3:"[:]",unique:!1,duplicate:!1,format:"^$|"+d.scorm2004_regex.CMIShortIdentifier,format2:d.scorm2004_regex.CMIDecimal+"|^$|"+d.scorm2004_regex.CMIShortIdentifier},sequencing:{max:36,delimiter:"[,]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIShortIdentifier},likert:{max:1,delimiter:"",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIShortIdentifier,limit:1},numeric:{max:2,delimiter:"[:]",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIDecimal,limit:1},other:{max:1,delimiter:"",unique:!1,duplicate:!1,format:d.scorm2004_regex.CMIString4000,limit:1}},q=function(be){(0,a.__extends)(ue,be);function ue(){return be.call(this,{children:h.scorm2004_constants.interactions_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$})||this}return ue}(g.CMIArray),ee=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._id="",m._type="",m._timestamp="",m._weighting="",m._learner_response="",m._result="",m._latency="",m._description="",m.objectives=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$,children:h.scorm2004_constants.objectives_children}),m.correct_responses=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$,children:h.scorm2004_constants.correct_responses_children}),m}return ue.prototype.initialize=function(){var m,Se;be.prototype.initialize.call(this),(m=this.objectives)===null||m===void 0||m.initialize(),(Se=this.correct_responses)===null||Se===void 0||Se.initialize()},ue.prototype.reset=function(){this._initialized=!1,this._id="",this._type="",this._timestamp="",this._weighting="",this._learner_response="",this._result="",this._latency="",this._description="",this.objectives=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$,children:h.scorm2004_constants.objectives_children}),this.correct_responses=new g.CMIArray({errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$,children:h.scorm2004_constants.correct_responses_children})},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){b(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"type",{get:function(){return this._type},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMIType)&&(this._type=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"timestamp",{get:function(){return this._timestamp},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMITime)&&(this._timestamp=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"weighting",{get:function(){return this._weighting},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMIDecimal)&&(this._weighting=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"learner_response",{get:function(){return this._learner_response},set:function(m){if(this.initialized&&(this._type===""||this._id===""))throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);var Se=[],Te=ne[this.type];if(Te){if(Te!=null&&Te.delimiter?Se=m.split(Te.delimiter):Se[0]=m,Se.length>0&&Se.length<=Te.max)for(var Me=new RegExp(Te.format),Le=0;Le<Se.length;Le++)if(Te!=null&&Te.delimiter2){var Ue=Se[Le].split(Te.delimiter2);if(Ue.length===2)if(Ue[0].match(Me)){if(!Te.format2||!Ue[1].match(new RegExp(Te.format2)))throw new $(f.scorm2004_errors.TYPE_MISMATCH)}else throw new $(f.scorm2004_errors.TYPE_MISMATCH);else throw new $(f.scorm2004_errors.TYPE_MISMATCH)}else if(Se[Le].match(Me)){if(Se[Le]!==""&&Te.unique){for(var Xe=0;Xe<Le;Xe++)if(Se[Le]===Se[Xe])throw new $(f.scorm2004_errors.TYPE_MISMATCH)}}else throw new $(f.scorm2004_errors.TYPE_MISMATCH);else throw new $(f.scorm2004_errors.GENERAL_SET_FAILURE);this._learner_response=m}else throw new $(f.scorm2004_errors.TYPE_MISMATCH)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"result",{get:function(){return this._result},set:function(m){b(m,d.scorm2004_regex.CMIResult)&&(this._result=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"latency",{get:function(){return this._latency},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMITimespan)&&(this._latency=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"description",{get:function(){return this._description},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMILangString250,!0)&&(this._description=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this.id,type:this.type,objectives:this.objectives,timestamp:this.timestamp,weighting:this.weighting,learner_response:this.learner_response,result:this.result,latency:this.latency,description:this.description,correct_responses:this.correct_responses};return delete this.jsonString,m},ue}(ve.BaseCMI),he=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._id="",m}return ue.prototype.reset=function(){this._initialized=!1,this._id=""},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){b(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this.id};return delete this.jsonString,m},ue}(ve.BaseCMI),oe=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._pattern="",m}return ue.prototype.reset=function(){this._initialized=!1,this._pattern=""},Object.defineProperty(ue.prototype,"pattern",{get:function(){return this._pattern},set:function(m){b(m,d.scorm2004_regex.CMIFeedback)&&(this._pattern=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={pattern:this.pattern};return delete this.jsonString,m},ue}(ve.BaseCMI),le=o(434),ie=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this,{score_children:h.scorm2004_constants.score_children,max:"",invalidErrorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,invalidTypeCode:f.scorm2004_errors.TYPE_MISMATCH,invalidRangeCode:f.scorm2004_errors.VALUE_OUT_OF_RANGE,decimalRegex:d.scorm2004_regex.CMIDecimal,errorClass:$})||this;return m._scaled="",m}return ue.prototype.reset=function(){this._initialized=!1,this._scaled="",this._raw="",this._min="",this._max=""},Object.defineProperty(ue.prototype,"scaled",{get:function(){return this._scaled},set:function(m){b(m,d.scorm2004_regex.CMIDecimal)&&me(m,d.scorm2004_regex.scaled_range)&&(this._scaled=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={scaled:this.scaled,raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,m},ue}(le.CMIScore),Ae=function(be){(0,a.__extends)(ue,be);function ue(){return be.call(this,{children:h.scorm2004_constants.comments_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$})||this}return ue}(g.CMIArray),ae=function(be){(0,a.__extends)(ue,be);function ue(){return be.call(this,{children:h.scorm2004_constants.comments_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$})||this}return ue}(g.CMIArray),ye=function(be){(0,a.__extends)(ue,be);function ue(m){m===void 0&&(m=!1);var Se=be.call(this)||this;return Se._comment="",Se._location="",Se._timestamp="",Se._comment="",Se._location="",Se._timestamp="",Se._readOnlyAfterInit=m,Se}return ue.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ue.prototype,"comment",{get:function(){return this._comment},set:function(m){if(this.initialized&&this._readOnlyAfterInit)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);b(m,d.scorm2004_regex.CMILangString4000,!0)&&(this._comment=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"location",{get:function(){return this._location},set:function(m){if(this.initialized&&this._readOnlyAfterInit)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);b(m,d.scorm2004_regex.CMIString250)&&(this._location=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"timestamp",{get:function(){return this._timestamp},set:function(m){if(this.initialized&&this._readOnlyAfterInit)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);b(m,d.scorm2004_regex.CMITime)&&(this._timestamp=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={comment:this.comment,location:this.location,timestamp:this.timestamp};return delete this.jsonString,m},ue}(ve.BaseCMI),Pe=function(be){(0,a.__extends)(ue,be);function ue(){return be.call(this,{children:h.scorm2004_constants.objectives_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$})||this}return ue.prototype.findObjectiveById=function(m){return this.childArray.find(function(Se){return Se.id===m})},ue.prototype.findObjectiveByIndex=function(m){return this.childArray[m]},ue.prototype.setObjectiveByIndex=function(m,Se){this.childArray[m]=Se},ue}(g.CMIArray),Ie=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._id="",m._success_status="unknown",m._completion_status="unknown",m._progress_measure="",m._description="",m.score=new ie,m}return ue.prototype.reset=function(){this._initialized=!1},ue.prototype.initialize=function(){var m;be.prototype.initialize.call(this),(m=this.score)===null||m===void 0||m.initialize()},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){b(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"success_status",{get:function(){return this._success_status},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMISStatus)&&(this._success_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"completion_status",{get:function(){return this._completion_status},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMICStatus)&&(this._completion_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"progress_measure",{get:function(){return this._progress_measure},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMIDecimal)&&me(m,d.scorm2004_regex.progress_range)&&(this._progress_measure=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"description",{get:function(){return this._description},set:function(m){if(this.initialized&&this._id==="")throw new $(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);b(m,d.scorm2004_regex.CMILangString250,!0)&&(this._description=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this.id,success_status:this.success_status,completion_status:this.completion_status,progress_measure:this.progress_measure,description:this.description,score:this.score};return delete this.jsonString,m},ue}(ve.BaseCMI),Re=function(be){(0,a.__extends)(ue,be);function ue(m){m===void 0&&(m=!1);var Se=be.call(this)||this;return Se.__version="1.0",Se.__children=h.scorm2004_constants.cmi_children,Se._completion_status="unknown",Se._completion_threshold="",Se._credit="credit",Se._entry="",Se._exit="",Se._launch_data="",Se._learner_id="",Se._learner_name="",Se._location="",Se._max_time_allowed="",Se._mode="normal",Se._progress_measure="",Se._scaled_passing_score="",Se._session_time="PT0H0M0S",Se._success_status="unknown",Se._suspend_data="",Se._time_limit_action="continue,no message",Se._total_time="",Se.learner_preference=new j,Se.score=new ie,Se.comments_from_learner=new ae,Se.comments_from_lms=new Ae,Se.interactions=new q,Se.objectives=new Pe,m&&Se.initialize(),Se}return ue.prototype.initialize=function(){var m,Se,Te,Me,Le,Ue;be.prototype.initialize.call(this),(m=this.learner_preference)===null||m===void 0||m.initialize(),(Se=this.score)===null||Se===void 0||Se.initialize(),(Te=this.comments_from_learner)===null||Te===void 0||Te.initialize(),(Me=this.comments_from_lms)===null||Me===void 0||Me.initialize(),(Le=this.interactions)===null||Le===void 0||Le.initialize(),(Ue=this.objectives)===null||Ue===void 0||Ue.initialize()},ue.prototype.reset=function(){var m,Se,Te,Me,Le,Ue;this._initialized=!1,this._completion_status="incomplete",this._exit="",this._session_time="PT0H0M0S",this._progress_measure="",this._location="",(m=this.objectives)===null||m===void 0||m.reset(!1),(Se=this.interactions)===null||Se===void 0||Se.reset(!0),(Te=this.score)===null||Te===void 0||Te.reset(),(Me=this.comments_from_learner)===null||Me===void 0||Me.reset(),(Le=this.comments_from_lms)===null||Le===void 0||Le.reset(),(Ue=this.learner_preference)===null||Ue===void 0||Ue.reset()},Object.defineProperty(ue.prototype,"_version",{get:function(){return this.__version},set:function(m){throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"_children",{get:function(){return this.__children},set:function(m){throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"completion_status",{get:function(){return this._completion_status},set:function(m){b(m,d.scorm2004_regex.CMICStatus)&&(this._completion_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"completion_threshold",{get:function(){return this._completion_threshold},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._completion_threshold=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"credit",{get:function(){return this._credit},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._credit=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"entry",{get:function(){return this._entry},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._entry=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"exit",{get:function(){if(!this.jsonString)throw new $(f.scorm2004_errors.WRITE_ONLY_ELEMENT);return this._exit},set:function(m){b(m,d.scorm2004_regex.CMIExit,!0)&&(this._exit=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"launch_data",{get:function(){return this._launch_data},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._launch_data=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"learner_id",{get:function(){return this._learner_id},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._learner_id=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"learner_name",{get:function(){return this._learner_name},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._learner_name=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"location",{get:function(){return this._location},set:function(m){b(m,d.scorm2004_regex.CMIString1000)&&(this._location=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._max_time_allowed=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"mode",{get:function(){return this._mode},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._mode=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"progress_measure",{get:function(){return this._progress_measure},set:function(m){b(m,d.scorm2004_regex.CMIDecimal)&&me(m,d.scorm2004_regex.progress_range)&&(this._progress_measure=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"scaled_passing_score",{get:function(){return this._scaled_passing_score},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._scaled_passing_score=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"session_time",{get:function(){if(!this.jsonString)throw new $(f.scorm2004_errors.WRITE_ONLY_ELEMENT);return this._session_time},set:function(m){b(m,d.scorm2004_regex.CMITimespan)&&(this._session_time=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"success_status",{get:function(){return this._success_status},set:function(m){b(m,d.scorm2004_regex.CMISStatus)&&(this._success_status=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(m){b(m,d.scorm2004_regex.CMIString64000,!0)&&(this._suspend_data=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._time_limit_action=m},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"total_time",{get:function(){return this._total_time},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);this._total_time=m},enumerable:!1,configurable:!0}),ue.prototype.getCurrentTotalTime=function(){var m=this._session_time,Se=this.start_time;if(typeof Se<"u"&&Se!==null){var Te=new Date().getTime()-Se;m=_e.getSecondsAsISODuration(Te/1e3)}return _e.addTwoDurations(this._total_time,m,d.scorm2004_regex.CMITimespan)},ue.prototype.toJSON=function(){this.jsonString=!0;var m={comments_from_learner:this.comments_from_learner,comments_from_lms:this.comments_from_lms,completion_status:this.completion_status,completion_threshold:this.completion_threshold,credit:this.credit,entry:this.entry,exit:this.exit,interactions:this.interactions,launch_data:this.launch_data,learner_id:this.learner_id,learner_name:this.learner_name,learner_preference:this.learner_preference,location:this.location,max_time_allowed:this.max_time_allowed,mode:this.mode,objectives:this.objectives,progress_measure:this.progress_measure,scaled_passing_score:this.scaled_passing_score,score:this.score,session_time:this.session_time,success_status:this.success_status,suspend_data:this.suspend_data,time_limit_action:this.time_limit_action};return delete this.jsonString,m},ue}(ve.BaseRootCMI),Ne=["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","aar","abk","ave","afr","aka","amh","arg","ara","asm","ava","aym","aze","bak","bel","bul","bih","bis","bam","ben","tib","bod","bre","bos","cat","che","cha","cos","cre","cze","ces","chu","chv","wel","cym","dan","ger","deu","div","dzo","ewe","gre","ell","eng","epo","spa","est","baq","eus","per","fas","ful","fin","fij","fao","fre","fra","fry","gle","gla","glg","grn","guj","glv","hau","heb","hin","hmo","hrv","hat","hun","arm","hye","her","ina","ind","ile","ibo","iii","ipk","ido","ice","isl","ita","iku","jpn","jav","geo","kat","kon","kik","kua","kaz","kal","khm","kan","kor","kau","kas","kur","kom","cor","kir","lat","ltz","lug","lim","lin","lao","lit","lub","lav","mlg","mah","mao","mri","mac","mkd","mal","mon","mol","mar","may","msa","mlt","bur","mya","nau","nob","nde","nep","ndo","dut","nld","nno","nor","nbl","nav","nya","oci","oji","orm","ori","oss","pan","pli","pol","pus","por","que","roh","run","rum","ron","rus","kin","san","srd","snd","sme","sag","slo","sin","slk","slv","smo","sna","som","alb","sqi","srp","ssw","sot","sun","swe","swa","tam","tel","tgk","tha","tir","tuk","tgl","tsn","ton","tur","tso","tat","twi","tah","uig","ukr","urd","uzb","ven","vie","vol","wln","wol","xho","yid","yor","zha","chi","zho","zul"],Ce=Ne,Fe=o(56),we=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m.data=new fe,m.nav=new xe,m.data=new fe,m}return ue.prototype.initialize=function(){var m;be.prototype.initialize.call(this),(m=this.nav)===null||m===void 0||m.initialize()},ue.prototype.reset=function(){var m;this._initialized=!1,(m=this.nav)===null||m===void 0||m.reset()},ue.prototype.toJSON=function(){this.jsonString=!0;var m={nav:this.nav,data:this.data};return delete this.jsonString,m},ue}(ve.BaseCMI),xe=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._request="_none_",m.request_valid=new ce,m}return ue.prototype.initialize=function(){var m;be.prototype.initialize.call(this),(m=this.request_valid)===null||m===void 0||m.initialize()},ue.prototype.reset=function(){var m;this._initialized=!1,this._request="_none_",(m=this.request_valid)===null||m===void 0||m.reset()},Object.defineProperty(ue.prototype,"request",{get:function(){return this._request},set:function(m){b(m,d.scorm2004_regex.NAVEvent)&&(this._request=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={request:this.request};return delete this.jsonString,m},ue}(ve.BaseCMI),fe=function(be){(0,a.__extends)(ue,be);function ue(){return be.call(this,{children:h.scorm2004_constants.adl_data_children,errorCode:f.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:$})||this}return ue}(g.CMIArray),Ee=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._id="",m._store="",m}return ue.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ue.prototype,"id",{get:function(){return this._id},set:function(m){b(m,d.scorm2004_regex.CMILongIdentifier)&&(this._id=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"store",{get:function(){return this._store},set:function(m){b(m,d.scorm2004_regex.CMILangString4000)&&(this._store=m)},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={id:this._id,store:this._store};return delete this.jsonString,m},ue}(ve.BaseCMI),ce=function(be){(0,a.__extends)(ue,be);function ue(){var m=be.call(this)||this;return m._continue="unknown",m._previous="unknown",m._choice={},m._jump={},m}return ue.prototype.reset=function(){this._initialized=!1,this._continue="unknown",this._previous="unknown"},Object.defineProperty(ue.prototype,"continue",{get:function(){return this._continue},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);b(m,d.scorm2004_regex.NAVBoolean)&&(this._continue=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"previous",{get:function(){return this._previous},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);b(m,d.scorm2004_regex.NAVBoolean)&&(this._previous=m)},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"choice",{get:function(){return this._choice},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);if(typeof m!="object")throw new $(f.scorm2004_errors.TYPE_MISMATCH);for(var Se in m)({}).hasOwnProperty.call(m,Se)&&b(m[Se],d.scorm2004_regex.NAVBoolean)&&b(Se,d.scorm2004_regex.NAVTarget)&&(this._choice[Se]=Fe.NAVBoolean[m[Se]])},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"jump",{get:function(){return this._jump},set:function(m){if(this.initialized)throw new $(f.scorm2004_errors.READ_ONLY_ELEMENT);if(typeof m!="object")throw new $(f.scorm2004_errors.TYPE_MISMATCH);for(var Se in m)({}).hasOwnProperty.call(m,Se)&&b(m[Se],d.scorm2004_regex.NAVBoolean)&&b(Se,d.scorm2004_regex.NAVTarget)&&(this._jump[Se]=Fe.NAVBoolean[m[Se]])},enumerable:!1,configurable:!0}),ue.prototype.toJSON=function(){this.jsonString=!0;var m={previous:this._previous,continue:this._continue,choice:this._choice,jump:this._jump};return delete this.jsonString,m},ue}(ve.BaseCMI),de=function(be){(0,a.__extends)(ue,be);function ue(m){var Se=this;return m&&m.mastery_override===void 0&&(m.mastery_override=!1),Se=be.call(this,f.scorm2004_errors,m)||this,Se._version="1.0",Se._globalObjectives=[],Se.cmi=new Re,Se.adl=new we,Se.Initialize=Se.lmsInitialize,Se.Terminate=Se.lmsFinish,Se.GetValue=Se.lmsGetValue,Se.SetValue=Se.lmsSetValue,Se.Commit=Se.lmsCommit,Se.GetLastError=Se.lmsGetLastError,Se.GetErrorString=Se.lmsGetErrorString,Se.GetDiagnostic=Se.lmsGetDiagnostic,Se}return ue.prototype.reset=function(m){var Se,Te;this.commonReset(m),(Se=this.cmi)===null||Se===void 0||Se.reset(),(Te=this.adl)===null||Te===void 0||Te.reset()},Object.defineProperty(ue.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"globalObjectives",{get:function(){return this._globalObjectives},enumerable:!1,configurable:!0}),ue.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.initialize("Initialize")},ue.prototype.lmsFinish=function(){var m=this;return function(){return(0,a.__awaiter)(m,void 0,void 0,function(){return(0,a.__generator)(this,function(Se){switch(Se.label){case 0:return[4,this.internalFinish()];case 1:return Se.sent(),[2]}})})}(),h.global_constants.SCORM_TRUE},ue.prototype.internalFinish=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var m,Se,Te,Me,Le,Ue,Xe,Ve,Ke,ze,Ge;return(0,a.__generator)(this,function(Oe){switch(Oe.label){case 0:return[4,this.terminate("Terminate",!0)];case 1:return m=Oe.sent(),m===h.global_constants.SCORM_TRUE&&(this.adl.nav.request!=="_none_"?(Se={continue:"SequenceNext",previous:"SequencePrevious",choice:"SequenceChoice",jump:"SequenceJump",exit:"SequenceExit",exitAll:"SequenceExitAll",abandon:"SequenceAbandon",abandonAll:"SequenceAbandonAll"},Te=this.adl.nav.request,Me=new RegExp(d.scorm2004_regex.NAVEvent),Le=Te.match(Me),Ue="",Le&&(!((Ve=Le.groups)===null||Ve===void 0)&&Ve.choice_target?(Ue=(Ke=Le.groups)===null||Ke===void 0?void 0:Ke.choice_target,Te="choice"):!((ze=Le.groups)===null||ze===void 0)&&ze.jump_target&&(Ue=(Ge=Le.groups)===null||Ge===void 0?void 0:Ge.jump_target,Te="jump")),Xe=Se[Te],Xe&&this.processListeners(Xe,"adl.nav.request",Ue)):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,m]}})})},ue.prototype.lmsGetValue=function(m){var Se="^adl\\.nav\\.request_valid\\.(choice|jump)\\.{target=\\S{0,}([a-zA-Z0-9-_]+)}$";if((0,_e.stringMatches)(m,Se)){var Te=m.match(Se),Me=Te[1],Le=Te[2].replace("{target=","").replace("}","");if(Me==="choice"||Me==="jump")return this.settings.scoItemIdValidator?String(this.settings.scoItemIdValidator(Le)):String(this.settings.scoItemIds.includes(Le))}return this.getValue("GetValue",!0,m)},ue.prototype.lmsSetValue=function(m,Se){return this.setValue("SetValue","Commit",!0,m,Se)},ue.prototype.lmsCommit=function(){var m=this;return this.settings.asyncCommit?this.scheduleCommit(500,"LMSCommit"):function(){return(0,a.__awaiter)(m,void 0,void 0,function(){return(0,a.__generator)(this,function(Se){switch(Se.label){case 0:return[4,this.commit("LMSCommit",!1)];case 1:return Se.sent(),[2]}})})}(),h.global_constants.SCORM_TRUE},ue.prototype.lmsGetLastError=function(){return this.getLastError("GetLastError")},ue.prototype.lmsGetErrorString=function(m){return this.getErrorString("GetErrorString",m)},ue.prototype.lmsGetDiagnostic=function(m){return this.getDiagnostic("GetDiagnostic",m)},ue.prototype.setCMIValue=function(m,Se){if((0,_e.stringMatches)(m,"cmi\\.objectives\\.\\d+")){var Te=m.split("."),Me=Number(Te[2]),Le="cmi.objectives.".concat(Me),Ue,Xe=(0,_e.stringMatches)(m,"cmi\\.objectives\\.\\d+\\.id");if(Xe)Ue=Se;else{var Ve=this.cmi.objectives.findObjectiveByIndex(Me);Ue=Ve?Ve.id:void 0}var Ke=Ue&&this.settings.globalObjectiveIds.includes(Ue);if(Ke){var ze=this._globalObjectives.findIndex(function($e){return $e.id===Ue});if(ze===-1){ze=this._globalObjectives.length;var Ge=new Ie;Ge.id=Ue,this._globalObjectives.push(Ge)}var Oe=m.replace(Le,"_globalObjectives.".concat(ze));this._commonSetCMIValue("SetGlobalObjectiveValue",!0,Oe,Se)}}return this._commonSetCMIValue("SetValue",!0,m,Se)},ue.prototype.getChildElement=function(m,Se,Te){if((0,_e.stringMatches)(m,"cmi\\.objectives\\.\\d+"))return new Ie;if(Te){if((0,_e.stringMatches)(m,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+"))return this.createCorrectResponsesObject(m,Se);if((0,_e.stringMatches)(m,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+"))return new he}else if((0,_e.stringMatches)(m,"cmi\\.interactions\\.\\d+"))return new ee;return(0,_e.stringMatches)(m,"cmi\\.comments_from_learner\\.\\d+")?new ye:(0,_e.stringMatches)(m,"cmi\\.comments_from_lms\\.\\d+")?new ye(!0):(0,_e.stringMatches)(m,"adl\\.data\\.\\d+")?new Ee:null},ue.prototype.createCorrectResponsesObject=function(m,Se){var Te=m.split("."),Me=Number(Te[2]),Le=this.cmi.interactions.childArray[Me];if(this.isInitialized())if(!Le.type)this.throwSCORMError(f.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);else{this.checkDuplicateChoiceResponse(Le,Se);var Ue=se[Le.type];Ue?this.checkValidResponseType(Ue,Se,Le.type):this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Incorrect Response Type: "+Le.type)}return this.lastErrorCode==="0"?new oe:null},ue.prototype.checkValidResponseType=function(m,Se,Te){var Me=[];m!=null&&m.delimiter?Me=String(Se).split(m.delimiter):Me[0]=Se,Me.length>0&&Me.length<=m.max?this.checkCorrectResponseValue(Te,Me,Se):Me.length>m.max&&this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Pattern Too Long")},ue.prototype.checkDuplicateChoiceResponse=function(m,Se){var Te=m.correct_responses._count;if(m.type==="choice")for(var Me=0;Me<Te&&this.lastErrorCode==="0";Me++){var Le=m.correct_responses.childArray[Me];Le.pattern===Se&&this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE)}},ue.prototype.validateCorrectResponse=function(m,Se){var Te=m.split("."),Me=Number(Te[2]),Le=Number(Te[4]),Ue=this.cmi.interactions.childArray[Me],Xe=Ue.correct_responses._count;this.checkDuplicateChoiceResponse(Ue,Se);var Ve=se[Ue.type];typeof Ve.limit>"u"||Xe<=Ve.limit?(this.checkValidResponseType(Ve,Se,Ue.type),this.lastErrorCode==="0"&&(!Ve.duplicate||!this.checkDuplicatedPattern(Ue.correct_responses,Le,Se))||this.lastErrorCode==="0"&&Se===""||this.lastErrorCode==="0"&&this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Pattern Already Exists")):this.throwSCORMError(f.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Collection Limit Reached")},ue.prototype.getCMIValue=function(m){return this._commonGetCMIValue("GetValue",!0,m)},ue.prototype.getLmsErrorMessageDetails=function(m,Se){var Te="",Me="";return m=String(m),h.scorm2004_constants.error_descriptions[m]&&(Te=h.scorm2004_constants.error_descriptions[m].basicMessage,Me=h.scorm2004_constants.error_descriptions[m].detailMessage),Se?Me:Te},ue.prototype.checkDuplicatedPattern=function(m,Se,Te){for(var Me=!1,Le=m._count,Ue=0;Ue<Le&&!Me;Ue++)Ue!==Se&&m.childArray[Ue]===Te&&(Me=!0);return Me},ue.prototype.checkCorrectResponseValue=function(m,Se,Te){for(var Me=se[m],Le=new RegExp(Me.format),Ue=0;Ue<Se.length&&this.lastErrorCode==="0";Ue++)if(m.match("^(fill-in|long-fill-in|matching|performance|sequencing)$")&&(Se[Ue]=this.removeCorrectResponsePrefixes(Se[Ue])),Me!=null&&Me.delimiter2){var Xe=Se[Ue].split(Me.delimiter2);if(Xe.length===2){var Ve=Xe[0].match(Le);Ve?(!Me.format2||!Xe[1].match(new RegExp(Me.format2)))&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH):this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH)}else this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH)}else{var Ve=Se[Ue].match(Le);if(!Ve&&Te!==""||!Ve&&m==="true-false")this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH);else if(m==="numeric"&&Se.length>1)Number(Se[0])>Number(Se[1])&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH);else if(Se[Ue]!==""&&Me.unique)for(var Ke=0;Ke<Ue&&this.lastErrorCode==="0";Ke++)Se[Ue]===Se[Ke]&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH)}},ue.prototype.removeCorrectResponsePrefixes=function(m){for(var Se=!1,Te=!1,Me=!1,Le=new RegExp("^({(lang|case_matters|order_matters)=([^}]+)})"),Ue=m.match(Le),Xe=null;Ue;){switch(Ue[2]){case"lang":if(Xe=m.match(d.scorm2004_regex.CMILangcr),Xe){var Ve=Xe[3];Ve!==void 0&&Ve.length>0&&(Ce.includes(Ve.toLowerCase())||this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH))}Me=!0;break;case"case_matters":!Me&&!Se&&!Te&&Ue[3]!=="true"&&Ue[3]!=="false"&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH),Te=!0;break;case"order_matters":!Te&&!Me&&!Se&&Ue[3]!=="true"&&Ue[3]!=="false"&&this.throwSCORMError(f.scorm2004_errors.TYPE_MISMATCH),Se=!0;break}m=m.substring(Ue[1].length),Ue=m.match(Le)}return m},ue.prototype.replaceWithAnotherScormAPI=function(m){this.cmi=m.cmi,this.adl=m.adl},ue.prototype.renderCommitCMI=function(m){var Se=this.renderCMIToJSONObject();m&&(Se.cmi.total_time=this.cmi.getCurrentTotalTime());var Te=[],Me=_e.flatten(Se);switch(this.settings.dataCommitFormat){case"flattened":return _e.flatten(Se);case"params":for(var Le in Me)({}).hasOwnProperty.call(Me,Le)&&Te.push("".concat(Le,"=").concat(Me[Le]));return Te;case"json":default:return Se}},ue.prototype.renderCommitObject=function(m){var Se=this.renderCommitCMI(m),Te=this.cmi.getCurrentTotalTime(),Me=_e.getDurationAsSeconds(Te,d.scorm2004_regex.CMITimespan),Le=Fe.CompletionStatus.unknown,Ue=Fe.SuccessStatus.unknown;this.cmi.completion_status&&(this.cmi.completion_status==="completed"?Le=Fe.CompletionStatus.completed:this.cmi.completion_status==="incomplete"&&(Le=Fe.CompletionStatus.incomplete)),this.cmi.success_status&&(this.cmi.success_status==="passed"?Ue=Fe.SuccessStatus.passed:this.cmi.success_status==="failed"&&(Ue=Fe.SuccessStatus.failed));var Xe=this.cmi.score,Ve=null;Xe&&(Ve={},Number.isNaN(Number.parseFloat(Xe.raw))||(Ve.raw=Number.parseFloat(Xe.raw)),Number.isNaN(Number.parseFloat(Xe.min))||(Ve.min=Number.parseFloat(Xe.min)),Number.isNaN(Number.parseFloat(Xe.max))||(Ve.max=Number.parseFloat(Xe.max)),Number.isNaN(Number.parseFloat(Xe.scaled))||(Ve.scaled=Number.parseFloat(Xe.scaled)));var Ke={completionStatus:Le,successStatus:Ue,totalTimeSeconds:Me,runtimeData:Se};return Ve&&(Ke.score=Ve),Ke},ue.prototype.storeData=function(m){return(0,a.__awaiter)(this,void 0,void 0,function(){var Se,Te,Me,Le,Ue,Xe;return(0,a.__generator)(this,function(Ve){switch(Ve.label){case 0:return m&&this.cmi.mode==="normal"&&this.cmi.credit==="credit"&&(this.cmi.completion_threshold&&this.cmi.progress_measure&&(this.cmi.progress_measure>=this.cmi.completion_threshold?this.cmi.completion_status="completed":this.cmi.completion_status="incomplete"),this.cmi.scaled_passing_score&&this.cmi.score.scaled&&(this.cmi.score.scaled>=this.cmi.scaled_passing_score?this.cmi.success_status="passed":this.cmi.success_status="failed")),Se=!1,this.adl.nav.request!==((Xe=(Ue=(Le=this.startingData)===null||Le===void 0?void 0:Le.adl)===null||Ue===void 0?void 0:Ue.nav)===null||Xe===void 0?void 0:Xe.request)&&this.adl.nav.request!=="_none_"&&(Se=!0),Te=this.getCommitObject(m),typeof this.settings.lmsCommitUrl!="string"?[3,2]:[4,this.processHttpRequest(this.settings.lmsCommitUrl,Te,m)];case 1:return Me=Ve.sent(),Se&&Me.navRequest!==void 0&&Me.navRequest!==""&&Function('"use strict";(() => { '.concat(Me.navRequest," })()"))(),[2,Me];case 2:return[2,{result:h.global_constants.SCORM_TRUE,errorCode:0}]}})})},ue}(c.default)},589:function(e,i,o){o.r(i),o.d(i,{CMIArray:function(){return f}});var a=o(635),c=o(319),h=o(784),d=o(797),f=function(re){(0,a.__extends)(_,re);function _($){var _e=re.call(this)||this;return _e.__children=$.children,_e._errorCode=$.errorCode||d.scorm12_errors.GENERAL,_e._errorClass=$.errorClass||h.BaseScormValidationError,_e.childArray=[],_e}return _.prototype.reset=function($){if($===void 0&&($=!1),this._initialized=!1,$)this.childArray=[];else for(var _e=0;_e<this.childArray.length;_e++)this.childArray[_e].reset()},Object.defineProperty(_.prototype,"_children",{get:function(){return this.__children},set:function($){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"_count",{get:function(){return this.childArray.length},set:function($){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),_.prototype.toJSON=function(){this.jsonString=!0;for(var $={},_e=0;_e<this.childArray.length;_e++)$[_e+""]=this.childArray[_e];return delete this.jsonString,$},_}(c.BaseCMI)},319:function(e,i,o){o.r(i),o.d(i,{BaseCMI:function(){return c},BaseRootCMI:function(){return h}});var a=o(635),c=function(){function d(){this.jsonString=!1,this._initialized=!1}return Object.defineProperty(d.prototype,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start_time",{get:function(){return this._start_time},enumerable:!1,configurable:!0}),d.prototype.initialize=function(){this._initialized=!0},d.prototype.setStartTime=function(){this._start_time=new Date().getTime()},d}(),h=function(d){(0,a.__extends)(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f}(c)},434:function(e,i,o){o.r(i),o.d(i,{CMIScore:function(){return _}});var a=o(635),c=o(340),h=o(417),d=o(319),f=o(449),re=o(797),_=function($){(0,a.__extends)(_e,$);function _e(ve){var te=$.call(this)||this;return te._raw="",te._min="",te.__children=ve.score_children||c.scorm12_constants.score_children,te.__score_range=ve.score_range?h.scorm12_regex.score_range:!1,te._max=ve.max||ve.max===""?ve.max:"100",te.__invalid_error_code=ve.invalidErrorCode||re.scorm12_errors.INVALID_SET_VALUE,te.__invalid_type_code=ve.invalidTypeCode||re.scorm12_errors.TYPE_MISMATCH,te.__invalid_range_code=ve.invalidRangeCode||re.scorm12_errors.VALUE_OUT_OF_RANGE,te.__decimal_regex=ve.decimalRegex||h.scorm12_regex.CMIDecimal,te.__error_class=ve.errorClass,te}return _e.prototype.reset=function(){this._initialized=!1},Object.defineProperty(_e.prototype,"_children",{get:function(){return this.__children},set:function(ve){throw new this.__error_class(this.__invalid_error_code)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"raw",{get:function(){return this._raw},set:function(ve){(0,f.checkValidFormat)(ve,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,f.checkValidRange)(ve,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._raw=ve)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"min",{get:function(){return this._min},set:function(ve){(0,f.checkValidFormat)(ve,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,f.checkValidRange)(ve,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._min=ve)},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"max",{get:function(){return this._max},set:function(ve){(0,f.checkValidFormat)(ve,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,f.checkValidRange)(ve,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._max=ve)},enumerable:!1,configurable:!0}),_e.prototype.toJSON=function(){this.jsonString=!0;var ve={raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,ve},_e}(d.BaseCMI)},449:function(e,i,o){o.r(i),o.d(i,{checkValidFormat:function(){return a},checkValidRange:function(){return c}});function a(h,d,f,re,_){if(typeof h!="string")return!1;var $=new RegExp(d),_e=h.match($);if(_&&h==="")return!0;if(h===void 0||!_e||_e[0]==="")throw new re(f);return!0}function c(h,d,f,re){var _=d.split("#");if(h=h*1,h>=_[0]){if(_[1]==="*"||h<=_[1])return!0;throw new re(f)}else throw new re(f)}},989:function(e,i,o){o.r(i),o.d(i,{CMI:function(){return g}});var a=o(635),c=o(340),h=o(797),d=o(417),f=o(179),re=o(319),_=o(915),$=o(434),_e=o(864),ve=function(ne){(0,a.__extends)(se,ne);function se(){var q=ne.call(this)||this;return q.__children=c.scorm12_constants.core_children,q._student_id="",q._student_name="",q._lesson_location="",q._credit="",q._lesson_status="not attempted",q._entry="",q._total_time="",q._lesson_mode="normal",q._exit="",q._session_time="00:00:00",q._suspend_data="",q.score=new $.CMIScore({score_children:c.scorm12_constants.score_children,score_range:d.scorm12_regex.score_range,invalidErrorCode:h.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:h.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:h.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:f.Scorm12ValidationError}),q}return se.prototype.initialize=function(){var q;ne.prototype.initialize.call(this),(q=this.score)===null||q===void 0||q.initialize()},se.prototype.reset=function(){var q;this._initialized=!1,this._exit="",this._entry="",this._session_time="00:00:00",(q=this.score)===null||q===void 0||q.reset()},Object.defineProperty(se.prototype,"_children",{get:function(){return this.__children},set:function(q){throw new f.Scorm12ValidationError(h.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"student_id",{get:function(){return this._student_id},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._student_id=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"student_name",{get:function(){return this._student_name},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._student_name=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"lesson_location",{get:function(){return this._lesson_location},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIString256,!0)&&(this._lesson_location=q)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"credit",{get:function(){return this._credit},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._credit=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(q){this.initialized?(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIStatus)&&(this._lesson_status=q):(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIStatus2)&&(this._lesson_status=q)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"entry",{get:function(){return this._entry},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._entry=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"total_time",{get:function(){return this._total_time},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._total_time=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"lesson_mode",{get:function(){return this._lesson_mode},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._lesson_mode=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"exit",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(h.scorm12_errors.WRITE_ONLY_ELEMENT);return this._exit},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIExit,!0)&&(this._exit=q)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"session_time",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(h.scorm12_errors.WRITE_ONLY_ELEMENT);return this._session_time},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMITimespan)&&(this._session_time=q)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIString4096,!0)&&(this._suspend_data=q)},enumerable:!1,configurable:!0}),se.prototype.getCurrentTotalTime=function(q){var ee=this._session_time,he=q;if(typeof he<"u"&&he!==null){var oe=new Date().getTime()-he;ee=_e.getSecondsAsHHMMSS(oe/1e3)}return _e.addHHMMSSTimeStrings(this._total_time,ee,new RegExp(d.scorm12_regex.CMITimespan))},se.prototype.toJSON=function(){this.jsonString=!0;var q={student_id:this.student_id,student_name:this.student_name,lesson_location:this.lesson_location,credit:this.credit,lesson_status:this.lesson_status,entry:this.entry,lesson_mode:this.lesson_mode,exit:this.exit,session_time:this.session_time,score:this.score};return delete this.jsonString,q},se}(re.BaseCMI),te=o(176),b=o(532),me=o(181),j=o(833),g=function(ne){(0,a.__extends)(se,ne);function se(q,ee,he){var oe=ne.call(this)||this;return oe.__children="",oe.__version="3.4",oe._launch_data="",oe._comments="",oe._comments_from_lms="",he&&oe.initialize(),oe.__children=q||c.scorm12_constants.cmi_children,oe.core=new ve,oe.objectives=new te.CMIObjectives,oe.student_data=ee||new b.CMIStudentData,oe.student_preference=new me.CMIStudentPreference,oe.interactions=new j.CMIInteractions,oe}return se.prototype.reset=function(){var q,ee,he;this._initialized=!1,this._launch_data="",this._comments="",(q=this.core)===null||q===void 0||q.reset(),this.objectives=new te.CMIObjectives,this.interactions=new j.CMIInteractions,(ee=this.student_data)===null||ee===void 0||ee.reset(),(he=this.student_preference)===null||he===void 0||he.reset()},se.prototype.initialize=function(){var q,ee,he,oe,le;ne.prototype.initialize.call(this),(q=this.core)===null||q===void 0||q.initialize(),(ee=this.objectives)===null||ee===void 0||ee.initialize(),(he=this.student_data)===null||he===void 0||he.initialize(),(oe=this.student_preference)===null||oe===void 0||oe.initialize(),(le=this.interactions)===null||le===void 0||le.initialize()},se.prototype.toJSON=function(){this.jsonString=!0;var q={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,interactions:this.interactions};return delete this.jsonString,q},Object.defineProperty(se.prototype,"_version",{get:function(){return this.__version},set:function(q){throw new f.Scorm12ValidationError(h.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"_children",{get:function(){return this.__children},set:function(q){throw new f.Scorm12ValidationError(h.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"suspend_data",{get:function(){var q;return(q=this.core)===null||q===void 0?void 0:q.suspend_data},set:function(q){this.core&&(this.core.suspend_data=q)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"launch_data",{get:function(){return this._launch_data},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._launch_data=q},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"comments",{get:function(){return this._comments},set:function(q){(0,_.check12ValidFormat)(q,d.scorm12_regex.CMIString4096,!0)&&(this._comments=q)},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"comments_from_lms",{get:function(){return this._comments_from_lms},set:function(q){if(this.initialized)throw new f.Scorm12ValidationError(h.scorm12_errors.READ_ONLY_ELEMENT);this._comments_from_lms=q},enumerable:!1,configurable:!0}),se.prototype.getCurrentTotalTime=function(){return this.core.getCurrentTotalTime(this.start_time)},se}(re.BaseRootCMI)},833:function(e,i,o){o.r(i),o.d(i,{CMIInteractions:function(){return _e},CMIInteractionsCorrectResponsesObject:function(){return b},CMIInteractionsObject:function(){return ve},CMIInteractionsObjectivesObject:function(){return te}});var a=o(635),c=o(589),h=o(340),d=o(797),f=o(179),re=o(319),_=o(915),$=o(417),_e=function(me){(0,a.__extends)(j,me);function j(){return me.call(this,{children:h.scorm12_constants.interactions_children,errorCode:d.scorm12_errors.INVALID_SET_VALUE,errorClass:f.Scorm12ValidationError})||this}return j}(c.CMIArray),ve=function(me){(0,a.__extends)(j,me);function j(){var g=me.call(this)||this;return g._id="",g._time="",g._type="",g._weighting="",g._student_response="",g._result="",g._latency="",g.objectives=new c.CMIArray({errorCode:d.scorm12_errors.INVALID_SET_VALUE,errorClass:f.Scorm12ValidationError,children:h.scorm12_constants.objectives_children}),g.correct_responses=new c.CMIArray({errorCode:d.scorm12_errors.INVALID_SET_VALUE,errorClass:f.Scorm12ValidationError,children:h.scorm12_constants.correct_responses_children}),g}return j.prototype.initialize=function(){var g,ne;me.prototype.initialize.call(this),(g=this.objectives)===null||g===void 0||g.initialize(),(ne=this.correct_responses)===null||ne===void 0||ne.initialize()},j.prototype.reset=function(){var g,ne;this._initialized=!1,this._id="",this._time="",this._type="",this._weighting="",this._student_response="",this._result="",this._latency="",(g=this.objectives)===null||g===void 0||g.reset(),(ne=this.correct_responses)===null||ne===void 0||ne.reset()},Object.defineProperty(j.prototype,"id",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._id},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIIdentifier)&&(this._id=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"time",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._time},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMITime)&&(this._time=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"type",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._type},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIType)&&(this._type=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"weighting",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._weighting},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIDecimal)&&(0,_.check12ValidRange)(g,$.scorm12_regex.weighting_range)&&(this._weighting=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"student_response",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._student_response},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIFeedback,!0)&&(this._student_response=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"result",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._result},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIResult)&&(this._result=g)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"latency",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._latency},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMITimespan)&&(this._latency=g)},enumerable:!1,configurable:!0}),j.prototype.toJSON=function(){this.jsonString=!0;var g={id:this.id,time:this.time,type:this.type,weighting:this.weighting,student_response:this.student_response,result:this.result,latency:this.latency,objectives:this.objectives,correct_responses:this.correct_responses};return delete this.jsonString,g},j}(re.BaseCMI),te=function(me){(0,a.__extends)(j,me);function j(){var g=me.call(this)||this;return g._id="",g}return j.prototype.reset=function(){this._initialized=!1,this._id=""},Object.defineProperty(j.prototype,"id",{get:function(){return this._id},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIIdentifier)&&(this._id=g)},enumerable:!1,configurable:!0}),j.prototype.toJSON=function(){this.jsonString=!0;var g={id:this.id};return delete this.jsonString,g},j}(re.BaseCMI),b=function(me){(0,a.__extends)(j,me);function j(){var g=me.call(this)||this;return g._pattern="",g}return j.prototype.reset=function(){this._initialized=!1,this._pattern=""},Object.defineProperty(j.prototype,"pattern",{get:function(){if(!this.jsonString)throw new f.Scorm12ValidationError(d.scorm12_errors.WRITE_ONLY_ELEMENT);return this._pattern},set:function(g){(0,_.check12ValidFormat)(g,$.scorm12_regex.CMIFeedback,!0)&&(this._pattern=g)},enumerable:!1,configurable:!0}),j.prototype.toJSON=function(){this.jsonString=!0;var g={pattern:this._pattern};return delete this.jsonString,g},j}(re.BaseCMI)},331:function(e,i,o){o.r(i),o.d(i,{NAV:function(){return f}});var a=o(635),c=o(319),h=o(915),d=o(417),f=function(re){(0,a.__extends)(_,re);function _(){var $=re.call(this)||this;return $._event="",$}return _.prototype.reset=function(){this._event="",this._initialized=!1},Object.defineProperty(_.prototype,"event",{get:function(){return this._event},set:function($){(0,h.check12ValidFormat)($,d.scorm12_regex.NAVEvent)&&(this._event=$)},enumerable:!1,configurable:!0}),_.prototype.toJSON=function(){this.jsonString=!0;var $={event:this.event};return delete this.jsonString,$},_}(c.BaseCMI)},176:function(e,i,o){o.r(i),o.d(i,{CMIObjectives:function(){return ve},CMIObjectivesObject:function(){return te}});var a=o(635),c=o(319),h=o(434),d=o(340),f=o(417),re=o(797),_=o(179),$=o(915),_e=o(589),ve=function(b){(0,a.__extends)(me,b);function me(){return b.call(this,{children:d.scorm12_constants.objectives_children,errorCode:re.scorm12_errors.INVALID_SET_VALUE,errorClass:_.Scorm12ValidationError})||this}return me}(_e.CMIArray),te=function(b){(0,a.__extends)(me,b);function me(){var j=b.call(this)||this;return j._id="",j._status="",j.score=new h.CMIScore({score_children:d.scorm12_constants.score_children,score_range:f.scorm12_regex.score_range,invalidErrorCode:re.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:re.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:re.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:_.Scorm12ValidationError}),j}return me.prototype.reset=function(){var j;this._initialized=!1,this._id="",this._status="",(j=this.score)===null||j===void 0||j.reset()},Object.defineProperty(me.prototype,"id",{get:function(){return this._id},set:function(j){(0,$.check12ValidFormat)(j,f.scorm12_regex.CMIIdentifier)&&(this._id=j)},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"status",{get:function(){return this._status},set:function(j){(0,$.check12ValidFormat)(j,f.scorm12_regex.CMIStatus2)&&(this._status=j)},enumerable:!1,configurable:!0}),me.prototype.toJSON=function(){this.jsonString=!0;var j={id:this.id,status:this.status,score:this.score};return delete this.jsonString,j},me}(c.BaseCMI)},532:function(e,i,o){o.r(i),o.d(i,{CMIStudentData:function(){return re}});var a=o(635),c=o(319),h=o(340),d=o(179),f=o(797),re=function(_){(0,a.__extends)($,_);function $(_e){var ve=_.call(this)||this;return ve._mastery_score="",ve._max_time_allowed="",ve._time_limit_action="",ve.__children=_e||h.scorm12_constants.student_data_children,ve}return $.prototype.reset=function(){this._initialized=!1},Object.defineProperty($.prototype,"_children",{get:function(){return this.__children},set:function(_e){throw new d.Scorm12ValidationError(f.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"mastery_score",{get:function(){return this._mastery_score},set:function(_e){if(this.initialized)throw new d.Scorm12ValidationError(f.scorm12_errors.READ_ONLY_ELEMENT);this._mastery_score=_e},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(_e){if(this.initialized)throw new d.Scorm12ValidationError(f.scorm12_errors.READ_ONLY_ELEMENT);this._max_time_allowed=_e},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(_e){if(this.initialized)throw new d.Scorm12ValidationError(f.scorm12_errors.READ_ONLY_ELEMENT);this._time_limit_action=_e},enumerable:!1,configurable:!0}),$.prototype.toJSON=function(){this.jsonString=!0;var _e={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action};return delete this.jsonString,_e},$}(c.BaseCMI)},181:function(e,i,o){o.r(i),o.d(i,{CMIStudentPreference:function(){return $}});var a=o(635),c=o(319),h=o(340),d=o(179),f=o(915),re=o(417),_=o(797),$=function(_e){(0,a.__extends)(ve,_e);function ve(te){var b=_e.call(this)||this;return b._audio="",b._language="",b._speed="",b._text="",b.__children=te||h.scorm12_constants.student_preference_children,b}return ve.prototype.reset=function(){this._initialized=!1},Object.defineProperty(ve.prototype,"_children",{get:function(){return this.__children},set:function(te){throw new d.Scorm12ValidationError(_.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(ve.prototype,"audio",{get:function(){return this._audio},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMISInteger)&&(0,f.check12ValidRange)(te,re.scorm12_regex.audio_range)&&(this._audio=te)},enumerable:!1,configurable:!0}),Object.defineProperty(ve.prototype,"language",{get:function(){return this._language},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMIString256)&&(this._language=te)},enumerable:!1,configurable:!0}),Object.defineProperty(ve.prototype,"speed",{get:function(){return this._speed},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMISInteger)&&(0,f.check12ValidRange)(te,re.scorm12_regex.speed_range)&&(this._speed=te)},enumerable:!1,configurable:!0}),Object.defineProperty(ve.prototype,"text",{get:function(){return this._text},set:function(te){(0,f.check12ValidFormat)(te,re.scorm12_regex.CMISInteger)&&(0,f.check12ValidRange)(te,re.scorm12_regex.text_range)&&(this._text=te)},enumerable:!1,configurable:!0}),ve.prototype.toJSON=function(){this.jsonString=!0;var te={audio:this.audio,language:this.language,speed:this.speed,text:this.text};return delete this.jsonString,te},ve}(c.BaseCMI)},915:function(e,i,o){o.r(i),o.d(i,{check12ValidFormat:function(){return d},check12ValidRange:function(){return f}});var a=o(449),c=o(797),h=o(179);function d(re,_,$){return(0,a.checkValidFormat)(re,_,c.scorm12_errors.TYPE_MISMATCH,h.Scorm12ValidationError,$)}function f(re,_,$){if(!$&&re==="")throw new h.Scorm12ValidationError(c.scorm12_errors.VALUE_OUT_OF_RANGE);return(0,a.checkValidRange)(re,_,c.scorm12_errors.VALUE_OUT_OF_RANGE,h.Scorm12ValidationError)}},340:function(e,i,o){o.r(i),o.d(i,{aicc_constants:function(){return d},global_constants:function(){return c},scorm12_constants:function(){return h},scorm2004_constants:function(){return f}});var a=o(635),c={SCORM_TRUE:"true",SCORM_FALSE:"false",STATE_NOT_INITIALIZED:0,STATE_INITIALIZED:1,STATE_TERMINATED:2},h={cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions",core_children:"student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time",score_children:"raw,min,max",comments_children:"content,location,time",objectives_children:"id,score,status",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio,language,speed,text",interactions_children:"id,objectives,time,type,correct_responses,weighting,student_response,result,latency",error_descriptions:{101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use LMSGetDiagnostic for more information"},201:{basicMessage:"Invalid argument error",detailMessage:"Indicates that an argument represents an invalid data model element or is otherwise incorrect."},202:{basicMessage:"Element cannot have children",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_children" for a data model element that does not support the "_children" suffix.'},203:{basicMessage:"Element not an array - cannot have count",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_count" for a data model element that does not support the "_count" suffix.'},301:{basicMessage:"Not initialized",detailMessage:"Indicates that an API call was made before the call to lmsInitialize."},401:{basicMessage:"Not implemented error",detailMessage:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{basicMessage:"Invalid set value, element is a keyword",detailMessage:'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in "_children" and "_count").'},403:{basicMessage:"Element is read only",detailMessage:"LMSSetValue was called with a data model element that can only be read."},404:{basicMessage:"Element is write only",detailMessage:"LMSGetValue was called on a data model element that can only be written to."},405:{basicMessage:"Incorrect Data Type",detailMessage:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Element Value Out Of Range",detailMessage:"The numeric value supplied to a LMSSetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}},d=(0,a.__assign)((0,a.__assign)({},h),{cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation",student_preference_children:"audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows",student_data_children:"attempt_number,tries,mastery_score,max_time_allowed,time_limit_action",student_demographics_children:"city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience",tries_children:"time,status,score",attempt_records_children:"score,lesson_status",paths_children:"location_id,date,time,status,why_left,time_in_element"}),f={cmi_children:"_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time",comments_children:"comment,timestamp,location",score_children:"max,raw,scaled,min",objectives_children:"progress_measure,completion_status,success_status,description,score,id",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio_level,audio_captioning,delivery_speed,language",interactions_children:"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description",adl_data_children:"id,store",error_descriptions:{0:{basicMessage:"No Error",detailMessage:"No error occurred, the previous API call was successful."},101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use GetDiagnostic for more information."},102:{basicMessage:"General Initialization Failure",detailMessage:"Call to Initialize failed for an unknown reason."},103:{basicMessage:"Already Initialized",detailMessage:"Call to Initialize failed because Initialize was already called."},104:{basicMessage:"Content Instance Terminated",detailMessage:"Call to Initialize failed because Terminate was already called."},111:{basicMessage:"General Termination Failure",detailMessage:"Call to Terminate failed for an unknown reason."},112:{basicMessage:"Termination Before Initialization",detailMessage:"Call to Terminate failed because it was made before the call to Initialize."},113:{basicMessage:"Termination After Termination",detailMessage:"Call to Terminate failed because Terminate was already called."},122:{basicMessage:"Retrieve Data Before Initialization",detailMessage:"Call to GetValue failed because it was made before the call to Initialize."},123:{basicMessage:"Retrieve Data After Termination",detailMessage:"Call to GetValue failed because it was made after the call to Terminate."},132:{basicMessage:"Store Data Before Initialization",detailMessage:"Call to SetValue failed because it was made before the call to Initialize."},133:{basicMessage:"Store Data After Termination",detailMessage:"Call to SetValue failed because it was made after the call to Terminate."},142:{basicMessage:"Commit Before Initialization",detailMessage:"Call to Commit failed because it was made before the call to Initialize."},143:{basicMessage:"Commit After Termination",detailMessage:"Call to Commit failed because it was made after the call to Terminate."},201:{basicMessage:"General Argument Error",detailMessage:"An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument."},301:{basicMessage:"General Get Failure",detailMessage:"Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},351:{basicMessage:"General Set Failure",detailMessage:"Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},391:{basicMessage:"General Commit Failure",detailMessage:"Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information."},401:{basicMessage:"Undefined Data Model Element",detailMessage:"The data model element name passed to GetValue or SetValue is not a valid SCORM data model element."},402:{basicMessage:"Unimplemented Data Model Element",detailMessage:"The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant."},403:{basicMessage:"Data Model Element Value Not Initialized",detailMessage:"Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO."},404:{basicMessage:"Data Model Element Is Read Only",detailMessage:"SetValue was called with a data model element that can only be read."},405:{basicMessage:"Data Model Element Is Write Only",detailMessage:"GetValue was called on a data model element that can only be written to."},406:{basicMessage:"Data Model Element Type Mismatch",detailMessage:"SetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Data Model Element Value Out Of Range",detailMessage:"The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}}},56:function(e,i,o){o.r(i),o.d(i,{CompletionStatus:function(){return h},LogLevelEnum:function(){return d},NAVBoolean:function(){return a},SuccessStatus:function(){return c}});var a;(function(f){f.unknown="unknown",f.true="true",f.false="false"})(a||(a={}));var c;(function(f){f.passed="passed",f.failed="failed",f.unknown="unknown"})(c||(c={}));var h;(function(f){f.completed="completed",f.incomplete="incomplete",f.unknown="unknown"})(h||(h={}));var d;(function(f){f[f._=0]="_",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.NONE=5]="NONE"})(d||(d={}))},797:function(e,i,o){o.r(i),o.d(i,{global_errors:function(){return c},scorm12_errors:function(){return h},scorm2004_errors:function(){return d}});var a=o(635),c={GENERAL:101,INITIALIZATION_FAILED:101,INITIALIZED:101,TERMINATED:101,TERMINATION_FAILURE:101,TERMINATION_BEFORE_INIT:101,MULTIPLE_TERMINATION:101,RETRIEVE_BEFORE_INIT:101,RETRIEVE_AFTER_TERM:101,STORE_BEFORE_INIT:101,STORE_AFTER_TERM:101,COMMIT_BEFORE_INIT:101,COMMIT_AFTER_TERM:101,ARGUMENT_ERROR:101,CHILDREN_ERROR:101,COUNT_ERROR:101,GENERAL_GET_FAILURE:101,GENERAL_SET_FAILURE:101,GENERAL_COMMIT_FAILURE:101,UNDEFINED_DATA_MODEL:101,UNIMPLEMENTED_ELEMENT:101,VALUE_NOT_INITIALIZED:101,INVALID_SET_VALUE:101,READ_ONLY_ELEMENT:101,WRITE_ONLY_ELEMENT:101,TYPE_MISMATCH:101,VALUE_OUT_OF_RANGE:101,DEPENDENCY_NOT_ESTABLISHED:101},h=(0,a.__assign)((0,a.__assign)({},c),{RETRIEVE_BEFORE_INIT:301,STORE_BEFORE_INIT:301,COMMIT_BEFORE_INIT:301,ARGUMENT_ERROR:201,CHILDREN_ERROR:202,COUNT_ERROR:203,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:401,VALUE_NOT_INITIALIZED:301,INVALID_SET_VALUE:402,READ_ONLY_ELEMENT:403,WRITE_ONLY_ELEMENT:404,TYPE_MISMATCH:405,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408}),d=(0,a.__assign)((0,a.__assign)({},c),{INITIALIZATION_FAILED:102,INITIALIZED:103,TERMINATED:104,TERMINATION_FAILURE:111,TERMINATION_BEFORE_INIT:112,MULTIPLE_TERMINATIONS:113,RETRIEVE_BEFORE_INIT:122,RETRIEVE_AFTER_TERM:123,STORE_BEFORE_INIT:132,STORE_AFTER_TERM:133,COMMIT_BEFORE_INIT:142,COMMIT_AFTER_TERM:143,ARGUMENT_ERROR:201,GENERAL_GET_FAILURE:301,GENERAL_SET_FAILURE:351,GENERAL_COMMIT_FAILURE:391,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:402,VALUE_NOT_INITIALIZED:403,READ_ONLY_ELEMENT:404,WRITE_ONLY_ELEMENT:405,TYPE_MISMATCH:406,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408})},417:function(e,i,o){o.r(i),o.d(i,{aicc_regex:function(){return h},scorm12_regex:function(){return c},scorm2004_regex:function(){return d}});var a=o(635),c={CMIString256:"^.{0,255}$",CMIString4096:"^.{0,4096}$",CMITime:"^(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)$",CMITimespan:"^([0-9]{2,}):([0-9]{2}):([0-9]{2})(.[0-9]{1,2})?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{0,3})(.[0-9]*)?$",CMIIdentifier:"^[\\u0021-\\u007E\\s]{0,255}$",CMIFeedback:"^.{0,255}$",CMIIndex:"[._](\\d+).",CMIStatus:"^(passed|completed|failed|incomplete|browsed)$",CMIStatus2:"^(passed|completed|failed|incomplete|browsed|not attempted)$",CMIExit:"^(time-out|suspend|logout|)$",CMIType:"^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$",CMIResult:"^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\.[0-9]*)?)$",NAVEvent:"^(previous|continue)$",score_range:"0#100",audio_range:"-1#100",speed_range:"-100#100",weighting_range:"-100#100",text_range:"-1#1"},h=(0,a.__assign)((0,a.__assign)({},c),{CMIIdentifier:"^\\w{1,255}$"}),d={CMIString200:"^[\\u0000-\\uFFFF]{0,200}$",CMIString250:"^[\\u0000-\\uFFFF]{0,250}$",CMIString1000:"^[\\u0000-\\uFFFF]{0,1000}$",CMIString4000:"^[\\u0000-\\uFFFF]{0,4000}$",CMIString64000:"^[\\u0000-\\uFFFF]{0,64000}$",CMILang:"^([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?$|^$",CMILangString250:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,250}$)?$",CMILangcr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?}))(.*?)$",CMILangString250cr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?})?(.{0,250})?)?$",CMILangString4000:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,4000}$)?$",CMITime:"^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$",CMITimespan:"^P(?:([.,\\d]+)Y)?(?:([.,\\d]+)M)?(?:([.,\\d]+)W)?(?:([.,\\d]+)D)?(?:T?(?:([.,\\d]+)H)?(?:([.,\\d]+)M)?(?:([.,\\d]+)S)?)?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{1,5})(\\.[0-9]{1,18})?$",CMIIdentifier:"^\\S{1,250}[a-zA-Z0-9]$",CMIShortIdentifier:"^[\\w\\.\\-\\_]{1,250}$",CMILongIdentifier:"^(?:(?!urn:)\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\S{1,4000}|.{1,4000})$",CMIFeedback:"^.*$",CMIIndex:"[._](\\d+).",CMIIndexStore:".N(\\d+).",CMICStatus:"^(completed|incomplete|not attempted|unknown)$",CMISStatus:"^(passed|failed|unknown)$",CMIExit:"^(time-out|suspend|logout|normal)$",CMIType:"^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$",CMIResult:"^(correct|incorrect|unanticipated|neutral|-?([0-9]{1,4})(\\.[0-9]{1,18})?)$",NAVEvent:"^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|_none_|(\\{target=(?<choice_target>\\S{0,}[a-zA-Z0-9-_]+)})?choice|(\\{target=(?<jump_target>\\S{0,}[a-zA-Z0-9-_]+)})?jump)$",NAVBoolean:"^(unknown|true|false$)",NAVTarget:"^{target=\\S{0,}[a-zA-Z0-9-_]+}$",scaled_range:"-1#1",audio_range:"0#*",speed_range:"0#*",text_range:"-1#1",progress_range:"0#1"}},784:function(e,i,o){o.r(i),o.d(i,{BaseScormValidationError:function(){return c},ValidationError:function(){return h}});var a=o(635),c=function(d){(0,a.__extends)(f,d);function f(re){var _=d.call(this,re.toString())||this;return _._errorCode=re,_.name="ScormValidationError",_}return Object.defineProperty(f.prototype,"errorCode",{get:function(){return this._errorCode},enumerable:!1,configurable:!0}),f}(Error),h=function(d){(0,a.__extends)(f,d);function f(re,_,$){var _e=d.call(this,re)||this;return _e._detailedMessage="",_e.message=_,_e._errorMessage=_,$&&(_e._detailedMessage=$),_e}return Object.defineProperty(f.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"detailedMessage",{get:function(){return this._detailedMessage},enumerable:!1,configurable:!0}),f}(c)},179:function(e,i,o){o.r(i),o.d(i,{Scorm12ValidationError:function(){return f}});var a=o(635),c=o(784),h=o(340),d=h.scorm12_constants.error_descriptions,f=function(re){(0,a.__extends)(_,re);function _($){var _e=this;return{}.hasOwnProperty.call(d,String($))?_e=re.call(this,$,d[String($)].basicMessage,d[String($)].detailMessage)||this:_e=re.call(this,101,d[101].basicMessage,d[101].detailMessage)||this,_e}return _}(c.ValidationError)},864:function(e,i,o){o.r(i),o.d(i,{SECONDS_PER_DAY:function(){return d},SECONDS_PER_HOUR:function(){return h},SECONDS_PER_MINUTE:function(){return c},SECONDS_PER_SECOND:function(){return a},addHHMMSSTimeStrings:function(){return te},addTwoDurations:function(){return ve},countDecimals:function(){return j},flatten:function(){return b},formatMessage:function(){return g},getDurationAsSeconds:function(){return _e},getSecondsAsHHMMSS:function(){return re},getSecondsAsISODuration:function(){return _},getTimeAsSeconds:function(){return $},stringMatches:function(){return ne},unflatten:function(){return me}});var a=1,c=60,h=60*c,d=24*h,f={D:d,H:h,M:c,S:a};function re(se){if(!se||se<=0)return"00:00:00";var q=Math.floor(se/h),ee=new Date(se*1e3),he=ee.getUTCMinutes(),oe=ee.getSeconds(),le=se%1,ie="";return j(le)>0&&(j(le)>2?ie=le.toFixed(2):ie=String(le),ie="."+ie.split(".")[1]),(q+":"+he+":"+oe).replace(/\b\d\b/g,"0$&")+ie}function _(se){if(!se||se<=0)return"PT0S";var q="P",ee=se;for(var he in f){var oe=f[he],le=Math.floor(ee/oe);ee=ee%oe,j(ee)>2&&(ee=Number(Number(ee).toFixed(2))),he==="S"&&ee>0&&(le+=ee),le&&((q.indexOf("D")>0||he==="H"||he==="M"||he==="S")&&q.indexOf("T")===-1&&(q+="T"),q+="".concat(le).concat(he))}return q}function $(se,q){if((typeof se=="number"||typeof se=="boolean")&&(se=String(se)),typeof q=="string"&&(q=new RegExp(q)),!se||!se.match(q))return 0;var ee=se.split(":"),he=Number(ee[0]),oe=Number(ee[1]),le=Number(ee[2]);return he*3600+oe*60+le}function _e(se,q){if(typeof q=="string"&&(q=new RegExp(q)),!se||!se.match(q))return 0;var ee=new RegExp(q).exec(se)||[],he=ee[1];ee[2];var oe=ee[4],le=ee[5],ie=ee[6],Ae=ee[7],ae=0;return ae+=Number(Ae)||0,ae+=Number(ie)*60||0,ae+=Number(le)*3600||0,ae+=Number(oe)*(60*60*24)||0,ae+=Number(he)*(60*60*24*365)||0,ae}function ve(se,q,ee){var he=typeof ee=="string"?new RegExp(ee):ee;return _(_e(se,he)+_e(q,he))}function te(se,q,ee){return typeof ee=="string"&&(ee=new RegExp(ee)),re($(se,ee)+$(q,ee))}function b(se){var q={};function ee(he,oe){if(Object(he)!==he)q[oe]=he;else if(Array.isArray(he))for(var le=0,ie=he.length;le<ie;le++)ee(he[le],oe+"["+le+"]"),ie===0&&(q[oe]=[]);else{var Ae=!0;for(var ae in he)({}).hasOwnProperty.call(he,ae)&&(Ae=!1,ee(he[ae],oe?oe+"."+ae:ae));Ae&&oe&&(q[oe]={})}}return ee(se,""),q}function me(se){if(Object(se)!==se||Array.isArray(se))return se;var q=/\.?([^.[\]]+)|\[(\d+)]/g,ee={};for(var he in se)if({}.hasOwnProperty.call(se,he)){for(var oe=ee,le="",ie=q.exec(he);ie;)oe=oe[le]||(oe[le]=ie[2]?[]:{}),le=ie[2]||ie[1],ie=q.exec(he);oe[le]=se[he]}return ee[""]||ee}function j(se){if(Math.floor(se)===se||String(se).indexOf(".")<0)return 0;var q=se.toString().split(".")[1];return q.length||0}function g(se,q,ee){var he=20,oe="";oe+=se;for(var le=he-oe.length,ie=0;ie<le;ie++)oe+=" ";if(oe+=": ",ee){var Ae=70;oe+=ee,le=Ae-oe.length;for(var ae=0;ae<le;ae++)oe+=" "}return q&&(oe+=q),oe}function ne(se,q){return(se==null?void 0:se.match(q))!==null}},635:function(e,i,o){o.r(i),o.d(i,{__addDisposableResource:function(){return Fe},__assign:function(){return h},__asyncDelegator:function(){return ie},__asyncGenerator:function(){return le},__asyncValues:function(){return Ae},__await:function(){return oe},__awaiter:function(){return b},__classPrivateFieldGet:function(){return Re},__classPrivateFieldIn:function(){return Ce},__classPrivateFieldSet:function(){return Ne},__createBinding:function(){return j},__decorate:function(){return f},__disposeResources:function(){return xe},__esDecorate:function(){return _},__exportStar:function(){return g},__extends:function(){return c},__generator:function(){return me},__importDefault:function(){return Ie},__importStar:function(){return Pe},__makeTemplateObject:function(){return ae},__metadata:function(){return te},__param:function(){return re},__propKey:function(){return _e},__read:function(){return se},__rest:function(){return d},__runInitializers:function(){return $},__setFunctionName:function(){return ve},__spread:function(){return q},__spreadArray:function(){return he},__spreadArrays:function(){return ee},__values:function(){return ne}});var a=function(fe,Ee){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,de){ce.__proto__=de}||function(ce,de){for(var be in de)Object.prototype.hasOwnProperty.call(de,be)&&(ce[be]=de[be])},a(fe,Ee)};function c(fe,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Class extends value "+String(Ee)+" is not a constructor or null");a(fe,Ee);function ce(){this.constructor=fe}fe.prototype=Ee===null?Object.create(Ee):(ce.prototype=Ee.prototype,new ce)}var h=function(){return h=Object.assign||function(Ee){for(var ce,de=1,be=arguments.length;de<be;de++){ce=arguments[de];for(var ue in ce)Object.prototype.hasOwnProperty.call(ce,ue)&&(Ee[ue]=ce[ue])}return Ee},h.apply(this,arguments)};function d(fe,Ee){var ce={};for(var de in fe)Object.prototype.hasOwnProperty.call(fe,de)&&Ee.indexOf(de)<0&&(ce[de]=fe[de]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var be=0,de=Object.getOwnPropertySymbols(fe);be<de.length;be++)Ee.indexOf(de[be])<0&&Object.prototype.propertyIsEnumerable.call(fe,de[be])&&(ce[de[be]]=fe[de[be]]);return ce}function f(fe,Ee,ce,de){var be=arguments.length,ue=be<3?Ee:de===null?de=Object.getOwnPropertyDescriptor(Ee,ce):de,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(fe,Ee,ce,de);else for(var Se=fe.length-1;Se>=0;Se--)(m=fe[Se])&&(ue=(be<3?m(ue):be>3?m(Ee,ce,ue):m(Ee,ce))||ue);return be>3&&ue&&Object.defineProperty(Ee,ce,ue),ue}function re(fe,Ee){return function(ce,de){Ee(ce,de,fe)}}function _(fe,Ee,ce,de,be,ue){function m(Oe){if(Oe!==void 0&&typeof Oe!="function")throw new TypeError("Function expected");return Oe}for(var Se=de.kind,Te=Se==="getter"?"get":Se==="setter"?"set":"value",Me=!Ee&&fe?de.static?fe:fe.prototype:null,Le=Ee||(Me?Object.getOwnPropertyDescriptor(Me,de.name):{}),Ue,Xe=!1,Ve=ce.length-1;Ve>=0;Ve--){var Ke={};for(var ze in de)Ke[ze]=ze==="access"?{}:de[ze];for(var ze in de.access)Ke.access[ze]=de.access[ze];Ke.addInitializer=function(Oe){if(Xe)throw new TypeError("Cannot add initializers after decoration has completed");ue.push(m(Oe||null))};var Ge=(0,ce[Ve])(Se==="accessor"?{get:Le.get,set:Le.set}:Le[Te],Ke);if(Se==="accessor"){if(Ge===void 0)continue;if(Ge===null||typeof Ge!="object")throw new TypeError("Object expected");(Ue=m(Ge.get))&&(Le.get=Ue),(Ue=m(Ge.set))&&(Le.set=Ue),(Ue=m(Ge.init))&&be.unshift(Ue)}else(Ue=m(Ge))&&(Se==="field"?be.unshift(Ue):Le[Te]=Ue)}Me&&Object.defineProperty(Me,de.name,Le),Xe=!0}function $(fe,Ee,ce){for(var de=arguments.length>2,be=0;be<Ee.length;be++)ce=de?Ee[be].call(fe,ce):Ee[be].call(fe);return de?ce:void 0}function _e(fe){return typeof fe=="symbol"?fe:"".concat(fe)}function ve(fe,Ee,ce){return typeof Ee=="symbol"&&(Ee=Ee.description?"[".concat(Ee.description,"]"):""),Object.defineProperty(fe,"name",{configurable:!0,value:ce?"".concat(ce," ",Ee):Ee})}function te(fe,Ee){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(fe,Ee)}function b(fe,Ee,ce,de){function be(ue){return ue instanceof ce?ue:new ce(function(m){m(ue)})}return new(ce||(ce=Promise))(function(ue,m){function Se(Le){try{Me(de.next(Le))}catch(Ue){m(Ue)}}function Te(Le){try{Me(de.throw(Le))}catch(Ue){m(Ue)}}function Me(Le){Le.done?ue(Le.value):be(Le.value).then(Se,Te)}Me((de=de.apply(fe,Ee||[])).next())})}function me(fe,Ee){var ce={label:0,sent:function(){if(ue[0]&1)throw ue[1];return ue[1]},trys:[],ops:[]},de,be,ue,m=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return m.next=Se(0),m.throw=Se(1),m.return=Se(2),typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function Se(Me){return function(Le){return Te([Me,Le])}}function Te(Me){if(de)throw new TypeError("Generator is already executing.");for(;m&&(m=0,Me[0]&&(ce=0)),ce;)try{if(de=1,be&&(ue=Me[0]&2?be.return:Me[0]?be.throw||((ue=be.return)&&ue.call(be),0):be.next)&&!(ue=ue.call(be,Me[1])).done)return ue;switch(be=0,ue&&(Me=[Me[0]&2,ue.value]),Me[0]){case 0:case 1:ue=Me;break;case 4:return ce.label++,{value:Me[1],done:!1};case 5:ce.label++,be=Me[1],Me=[0];continue;case 7:Me=ce.ops.pop(),ce.trys.pop();continue;default:if(ue=ce.trys,!(ue=ue.length>0&&ue[ue.length-1])&&(Me[0]===6||Me[0]===2)){ce=0;continue}if(Me[0]===3&&(!ue||Me[1]>ue[0]&&Me[1]<ue[3])){ce.label=Me[1];break}if(Me[0]===6&&ce.label<ue[1]){ce.label=ue[1],ue=Me;break}if(ue&&ce.label<ue[2]){ce.label=ue[2],ce.ops.push(Me);break}ue[2]&&ce.ops.pop(),ce.trys.pop();continue}Me=Ee.call(fe,ce)}catch(Le){Me=[6,Le],be=0}finally{de=ue=0}if(Me[0]&5)throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}}var j=Object.create?function(fe,Ee,ce,de){de===void 0&&(de=ce);var be=Object.getOwnPropertyDescriptor(Ee,ce);(!be||("get"in be?!Ee.__esModule:be.writable||be.configurable))&&(be={enumerable:!0,get:function(){return Ee[ce]}}),Object.defineProperty(fe,de,be)}:function(fe,Ee,ce,de){de===void 0&&(de=ce),fe[de]=Ee[ce]};function g(fe,Ee){for(var ce in fe)ce!=="default"&&!Object.prototype.hasOwnProperty.call(Ee,ce)&&j(Ee,fe,ce)}function ne(fe){var Ee=typeof Symbol=="function"&&Symbol.iterator,ce=Ee&&fe[Ee],de=0;if(ce)return ce.call(fe);if(fe&&typeof fe.length=="number")return{next:function(){return fe&&de>=fe.length&&(fe=void 0),{value:fe&&fe[de++],done:!fe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(fe,Ee){var ce=typeof Symbol=="function"&&fe[Symbol.iterator];if(!ce)return fe;var de=ce.call(fe),be,ue=[],m;try{for(;(Ee===void 0||Ee-- >0)&&!(be=de.next()).done;)ue.push(be.value)}catch(Se){m={error:Se}}finally{try{be&&!be.done&&(ce=de.return)&&ce.call(de)}finally{if(m)throw m.error}}return ue}function q(){for(var fe=[],Ee=0;Ee<arguments.length;Ee++)fe=fe.concat(se(arguments[Ee]));return fe}function ee(){for(var fe=0,Ee=0,ce=arguments.length;Ee<ce;Ee++)fe+=arguments[Ee].length;for(var de=Array(fe),be=0,Ee=0;Ee<ce;Ee++)for(var ue=arguments[Ee],m=0,Se=ue.length;m<Se;m++,be++)de[be]=ue[m];return de}function he(fe,Ee,ce){if(ce||arguments.length===2)for(var de=0,be=Ee.length,ue;de<be;de++)(ue||!(de in Ee))&&(ue||(ue=Array.prototype.slice.call(Ee,0,de)),ue[de]=Ee[de]);return fe.concat(ue||Array.prototype.slice.call(Ee))}function oe(fe){return this instanceof oe?(this.v=fe,this):new oe(fe)}function le(fe,Ee,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de=ce.apply(fe,Ee||[]),be,ue=[];return be=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),Se("next"),Se("throw"),Se("return",m),be[Symbol.asyncIterator]=function(){return this},be;function m(Ve){return function(Ke){return Promise.resolve(Ke).then(Ve,Ue)}}function Se(Ve,Ke){de[Ve]&&(be[Ve]=function(ze){return new Promise(function(Ge,Oe){ue.push([Ve,ze,Ge,Oe])>1||Te(Ve,ze)})},Ke&&(be[Ve]=Ke(be[Ve])))}function Te(Ve,Ke){try{Me(de[Ve](Ke))}catch(ze){Xe(ue[0][3],ze)}}function Me(Ve){Ve.value instanceof oe?Promise.resolve(Ve.value.v).then(Le,Ue):Xe(ue[0][2],Ve)}function Le(Ve){Te("next",Ve)}function Ue(Ve){Te("throw",Ve)}function Xe(Ve,Ke){Ve(Ke),ue.shift(),ue.length&&Te(ue[0][0],ue[0][1])}}function ie(fe){var Ee,ce;return Ee={},de("next"),de("throw",function(be){throw be}),de("return"),Ee[Symbol.iterator]=function(){return this},Ee;function de(be,ue){Ee[be]=fe[be]?function(m){return(ce=!ce)?{value:oe(fe[be](m)),done:!1}:ue?ue(m):m}:ue}}function Ae(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee=fe[Symbol.asyncIterator],ce;return Ee?Ee.call(fe):(fe=typeof ne=="function"?ne(fe):fe[Symbol.iterator](),ce={},de("next"),de("throw"),de("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function de(ue){ce[ue]=fe[ue]&&function(m){return new Promise(function(Se,Te){m=fe[ue](m),be(Se,Te,m.done,m.value)})}}function be(ue,m,Se,Te){Promise.resolve(Te).then(function(Me){ue({value:Me,done:Se})},m)}}function ae(fe,Ee){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:Ee}):fe.raw=Ee,fe}var ye=Object.create?function(fe,Ee){Object.defineProperty(fe,"default",{enumerable:!0,value:Ee})}:function(fe,Ee){fe.default=Ee};function Pe(fe){if(fe&&fe.__esModule)return fe;var Ee={};if(fe!=null)for(var ce in fe)ce!=="default"&&Object.prototype.hasOwnProperty.call(fe,ce)&&j(Ee,fe,ce);return ye(Ee,fe),Ee}function Ie(fe){return fe&&fe.__esModule?fe:{default:fe}}function Re(fe,Ee,ce,de){if(ce==="a"&&!de)throw new TypeError("Private accessor was defined without a getter");if(typeof Ee=="function"?fe!==Ee||!de:!Ee.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ce==="m"?de:ce==="a"?de.call(fe):de?de.value:Ee.get(fe)}function Ne(fe,Ee,ce,de,be){if(de==="m")throw new TypeError("Private method is not writable");if(de==="a"&&!be)throw new TypeError("Private accessor was defined without a setter");if(typeof Ee=="function"?fe!==Ee||!be:!Ee.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return de==="a"?be.call(fe,ce):be?be.value=ce:Ee.set(fe,ce),ce}function Ce(fe,Ee){if(Ee===null||typeof Ee!="object"&&typeof Ee!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof fe=="function"?Ee===fe:fe.has(Ee)}function Fe(fe,Ee,ce){if(Ee!=null){if(typeof Ee!="object"&&typeof Ee!="function")throw new TypeError("Object expected.");var de,be;if(ce){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");de=Ee[Symbol.asyncDispose]}if(de===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");de=Ee[Symbol.dispose],ce&&(be=de)}if(typeof de!="function")throw new TypeError("Object not disposable.");be&&(de=function(){try{be.call(this)}catch(ue){return Promise.reject(ue)}}),fe.stack.push({value:Ee,dispose:de,async:ce})}else ce&&fe.stack.push({async:!0});return Ee}var we=typeof SuppressedError=="function"?SuppressedError:function(fe,Ee,ce){var de=new Error(ce);return de.name="SuppressedError",de.error=fe,de.suppressed=Ee,de};function xe(fe){function Ee(ue){fe.error=fe.hasError?new we(ue,fe.error,"An error was suppressed during disposal."):ue,fe.hasError=!0}var ce,de=0;function be(){for(;ce=fe.stack.pop();)try{if(!ce.async&&de===1)return de=0,fe.stack.push(ce),Promise.resolve().then(be);if(ce.dispose){var ue=ce.dispose.call(ce.value);if(ce.async)return de|=2,Promise.resolve(ue).then(be,function(m){return Ee(m),be()})}else de|=1}catch(m){Ee(m)}if(de===1)return fe.hasError?Promise.reject(fe.error):Promise.resolve();if(fe.hasError)throw fe.error}return be()}i.default={__extends:c,__assign:h,__rest:d,__decorate:f,__param:re,__metadata:te,__awaiter:b,__generator:me,__createBinding:j,__exportStar:g,__values:ne,__read:se,__spread:q,__spreadArrays:ee,__spreadArray:he,__await:oe,__asyncGenerator:le,__asyncDelegator:ie,__asyncValues:Ae,__makeTemplateObject:ae,__importStar:Pe,__importDefault:Ie,__classPrivateFieldGet:Re,__classPrivateFieldSet:Ne,__classPrivateFieldIn:Ce,__addDisposableResource:Fe,__disposeResources:xe}}},__webpack_module_cache__={};function __webpack_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}(function(){__webpack_require__.d=function(e,i){for(var o in i)__webpack_require__.o(i,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}})();(function(){__webpack_require__.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}})();(function(){__webpack_require__.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})();var __webpack_exports__={};__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{AICC:function(){return AICC},Scorm12API:function(){return Scorm12API},Scorm2004API:function(){return Scorm2004API}});var _AICC__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(916),_Scorm12API__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(941),_Scorm2004API__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(809),Scorm12API=_Scorm12API__WEBPACK_IMPORTED_MODULE_1__.Scorm12Impl,Scorm2004API=_Scorm2004API__WEBPACK_IMPORTED_MODULE_2__.Scorm2004Impl,AICC=_AICC__WEBPACK_IMPORTED_MODULE_0__.AICCImpl,__webpack_exports__AICC=__webpack_exports__.AICC,__webpack_exports__Scorm12API=__webpack_exports__.Scorm12API,__webpack_exports__Scorm2004API=__webpack_exports__.Scorm2004API;function styleInject(e,i){i===void 0&&(i={});var o=i.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",o==="top"&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}var css_248z=`.scorm-error {
  color: red;
}

.scorm-iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.scorm-loader {
  width: 48px;
  height: 48px;
  border: 3px solid #fff;
  border-bottom-color: grey;
  border-radius: 50%;
  display: inline-block;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
  margin: 0px auto !important;
}

@keyframes rotation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`;styleInject(css_248z);const ScormPreview=({uuid:e,apiUrl:i,serviceWorkerUrl:o="/service-worker-scorm.js",comunitate:a,onScormPost:c,onScormGet:h})=>{const[d,f]=reactExports.useState(!0),[re,_]=reactExports.useState(null),[$,_e]=reactExports.useState(null),ve=async()=>{if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported in this browser."),null;try{const g=await navigator.serviceWorker.register(o,{scope:"/"});return g.active?g:await new Promise(ne=>{var se;(se=g.installing||g.waiting)===null||se===void 0||se.addEventListener("statechange",()=>{ne(g)})})}catch(g){return console.error("SW registration failed:",g),null}},te=g=>{window.API=new __webpack_exports__Scorm12API(g),a&&c&&h&&(window.API.on("LMSSetValue.cmi.*",(ne,se)=>{c({cmi:{[ne]:se}})}),window.API.on("LMSGetValue.cmi.*",async ne=>{const se=await h(ne);window.API.LMSSetValue(ne,se)}),window.API.on("LMSCommit",()=>{c({cmi:window.API.cmi})}))},b=g=>{window.API_1484_11=new __webpack_exports__Scorm2004API(g),a&&c&&h&&(window.API_1484_11.on("SetValue.cmi.*",(ne,se)=>{c({cmi:{[ne]:se}})}),window.API_1484_11.on("GetValue.cmi.*",async ne=>{const se=await h(ne);window.API_1484_11.SetValue(ne,se)}),window.API_1484_11.on("Commit",()=>{c({cmi:window.API_1484_11.cmi})}))},me=g=>{window.API=new __webpack_exports__AICC(g)},j=async g=>{var ne;try{const se=await fetch(`${i}/api/scorm/show/${e}`);if(!se.ok)throw new Error("Failed to fetch SCORM settings");const{data:q}=await se.json();(await fetch(q.entry_url_zip,{method:"HEAD"})).ok||await fetch(`${i}/api/scorm/zip/${e}`),(ne=g.active)===null||ne===void 0||ne.postMessage(q.entry_url_zip),navigator.serviceWorker.addEventListener("message",he=>{const{scormObj:oe}=he.data;if(!oe)return;switch(console.log("SW scormObj:",oe),oe.version){case"2004":b(q);break;case"AICC":me(q);break;default:te(q)}const le=`${oe.PREFIX}/${q.entry_url}`;_(le),f(!1)},{once:!0})}catch(se){console.error(se),_e("Failed to load SCORM SCO"),f(!1)}};return reactExports.useEffect(()=>{(async()=>{f(!0),_e(null),_(null);const g=await ve();if(!g){_e("Service Worker registration failed."),f(!1);return}await j(g)})()},[e]),d?React.createElement("div",{className:"scorm-loader"}):$?React.createElement("div",{className:"scorm-serror"},$):re?React.createElement("iframe",{className:"scorm-iframe",src:re,title:"SCORM Content"}):null};export{API_1 as A,H5Player as H,ImagePlayer as I,OEmbedPlayer as O,PdfPlayer as P,ScormPreview as S,_default as _,AudioVideoPlayer as a,patterns as p,utils$1 as u};
//# sourceMappingURL=index.esm-_uWx-n9S.js.map
